<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>ç§‘å­¦ä¸Šç½‘macå®¢æˆ·ç«¯V2rayUä½¿ç”¨æŠ€å·§</title>
    <url>/2021/03/25/science-online-mac-client-v2rayu/</url>
    <content><![CDATA[<h4 id="V2rayU-ä»‹ç»"><a href="#V2rayU-ä»‹ç»" class="headerlink" title="V2rayU ä»‹ç»"></a>V2rayU ä»‹ç»</h4><p>V2rayU,åŸºäºv2rayæ ¸å¿ƒçš„macç‰ˆå®¢æˆ·ç«¯,ç”¨äºç§‘å­¦ä¸Šç½‘,ä½¿ç”¨swiftç¼–å†™,æ”¯æŒvmess,shadowsocks,socks5ç­‰æœåŠ¡åè®®,æ”¯æŒè®¢é˜…, æ”¯æŒäºŒç»´ç ,å‰ªè´´æ¿å¯¼å…¥,æ‰‹åŠ¨é…ç½®,äºŒç»´ç åˆ†äº«ç­‰</p>
<p>GitHub: <a href="https://github.com/yanue/V2rayU" target="_blank" rel="noopener">https://github.com/yanue/V2rayU</a></p>
<hr>
<h4 id="V2rayU-ä¸­å¦‚ä½•æ·»åŠ è‡ªå®šä¹‰è§„åˆ™"><a href="#V2rayU-ä¸­å¦‚ä½•æ·»åŠ è‡ªå®šä¹‰è§„åˆ™" class="headerlink" title="V2rayU ä¸­å¦‚ä½•æ·»åŠ è‡ªå®šä¹‰è§„åˆ™"></a>V2rayU ä¸­å¦‚ä½•æ·»åŠ è‡ªå®šä¹‰è§„åˆ™</h4><p>æ‰“å¼€ <code>åå¥½è®¾ç½®</code> â€“  <code>Pac</code> é€‰é¡¹ï¼Œåœ¨åº•éƒ¨ <code>å¡«å†™æ‰‹åŠ¨è§„åˆ™</code> è¾“å…¥æ¡†ä¸­è¾“å…¥åŸŸåï¼Œä¹‹åç‚¹å‡» <code>ä¿å­˜è®¾ç½®å¹¶ä»GFW List æ›´æ–°</code> æŒ‰é’®å³å¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">||github.com</span><br><span class="line">||fabric.io</span><br></pre></td></tr></table></figure>

<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210325103158.png" alt="20210325103158"></p>
<p>ä¸ªäººæ·»åŠ çš„è§„åˆ™ï¼Œä¼šè¢«ä¿å­˜åˆ°æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;Applications&#x2F;V2rayU.app&#x2F;Contents&#x2F;Resources&#x2F;pac&#x2F;user-rule.txt</span><br></pre></td></tr></table></figure>

<p>ä¿å­˜åç«‹å³ç”Ÿæ•ˆã€‚</p>
<p>ç›¸å…³ï¼š</p>
<ul>
<li><a href="https://github.com/yanue/V2rayU/issues/102" target="_blank" rel="noopener">å…³äºPacè®¾ç½®çš„é—®é¢˜</a></li>
<li><a href="https://github.com/yanue/V2rayU/issues/465" target="_blank" rel="noopener">https://github.com/yanue/V2rayU/issues/465</a></li>
</ul>
<hr>
<h4 id="V2rayU-å®ç°å±€åŸŸç½‘å…±äº«"><a href="#V2rayU-å®ç°å±€åŸŸç½‘å…±äº«" class="headerlink" title="V2rayU å®ç°å±€åŸŸç½‘å…±äº«"></a>V2rayU å®ç°å±€åŸŸç½‘å…±äº«</h4><p>æ‰“å¼€ <code>åå¥½è®¾ç½®</code> â€“ <code>Advance</code> é€‰é¡¹ï¼Œæ‰¾åˆ° <code>æœ¬æœºhttpç›‘å¬Host</code> é¡¹ï¼Œå°† <code>127.0.0.1</code> æ”¹æˆ <code>0.0.0.0</code> å°±å¯ä»¥äº†ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210325103057.png" alt="20210325103057"></p>
<p>ç›¸å…³ï¼š</p>
<ul>
<li><a href="https://github.com/v2ray/v2ray-core/issues/210" target="_blank" rel="noopener">https://github.com/v2ray/v2ray-core/issues/210</a></li>
</ul>
<hr>
<h4 id="V2rayU-å½»åº•å¸è½½æ–¹æ³•"><a href="#V2rayU-å½»åº•å¸è½½æ–¹æ³•" class="headerlink" title="V2rayU å½»åº•å¸è½½æ–¹æ³•"></a>V2rayU å½»åº•å¸è½½æ–¹æ³•</h4><p>å…³é”®åˆ†ä¸¤æ­¥ï¼š<code>åœæ­¢v2ray-core, ç„¶åå¸è½½V2rayU.app</code></p>
<p>ç¬¬ä¸€æ­¥: å¸è½½V2rayU.app</p>
<p>æ¨èä½¿ç”¨ <code>AppCleaner</code></p>
<p>ç¬¬äºŒæ­¥: å½»åº•åˆ é™¤ç›¸å…³æ–‡ä»¶åŠæœåŠ¡</p>
<p>å‘½ä»¤: </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd ~&#x2F;Library&#x2F;LaunchAgents&#x2F;</span><br><span class="line">&#x2F;bin&#x2F;launchctl remove yanue.v2rayu.v2ray-core</span><br><span class="line">&#x2F;bin&#x2F;launchctl remove yanue.v2rayu.http</span><br><span class="line"></span><br><span class="line">rm -f ~&#x2F;Library&#x2F;LaunchAgents&#x2F;yanue.v2rayu.v2ray-core.plist</span><br><span class="line">rm -f ~&#x2F;Library&#x2F;Preferences&#x2F;net.yanue.V2rayU.plist</span><br><span class="line">rm -f ~&#x2F;Library&#x2F;Logs&#x2F;V2rayU.log</span><br></pre></td></tr></table></figure>

<p>é‡ç‚¹:</p>
<p>ä¸»è¦æ˜¯ä½¿ç”¨ <code>launchctl</code> å‘½ä»¤åœæ­¢ <code>yanue.v2rayu.v2ray-core</code> æœåŠ¡(ä¼šè‡ªåŠ¨å¯åŠ¨)</p>
<p>ç›¸å…³ï¼š</p>
<ul>
<li><a href="https://github.com/yanue/V2rayU/issues/697" target="_blank" rel="noopener">https://github.com/yanue/V2rayU/issues/697</a></li>
</ul>
<hr>
<h4 id="V2rayU-æ— æ³•è”ç½‘"><a href="#V2rayU-æ— æ³•è”ç½‘" class="headerlink" title="V2rayU æ— æ³•è”ç½‘"></a>V2rayU æ— æ³•è”ç½‘</h4><p>æŸäº›æƒ…å†µä¸‹ï¼Œåœ¨é¦–æ¬¡å®‰è£…å®Œ <code>V2RayU</code> ä¹‹åï¼Œä¼šå‘ç°æ— è®ºæ˜¯ <code>Pacæ¨¡å¼</code> è¿˜æ˜¯ <code>å…¨å±€æ¨¡å¼</code> ï¼Œéƒ½æ— æ³•è”ç½‘ã€‚</p>
<p>å‡ºç°è¿™ç§é—®é¢˜çš„ä¸€ç§æƒ…å†µæ˜¯ï¼š<strong>é»˜è®¤çš„ç«¯å£ <code>1087</code> è¢«å…¶ä»–FQè½¯ä»¶å ç”¨äº†</strong>ã€‚</p>
<p>å¯ä»¥é€šè¿‡ <code>æŸ¥çœ‹v2rayæ—¥å¿—</code> é€‰é¡¹æŸ¥çœ‹å…·ä½“é”™è¯¯åŸå› å¹¶è§£å†³ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210514175657.png" alt="20210514175657"></p>
<p>å½“ç„¶ï¼Œå¯¹äºç«¯å£è¢«å ç”¨çš„é—®é¢˜ï¼Œå¦‚æœæ— æ³•æ‰¾åˆ°å…·ä½“æ˜¯è¢«å“ªä¸ªè½¯ä»¶å ç”¨äº†ï¼Œæœ€ç®€å•çš„è§£å†³æ–¹æ³•å°±æ˜¯ç›´æ¥ä¿®æ”¹ <code>V2RayU</code> çš„é»˜è®¤ç«¯å£ä¸ºå…¶ä»–å³å¯ã€‚</p>
<hr>
<h4 id="å…³äºv3-0æ­£å¼ç‰ˆ"><a href="#å…³äºv3-0æ­£å¼ç‰ˆ" class="headerlink" title="å…³äºv3.0æ­£å¼ç‰ˆ"></a>å…³äºv3.0æ­£å¼ç‰ˆ</h4><p><code>Updated: 2021-05-09</code></p>
<p>æœ€è¿‘çœ‹åˆ°V2rayUçš„ github issues ä¸Šæœ‰å¥½å¤šæŠ¥ <code>3.0æ­£å¼ç‰ˆ</code> æœ‰é—®é¢˜çš„ï¼Œå»ºè®®å…ˆä¸è¦å‡çº§ä½¿ç”¨ã€‚</p>
<p>è¿™é‡Œçš„ <code>3.0æ­£å¼ç‰ˆ</code> å¯¹åº”çš„tagæ˜¯ <code>3.0.3</code> ã€‚</p>
<p>æˆ‘ç›®å‰ä½¿ç”¨çš„æ˜¯ <code>3.0é¢„è§ˆç‰ˆ</code> ï¼Œå¯¹åº”çš„tagæ˜¯ <code>3.0.0.preview</code> ã€‚å¹³æ—¶ä½¿ç”¨ä¸Šæ²¡æœ‰é—®é¢˜ï¼ŒåŠŸèƒ½æ­£å¸¸ã€‚</p>
<hr>
]]></content>
      <categories>
        <category>Proxy</category>
      </categories>
      <tags>
        <tag>Shadowsocks</tag>
      </tags>
  </entry>
  <entry>
    <title>Homebrewä¸‹è½½åŠ é€Ÿ</title>
    <url>/2022/11/10/homebrew-install-speed-up/</url>
    <content><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p><code>Homebrew</code> æ˜¯ macOS ä¸ŠçŸ¥åçš„è½¯ä»¶åŒ…ç®¡ç†å·¥å…·ã€‚ä½†æˆ‘å¹³æ—¶å´å¾ˆå°‘ä¼šç”¨åˆ°ã€‚ç©¶å…¶åŸå› ï¼Œä¸»è¦è¿˜æ˜¯ç”±äº <code>ä¼—æ‰€å‘¨çŸ¥</code> çš„åŸå› ï¼Œåœ¨å›½å†…é€šè¿‡ <code>homebrew</code> å‘½ä»¤å®‰è£…è½¯ä»¶æ—¶æ€»æ˜¯å‡ºç° <code>timeout</code> çš„æƒ…å†µã€‚</p>
<p>æœ€è¿‘æ‰“ç®—å†åˆ›å»ºä¸€ä¸ªä¸ªäººåšå®¢ã€‚æˆ‘ä¹‹å‰çš„åšå®¢é‡‡ç”¨ <code>hexo</code> æ­å»ºï¼Œéœ€è¦é…ç½®nodejså¼€å‘ç¯å¢ƒï¼Œè€Œé¡¹ç›®ç›®å½•ä¸‹çš„ <code>node_modules</code> ç›®å½•å…¶å®æŒºè®©äººæ„Ÿè§‰æ— å¥ˆçš„ã€‚</p>
<p>åæ¥äº†è§£åˆ°ç”¨goå¼€å‘çš„ä¸€æ¬¾é™æ€åšå®¢å·¥å…· <code>hugo</code> ï¼Œå®‰è£…ç®€å•ï¼Œéƒ¨ç½²æ–¹ä¾¿ã€‚æ‰€ä»¥æ‰“ç®—å°è¯•ä¸€ä¸‹ã€‚</p>
<p>ä½†æ²¡æƒ³åˆ°ç¬¬ä¸€æ­¥å°±é‡åˆ°äº†é—®é¢˜ã€‚</p>
<p>æˆ‘é€šè¿‡ <code>homebrew</code> å®‰è£… <code>hugo</code> æ—¶ï¼Œç›´æ¥å°±å®‰è£…å¤±è´¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ brew install hugo</span><br><span class="line">Updating Homebrew...</span><br><span class="line">^[^C&#x3D;&#x3D;&gt; Downloading https:&#x2F;&#x2F;homebrew.bintray.com&#x2F;bottles&#x2F;hugo-0.82.0.big_sur.bottle.</span><br><span class="line">Warning: Transient problem: HTTP error Will retry in 1 seconds. 3 retries</span><br><span class="line">Warning: left.</span><br><span class="line">Warning: Transient problem: HTTP error Will retry in 2 seconds. 2 retries</span><br><span class="line">Warning: left.</span><br><span class="line">Warning: Transient problem: HTTP error Will retry in 4 seconds. 1 retries</span><br><span class="line">Warning: left.</span><br><span class="line">-&#x3D;O&#x3D;-              #    #     #     #</span><br><span class="line">curl: (22) The requested URL returned error: 502 Bad Gateway</span><br><span class="line">Error: Failed to download resource &quot;hugo&quot;</span><br><span class="line">Download failed: https:&#x2F;&#x2F;homebrew.bintray.com&#x2F;bottles&#x2F;hugo-0.82.0.big_sur.bottle.tar.gz</span><br></pre></td></tr></table></figure>

<p>ç”±äºæˆ‘Macç”µè„‘ä¸Šå®‰è£…çš„ homebrewç¨‹åºç‰ˆæœ¬æ¯”è¾ƒä½ï¼Œæ‰€ä»¥æ¯æ¬¡å®‰è£…è½¯ä»¶æ—¶éƒ½ä¼šæç¤ºæ›´æ–°ï¼Œç„¶åç­‰å¾…å¾ˆé•¿æ—¶é—´ã€‚å‚ç…§ç½‘ä¸Šçš„æ•™ç¨‹ï¼Œé€šè¿‡ <code>Ctrl+C</code> å‘½ä»¤å–æ¶ˆå®ƒçš„è‡ªåŠ¨æ£€æµ‹æ›´æ–°æ“ä½œï¼Œä½†è¿™å¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨ï¼Œæœ€ç»ˆè¿˜æ˜¯ä¼šå®‰è£…å¤±è´¥ã€‚</p>
<hr>
<h3 id="é…ç½®åŠ é€Ÿ"><a href="#é…ç½®åŠ é€Ÿ" class="headerlink" title="é…ç½®åŠ é€Ÿ"></a>é…ç½®åŠ é€Ÿ</h3><p>è§£å†³ <code>homebrew</code> å›½å†…ä¸‹è½½æ…¢çš„é—®é¢˜ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯æ›´æ¢å›½å†…çš„é•œåƒæºã€‚</p>
<h4 id="æŸ¥çœ‹é…ç½®"><a href="#æŸ¥çœ‹é…ç½®" class="headerlink" title="æŸ¥çœ‹é…ç½®"></a>æŸ¥çœ‹é…ç½®</h4><p>é¦–å…ˆæŸ¥çœ‹ <code>homebrew</code> å½“å‰çš„é…ç½®ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ brew config</span><br><span class="line">HOMEBREW_VERSION: 3.0.9</span><br><span class="line">ORIGIN: https:&#x2F;&#x2F;github.com&#x2F;Homebrew&#x2F;brew</span><br><span class="line">HEAD: ed87211daa83982a6136e14d181a1550b46a0f17</span><br><span class="line">Last commit: 1 year, 7 months ago</span><br><span class="line">Core tap ORIGIN: https:&#x2F;&#x2F;github.com&#x2F;Homebrew&#x2F;homebrew-core</span><br><span class="line">Core tap HEAD: 3be1dcad062cfe1639b9eea8c8bc1d27c45aacfa</span><br><span class="line">Core tap last commit: 1 year, 7 months ago</span><br><span class="line">Core tap branch: master</span><br><span class="line">HOMEBREW_PREFIX: &#x2F;usr&#x2F;local</span><br><span class="line">HOMEBREW_CASK_OPTS: []</span><br><span class="line">HOMEBREW_MAKE_JOBS: 8</span><br><span class="line">Homebrew Ruby: 2.6.3 &#x3D;&gt; &#x2F;usr&#x2F;local&#x2F;Homebrew&#x2F;Library&#x2F;Homebrew&#x2F;vendor&#x2F;portable-ruby&#x2F;2.6.3_2&#x2F;bin&#x2F;ruby</span><br><span class="line">CPU: octa-core 64-bit haswell</span><br><span class="line">Clang: 12.0 build 1200</span><br><span class="line">Git: 2.33.0 &#x3D;&gt; &#x2F;usr&#x2F;local&#x2F;bin&#x2F;git</span><br><span class="line">Curl: 7.64.1 &#x3D;&gt; &#x2F;usr&#x2F;bin&#x2F;curl</span><br><span class="line">macOS: 11.4-x86_64</span><br><span class="line">CLT: 1103.0.32.62</span><br><span class="line">Xcode: 12.4</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ° <code>homebrew</code> çš„ç‰ˆæœ¬å·²ç»å¾ˆè€äº†ã€‚</p>
<h4 id="æ›´æ¢é•œåƒæº"><a href="#æ›´æ¢é•œåƒæº" class="headerlink" title="æ›´æ¢é•œåƒæº"></a>æ›´æ¢é•œåƒæº</h4><p>æ‰§è¡Œbrewå‘½ä»¤å®‰è£…åº”ç”¨çš„æ—¶å€™ï¼Œè·Ÿä»¥ä¸‹3ä¸ªä»“åº“åœ°å€æœ‰å…³ï¼š</p>
<ul>
<li>brew.git</li>
<li>homebrew-core.git</li>
<li>homebrew-bottles</li>
</ul>
<p>ç›®å‰å›½å†…é•œåƒæºæ¨èä½¿ç”¨çš„æœ‰ä»¥ä¸‹ä¸¤ç§ï¼š</p>
<p>ä¸­ç§‘å¤§é•œåƒç«™ ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;brew.git</span><br><span class="line"></span><br><span class="line">https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;homebrew-core.git</span><br><span class="line"></span><br><span class="line">https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;homebrew-bottles</span><br></pre></td></tr></table></figure>

<p>æ¸…åå¤§å­¦é•œåƒç«™ ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;git&#x2F;homebrew&#x2F;brew.git</span><br><span class="line"></span><br><span class="line">https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;git&#x2F;homebrew&#x2F;homebrew-core.git</span><br><span class="line"></span><br><span class="line">https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;homebrew-bottles</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæˆ‘ä½¿ç”¨çš„ <code>æ¸…åå¤§å­¦é•œåƒ</code> ï¼Œåˆ†åˆ«æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤è¿›è¡Œæ›¿æ¢ã€‚</p>
<p>æ›´æ¢ <code>brew.git</code> :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git -C &quot;$(brew --repo)&quot; remote set-url origin https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;git&#x2F;homebrew&#x2F;brew.git</span><br></pre></td></tr></table></figure>

<p>æ›´æ¢ <code>homebrew-core.git</code> ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git -C &quot;$(brew --repo homebrew&#x2F;core)&quot; remote set-url origin https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;git&#x2F;homebrew&#x2F;homebrew-core.git</span><br></pre></td></tr></table></figure>

<p>ç„¶åæ‰§è¡Œæ›´æ–°å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">brew update</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œéœ€è¦ä¸€äº›æ—¶é—´ï¼Œç­‰å¾…å…¶æ›´æ–°ã€‚</p>
<p>å®Œæˆåå†æ¬¡é€šè¿‡ <code>brew config</code> å‘½ä»¤æŸ¥çœ‹é…ç½®ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ brew config</span><br><span class="line">HOMEBREW_VERSION: 3.6.8</span><br><span class="line">ORIGIN: https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;git&#x2F;homebrew&#x2F;brew.git</span><br><span class="line">HEAD: fa2649dde786208da7d151a89bcafdd23a453f4d</span><br><span class="line">Last commit: 6 days ago</span><br><span class="line">Core tap ORIGIN: https:&#x2F;&#x2F;github.com&#x2F;Homebrew&#x2F;homebrew-core</span><br><span class="line">Core tap HEAD: 1bcaa928a1ca0dd2ae12167d5b6a917acc63d8c4</span><br><span class="line">Core tap last commit: 2 hours ago</span><br><span class="line">Core tap branch: master</span><br><span class="line">HOMEBREW_PREFIX: &#x2F;usr&#x2F;local</span><br><span class="line">HOMEBREW_CASK_OPTS: []</span><br><span class="line">HOMEBREW_MAKE_JOBS: 8</span><br><span class="line">Homebrew Ruby: 2.6.8 &#x3D;&gt; &#x2F;usr&#x2F;local&#x2F;Homebrew&#x2F;Library&#x2F;Homebrew&#x2F;vendor&#x2F;portable-ruby&#x2F;2.6.8_1&#x2F;bin&#x2F;ruby</span><br><span class="line">CPU: octa-core 64-bit haswell</span><br><span class="line">Clang: 12.0.0 build 1200</span><br><span class="line">Git: 2.33.0 &#x3D;&gt; &#x2F;usr&#x2F;local&#x2F;bin&#x2F;git</span><br><span class="line">Curl: 7.64.1 &#x3D;&gt; &#x2F;usr&#x2F;bin&#x2F;curl</span><br><span class="line">macOS: 11.4-x86_64</span><br><span class="line">CLT: 11.3.0.32.62</span><br><span class="line">Xcode: 12.4</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ° å…¶ä¸­çš„ <code>ORIGIN</code> åœ°å€å·²ç»æ›´æ”¹ï¼Œ<code>version</code> ä¹Ÿå·²ç»æ›´æ–°åˆ°æœ€æ–°ã€‚</p>
<h4 id="æ›´æ¢-homebrew-bottles"><a href="#æ›´æ¢-homebrew-bottles" class="headerlink" title="æ›´æ¢ homebrew-bottles"></a>æ›´æ¢ homebrew-bottles</h4><p><code>bottles</code> ä¸»è¦æ˜¯æ¶‰åŠäºŒè¿›åˆ¶æ–‡ä»¶ä¸‹è½½çš„é…ç½®ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦åœ¨å½“å‰shellé…ç½®ä¸­æ·»åŠ  <code>HOMEBREW_BOTTLE_DOMAIN</code> å‚æ•°æ¥è¿›è¡ŒæŒ‡å®šã€‚</p>
<p>æŸ¥çœ‹å½“å‰macOSç³»ç»Ÿä¸­ä½¿ç”¨çš„ç»ˆç«¯shellï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">echo $SHELL</span><br></pre></td></tr></table></figure>

<p>ä¸€èˆ¬æƒ…å†µä¸‹è¾“å‡ºä¸º <code>/bin/bash</code>ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯ <code>zsh</code> ï¼Œè¾“å‡ºçš„å°±æ˜¯ <code>/bin/zsh</code> ã€‚</p>
<p>åœ¨shellç›¸åº”çš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹å‘½ä»¤ :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export HOMEBREW_BOTTLE_DOMAIN&#x3D;https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;homebrew-bottles</span><br></pre></td></tr></table></figure>


<p>ä¹Ÿå¯ä»¥ç›´æ¥åœ¨ç»ˆç«¯æ‰§è¡Œæ·»åŠ å‘½ä»¤ï¼š</p>
<p><code>/bin/bash</code> </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">echo &#39;export HOMEBREW_BOTTLE_DOMAIN&#x3D;https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;homebrew-bottles&#39; &gt;&gt; ~&#x2F;.bash_profile</span><br><span class="line"></span><br><span class="line">source ~&#x2F;.bash_profile</span><br></pre></td></tr></table></figure>

<p><code>/bin/zsh</code> </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">echo &#39;export HOMEBREW_BOTTLE_DOMAIN&#x3D;https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;homebrew-bottles&#39; &gt;&gt; ~&#x2F;.zshrc</span><br><span class="line"></span><br><span class="line">source ~&#x2F;.zshrc</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œè¦æé†’ä¸è¦å¿˜è®°åˆ·æ–°é…ç½®ä½¿å…¶ç”Ÿæ•ˆã€‚</p>
<p>ä¹‹åï¼Œå°±å¯ä»¥å°½æƒ…çš„é€šè¿‡ <code>brew install</code> å®‰è£…è½¯ä»¶äº†ã€‚</p>
<h4 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h4><p>ç»§ç»­ä¸Šé¢æœªå®Œæˆçš„å®‰è£…æ“ä½œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ brew install hugo</span><br><span class="line">&#x3D;&#x3D;&gt; Downloading https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;homebrew-bottles&#x2F;hugo-0.105.0.big_sur.bottle.tar.gz</span><br><span class="line">######################################################################## 100.0%</span><br><span class="line">&#x3D;&#x3D;&gt; Pouring hugo-0.105.0.big_sur.bottle.tar.gz</span><br><span class="line">&#x3D;&#x3D;&gt; Caveats</span><br><span class="line">zsh completions have been installed to:</span><br><span class="line">  &#x2F;usr&#x2F;local&#x2F;share&#x2F;zsh&#x2F;site-functions</span><br><span class="line">&#x3D;&#x3D;&gt; Summary</span><br><span class="line">ğŸº  &#x2F;usr&#x2F;local&#x2F;Cellar&#x2F;hugo&#x2F;0.105.0: 48 files, 57.8MB</span><br><span class="line">&#x3D;&#x3D;&gt; Running &#96;brew cleanup hugo&#96;...</span><br><span class="line">Disable this behaviour by setting HOMEBREW_NO_INSTALL_CLEANUP.</span><br><span class="line">Hide these hints with HOMEBREW_NO_ENV_HINTS (see &#96;man brew&#96;).</span><br><span class="line">&#x3D;&#x3D;&gt; &#96;brew cleanup&#96; has not been run in the last 30 days, running now...</span><br><span class="line">Disable this behaviour by setting HOMEBREW_NO_INSTALL_CLEANUP.</span><br><span class="line">Hide these hints with HOMEBREW_NO_ENV_HINTS (see &#96;man brew&#96;).</span><br></pre></td></tr></table></figure>

<p>åŸºæœ¬ä¸Šæ²¡æœ‰å¡é¡¿ï¼Œè½¯ä»¶å®‰è£…çš„éå¸¸é¡ºåˆ©ã€‚</p>
<p>éªŒè¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ hugo version</span><br><span class="line">hugo v0.105.0+extended darwin&#x2F;amd64 BuildDate&#x3D;unknown</span><br></pre></td></tr></table></figure>


<hr>
<h3 id="æ¢å¤é»˜è®¤é…ç½®"><a href="#æ¢å¤é»˜è®¤é…ç½®" class="headerlink" title="æ¢å¤é»˜è®¤é…ç½®"></a>æ¢å¤é»˜è®¤é…ç½®</h3><p>æŸäº›æƒ…å†µä¸‹å¯èƒ½éœ€è¦ä½¿ç”¨ <code>homebrew</code> çš„é»˜è®¤é…ç½®ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤æ¥æ¢å¤ã€‚</p>
<h4 id="ç¬¬ä¸€æ­¥"><a href="#ç¬¬ä¸€æ­¥" class="headerlink" title="ç¬¬ä¸€æ­¥"></a>ç¬¬ä¸€æ­¥</h4><p>é‡ç½® <code>brew.git</code> å’Œ <code>homebrew-core.git</code> :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git -C &quot;$(brew --repo)&quot; remote set-url origin https:&#x2F;&#x2F;github.com&#x2F;Homebrew&#x2F;brew.git</span><br><span class="line"></span><br><span class="line">git -C &quot;$(brew --repo homebrew&#x2F;core)&quot; remote set-url origin https:&#x2F;&#x2F;github.com&#x2F;Homebrew&#x2F;homebrew-core.git</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œæ›´æ–°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">brew update</span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬äºŒæ­¥"><a href="#ç¬¬äºŒæ­¥" class="headerlink" title="ç¬¬äºŒæ­¥"></a>ç¬¬äºŒæ­¥</h4><p>ç§»é™¤ç»ˆç«¯é…ç½®æ–‡ä»¶ä¸­çš„ <code>HOMEBREW_BOTTLE_DOMAIN</code> ç¯å¢ƒå˜é‡ï¼Œç„¶åæ‰§è¡Œ <code>source ~/.bash_profile</code>  æˆ– <code>source ~/.zshrc</code> ä½¿å…¶ç”Ÿæ•ˆã€‚</p>
<hr>
<h3 id="git-C-é‡Šæ„"><a href="#git-C-é‡Šæ„" class="headerlink" title="git -C é‡Šæ„"></a><code>git -C</code> é‡Šæ„</h3><p>æœ‰çš„æœ‹å‹çœ‹åˆ°ä¸Šé¢æ‰§è¡Œçš„å‘½ä»¤ä¸­ <code>git -C &quot;$(brew --repo)&quot;</code> å¯èƒ½æ„Ÿè§‰æœ‰äº›é™Œç”Ÿï¼Œå¦å¤–è¿˜æœ‰æœ‹å‹å‘Šè¯‰æˆ‘å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd &quot;$(brew --repo)&quot;</span><br><span class="line">git remote set-url origin https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;git&#x2F;homebrew&#x2F;brew.git</span><br><span class="line"></span><br><span class="line">cd &quot;$(brew --repo)&#x2F;Library&#x2F;Taps&#x2F;homebrew&#x2F;homebrew-core&quot;</span><br><span class="line">git remote set-url origin https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;git&#x2F;homebrew&#x2F;homebrew-core.git</span><br></pre></td></tr></table></figure>

<p>å…¶å®è¿™ä¸¤ç§å†™æ³•æœ€åçš„æ‰§è¡Œç»“æœæ˜¯ä¸€æ ·çš„ã€‚åªæ˜¯å†™æ³•ä¸åŒï¼Œç›¸æ¯”ä¹‹ä¸‹æˆ‘ä½¿ç”¨çš„å‘½ä»¤è¦æ›´ç®€ä¾¿ä¸€äº›ã€‚</p>
<hr>
]]></content>
      <categories>
        <category>å·¥å…·æŠ€å·§</category>
      </categories>
      <tags>
        <tag>Mac</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¢ç©¶gitå¦‚ä½•ä»å†å²æäº¤è®°å½•ä¸­ç§»é™¤å¤§æ–‡ä»¶</title>
    <url>/2022/11/08/git-remove-large-files-from-commit-history/</url>
    <content><![CDATA[<h3 id="èµ·å› "><a href="#èµ·å› " class="headerlink" title="èµ·å› "></a>èµ·å› </h3><p>é¡¹ç›®ä¸­ä½¿ç”¨åˆ°äº†IPç¦»çº¿æ•°æ®åº“ <code>GeoLite2-City.mmdb</code>ï¼Œç»“æœåœ¨gitæäº¤æ—¶å°±ç›´æ¥æŠŠè¯¥æ–‡ä»¶ç»™æäº¤äº†ã€‚</p>
<p>ç„¶å <code>commit</code> å‘½ä»¤å¼¹å‡ºäº†ä¸‹é¢çš„è­¦å‘Šä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Compressing objects: 100% (125&#x2F;125), done.</span><br><span class="line">Writing objects: 100% (152&#x2F;152), 32.12 MiB | 378.00 KiB&#x2F;s, done.</span><br><span class="line">Total 152 (delta 62), reused 0 (delta 0), pack-reused 0</span><br><span class="line">remote: Resolving deltas: 100% (62&#x2F;62), completed with 20 local objects.</span><br><span class="line">remote: warning: See http:&#x2F;&#x2F;git.io&#x2F;iEPt8g for more information.</span><br><span class="line">remote: warning: File files&#x2F;GeoLite2-City.mmdb is 66.64 MB; this is larger than GitHub&#39;s recommended maximum file size of 50.00 MB</span><br><span class="line">remote: warning: GH001: Large files detected. You may want to try Git Large File Storage - https:&#x2F;&#x2F;git-lfs.github.com.</span><br></pre></td></tr></table></figure>


<p>åæ¥æƒ³æƒ³å…¶å®è¿™ä¸ªæ–‡ä»¶å¹¶ä¸éœ€è¦é€šè¿‡gitç®¡ç†ï¼Œåªéœ€è¦åœ¨é¡¹ç›®éƒ¨ç½²æ—¶å°†å…¶æ‹·è´åˆ°æœåŠ¡å™¨ä¸Šçš„ç›¸åº”ç›®å½•å°±å¯ä»¥äº†ã€‚</p>
<p>æœ€é‡è¦çš„ä¸€ç‚¹å°±æ˜¯å¯ä»¥å‡å°‘gitä»“åº“çš„å¤§å°ã€‚</p>
<p>ä½†æƒ³è¦å›æ»šå›å»è¿˜é¢ä¸´ä¸€ä¸ªé—®é¢˜ï¼šä¹Ÿå°±æ˜¯æˆ‘åœ¨è¿™æ¬¡ <code>commit</code> ä¹‹ååˆè¿›è¡Œå¤šæ¬¡ <code>commit</code> ã€‚</p>
<p>ä¸»è¦æ˜¯å½“æ—¶çœ‹åˆ°ä¸Šé¢çš„è­¦å‘Šæç¤ºå¹¶æ²¡æœ‰å¤ªåœ¨æ„ï¼Œåæ¥æäº¤è¿‡å‡ æ¬¡åå‘ç°æ•´ä¸ªé¡¹ç›®çš„ä»£ç æ‰å‡ ç™¾KBï¼Œè€Œè¿™ä¸€ä¸ªæ–‡ä»¶å°±60å¤šMBï¼Œè€Œä¸”æ‹‰å–ä»“åº“è¿˜å¾ˆæ…¢ã€‚äºæ˜¯å°±åçŸ¥åè§‰çš„æƒ³è¦æŠŠå®ƒåˆ é™¤ã€‚</p>
<hr>
<h3 id="å¦‚ä½•è§£å†³"><a href="#å¦‚ä½•è§£å†³" class="headerlink" title="å¦‚ä½•è§£å†³"></a>å¦‚ä½•è§£å†³</h3><p>å¯ä»¥é€šè¿‡ <code>count-objects</code> å‘½ä»¤æŸ¥çœ‹å½“å‰gité¡¹ç›®å ç”¨çš„å¤§å°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ git count-objects -v</span><br><span class="line">count: 1047</span><br><span class="line">size: 39168</span><br><span class="line">in-pack: 0</span><br><span class="line">packs: 0</span><br><span class="line">size-pack: 0</span><br><span class="line">prune-packable: 0</span><br><span class="line">garbage: 0</span><br><span class="line">size-garbage: 0</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼Œ<code>size</code> å¤§å°æ˜¯ <code>KB</code>ï¼Œæ‰€ä»¥æ•´ä¸ªé¡¹ç›®å¤§çº¦æœ‰ <code>38MB</code> å·¦å³ã€‚</p>
<h4 id="ç§»é™¤æ–‡ä»¶è·Ÿè¸ª"><a href="#ç§»é™¤æ–‡ä»¶è·Ÿè¸ª" class="headerlink" title="ç§»é™¤æ–‡ä»¶è·Ÿè¸ª"></a>ç§»é™¤æ–‡ä»¶è·Ÿè¸ª</h4><p>å‘ç°æäº¤é—®é¢˜åï¼Œæˆ‘å°±é¦–å…ˆé€šè¿‡ <code>git rm</code> å‘½ä»¤ç§»é™¤äº†å¯¹è¯¥å¤§æ–‡ä»¶çš„è·Ÿè¸ªï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ git rm --cached -r files&#x2F;</span><br><span class="line">rm &#39;files&#x2F;GeoLite2-City.mmdb&#39;</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨ <code>.gitignore</code> æ–‡ä»¶ä¸­æ·»åŠ ç›®å½•æ’é™¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># .gitingore</span><br><span class="line"></span><br><span class="line">files&#x2F;</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºè¯¥å¤§æ–‡ä»¶ç›´æ¥å­˜æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ <code>files</code> ç›®å½•ä¸‹ï¼Œè€ƒè™‘åˆ°è¯¥ç›®å½•ä»…ç”¨ä½œå­˜æ”¾ç±»ä¼¼çš„å¤–éƒ¨å¼•ç”¨æ–‡ä»¶ï¼Œæ‰€ä»¥è¿™é‡Œå°±ç›´æ¥å¯¹è¯¥ç›®å½•åšäº†æ’é™¤å¤„ç†ã€‚</p>
<hr>
<h4 id="ç§»é™¤å†å²è®°å½•"><a href="#ç§»é™¤å†å²è®°å½•" class="headerlink" title="ç§»é™¤å†å²è®°å½•"></a>ç§»é™¤å†å²è®°å½•</h4><p>è™½ç„¶ä¸Šé¢å·²ç»å°†è¯¥å¤§æ–‡ä»¶ç§»é™¤äº†gitè·Ÿè¸ªï¼Œä½†æ˜¯ç”±äºä¹‹å‰å·²ç»æ‰§è¡Œè¿‡ <code>commit</code> å‘½ä»¤ï¼Œè¯¥å¤§æ–‡ä»¶ä¹Ÿå°±å­˜åœ¨äºgitçš„å†å²æäº¤è®°å½•ä¸­ï¼Œé‚£ä¹ˆå…¶æ‰€å çš„ç©ºé—´å¤§å°å¹¶ä¸ä¼šéšä¹‹å‡å°‘ã€‚</p>
<p>åæ¥æœç´¢åˆ°gitä¸­æœ‰ä¸€ä¸ª <code>filter-branch</code> å‘½ä»¤ï¼Œå¯ä»¥ç”¨æ¥æ›´æ”¹æäº¤è®°å½•ã€‚</p>
<h4 id="æ‰¾å‡ºè¦æ¸…ç†çš„å¤§æ–‡ä»¶"><a href="#æ‰¾å‡ºè¦æ¸…ç†çš„å¤§æ–‡ä»¶" class="headerlink" title="æ‰¾å‡ºè¦æ¸…ç†çš„å¤§æ–‡ä»¶"></a>æ‰¾å‡ºè¦æ¸…ç†çš„å¤§æ–‡ä»¶</h4><p>é€šè¿‡å¦‚ä¸‹å‘½ä»¤æ‰¾å‡ºå¤§å°æ’åå‰5çš„æäº¤è®°å½•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git verify-pack -v .git&#x2F;objects&#x2F;pack&#x2F;pack-*.idx | sort -k 3 -g | tail -5</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git verify-pack -v .git&#x2F;objects&#x2F;pack&#x2F;pack-*.idx | sort -k 3 -g | tail -5</span><br><span class="line">f1fa258c4de231d60dd34bfe086cb1fd9bdfeffe blob   6729 1973 168915</span><br><span class="line">a3b8064f46bfc68a8cd4a23c9e4d07e8512f498e blob   9196 1837 153011</span><br><span class="line">fb6959274ac0df12ba5ca20efacb06ba902b37d8 blob   22021 3110 147510</span><br><span class="line">e585637c26cb4b5bb1b21f95045e5f2ce845848b blob   96767 36508 108212</span><br><span class="line">0482b283b80efeb1ab0549132fead647f7b9b9e7 blob   69875685 33652834 178184</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹è¯¥æäº¤åŒ…å«çš„æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git rev-list --objects --all | grep 0482b283b80efeb1ab0549132fead647f7b9b9e7</span><br><span class="line">0482b283b80efeb1ab0549132fead647f7b9b9e7 files&#x2F;GeoLite2-City.mmdb</span><br></pre></td></tr></table></figure>

<p>å¯è§æäº¤è®°å½•ä¸­çš„å¯¹åº”æ–‡ä»¶å°±æ˜¯ <code>files/GeoLite2-City.mmdb</code> ã€‚</p>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li><code>verify-pack</code> è¡¨ç¤ºç”¨äºæ˜¾ç¤ºå·²æ‰“åŒ…çš„å†…å®¹</li>
<li><code>rev-list</code> è¡¨ç¤ºç”¨æ¥åˆ—å‡ºGitä»“åº“ä¸­çš„æäº¤</li>
<li><code>--objects</code> è¡¨ç¤ºåˆ—å‡ºè¯¥æäº¤æ¶‰åŠçš„æ‰€æœ‰æ–‡ä»¶ID</li>
<li><code>--all</code> è¡¨ç¤ºæ‰€æœ‰åˆ†æ”¯çš„æäº¤ï¼Œç›¸å½“äºæŒ‡å®šäº†ä½äº/refsä¸‹çš„æ‰€æœ‰å¼•ç”¨</li>
</ul>
<hr>
<h4 id="é‡å†™commitï¼Œåˆ é™¤å¤§æ–‡ä»¶"><a href="#é‡å†™commitï¼Œåˆ é™¤å¤§æ–‡ä»¶" class="headerlink" title="é‡å†™commitï¼Œåˆ é™¤å¤§æ–‡ä»¶"></a>é‡å†™commitï¼Œåˆ é™¤å¤§æ–‡ä»¶</h4><p>é€šè¿‡ <code>filter-branch</code> å‘½ä»¤ï¼Œæ¥åˆ é™¤ä¸Šé¢æ‰¾åˆ°çš„å¤§æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git filter-branch --force --index-filter &#39;git rm --cached --ignore-unmatch path-to-your-remove-file&#39; --prune-empty --tag-name-filter cat -- --all</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„å°†å…¶ä¸­çš„ <code>path-to-your-remove-file</code> æ¢æˆå…·ä½“çš„æ–‡ä»¶è·¯å¾„ã€‚</p>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li><code>filter-branch</code> è¡¨ç¤ºï¼šç”¨æ¥é‡å†™Gitä»“åº“ä¸­çš„æäº¤</li>
<li><code>-f/--force</code> è¡¨ç¤ºï¼š<code>git filter-branch</code>æ‹’ç»ä»ç°æœ‰çš„ä¸´æ—¶ç›®å½•å¼€å§‹è¿‡æ»¤ï¼Œæˆ–è€…å½“å·²ç»æœ‰refæ—¶ <code>refs/original/</code> ï¼Œä½¿ç”¨è¯¥å‚æ•°å¼ºåˆ¶æ‰§è¡Œè¿‡æ»¤</li>
<li><code>--index-filter</code> è¡¨ç¤ºï¼šé‡å†™ç´¢å¼•çš„è¿‡æ»¤å™¨ã€‚ç”¨æ¥æŒ‡å®šä¸€æ¡Bashå‘½ä»¤ï¼Œç„¶åGitä¼šæ£€å‡ºï¼ˆcheckoutï¼‰æ‰€æœ‰çš„æäº¤ï¼Œ æ‰§è¡Œè¯¥å‘½ä»¤ï¼Œç„¶åé‡æ–°æäº¤</li>
<li><code>--ignore-unmatch</code> è¡¨ç¤ºï¼š</li>
<li><code>--prune-empty</code> è¡¨ç¤ºï¼šè¿‡æ»¤å¸¸å¸¸ç”Ÿæˆç©ºçš„æäº¤ï¼Œä»è€Œä½¿æ ‘ä¿æŒä¸å˜ã€‚è¯¥å‚æ•°ä¼šåˆ é™¤ç©ºæäº¤</li>
<li><code>--tag-name-filter</code> è¡¨ç¤ºï¼šé‡å†™æ ‡ç­¾åç§°ï¼ŒåŸå§‹æ ‡ç­¾ä¸ä¼šè¢«åˆ é™¤ï¼Œä½†å¯ä»¥è¢«è¦†ç›–ï¼›ä½¿ç”¨ <code>--tag-name-filter cat</code> æ¥ç®€å•åœ°æ›´æ–°æ ‡ç­¾</li>
<li><code>--</code> è¡¨ç¤ºï¼šåˆ†éš”ç¬¦ </li>
<li><code>--all</code> è¡¨ç¤ºï¼šéœ€è¦é‡å†™æ‰€æœ‰åˆ†æ”¯ï¼ˆæˆ–å¼•ç”¨ï¼‰</li>
</ul>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ git filter-branch --force --index-filter &#39;git rm --cached --ignore-unmatch files&#x2F;GeoLite2-City.mmdb&#39; --prune-empty --tag-name-filter cat -- --all</span><br><span class="line">WARNING: git-filter-branch has a glut of gotchas generating mangled history</span><br><span class="line">         rewrites.  Hit Ctrl-C before proceeding to abort, then use an</span><br><span class="line">         alternative filtering tool such as &#39;git filter-repo&#39;</span><br><span class="line">         (https:&#x2F;&#x2F;github.com&#x2F;newren&#x2F;git-filter-repo&#x2F;) instead.  See the</span><br><span class="line">         filter-branch manual page for more details; to squelch this warning,</span><br><span class="line">         set FILTER_BRANCH_SQUELCH_WARNING&#x3D;1.</span><br><span class="line">Proceeding with filter-branch...</span><br><span class="line"></span><br><span class="line">Rewrite f4767ff924b90157e19397af404a2ba38c5378fe (41&#x2F;54) (3 seconds passed, remaining 0 predicted)    rm &#39;files&#x2F;GeoLite2-City.mmdb&#39;</span><br><span class="line">Rewrite d095e133f47958a41a9f6bf09e9c3f8472f269b9 (41&#x2F;54) (3 seconds passed, remaining 0 predicted)    rm &#39;files&#x2F;GeoLite2-City.mmdb&#39;</span><br><span class="line">Rewrite b70f3fc69bb87fa63964a5536ee4ad3a7a4c3b87 (41&#x2F;54) (3 seconds passed, remaining 0 predicted)    rm &#39;files&#x2F;GeoLite2-City.mmdb&#39;</span><br><span class="line">Rewrite 507ba2652efabbd907d6aaad2d459ac1397cb54f (41&#x2F;54) (3 seconds passed, remaining 0 predicted)    rm &#39;files&#x2F;GeoLite2-City.mmdb&#39;</span><br><span class="line">Rewrite cc8706560aac102304ab16dd1aa1b4ee24186558 (41&#x2F;54) (3 seconds passed, remaining 0 predicted)    rm &#39;files&#x2F;GeoLite2-City.mmdb&#39;</span><br><span class="line">Rewrite 5e2088ef3f256ba3c9ebfc73af36c7f2c5f19b09 (41&#x2F;54) (3 seconds passed, remaining 0 predicted)</span><br><span class="line">Ref &#39;refs&#x2F;heads&#x2F;dev&#39; was rewritten</span><br><span class="line">WARNING: Ref &#39;refs&#x2F;heads&#x2F;main&#39; is unchanged</span><br><span class="line">Ref &#39;refs&#x2F;remotes&#x2F;origin&#x2F;dev&#39; was rewritten</span><br><span class="line">WARNING: Ref &#39;refs&#x2F;remotes&#x2F;origin&#x2F;main&#39; is unchanged</span><br><span class="line">WARNING: Ref &#39;refs&#x2F;tags&#x2F;v0.1.0&#39; is unchanged</span><br><span class="line">WARNING: Ref &#39;refs&#x2F;tags&#x2F;v0.1.2&#39; is unchanged</span><br><span class="line">WARNING: Ref &#39;refs&#x2F;tags&#x2F;v0.1.3&#39; is unchanged</span><br><span class="line">v0.1.0 -&gt; v0.1.0 (05258f376c40e2ce3db184957e8ecff94a12a41a -&gt; 05258f376c40e2ce3db184957e8ecff94a12a41a)</span><br><span class="line">v0.1.2 -&gt; v0.1.2 (d8d2681645ce807069c7a1f1c2865f8d74862a20 -&gt; d8d2681645ce807069c7a1f1c2865f8d74862a20)</span><br><span class="line">v0.1.3 -&gt; v0.1.3 (39f36e09ba24badcae6360686f1dc433690b185d -&gt; 39f36e09ba24badcae6360686f1dc433690b185d)</span><br></pre></td></tr></table></figure>


<p>é€šè¿‡ <code>Sourcetree</code> å·¥å…·æŸ¥çœ‹ä¸€ä¸‹æ‰€åšçš„æ›´æ”¹ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20221108092206.png" alt="21108092206|500"></p>
<p>å…¶ä¸­ï¼Œçº¢è‰²æ¡†é€‰éƒ¨åˆ†æ˜¯åŸæ¥çš„æäº¤è®°å½•ï¼Œç»¿è‰²æ¡†é€‰éƒ¨åˆ†æ˜¯ç§»é™¤å¤§æ–‡ä»¶åè¢«æ›´æ”¹çš„æäº¤è®°å½•ã€‚</p>
<hr>
<h4 id="æ¸…ç†å’Œå›æ”¶æœ¬åœ°ç©ºé—´"><a href="#æ¸…ç†å’Œå›æ”¶æœ¬åœ°ç©ºé—´" class="headerlink" title="æ¸…ç†å’Œå›æ”¶æœ¬åœ°ç©ºé—´"></a>æ¸…ç†å’Œå›æ”¶æœ¬åœ°ç©ºé—´</h4><p>æ­¤æ—¶å¦‚æœé€šè¿‡å‘½ä»¤ <code>git count-objects -v</code> å»æŸ¥çœ‹gitä»“åº“å ç”¨å¤§å°ï¼Œä¼šå‘ç°å¹¶æ²¡æœ‰ä»€ä¹ˆå˜åŒ–ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ git count-objects -v</span><br><span class="line">count: 1058</span><br><span class="line">size: 39212</span><br><span class="line">in-pack: 0</span><br><span class="line">packs: 0</span><br><span class="line">size-pack: 0</span><br><span class="line">prune-packable: 0</span><br><span class="line">garbage: 0</span><br><span class="line">size-garbage: 0</span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯å› ä¸ºï¼Œè™½ç„¶æˆ‘ä»¬å·²ç»åˆ é™¤äº†å¤§æ–‡ä»¶ï¼Œä½†åœ¨ <code>.git</code> ç›®å½•ä¸‹ä»ç„¶ä¿ç•™äº†è¿™äº› <code>objects</code>ï¼Œç­‰å¾…åƒåœ¾å›æ”¶ã€‚æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨å°†å…¶ç«‹å³åˆ é™¤ã€‚</p>
<p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rm -rf .git&#x2F;refs&#x2F;original</span><br><span class="line">git reflog expire --expire&#x3D;now --all</span><br><span class="line">git gc --prune&#x3D;now</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼š</p>
<ul>
<li><code>rm .git/refs/original</code>  è¡¨ç¤ºï¼šåˆ é™¤gitçš„å¤‡ä»½æ–‡ä»¶</li>
<li><code>git reflog expire --expire=now --all</code> è¡¨ç¤ºï¼šä½¿æ‰€æœ‰æ•£è½çš„objectç«‹å³å¤±æ•ˆ</li>
<li><code>git gc --prune=now</code> è¡¨ç¤ºï¼šç«‹å³æ‰§è¡Œåƒåœ¾å›æ”¶gc</li>
</ul>
<p>å†æ¬¡æŸ¥çœ‹æ–‡ä»¶å ç”¨å¤§å°ï¼Œä¸ºäº†ä¾¿äºæŸ¥çœ‹ï¼Œå¯ä»¥é€šè¿‡å¢åŠ  <code>-H</code> é€‰é¡¹ï¼Œè‡ªåŠ¨å°†å…¶è½¬æ¢ä¸º <code>MB</code> å¤§å°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ git count-objects -vH</span><br><span class="line">count: 0</span><br><span class="line">size: 0 bytes</span><br><span class="line">in-pack: 1022</span><br><span class="line">packs: 1</span><br><span class="line">size-pack: 32.30 MiB</span><br><span class="line">prune-packable: 0</span><br><span class="line">garbage: 0</span><br><span class="line">size-garbage: 0 bytes</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="æ¨é€ä¿®æ”¹"><a href="#æ¨é€ä¿®æ”¹" class="headerlink" title="æ¨é€ä¿®æ”¹"></a>æ¨é€ä¿®æ”¹</h4><p>é€šè¿‡å¼ºåˆ¶è¦†ç›–çš„æ–¹å¼ <code>-f,--force</code> å°†ä¿®æ”¹åçš„ä»£ç æäº¤åˆ°è¿œç«¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git checkout dev</span><br><span class="line"></span><br><span class="line">git push origin dev:dev -f</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>è™½ç„¶é€šè¿‡ä¸Šé¢çš„æ“ä½œæˆ‘ä»¬å¯ä»¥å°†å·²ç» <code>commit</code> çš„å¤§æ–‡ä»¶å®Œæ•´ç§»é™¤ï¼Œä½†æˆ‘å‘ç°å…¶ä¸­è¿˜æ˜¯æœ‰ä¸€äº›éœ€è¦æ³¨æ„çš„é—®é¢˜ã€‚</p>
<p>æ€»ç»“ä¸‹æ¥å°±æ˜¯ï¼š<strong>æˆ‘ä¸å»ºè®®ä½¿ç”¨ <code>filter-branch</code> å‘½ä»¤æ¥è§£å†³æ­¤ç§æƒ…å†µ</strong>ã€‚</p>
<p>ä¸»è¦æœ‰ä¸¤ç‚¹ï¼š</p>
<h4 id="åŸå› ä¸€ï¼šä¸æ¨è"><a href="#åŸå› ä¸€ï¼šä¸æ¨è" class="headerlink" title="åŸå› ä¸€ï¼šä¸æ¨è"></a>åŸå› ä¸€ï¼šä¸æ¨è</h4><p>å¯ä»¥çœ‹åˆ°åœ¨æ‰§è¡Œ <code>git filter-branch</code> å‘½ä»¤æ—¶ç»™å‡ºäº†ä¸‹é¢çš„è­¦å‘Šä¿¡æ¯ï¼š</p>
<blockquote>
<p>WARNING: git-filter-branch has a glut of gotchas generating mangled history<br>rewrites.  Hit Ctrl-C before proceeding to abort, then use an<br>alternative filtering tool such as â€˜git filter-repoâ€™<br>(<a href="https://github.com/newren/git-filter-repo/" target="_blank" rel="noopener">https://github.com/newren/git-filter-repo/</a>) instead.  See the<br>filter-branch manual page for more details; to squelch this warning,<br>set FILTER_BRANCH_SQUELCH_WARNING=1.</p>
</blockquote>
<p><code>filter-branch</code> ä¼šå®Œå…¨æ”¹å†™ä½ çš„æäº¤å†å²è®°å½•ï¼Œgitå®˜æ–¹æ¨èä½¿ç”¨ <code>git filter-repo</code> å‘½ä»¤æ¥ä»£æ›¿ã€‚</p>
<p>è‡³äº <code>filter-repo</code> å‘½ä»¤çš„å…·ä½“æ“ä½œï¼Œåç»­å†è¡¥å……è¯´æ˜ã€‚</p>
<h4 id="åŸå› äºŒï¼šä¸å®‰å…¨"><a href="#åŸå› äºŒï¼šä¸å®‰å…¨" class="headerlink" title="åŸå› äºŒï¼šä¸å®‰å…¨"></a>åŸå› äºŒï¼šä¸å®‰å…¨</h4><p>å› ä¸ºæˆ‘ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡é‡åˆ°éœ€è¦å¯¹æäº¤è¿‡çš„å¤§æ–‡ä»¶è¿›è¡Œç§»é™¤çš„åœºæ™¯ï¼Œæ‰€ä»¥æ•´ä¸ªçš„æ“ä½œæµç¨‹ä¹Ÿæ˜¯åœ¨ç½‘ä¸Šæœç´¢äº†å¥½å¤šçš„èµ„æ–™æ‰æ•¢ä¸‹æ‰‹æ“ä½œã€‚æ•´ä¸ªè¿‡ç¨‹ä¹Ÿæ˜¯éå¸¸çš„ <code>æˆ˜æˆ˜å…¢å…¢</code> ç”Ÿæ€•ä¸€æ­¥é”™å¯¼è‡´æ•´ä¸ªé¡¹ç›®å‡ºé”™è€Œæ— æ³•æ¢å¤ã€‚</p>
<p>æ¯•ç«Ÿå…¶ä¸­ä¸ä¹å„ç§ <code>--force</code> å‘½ä»¤ã€‚</p>
<p>æ‰€ä»¥è¯´ï¼Œè™½ç„¶è¿™ç§æ–¹å¼èƒ½å¤Ÿè§£å†³ï¼Œä½†æˆ‘å¹¶ä¸æ¨èè¿™æ ·åšã€‚</p>
<hr>
<h3 id="æ›´å¥½çš„æ–¹æ³•"><a href="#æ›´å¥½çš„æ–¹æ³•" class="headerlink" title="æ›´å¥½çš„æ–¹æ³•"></a>æ›´å¥½çš„æ–¹æ³•</h3><p>é™¤äº†ä¸Šé¢å®˜æ–¹æ¨èçš„<code>filter-repo</code> å‘½ä»¤å¤–ï¼Œåæ¥æƒ³æƒ³ï¼Œå…¶å®å½“æˆ‘åœ¨å‘ç°å¤§æ–‡ä»¶è¢« <code>commit</code> åçš„å‡ æ¬¡æäº¤æ—¶ï¼Œæˆ‘å°±å¯ä»¥é€šè¿‡ <code>git reset</code> å‘½ä»¤å°†æœ¬åœ°ç‰ˆæœ¬å›é€€åˆ°æ²¡æœ‰å¤§æ–‡ä»¶ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œé‡æ–°æäº¤è¿™äº›æ›´æ”¹ã€‚</p>
<p>å…·ä½“çš„æ“ä½œè¿™é‡Œæš‚æ—¶å…ˆä¸å±•å¼€ã€‚</p>
<p>(ps. ä¸»è¦æ˜¯ç›®å‰é¡¹ç›®ä¸­çš„å¤§æ–‡ä»¶æƒ…å†µå·²ç»è§£å†³ï¼Œåªèƒ½åç»­å†æ¬¡é‡åˆ°æ—¶æˆ–è€…ä¸“é—¨é’ˆå¯¹è¿™ç§æƒ…å†µåšä¸€ä¸ªæ·±å…¥æ¢è®¨äº†ğŸ˜‹)</p>
<hr>
]]></content>
      <categories>
        <category>Gitæ“ä½œç³»åˆ—</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>èŠèŠäº¬æ´¥ä¸¤åœ°æ ¸é…¸æ£€æµ‹çš„å·®å¼‚</title>
    <url>/2022/08/15/covid-testing-difference-in-beijing-and-tianjin/</url>
    <content><![CDATA[<p>8æœˆ12æ—¥åº”å¤©æ´¥æœ‹å‹çš„é‚€è¯·ï¼Œæ¥äº†ä¸€æ¬¡è¯´èµ°å°±èµ°çš„æ—…è¡Œã€‚</p>
<p>8æœˆ13æ—¥æ—©æ™¨æœ‰å¹¸å‚åŠ äº†å¤©æ´¥å¸‚ç»„ç»‡çš„å…¨å‘˜æ ¸é…¸æ£€æµ‹ï¼Œè¿™é‡Œæˆ‘æ¥ç®€å•çš„èŠèŠåŒ—äº¬å’Œå¤©æ´¥ä¸¤åœ°çš„æ ¸é…¸æ£€æµ‹çš„ä¸åŒã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220911131626.PNG" alt="20220911131626"></p>
<hr>
<h3 id="æ£€æµ‹å‘¨æœŸ"><a href="#æ£€æµ‹å‘¨æœŸ" class="headerlink" title="æ£€æµ‹å‘¨æœŸ"></a>æ£€æµ‹å‘¨æœŸ</h3><p>åŒ—äº¬çš„æ ¸é…¸æ£€æµ‹è¦æ±‚æ˜¯72å°æ—¶å†…æœ‰æ•ˆï¼Œè¿™æ ·å½“åŒ—äº¬å¥åº·å®ä¸­æ˜¾ç¤º3å¤©çš„æ—¶å€™ä½ å°±å¿…é¡»è¦å»åšæ ¸é…¸äº†ã€‚</p>
<p>æœ‹å‹è¯´å¤©æ´¥çš„æ ¸é…¸æ£€æµ‹ä¸€èˆ¬éœ€è¦åˆ°é™„è¿‘çš„åŒ»é™¢å»åšï¼Œå¹¶ä¸”æ˜¯è‡ªè´¹ã€‚è€Œå¤©æ´¥å¸‚ç»„ç»‡çš„å…¨å‘˜æ ¸é…¸æ˜¯å…è´¹çš„ï¼Œä¸è¿‡æ£€æµ‹æ—¶é—´æ¯”è¾ƒæ—©ã€‚ä¸è¿‡å¤©æ´¥æ˜¯æ¯7å¤©ä¸€ä¸ªæ ¸é…¸æ£€æµ‹å‘¨æœŸã€‚</p>
<hr>
<h3 id="æ£€æµ‹æ—¶é—´"><a href="#æ£€æµ‹æ—¶é—´" class="headerlink" title="æ£€æµ‹æ—¶é—´"></a>æ£€æµ‹æ—¶é—´</h3><p>åŒ—äº¬çš„æ ¸é…¸æ£€æµ‹ç‚¹ä¸€èˆ¬æ˜¯ä»æ¯å¤©çš„ä¸Šåˆ 8:00 ~ 12:00 ä¸‹åˆ 13:00 ~ 19:00 ã€‚å„ä¸ªæ£€æµ‹ç‚¹å¯èƒ½æ—¶é—´ä¸ä¸€æ ·ä½†ä¹Ÿå·®ä¸å¤šã€‚</p>
<p>13æ—¥é‚£å¤©æˆ‘å‚åŠ çš„å¤©æ´¥çš„å…¨å‘˜æ ¸é…¸æ£€æµ‹æ˜¯ä»æ—©æ™¨ 6:00 å¼€å§‹ï¼ŒæŒç»­åˆ° 9:00 ç»“æŸã€‚æ—©æ™¨è¿·è¿·ç³Šç³Šä¸­æˆ‘å°±å¬åˆ°äº†çª—å¤–çš„å¤§å–‡å­å–Šç€åšæ ¸é…¸çš„å£°éŸ³ã€‚</p>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œæˆ‘è¿˜æŒºå–œæ¬¢è¿™ç§ â€œèµ·ä¸ªå¤§æ—©â€ çš„æ„Ÿè§‰ã€‚åˆ«çš„ä¸è¯´ï¼Œè‡³å°‘ä¸ä¼šè®©äººæœ‰ç¡æ‡’è§‰çš„æƒ³æ³•äº†ã€‚å¤§æ¦‚å› ä¸ºä»Šå¤©å‘¨å…­çš„åŸå› ï¼Œä¸´å‡ºé—¨æ—¶æˆ‘è¿˜æƒ³ç€æ¢ä¸ªé‹ã€æ´—æŠŠè„¸çš„ï¼Œå´è¢«æœ‹å‹ä¸€å¥è¯åˆ¶æ­¢äº†ï¼šå¾ˆå¿«çš„ï¼Œå›æ¥æ¥ç€ç¡ã€‚ã€‚ã€‚</p>
<p>å¦‚æœæ˜¯å·¥ä½œæ—¥ï¼Œæƒ³ç€æ—©èµ·åšæ ¸é…¸ï¼Œä¸€æ–¹é¢ä¸ä¼šè€½è¯¯ä¸Šç­ï¼Œå¦ä¸€æ–¹é¢è¿˜èƒ½æœ‰æ—¶é—´é¡ºä¾¿åƒä¸ªæ—©é¤ï¼Œå¥½åƒä¹Ÿæ˜¯å¾ˆä¸é”™çš„ã€‚ä¸è¿‡èµ·è¿™ä¹ˆæ—©å¯¹äºæ ¸é…¸æ£€æµ‹äººå‘˜æ¥è¯´ç¡®å®å¾ˆä¸å®¹æ˜“ã€‚</p>
<p>è€Œå¯¹äºåŒ—äº¬çš„æ ¸é…¸æ£€æµ‹æ—¶é—´ï¼Œæˆ‘æ˜¯æ„Ÿå—é¢‡æ·±å•Šã€‚ä½ è¯´ä¸ºä»€ä¹ˆå®ƒè¦åˆšåˆšå¥½å¡åœ¨ä¸€ä¸ªä¸Šç­çš„æ—¶é—´å†…å‘¢ï¼Ÿ</p>
<p>åœ¨æˆ‘ä½çš„å°åŒºé™„è¿‘çš„æ ¸é…¸æ£€æµ‹ç‚¹ä¸€èˆ¬æ˜¯ä» 8:00 å¼€å§‹ï¼Œè€Œåœ¨æˆ‘å…¬å¸é™„è¿‘çš„ç¡®æ˜¯ 9:00 æ‰ä¼šå¼€å§‹ã€‚è€Œè¿™ä¸ªæ—¶é—´æ®µå†…ï¼Œæˆ‘ä¸æ˜¯åœ¨ä¸Šç­ï¼Œå°±æ˜¯åœ¨ä¸Šç­çš„è·¯ä¸Šã€‚</p>
<p>åƒä¹‹å‰çš„æ—¶å€™ï¼Œæˆ‘ä¸€èˆ¬ä¼šå’Œå‡ ä¸ªåŒäº‹ä¸€èµ·è¶ç€ä¸‹åˆ â€œä¸Šå•æ‰€â€ çš„æ—¶é—´å·å·çš„æºœä¸‹æ¥¼å»å…¬å¸é™„è¿‘çš„æ ¸é…¸æ£€æµ‹ç‚¹åšæ ¸é…¸ï¼Œå› ä¸ºå½“ä½ ä¸‹ç­çš„æ—¶å€™ï¼Œäººå®¶å´æ—©å·²ç»ä¸‹ç­äº†ã€‚è™½è¯´æ˜¯ 19:00 ç»“æŸï¼Œä½†é‚£é‡Œåœ¨ 18:00 å·¦å³çš„æ—¶å€™å°±ä¼šæœ‰æ£€æµ‹äººå‘˜åœ¨é˜Ÿä¼çš„æœ€åé¢æ‹¦ç€ï¼Œä¸è®©ç»§ç»­æ’é˜Ÿäº†ã€‚</p>
<p>å¤å¤©çš„ä¸‹åˆï¼Œå¤´é¡¶ç€å¤§å¤ªé˜³ï¼Œæœ›ç€å‰é¢æ…¢æ…¢è •åŠ¨çš„é˜Ÿä¼ã€‚ã€‚ã€‚æ¯æ¬¡æ£€æµ‹å®Œå›æ¥éƒ½æ˜¯æ±—æµæµƒèƒŒçš„ã€‚ä¸è¿‡åæ¥ç”±äºæˆ‘ä»¬ä¸‹åˆ â€œä¸åœ¨å·¥ä½â€ çš„æ—¶é—´å¤ªé•¿ï¼Œè¢«è¡Œæ”¿å°å§å§ç‚¹äº†ä¸€ä¸‹ã€‚</p>
<p>åæ¥æˆ‘å°±æƒ³ç€ä¸å¦‚æ—©æ™¨æ—©ç‚¹èµ·å»æ’é˜Ÿå‘¢ï¼Ÿæ¯•ç«Ÿæ—©æ™¨çš„å¤ªé˜³è¿˜ä¸æ˜¯å¾ˆçƒ­ã€‚ä½†è®©æˆ‘æ²¡æƒ³åˆ°çš„æ˜¯ï¼Œæ—©æ™¨çš„é˜Ÿä¼äººä¹Ÿå¾ˆå¤šå‘€ã€‚ã€‚ã€‚æ›´è®©æˆ‘è¯§å¼‚çš„æ˜¯ï¼Œäººå®¶æ˜¯ä¸åˆ° 8:00 ä¸ä¼šå¼€å§‹ã€‚</p>
<p>ä¸€èˆ¬å…¬å¸éƒ½æ˜¯9ç‚¹ä¸Šç­ï¼Œæ ¸é…¸æ£€æµ‹ä¸åˆ°8ç‚¹ä¸å¼€å§‹ã€‚å¯æƒ³è€ŒçŸ¥ä¸­é—´ä¸Šç­è·¯ä¸Šå¾—æ˜¯å¤šä¹ˆçš„ â€œç«æ€¥ç«ç‡â€ã€‚ä½“ä¼šè¿‡çš„äººè‡ªç„¶æ‡‚å•Šã€‚ã€‚ã€‚</p>
<hr>
<h3 id="æ£€æµ‹æ–¹å¼"><a href="#æ£€æµ‹æ–¹å¼" class="headerlink" title="æ£€æµ‹æ–¹å¼"></a>æ£€æµ‹æ–¹å¼</h3><p>è¯´å®Œæ—¶é—´ï¼Œå†æ¥è¯´è¯´æ£€æµ‹æ–¹å¼ã€‚</p>
<p>åŒ—äº¬çš„æ ¸é…¸æ£€æµ‹ä¸€èˆ¬éƒ½æ˜¯é€šè¿‡æ‰‹æœºæ‰«æèº«ä»½è¯åŸä»¶çš„æ–¹å¼æ¥è¿›è¡Œä¿¡æ¯ç™»è®°çš„ã€‚ä¸è¿‡æœ‰çš„æ£€æµ‹ç‚¹ä¹Ÿå¯ä»¥é€šè¿‡æ‰«ææ‰‹æœºä¸Šçš„èº«ä»½è¯ç…§ç‰‡æˆ–è€…é€šè¿‡å£è¯´èº«ä»½è¯å·ç çš„æ–¹å¼æ¥è¿›è¡Œç™»è®°ã€‚</p>
<p>è€Œå¤©æ´¥æ˜¯é€šè¿‡æ‰«æäºŒç»´ç çš„æ–¹å¼æ¥è¿›è¡Œç™»è®°çš„ã€‚</p>
<p>æˆ‘åœ¨å¤©æ´¥å‚åŠ å…¨å‘˜æ£€æµ‹æ—¶ï¼Œæœ‹å‹å‘æˆ‘äº†ä¸€ä¸ªäºŒç»´ç ï¼Œæ‰«æåéœ€è¦å¡«å†™è‡ªå·±çš„èº«ä»½è¯å·å’Œæ‰‹æœºå·ï¼Œç¡®è®¤æäº¤åä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„äºŒç»´ç ï¼Œæˆ‘å¯ä»¥å°†å…¶ä¿å­˜åˆ°æœ¬åœ°ç›´æ¥æ‹¿ç»™æ£€æµ‹äººå‘˜è¿›è¡Œæ‰«æç™»è®°ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220911131553.PNG" alt="20220911131553"></p>
<p>ç›¸æ¯”èµ·æ¥ï¼Œæˆ‘æ„Ÿè§‰å¤©æ´¥çš„è¿™ç§æ–¹å¼ä¼šæ›´æœ‰ä¼˜åŠ¿ä¸€äº›ã€‚</p>
<p>å…ˆè¯´ä¾¿åˆ©æ€§ã€‚å¤©æ´¥çš„ç™»è®°äºŒç»´ç å¥½åƒæ˜¯ä¸ä¼šæ”¹å˜çš„ï¼Œä¹Ÿå°±æ˜¯ä¸€äººä¸€ç ï¼Œæ¯æ¬¡æ ¸é…¸æ£€æµ‹æ—¶ä½¿ç”¨åŒä¸€ä¸ªäºŒç»´ç å°±èƒ½è¿›è¡Œç™»è®°ã€‚è™½ç„¶å’Œèº«ä»½è¯çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œä½†åœ¨ä½¿ç”¨æ—¶ä½ å°±ä¼šå‘ç°å®ƒçš„ä¼˜åŠ¿ï¼š</p>
<ol>
<li>ä½¿ç”¨äºŒç»´ç ä¸ä¼šå¯¼è‡´ä¸ªäººä¿¡æ¯æ³„éœ²ã€‚æˆ‘å°è¯•è¿‡æ‰«æè‡ªå·±çš„ç™»è®°äºŒç»´ç ï¼Œå‘ç°æ‰«å‡ºæ¥æ˜¯ä¸€ä¸²æ•°å­—å’Œå­—æ¯çš„ä¹±ç ç»„åˆï¼Œä¹Ÿå°±æ˜¯è¯´å¿…é¡»è¦ä½¿ç”¨ç›¸åº”çš„Appæ¥æ‰«ææ‰èƒ½æ˜¾ç¤ºå‡ºæ­£ç¡®çš„ä¿¡æ¯ã€‚</li>
<li>ä¸å¿…æ‹…å¿ƒä¼šä¸¢å¤±ã€‚åœ¨åŒ—äº¬æ¯æ¬¡åšæ ¸é…¸æ£€æµ‹éƒ½è¦å¸¦ç€èº«ä»½è¯ï¼Œä¿ä¸å‡†ä¼šè¢«é—è½åœ¨å“ªé‡Œã€‚å…ˆä¸è¯´èº«ä»½è¯æŒ‚å¤±ä¼šæœ‰å¤šéº»çƒ¦ï¼Œå…‰å‡ºè¡Œå°±ä¼šå¸¦æ¥å¾ˆå¤§çš„é—®é¢˜ã€‚æ‰€ä»¥å¥½å¤šäººåæ¥éƒ½ä¼šå¸¦ç€èº«ä»½è¯ç…§ç‰‡æˆ–è€…å¹²è„†ä¸å¸¦èº«ä»½è¯ã€‚</li>
<li>æ–¹ä¾¿å¿«æ·ã€‚å¤©æ´¥çš„ç™»è®°äºŒç»´ç ç”±äºæ˜¯ä¸€äººä¸€ç çš„æ–¹å¼ï¼Œå¯¹äºè€å¹´äººæ¥è¯´ä¸ä¼šæ‘†å¼„æ™ºèƒ½æ‰‹æœºï¼Œå¯ä»¥æå‰ç”±å®¶äººè¿›è¡Œæ“ä½œåï¼Œå°†äºŒç»´ç æ‰“å°å‡ºæ¥ä½¿ç”¨ã€‚è€Œåœ¨åŒ—äº¬å¿…é¡»ä½¿ç”¨èº«ä»½è¯çš„è¯ï¼Œå¦‚æœæ˜¯åŸä»¶è¿˜å¥½ï¼Œç›´æ¥æ‰«æç™»è®°ä¹Ÿæ˜¯å¾ˆå¿«çš„ï¼›ä½†å¦‚æœæ˜¯ä½¿ç”¨æ‰‹æœºä¸Šçš„èº«ä»½è¯ç…§ç‰‡æ¥è¿›è¡Œç™»è®°ï¼Œä¸€æ–¹é¢è¦è€ƒè™‘æ‰‹æœºçš„äº®åº¦ä¼šä¸ä¼šå¤ªæš—æˆ–è€…ä¼šä¸ä¼šç”±äºå¤ªé˜³åå…‰å¯¼è‡´æ‰«æå‡ºçš„ä¿¡æ¯ä¸å‡†ç¡®ï¼Œæ‰€ä»¥ä¸€èˆ¬é‡åˆ°ç”¨èº«ä»½è¯ç…§ç‰‡çš„äººï¼Œæ£€æµ‹äººå‘˜ä¸€èˆ¬éƒ½ä¼šç¡®è®¤å‡ éä¹‹åæ‰ä¼šå…è®¸ä¸‹ä¸€ä½ã€‚è€Œå¯¹äºä¸å¸¦èº«ä»½è¯çš„äººæ¥è¯´ï¼Œå…‰ç™»è®°çš„æ—¶é—´å¤§æ¦‚ä¹Ÿè¦ä¸ª5ã€6åˆ†é’Ÿä»¥ä¸Šäº†ã€‚ç‰¹åˆ«æ˜¯é‡åˆ°è¯´è¯å¸¦æœ‰å£éŸ³çš„æˆ–è€…è€å¹´äººï¼Œæ—¶é—´è¿˜è¦æ›´é•¿ä¸€äº›ã€‚æœ‰ä¸€æ¬¡æˆ‘è¿˜é‡åˆ°ä¸€ä¸ªå¸¦å­©å­çš„å¹´è½»å¦ˆå¦ˆï¼Œè½®åˆ°å­©å­æ£€æµ‹æ—¶ç”±äºæ²¡æœ‰å¸¦èº«ä»½è¯ï¼Œé‚£å¦ˆå¦ˆå°±è®©å­©å­è‡ªå·±è¯´è‡ªå·±çš„èº«ä»½è¯å·ï¼Œå¥½å˜›ï¼ç‚ç‚å¤æ—¥ï¼Œå¤´é¡¶ç€å¤§å¤ªé˜³ï¼Œæˆ‘æœ›ç€é‚£å°å­©åœ¨é‚£é‡Œè¯´å®Œä¸€éåæ£€æµ‹äººå‘˜è¯´ä¸å¯¹çš„æ—¶å€™ï¼Œæˆ‘éƒ½æƒ³ç›´æ¥èµ°äººäº†ã€‚ã€‚ã€‚</li>
</ol>
<hr>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æ€»çš„æ¥è¯´ï¼Œå¤©æ´¥ä¸€è¡Œï¼Œè®©æˆ‘å¯¹å„ä¸ªåœ°åŒºä¸åŒçš„æ ¸é…¸æ£€æµ‹æ–¹å¼è¿˜æ˜¯æœ‰äº†ä¸€äº›æ›´æ·±çš„ä½“ä¼šã€‚ä¸æ˜¯è¯´å“ªé‡Œçš„å¥½ï¼Œå“ªé‡Œçš„ä¸å¥½ï¼Œåªæ˜¯æƒ³è¯´ç°å¦‚ä»Šç§‘å­¦æŠ€æœ¯å…¶å®å·²ç»è®©äººä»¬çš„ç”Ÿæ´»å˜å¾—å¾ˆæ–¹ä¾¿äº†ï¼Œä¸è¿‡æˆ‘å¸Œæœ›åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œç§‘æŠ€åœ¨è®©äººä»¬çš„ç”Ÿæ´»å˜å¥½çš„åŒæ—¶ï¼Œä¹Ÿèƒ½å¸¦æ¥æ›´å¤šäººæ€§åŒ–çš„ä½“éªŒã€‚</p>
<hr>
]]></content>
      <categories>
        <category>äººç”Ÿéšæ„Ÿ</category>
      </categories>
      <tags>
        <tag>äººåœ¨å¸éƒ½</tag>
      </tags>
  </entry>
  <entry>
    <title>OpenWrtå…¥é—¨-Npså†…ç½‘ç©¿é€</title>
    <url>/2022/06/06/my-home-server-configuration-openwrt-nps/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰ï¼Œæ‚¨è¾“å…¥çš„å¯†ç é”™è¯¯ï¼Œè¯·æ£€æŸ¥åé‡æ–°è¾“å…¥ã€‚" data-whm="æŠ±æ­‰, å½“å‰æ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯å¯ä»¥çœ‹çœ‹è§£å¯†åçš„å†…å®¹ã€‚">
  <script id="hbeData" type="hbeData" data-hmacdigest="e4e911ba7092c2865bf0fcef01910e6f180f4f760ecd7031ffc715bbdc6f2c40">acfa8236f19544fca1fdfcbbbcf37b76793945d02f31bb909bbae86c1ceab9a15730036b95b37c19a478985924d50bfca39d145e45aa5c728856953ec4afb708a21218b085c39fda46dc7cbd55e2de0184390d97610ce7277451ee9132c1eebbc622250635fdce76f8aaeeda84c1c5c437f71b95f01cbf7be9e86e32327ff6530f7ec0c95e554bb2c2793700ce76528762e45d47a5f32ec1ed660364e89ccb604c6fe5a36eed779268c893c34f2360efda2ee1bf3a5044f0d967f2f0bad91d1143a9a88ef48d182ee90d811bbfcf55a1167bf68d4592181b85dcfc0bfa768fc7de50d874822fa2c9d76a80028d44eb74f8bd1a030098ae21aeec5ad3a788e086d1aa62cb956f8d4e7f11f2f77aff6a80bcc7f67653005a8490d4bc694ab4f418cf778c1f722ba70e4304469ba67f5348cfc60060944ba97ebc2bfc9c7863c1f202331f6e52e2fab4aa94e26457495178824514e042920819b2cb36062957e0f76132289edd46f7e8158afb8dbe71d6664a55f47998a8eeb1b97d5b5d2ebd7a51c72fc1600d1b168320661ae9c0b67e8a8a4a1042a02acd6f1f46a8323036ab415511f17bd19bc24e44fa78148940e0e63cdbf95aaebb288d9bc7bce52ff3b1ae5f78286d2503f11a9f531a0fa1295871f58f6abee2a3d6cd772357c430605502e2a8175fa1cd951dab4ef6926eb177de0c89a9acb9d4153261ec9e662372ae59c916dd5b1bd27dc6a281d6680f6f74ef28186addf6a9700813aa6ad501d2670dddda64f27db81a5a290d52a1ea190343928cb967579edc13dff86f148d46dad10035ce8fe7ff5dec04ec2c5dcd1bedc30c737952c0426eab11d808dd178b99fc91b50e685cc8d2d06a771e3843e741dc3367a76391e6d9b358fe3be6a71102c91e3c20bf65ab9778721cff62cd747cfa6195ee2f0d3c3e7e7059a5b87b2cfbdf071cd6aff8bb67bd7e53c6e8e053c46bfe3ad922289d386b0eac20eccc2d2d2d3e19237cb99ee85cfd4dd1f91bfb6d9c45da9b957e947c9bd4475c62c0efbeaa6ca9a99e3d3f22026909a1384cbc5f05df2a0962f07d1820f917745cde084cc7dd9c2ef980ebd0401405a59fa7a8fc68d7f930e981c253d3ff2ba500198560dd6533af6d4e518b9337494ea8615770e857fc5ef848035a16dc7b3638625ad5d2f246d90381eb11ccf06f34264c9731633fabad9d0551b510a7063f34d2492d022b8be90c8b891ec10d4ded08d337a4cf4886fad84e8a9ad92030248e46bd274c15b2489761fe12b24cfae765cf754656afd9d759903dcc3600395a6baebbe3308b84ff9d5102f2f3d6647f2efb4e9f3cb67b5f272b152a6df139c9de2b4795f51c09da8009c7b756e109c4389f82fe3e90e54c22aeb28f315d1737481a8304df831d98c260ece9eb37774f987f1c8688da2e8a0a31ce76c4471c8c749c8a95b0975aaf51fe6b670d73f877207caaef465cacc8f4edbb121e9861f2aece6b5c6b47701c52e98dcfc0dd86aebafd338b7bd525ade6daac90071755bc372bb0a32f87318517c020b0401076de05dfefc7a05d26e83e1ed29c5704e6a2c05b28b843c32d7da42ba42161116174a118800de0550bfebdeb9090e43e351d76ff378d46d10560f81f03395257faa5766df50c6373def4b230313056cf4d2e186a73dac1e5a910098fdd096df38e1ec3c9b67cc333bb3c58a375d8089537792ae72fa74fe6e2693506c8cf437ce1c4c325884d01888404b9fbd38336bb1ff16d190f5b30d90b73b2c7db1e8c8b5daad7be57be380aaff2d7b1d51fb91962b2ef9d6818055ae8b659c23e51af2cd66ea4c7f775023e918054b3b4b8dd677472697db7e06ac25bc45616bad6062182f9c0496c1f0ce7cd06865bea445eb3540470fea150140fcbb0fbb2cbe33c93abf7aec5782fe9c46c0c6ad446c7f12a1078252e256ae5421819326929e7cec57842442cd89a82d4f619ad06a2b9be603765dc0af332a96ed56427430415d061d71297145797f90ad9e4c147404d5fab41d0317c18504f289047fce3da45d2ff6d0f22ac80a2664d509fe7014247961dcc877021c2ef0e9572f0b4f35b19e4cc86a4283549bb9d39ef093e4d07edcece7db4fa20dea679f8777eefe2f7527f4251debebde10a5b5d3cd4ac076997954801aebe6214c91412de8312b7b1c855f4691bed81bc69721a00bbc41e6b407c0fe69f08d44acfabcf65640e83f77e032952a13ae00880c1f0257a4549b60180733d63f5fb8b27516c32983d4ff5e2adea40e260e023945ec0b878ac9f6d425540a07fee2aef56e55428c3c5bad96b27346bddb14a360f986712d57f80981a46d2b9d9017678bd5ee5ee71f764972025e1f353db4285156995829b714dc630b7ec174e8b9e5875f776926370f5b9f22d39b4fefdca61ca20bcbfc7089370d69291b2448416d1a42e0c66d06871178fa292b21ae6f9347ddd9582c0c369ff9930fd57e11af2680b6cd8e1be739867a530f47604665396699de5d51902683d59d60ab6aa12cbc13b59fcdf7eaf20bfa08b030e4d160f0195c79b4a7d3d076d815b22a584fb773c44c5882641df0f4cb8d37aaca9b774b9ee0431937af005e9a9188ab683e6c705b3f66b04c59273d802dfe589efb705f5fd005c71e3f17328d79193d4afb2d136b7220ed09917b93db63201ba439b154c86980d5a049f3e577510749a0c05a5cff59ef01b41688d45c016fbdf65e5c88ed58972c4846b0a1f719efb404e5824b3c6170bd663eb5b167953ae94feb698ed64fe5c5e4cf8456855e834da5bd36608b147beeabcf4e9648949d8ab3b0d9e3093b969c97c3f738e03ed4d7d5277268a90dd16f8178a0c076554a9c16ed392cd4479f15292247168df66aacdbe58bcbfba5efd08ab7f7157ba64cffa18ac16e8185acb5ca549d7d94fda301725d9ca86d02be93d8d8e5539a285be5cf7be892e1a49b96dbad206e2a5879228b72a6643e3fb07ded97b2a49c13e40daae9ed6f45011172769c37716afaa4e68ff4fe29271b934c92604f13c2609431e01bd0539a616d7bd35f04d5712896831a9ad28961e7c9763411416bf72463e93e23b836995051219205e5388719d97fad78cbee023776da0abd7796daee14b8fa96001f368d06691342a8b8210007afd83e329311253bf6459bc70a36234c1b184ae57e8d77dff25acfd17696ae648a97677807e4981f01f6235919fc4edd7f060ffa69f3bcc669a1904e47ecf51618b2e5c2cbfb6fa883a4725f06f8454bf4881ffff291d7fe481800b8b5cd02f86a86d689182ca2cdd98c2b04e86c7ab4665579eb58f4007749a5616cf37227c0b229b81f5a80ac6f24163b172c649450cc9621bffc04bbc6eac47eef831d2d0db1f3e95c58092a8016735fe0d56fd1ee190f2cdb397af729b9233d9d6702bfbf772a76e056470223535b7cebea65084d8304636375782d4bcdbdfe4756d072e6c255ec27dac621d516266f69ab09e5b5978d8dbb3860fdb1c744ca3b4020234db0cabc8d9ddfeccbacb5e7a04d407f24f6a058facc2907a914aaee0ea5b5cd3e99245d878b03c1a081356dfdb920413eafc65876f3f69573d79212e35beac292b846334f13d4656925e37fd9708e53a9201f7e5a445619ae7ebe69a04152da8d4eaaefbd88b7450e546f36eb4611e589551efd2519dc8593b680cb82fc7ddd862117abbcce10be14d0bf89447050716ba32c08b391826b0a9efc9ebd89eb8a25f2e84ce5f21407f0a76a4ba48e7b8aef597a130d72f485ac17fe339a1d3a2b2ad585dc0ca9184b0379071f509e466ec20337f5a9a3e16920ab5b9e1b687b2b7f87062c7b1990f0ea802a6277ddcdc88c9f6fd7dee930227d2162e8ab76c5e48ca6fb6a5d081ea957ea043b6141893ab82dd05addd5c671c93bddd09aadcd3c1fc66972e3e017a3e9347d7717b8079e139d26e7e86dc350391098aed3bc755c1ed9e5ef8ccc08a9dbfd61349140c6372fd015c97369302b3ef04d6cffabe229beefe8e8361a4aad771dfb7446a6254e8cef00c69878538488ee13f8722d8e8cf81d741df9582d0208de8d077852b5bb563de6bb096d1c506b0ff657c78e29144a877d36270aeccb01cbe5668e5ab4e1d8d1c2cc5674c007abb69803f10380f84693446b67b5b403bade6f1e26d079772249c1597b2b05db88ced284bb063b1941019c3d16786c274520c0b61255f9a96d2b20ca7e419e66b2fa0bcb25545a306c2823c84d2477bf4e4de92c96274464f836f535c4e077be7ea35b38d8c2e9eeb9b1b64d1bd2192eb07d3ff42837268e23b65982034da66450dbda685c08ef9183b33e63d5a016f517db308095357cbe5abc9b2c4a5b5591abe247a55120a7427b666a1da2e343c11ad657a380fd86fcf4eb598ab4132ec632ad8eb544abdf6f39469e6c774295d842d49968db4da21f1a5727cc747e546f1f3218452ef37c7becaed471fcce955dd83c441b93185056466ae71d82d7244f3e90e186ec2a57388ab3af645c3fdc08861a34abfd304699c93b69bd1804e8281d7caf1373e19a85f48031c9af3bb849023caa5d6d580e21be145383220e50d7e2cf7c80b011c9eb744bcc2130f9320ff93c32d2f2649301b7e8e31a193d9c5ac54a3b9b5db1919adc0e7273207b542daefc6f5430e51b4be2089af33d68bedf8c010e9bd1efef4e579a6a607d3bac55e1e4b682d8ab5b425cfad22c68939f1c4d46afd121945fc82a8c2c738bc96c79107040e7eac5eae80dc6ae039ec01084fd58375e5a7ceedb84a07edcc3008b77f3d33aeccf5973e5b092f467848ae644ea6cea32d89200c7f4769b6edd68b3d9a0de64864c275eece76ed2dd16d335194e29494accd04c37aaecf731ee39dbb68758fb22bd0ad99f9d4b24bb7bce25cc1674fafa41c170cafa381e95e4f9243f492ed31a373c1bc7c15464f3212fed24bdd0625c05194ed60a4d7a46f617dca71639d8eb8af1debfb0a5c15bacfe4bb4a5eba3b0acb3e2346e894f32d38001f4efa6e91a99be5857af8ff6779de78c53768e260cdac9b04951420efd5259f54832a4df896352c43cc7d1ea66838c5c883fa6702535f12f95555b97ec337fd343056ff8dedf3accaf45e12517414ab2d4a4404f6e7e40b0ee9c588194ab3f63468421ce85eaf18e19fa111d1e70eaf7e91011a4ba1d72d231ebe1f1f878e9ab98ef2bd7389042d9aa998a2e43c8f5d75f9b82c40541e67f2153751aa0a0e2caede59e645bbe65f384f7093261b0d5732262ab94a236ba3864a5535b788d2d7995fee673ae76d48e9b63f5115d68be97739fda31192ca4e489bc11d9dab860fb2f9aa1e69e3029e968026162566843ebceff7cc928b57c9353f5513af8e4c7c3a4c2d10b8a1fa8cbe9446efe3a2c30c798d7ce347e8a8f842647469440a398e5649a545f0ca6fa257f529c05017a008c1741e0f7824d5ba8683a841f629a84e30ad43647ff32f5e2dd256711d64485bfacb8c5c1e96c7c54616cf3639e81f93828464631c3f403ee9abcf7d51c4a3c373c7d4064268a5e6c91fde2604733d64df922b129aa760ba8bab69e75651fb1660c296c822c5d264419e9bb2f4eb0363bcd7e99adb071f3f427eb98f5ff5f544d9862ca912c2696cf216f46014061e815f0c6ab27a3af5c6fa716d792b1cdce7418334d93cfd6b46540f27b6c624eb6f8e324492d917483a72cfdf1436f4f7d607660f533a674b40010cbb706313c6cf843623a419f98d0adc8d81fb50ffc899aa0c2495abb4d656995ce759fa0f73e4fda951b7a1aa4fba8ded94e3be2cb2214d6f36e11c77c9f4f20657c1ff4fa1ca8faaaab4788541ff7541eb5cee3a0635ebc41e9df6334fa103057c8fe9205e53bf078a3aa992197a9133bf267f5aa4dd17c8d9223e8f389033e008aef0e8954f1b8572252c8830d607ed46331bd08f5085f501c3b91a6a19341844e321665eb47af2f55f6df247c2b905f517f99892893cae2c45a5b8215331416448de7fe8263186df6aee5df5e4c65970e79c333318396fc11e36e159276bac4e196010722e112fc598b75bf6bdb9ba9eee772531ac66b624f71d4d7a09daa055ed5daf996dbd640a134c81be31e377d7a744fe972a70f0e1678008e7d2122ae94e8f8face8a476018b851b1f76ba44978c320160840ec98085a53c7b98c9d6a579759386056eaca26b02d53caec05bc63570ade00cd6ffdd1d1fc6e82efb746a18e5c338280270992ea7e06e5adff1b846250cd019b01391e9e4f6834f4449eedfb416feb0d0ceb594b778d2f0d9c9aa75fc9acd8c1fbf3faa1d56e4a55ac988a604f08cfaae610307be8f398d0649d8274b5395459b814c6f54979e664dc56adc3c05466c0fe03dad5da56438a71e54e89d95e7b8aa59d248ca04b3b5828b82fce09ccf2b005fb413c51ececc7f4d1acfbde2e05a726eaa33bd2493a3fc2d492a18ea386444172280e12c1e968b1eb4623f7b434ede97521cf6fe425624aa9b39ac0e18aca2d3de200d096c9a6a843710c5597da989646d15e4561eda4e2c652b6e0ccd73a2bfb779fb37528ea4ca7fcf7f182e9c382b9c87d2de3e0024c19f3864050a0d9fbc29bbd242f5889ddb3a208df7b274777e872b8f0082a4219dc73ff5d1bb8568d1fde6effef87ba1739fb1b67e146e3060ea7b2182fe75115ee29e8eeec55f58aca6a8113ccc28d5bd70bc6c340431b0a8a6e25622e762edc0b6bccf0bccd9e3200c7d5b12f8f1202626344a13d3d8b8fe608bb837e89aa5248ba18c01055b3d8ef8c544652b840ed490cc117689e56dcb5c8697f9a43ce8456a9cf439796ec781819b791d8dffe73682fe3c92a47678161742be453d14680366cfbbadf82450a3c357212118c7ff9cee661afd395ab2ef65ea25813bfddc4914b4069a50a00da4039f217bfa1d183cd90b01f1752b54fb058ef13ece3d576c0bf7be7517296f67c14557511847d81f24b9950854b3d09355c7cbdd8a94a1017532b94604ef4880e283abbea7f78fa678d8d0ba8a5dee1387a8d436a1fadb747f1d99a98154525f2240a5bc2a0b521b5f07fe75ad6eed03587ffdcee0a5ebcf4d3c0abdf7a93ffbaf878c5672b4c6c9b5c70d4e901b5b1504a8aead9af3e310130c4e000161a2094a30b3d5a3d162d49cddf80d8b29ce881250caebbe6be0c911ca662a8130ba509f1fe4bcc46ba97e7815b946962bc567327491c3f3bf22988267957cf2cb810bf4a906a234807d50a0689220dd21bc615ad3a001b8377476d97fdfeddf89ad73f5de5b539f9d01329941ed782581b22ef5bbc9fef5ef87442dd192a3da4eec68b6f1e53fc602ce1ee254325eb620bb928e70a78073dcb0c2120ad713676b0e8a642d83742077ae1a5c2b29ebafbbcf1298835062f02a0eaadb72f85dab1acfa12cd0bf0bf80e9298f57dddc595cc506051334df497824347772aea4f14ea35f9f78535891711340e7e3e3224cb725e4fd56125a9da43ed19de5f0dbd16bf020206b9f5b8ca396b30ccdf8420952376099b9d737780403b8cc04f89d9b0d6eb2b5edd1d5b94eb3389540a1fd36d7377496b5dc62c08be48b689ab01d3e564d41fd51a306e282fdaed90a930ca2cd6a328c7186e0366a634e47843eb3db242820169b94d037311ca94c2444c385c68ba7b998580df9c5d7335013a824a02a912a905fcddf2ec3054359a1c6e6d045f60e5a1afa7fae7995d4531f7120780f52bc0c380bc7a446114cb01bc832c7c422079aeabe7b8bfbe4a1d94beae415c7c1993a78fb809f5251303de3dfa998151bbf69832d5b5e4c9b0fc22da4e7bad4afbc641f67c6713cbeaa3ad4ff4ca7c7ba17d116a83cbc14ba0ef541d9c70d9efda154c49dc47cebf2567e9585e3ecbc6e678a21e7b276537b564df920ac514629c6b957e7c89e522ec21652e00388ca469671678df63f58cd6c56adf25c899e84e3ad2b57e7231004037e82b1c8dc99df43312ee6ffe952cdb2f117e6150303a40e87aafd59889c2866ab9216beef72a4eecae7f582c97778abab87f6e324b2af981801b34a6f39d03de78d781230e80aac1f0aa539ea14bea2c26b3a8746050b3503e7030e88995e0a5d783e85f6eb874b3933a9ade5a907273f10ff31d668ccfc53157d266cd6ca703a2f5a1de4c5f14569e98e4e48aa809b17319a1295858d2708e07677a182b65157e922ff094992bc1c7ad0582ceb207e2bf7794dd57c6d98d687475faa7046656c9a9d779998518397d01a3c480cb6523c97268f5bb581a7465126b50ec7f900ddcaa539ec09f4e993ad35d187116c4fd9f7f57d56f42175182226b6a3cc4a4926fbeba1c03e3ff2338aafa2f3cddbda596fc10e58f0e6e96ba03fc2c8ffd088a88854e60419c588f5def966ae225c4ce521d13a07bf7a1f8f81ce26e590621ef9a7178a8300131c5495490f8582f3c4945d26882c72e74784d24a78c9520a26470147c7facba4d0a2a8b317b7c66fe6eebf640efc0457295aa02a7cc01e4e26ffd6faf77fefafbe615aa6a58792d83364494ef079d4c117bf7993d790c6414f5b4e41b89ec5efc70abd71badef367081b32348c69bfd0cf5e0718090df8fa4b8e85c6e21890320a5f2f2a1254a8b027336c66c8579bdfa332b0787e22de7f055456d0d92009bbcf306a49522315bb7aaf1b664e916850e87bd5409ac66a9781a7430209217d6eb8447509e8de707943c4c272eb8cc48f46fa9997e0f608c084b23725e1fbf442140850c101e4096fd380353cacfe325edbb0afc591698b021d70810af8b38a8aeb259fa5d7fc5556dfb18aa052cb48b9b9dd021f00b405e55ec68545474926e9d55511b29afb269d2b5b57236fea2ded82510b7b6169e7bcd54081e0910364efbf187102191bdebb3f2cfa2cda7161c79381a86faef30fa0bea9e921d0651d91516de030aa9fa5eaa91c19a38009cfd8572ac334f74334e03288a6e977542e2ed696e708b154fba5e60ddb27ae999481341d8f8c2bd8d4f1f5945f8593c8769afe47826232b2e8085246cd9049b7edae4ba77a6538aaa50651588b374f47b049e54f0dccc3a7a2a9f5fa0449c5b85f030dd91bad6068aa2b65404eb5e9e2ae9df23cbd10f0a79104a2c86ba38a8dfbffc7627054d853142461d5803fb49cd71d24feeb5d24bd9ce76ba125fb5495b8b666cc6ff443f0a9f7fae58414f78f5469cb3448e9e0dd6fcc53336d934041d974f336d5e92d43bb4d0657afaf9310a08f8bdf7c0294ca3910a292da910f78a2e622d474b5fcc5514b2765e52edf3f9ff739b0b91d5f574f4c502965a33010f5a7cb3ad913d5795e3f3e7c5dc8a3480cd11fd48fef3a5b25b5701b76fb63021bdbfafaa8b19fda8ee7f7628e4f878911715182e56759ebfee614c43a1952f2322ad0433b8c14eedb88fbfd773a94c9b7e75e3d670e2bc1fbe1fcf1223051e8ebf46cb3c99bd026910fe6d0d484e687363ce117dd46163ed86c0bc6ed817c94f80ac8e52d0a4bb39894a082778dec4d9a6d7114a9c2f3041c14c7242debb956f88ba300dfbf9a2a43724aabb9bf9c1d5c5a18133ea688896105c261091804e3308d91ed60c12fdadb07d47e6ad4e3f7d088603f3dc6f53451c8a9f3950601c9c9c8007d6edf8d7e1c97dc79b6dea87b9e8d902ba4f3b9006e09725e1ddd6289b6a8c6f112c203f520df82c01e8244249419d1149ddb122fdd222d95fef7b1b3da7317fe5964c1dda088db0a78d0bd2f1513fc2115e1779277e25b125880e9a218dc30ebf40c41a57aca0e9a78e17016344897941e5dc204eeca5ef3717095d5c021d7be898cda8d6ab70f5585ba4a78af48e0c1374a06cd1bb2d1bd191cbf7ad09db32bb63cd85ee88c2fd3ebaddd7c6d2ed61fbba3a1b237e9f5f42aee97e082eb84301d1c04aff3c418e01ab3b903bdaf0bd5411d660448e6b81845a743db72a19a8b0a76fd3d612cd718658c427b4a6c78713cb08b411e28df662568231a1371e7324be3fa99db3be3c7aa1c2023181bcd56e8f137b1e5fad38dccadde30d4f05769c3180d44e69a9863aa7bdf449d3f1509bc4413f2ed0442efad93179bd77f1101b70f3d398c47a4c5cad7ac0092b33efb63ec1ddca6e9b99dc2d0312556fdbc5d430698d94b1647dcbfcea1faa40ce40ceeef72dab61f6c0a6edac7ec01dff2d84f1aa6061837e56414c245f9dd471eca38617fb19798a701f2552b45653b593d7a032502075f73a52c0eec66fafcce3841aa63546c375451d88d81b05c64267f0c0a239979bd21914e86622b0ecba224979f30a8a09a87fa79965baf1b8a71c1d7c674176434f63fb781a4b9909e352153326944fe9e6c73a8de9fa35020062455cf80bd10e3291c407e4954e03a55f5b0fa3cbae79064b6349dea0193a93979bb1c4e05d3c66037cace1ab9ffc53b5304887e93563073a1dd19eab201d164e82bf1ce39be5dc124189012cd1335805fe4e08f800f3dc138316ef5af6c76c3d5e376b997ab07440272f77655d86039b19fbd34f6b7595bc54501681bac74f07ce7843751c7058ba6846baa8b7b552f780792194cfde1c28dac754675a8596d6e8cc2f607bac822e1ddc4a7b016caf0124ed20b930f16859c3b787bf80ec8ba89e6d0269d5813ff143138dc1cc8cd553f0bb7c5b837bf5c9882b3bf3ba2f592f43cee68a6fea026048b9d1c99b584354abbcab22fe18239624eca08ce07690e01b92208ccca1929a820be449424110b07c4eacf18ef36303e345ffcbefa406d50817307c24417b04827aa9b36a5a04500b9f3fdb272202e272822a3d66b79f80fc315d8f70e20a4f7ca8e8ed37c1444fe7843638f3fea1dab80273a643fb3d1adc40a6e8b83699375c71be06c1658c0a6dc25eff02b93aa509efb69575b3487194b7991cb08aacf4aae3c83e144a9c629b3705b2239629765b766d4aba7a13111333e93b49446632dada0f313a5a6e1dca5b5f577a88d7c2c7f6f9e8d2477ad733be458b83cee54dc9ff831ef00a59fb220a50613ccf318e83b918ce354801992a23aa795d9999e05cdfa6b13945c7a72d3ea5c42470179f5764b13e4026529b4342754457cc9487601c0ac3935478df00354b626c52d0d6de4e1f0181b0728cc014e34b520841b5a003964de4e84f73f05fe3baa7e204789b5ac964a3d66bc893b99e0479b3eb86be115d081893f8b10474058296c7b705f02464bf03ba839e21d548526ec77802b8906f825b1023074c194a684920ec7a148eaec7eda9c4d2cd5c8bf0682f165d29e77671c1d29be098d7472e219592955e8781e80d108e658ca1d77cc07b538ec248a551ac287b4c743ec79e56dbfa9bb48568af22c741e2357db5e6cea0734a0d1d49dae80df2fe14efa85fcf65163b3992c83a5f544773559044309ca35d94c02629193420b8883dfb8ddf5c1f2d67abfaf3d59a87be0d8bc15077f1756125a89dd059b37e78daf621816a96a34e3ff219db3c57529c591a921429ecc4ac7fa41973acbaf72c006c517be6178bc69f8809a540455e09533e004563a8154c452a73a5904e26f8eb68bbd89b9156709d7c5a6031b02198979ca2b8fe3b4d6655f012c426c8f31b54c127f86f3c60b62e351a58db46ea7ea58a1f6ff8633994ca2096d88b4300968d28167937c180296c3363d927b1931ad6b4157939af35ff6c5d40cd26c4e2205bf55e7f4b772598b199176c628c173de187650d310338c28103f19ffeabe82e72c99cf1aa095c9ed8f23c68e387a991a0497a933b2f22cdf118c943d36bc4401d28015c7dde96baea773fcb484f5be9345addb8914a207b10c45ee1c5dd5a2eec1f2546f8479a74832cbd128a569d9c6b0a2c918211fd89c69029dc4fdb837518c1af3db36dc9b741bec0a100f2796af6aae743d3b74dcd41f070b18a2469d9c2d985a10b4f80204399c1545c92d8714edb810bbd72ae0e068b3199e50615171925ca140659260e2d9e445893ce72fa0159077a69cccfe0bb46bbd14c7f7d805afc7bb851b14d481428adf0c9558e1facfcf310afa3f3445eca3b750cb88f5ad5769b8152aaf9f94581ce0d1f5c0cc9e6a1fb5b0a05b079f0bdd65a8e58c1594d763ccfc34b82cc8d0021b220f2d64d5a3629f338f2033e5127d24a58aae213716a989c4bb09d25d243e175d88ae815b0b0af50299b8a830490c8ddc05b6cfc3e83aa1e403fab746c44587b0295a58084cdf9bf099ddd08abb20dbbba8514e34b17cd6c2687971fc055f65b2e89dbddc88685d477241d179b78e46352ff84fe8d42c4c122f146facd21c6d079af924cfdac362014d0d7e0ff00592ee66cd703d4ef2b49b94612b00fdba8d853e6ac449938c9f8deec50c73b3f5e65bbeb07be4d1e1c6a501d574adcc6b0c562f0befa47dcca9af7e6774d6dfd05393e46192d4ab9f18b35ae562cf8db76c3c58ba6f204a9fbb0d880d75aeafc50ed4a92d3dfb31d92aa6be86801cdc93125c16ec95724893f33c29948e9cd7cd62a89fb4afda54bfbf59681abe3335810e61efcf0b9ae563852395832ce5a6e7b39702d00a5fb40d5c0a6629c6182231c685a17b0e7a93d34caf8fcda39481c9aee9fa66ea31f8643f32b9dff575e3da964917680ec3a035cb683dbb3f11d9ac278e6809df53380ee2df698c86b591d594e62e23f113606df49837191bf8e9b7467dd7148ef0b2b18df0ae67f123e075e13e7bc95c815e25ed74a32b0af47f9b28f6a8019671a26146a716a636edc9d82e20c3626c3e054a269242f9e92ff80286559f859ea2dddb1ec5405e7b65406991c06cb4774aeb380e427bc7e21b4d01fa34325aecb87e8bddf8223ba17bf8b5f44639302fb6c040f930d12f8f7ce36f32b36edcd3e7c65f18115675726e32410f51b2e36d634cb14a49739839145f7a00b8dd3e416f00c48b1d7e2b04d5065c9115c63a48f8cb9f24ddbb21a45b523f0a0d863259f7536e0a3140284bb8569e8eab46c125237d0d81deeb401fa8b1ac1fd75ad26e3afb8a20fe787710b4561eb87675b8387b560a4c986ac3a343c48c7be3dfe2e9c69a21de96ec43a2db55bc4592ebb9c3b3c546f09b27c13d06386fe1256e51655cb97fe25cdda2ee89fe96e7da783ba5117d793c5cc4b4eee7c3a213e1de01c780e05ee2b5ae933d465587f223d51a97e7bfb8072b0f71f886f53503fa210f18359ed29bff6e23e9ac93c092ee01d8c0fce591380f19aedbdec4397e49a9d8a814046e365e964d87adacbf3f985e999346980fedbc0234963548e02d1bddf93dee686487a86ef2600729908285ef2ced4f7789a159f57194943861c3f2fbab6cad996df596292523b7c0debdf7f3734a6835ef973db0574c81daa1de0484fda174d1a17ef369664de4527b89ffb8cfd19f3799ecbdfd5a631c0e06d315b2cf8accc14726dcb262eb6ffef1cf2df38ab8527bb46b9074df858e138e0c7f3b1e142baee4f00952556937a4c97d48a47284dcfb904f11c02ef657e076638b12541d3a7451526cd4fe17ee2fe0c360e74c109bfde5a6ba101414c135f3092588cb49da97dfe0e778328400d985bcef5fd88bd59cf274a552d1321156870a8b5d7b76c302fd195939c3c8c1e75de08264550df7559b625966c5804defcc6b96c04a66ff73b850cdf45f4cb12b535a08a75c32f17810a3661c953b8e71e2eb8a4642691c95131ab4b5b66e7c40ba2b69a15700636182242d9fbe33a355e7e091f384e35fca2495d81e7d12f2298e9e8d4ef9d455cdb6ce7fd1c586766d1994239bd522b5cc80590bb1f2dd9d0063d12e3f922122e6b4f706f2ffa8091448c64c6eadced1bf5f115e469f67c96fbfe24480e71f6dfc163d0f84a7dccc84ecadc069de269c100d6a3889814cb721b6a8f21db0541254d31e6a27818bb8908da0a621eb1800bab39e5242a4abc4aaae850b842f21c8e2c2d4756858d5c587f4d3419aa2509e183d7e51340174c34f157a63e3346e1346ef92dff48d9fbfee49290a2851f2c243a7b737a70611a3ab424c9054337dc91c83865f9ae22d3b803a35c1c779ef9a38b791324e3ad971f4397b2366361741ada43f8c36f6af2d73667556513e9d35ad859ca0dc5dba90745fa31cf13f545c508d4ac34e36d055bab58e5f3e360f927313df075d115373468a9695e760e447153d7fcee14000871a9e449c87746d722bc11890ef6fa09c2d32eeb62612f9ca9778c031ac129f0c12e8ce23548fbdeac11273f6ac792861406ccb9f478ee21c288d54ba9a4fad39006ce6a152db8dca2529375a2c0c34988de62f5500f0dbc6df1c79ed876d39da0f2eda2dd3d50ea3779c3a87bc1c6a9a2f74efc088a70ac1c0d60f57e20815b3ebd0d00769d81d841d70ddcbf8746c59f68b041fbed37b5640e50317f4c72dacca7954f25260b297066525441f1ff1cc5db731dfb978d3dd67a9bc8c4d868cdd92b116ca349b2b96f48d1181d793b0cf36762b8ae542dd6c842dc2f31e6602ef7de278d104c52668246b84f0614d95883b30dbf9f93664132b19874590403d3a88c08aaf45d4d6e2aa5bcaa3ab29cb6d0572e1d6bf3c11b5fb35a3b820bea9f8935a0bc83ee86f857e01192c7dc42b9572411428be658c2e8e71fabc7fbde482dec50bdbf74f0e608bf9c7e3239668de2bece1eae96ceb2fe10dd0482a53c20bddac06aa80086fd74bb23eadc1df37b4972a033b990385b34c0c23219a7a6c3d8af1321830028ef41e0548c0320264d0cd047b788d78648be1c3bfbf665ff72e3db4e43f4dd6ab2dcd54da93f71a55675636fec90f0c81d525cc9db7560a8f3b6f72858e757ff2031e0c89ff25f4bd754929eb777ca997016</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">å½“å‰æ–‡ç« æš‚ä¸å¯¹å¤–å¯è§ï¼Œè¯·è¾“å…¥å¯†ç åæŸ¥çœ‹ï¼</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>å®¶åº­AIOå°ä¸»æœº</category>
      </categories>
      <tags>
        <tag>AIOå°ä¸»æœº</tag>
        <tag>å†…ç½‘ç©¿é€</tag>
        <tag>OpenWrt</tag>
      </tags>
  </entry>
  <entry>
    <title>OpenWrtå…¥é—¨-Frpå†…ç½‘ç©¿é€</title>
    <url>/2022/05/30/my-home-server-configuration-openwrt-frp/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰ï¼Œæ‚¨è¾“å…¥çš„å¯†ç é”™è¯¯ï¼Œè¯·æ£€æŸ¥åé‡æ–°è¾“å…¥ã€‚" data-whm="æŠ±æ­‰, å½“å‰æ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯å¯ä»¥çœ‹çœ‹è§£å¯†åçš„å†…å®¹ã€‚">
  <script id="hbeData" type="hbeData" data-hmacdigest="982b295facab61fe7967a9b0e239e34ec47ac3c5890b442814e9c27faa789167">acfa8236f19544fca1fdfcbbbcf37b76793945d02f31bb909bbae86c1ceab9a15730036b95b37c19a478985924d50bfca39d145e45aa5c728856953ec4afb708a21218b085c39fda46dc7cbd55e2de0184390d97610ce7277451ee9132c1eebb8c1584746636b4f0558db4628c921cb6f983a83cdb74bf41c0f3e4e9716f25cefdbaeb21ff8869a062b37950dbd9f2d7748034ca0f562121f656a667bc6b49725de7dca51561f2694dd949f293fc301940a3344cebaef96027ba4ac1d5c65f027bef5cd59d4e888c7c2a6b09750c95dc54429fdb8eabe2b2fe4849b52b98dcba159efc85ad385ec4bb0d1c8d2e9d6e4afe232a6bf460ea6df49b940a9907a862ee8ddbea681f19b19a98d64f0321ccf0a0bb39665601d6ccbdd7aa30b707f3dbb467d15ff6a54fe36739ca9ceee9b4fc807d5d0a119b3cecc8160ec99ba64a977be1606d2090278807af68b4748fefb4966e00aed96db1226ba37b473ec9cfd55eb65583943cefd419b5ba15dae634202d5ce9a48608cebb102733447975d9c78a483e5bff84770c5d3f50f4e5c3ce789a5492a2c7a2e7b0bf47850a567cd43c55945d18dfadaf17dc6e35330177a4105c300f76bdefbbac3b94acae88b27ecf52c331d4bf2e4b606ff1d0049458850149de792d68a3dad397e216c3e48ef9831f85ab235e3d79fb870138028322409c7d5880b06925c4b41f010275af38f4e8e86304c9a9457c2a505bf7e8208875781eb21c1ab28a47dd83660daf9d933bf10f344c085283ebb6fa73217c9c63cd1cfca23762f0e8aa76157b155d1f88fe2fb6cc11c3744fcdc580d3c1e913b65429600aaeb87da0ffdebcd5e3151cdbf38872a3f8fc07f5700abf795d3c134b92663acf9c30379356d0ffc5d557e9f95851f8717a62f4c4adb7ea4f99565578e67275de61b52fa283e91f3a17c8d397fb45b292bd9cdb8afadd7f30945c01c1273c2d92f5f663bb54ebd1d4617875f70f6d5a68d14ec8579690d3be582ecb719d409baca3ab45ce17d9e20e9c512863dba65b405730e51c66c4eebbc14df48b3b43200b522a5f1b94c2ce25754a8772330b1f2b7623545e40effc36ba0fd52553dbd89961e4b472782d3b907d3d88817e0b69e160ade9ee5563d252f45e9be72d0eee6d20c3eeabff16f221ed53a617951cc056da95dabb0b0429f8de60e0158e945b3ac7f324df89439b760249e9e4da3efd14a8c6d7c7332e73fbefa22375f6e07c3f34bd0bd91513be1ee922af13609538c53782204242fbef6e1e44ad4f06d87a2315b421c71e6a05f38f24cfd2de7f97a71476a0e47afd4b6c2488a6e989f6856ea86689268ab7124c447545bf3406a7bfb3f7ab0867c4b3b8ec45ff8838b3a5debc29a57df534438d204bd5394522740c71fbc031fbdf41fad0c91ae32f84d80a763a439588539a98b55b7fdcd4b0506fe247e4ce2be2eb48be4d5f7c9f48d10480c847a17719f9fa2d54c14fa021cffc782deab5459971b81fe2843d88bfd93dbae5d85259d43189c1653ed62a49b5f874ec109a94e61b689c8fa11389eb0fcc6bfd8e3c438dc98b9298a7036ca717ef4d815df1e563fe6b332d5babf6a511c556f44e9071c151c928554909b01bd7d878321c69ac1f08948e538c20a96d99014e6936f93a757c9e1a4c12768a91febe553e763d89225b6032b9344c6017ff03141dca6d772d068a482b7c7f0ef0d679d27f0268db5dee982a2064db56b5e91f0b82cb7f07bf8e11341f7dbe0e50522e398b93e3795ec57007053c925bc9cf811944f20101d601617b821611d5ae020bb02fc2cffba9b70d6cdf381fc5085518ebcb36436d2294b4390108700b293bdebe56526186437144ee30f55d6c9ab24b3de1809fb34da0ebc6bf0ab3be6e90285dd3e5976cb6eea6b9c4375aa1539074bd16ebc73fbbe17b74c2f493233765203441566a7f1843deb8c9ea9261afa7ae7b1710023697ba35996a472c806ec7bba483a83273907145c0aa68a2e22bba3f11eb23e64e675b89d9f2e15d666d3210108c2419772f24f069b04b310345948fa75b6c43674f5c2f6679b872b10c816ab506f8f91f0fafd45b7f37ed3720d9bfb9eeebe2cb1cf4aaa209bf5b39a7aef7fa23964640cae4550391833ff4b52efc3b85c837d429a68cd52c6dbd897cc280bda5e29b74080773cfd1cad7b0fc38fc9194040d5baa9eebc3b26e72d872c651088d88e9fb3b4dec877636af91608fc42e00e05cfaaded3277908f5f03be9501229cb91ec3162c59f468b40f734e5032c2b6de519b4f756972f920483332c933f9d318560335eb74563d1b3608400cadbb55646d3bebbc5f55f724ae3e7fd3ea02a32918a05a442d8211b7322330cdc2a29297718327884d55f9f19f5730dbfa07427cf7269b24fd8f9b8c32b96cec04336f0924bb871b354ba1ec348eb6b775d09db9753bde916ce1eb045bcd37e0781eca8cf6ba3e80d75981889a4cef258cc04888b72dab8c73efcffb1873b9337de2cf2452f291bb4a853b8952d4ca00f8a22e87573c3f7199976a96452c2572f31a5fb0e8c8c3b197de9c39a63a6f03209ce41ca58f96922c13fae6650277195495982e746b9f5d510a768a1bf05eb4833b4501eb47e19fa63c51ac1ba9040ade2fc54549c33b57dae9e20d6f4dca0d6c1c4a5c6461bbee220918ba982a532e649a8493479066254828c232866a0bac330159e4b8a87edfff33bc9dc19021f8a3a42be9c8e6b6140ef9343135ad958023cf436cc4a0aa150774d764e8634fb699b8664e39a192bf19fcfb1331c458c769513e0be1a4c5923f1631215ec7f48703b6dcde575814d2e26e1e87521ca5dc9af870f5b62e837f0c21d9e217b258b27c469b76f20f1bc7d3d6480edfca8cd18d502eb8ca007232b4645a404aec2ed5062ae434e159624242051bd39a17c94ee8c0b0634c18e26fd95a763a3d1da1ac96ec642770dd85eac2531e609b94dc99ae3e2ee720a16abbb06788bf0d2cd0d73445f5f24cf67ccd6e6f61cf4afd540a560737d425b4906f13e4621c1d93145c137d1419b7a57f84fe51514948bb8a137d8f2c96133689265fc388a6b490243ee3179405d086718be0d5d4fe82e263e72279f3aa4ee39977305c459e2cecc63eea606c9855fc98f11fcb8ae23ef64191335a585cfe58d2865b0b93865015f76795d60feace5d7c497d0a06c6b7caf16caa154cbeb5782757ad680c9fa973c912f373eaa9a1a3b9244a6e526fed93976e17fd18d3e72b8b402903033efa37e467f9d42539206d19e8fe7f0d8d6fa69ac5709b5a94840bb9ffad4f3d001fa40668af840a748b2e2d6b88c38ed09bf6ae3031e2d055c36acffe610ee1507ceefa2c269b7303cc85355f74c32b5bd4ee3c79231a4b71f911da6289746d1e1b1d06132fd14e55f92577243d814a77f50ab7550f88c4f974717f91138230545764c61bb98244e3e1c97fd7f100342cf26094c2c29e316301d9fe190b45042c1c9982e563535aa89905556a71febdf79490624b788de5a8ba32e913bba55508bf014c036b74779a9f223893669f9b9866437a8a85decda1a22ba9c0298321215b63637411e81edf48159093e457d114403405fb2f1827a61f8289fe2e5981ff58d08f74edb9acace6fe5e8db4f652918a18f851e84067106ca43b82ab352cf4ccc3edf2bc7dbf4dcc239cc19be9debf66f94248e16a330231f52dac5e2f8d2fd2b3e4248619ab1b4fdf0570bb441fa116e0c1dd35c1c4815f96e486a592856ebaf970921fa1b037974819bf99630d4ae2ab0fd0e1e8da5e337c791ebec7788a32448260e3d0591c35f7a72f5c792646b2efc9b1a088117f5114ba202643a15574ecea07c6eaff656f7accb7708f537bfe1972afa23abec4c630b600576e7478baa1c9bf69441fe8c46eda8ff5e422358325f4d4314bddeda296b6abf45fd5afda35db6c9afb65c469c46276303d7b1478ea117429983492bc88e4fbbfadde49a629dbef67440248c550044df4ee04bcfb42dc2ec4bdc2cce92b635f4a19d91dd76ed20d33e2de70894e23e35bd3e67f0ae081ed476f317c812aa469ec5a2256bdb28b8d5155a678b2ecbca41b64251d0d549792cc8b638eea294aa99f9e5102f6bb32627d200e446bffc5f2fc6af0327e71238c9631172b93eb17522771df34d608842ac05911b7eb0355e6e3bff8329901c783cd46af36e909e70f39aa7b7d8b8caa11f346035fbe3a1f87214c911f2304d2da8d8a44c6d965181ee1ea78c847a4a716f23c372ab7b80c1807657b2d97128ac942504f720d003656184743d0ccc6eebf019661b0e93de243897b1ce3deae3443c5d829b4ed0c58318bbbff668a6b6663c650e52346da2b9c09e866713cae1e851fcf704d15036ad0969a48e1fa6bb97cb984291d323f337c416f6fe3cc59dd62ebf8f7ef8d2ba3856a2620b90338b4d4d553bac405ea084905b07fa807d60064818a55df7eb4ff1e2b9f8d46656bc5d96348fe55889d4b4e3d19df5fa5eb16d052778620d67477c52e4bf8a0af8dc376bc357c44f4bfbcfae7cd115b3b0ba70f6c48b620db64bfa440370c832e01f9b5347ed64a6da541d1ecfefcb7f6a985f43a4873e3f36961a01a0af03f4380472b7bc4d140b37289a12e0beda95ba20e7d5aaffc0be7ea85eaaf75f1498d6d727677ffee34bbe79a9b9d648862f97fded71013adf1c9a02d964671a6d036e31ed98e37902ec3bd981553d4912b1f36719765e5fd61c6f128bb1a8c05c9c7116d4fb608a478c41ccd5f27683ea31162b3b6dcd893a50ab52a9692a4a1862c2c68c90ad6f9cfcccdda8690b03ede3ab92d57da4aea54b6175f92a86e1a26502db5e8e390ca5bf030d46b9fb52e830d341b0b27119a184dd5ba1d29c81d413f154e09ee7d2d23df594bd0ee0f32328791f2c565be87d12777ee15e99c9f483e84282b6aad10fc4cdac6f38c941226e4d7c4a210e9c058b5c7a13c38c76b3cf04f7ca022105ab2467d03f98f860963974211d718c23d31a4776529d5d1f25ecdbdcbff6212d06ef7120dcbcdbfc340687cc6d68a24fe5a56affbc011280d34c0c7bec5fd923bb056accf0b1526917f83bd123903060552d4f9a9e27ae7b02d0a1aa76f5da7399231f712c28f07ef8d9917c9f24278fd89b4339c592ac5a3b3af4ad313a320eb46b164532417895f5e22234ae8e3cd00e9123fe27c6685da31b0c26b35a44e6e33b676cd3a59e7aa13b6513464f2efcb42d66d2dc149d988be540549100bbf7536131f71252ba2bd2d21b547b7bdd30c74379aff5306a18f6950ffe61c2ada49a77ab1464dc4568aee8d54f017e8c055b59f68fa3ff93b04b97bcdce0a727c05512ab870e450895642dbffb5aec7c627694dfc51025de15160858413d55051414cb8d74ebd021a4b1d35cd6d0008f1a10472730c419ccafbca4997e676fa1d98558251c77386fb40404b618bde5b1d27620d634d40b033db9299931eed4ca0f1d31940ead27eb04b6aa55a385cb14817738188966d529cc6a0eef844cf18fdedf03d1a5c0c56d075858c96a14c42b88fa740e997beb4fccaf04f0fa91dd9e539f1c6742da912bacd2a2adcda399f15a90aab3f092d9dd365269c875803f592c61b2a7acd7da6a3424edb031e61fc6e3e173c081d509541886cc41647d6fb9e88ff9df404036de0e4d8239474015b92dbcc5e7a37cb8c208fbca3853e7aac59ab2a9d58d9d40d81ad3e8349078f551a57642dffd3045cc42523ec42fe74bdff2c9f84a1e3c1798ec5cd57be5b7039819400d601b71da4a7e186cc66b622506d87ca5e04053472ffe11a4055bf02fec54d9d331ae869856ca2abb67eab2b8042999f8b347f3c1748be43957a2a7afba45485e353771dc8a1b23effd13eaedf01a7806994d0486f215bdff94aec035a78f1497612e169250676988d3885fac2c33337346884c4317d2a472e65e436a5a25cde8642097980a31b21f3cd941250b813699735d9eac955664598a073e3bc9f986121042f5d108d08502cd6ab93afc2a32008feb27892b2f8d40068fd36e1328b51560708424e74ed08a98dfcc1d822944b412c2ba9a2d62d369152526e0fbf334de6354ed2d45339441ae78b83fc63d3ed4abe1a1ce3a61f577c1ea04ebad01693c089c02ecbae94910bb6c62f38e4e429d05b1c82d534bba7fc9e090df587b73c5cf6abffc73b5bc89f7e9eb3e367ab1a13fd49f9b775a0c3326b50d9898e8d62c0689694ed5f34637f0bc1ba976aecc6f9dc46b7712e603a654412d5ee15a0c26c1abf0821580fa96b0479ab11bd1bc5770c562d913ebee45724def043ff65b9d54330e34583dfb1919f0d044dd604bd95ec839d96385da0d061d5e2723c25ed491d3d8690393d4c7d995ec1692ab697e3642fc0761cf83058bc50e683c184bbf38cf334b01be43e54a741f1f609ff108b22a4fab50451612304f5d861300e46595331a5a0ec62f7e82340085b964ac2809a62151fe1eaca4496eb08b2a0a7d95a9379752108a1418cb6c151cdc48196308a83afdb9d324b915a10da815430a46c37a8a47021b8d50d2e783591bd2c72b9da84dc1384a279a39fedddefc040cda324f992fc447197cbe2005039f36f1f9a848afd0df8029b1acdb507921ad1d85e64b9cae9e577e971dc1ebf62305651c1491e5f7db1bf644ee1398b45b68a0d72cf8665a35b242ed490fac633116b8221b4e23ce62025d879f8b81acf53dea762e3801686166dce14164704bb1d83d675354d104c8988918f339c65a5b765e96b9900a16fe51cd77591dd9f3b94a16e103a5a473b531fd1c38faf0d402ec73f644f6e32b115bc27b736c3e03e1a25c54cb86564fbfb177fa8a9ff88973bd243929ee725f4f2df86daeadbdfb3f15e07dd227c56d946feaf396703fb8be61fcf66358a8fd5a2371d74b91aeb8e0de9805228dde70f3184775f680f3ffcec318743e2c11e0604471a9848fa77741071c2f5b5a336b9062df0ea2fab4f947f3d231b644d2abe0264a22d5c6cc6cd92d7977b04c7d70b7dbfde30df43ea4b448676a89902a17c912061c0eb85b31e906f62241085316ca57e47e0b5c47d11f0b28ca94726065c1fa75b2d60a38387b1cec0bfca437a9b8ff32a2d4f29b820e78fd76aadeff7a50bb6c5f2727cdeed68012dc42b258bae4e686db4ca1cd1ba3a86ece00431517472bf2eb5274d2d7316fd7c150c73d7d912052f83a113b7e9171db652a5ed809c8aa22b6748e610fbdc95185060222ccef7e215b9491d3f9b08f30d9b76e3e7e075ce280aa0fa3c39a897f0300d4019f49a9bd4588744b153cc9d193c8c3e4566f1fae1812c92f2418b8c1d210d722f750baa713068015aba9b7e681337e92e587ff16cdb457c6c9674e9c8250fe8c23bce7e8c90541be1301e4524d7be6523787e096212579fbdd33210945225f3488bf8c3235055934fe46934aaf1db7bb687bcf008e8139e0f4d0b6374074b071a02d558abf5f39b40dda06d45cb2da705404f46d19c90254d574fababcca9507469dc3a93ad51dcf6822acd798af96da419d156c50699668de0e53f90de7408ead6ae41427e54e23733ccef135f951a90e3ab30f6516be967639e3d1dd0e17dd01efd911158543452573683a5fe49878b69220b47dbeba5b390a94ffdb7f6c7fb5ee541919fd8261573ffe3bb665e0f8302ed40f83554f49d1a9a328cf66404251cf05bf18583a27673f156aec3eeccc5b4d0d05bd7769e19bb44d3e005b8a717dea42d54902d53924aa8a032cd3a6d54e674984689d2e9ec5af7d349d97785a87b694c77ec39624d475844569dadd3b6c95ec64ece3c5e1caba2b889ebacc8946e61c3f31d0654372012cfa6447ba7defa2d96294647a97772af2f57d19e1b7bc0c2a79c60b8a53289e4f9d92551b0b6ce5630adaa6c61728b046710f272fd7fc0998d4051d05635d055c6c71830ec08731f6cc62de16f4e3b6a232f2f55797ae209cb9903281bb312f116b37e819ecbcf1b900b2ae25d64e2686f85b6da898d728a6cdbf8b7c07625aee64ec3eab65bb3cf0c6898a8d0a4a3ae975e7568bdaf2a778dd1be13e0c0db5a1d8e388990f39fbb923657d39c7719bf9e7ce0bbabddea45d8d11809b2f31e7cc7927a098653e01ecf6e0630ac295c4092b14ce9c263b761b5a208537dacfa8147896c6b1dafcd8f775a849e3f2567c5f924c415e90ae09d4621f8064d893ec957e060d28c497e24bf28367c5d2cf1054568587b463d2195afd7aa7e9f4cf320d379183ff20337c2bda53f9e41374fe5ed7a8cad3cb5cf7dc2d5806fbfed852509dcfc0dee1a34576463de18f11faf778bc514cc929ed39776870d4a5abc4e7c387c33716e544767c29c67b2cce064d4456aaa6acbc27f8b54ea6960827c20119b4acd6d742922199b5c92c8d749d460c31f70ba82db432f7eb32657fed5412dd7c9431357ad0e4b2cfa87f40837332a9b619f68db3dec845da59be2a34f5fa432dc15da2236254fe404bc743d24aa9af945df1002c9720fc30e212d1b092dbe73db78079a29208534a76907374d6d4e8cf5acc7a086a9cc6d56258c2d4f647a969e7268816d6ef8cdbb89201c22df8a8731324adcb626b5de5750a7cfd02bb99b76e2e533a980d8f28d881928812924b2e146c6c5c624b8162fb4c8d9035612f7a3684ebe9de8caf800af2ca5b185fd2ce5f0f669e9942c237bb3693da44a70bcfc0bc0258e20718bd51974be096825e2724493ddcbf31d94238dc3c4515e3021fdde9eb46e6b6385de9ea19c4f19494c5826a306bef2f0bdc3a291ad3b22858410126b3f73d2575852e0858532544d8d3ab1e56f8fd4b4cba3e01ad1a4882359465fd3fbbafc32c3a238c41569f90cf02813a3f45f4c4969d8cd71738599e60a68eb98a01fc6bb9525fb4fd01ce962db1f2d4744f5ab990a872ce63332ee9425b95892797838768c27e06b7099d48873471d6a6d1ca12d104ccf1adbe989f8de9b3a9039e5142cb38f3b9a653cb32a0a8d9b28fc6e98571c55091ecb97f56c4f2920ea994a02fc361a8fef97bf9236aca68d084a68d2c18e64d475a5484da0ff2f133369dbd1d89fa3e358dec7b37ad864cf4879cf1cbc251b916baae92e4d6489eb58f4ba41cfcd71fb559d1222d5a9394d6f5a8520250df5f7cb1ba92ef10681730f8900bc14430a6f54ae93caa2de98be4fa9bd6b270992cbc9d6be2e3e07c8187d9eb28e231936c1e65fcc7b21719134d2ea922c18dec37e1067b379d21c6b18ac9ee0bb0ece69fe903d95435a55f04d464d96790448b465797af077e5a37850e7903d1cc2f502c0bff2e52c38dc1752c76ca57aa6ebd0d6cefead1d0872820b02edef9029df345bb2410acbc295815e2cd24e5a28f4155dc45269a4218a7cb9579a9ad5615645486d02d4d74cc5f335195a3d163d0cfd8beb3f96964f6d980b4bcbf40f70ee0952fd22942686683667a347d3fbc6a3de8be84b83be913fdfef7496fe169486589c4a409e6cc0232e830cfe1a5e0f39d4e98f551ecaf50d4c258a656a140f453d328bb30d8a54832c802ee4a15be6e7fd10d24f27e7c1196076cfd5471a1fb423a0d2b48f79f78aa216bb44f2666498a72c9c4d95ac7d3263c37d9665af5405f4aea7d932bfa9d80e4c6095abc22dbb776d57a3e5869fff9bb669eb03a59f44190b8f925e754aa5afeca5a93aec855b3a2f903b334f6168ce8e9ea91ba692732135da2bf9e80d9c71d1d00a19570bd0c4ffba2dd771a6d26bfc53a1db300246afa10ccc9cb46ee7e28ad7c25a6b508c5acaa819e1e6db0bc58f440a470cb8c6c8ee42fccd30d2b435b9cf240037ccece55f0b4d88dfd1a3519793ed6853fec819e433d257ae7c78e1b91658e7054fa609b30ab7cb9e6fcfa12969f4cf2df6b7bd614dcf20d792644484712183a343aacbac416bb3d5f7cca7deb92e3984d33356f6e1b247d612fba0d92692aba2d45f743a86884125e7756cdd4f0f9b863de55512f52300bd3fc020b90cfc9da922dbe54c30268918051ca7b19554edfc60218aebfe72896c1f4419d1b6513d9c3b0f82239be575cf8a1bf1c47c19da7ac5c795f2adafeb7295476eae82e4c80e590f20c1549902580c1d5ff704a6182a925d246ea618c1f565de59a1bee7eb7e1bb26fef138e8e0dcad0bc7986c7b94698833457d97c1162eb63f5943f1fd03cd476f4fa1f77d0d4f84a6c01bf42cdaa0b16fa97f523ca223986a0b142dd14734232800d2995e76346e4f22c29f474196fc7b45f0b8907db6c7d919a9c63b8496bd928057a3f89fced79a5ccaac0c44567d476b40292e992365d9d2a982d4e097b819480a343bdc0296290eb21c1160d1af331fb9ba5e840218374022dfd8d30cafaea765df400a15c0954576e242bb3152fb0c24c1ae0e52ceabf08cd0f58ccc914be11c127599e5cf13a46f61b2e7cf360769a3356bdf0211267ca27c8d0757692f62725c665874f2441945b36e7ca75daab8ef14229da0325ff363bb7baae783ca88cd9d3f6bb37e9dd41691aef24fc2483ad95e3b22a170b1d4c66410d43a945e517a890deefcc97b3dfc529dcfab0d68d81ff96577fb6c4d0e4f0df4b39bcff1ebb10171dfcfd67f727f124a5b41187e1e230f73941be13270617f274b19aad447ac45ebacd43b931ec28820305651534c19f534abca96a663b707019aefac9b07fbce6247bf80ba21da1c429fb646876ace438c46ab30d4576b3a75d86a0d2326cd4ff21e540366193f5af751895849f042411d9beafb69490e123689bb9849a579aeebd25273d7b339d74eaee49f96da1dfee017415088254d91c3c2c222990cb469a654afa5fd7a70ea0be122db314f0deb11948d00aa83b670f9205b5840279e57b020366c42ff1b022d70d6c794560bce65b4837a31b487a359bc0ed364760aa8a75af757211e76fb995883dcb9f5adbf8fd87e05f80e2277fa3f22571e9c30568795801218755f772ec9823666bc83b423ce4f58a10deafbcaa06535d08ac2296695125df1d2cbe1de50293fa108e68602e8288ac5f0243d97dd600055348fd3ec17618e438a036d20d1a67204822f72688dabfceb52500f7f1062d17aad5139e4ecfd22151a2f5f8cb9831d1b609c9e74081ff8f740706c29988db9219aa4a81ac7b68ba58f223557c8ea52c42dc1f7e6d942b54c8be5317ab9e63f98068ab2ab668f0e3170667fe2c369b6984f443504bad6eb7fe620545e39745bc3b6a8141ba706af1a325ae68e6c4c86434c284ed189108b479408d010b6d0f8897460b8c09c1b31ce0593230440e5f35e4ca106eec894d153d83c95977b982e53d74aac5b16fa88be5712d2a2053f5ae78594cd949ea18b94c5fabebab8e7fd7cdb9ebeb717c1048889e1e0d7f615d8701798fd023b16491b52b7021986284a6995217ebc3b51465108e249b8428b3148d17562d0fcac4265a77e9c6ac090059eb16f172dc3566152e6c95e74317de4a55b86a5cbfd85acf11a727c9e6d60affe686dd74ffc5a82a8b1685e700f23677c15959fc3b9a35e3b7dbbc9eeba6b8eb15b1abe54b078ec2136d8b03803cfde72e2394a14f9fff92d91f7eb1e519692baf551643e901afdd5145d1d1057e5f7bad28bcecbd7024c3deab795acc53a55d5ed3bca4d6d72fd623f71f1393152a829a54e9a53aecf90b88e07aea5f4feebec7364a84f835a42fee40dc9a123efc95f5cc4adf312dd2d555d8d1c0c27252ea57dbe52f7f01a0cbcefdd2952aa3f3a1e41fe788b2d98477597eec9c004652495a80f6648c5e3cd3e4a18195767d003cf03a2f62fe0e872c52fc2cdf4e60a56ed21be25db8b168053199c89b6a3890b201e3dbee656a83f6b69f2d8f18b1912a9dbbb7d9a138a9844395f94cc1a5dc3c847ec675e62cb122df1033c02666892d4e0c2dc23697e8e9ac1be3b48a13d6f86e6e65192aaabd4902dc1275a3a5d331d7b4e43db662ac689482fd06f309b5f56b4e7c3c2c7a21fba30e46ac694f106af919ef6309fa04095fa2a44858e97bf82729754e57a6b274da1d29e05018dc8809bb44aeb44b4cf737a472ff13d5d68c77c5d722fd29aacce192fdc82f35398691d9e410acf81cb21bfd31a19bf10818fcc96b737e59d91e91a47aad8729044084e40a0c2ec1e92fd50cf5626569ec2a34d417a58e31f46353781b906eced5fdcbbf939617a3859c25208759e6c1feacaf915f1912da2cb8ee714f848b381afe13f2c9c77ec7e63082c8912f295009d5de8fa6a508beffa8bd99cecf64a1e157f567ecfb5d8584757c49b5e2f85edbcb448f387bf7591383877ab92cfe3b611395cdea51f76636e314b1523b22e118bcec3273807dafb8d204b7d09a99be415a80eac26974e2e5685f1978df4927ff0d3085cee5ba123b50e60f91e6c83818aa23fcec5705f71ffe78c382bdbed3a5428884aa9c98fa7913971da183fb98d46992f3b2fb66d8d74969fb9c531b4c40bab6db21fda3cf658d46e27a785b1818cfaa23990064cd40adb199821951ba38afe4daa655667d19687a6c8ba34ea09383ab7fa6034bfff43f6a4ce0157f633d7951883922666ad03b5f3df38e5fceb8268b17a25eda16fc8db92dec472c5311bfb480cdf8f6b25fb10177b0225a987b2ffdbcb41d43887c2b26ae76a868876e8d951bd15b175ac46473d7fb777cec7ac18de6b14bc229e1bc5203a9a4091cf3f4624abcec6fa115f0f9858383523b2619358fefb748693411cbae3dee18de072100db46fe6b382caa0101118ee405d541ef577f34a3be29c921273e9b34f40b9fba7d94c3ba8203bd55bde858197eb761741d2a7232d3282e4c54e333d545aa967b937d90c848160eaf5187cd8c124550443bac38e6370db5f255218331f24d18eae3902c9f58c5f3aecd6fef1f67df979e4b707282b2da3aee9d6d7049431990178cebd39c9d7fdcde9af918559c75127db5631f719510413e6b2e950b2c9ebac9f4a31c78f02233ee5821d9eeb868268a6cbd538656bc4a5da876c1fb6f8864e2391c7a888377cd909689e1dd18b87edd1eed7c9f5155a67b4f4bbbdefa4f457a5b26daa76cc7eb7b496b88690ce0bb03731b9bb36adf78ff42f52e06470550c186c93ef87c2226f3d305546a847ae503bf21fb284df797eed26a582d1adb1c145ce3e43cc87aeca458dfc51d97ff8a9d7ea1aa3a4ea168c27de907c697d540ccbbc4d196271dcfbab02644827a42c2f766387fa516431bde49b0940e11f34a59734679d83b7450ec358b7af3287016205b002ee9a041f310539b17cbbb6d588527749e436918fe1401ba2a6cac8eb326d77707c568fecd9a958bdceb56f6bbf18bdab7aa2840ae6cf01c5f1ac022d7f2bd17d714c0b3e27bf2f5d9c01aaabad1bd32c1cd8ce9c28b435e456a2f07267ca1e28396defe459f748b25474dccbc713d17649c0ee1c4e256902aa8323c55ceb1b2061114cd93ae381d820889b2fa632f62693eb228fb2659d268f315756a2c7b964e0d4eb97dacf7fdb382d41dfba991473b620c6390267514f1e2344b07021716d632af075a040dbf2afd99ae6aca5c6f7b1999aec2d7267700e5809e6381795a927e0572de6ab314b6e1cb72680a32b3de9a69bac5242e5923dccdc6fa2f77a6e15aea58d4096ee97b82cc1e19e3ab2802220bb17b33f6a8ba0238b7706156997063162a8964b10f0777beb88f5f24f0f20f931b20917a976222692cc0fdff03a82a9388cd67885378030ad048ff60dd3e</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">å½“å‰æ–‡ç« æš‚ä¸å¯¹å¤–å¯è§ï¼Œè¯·è¾“å…¥å¯†ç åæŸ¥çœ‹ï¼</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>å®¶åº­AIOå°ä¸»æœº</category>
      </categories>
      <tags>
        <tag>AIOå°ä¸»æœº</tag>
        <tag>å†…ç½‘ç©¿é€</tag>
        <tag>OpenWrt</tag>
      </tags>
  </entry>
  <entry>
    <title>OpenWrtå…¥é—¨-ZeroTieré…ç½®MoonèŠ‚ç‚¹åä»è®¿é—®æ…¢çš„æ¢ç´¢</title>
    <url>/2022/05/21/my-home-server-configuration-zerotier-moon-slow/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰ï¼Œæ‚¨è¾“å…¥çš„å¯†ç é”™è¯¯ï¼Œè¯·æ£€æŸ¥åé‡æ–°è¾“å…¥ã€‚" data-whm="æŠ±æ­‰, å½“å‰æ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯å¯ä»¥çœ‹çœ‹è§£å¯†åçš„å†…å®¹ã€‚">
  <script id="hbeData" type="hbeData" data-hmacdigest="4d163efbda2cde79733a663b56925896c9273484af5b5e6daa404a97a650f1bf">acfa8236f19544fca1fdfcbbbcf37b76a7a430cd48ef2a9905ddd270a18191d4f927a29fa0ba09537ce4604d59ef12af09d646710dfdfed5e54774364d4c33ebdd210781c267180d847a07d7e43134fd89e54843e459b34a988cb8bd760411f5fd114448b85494f03e033d981aa6aad59b4712c91d8bb1074b63d48b2a5ba924154d0cf8925217b751004b6a18e1680124b791edbc5a99c8f36662592eab84b74f06ff7e86e9f3e63ec7472de8c30be6c383492bd66004d894f082e3a97e0a862be5989ff3a7f0e189ace45bae07aadbcc5001cf3018525ab72076ae446f2e60243dd1abd41652e55bb53c28648f06dda36084c8abb9ed342c67baa7267e4b0844b2eba8b5219c1820361283d6863d4cbe8de43cfc6046396fee2919701b8208ddd3d6e7b35af95160112a6bff726a5e1f476da6d4beb1291b0fed0749145a145c938f524a6ece4bc9759b0263401f8f9e17a308837ac312a302ede10c88b79851a58b1b4cd6c1fe6405c5b853ebf64376f510c5e39af3c19f2087df2fc9ea1e21feb5b93b67949d869cce4b391d6ed13b4d82f35a974e4ceb7b34beb4da2499a419a04b6160734b03b7fe31c4acc7e5f9fba0a86d3c7f8fa74294167fbe88da2f8fbed3fa193bf1d4a40041f3a37c6365536bf46c2f82f995a65cc4bdce33f7fb5e953ec75f46fb995b97c651f4de476040be14137c661637f458ef08f608fa2f1ffa426fb87439a2221519a29dbb2206377d47da4203a79c5845e74c5aa8e87132f293afdc89638c0569d3ed48a165b0fcc2c4077a75d501643c3123fd27757f3debc3bdda96cc0b650734fe917a93425484d3578f3d3b940c35c90600b1c1928ba5db573f4c4c56bbacdcc85cb5b584ac47d152468ea143e03b77ecbb88156c4d706fbf334a714ca7485002ad261b40ef8168db673b2348939dcfb31e61f89790ea1f0000e58fbede6e3979803bbe21d396f20183499a500485aa07162e67e0c1b017bcfa94db9fa59c71d53beec3e0735ec407888e74c5e740a6fbe783405de43643bd7260cd3d0381883e547ed693c8ef9d3d66822a4314ca5a939e87716dc58e5cf4ea763e1623b7aeeabc5d3b0f358aa1700602573a613a0059cca4599dd53f504d19ad35c19c40d1dec6b9ae8eda7128293b8c25658fa8da4b6763b59008395c3f05a87ec2eec012e1a52e58c8976c87ef4b1fe45072bd2847c40bfda50dd2e2f9e8afcdf175adb579844a09bcdf0b567da5d6b468407b201b47651137c67541041e20a33c38cd9c92e48f46ac6c8a80366c97ea657625319bbe7ecd64eea2f19a032226f58508a961b851f53340f1c34c598a0d787d1354eeabfc4944e87ab28bba0a1e6d37a9b127b4a0fc9a66abd32469cc1a0a80d4422a4fa51d77e2f2c6d4640c42f8b168ac361672c2428fa0260e81cb692a2cd217d1189f7f6bbdb35fa297dd6d7f6148c7eb0dc84da3d49174d8d8f9dad1d13d527fb50d450ef8f27b809f7e3ea35ccc7b72b14ab2cc06b852c4fd36a0b1d6120a0d6b0793d190f9bb75042e375588f204bc5ba3c7081deb4d46f9e93939f6556e23789f0853f9e7b5b58bb95d21f3564b60f8ed5c49cecdc789ea38493aa55a76e8ba0a3afa70225c402cf3c3278df0f493deeffda1e92048660e53b5fd932dfd08201841d245e2574c7b835685097d00652ac04b64937933eaf18dd6de2ece704fbb14e2b0da37ca0b1387bfdb1dcb722c3261279fab94670d87d7acc344085f8d2962816986434a6a0cc3ebaa6fbbdc72d005b64f1147eee793ccb08023c9d0c96c1ddf0126781ba474efeabd6cd9d161dc0e6f44c0fd1e2f75d39b8c7f369d3c1e9b53eb8f588dfc842bc8b2336659d03922e03b4be73ba52d6d9e2e91927cf71b10e5b57c4b7b0c437c14663787091a85a26e04f12584d58dea9bd935100c5b7233a0029b0cf79c2cc62cae4c59c1045bf1fe</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">å½“å‰æ–‡ç« æš‚ä¸å¯¹å¤–å¯è§ï¼Œè¯·è¾“å…¥å¯†ç åæŸ¥çœ‹ï¼</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>å®¶åº­AIOå°ä¸»æœº</category>
      </categories>
      <tags>
        <tag>AIOå°ä¸»æœº</tag>
        <tag>å†…ç½‘ç©¿é€</tag>
        <tag>OpenWrt</tag>
        <tag>ZeroTier</tag>
      </tags>
  </entry>
  <entry>
    <title>PVEé…ç½®-æ™ºèƒ½å®¶å±…HomeAssistantå®‰è£…</title>
    <url>/2022/05/04/my-home-server-configuration-pve-home-assistant/</url>
    <content><![CDATA[<h3 id="å†è°ˆ-Home-Assistant"><a href="#å†è°ˆ-Home-Assistant" class="headerlink" title="å†è°ˆ Home Assistant"></a>å†è°ˆ Home Assistant</h3><p>ä¹‹å‰å°ç±³æ™ºèƒ½å®¶å±…ç«çš„æ—¶å€™ï¼Œæˆ‘å°±ç ”ç©¶è¿‡ <code>Home Assistant</code> ç³»ç»Ÿã€‚ä¸è¿‡åæ¥ç”±äºæ²¡æœ‰å¤ªå¤šçš„æ—¶é—´å’Œç²¾åŠ›ï¼Œç©äº†ä¸€æ®µæ—¶é—´åå°±æ”¾å¼ƒäº†ã€‚</p>
<p>è¿™æ¬¡æ­£å¥½å€Ÿç€é…ç½®å®¶åº­AIOå°ä¸»æœºçš„æœºä¼šï¼Œå†å¥½å¥½çš„ç ”ç©¶ä¸€ä¸‹ <code>Home Assistant</code> ç³»ç»Ÿã€‚</p>
<p>è¿™é‡Œå¯¹HAç³»ç»Ÿä¸åšè¿‡å¤šä»‹ç»ï¼Œç›´æ¥é€‰æ‹©åœ¨PVEç³»ç»Ÿä¸­æ¥æ­å»ºHAç¯å¢ƒã€‚</p>
<hr>
<h3 id="è·å–-Home-Assistant-OS"><a href="#è·å–-Home-Assistant-OS" class="headerlink" title="è·å– Home Assistant OS"></a>è·å– Home Assistant OS</h3><h4 id="ä¸‹è½½é•œåƒ"><a href="#ä¸‹è½½é•œåƒ" class="headerlink" title="ä¸‹è½½é•œåƒ"></a>ä¸‹è½½é•œåƒ</h4><p>å¯ä»¥ä» Home Assistant å®˜æ–¹çš„ GitHub ä»“åº“ä¸­ä¸‹è½½ç›¸åº”çš„ç³»ç»Ÿé•œåƒã€‚</p>
<ul>
<li><a href="https://github.com/home-assistant/operating-system/releases" target="_blank" rel="noopener">Releases Â· home-assistant/operating-system</a> </li>
</ul>
<p>æˆ‘ä¸‹è½½æ—¶æœ€æ–°çš„ç‰ˆæœ¬ä¸º <code>Home Assistant OS 8.0.rc3</code> </p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220505224415.png" alt="20220505224415"></p>
<p>å‚ç…§ Home Assistant å®˜æ–¹çš„å®‰è£…æ•™ç¨‹ï¼Œæˆ‘æ˜¯é€šè¿‡ <code>KVM</code> çš„æ–¹å¼æ¥è¿›è¡Œå®‰è£…ï¼Œæ‰€ä»¥éœ€è¦æ»¡è¶³ä»¥ä¸‹ä¸¤ç‚¹è¦æ±‚ï¼š</p>
<ul>
<li>é€‰æ‹©æ‰©å±•åä¸º <code>.qcow2</code> çš„é•œåƒæ–‡ä»¶</li>
<li>BIOSå¯åŠ¨é¡¹è®¾ç½®ä¸º <code>UEFI</code></li>
</ul>
<p>è¿™é‡Œé€‰æ‹©é•œåƒæ‰©å±•åä¸º <code>.qcow2</code> å­—æ ·çš„ç‰ˆæœ¬ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220505224437.png" alt="20220505224437"></p>
<p>ä¸‹è½½è¯¥é•œåƒæ–‡ä»¶åˆ°æœ¬åœ°ã€‚</p>
<p>Home Assistant KVMæ–¹å¼å®‰è£…å®˜æ–¹ä»‹ç»ï¼š <a href="https://www.home-assistant.io/installation/linux#hypervisor-specific-configuration" target="_blank" rel="noopener">Linux - Home Assistant</a> </p>
<h4 id="ä¸Šä¼ é•œåƒ"><a href="#ä¸Šä¼ é•œåƒ" class="headerlink" title="ä¸Šä¼ é•œåƒ"></a>ä¸Šä¼ é•œåƒ</h4><p>æ‰“å¼€SSHå·¥å…·ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯ <code>FinalShell</code> ï¼Œé€šè¿‡SSHç™»å½•åˆ° <code>PVE</code> ç³»ç»Ÿã€‚ç„¶åå°†ä¸‹è½½çš„é•œåƒæ–‡ä»¶æ‹–åŠ¨ä¸Šä¼ åˆ° PVEã€‚</p>
<p>ä¹‹åï¼Œé€šè¿‡ <code>xz</code> å‘½ä»¤è§£å‹ï¼Œå¾—åˆ°ç›¸åº”çš„ <code>.qcow2</code> æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># xz -d haos_ova-8.0.rc3.qcow2.xz</span><br></pre></td></tr></table></figure>

<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220505225130.png" alt="20220505225130"></p>
<hr>
<h3 id="é…ç½®HAè™šæ‹Ÿæœº"><a href="#é…ç½®HAè™šæ‹Ÿæœº" class="headerlink" title="é…ç½®HAè™šæ‹Ÿæœº"></a>é…ç½®HAè™šæ‹Ÿæœº</h3><h4 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h4><p>æ‰“å¼€ <code>PVEç³»ç»Ÿç½‘é¡µç«¯</code>ï¼Œé€‰æ‹©é¡¶éƒ¨èœå•æ  <code>åˆ›å»ºè™šæ‹Ÿæœº</code> ã€‚</p>
<p>ä¾æ¬¡é…ç½®ï¼š</p>
<ul>
<li>å¸¸è§„ è®¾ç½®åç§° <code>HassOS</code></li>
<li>æ“ä½œç³»ç»Ÿ é€‰æ‹© <code>ä¸ä½¿ç”¨ä»»ä½•ä»‹è´¨</code></li>
<li>ç³»ç»Ÿ ä¿æŒé»˜è®¤</li>
<li>ç£ç›˜ é»˜è®¤é…ç½®çš„ç£ç›˜åæœŸè¦åˆ æ‰ï¼Œè¿™é‡Œçš„å¤§å°æ— æ‰€è°“</li>
<li>CPU è®¾ç½®ä¸º2æ ¸</li>
<li>å†…å­˜ å¤§å°ä¸º <code>2048</code></li>
<li>ç½‘ç»œ ä¿æŒé»˜è®¤</li>
<li>ç¡®è®¤ ç¡®è®¤ä¿¡æ¯ï¼Œç‚¹å‡»å®Œæˆ</li>
</ul>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220505225426.png" alt="20220505225426"></p>
<p>ä¹‹åæœ‰ä¸¤ç‚¹éœ€è¦è¿›è¡Œé…ç½®ã€‚</p>
<h4 id="ä¿®æ”¹BIOS"><a href="#ä¿®æ”¹BIOS" class="headerlink" title="ä¿®æ”¹BIOS"></a>ä¿®æ”¹BIOS</h4><p>æ ¹æ®å®˜æ–¹è¦æ±‚ï¼Œé€šè¿‡ <code>KVM</code> æ–¹å¼å®‰è£…éœ€è¦è°ƒæ•´BIOSä¸º <code>UEFI</code> æ¨¡å¼ã€‚</p>
<p>åœ¨ PVEç³»ç»Ÿå·¦ä¾§æ ‘å½¢èœå•ä¸­é€‰æ‹©åˆ›å»ºçš„è™šæ‹Ÿæœºï¼Œå¹¶ä¾æ¬¡ç‚¹å‡» <code>ç¡¬ä»¶</code> â€“ <code>BIOS</code> â€“ <code>ç¼–è¾‘</code> â€“ ä¸‹æ‹‰åˆ—è¡¨ä¸­é€‰æ‹© <code>OVMF(UEFI)</code> â€“ ç‚¹å‡» <code>OK</code> </p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220505225513.png" alt="20220505225513"></p>
<h4 id="ç§»é™¤ç¡¬ç›˜"><a href="#ç§»é™¤ç¡¬ç›˜" class="headerlink" title="ç§»é™¤ç¡¬ç›˜"></a>ç§»é™¤ç¡¬ç›˜</h4><p>å†ä¾æ¬¡é€‰æ‹© <code>ç¡¬ä»¶</code> â€“ <code>ç¡¬ç›˜</code> â€“ <code>åˆ†ç¦»</code> ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220505225530.png" alt="20220505225530"></p>
<p>æ­¤æ—¶ç¡¬ç›˜çŠ¶æ€æ˜¾ç¤ºä¸º <code>æœªä½¿ç”¨çš„ç£ç›˜0</code>ã€‚ç„¶å <code>ç‚¹å‡»é€‰ä¸­</code> â€“ <code>åˆ é™¤</code> ï¼Œå°†ç£ç›˜ç§»é™¤ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220505225625.png" alt="20220505225625"></p>
<h4 id="å¯¼å…¥é•œåƒ"><a href="#å¯¼å…¥é•œåƒ" class="headerlink" title="å¯¼å…¥é•œåƒ"></a>å¯¼å…¥é•œåƒ</h4><p>åœ¨ <code>PVEç³»ç»Ÿç½‘é¡µç«¯</code> å·¦ä¾§æ ‘å½¢èœå•ä¸­æŸ¥çœ‹å½“å‰ <code>HassOS</code> è™šæ‹Ÿæœºçš„ <code>VMID</code> å€¼ï¼Œè®°ä¸‹æ¥å¤‡ç”¨ã€‚</p>
<p>å›åˆ°PVEç³»ç»ŸSSHè¿æ¥çš„Shellçª—å£ï¼Œå®šä½åˆ°å½“å‰ <code>.qcow2</code> æ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># qm importdisk 104 haos_ova-8.0.rc3.qcow2 local-lvm</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼š</p>
<ul>
<li><code>104</code> æ˜¯åˆšåˆ›å»ºè™šæ‹Ÿæœºçš„ <code>VMID</code></li>
<li><code>haos_ova-8.0.rc3.qcow2</code> æ˜¯ä¸‹è½½çš„hassOSé•œåƒçš„æ–‡ä»¶å</li>
<li><code>local-lvm</code> æ˜¯é•œåƒç£ç›˜å®‰è£…åçš„å­˜å‚¨ä½ç½®ï¼Œä¸€èˆ¬å°±æ˜¯ <code>local-lvm</code></li>
</ul>
<p>å‰ä¸¤é¡¹éœ€è¦æ›¿æ¢æˆä½ è‡ªå·±çš„ã€‚</p>
<p>ç­‰å¾…å‘½ä»¤æ‰§è¡Œå®Œæˆã€‚å½“è¾“å‡º <code>Successfully imported</code> æ—¶è¡¨ç¤ºé•œåƒæ–‡ä»¶å¯¼å…¥æˆåŠŸã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220505232329.png" alt="20220505232329"></p>
<h4 id="åŠ è½½ç¡¬ç›˜"><a href="#åŠ è½½ç¡¬ç›˜" class="headerlink" title="åŠ è½½ç¡¬ç›˜"></a>åŠ è½½ç¡¬ç›˜</h4><p>å›åˆ° <code>PVEç³»ç»Ÿç½‘é¡µç«¯</code> ï¼Œåœ¨ <code>HassOS</code> è™šæ‹Ÿæœºçš„ <code>ç¡¬ä»¶</code> ä¸‹å¯ä»¥çœ‹åˆ°å‡ºç°äº†ä¸€ä¸ª <code>æœªä½¿ç”¨çš„ç£ç›˜0</code> ï¼Œè¿™ä¸ªå°±æ˜¯åˆšåˆšå¯¼å…¥çš„é•œåƒæ–‡ä»¶ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220505232431.png" alt="20220505232431"></p>
<p>åŒå‡»è¯¥é¡¹ï¼Œåœ¨å¼¹å‡ºçš„ <code>æ·»åŠ ï¼šæœªä½¿ç”¨çš„ç£ç›˜</code> çª—å£ç‚¹å‡» <code>æ·»åŠ </code> æ¥ä½¿ç”¨è¯¥ç¡¬ç›˜</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220505232440.png" alt="20220505232440"></p>
<h4 id="å¯åŠ¨é…ç½®"><a href="#å¯åŠ¨é…ç½®" class="headerlink" title="å¯åŠ¨é…ç½®"></a>å¯åŠ¨é…ç½®</h4><p>ä¾æ¬¡ç‚¹å‡»å·¦ä¾§çš„èœå• <code>é€‰é¡¹</code> â€“ <code>å¼•å¯¼é¡ºåº</code> ï¼Œå‹¾é€‰å¯ç”¨åˆšåˆšæ·»åŠ çš„ç¡¬ç›˜ï¼Œå¹¶å°†å…¶é¡ºåºæ‹–åŠ¨åˆ°ç¬¬ä¸€ä½ï¼Œç„¶åå°†å¦å¤–ä¸¤é¡¹çš„ <code>å·²å¯åŠ¨</code> å–æ¶ˆå‹¾é€‰</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220505232451.png" alt="20220505232451"></p>
<p>è€ƒè™‘åˆ°åæœŸHassOSç³»ç»Ÿè¦ä¸€ç›´è¿è¡Œï¼Œå¯ä»¥å°†å…¶è®¾ç½®ä¸º <code>å¼€æœºè‡ªå¯åŠ¨</code>ã€‚ä¾æ¬¡é€‰æ‹© <code>é€‰é¡¹</code> â€“ åŒå‡» <code>å¼€æœºè‡ªå¯åŠ¨</code> â€“ <code>å‹¾é€‰</code> â€“ <code>ç¡®å®š</code></p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220505232520.png" alt="20220505232520"></p>
<p>è‡³æ­¤ï¼Œè™šæ‹Ÿæœºçš„é…ç½®å°±å®Œæˆäº†ã€‚</p>
<hr>
<h3 id="åˆå§‹åŒ–HA"><a href="#åˆå§‹åŒ–HA" class="headerlink" title="åˆå§‹åŒ–HA"></a>åˆå§‹åŒ–HA</h3><p>åœ¨ <code>PVEç³»ç»Ÿç½‘é¡µç«¯</code> ç‚¹å‡»å·¦ä¾§çš„ <code>HassOS</code> è™šæ‹Ÿæœºï¼Œç‚¹å‡»ä¸Šæ–¹çš„ <code>å¯åŠ¨</code> æŒ‰é’®ã€‚åˆ‡æ¢åˆ°å·¦ä¾§ <code>æ§åˆ¶å°</code> é€‰é¡¹ï¼ŒæŸ¥çœ‹ç³»ç»Ÿå¯åŠ¨çŠ¶æ€ï¼Œç­‰å¾…ç³»ç»Ÿåˆå§‹åŒ–å®Œæˆã€‚</p>
<p>åˆå§‹åŒ–å®Œæˆåï¼Œå¯ä»¥çœ‹åˆ°å‘½ä»¤è¡Œä¸­è¾“å‡ºäº†å½“å‰ç³»ç»Ÿçš„IPä¿¡æ¯ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220505232603.png" alt="20220505232603"></p>
<p>åœ¨æµè§ˆå™¨ä¸­è®¿é—®ç½‘å€ <code>http://homeassistant.local:8123</code> ï¼Œåˆ™è¿›å…¥äº† <code>Home Assistant</code> çš„åˆå§‹é…ç½®é¡µé¢ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220505232752.png" alt="20220505232752"></p>
<hr>
<h3 id="é…ç½®HA"><a href="#é…ç½®HA" class="headerlink" title="é…ç½®HA"></a>é…ç½®HA</h3><p>å¡«å†™ç™»å½•è´¦å·ä¿¡æ¯ï¼Œè¿›å…¥ä¸‹ä¸€æ­¥åï¼š</p>
<ul>
<li>æ—¶åŒºé€‰æ‹© <code>Asia/Shanghai</code></li>
<li>å•ä½åˆ¶ é€‰æ‹© <code>å…¬åˆ¶</code></li>
<li>è´§å¸é€‰æ‹© <code>CNY</code></li>
</ul>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220505232857.png" alt="20220505232857"></p>
<p>ä¸‹ä¸€é¡µä¸­ï¼Œå¯ä»¥å°†è¿™å‡ é¡¹éƒ½å‹¾é€‰ä¸Šã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220505232905.png" alt="20220505232905"></p>
<p>ä¹‹åï¼Œç‚¹å‡» <code>å®Œæˆ</code> ï¼Œå°±è¿›å…¥äº†é»˜è®¤çš„ç•Œé¢ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220505232917.png" alt="20220505232917"></p>
<p>è‡³æ­¤ï¼ŒHomeAssistantç³»ç»Ÿå°±å®‰è£…å®Œæˆäº†ã€‚</p>
<hr>
]]></content>
      <categories>
        <category>å®¶åº­AIOå°ä¸»æœº</category>
      </categories>
      <tags>
        <tag>AIOå°ä¸»æœº</tag>
        <tag>PVE</tag>
        <tag>Home Assistant</tag>
      </tags>
  </entry>
  <entry>
    <title>PVEé…ç½®-é•œåƒåŠ é€ŸåŠLXCå®¹å™¨å®‰è£…Docker</title>
    <url>/2022/05/03/my-home-server-configuration-pve-faster-lxc-docker/</url>
    <content><![CDATA[<p>åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­é…ç½®å¥½äº†PVEåŸºç¡€ç³»ç»Ÿçš„ç¯å¢ƒå’ŒOpenWrtçš„ç½‘ç»œç¯å¢ƒï¼Œæ¥ä¸‹æ¥å°±è¦å¼€å¿ƒçš„æŠ˜è…¾å°ä¸»æœºäº†ã€‚</p>
<p>è¯è¯´ â€œç£¨åˆ€ä¸è¯¯ç æŸ´å·¥â€ï¼Œæ‰€ä»¥åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆè¦ç£¨ç£¨åˆ€ã€‚</p>
<p>é€šè¿‡ä¹‹å‰çš„äº†è§£ï¼Œæˆ‘ä»¬çŸ¥é“PVEç³»ç»Ÿåº•å±‚å°±æ˜¯åŸºäºDebiançš„Linuxç³»ç»Ÿï¼Œæ‰€ä»¥åœ¨åç»­æˆ‘ä»¬éœ€è¦å®‰è£…ä¸€äº›ä¾èµ–æ–‡ä»¶çš„æ—¶å€™ï¼Œå°±æ˜¯åœ¨Debianç³»ç»Ÿä¸‹çš„é‚£äº›æ“ä½œäº†ã€‚è€Œæ­¤æ—¶å°±ä¼šé‡åˆ°å®‰è£…ä¾èµ–åŒ…æ…¢çš„é—®é¢˜ï¼šPVE7é»˜è®¤é…ç½®çš„aptè½¯ä»¶æºå’ŒCTå®¹å™¨æ¨¡æ¿æºå‡æ˜¯å®˜æ–¹é»˜è®¤çš„ï¼Œè€Œåœ¨å›½å†…è®¿é—®åˆä¼šé‡åˆ° â€œä½ æ‡‚å¾—â€ çš„é—®é¢˜ã€‚æ‰€ä»¥æˆ‘ä»¬è¦å…ˆæ¥åŠ ä¸ªé€Ÿã€‚</p>
<hr>
<h3 id="æ›´æ¢è½¯ä»¶æº"><a href="#æ›´æ¢è½¯ä»¶æº" class="headerlink" title="æ›´æ¢è½¯ä»¶æº"></a>æ›´æ¢è½¯ä»¶æº</h3><p>æˆ‘å½“å‰ä½¿ç”¨çš„PVEç³»ç»Ÿç‰ˆæœ¬æ˜¯ <code>v7.1-2</code>ï¼ŒåŸºäº <code>Debian 11 bullseye</code> ç³»ç»Ÿã€‚</p>
<p>é»˜è®¤ä»¥ <code>root</code> ç”¨æˆ·ç™»å½•ç³»ç»Ÿå¹¶æ“ä½œã€‚æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root@pve:~# cat &#x2F;etc&#x2F;os-release </span><br><span class="line">PRETTY_NAME&#x3D;&quot;Debian GNU&#x2F;Linux 11 (bullseye)&quot;</span><br><span class="line">NAME&#x3D;&quot;Debian GNU&#x2F;Linux&quot;</span><br><span class="line">VERSION_ID&#x3D;&quot;11&quot;</span><br><span class="line">VERSION&#x3D;&quot;11 (bullseye)&quot;</span><br><span class="line">VERSION_CODENAME&#x3D;bullseye</span><br><span class="line">ID&#x3D;debian</span><br><span class="line">HOME_URL&#x3D;&quot;https:&#x2F;&#x2F;www.debian.org&#x2F;&quot;</span><br><span class="line">SUPPORT_URL&#x3D;&quot;https:&#x2F;&#x2F;www.debian.org&#x2F;support&quot;</span><br><span class="line">BUG_REPORT_URL&#x3D;&quot;https:&#x2F;&#x2F;bugs.debian.org&#x2F;&quot;</span><br></pre></td></tr></table></figure>

<h4 id="aptè½¯ä»¶æº"><a href="#aptè½¯ä»¶æº" class="headerlink" title="aptè½¯ä»¶æº"></a>aptè½¯ä»¶æº</h4><p>æ›¿æ¢å‰å¯ä»¥å…ˆå°è¯•æ›´æ–°ä¸‹è¯ä¹¦ï¼Œä¸»è¦æ˜¯ä¸ºäº†é˜²æ­¢è¯ä¹¦ä¸å¯ç”¨å¯¼è‡´æ— æ³•æ‹‰å– <code>https</code> æºçš„æƒ…å†µã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># apt install apt-transport-https ca-certificates</span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆæ›¿æ¢é€šç”¨è½¯ä»¶æºï¼Œ<code>Debian</code> ç³»ç»Ÿçš„è½¯ä»¶æºé…ç½®æ–‡ä»¶æ˜¯ <code>/etc/apt/sources.list</code> ï¼Œå…ˆå¯¹è¯¥æ–‡ä»¶è¿›è¡Œå¤‡ä»½ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># cp &#x2F;etc&#x2F;apt&#x2F;sources.list &#x2F;etc&#x2F;apt&#x2F;sources.list.bak</span><br></pre></td></tr></table></figure>

<p>ç„¶åå°†å…¶ä¸­å†…å®¹ä¿®æ”¹ä¸ºå¦‚ä¸‹ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©ä½¿ç”¨æ¸…åçš„è½¯ä»¶æºåœ°å€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">deb https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;debian&#x2F; bullseye main contrib non-free</span><br><span class="line"># deb-src https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;debian&#x2F; bullseye main contrib non-free</span><br><span class="line">deb https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;debian&#x2F; bullseye-updates main contrib non-free</span><br><span class="line"># deb-src https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;debian&#x2F; bullseye-updates main contrib non-free</span><br><span class="line"></span><br><span class="line">deb https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;debian&#x2F; bullseye-backports main contrib non-free</span><br><span class="line"># deb-src https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;debian&#x2F; bullseye-backports main contrib non-free</span><br><span class="line"></span><br><span class="line">deb https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;debian-security bullseye-security main contrib non-free</span><br><span class="line"># deb-src https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;debian-security bullseye-security main contrib non-free</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://mirrors.tuna.tsinghua.edu.cn/help/debian/" target="_blank" rel="noopener">debian | é•œåƒç«™ä½¿ç”¨å¸®åŠ© | æ¸…åå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™ | Tsinghua Open Source Mirror</a></li>
<li><a href="https://mirrors.tuna.tsinghua.edu.cn/help/proxmox/" target="_blank" rel="noopener">proxmox | é•œåƒç«™ä½¿ç”¨å¸®åŠ© | æ¸…åå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™ | Tsinghua Open Source Mirror</a></li>
</ul>
<h4 id="pveè½¯ä»¶æº"><a href="#pveè½¯ä»¶æº" class="headerlink" title="pveè½¯ä»¶æº"></a>pveè½¯ä»¶æº</h4><p>pveé•œåƒé»˜è®¤çš„pveè½¯ä»¶æºé…ç½®æ–‡ä»¶æ˜¯ <code>/etc/apt/sources.list.d/pve-enterprise.list</code> ï¼Œå°†è¯¥æ–‡ä»¶å¤‡ä»½ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># cp &#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;pve-enterprise.list &#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;pve-enterprise.list.bak</span><br></pre></td></tr></table></figure>

<p>å¹¶å°†å†…å®¹æ›¿æ¢ä¸ºä»¥ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">deb https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;proxmox&#x2F;debian bullseye pve-no-subscription</span><br></pre></td></tr></table></figure>


<h4 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h4><p>æœ€åï¼Œæ‰§è¡Œæ›´æ–°æ“ä½œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># apt-get update</span><br></pre></td></tr></table></figure>

<h4 id="ä¸€ä¸ªé—®é¢˜"><a href="#ä¸€ä¸ªé—®é¢˜" class="headerlink" title="ä¸€ä¸ªé—®é¢˜"></a>ä¸€ä¸ªé—®é¢˜</h4><p>å½“æˆ‘æ‰§è¡Œæ›´æ–°å‘½ä»¤åï¼Œå´è¾“å‡ºäº†å¦‚ä¸‹çš„æŠ¥é”™ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># apt-get update</span><br><span class="line">Err:1 https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;debian bullseye InRelease</span><br><span class="line">  Temporary failure resolving &#39;mirrors.tuna.tsinghua.edu.cn&#39;</span><br><span class="line">Err:2 https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;debian bullseye-updates InRelease</span><br><span class="line">  Temporary failure resolving &#39;mirrors.tuna.tsinghua.edu.cn&#39;</span><br><span class="line">Err:3 https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;debian bullseye-backports InRelease</span><br><span class="line">  Temporary failure resolving &#39;mirrors.tuna.tsinghua.edu.cn&#39;</span><br><span class="line">Err:4 https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;debian-security bullseye-security InRelease</span><br><span class="line">  Temporary failure resolving &#39;mirrors.tuna.tsinghua.edu.cn&#39;</span><br><span class="line">Err:5 https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;proxmox&#x2F;debian bullseye InRelease</span><br><span class="line">  Temporary failure resolving &#39;mirrors.tuna.tsinghua.edu.cn&#39;</span><br><span class="line">Reading package lists... Done</span><br><span class="line">W: Failed to fetch https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;debian&#x2F;dists&#x2F;bullseye&#x2F;InRelease  Temporary failure resolving &#39;mirrors.tuna.tsinghua.edu.cn&#39;</span><br><span class="line">W: Failed to fetch https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;debian&#x2F;dists&#x2F;bullseye-updates&#x2F;InRelease  Temporary failure resolving &#39;mirrors.tuna.tsinghua.edu.cn&#39;</span><br><span class="line">W: Failed to fetch https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;debian&#x2F;dists&#x2F;bullseye-backports&#x2F;InRelease  Temporary failure resolving &#39;mirrors.tuna.tsinghua.edu.cn&#39;</span><br><span class="line">W: Failed to fetch https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;debian-security&#x2F;dists&#x2F;bullseye-security&#x2F;InRelease  Temporary failure resolving &#39;mirrors.tuna.tsinghua.edu.cn&#39;</span><br><span class="line">W: Failed to fetch https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;proxmox&#x2F;debian&#x2F;dists&#x2F;bullseye&#x2F;InRelease  Temporary failure resolving &#39;mirrors.tuna.tsinghua.edu.cn&#39;</span><br><span class="line">W: Some index files failed to download. They have been ignored, or old ones used instead.</span><br></pre></td></tr></table></figure>

<p>åæ¥å‚è€ƒäº†ç½‘ç»œä¸Šçš„ç›¸å…³é—®é¢˜ï¼Œå‘ç°åŸæ¥æ˜¯ <code>DNSæ²¡æœ‰é…ç½®å¥½</code>ã€‚</p>
<p>è§£å†³æ–¹æ³•æ˜¯ç¼–è¾‘å¦‚ä¸‹æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># vi &#x2F;etc&#x2F;resolv.conf</span><br></pre></td></tr></table></figure>

<p>ç„¶åå°† <code>nameserver 223.5.5.5</code> æ·»åŠ åˆ°å…¶ä¸­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nameserver 127.0.0.1</span><br><span class="line"># æ·»åŠ é˜¿é‡Œäº‘çš„DNSæœåŠ¡å™¨</span><br><span class="line">nameserver 223.5.5.5</span><br></pre></td></tr></table></figure>

<p>æˆ‘è¿™é‡Œé€‰æ‹©çš„æ˜¯é˜¿é‡Œäº‘çš„DNSï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ˜¯ <code>8.8.8.8</code> æˆ–è€… <code>114.114.114.114</code> ã€‚ä¹‹åå†æ¬¡æ‰§è¡Œ <code>apt-get update</code> å‘ç°è½¯ä»¶æºæ›´æ–°æˆåŠŸäº†ã€‚</p>
<ul>
<li><a href="https://www.cnblogs.com/Lxk0825/p/9520002.html" target="_blank" rel="noopener">ubuntu æ‰§è¡Œapt-get updateæŠ¥é”™Failed to fetch - Lxk- - åšå®¢å›­</a> </li>
</ul>
<hr>
<h3 id="ä¿®æ”¹CTå®¹å™¨æº"><a href="#ä¿®æ”¹CTå®¹å™¨æº" class="headerlink" title="ä¿®æ”¹CTå®¹å™¨æº"></a>ä¿®æ”¹CTå®¹å™¨æº</h3><h4 id="ä»€ä¹ˆæ˜¯CTå®¹å™¨"><a href="#ä»€ä¹ˆæ˜¯CTå®¹å™¨" class="headerlink" title="ä»€ä¹ˆæ˜¯CTå®¹å™¨"></a>ä»€ä¹ˆæ˜¯CTå®¹å™¨</h4><p>PVEä¸­çš„CTå®¹å™¨ï¼Œä¹Ÿå«LXCå®¹å™¨ã€‚</p>
<blockquote>
<p>LXCä¸ºLinux Containerçš„ç®€å†™ã€‚å¯ä»¥æä¾›è½»é‡çº§çš„è™šæ‹ŸåŒ–ï¼Œä»¥ä¾¿éš”ç¦»è¿›ç¨‹å’Œèµ„æºï¼Œè€Œä¸”ä¸éœ€è¦æä¾›æŒ‡ä»¤è§£é‡Šæœºåˆ¶ä»¥åŠå…¨è™šæ‹ŸåŒ–çš„å…¶ä»–å¤æ‚æ€§ã€‚</p>
</blockquote>
<p>ä»¥ä¸‹ç»Ÿç§°ä¸º <code>CTå®¹å™¨</code>ã€‚</p>
<h4 id="ä¿®æ”¹æ¨¡æ¿é•œåƒæº"><a href="#ä¿®æ”¹æ¨¡æ¿é•œåƒæº" class="headerlink" title="ä¿®æ”¹æ¨¡æ¿é•œåƒæº"></a>ä¿®æ”¹æ¨¡æ¿é•œåƒæº</h4><p>å½“åˆ›å»ºCTå®¹å™¨æ—¶ï¼Œéœ€è¦å…ˆä¸‹è½½ç›¸åº”ç³»ç»Ÿçš„æ¨¡æ¿é•œåƒï¼Œæ­¤æ—¶å°±æ¶‰åŠåˆ°æ¨¡æ¿é•œåƒçš„è½¯ä»¶æºäº†ã€‚</p>
<p><code>CT Templates</code> çš„é…ç½®æ–‡ä»¶ä¸º <code>/usr/share/perl5/PVE/APLInfo.pm</code> ã€‚å°†å…¶ä¸­é»˜è®¤çš„æºåœ°å€ <code>http://download.proxmox.com</code> æ›¿æ¢ä¸º <code>https://mirrors.tuna.tsinghua.edu.cn/proxmox</code> å³å¯ã€‚</p>
<p>å…ˆå¤‡ä»½è¯¥é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># cp &#x2F;usr&#x2F;share&#x2F;perl5&#x2F;PVE&#x2F;APLInfo.pm &#x2F;usr&#x2F;share&#x2F;perl5&#x2F;PVE&#x2F;APLInfo.pm.bak</span><br></pre></td></tr></table></figure>

<p>ç„¶åæ‰§è¡Œå‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># sed -i &#39;s|http:&#x2F;&#x2F;download.proxmox.com|https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;proxmox|g&#39; &#x2F;usr&#x2F;share&#x2F;perl5&#x2F;PVE&#x2F;APLInfo.pm</span><br></pre></td></tr></table></figure>

<p>é’ˆå¯¹ <code>/usr/share/perl5/PVE/APLInfo.pm</code> æ–‡ä»¶çš„ä¿®æ”¹ï¼Œé‡å¯æœåŠ¡åç”Ÿæ•ˆã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># systemctl restart pvedaemon.service</span><br></pre></td></tr></table></figure>

<p>ä¹‹åï¼Œåœ¨ PVE ç½‘é¡µç«¯ä¸‹è½½ <code>CT Templates</code> çš„é€Ÿåº¦å°±å¿«äº†ã€‚</p>
<hr>
<h3 id="ä¸‹è½½CT-Templates"><a href="#ä¸‹è½½CT-Templates" class="headerlink" title="ä¸‹è½½CT Templates"></a>ä¸‹è½½CT Templates</h3><p>æƒ³è¦åˆ›å»ºCTå®¹å™¨ï¼Œå…ˆè¦ä¸‹è½½ç›¸åº”çš„CTæ¨¡æ¿é•œåƒã€‚</p>
<p>ä¸‹è½½æ¨¡æ¿é•œåƒï¼Œæœ‰ä¸‰ç§æ–¹æ³•ã€‚</p>
<h4 id="ç½‘é¡µç«¯ä¸‹è½½"><a href="#ç½‘é¡µç«¯ä¸‹è½½" class="headerlink" title="ç½‘é¡µç«¯ä¸‹è½½"></a>ç½‘é¡µç«¯ä¸‹è½½</h4><p>ç½‘é¡µç«¯ä¸‹è½½æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨PVEç³»ç»Ÿä¸­æ“ä½œã€‚</p>
<p>ä¾æ¬¡é€‰æ‹©å·¦ä¾§æ•°æ®ä¸­å¿ƒä¸‹çš„ <code>pve</code> â€“ <code>local(pve)</code> â€“ <code>CTæ¨¡æ¿</code> â€“ <code>æ¨¡æ¿</code> ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220504123638.png" alt="20220504123638"></p>
<p>åœ¨å¼¹å‡ºçš„çª—å£ä¸­é€‰æ‹©æƒ³è¦ä½¿ç”¨çš„ç³»ç»Ÿé•œåƒï¼Œç‚¹å‡»åº•éƒ¨çš„ <code>ä¸‹è½½</code> æŒ‰é’®å³å¯ä¸‹è½½åˆ°æœ¬åœ°ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220504123659.png" alt="20220504123659"></p>
<h4 id="ç½‘é¡µ-å‘½ä»¤è¡Œæ–¹å¼"><a href="#ç½‘é¡µ-å‘½ä»¤è¡Œæ–¹å¼" class="headerlink" title="ç½‘é¡µ+å‘½ä»¤è¡Œæ–¹å¼"></a>ç½‘é¡µ+å‘½ä»¤è¡Œæ–¹å¼</h4><p>å¦‚æœä¸æƒ³åœ¨é¡µé¢ä¸­æ“ä½œï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå·±é€šè¿‡å‘½ä»¤ä¸‹è½½æƒ³è¦çš„é•œåƒæ–‡ä»¶ã€‚</p>
<p>æ‰“å¼€ç½‘å€  <a href="http://download.proxmox.com/images/system/" target="_blank" rel="noopener">Index of /images/system/</a> æ‰¾åˆ°ç›¸åº”é•œåƒï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220504124901.png" alt="20220504124901"></p>
<p>ç„¶åç™»å½•åˆ°PVEç³»ç»Ÿçš„æ§åˆ¶å°çª—å£ã€‚ä¾æ¬¡é€‰æ‹©å·¦ä¾§æ•°æ®ä¸­å¿ƒä¸‹çš„ <code>pve</code> â€“ å³ä¾§ <code>Shell</code> ï¼Œé€šè¿‡ <code>wget</code> æˆ– <code>curl</code> å‘½ä»¤ä¸‹è½½é•œåƒæ–‡ä»¶åˆ°æœ¬åœ°ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220504123753.png" alt="20220504123753"></p>
<h4 id="å‘½ä»¤è¡Œä¸‹è½½"><a href="#å‘½ä»¤è¡Œä¸‹è½½" class="headerlink" title="å‘½ä»¤è¡Œä¸‹è½½"></a>å‘½ä»¤è¡Œä¸‹è½½</h4><p>å¦‚æœæ›´å–œæ¬¢å‘½ä»¤è¡Œçš„æ“ä½œæ–¹å¼ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©PVEç³»ç»Ÿè‡ªå¸¦çš„ <code>pveam</code> å‘½ä»¤æ¥è¿›è¡Œæ“ä½œã€‚</p>
<p>é¦–å…ˆåˆ·æ–°æ¨¡æ¿åˆ—è¡¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># pveam update</span><br></pre></td></tr></table></figure>

<p>ç„¶åæŸ¥çœ‹å¯ä¸‹è½½çš„é•œåƒæ–‡ä»¶åˆ—è¡¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># pveam available</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥ç­›é€‰æŸ¥çœ‹åŸºç¡€ç³»ç»Ÿé•œåƒï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># pveam available --section system</span><br></pre></td></tr></table></figure>

<p>åœ¨ä½¿ç”¨é•œåƒå‰ï¼Œå…ˆè¦å°†é•œåƒä¸‹è½½åˆ°æœ¬åœ°ã€‚è¿™é‡Œæˆ‘é€‰æ‹©PVEç³»ç»Ÿä¸­é»˜è®¤çš„ <code>local</code> å­˜å‚¨ã€‚</p>
<p>é€‰æ‹©å¹¶å¤åˆ¶æƒ³è¦çš„é•œåƒåï¼Œæ‰§è¡Œ <code>pveam download</code> å‘½ä»¤è¿›è¡Œä¸‹è½½ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># pveam download local debian-11-standard_11.3-1_amd64.tar.zst</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥é€šè¿‡ <code>pveam list</code> å‘½ä»¤æ¥æŸ¥çœ‹å½“å‰æœ¬åœ°å·²ç»ä¸‹è½½çš„é•œåƒåˆ—è¡¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># pveam list local</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://pve.proxmox.com/wiki/Linux_Container" target="_blank" rel="noopener">Linux Container - Proxmox VE</a> </li>
</ul>
<hr>
<h3 id="CTå®¹å™¨å®‰è£…ç³»ç»Ÿ"><a href="#CTå®¹å™¨å®‰è£…ç³»ç»Ÿ" class="headerlink" title="CTå®¹å™¨å®‰è£…ç³»ç»Ÿ"></a>CTå®¹å™¨å®‰è£…ç³»ç»Ÿ</h3><p>CT Template é•œåƒæ–‡ä»¶å·²ç»æœ‰äº†ï¼Œä¸‹é¢æ¥åˆ›å»ºè¯¥CTå®¹å™¨ã€‚</p>
<p>è¿™é‡Œæˆ‘ä»¥ <code>Debian 11</code> ç³»ç»Ÿé•œåƒä¸ºä¾‹ã€‚</p>
<p>é€‰æ‹©PVEç³»ç»Ÿé¡¶éƒ¨èœå•æ ä¸­çš„ <code>åˆ›å»ºCT</code> æŒ‰é’®</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220504123816.png" alt="20220504123816"></p>
<p>åœ¨å¼¹å‡ºçš„ <code>åˆ›å»ºï¼šLXCå®¹å™¨</code> çª—å£ <code>å¸¸è§„</code> é€‰é¡¹å¡ä¸­ï¼Œå¡«å†™ä»¥ä¸‹å‡ é¡¹ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220504123836.png" alt="20220504123836"></p>
<p>å…¶ä¸­ï¼Œ<code>CT ID</code> æ˜¯ç³»ç»Ÿé»˜è®¤ç¼–å·ï¼Œå¯ä»¥è‡ªå®šä¹‰ï¼Œåªè¦ä¿è¯å”¯ä¸€å°±è¡Œã€‚</p>
<p><code>æ— ç‰¹æƒçš„å®¹å™¨</code> å’Œ <code>åµŒå¥—</code> ä¸¤é¡¹ä¸€å®šè¦å‹¾é€‰ã€‚</p>
<p><code>åµŒå¥—</code> é€‰é¡¹å¯ä»¥åœ¨CTå®¹å™¨é‡Œç»§ç»­ä½¿ç”¨ç›¸å…³è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œæ¯”å¦‚è¿è¡ŒDockerã€‚</p>
<p>åœ¨ <code>æ¨¡æ¿</code> é€‰é¡¹å¡ä¸­ï¼Œé€‰æ‹©åˆšåˆšä¸‹è½½çš„é•œåƒæ–‡ä»¶ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220504124122.png" alt="20220504124122"></p>
<p>åœ¨ <code>ç£ç›˜</code> é€‰é¡¹å¡ä¸­ï¼Œè®¾ç½®ç£ç›˜å¤§å°ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220504124138.png" alt="20220504124138"></p>
<p>åœ¨ <code>CPU</code> é€‰é¡¹å¡ä¸­ï¼Œè®¾ç½®åˆ†é…çš„cpuæ ¸æ•°ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220504124149.png" alt="20220504124149"></p>
<p>åœ¨ <code>å†…å­˜</code> é€‰é¡¹å¡ä¸­ï¼Œåˆ†é…å†…å­˜å¤§å°ã€‚äº¤æ¢åˆ†åŒºå¤§å°ä¸€èˆ¬å¯ä»¥è®¾ç½®ä¸ºå†…å­˜å¤§å°çš„ä¸¤å€ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220504124201.png" alt="20220504124201"></p>
<p>åœ¨ <code>ç½‘ç»œ</code> é€‰é¡¹å¡ä¸­ï¼Œå°† <code>IPv4</code> é€‰æ‹©ä¸º <code>DHCP</code> ï¼Œç”± OpenWrt æ¥åˆ†é…IPï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220504124209.png" alt="20220504124209"></p>
<p><code>DNS</code> é€‰é¡¹å¡ä¿æŒé»˜è®¤ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220504124217.png" alt="20220504124217"></p>
<p>åœ¨ <code>ç¡®è®¤</code> é€‰é¡¹å¡ä¸­ç¡®è®¤ç³»ç»Ÿé…ç½®ä¿¡æ¯ï¼Œå®Œæˆé…ç½®ã€‚</p>
<p>ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨å·¦ä¾§æ ‘å½¢èœå•ä¸­çœ‹åˆ°åˆšåˆšåˆ›å»ºçš„CTå®¹å™¨äº†ã€‚ </p>
<hr>
<h3 id="Debian11é…ç½®Docker"><a href="#Debian11é…ç½®Docker" class="headerlink" title="Debian11é…ç½®Docker"></a>Debian11é…ç½®Docker</h3><p>åœ¨ Debian ç³»ç»Ÿä¸‹é…ç½® Docker æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œç›´æ¥æŒ‰ç…§å®˜æ–¹æ•™ç¨‹æ¥æ“ä½œå³å¯ã€‚è¿™é‡Œä»…ä½œå‚è€ƒã€‚</p>
<h4 id="é…ç½®aptå›½å†…æº"><a href="#é…ç½®aptå›½å†…æº" class="headerlink" title="é…ç½®aptå›½å†…æº"></a>é…ç½®aptå›½å†…æº</h4><p>å…ˆå°†é»˜è®¤é…ç½®æ–‡ä»¶å¤‡ä»½ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mv &#x2F;etc&#x2F;apt&#x2F;sources.list &#x2F;etc&#x2F;apt&#x2F;sources.list.bak</span><br></pre></td></tr></table></figure>

<p>ç„¶åæ‰§è¡Œå‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cat &gt;&gt; &#x2F;etc&#x2F;apt&#x2F;sources.list  &lt;&lt; EOF</span><br><span class="line">deb https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;debian&#x2F; bullseye main contrib non-free</span><br><span class="line">deb https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;debian&#x2F; bullseye-updates main contrib non-free</span><br><span class="line">deb https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;debian&#x2F; bullseye-backports main contrib non-free</span><br><span class="line">deb https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;debian-security bullseye-security main contrib non-free</span><br><span class="line"># deb-src https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;debian&#x2F; bullseye main contrib non-free</span><br><span class="line"># deb-src https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;debian&#x2F; bullseye-updates main contrib non-free</span><br><span class="line"># deb-src https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;debian&#x2F; bullseye-backports main contrib non-free</span><br><span class="line"># deb-src https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;debian-security bullseye-security main contrib non-free</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œæ›´æ–°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">apt update</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="å¼€å¯SSHè®¿é—®"><a href="#å¼€å¯SSHè®¿é—®" class="headerlink" title="å¼€å¯SSHè®¿é—®"></a>å¼€å¯SSHè®¿é—®</h4><p>Debian11 é»˜è®¤ç¦ç”¨äº† <code>root</code> ç”¨æˆ· <code>SSH</code> ç™»å½•ï¼Œå®‰è£…æ—¶å€™æ¨èåˆ›å»ºç‰¹å®šç”¨æˆ·ä½œä¸ºç®¡ç†å‘˜å¸å·ã€‚</p>
<p>å¯ä»¥é€šè¿‡ä¿®æ”¹ <code>SSH</code> é…ç½®å¼€å¯ <code>root</code> è´¦æˆ·çš„æƒé™ã€‚</p>
<p>æ‰§è¡Œæ›´æ–°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">apt update</span><br></pre></td></tr></table></figure>

<p>å®‰è£… vim:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">apt install vim</span><br></pre></td></tr></table></figure>

<p>å®‰è£… openssh æœåŠ¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">apt install openssh-server</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹sshæœåŠ¡çŠ¶æ€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">systemctl status ssh.service</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ <code>vim</code> ç¼–è¾‘sshé…ç½®æ–‡ä»¶ <code>/etc/ssh/sshd_config</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;ssh&#x2F;sshd_config</span><br></pre></td></tr></table></figure>

<p>å°† <code>PermitRootLogin</code> è®¾ç½®ä¸º <code>yes</code>, å†å°† <code>PasswordAuthentication</code> è®¾ç½®ä¸º <code>yes</code> ï¼Œ<code>:wq</code> ä¿å­˜é€€å‡ºå³å¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">PermitRootLogin yes</span><br><span class="line"></span><br><span class="line">PasswordAuthentication yes</span><br></pre></td></tr></table></figure>

<p>é‡å¯ <code>ssh</code> æœåŠ¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">systemctl restart ssh.service</span><br></pre></td></tr></table></figure>

<p>è®¾ç½®æœåŠ¡å¼€æœºè‡ªå¯åŠ¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">systemctl enable ssh.service</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ—¶å€™å°±å¯ä»¥å…³é—­å½“å‰PVEæ‰“å¼€çš„æ§åˆ¶å°ç½‘é¡µçª—å£ï¼Œé€šè¿‡ <code>SSH</code> å·¥å…·è®¿é—®è¯¥CTå®¹å™¨ç³»ç»Ÿï¼ŒæŸ¥çœ‹æ˜¯å¦èƒ½å¤Ÿæ­£å¸¸ç™»å½•ã€‚</p>
<hr>
<h4 id="é…ç½®Docker"><a href="#é…ç½®Docker" class="headerlink" title="é…ç½®Docker"></a>é…ç½®Docker</h4><p>é»˜è®¤ä»¥ <code>root</code> ç”¨æˆ·æ“ä½œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">apt update</span><br><span class="line"></span><br><span class="line">apt-get install \</span><br><span class="line">    ca-certificates \</span><br><span class="line">    curl \</span><br><span class="line">    gnupg \</span><br><span class="line">    lsb-release</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">curl -fsSL https:&#x2F;&#x2F;download.docker.com&#x2F;linux&#x2F;debian&#x2F;gpg | gpg --dearmor -o &#x2F;usr&#x2F;share&#x2F;keyrings&#x2F;docker-archive-keyring.gpg</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">echo &quot;deb [arch&#x3D;$(dpkg --print-architecture) signed-by&#x3D;&#x2F;usr&#x2F;share&#x2F;keyrings&#x2F;docker-archive-keyring.gpg] https:&#x2F;&#x2F;download.docker.com&#x2F;linux&#x2F;debian \</span><br><span class="line">  $(lsb_release -cs) stable&quot; | tee &#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;docker.list &gt; &#x2F;dev&#x2F;null</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">apt update</span><br><span class="line"></span><br><span class="line">apt-get install docker-ce docker-ce-cli containerd.io</span><br><span class="line"></span><br><span class="line">apt-cache madison docker-ce</span><br><span class="line"></span><br><span class="line"># é€‰æ‹©æŒ‡å®šç‰ˆæœ¬ï¼Œè¿™é‡Œé€‰æ‹© &#96;5:20.10.14~3-0~debian-bullseye&#96;ï¼š</span><br><span class="line"></span><br><span class="line">apt-get install docker-ce&#x3D;5:20.10.14~3-0~debian-bullseye docker-ce-cli&#x3D;5:20.10.14~3-0~debian-bullseye containerd.io</span><br><span class="line"></span><br><span class="line">docker info</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://docs.docker.com/engine/install/debian/" target="_blank" rel="noopener">Install Docker Engine on Debian | Docker Documentation</a></li>
</ul>
<hr>
<h4 id="dockeråŠ é€Ÿ"><a href="#dockeråŠ é€Ÿ" class="headerlink" title="dockeråŠ é€Ÿ"></a>dockeråŠ é€Ÿ</h4><p>ä¾ç„¶ä»¥ <code>root</code> ç”¨æˆ·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mkdir -p &#x2F;etc&#x2F;docker</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tee &#x2F;etc&#x2F;docker&#x2F;daemon.json &lt;&lt;-&#39;EOF&#39;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [</span><br><span class="line">    &quot;https:&#x2F;&#x2F;docker.mirrors.ustc.edu.cn&quot;,</span><br><span class="line">    &quot;http:&#x2F;&#x2F;f1361db2.m.daocloud.io&quot;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">systemctl daemon-reload</span><br><span class="line"></span><br><span class="line">systemctl restart docker</span><br><span class="line"></span><br><span class="line">docker info</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="docker-compose"><a href="#docker-compose" class="headerlink" title="docker-compose"></a>docker-compose</h4><p>ä»¥ <code>root</code> ç”¨æˆ·æ‰§è¡Œå‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl -L &quot;https:&#x2F;&#x2F;github.com&#x2F;docker&#x2F;compose&#x2F;releases&#x2F;download&#x2F;1.29.2&#x2F;docker-compose-$(uname -s)-$(uname -m)&quot; -o &#x2F;usr&#x2F;local&#x2F;bin&#x2F;docker-compose</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">chmod +x &#x2F;usr&#x2F;local&#x2F;bin&#x2F;docker-compose</span><br><span class="line"></span><br><span class="line">docker-compose --version</span><br></pre></td></tr></table></figure>


<ul>
<li><a href="https://docs.docker.com/compose/install/" target="_blank" rel="noopener">Install Docker Compose | Docker Documentation</a></li>
</ul>
<hr>
<h3 id="é—®é¢˜è§£å†³"><a href="#é—®é¢˜è§£å†³" class="headerlink" title="é—®é¢˜è§£å†³"></a>é—®é¢˜è§£å†³</h3><h4 id="sudo-å‘½ä»¤"><a href="#sudo-å‘½ä»¤" class="headerlink" title="sudo å‘½ä»¤"></a>sudo å‘½ä»¤</h4><p>åœ¨é…ç½® <code>DockeråŠ é€Ÿ</code> æ—¶ï¼Œä¸€å¼€å§‹è€ƒè™‘é€šè¿‡ <code>daocloud</code> æä¾›çš„ä¸€é”®å®‰è£…å‘½ä»¤æ¥é…ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl -sSL https:&#x2F;&#x2F;get.daocloud.io&#x2F;daotools&#x2F;set_mirror.sh | sh -s http:&#x2F;&#x2F;f1361db2.m.daocloud.io</span><br></pre></td></tr></table></figure>

<p>ç»“æœå‘ç°æ‰§è¡Œåæœ‰é”™è¯¯æç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">docker version &gt;&#x3D; 1.12</span><br><span class="line">sh: 46: sudo: not found</span><br><span class="line">sh: 55: sudo: not found</span><br></pre></td></tr></table></figure>

<p>å› ä¸º Debianç³»ç»Ÿé»˜è®¤æ²¡æœ‰å®‰è£… <code>sudo</code> å‘½ä»¤ã€‚å¯ä»¥é€‰æ‹©å®‰è£…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># apt install sudo -y</span><br></pre></td></tr></table></figure>


<h4 id="ä¸æ”¯æŒCentOS7é•œåƒ"><a href="#ä¸æ”¯æŒCentOS7é•œåƒ" class="headerlink" title="ä¸æ”¯æŒCentOS7é•œåƒ"></a>ä¸æ”¯æŒCentOS7é•œåƒ</h4><p>å› ä¸ºä¹‹å‰é…ç½®çš„ä¸ªäººäº‘æœåŠ¡å™¨ä¸€ç›´ä½¿ç”¨çš„éƒ½æ˜¯ <code>CentOS7</code> çš„ç³»ç»Ÿï¼Œå½“å¼€å§‹æ‰“ç®—åˆ›å»ºCTå®¹å™¨æ—¶ï¼Œå°±è€ƒè™‘ç›´æ¥å®‰è£… <code>CentOS-7</code> çš„ç³»ç»Ÿé•œåƒã€‚</p>
<p>ç»“æœç³»ç»Ÿèƒ½å¤Ÿæ­£å¸¸å®‰è£…ï¼Œå´æ€»æ˜¯æ— æ³•å¯åŠ¨ï¼Œä¸€ç›´æ˜¾ç¤ºä¸€ä¸ªé»‘çª—å£ã€‚</p>
<p>åæ¥å‚ç…§æ–‡ç«  <a href="https://blog.csdn.net/phrnet/article/details/104839774" target="_blank" rel="noopener">proxmoxä¸­ centos7 lxc æ— æ³•ä½¿ç”¨rootç™»å½•_phrnetçš„åšå®¢-CSDNåšå®¢</a> ä¸­çš„ä»‹ç»ï¼š</p>
<blockquote>
<p>åœ¨é€‰é¡¹ä¸­ï¼Œé€‰æ‹©æ§åˆ¶å°ä¸ºï¼šshellï¼ˆé™¤äº†ttyï¼‰å°±å¯ä»¥äº†ã€‚</p>
</blockquote>
<p>ä¿®æ”¹é…ç½®åæ˜¯èƒ½å¤Ÿè¿›å…¥ç³»ç»Ÿäº†ï¼Œä½†å´å‘ç°æ‰§è¡Œå‘½ä»¤å¾ˆå¡é¡¿ï¼Œå¹¶ä¸”æƒ³è¦å…³é—­é€€å‡ºCTå®¹å™¨æ—¶ï¼Œå‡ºç°äº†ç³»ç»Ÿæ— æ³•å…³é—­çš„æƒ…å†µã€‚</p>
<p>æ— è®ºæ˜¯æ‰§è¡Œ <code>shutdown -h now</code> å‘½ä»¤ï¼Œè¿˜æ˜¯ç‚¹å‡»åœæ­¢CTå®¹å™¨ï¼Œç½‘é¡µä¸€ç›´å¡åœ¨è½¬åœˆåœˆçš„ç•Œé¢ï¼Œç­‰äº†å¾ˆä¹…éƒ½ä¸èƒ½å…³é—­ï¼Œæˆ–è€…ç›´æ¥æç¤ºé”™è¯¯ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220504132335.png" alt="20220504132335"></p>
<p>åæ¥åœ¨PVEç³»ç»Ÿç•Œé¢åº•éƒ¨çš„æ“ä½œæ—¥å¿—ä¸­å‘ç°äº†å…·ä½“çš„é”™è¯¯æç¤ºä¿¡æ¯ï¼š</p>
<blockquote>
<p>WARN: old systemd (&lt; v232) detected, container wonâ€™t run in a pure cgroupv2 environment! Please see documentation -&gt; container -&gt; cgroup version.<br>Task finished with 1 warning(s)!</p>
</blockquote>
<p>æŸ¥è¯¢äº†ç›¸å…³èµ„æ–™ï¼ŒåŸæ¥ <code>PVE7</code> å¯¹äº <code>CentOS 7</code> åŠä»¥ä¸‹ç‰ˆæœ¬çš„ç³»ç»Ÿå·²ç»ä¸æ”¯æŒäº†ã€‚</p>
<blockquote>
<p>CentOS 7 and Ubuntu 16.10 are two prominent Linux distributions releases, which have a systemd version that is too old to run in a cgroupv2 environment.</p>
</blockquote>
<p>å³ï¼š<strong>PVE7å¯¹äº <code>CentOS 7</code> å’Œ <code>Ubuntu 16.10</code> åŠä»¥ä¸‹ç‰ˆæœ¬ä¸æ”¯æŒï¼Œå»ºè®®å®‰è£… <code>Ubuntu 18.04</code> æˆ– <code>CentOS 8</code> åŠä»¥ä¸Šç‰ˆæœ¬ã€‚</strong></p>
<p>è¯¦ç»†çš„è¯´æ˜å¯ä»¥å‚è€ƒ <a href="https://pve.proxmox.com/pve-docs/chapter-pct.html#pct_cgroup_compat" target="_blank" rel="noopener">Proxmox Container Toolkit</a></p>
<hr>
<p>è‡³æ­¤ï¼Œé…ç½®å®Œæˆã€‚</p>
]]></content>
      <categories>
        <category>å®¶åº­AIOå°ä¸»æœº</category>
      </categories>
      <tags>
        <tag>AIOå°ä¸»æœº</tag>
        <tag>OpenWrt</tag>
        <tag>PVE</tag>
      </tags>
  </entry>
  <entry>
    <title>æˆ‘çš„å®¶åº­å°ä¸»æœºé…ç½®-PVEå®‰è£…åŠOpenWrté…ç½®</title>
    <url>/2022/05/03/my-home-server-configuration-pve/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰ï¼Œæ‚¨è¾“å…¥çš„å¯†ç é”™è¯¯ï¼Œè¯·æ£€æŸ¥åé‡æ–°è¾“å…¥ã€‚" data-whm="æŠ±æ­‰, å½“å‰æ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯å¯ä»¥çœ‹çœ‹è§£å¯†åçš„å†…å®¹ã€‚">
  <script id="hbeData" type="hbeData" data-hmacdigest="3cdc6f27e21eb62d7c50ee872c2fc5d0f70fd0eff56fded19c009c651c938e61">77cd6d8baeb77cb16fc75190e4e8500067ab539fe2563923ed84d1695ad81036e9a7668e57f1e06197f5e725ab0113bf4bfd102f94848d2566699af738c3879ac2eb521551e77ab00efdf38722a9c37a93761b6cb99c20675bd81f84a06d512fcbe2f9f87891fc2ef70322157b0ae79761058a8964a34c88083c252d16e2bda601662f7696749b7aaa46abf0590dfa44502d188aea145f003306e26ed61f7be95c678b1d86d9b850453d0b94f47cdcfa7cbcd8da8e093235232e9163e7aa87ac27ba8047ab421f19187c08970ab22eeafb804d4503279e82ece7d346af084d48c4ff37cc2887faa253210b2a749e1b4fa1ba7ab0df205a282cb8c85beacf84073a5b4d4bb263220b7dc20689e6f4255759f3e1a69569c3905a59b55bad63b4b2e214194073d9efbe06a1496d4de40b6691bd6ab2fd73ab216a9c60682af4adba71dcf840c8d26264ff0b64e1e062c3f003e73beb357949efc5020c4615d2e8db3cc0be641f28ff5e637ab1b43f9c67e9668686eebfa8ad05fa1264eb7da1df4cd6fd3d1090ce221017b9866a7679b7545b3cd3d833dddb763e063d5350847636bbbabefc5ad9836d143f6a59c5aa4d3487fd707d8da221ed5c058a9c7c258c999da7f85b72c8fbbee36cfae20895e7bf712ead3a86da417a1ed030fa793bd66bf6dd1cbb2db62e91dd284270609cadaa80bddbda89751f113b684ecf51ab15f21dd554b67fceb899ed37b5bc8c252ddf49b91f70aa56f0d8a934c986341d9fcab9bace16a597436ced1a0363133b9498748cf55c9a9384969081937b3cfc4f49dacfb1ec9c6bf2bddc2ddb46a6f050fd0eaafe78aea5155573662f50deb33b8aba610bca95ad37f26fe1ddb3f914d4318dd90cd587c07d86a157c70e274ef7b226142ed6914b1b587d226ef5865ee0d85b9fdadff106da633f4420a71703fd20e898395c2152d83ef67eef0fdee0f60417704ec8cd5117731e119f0dd336e77d2c804e3ed620ec09ebbffe7474205f0fc38d072d46e659330361f98e6aea1e7db14bb779f87ab928d2b206e84672e918979a1cdced3a36f18730a9e7fb2a3f879afdca847b114d653857cba1db78c34f1c2659bc8d0ac08d65c2c303909680c80312c634eb57efbf731bdab0697e29c04bc258d45543d9582d25293eccc6122ea339c359d8499d7f8ca9ffdd405ce2546a6173d345fb9cf02c3d640d36ea189129102c96be37b7406515bc4722357cc8be364ba61a1749c1aefb31f889fb0d63483bdaf7cc374235ae3d18316085b67a871a48846d8e8169d763172b51e02b484beb35333530cea3403a2ac3465b50a7511eb22407ed0f1d56384a5b027368383f3f2fad28d06b69ae5e49b78a51454995295d144094492362c10bfed2d34552d27a90d846f32e31b9e574bac99004e85bf7da6baf2eb44787ff066958d5934ff31878a1fd1500b479eaee12af9f7bc0d921060e7bc31707063d6d329036814d2d15629c67da92fee6a9c7c0ac0d33c6c8de03047ee83957b05194c9179f01f8d374239984226a83251b02d13c894438ccbfc6e14ee0543f06333d88ec6d352503c1bc93693c5c87f1e761c7ece6f77b5d5393e43a9dc229b0786eb33e5d96befb3ac2f92492b6e4a3ed3a0ad64240d2b67ce81526bae07252bf445d07eba3691a165ce4d26e207bb0a0fe0b376b2dc9ddfe5e0b7f8580618949f7e96102c9c8383bee1d261b2a2db4b4652123fcb42ce22fc792705240465ad574ea892523508078da605bec1aca32e5a16f283ac6d5125c8e4e9301327c951cfa2171a8cfc37564d9b545221ee03fcbc8e2f9f171eba76fe477c96704443a7d9396a631e29c0f7a55cf3fb0685c398fbbfd2df418cb442c31558bbf849d70ca644dd04da771f4df0d63556a3b6506fab4dbe9130ad700e448d1b842ccc56525ca87fcc7e4bd3f11f38894428244657911d495ac95d033400389430ac4027434d6b59fcce2386fd8211464cd551eebc3dd162f01c59b402f9b480183d8f72d1dc13edcf5a11303aad24181ed35221c7857baf06003bbf11c77a65c159bc1243f221946a372b453c06fcab77d69d5c395d594e164bf9df555b1e461501e771b18d9175765e24d78ab764c5c76085bad048d254a32a1f3c88d213434c65ebbaef32d1839324f59aa135b06624785da09cb5d5f10ac05fb9a4e4dd0fafb6342f847fe362b8040cc820e68e28044b558ddf5eb1c8e9d8df12dc02a452e789e4e608b6f3a6d0a40599db5c0be4bfde7f6dea8f67ff2915c4c5f238f2f5cc35a32cf37092317bcc098e3fadb22ce98bd03ff093dcd3b24e33f6e7cbf4674417e9948e54e0b0ab00c6bca43d548a4904010a640db2e465680a3f70b061086aca8e279a23fe40db6109cbefa1557fb4483b494d61686e5be16ac9bbe14b69814f4b15d40f36358a827a21cd1f3089c67a2b86851e4b793455ddef49d80e03854b58ea5f10fcf39dee9a921e3a9eb59cba35d7201df1f6fcde69fc7fcfdf920f1914e9cbfa810366f84985cc588026e503e87702a090561fc4944ee7c88d6eae1e83eebdaef042fa7669c9f8e21b10c63c3966f5358defd5611c747b1c7a069729ff3752cb07fb78c70792ae153a5125ba4d9b64bc706a3712c0e5c0f9d47616b3925c9b7b9ad3dc085b9278a5e3e6fae4c8fae2fac101ec9d622bc025eef86dbe9f099816573be2ef2632f89bf41de7b643f072e6d6129bf90f11aed4f4fd1c43c7e481e98b213aa5d49c52c1e6dca63554988d1ed41aa0363445ffdc3396af05c61ea0c093452f02c6e5a4d6f964850177c69abec0ee86959f5ca4830d5772441120888d382b37e1e0591735251a62b611b602691c807b005098e020bd1acabe0800434ec26b6986a33ab91890e263a3c97b171f7210db31ad9e1af62e6fa0f1ced837ffc7d764ce39b4781d7fbc79a301ac193ff726981b65edc8a9db78157b449b736d6d3f134f89a7929f895db57bf76f0ec35c29b49de8aad75f99969d3a5832697a182123bde29c4d92680720ba21c0adf42113a40b76ca5bdefdfccc9e6f7e935d6de9cb4167b76cd960572755390324ac5a14df8d9e136f362b4267000ecf5928d1571911f9ab7b3dc49d2e290a24b41838cf2b8a9abcbb7ff7e92d15a4fc3fa823b2522b1c44c7d5284796e6989196cd728749a9d85534b0fd78ba14113dff594f73466cfa6492e3f25b6557dc8ed91b4b1baa425e6d3b4a27049a35f9c3390a0fa9684ae58ae4d1e7e3bb5c9958248b99d89927f534f0e34ff078a1c683a37b21001c7ffd4afb0f4032a4bd4a096e9e77f441cc5b332bbdf69038152ec1b2234eb0d567ec0102f8c3821096d8bd43d9abf54b933f671de672d54a04af76d9bf1750d3be6bd3ef37396cdff551988bf58367e1fff7a9d00fa6d56148270e2b69567d6ab97e2868c2d180ed4e7f8b392ff41618ae1432a6933f89557a80992c85abcd0135e8607920c382892d2f579dd93ef5e4bd9f4a3a7afcd779241c09ee33320b822faa911797247e55d8934b8a96917b62da6bcc1957843145c1b4093657b809242738ae10d82271d1b661dd5ea17a8094c5cae71b9204d39967d578231ee05268f4e568ecd098485e37845195db3cd9758709a3e4263b39278a49e1a8cddef714b2c88744a49bd927327b382bfe904cff4a2a3f970b4038d6c36447e61bf31cb54b97d7baf08b75a7411196c0bb46ce55c28322bda40f032191cc421923404622f5a3c95ca4c83704ed02f413dcf345024b774b00f371cec8ddd756098c64863aa90599435d82290b6650052e3d0905c835c8d81532ec3e210c4c6cac4428e55f7e625bfec49637402d98a682bf8b887e83db1a480c29b4a99ec103bec69f472551f8b7b9221120aa9b7e3dcaac4ef89a7a02a7da2ae7db54376d381bd903bc4aba36e0f311e3acd025a962ddd078699f3e35bfd7b536cd4319626122e5b7cd5b7e0ec6ce91fc7d42dfe4427d4e41636f3e7d99f8aa1c1fc5923103701386193563f0f026f5735a49ec08df2bbbc6cff60a4a590c8168f3404c135cf8efc69442d5caeaf9be82fd5adf90d1d3c0d06267b4162520789857be7a836d6e0f104b7a7f24efbabdcd0508ba9d829b76b956522503c32861b37760927e3b1c1ff2bf4a4fdd8a668542514a35e95c990daf3bf86782ccf6c935e47e115172160456e58a966a0f97228ed1a44190d4a7bcc120f5fb7e907464bd159808e02020891e42b69ed894908f086f56b1aca24a504a486c3d0220f6febdff31cb0c04ca411aa37757d04a8a4d3c893fe0de734601e225096a78dea0439325ee1e49d7eeb7df88f6bbe0437e509049ca6f570b51c671da327a5e8dda2f3b5208203fea0815d99efdad6abf6516a5dab5d22cb1bdc203238a9316afc54d5ed98bb3b08b3645d52263a5acb40f5e8cb1c5d9c415136b229789b8e26d23345c43b5b3efa8cd0d4547e734bf00dc64f91ef470310371e442cd1067dcf0a8d110b070748a8697b316867553fd5798cdf848ca8da1a92f1fde2208869603d1d0ad0e2d5125d0ed518ec43da08bf0e3ae635632f659d9783570a9479d38b08ebc8abbeeee5e36bfea8aa81f38f3ab070702ab5fe25d3da4f2def44025cdcaecd6e081ed8df127e4cfbaf49d4be44ed539a980e9232de6e42295ac9628acd837c2d614eb6638aef6aa34965b5e00d720ede3047d4a455b6f99138a8668ae0c5589327c04a5a760aeb72aec934fbbafd4f4ebc79401e0ebb2eafb0e945ca2901f2d542b3a1a43e3b9ee62485e2024f251426986c34bef5c2b965e3512023675a36db2dbe7c59db2538a801a6971064c8de0c3f729ff13ebc0b878ec6d121968cc4bf3ebb8709c3cac7847ca2624f22f1e744e764c9b6676dfcb1b1e3838d40e98deecfd05c15f8097a3571f1a4825f031e37fa4c19e3689ff9fd88935e2794b3eb594c112368959617d5cf7038bcd0a62c1edca1a063db128e13a73b0a4dd39aee6c59e96dbe2f8168e52c43298a22e77b30100ecc4aa0db56df4703262b3e0c7b0882cd63d9afed045ab3d4a9a9317817ec6a19cee2b80d4a7087dba18f4cc98d87390a50304e135e7f0fc69f375411d14a50b63719cae8042a887e78ad214cd8a5126fa064adbc0038f066e424fce69f322b3b079a273f1d1439f31ac39c0cd41aa55495cc75acd2227366a0011a4e72c572e077947119ffdaa9f6120b627c48b0c2175e38ae020ddfbce95306e8b5a6b6bb4d9c2c1eeb9012c6ab655e00af87550f71c025cd3e8f246ee07a5940a6ef3563dab2c17b35a4cd3fc71dfb516bab01192d4ce230f28d57b79ba0f04fcc3df13007da2ed482aa1b891306d57a99262ba0bc27e08810b3ac32094804f4c6ad58ce384e0aa51fc8798b6c8524727d36d2d5336637f6c711eb39b75a7f2253247b61f789d72f9c3d688894a838f1dc7c3471ac8ee4ef9bd7b664f6ed90c572741b6e87f265076859c4cca1c2e3c37ac978a1a252a687f171d0d20a3db0ad998aa7ce76422543388a1ff82a15b5dc6594e7f8abfc8f99854056a354ead4638a80f80172abaab51a500d46c78db699b8305ac1fbb4e8d28382b2ba27525bb9cd76d0b3a824f7fb61d15f94543c99e73bab081dba2843d05e3e9b3abf9bd1bbbed7b7c206b82074b35ef7f985a52cc20dfa121d1f96f0d7d1a611f4fae63802c0daf1aed287a4bfa3447f735f51a96918a36247916fb8a6f0bbbf45ffc5fc812881d8e8c402dc91af43a461e4fec1940b0c9ab6128ed9bcf39b955e49f6cdaa5693d538bcb0c092d29a9531aa77092140d592f28b689935a4f4500784f6cb4639174c12260133e6fd833e2d7cf7ecc8e91a8c7688ef7038e568a442fc78d11a731e02b6425160875eb5c39537963bd6366c61cfe4ed27e17c884f3cc2246c7991f84c005e312eb403c841212339ec045853f7fa2e09af5b60402d4356fe4e73624c9b9013a0740e53f8d39f1cee11fa9053a379968a01a1b3834821fbc05ed11cbee30128f8ba5703359ded6b2c4b4d0150ca8ff93d73a44291f781e79f0d5631373592ad741bb65223e5d77fcff56c471537b3d186d5626298286d375f0c8e3313851bb7c651ca887bcc7f831bf2d4c0c101116b746dc9d4a7863634cdccd5978f0f7da55b05855609c14c448398baadee89d91d5998b93bc54ad0dd60cca2b0cc309e2d08af9905596ca5c9649df793e1fe3f515870b1cb5a3b21aa2bd9ff911a7e94558575fa182f529529b1c39c9c0a687476a30eb2558c2b2e2d61cc91e5d4e91d91c956904295c823673e9d86b0b54e61f6e0694869158c4fc4ca2464865f7ff7e121250a60615a55367b6ac42012357b255e4346e6030aed14919abf3dec509b162ba62d7f83536d3ecaebb273d15a7b3893be07d69966dca14a4dc667570139c75a4837bd35d276af2b9f38df0c0126e87e8fff44f659cf3b2f62bcb232a4b86540e0b9e2e7428890cbad77cfd5167362aeb09bba5e68786e0786581b55f81d170b2b8a9249efb98985cc1eb86ed33c4e57becc8d7dd0393f792c04f416314457d6473daa06866d182153fe82f7f62eb37c0638c965d51bca68690282188af635905884017afe6fa6432df93fd8961a689aed4cf2bdc6ffa01127db65d6b83a354837f6742471817e5188848c88cd0ca12a6be23808ac6668b44bbe536ef8ebd179ae3211343d311e447742adca08b1e4c64408dced682aa092da9cad85e1b8e2bef725b780b913ba4cb1d0c1c22b3022b5c63b34f488992c431b98ce5496325368db11192405cc1e4e97b964df66f3485f766d5e59f71d8dffb937535009cc950848cd699c5ba3897f37110e02cf5d74a1a9a7348512d33d95ad720ad0453489156115d249a70fb5ae7d9ea4d06a32955a444b096b4258206a234d54b7b25becc8db1237d21b8b6a4cc92a70e63f3e137a0df5a1f802468f3743f98a4115e919660e1610636a660b919d572eb988f1cd906458633aade945d46b9944189cb721988f48595603f1f65e0847f1d736d927291504c8ae91f83ee64825e4cc00836dcb423a1f4ad1c127f696df3f424dc08bf11393b3579df698f5ef3713f076e331d4d5d2f76fc6725d869af18862246ad09f68cf1fcf7c60194a9c3b103ceaac0e99d500c86700d9680bbedbcb2edf77f61ec57bebc92c55ac5aa99dc6bb2e76b29c64306420f2cec3b8c6e9fc1613bded9708c87c4f0d2b2524ee2058887dbce6ccd68859c10ec1c731c7958456dfe1dd2888d9f9d432886c287bccffc6e4ee344254fbe3610ac2dd78c7129803fa282be91e659bebe14b688960f657a5d4def385f863d270c996c53faf7af336720fd60c4063f59d731172a53e97cad6de87c6d44a4418da8307418c870cae27e553119d974bf11b3709ed0eb1c8cb842a3f2b34da012f0c94466e0283359757cf64a05412f104dfe512dd586c20a41179d47555442e8050e495421c74109bde36ab4f2280e05737f6f9d60954daaa459cfdde5ec126572f779a409eb3bd0f245d3f1f634e563ec3de72e06e2a0acdb36f864cebe6e88f61aea4e9fbbe4a71fa63f2af9411b09ec025ad499d1398507f89151b68027bfcf92bd44041452a6e431f3543e4aa017d93d8ce3d4b120ac08e856dfca2a770745792ba4f52d726b23df9fb08294c906297e6d625cdf663c2f754991879d534fedf67dfb3849d24364da07df0c7ca696cfcabc77a5b447ec014204e5c28c85be35f57cf3f2cd8f4d6cb6a34e6ac70260f0782d05ac10fde0dd6926f89d00551b2a9b50f66553fee8328cea68fa62948327f221ad0de67da6bf4dec27c59a47d0affe27945a3332f940b8f7600f7da9dc772fcea7e02295f8e9c602516e07570ffc85f0b7151efb66e07666e13cd176be507c40a8cdeecf485453242249222baf91476cc4a78fd4f5ce7239e72f5dde38782ea83ca969e7e710f7c0f1c3d5f4c5e304d60c47730c7567536994d14acc94308ef5365e4b4509854b83866fbb4a153dd2fa2ffe56a6f48a011e85e6a1ee7944b7909de056a4c10bdafc07dfcbfe8b18deb4406a01550974e206ea07fffa09b44f4b460c94c5840502ae700884a7c78fb893960a85cdd5349e3b612a7684d455590e49caf4056fd7da1b8878b9179df75f5c04dc84fed290eedd73f6840bc95f80a3fb19beef398231f1f990c9dc281eefd91ce14256bf6fce20411cd8939a2e8839f9ebf205124022d8c7dbaf4f0a774c2b098f44aaa466072729cdd5cbc68c3d630ed29c2c5f29c3e66a798897f99683652527303bd46184ab88598a8b0b49155b6b54910a4fbd7d10c0c54f0eb43e63bc5b39b61d021682deb485b5f3056eec1a6664deaa6a2a3a43cbfc18514c2072dafca6aa59a1e7399c07015f2949b710ab5a7025824b4625d511af22daa00bcf27d94824207b2e750067ae5f4b8aa465f59e584ac2e</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">å½“å‰æ–‡ç« æš‚ä¸å¯¹å¤–å¯è§ï¼Œè¯·è¾“å…¥å¯†ç åæŸ¥çœ‹ï¼</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>å®¶åº­AIOå°ä¸»æœº</category>
      </categories>
      <tags>
        <tag>AIOå°ä¸»æœº</tag>
        <tag>OpenWrt</tag>
        <tag>PVE</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨å®¶åŠå…¬çœŸçš„å¥½å—ï¼Ÿ</title>
    <url>/2022/04/29/working-in-the-home/</url>
    <content><![CDATA[<p>å› ä¸ºåŒ—äº¬æœé˜³åŒºçš„ç–«æƒ…ï¼Œä»Šå¤©æ˜¯åœ¨å®¶åŠå…¬çš„ç¬¬å››å¤©ã€‚</p>
<p>æ›¾å‡ ä½•æ—¶ï¼Œæˆ‘ä»¬å¹»æƒ³çš„åœ¨å®¶åŠå…¬åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p>
<p>æ¯å¤©ç¡åˆ°è‡ªç„¶é†’ï¼Œç„¶åæ³¡ä¸€æ¯å’–å•¡å¼€å§‹å·¥ä½œã€‚ã€‚ã€‚</p>
<p>çœ‹çœ‹å†°ç®±é‡Œæœ‰ä»€ä¹ˆèœï¼Œä¸ŠæŠ–éŸ³æœä¸€ä¸‹ç›¸å…³çš„ç¾é£Ÿï¼Œå­¦ç€åšã€‚ã€‚ã€‚</p>
<p>å¿ƒæƒ³åæ­£åœ¨å®¶åŠå…¬ï¼Œå·ä¸ªæ‡’æ‘¸ä¼šé±¼çš„ä¹Ÿæ²¡æœ‰äººçŸ¥é“ã€‚ã€‚ã€‚</p>
<p>ç„¶è€ŒçœŸå®çš„æƒ…å†µå´æ˜¯ï¼š</p>
<p>æ¯å¤©9ç‚¹å°±è¦å¼€è§†é¢‘ä¼šè®®ã€‚ã€‚ã€‚</p>
<p>ä¸Šåˆåˆšå®‰æ’å®Œå·¥ä½œï¼Œä¸‹åˆé¢†å¯¼å°±é—®ä¸‹ç­å‰èƒ½ä¸èƒ½ä¸Šçº¿ã€‚ã€‚ã€‚</p>
<p>ä¸­åˆé¥­åˆšåšå¥½è¿˜æ²¡åƒä¸€å£ï¼ŒåŒäº‹çš„ç§èŠè¯­éŸ³å°±æ‰“è¿‡æ¥äº†ã€‚ã€‚ã€‚</p>
<p>å°±è¿™æ ·ï¼Œæ¯å¤©éƒ½è¦å¿™åˆ°æ™šä¸Šåä¸€äºŒç‚¹æ‰èƒ½å»ä¼‘æ¯ã€‚ã€‚ã€‚</p>
<p>ç”¨ä¸€å¥ç°åœ¨çš„ç½‘ç»œæµè¡Œè¯­æ¥å½¢å®¹å°±æ˜¯ï¼š <code>åœ¨å®¶åŠå…¬å°±æ˜¯äºŒåå››å°æ—¶ä¸ä¸‹ç­</code></p>
<hr>
<p>ç„¶è€Œï¼Œä½ ä»¥ä¸ºè¿™å°±å®Œäº†ï¼Œå¹¶æ²¡æœ‰ã€‚</p>
<p>å·¥ä½œä¸­é‡åˆ°éœ€è¦æ²Ÿé€šçš„é—®é¢˜ï¼Œåªèƒ½é€šè¿‡è¯­éŸ³æˆ–è§†é¢‘ä¼šè®®æ¥çº¿ä¸Šæ²Ÿé€šã€‚ä½†è¿™ç§æ²Ÿé€šæˆæœ¬å’Œæ²Ÿé€šæ•ˆç‡ç›¸æ¯”èµ·åœ¨åŠå…¬å®¤é¢å¯¹é¢æ¥è¯´ï¼Œç¡®å®æ˜¯æœ‰äº›æ‰“æŠ˜çš„ã€‚</p>
<p>å¦å¤–ï¼Œç”±äºä¸åœ¨é¢†å¯¼çš„ â€œçœ¼çš®å­åº•ä¸‹â€ ï¼Œä½ çš„å·¥ä½œäº§å‡ºé€Ÿåº¦å¾€å¾€å†³å®šç€ä½ åœ¨é¢†å¯¼çœ¼ä¸­çš„å·¥ä½œçŠ¶æ€ã€‚</p>
<p>å¯èƒ½ä½ è§‰å¾—åœ¨å®¶åŠå…¬æ˜¯æ¯å¤©å¿™çš„èµ·æ—©è´ªé»‘ï¼Œæ˜å¤©é»‘åœ°ã€‚è€Œåœ¨é¢†å¯¼çœ¼ä¸­çœ‹æ¥ä½ å´æ˜¯æ•ˆç‡ä½ä¸‹ï¼Œç£¨ç£¨å”§å”§ã€‚</p>
<hr>
<p>é‚£ä¹ˆï¼Œå¦‚ä½•ç ´å±€å‘¢ï¼Ÿ</p>
<p>å¤§æ¦‚æœ€é‡è¦çš„è¿˜æ˜¯è¦ â€œå¤šæ²Ÿé€šï¼Œå‹¤æ±‡æŠ¥â€ å§ã€‚</p>
<hr>
<p>å¸Œæœ›è¿™æ³¢å„¿åŒ—äº¬ç–«æƒ…èµ¶å¿«è¿‡å»ã€‚æ¯•ç«Ÿå·²ç»å¥½ä¹…æ²¡æœ‰å›è€å®¶äº†ã€‚</p>
<p>â€œæ˜¥é£åˆç»¿æ±Ÿå—å²¸,æ˜æœˆä½•æ—¶ç…§æˆ‘è¿˜â€</p>
<p>å—¯ï¼Œéšæ„Ÿã€‚</p>
]]></content>
      <categories>
        <category>äººç”Ÿéšæ„Ÿ</category>
      </categories>
      <tags>
        <tag>äººåœ¨å¸éƒ½</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS Appä¸Šæ¶App Storeæµç¨‹</title>
    <url>/2022/04/28/ios-app-submission-appstore/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰ï¼Œæ‚¨è¾“å…¥çš„å¯†ç é”™è¯¯ï¼Œè¯·æ£€æŸ¥åé‡æ–°è¾“å…¥ã€‚" data-whm="æŠ±æ­‰, å½“å‰æ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯å¯ä»¥çœ‹çœ‹è§£å¯†åçš„å†…å®¹ã€‚">
  <script id="hbeData" type="hbeData" data-hmacdigest="cf7b0f167c8307bd1405afaf7204f1dbb63e14eaf3a58b4d30a6d1d898d6b908">c6b1c4eb06f76300eb0db7747cc9612012f4d83cf8db2fa6fcbebc1056234cff7e5256f719287cc20dfcb63650e42beec7abcead3a22d0ca8fa163d0283a79d88030fc1e7bcfe6140b558d17a97d0a84c1b1e0cf3215fd0da417fc7f3137620f4234410956fefa4de95bd7f850e3a61a598479cd87bf8af47d78cd0b035ebf70e8a9b917930d56ab475dd7d128c2030fb906712c2eb954b3ab945bc4586e66f417f28a46903d08836a951c1e2c797960edbc3195837d4e762e5c3d94302705f6dd5e6e2382992125e0bc672d51e622b17199c386b41b4fee469cb54168f8b2e2434e64fc9501bf6e509939b31517fc821669442983c746741970e23af76a9aea9d09b203bba03237e8e5e508f8644043f100e09da7061d32282ac5cca6962a7f6bd7049ddb566e6f74cd577377c1efdc5299fc5126bac2577bf44291dee35056f044e73ca79b20092fc8f5c190977d234e7892ee04312d115c768bec463e7c201a080cdcf40993f0f951946361cb956b930314b168a8ba21d7438a14415f43f91cce02f98d30c6f861461ae3391aefd5be0e52d832a50d8e197348ea21e908fa8ba603d0cd4b2f3e61a5ab513636d15b48961ae09dbe6bd2febd7c30bae0583b797a3702d0d66b03d7af0e99bab92b29de41ab1bb8b52d2a71fc28f354ecec19706c0b42be26527a25a2d1c748b282f67eabd991527ea2ff35b5a09b077641514654a4322a48690e8cfcfa45b0858c568b7b0b56d19cffdb85cf5e5d9ccce63e4ae31c6ebb6c4e5e135f968aaeb57010878c2c1de4d4f929e2a2b95dacd9395c8f2546ce82602d1b265111143ac4ba60b5a98eea15eb498d776654bff0fcc36f504acba665d40acb44bfb3502d27864b382e75decf296f6b422808261d53cd1441a9dda157a86984bd47de460ed9de577a0d3be29e8b130dce7a7ce315049e7110d735ca3ad5be25b2b0fb540803ff230255b2de519eafdf99650ba9d781cf056209ca5e624ee545b2d39606ddfa2a053f7a603f41be4844ed495f47ba11ad9739a928d82fd60f9f105633bf80edf7b2506a556c4169bfbfc5867c904a141b20d357f8387c98c2769a3a2c2e61bcc6cb554809b4554d8f2d3d7828bb4c7a36ef312672029602c5e99ce946300405582a95f46fec9807977e73c011363c0cabdbde0b41565eb02555979626be0d235863753f787048bea3f35013733cc9c92088be9b54791ddcfab3013c8b3f10cfb9ae6b449880674306edc20a9a199a64935f37d4a647c9058166fad32397dcad0e9b47600f40769398ddf2b6e13efa50f981ddd5d12e26d5b24b3e4c760a7ad94f14eb7af08ac2f821f6299f1e1ba4254797b0c5321dbbe68e781fd7b9330780183280246534e6d0290d9c5532f9550da0421da94609e724252294fe5f41ddabd9c9a5eddf968d1e91f61aaff51140d8a7d2faa19ef660d52a6f31c36d7b4ca4b3d87b298fa84eccc7edf453b1fb7f348d90a55e118513ef478bb2048460075abb46e3b54138db86152abeb108a45b3dd9f1c16b6e7a39e98d695ea4b5bdfc1d69553679134fe2545e9f626391aa2c3f1cf7c6a0339f66b2fbb0455a8f426cae4d8e207e89325ee4435204f2bcc87fbf7298a34fd6c12936a13b318d0c301ed274ff5c8a39fc5f71897adbcfc80df4abdcc114442dc088ed28e49d6968a67f556e34837b0d13af4e9d32504be5d000b71b329fdd4ee4490ce8c23fe450d441312cf3cacad092fb4f5daecb423de213bcf404e8317f89a6e69196e65813445389c674db3439e8378e6cb60b7b21bb992b11ee60c29198d8b325c6c52d7e3aca4f79f6a8372ebd81049e6b3515c28f236c3d0a2282d58d9e68b604fb3deaaccf9abe7e4de1eadbc3b3d6520a308ef4aeac7ae514a95aae3dc84e934813af07eef81c54896baa2903b1d16ffdb2462757d7d104e766262bd9cb35df69c31f043c7fb9997a67aab2fdfc54ba3433dfa7c8d4342f6df2cbbada2426e1d8159c11bfef4de36d1249fbcba617a9a7aed5eb36103088c7c6491544cb98dacb568db86eae6bea8c8112d27d5b8ec5a4dbe7fbb4ede2f002967a6add2f1363c3f1fe01cb439b4a834cb1c5c54dcf0a9b3a8f96e3719edb6a8796689247106c53c96ab30fca946e1a30595484b6095f13af69f5b8f1b65357938208743637e25ecb51e05711b7e42f56d758c9ad037a9068317ccfb2d722ab71739aec14030ea28825ae38c102c5a2279c61a78fb534fb92169616c4dfa63c6fe70a8b45c679fc177a951e452e1b9e538948d177ba82227ca517e9b441e5d5e535608c76541e3aa886e45cbd76dd398bf73c3726f471b7e29636b557766143824c93b2976c9b514178762587851df27f1e1071a5c7f887c1ba8a7d77eceaa0783bb8f8889dbf6b2c889c27c3201e452926f89dae51e475ed2ece2338d2b88b074e7d73ffd4888580943d434956d9b3932654d22256a7daf9900be4966ac7e068d954d1cc7f3d065a2feac18d6f0e2b491a8de7d3bff27f567688143399317f5dcf9ea2119ec0c4553471d645250fe2f3bd07994f1f88f7697a807f87dfa522a4c98f5ade2dca6ebcfb428a3d446ef3e7630c16014e4112b7e971f34bc69d2a42f5ebd31f6032dd8ecfd8d86d8676bdf4300cfa31df121a88b03229389731bb0aed553163475c7fef9afa80489d47928fde819654eb2d6a3d717e7ca06eda4cd810fc3de1942cf06500c17c079ea2e09a704eb2b00e720e85c86f2bbb18b2b5fb0fc2098174f48375dc6fb797432c2758d576ea41660dbfe4c1a707718a638c51282585d41e85762064ee6d8a4298dbfb3dc247e04e0292f73ddebcd836220ba0561581be2dc31e674f32e5d2924ab30f59f73f1f9556f6c5ec2551a38a07b96b7745fc1fa075defb277aba383abe600ca62f9d4c917054d233aee89b4bf0dadced100206ccd6a7e7e2f5db80c32cf6bbd7d282b6a1b152ff3e0331c10209426d0377a598710e838cbbdcc75b3b547a8ced49a626abeb653e527a546c9ba018cf5ac9327757abd28a4cabacc9e91840eee713cde68eacc5b717b9ae845d98e1b4bb5979fe9d8b507058fd21f2c7b61fd56c904829982e9b586bf6b4740e78b4277e3beeffe893b903d4a46568e2e4638780ab5270da5c97853d594af0f4a1f8da5f5bd39b289e168272471b0eab0c3270059902d9d8fb92d1b1f4ecbbc9588c9b23bec968490631b4bbcbc408766c89db1813adc5e538aab77b3f8d739c416573e8598acc3068760cfe33b72ca579b5df1dc0f36c5edff9a72089da402fdd37cf4c67fed9964b93fbd155c4efeb969606c8afbbad10c21b970fa33f18aafc1baab479d4fa19ebfdfb822b6799583c20b5ed126d53c51e19d731d9b79d3c7abd1b4f54dc5bccff7ad270546a9ae8dca5daabcc4afb5694e6b4ff5fe1791eee6c1e37276de978cd20253301df6cab6c54008244b75881cb40ddf9638ce6dfef719063dd4ac0f27aea8ce1fd2fac85c803f7964ebe05563ec5b508de3a96c0bd65dc0dd857fe1ed90868bea809777dd456213f2db26e12461e546ce6c15e88e7bcd27b49c73833bf043d4d945724c8504cb42a25157d36f7aa634be8817c20e913ed7eb9e249c0149a6292ea0d05b3a9ee50d8ecc629f88d3bd6438fc2a1fca01d3d05f2cc97df34e39fdf13663edf3e5acf939657e74e8919de2684e97946e648237e40b1b2cdc65928367b19619c70f7bd66b516a2ace95808a862f8c14117d22232e742d40a36b23214d45882c84bd79f822233c2dbe83e6d282473786754b313efcee064b87cc7750bb00dc850d46fb04d7efbaf3860a42ca021572d514bc4e4ddea27219a447df0d1c0c09a10ec61d18e8ed541d6d4e8a6aab854f85eb14bc464c90b193a79a94c58deadf3671d278ebe71f21b5e891a8922ddb35c088a5d6f8509fe95ae163c40c10f0611da38dd685addea27be928dd744ecb252343c4d0c2c6e72a19468995d43f630df6c3d9316a53a93d89fb7aa43def89ac0cc3b6c07468af66cb3d18a717c74c09e814a03826dee8d4038b497f2024af389af8c4242a12a72b7d92b85c59b5308a1e08f60731ca487be9d4aa89da4e979442868cb7cfbf670b83fadba92a52fed7ae02bb10f17cb9b38e18d49c296e91833c6a29df8b4c884f641117f1da571f3a2fff5d03f6863fd4968331945d10caae8f79a70ae41781192bbbc9999d9efd0893cf2d2045712d1f50c5b59eb8e0003d3967a06249995b747a6a6d36d049435b8fa709eb7b5fd6de64f355e21cb0c7f7eb85c9c43d1009f022f0105a5f876076785c45c6456117fe1a9860a5ef15c4e36d1ce481dd4effd3c399df4deb2dea2e2e81d0e0c9d66f1c24d6c9d14ecc9b269303c3069420fa9d1b592bc8e5bee9fc5ed607f1fa1b423becdf5651aba464eb9078a05d5a6fd5711a7db4e320935e9a1b5dac5caca67af893387c70bbe2cfcff6fa506bb0ae3d0a908700932eb291afc06c933f3483d97c2836100e9b2a8eae50c9120c29dd133b7f01613e1c63e7f8a0c54bb7e5b7109d309543cdb94d69bf4dc99d1c66c60cb7a8194c2878cd65a423daa8942bdbfafc7ff4ce2316f3d6f4b244adce09abb6bbb39640c9897126c70622c70cb2794df63db6664767b7583a06f7962c2e16634817bad5ad668169603839f419dcbc1d385c77eb423b688a90ff35e3d0d5f9c2210cb616651bda359779246099de76412e1b5e837fdecf8448da19dd8d4a6d64357d0360b2f51be681cd0849968c33f5f97813a2181367e8216a1217e8a80460c125f31f8a81303a02dfc5ad2b9b1b78f0c128020eadc08a693598a3ebe438bf408a9e1537040a889f12a54c12416343f67392a5ac6fc1fa03af643939a8b32620a6eaa044d60dd8e0a16515c8a17c77c3d4157a59a27cbcf88aefc5ae4277ad827f6114777aed75ca3e7ed2603fb466774f3cb4781a6dd740326f12a5d2ad2cd4c0b4e4733e226e133acf304235bff4857976f49663594f5b9aef45eb364a27a68fa8d14e13edc4ac80469c93ecd301f4cfd9bbb2bf19d46139300b740e98803edc158343b4afa957a8b543001594526a3cc094cf7fcb13f29b4275373393617525b661c9b9d62d9a46611a6348aad20596b7fc6d63b271e6e6e3d85f52d3e8bb7d0afeeb1554a474b1ed6d6e134534a95dcd001958e349f6d3f2a0bb9374b92a8327673f57a26d2703dcaa008855aaf1724960c47311f5298735bfac5dbe8cecc2dc31c3ab3b54fc13d5bda0027fb75894c9047314a07acfafd6b8197dea54114561086d5c38a979193f2e618eb6e471fae9813864b29f7ae6721a5fecdbdd89274377e3bc2212a441333df3b0d95805a16a7d645e9b83e6c77e0a40448fb96bfbf235863b6282e80dc66695a56a30a1b19e73aac8f8ca5af7a640ce42dbb11962bd216ec1ec2081d3710b350cb6541973a92551bfdd04e83243a1414175abf4cae76348ed0616b6e8d26a12468b2d4964d274b8b8add05fd3f69929919590e026d3ee733b3a62e1b86f3d07e9036d5d851ac29db1bb4ea23df7226d7946887601c7168be5913168e07ed25671c476655c64c9207c7273f2c130c7f15bb0bbf3aaf2f6a568e34b6babd434796c8521df321562aceab25d0b6ebaf60b22c615c72cc9fe9bafd863ac4d4f87a7f4cb6f5f2471e4659eb699f0719d614b1498a6b74fc522a90db71aa40e9526eea0a9c6b69721c2084bd04858c2ece9f8d6915052dc4b659c606179606098e54b0dd627158f5c0a6dd39542ad629056e121ab28009557ef22f5162e8e541b998272a9350756fdaaae9c34c2ef43338548a29885eea34b612638306f4c3a43bed1e2c3803c856bbf54530a79ad360d67b5ea148f20f0783b6e07bab6bbd125acea9ea76e35509980e6129c1fdd7d960f02b887312de184bce2287f9d90b4a1b8862845de991f8c1e2ab6f34beb1f2c3eca2a3320c152f22684996638e93d88e513d7c29ba333ebbbffe6dea3277b1150efab40809054c3be2e5619ef1f655e775d5191771bce66c8aaef42165f3a0ff899892c44747e7225dacdf30d5f7b33f967abcb6682782e691f25954d7896485ba5c067dc55058856ef5c1b9d509ba511cf9813c8db6d8b16c217441f7aa5f68082f55d7085c0f103251b8d2a24754f1120d3e42077aa9b03f9f1655f1aa0818cde7a9f6cc3415f4caf2f8457b4ec35d12b81b00281136bd1f5ec2f12d38e8aacc2150a5d1466d6af983a796ae4e22fdfa0a42d7b2415233e4a4cb289d9e0e85d9d16757fb4b0c21afcdc2443f87d91a98b702952450253e937f3e48187342fc01eee78514c32f853c029acc82af6608d7666d3d976545395669719e673398d612894bca64a843d3029cfea23a5d85296fa273f65f0a410fe60f441f153a38c301dbcd8f54f40f5c6a8d2cbbbcd5ed8bc8e665b0009c8f7ca9ab590ce7d22ef32fa3fc1495b0e92d6b27648469ef11189b724f7a98ca880cb752758a3149a3ed47cff1472c60fe11ec75a9b2690df846f6866ee5dc1d45a52ab44e3cc624920c571f70eec77ef6195b055d0efa3d44bf522a45c99327d11f977a7f974cd43804a62718747c432ecee8be1734de1fea74b28f1642ddcedff22ca927f7491699926d9808c2d8a1bd96536ce640e0decb934cf493e0d5dacdf1ac3e406640d44c50627648a7737fcf7b3b49c42fad7ab165fdc4674aec115ddb60580cdc541f1334ff01b40e364ab7915822648a8d734ff2b0f7446c11c668bbc9a2d1b753214e1af07d52f6a536651655c3e60e5cf50931c584da66cdf7b8931c33470d645208cc8841f04f79a9890bed3f092dda4fa17e27605edc621529cd960f6d1eb50e3985c8beff4b684223146a6adf45abde343fe5c4af8541c0d67fa028fc31109b1a1e87737a643ff0ce438da14ffd3d170b684691d89c755dde8c922416bf0df68c79a37c23dca0a1721e7d5ccffe719c664bd7b2d0112f7899efb9d8f6adc530ed676986fd38cb9183b9dc79782c2f8ed5eece5dffa3075496c7d4fe8cae6c099204d12e520ba2e9aa1b7a18019d7e5363935db89d1a711eeb069063749d2369aad184fa89f95342df1951454881306466c3445ab735094cc786faaa286c211bcc8bd16a0af9ec56cfcdfd9d6d5a04bbd04fffa39f00df9e9c070828f65b3ddc6d3924647e2362116d447e4491ba49ebe10a67d170059f6ec563e790c46d28a42b0a58d0200fdaa4f0a9a94288aa4b51ed980adc1f563ec46a76daf059e06584c07f3d0e212a32bc9dc6a03c7437c2c904ace7b226b7ac45c989341c0816b7877e895fbd54273d0766f9a38dc8de3f33f6feacc6981e0667c4f0daa08e74226e09508bfaa0f7e4196322d05cdb18bb0a9d68bfcebb98db98e12471245015043a8cf87402d2833a9a45f14431ea69e70ab0874377b82ec1f21bcec6c4b7ca02498251ae2314fcd3b1fb67aa4aadfe9c3483da4b57b4a86c07c0e54097a4e5cf65c2859daf5428b26ab071b1418362153315b9aa9d78b5286b419e07dcfd5eedb9971ccae0dc851dd02148690d7652215ea8b552d8b141e173b6e4b45c06d225c05059b837e2fedf068e35516460bbd4d8590f4a5bf6222bc03597653920fee4458982271ab5ea828f9ee208900ebce1ad80bcb7c740e3e887c8bb81631d27d0fec04e0f4bea35078f1b2c431f8d5446c4a011921f86618daccc82c4e657cccf1fbec312669924033e9dcc840da91426a06375bc98f626112b64919b868930c09879f1f81c2ce425deeaaadc157b27b28f0701bf798aa2085e9a30a0e229e755666e0579853327cc3a4d6ba8efa2089ac303748128ee3d49a34639757bc67441befb4d13629821b12db1e011561d6a8736baf0044442286dedcb55296221b64d4863d7f894673ff1f50f94d5c19d3f074f2ac833708075775f141bf521a21eb924a6ab4122b4c641ff0a2dc603fb8df28402c44fb1e12473aba8996525992393df6eb7b79c40672e206a06bdaf6fe2111eed26071bd3f404ffc3e9003cad6b3d16251f40b13be2785b94887519af5edf81fc2bdaaa00a77b6b843677661182c3a7f483a0646e7aaca9da4df9d9aedb50534f6623823f1a625e447eeb102708afdb7a3ad41ebeebb562c606ee27158915cdd733b0d9492e98cfed7a4ba2f00ffb436007c7cf148459baf40cc7795bb6688ace2d2eca6cd32aa7b6562eb62496637858a9f1e4996307dc489d79ade071f20d29bbcfa2664989adf1d1088fd103a7a7799c2d11b1d4dd9b05e2fd27b6df6f8dcc3b2d7c61764ed7fdbd1269fcc2266ab94fe34ec0af48031b72696aa9e7e1c4ae8a70eb04455e04caee7c51159e823bd1e804452b52a308944c4dfbfd47c7c07ecbf754e12814f54f3e5220fe429879422a779482555d5cc7c86568889dac35a34a0a6b5c3a382a9f974bf3a1084b70cab3f26690341e9dd3a39287b01475fbc4629ea3a7bf810ced53633f5cbb31ad5bb81844a170fb72b44555cdac9936e5c971f311d8f6da5e92c0ee6abd78efa75ba1cb96e4335eee7b796c3bb870ba4b72ea9b1bcf809475871ece0ab71f8adc5bf8064269189436c0056c0e9ebcdf17df9771c51319e8adf4de9bb679c6df5e4c05d7f4b22014b96e964c61af11dfeffc3578693993117dc92fd34cb4e07512abd7f1a5750891608d5b7c76261ffd6b6c1ba1c226ded4ad4e3d97d8590c879ce265fbf4b390e7fd6c525a40df4d8afba960dce43d25952c04d225899d9aedbf4b9c2da960903ecfc77f01ceca88ba50ed7edf7d37ad49d25ebbf12f96b2b685044915ddd98e4085b8829a52ef50fcd2cc262cacd5caeb4ea67c14edf16a39702c1f82b85470f89ad9ef94caea90566a30b7bf8b6bf248e1794739ef5c4df9173ff02681e3d57898d60a62c188b89445c6657766c7607c3bb75d6eacc6cbd2ad95b9741058687688ba50f8d24bc315e099d314c453ff8a5072c50ad672b3b1d6c913aaf27f978d641ecbe400537c67d2c1e4d0d2b4e85dde696fe75ec95857a5112d9ce17a0032fdf2aa3809b1d32f5f32342163cad1d97e8581276ff16d9282edb53fef9b2fe7752a6e76be3baaa6d308853b5aafab8c0b8bc75f30012d26c8057ea359521fa94c516ca1c331f313c3f6e315d6d5d7fc05b85b0c7aeb837c2d6cc46cd27737afa0b6d8030fff5bf491957d9ff4c040a60df9fe7b89ceda2df3999d81179e9d00f86fbf08d7cd453e5d126703e7b9c3001b59921fddb6f1e19bcc41cfc81ab418b308486fa45fcda4f31682f666c9dcd54fd9d85699f298ed6aecd8271bf5e32b6dd0fffd733707d320f69709587bcfa38c02931a5b0cbb631773fc658d03c4636f0e9ed325db016aaa0d27463e99185095f7dbce983824ca6b76c81ee02b85232dab1da6148c1765ac563137b17a2ee21eba1ddd1cafe13dae90318558305c9100c45701deba33b2b6743e9e8157ec68f860735abc7b3f4f16a4640e281fc6cb32fdca647082403fa0f429aebe7a9550cc88cc1a4db5637b4cf3c6d8905e372c7cbfca655982019ede732c2c5796f1ddde4eea11a34bf3cf95b57570e6eec73069f6c7d20c2be53b6a8d79d38ade409a0db584893b740e2c4c0ca5a35c5a4280d2430b5f72eb866d8fc04c7e54c6f47d49f93fb4a147cd2bcce29645b454f24cab875b046f4a61d04578ea410edce476eb0fe1627f9380a68e0fde0aaab6ea9d8ed87b7b134f0141fd54c03a2e3104c1fa6c7896c753bbab73a1f397ee8f5a9e5b1d3d302e4acd0252ff2be4afbf0006c8d202a2dd878190ce255b1480260b38a5034a3b757d3681fe69a23416c93bf6c2fdde883776a296532e63016f07720cbf7194816d58613fab19e0a2dccbd5edfa967210aeb52138ec31511d779b6d6bf53e52467cd63408fbf4897980fd45f0c6e65e56915f2927d56edfb07742dbd57883a1f212f6dea22616e96e6b9e99c09d7cb1f566c89a264ea14f24e63bb196a9647729a20892c9aeeb485cdd174d3f4464a2975b74bd62b296be30dbefda49dab45ff8df262637f1d961095f1f96744ddda09dab3b1ade2624e5ed4ab77b1ed69b583fbb4272cfcae32ced15dbdc60a0bfbadd61b85be953d769fd7f5a50bff35952ed5bc89a7ac54515d9d0a51a4176ed1b7fb94ec096ef33baa540edd6e51278f28e46263b8636a8c0119085911c0fdcbef02113981bb8a5920788d597cd3fdccb4b88b604ebafe093a12f2418bf0c64d78bef38af21cf592dd5484d991819261d706df1c3d065308f9c76f06d5b01a0087bcba1d7548b47c60d68540d430aae6c3f62475fa9f74d90e4ef78f674ccd0730cb01eea3e7d4762f65dc4f7e66cd654c24b7743385b47b58c460000e87adda8f540690b2af2b03962849acc36ab04172e9275bb77b8582facd61ed5b017e61361827968434c6148b63bd79301e98a4d97b83de3a507b74421cc2a5eadffcbae2e9981694009bfbc694009f3a3e640ae4a19c9be7602d339455fa3fb8e887915740aba683696f80cf1f17d0f10882140dad2e114a3348c2267707fe4e88053926dc8a27cab7a5c0b52ddb3f04e738592267a1201fc4773043055b77437280517b39c033c91ca12971dc412ed1da161f9adeaea5bd964ade44d8ea46ac17383de9ddd9ab550d0bbb2464fa3c18be40d717bbf955cf84e043ceac49b7a0421a1c3f8d588c1edcf599c67b484dc40ec0b110b1b2dfa74c7b5378c4f06d70c8a1cb83bdb758c8a6ff30bad2994791968c47559c5b097ce8280624a416a1116340248a79c076f852889f3cd69f1b8413017afeb55713c9a74584f3eed83c353b7b75f0dae783d7212383767e349d0b738a7af4c9c58f036457757044c20bfc2b23942230f6fccba86f14fbb8f1cff3bca2ce5dc66db846724650c1b9f505d0a980c074533080b28c241eb793f9ec35f4012418294db3ce6cdfd83b1108f2d09d3133fde14c7c18e21eddc3039fd667c8d5cced41596e6a5fc7f1faa78d530dfd4b0d9052e5cc5fa161fda5f8a4c3739e3e79ca9d654791bc8e44be2f33e6f507fdb2948f821e2735ef352d938469ba5fd022dd93844e73af3019f471bfa9a28b9f51560a8d934da3452e193b0e43889c5d5d1435f2c7aa8097fc043d9ac5cb648532d2f55e3c83248d5536b511b0f505f5312a9d820fedd6836985a21ab96fee5386c3e9c7830203bcb1d9e63e338c0d3a16c95f16a836c4aeecceee3a29c68b09a6a831644b6a1aa0170b28b150ab80ec280255964521af186364e0e4d76345363ec0c0554f243413215b62722e7ddd54111228f87d5191a7d67d54df882bc81d1ebf29f44f4ea6f9b87c84412f907a191362fa191e2155d621142e3f670e8a369e9933cb165408bdbfbbd51988d0cda23222ee2c6c2386d1c456395681c991c5dea38f70d78511b28a276dca44905b55d21c673be71a21ed6470aa66d7a949d3d8f8f073c5e8402663ebc8ec1b7e50267ccd788dcc0268a222297d76ed1d4bbf19189689fa039ab7e0d2957337f104d70464a8835f4cbb4331dcec5b2ddba5cb1e9d73640470b7c8401c579af7129cd1692a4b0dff01821084f007d9dfe32835369ab950f722c2b04e7a592a545e4d0fa9dc87633bfcee65b57383dc6ca5cbae5ff733b766a64b75b3e1458faa459dadc8043cbb0d0375af97d852a3f967eb2ccc6fbef21966afca2018fa04b5c4d5674975618c04256a1514d1a229a70c73be8542d8330cecefd02a405bd409ed11b83eabe97736052a9339761a1c056e5865618b03dc25cdbddb7e6efaacd6b31252a4de7c3bbcf60aead4eb44bf1f1e9ab9120ed6e3340908b205c8e89afee013b3db5568859c86c91fb23a51f2662e38ada16701606627e441f7c26e66f7a3543baef723784ac5a71bdb3c16d9f135fa5140174bf57d94ab576365b64b912559c250cf1bc2db75431cfbcfd7112a5601847512ddf677fded578444102ce8bebcaae965ce1bd64f1c755abbbd09b8801b2cbeb5623b67b62fabfef980b6fab62e96e72cab5fd40bf9c05d1ec4224ef1272f15468442011d61b04bd3e34be8689d0e32d9a57bc763671e977ad043a26ace21bd16e4a7c3438bb6066437a0c488441889735210b236428e8ecfc0ecce67d724d82c45e3107c7e69ab8328a20c360044c2b49faca926bc1b3f718e914556083ae64daa4963b2b8f68e55d0e63ef64087a97774763508001e4a113115d6151ac3d4ebc8801bc0431d4fbe954728382ec6244a6a4f43b27a8547d35cdf5c4b3fd198abb788853d38d42606803e0d8352f7023b3290e5896c96a660e1b11cb4c50a1978b872cb997642c793b8c0f4a0885ee55b42f15957c1a91680dfc205653552d9a1029d167c6fa9803cb99e35574334974f7ec7dc5f5bcc18cb53b786a3cf00e90e1fc7627a94cb80f421781967bf0e8870393b092ce081ce7b795368c16a8ba1ee5266e88fc3a9b16914b6858e8513f5c641e6e5f4106d1caee3b1d39c1a6871889145a2f4d817fb4fdc0b33affcec8831c28720bad33f09f1902e649869247dba2a57e9dd7b4d4bf54f311aff50d2ad3c1b2a24cb952f72baa874fe4d87c23d791aeaf6ebdf1853ebc9c416c5358fe19c8996be8c6fd29edf6104a70f04736761ac1490eff85cba4bea801c04cea8b6e5a98eaff3644f0a37e9aa3960e07c75bda24bd2e5ce119892490bc52c48054cd9f9d0b7b736b12a6cd95ea564a240a24905ce396692f3ba37e778fac3b11331ceb92e232ae9cbc8352de28fbf6867aff9b0aeadc5f6d9a6cdb0a5dca7ae23bf528e7fb265a0ccfef576b464d50efda4311f933a9ccda7a05a1b725789ca0a6f778d944c62f10f179cf85e430726f8fa76fbf0a7f93223df89e26f9d3f4482af122f1306be9f49613cf26e8d6a15a3381e9323c304fce1690ca9c727110f0d5ae72e6826a3af04b63f437287a2fdba206bb40263c52995da27943d73d8f8cfc686dfc0a1277285737002aeaf9a834e43c97d8f52a849b347f33a26df6896d7a4948322552e3649db0b521170ddda2672ac92b8be8baca0dbb282e834bd4c15273dbf57b0098d611ebb3ffacd0e15f7dddb9b47f772549423bd7d8d798cc6963d09c9de75a9a3fa6719f6705be99b510df88d559a6ed7270cd9f57425f9e795fff0c8455e7e811ac41711cce8d372ac34fe93863b2a80fa9fed04f233bc49bdfde919de443ba1eb5421060ac985f348dd3080ab33ce688a4992d42c72f3b919b386495323470276edb4b95216b8db0b272fe72c259f2c9a8de44cabbf27c59919c6e8620e12da921e5b3bc7afcda8dc7e2f379b7c1a0c78d7eb490a8d5e7a20fcc413484c5c94e8da31fedb3fd1d09df07033b4c2e725bce6f047bff538bcc0cb2adfb1d1f175e20693d2d85d9e09175bc887fc222da418467546b36a9d840fb50bbdf9e9fccfb4396ef664bc2141d56b855d7dc0bdf8d650c8430cfa290ae60d69105fc3b29fe29248f34a27859f1476ed7bf363bae8a5e87ba98c966148b0ec19b1cda459eee2e506fa84ccf97224a707be6b77f7b6cc490fab888fbc09c89080a80ccb172a5ce7e15e706b0d5cacf31776ef50aa1aeb694df83a6972fb1bb8407323176bc88005f900ffdc33e626ae6dba7131267d9d1b1bd9030ed2877601c40051ec6ee95bc9f4ad4ad7ac1b59ac0da95ee3df779fcdedbbb279f5bc7506a02c7c903f5f38b9caeb64478a5b14cb970be83eafcbcf8707cc865fb76db1356daca5c94ad06135f1e1f444cb43eec75f567b50d47e3e9d426aa6caefb9d61930c7e1f9e6212a18ababb342809f50d14e471534b42e71a4b55d25ba18ceaa3f300f6f229a61158f32df68ae06eccf01d899ae22183edcd4242b1a1a286dc8e8b2c1593a107561f28263ff31486d002ffd39f013161d32c4b55bfe2096ca2a15ae82ef3978465820e3d9d05e3ca10d58fedb859031444bb9e4c376474dac664aaf2de0a21a7b9116659421e617a8528e165aef4149c9e316b511f7f4b038d05d523e659cf93a0c2f8a337eb9e126c3573756d78cf4e21fc3405945d7cd6c231f52cc1166a179f59c1472bff18577f9a57c784790d6aefb8c0a40a8bd250be95b8737e3da835da4466478d154970b350e5f294a3b8f9cd2e523330bf7e1914b2df0abecefd42a56be4797d41ca32ff3e548e742952eaeccaa6b6971ced6a317dab295cc7b221e45133d2ba6b14df155009709b50d03cd65a35fa87bac07c56e2e5bd02a63ce62a166b43be300d02e2cf33e33c8896e96eede37f6c189caab70c42a8ef5cd23fca1a4c25fdfb9bd6933982c75eada0886de74249890babaebee9b9d4e06554dae8cc269a6a8b96b4857104cbcb50842cfd79a0f0a285d22ec251427ea6db17c3955bfede5d0a9bc5802479893c8d61112381df37e0b4c0231bff66796b8159cbc10a042065dac4dfb0e0c49c9c4fea19c4680d37ad7e67ccd8ff8eb9a1f66cad06ffc0c4e759c513431c601eb1e0ac993f8a24f1d54e8934bc8a0e5f58d880debff5c418150765bad7c67a4b1d14925e056c7c04e0380065bfb229fc12a01e9e239ddf9013e861cfbd8927d5a399be68e0ba0f67bfb0a94d87a2b1a062a73ec3203e273ea6e75a43432350d524a247bfa3c20279f9c24573df51ec707d593886f8accc1cb27f135d189a8116c5aec2a2f9dd6dbf143595e5d9840a011859faf179c22af8c311be943a12baa035a0e119df13842246ee8e906728999a1f9a60501e207c22e30082f976a68c0d745ed203c2d8478559fbd504cb2e697d9d499fe9007f3c1c366566eacd138dd99b4514a78a0f3e8a7a1382097151462888ac7114287485bf4b57bedf03a37921c8eef599d5092cf80869c3d73e46757b574b037e3618e8db6e5d89605a45f0e669dd7f0968c871ffbf8893b22582a4016f864f6d2ecb5419961891951f08c75e09ab672a83e312c70c4376fa95996a6ab38ddd15b744f90ead2f08a76846db7aa22aebdbc23a340024747e2c459df4a40fcc3e99d41060f41c109a2228c63d6f61a8dd32aadd48a4eba476dca2a252cb4e92a4c5b1901b67da0a6a364d48220906fed9a983a359c34f7f1ac67070b7718f1a8fbea25488084184c5c08b1e154d4b17e1ede1842f9d878b33c9b1089ec6198055d086200cbb187f6818f4c4753bce8cc7d9c92e52af85451c7e9cae0fa87f0482b7c4a8e7e561aa26cae9d8dbca9d07e3abec8238224c229b29b63442ccfc88234464777194d60e49bac59b66af7492f513ea4e7d159a88465b30762cb488ec58e68ec031841b0418b7ff037b219d58933b03e24260f159e86181b216fb076ca5dea97edb7a2057b3bfc54d41467b601dc5d3dba50cac9ada50a38c3b15487eddb0d709d9f2367300e4ef2d989dcf94209dea288448290814305fd733057828ad49eae54dcee1f150b02ec336489ab9319b670bf90720def0530199f39e3d4f5d2e91c137de3657e73d6d3b7b6969cfea9c318395ac2c29648c68311f18ab28edb47b2cf31fb5e12c6648cb4e90efcbd8d191ea79862394e2b72b7a499fa48d5d7cedc98aa57332272c12672387fd312934806bf51099009eb15311b57a0e805428bbf9af96e187466bc23612145b49b64903ef81feb4dd4a899219980a0c72e287ec37f4aba2b412ef4b3ef6baececc93661a987b511171fed1371e2654e9814a4e328f6c23e4f39a10e767f4d85632ff487465e2b9452ce2cb0b530f6ad5c2e8521d3bb510021e4d790b880206a7d4060a0238c244e81cb011929abc964bfc3f97bdecc22116cf6c369702e843529f858a47a08b094792b422722a27f9a8172cc5c153efdd7dc276266ab37ca0b99a07ff64cbcf3189d10d0ae6c96e76f1ed322248bbfc27d9cde2ef045a1e9a4135e2e846fa48b96c8afa90e6c26149879b8340ee4b5f2fc52191cd7db4eb22b099f96bbf2f1a455a19d5111f0b944da9483661cebf92144d282f410cd9e36dea01ba0bcf305650f67790164ed80c777d6a7fab46acbf3622120931321bfcc44c7d4d38f607a9ab9360e86f7dbf7ea8f327869f0abff76fbd0852a96e36bcf538d1bbc83c8ff1fe17f12ae3fe9a8fc0fd58cc49a75e117a2b115bba660203e562d66e9e89d67dcb3fc596de1861f490477b8450f4d04ab774ca260a462bc88de5d6d7b652e191c6628d92f55f5784778ea3047f21c0fb52db87dbe873a9762a848fd55e54948857eb17cc072fbc281ce6b4807b8b8ccd48df1be9da744c0a2434538ab20c0a25940adc19e5d03fd0fd87de7ddccc63658b742d57a5ecc7f12fe2406838034e6dec049763ce6cee361dc0e767faf302f85a6914bff510959675b93a3507116cb8d606066b7c5beb555c2fb1acb3c6e09425c06e4a09d991c155b48a74435f93629f073daf6c6a44a5f104974d59b9a0a192ecc5e292a3d22b2468b2a6f85458351bcce0f082ca36d8343c467105e39121cb279b52bf11f20210c9a218b4177f3eba1da7d08681f9d60ac35d2f80fe8c9a6822c2a179124851d637165a6cafefb75265df349c1117524c014f3f184a01fad40b9b8645aa74a3085a88c4028ee3e75597c18a6d2d34e785fe99b6555f73ba7e07568c3e7743bffa29ad7f6ae6a4c4515ad0d347acb120be4d6dd99951f37820daf1a198e74211315f2308f0588c4237db0daf229bcffa1ee5572e823139c87d6c0d3a080c5175d85bb21d9f6f1855da77f974b760e170a5eb876be54bf2b2deff4571aed29f10b69cf9974a2944672dd581bade2ad87d069378acec802a26f29bcc95559d143e039cc6c989f4c51d4dff4abc848add1929f362afefa10b00ae8a617a63ad5418e41f67d6a192ae9b67f1cd16a866fd87e3ef537b0476fd4f0bbbe9edca2e481001676cf27151dbc82a05551dcb5bccf0bc21f1b6425d88469216dccedb18954ed318641dfc609080d522c4b04a4657aa29eff8cdff1164d811e51c725c97e52d7fa245004e6045eecc2e8bf83d9813d352417cfe4deb174fec6ba63b7f8f13ee46dce04d935e06e2a9855ce370a3a5f7f47a5bf0e876bb876745f124caa3dac2c96c2f274cafbaff66dc5637c442014783f592194963025c89d1e11d21d996547a2da47069ecd1fb82133e8fafb88e1c5818e8ba36027a3e5455675304b8f32836cb52fb24a95d3513e9b464658b33b77591e34fb10bbb80c01c5baa3848d9c7025fb49ae9af48ff49075cbf2d608fca45fbfc10622d94c5acefc3bb66ae1bef000b97fa817b5d7a7788bdf31db79f46dfecfb5eef8bec8548bd7dd7662612e80f46dbb1c2d309af4e93e0f0d1922a442893bff02ae349d74e66c5c1dc00618d4b636577233b884d9a8ca9c880ee48f1e19ce752f41995bffde9a3b20c5ba8592ef95b77af7b123ffb1b8553c8fc4ce2756d423973a4f6e1bebc3d40e168d0294105b465ce7041f822637977eaedafa43f1d6f9062e9185fbf00dd0566a9b10c3c8b5d0f82a008287adea80bcc4e5eacdd2ee4276c37dcdbf816f863b79fc15640b59164ab0f32747381cd26947b7a9e39082ce90c82daeb9f72e09412b01e2bd078d00cb0f277d41ba9a4912f19c9c2ad3695dc3c00365ed7cd2505280607e7c8a3be03c1f1a3e41c66966c0bd105e0eec0b3df37ecf9d2b15acbd2ccf5e5bea9654eecc8329c455d21bfecbbb1b5a11c8ef4055eb09a29e4975aca0fb909456d01b14e44c05e397f4f9f0da2d0eb6df0be2d5ac15f0eab6dab9d60347eee8a58282beaef6b7f2a0ced74c6c2da8010041a778df17a1fc7cfb729165c3d4dab04b0aa482f5ec2f20cbf90521f0ba7ec11f21ef0db4fae041392b6a603f0e04281a92c5790c4fa85d234678cb58b48e8b0ed32bcd29cc3ba4813416e03885b9e6084eebb92fc4faec0faa952f213ad2e245816801acf021b636323736e69ffa4165eb3049bed708cdf09438dd2a9cbd182a5818c5826e420ebe2e2d0694c0023d5cd34ab59f152a11663f55fdd181d2f5f2edb9b9ed652db6fcd00c6b8129dfc14e61ef93855780660857b65def4be639814cab166b477024425c093d964a61a57997fce02c4e4a84d536b53ba9d4299bba920e1448ea9b15e9f6c807d524458163ca0c6d27b8933a5c6c94d5198c374ec8bd66d513fc44a0c74e4de6f6d65bc2593ac3e2c7a1e341a39fce4c369bb619cd7d832768ad6ca0f0a11bbf667c6ddb2d03d1fad4e98fac1a6b85d6a9b00c275e12449199ec57492a5c9a3b1fa2d53d256f2a3fa9b88342221d800725de8281feac885db616941f580503b69aac24bdad9c82468a66c8b8d94698efb6d867a3456c404498d34cad27f57fdbddaa5c41d609fdb4ce6098be3847a8b5ff022b6a8b42dc45998f4a0568fe705f9dcc922b081a092a9c4bfa0be3ed8f0060ef94d9e240c3ae5aae67307aac71eed9ee2277b755f5b19f51f0eba275e21e1a34aeb6e85c996f2f7897b8f68bd11cdc585642eacf394ba3d225023e0dbb9fd3327188b810d62ee6ba68bf62b2f010bf7557181da375949a5327450ac1ef835c97039d5de7628635eb9cf673e4b0670f7cb26ad0d70f96f8d738ee87d0b5ff764140c5eebb5a88ce38470f939b094fee05f10540636d29263df011db5188145855f6c17a9fadeb22ffe5c3223678d0df26d720c58f7dd102e7d672c1ca88c00717ea530e1c29915e336c6aa1c926bf7ec1f200a00724cb5f8c8b4e08b82719fff0337bd5dc750e2d3159554b983d54b23fd7f686855e50b3e3c2e63785712fbe720353f4d70254a0484a9cde22739b1d2d55253b09006e9194619356a457b6fa53db8ef613f187b25c4363f9e1c2a47a62f49f20b025ed47dac1291ed18857676f46597882767bc6469bea54202ef3cfcacff21ca5def4a15566c9aa21a2bbe5b16379f0409e606bf1b98baeb276bfad597afe92802fff90597623097a0376c20ca34951c9f962a373f0c253251b473050fff8d20c6a1108c56a347cf76f26df3ea1b183f470f58cdf3542b32496c7704e95ec9da06199f322244d91618bb97fdfc238f408697a588fb83626b0c66b007335522119c6dc7da070c7acd5e00440b05acea61a6d0bfb2084455f9847068fa31458e5d8e13857742422bac12da46fb241f0b18a551edf4968f04616ebfab8d368b8fa45770f524a5d149beb6d5b3624aa5219a6078b4ca3a906028df7c5dbc317bbe728e0e569af2a69409b54614b57b901eef398401cfed591db6874d076cea0f72bcb8fb6031bffb51608a8c6533354b65f6e788c37c32aa0b85aa12a307aa6656a833ae62c889a7e17a5dace7a156e821bbd51c5d4a4c7f519338b9707dcadcaa3da06a12314a032b917f94e4be7b95feb18db703f5537be59220c9f8cce6d98904e344ded6d081371ff49a42ad73a7c4ea0515c573dbc6796b9d273f59c2eb35b3263eeaa63efcc285533b3b196db4a2fc6784b9693967892245461ff24a91f3bd088a0f508da3fd82950c1bc83bc0f122c79a5d9bc312e5046e04759f0a546c2b677098a43179f564007231ca69c21a935c3eb86e8d6270357534e7ea2033df5f208153aa1a05c6a6259c75b3fe05271e8c1f129bfd1e5566f220baf46223563c8ba9e7e01ad3fa6877e46a0df01ff8f1ff4c08325b64cf17d9261dd7b794cc8e1961ec0bb7616d0d976cbea024897f4a8a7fac47f2b33f09a4cc3d1af755c75062abeaf6a73e78ab997acfbddfe882ffbe9b7b911f17f3bd85d3bd8cc9a981581631e8cee39f259efbd45f6bf061c224ba734fa42870e9dfb6f9bc6d7a0d7e2bfeb284ebf896dd443c0ee6185a4994dd786c8e1332076566189ffc00606d1146bb8189805b3bedc639ab901902b27afce5c780bd7ef48ef64a4682ded66b6ee26159977f792af6a57e64d271045b151f0cf616152b98b2ca1227295bdf15dfeb01b0346c671cbbbab47e5f8f9544f2cff625a07f95c9551da9c3e52b35a2025d581a793849c88c439e0e8cb42738fe2903c1fb8a84fc747b639323fb210f7b77bdeddb1bf5a7e45414f21c93bd292d5959e8e9c0a1ece1249671c374e6ab9ef659bd0703689e2f2f4b32cd51c92ad50b49c27fb5ba336a11c06edabbab55e1312a0a3c536742f193463cef93af6718832a26fe4f1a3860ad43c261a8cb16931282365879416a4017ccea68574661b5abbdb0ec2809e1bf27d55f27702421019641202fc79425d7b17f77b10139f90dc8fac53ba1c53f5f5975bf22a8aadc1b949c4a18249a6dd73e86c5e80bdc8d615d2ae1f3bae36e50ff0067f916848492ab8d7f071ad208372556c15a0d5d291b519fd42b979b3073aa0c1ff496a1b249f1dd9ab42bc10eee7b8e8a0d22b06846d4ec548d31f02d681090bf9194efdb4a395d2e2aa7f1362634872d512a97f9cdbd2f594f0ba8daeabf5cc6de5d068fb52f251177f4ebb0ba53a63f54dff70b3ab9b4331ce72fbe6eef2a0fba4772516cd96f566f87837e0f614d50bc9d745ed671c6df1d85aef63a53d169f8aa822278c46fbc3daf51cc572d575401991be07545fcce976732e208860a3b7238c1675f068565381643f2ede5524365113b20bb5034b85b769a7295eb2f049ddba9fb3dd4004ce1627902ba3c008e90e4636e31c6617e246097be65d4e3c54cf36e7e539d88c6462d7897b7dac94e9f208bdf953c1219af90c11a4a71706875dbd50625aa018f5fb0462ca5f50c4dfb9ef5929980ccae151b5bffc8adb54f1ef2778343ea28b59bbdd376a6cf85f31c534f5f7141bea19a148d6ae13fdb12a52e7c364180efe67f7df4f778142e223ff5fb59af4d137d6d174baa12b0c5ab98e0646a250f0ab32f8ac40580a2a1103787eea122802f8c4f93376fcf6bb11357cf569a9ca4ea3237476b7d192d9903cd735404734f19f5a804b3ac3959d9ad74670d13ec073737f43edb8a332b1fb7846daa199049d1c1cb77712489c4722fae42502cfd19715ba6660f3134bb4260567ae9b53c7d900cae38019c7aa281df44b65a0cb0486a31b834c347602c41932b9f2caded9b67cefa0a06d453d24df4a2ce0817bad04b72bfb6ce57b59c46c54dd7a28d957c65e9effa5f69923a3fa94b0834d91352d476fd1f87b4d60430b0f58375675cbdd577f6cc14dddfd9a725738c923042e62ca59b935ce911006bc81aac4be016884f0a78c426fc56f28b231bec9068cabd166a5062b37770e753d18ff05d63c10ca8fe1d592b6a746ad7d945e1f537774eff32ada23152f758735eda2dc00c527899b9a5228e2545fc6748eb4dc2e743875b84a629a752b6ff2bfebe2d49c600e546e2037c0b3cf78ad76c4f3fc482e3b61a6333366cfbac332ec3d6fc4c9f26ec10687b42fb5144a1a9b248a125b0669abeae5cafdff22db53a03cf179c3491ad99a9ae3bebd3c42b6b96d4dac2043fadf6721f2060cf2191c413cbabe8af06318d6d99680a17b90067e53083d3c497cd92ad590299ca88086e77978dc72631d922a3bb03461c7431d20e42959c5125e05ee3c864bcd1645a91d69838b48b1c1d16258863edd9d77a130568b13236731b8f75d2ccefa56b00d13712548c6e2dc37ebf6116bac5181b16b4a415fcbfb29cc6de3580307f0361d79685edeb4037c4b690cdc2bd24ab39ba3d0082dae4e8d814114540c42c47e53b702eb5ca87b1009e5244bc592ff1d7baee61f9aeaaeb21430c99d722c652d826514f8500e782f3d16ea6bc91a70da1f2b1eded0481d935bdb6beae0d5ccf3d1eef11d0e8939f52c809154de1531efcb6bb5f16fbc65a11723863414da82686a445a9e5eb2351bd82300694a2a93f648e6780b3c6af16bf20c780c061dfe0fed0bfec00462a9e9afb18a3f477af431ba8cfefe4e10b7356b1f44b56ccd13ae8d782285ea450676b7a6282234a08f887631ee11e47036fd7ba34e0850fb90c009768569d1816ac59e160d3e5e6342de34dc2774528efe23e75e7e9923401cbc75eadebe9729a6880424b86cd45501ed707c0b15c03ccc852a1b9b5024616edc9e7059c35e0b9e6aa1278b23de5598115f2b29981f9d4398ca3cf7a3001e9959f0ac21d3a9446152e77853156256c02b5097da58e6dd22d6822de627f9a46a9a9bac6d14753eee80231c7798616e4adb7a4484524cff61ea1e1239b5f3a2659d5e9438dda6971261d09394dd287830689efbb37fffca06e5ac6c791dba1dc8cd9c2defb9f5af7f64d711f1dd3cbb0f6ae340dab7d79ab1271b8d559ca341f68e3743907023186f442700c3508d0cbb05d712d30b2ca743964fe1f15b5b10b85f169421c11ed1b2be36c80eb700b310128a5b66f10f4634f6e072ea58a0bdefbed5f241d689e2c806cd9dfc73a2030d41228acbffd6d6184a330c24a3dcbfd7389f084b1f0a380c512e5ad580191ba0b8ba133476b681cded8e0306cbf0af81a00bd9f97c4b9fde872c5ceb53cd9dec7d2e634ecada9e499fa92433c1f5786ec3772de6d97ed23aee30fd7c1f71b6db587da5bc093fa33121b5febb837ed7647f0ae64471ad75a2ddfac5ac840d3373dff0adbbb511cc70629b5ad8133238624dee8bb298ba4cd88295f1d0e6e22a16c99e9a8b9070e96047bfe60b8e6c0fd479bd81a6618ade5cb3d63eb54a289c7a4cf42001cec9a4d1bd990386181493e6f2c5c81106cc53f95bb20e85e6e6327b6d160b0d5a5b6d5fa3b5b1aff958c9339f005028b9abc5740cd67bab3c581421c3e10183685625deccf165ebb69fce6a9aa52f4f626d98ce94887f33a25b2e4e0f92a2bfb834fa0235fa6a8ad5f419682240c6b310b870983230d216b73f77e55115726be52200eedfbeede63d7378ae3df4c4a9c7b6458db2ee61b835a370d4772dc2aef21d22ebcef907ebf04a5d4b31ae9f10dcaa0c009905d3697127d2365bec221c4cc396c8606e39a2c3bb3d2f5d222571c3f73e8a37b3485f2783a0b68d6836af35a6dd97715faa172705c60ef70226b97c9ff1f09b2b6b3f4780ad3424bae43b08210d48b1a9e471bc7271623b21c807bbb6b0c9131b2174b935abc37a9a0f78d80d4ac5fd805c963775e079d9a7d31e23b8f1b788fc8bfdc5491d94631eba5514cb534e5b02681d8527562f3158f7f5ea7960782cf28ae603d1e6507a1eb85a89728c375bbb4d5696a64cf16035fe5663782d18744ca78686b516485a3e8aab8063f56f537a4b0322d869ea5d8bccf52bd5650c0ecf51d1c817cb12b1887a0364a4ef2f9ba3b5eb5663bba886eb8b9513e9d31bb35a64384760e992023565bc941e0f3da25574ac6baaaa6359ebbf90775508b25b125a4685ccae67ed7080ba4b5a03186a3201a4afd8558e59e21cbc47340e8a7c2f45b8e098e8a6253afbaf49eca5a2391c86cfcb266d9e23f994187949e5b30197c4b0ea27700db9c9ae2a27f823726471dd6ef0d8488b6321e04665bc00bedce4db5d1c89c4898c63dfdbf4d99f932ac03ef2d64afbb00005adc816c8e58242244dff7db3467f8614969dc4dac6685149f1bd17e015db0d5863c859c3e3b99266f69e0aeb55ad7391197091b7dd31149d213e09b20c6c8da4abec1266acc173401c7340331e75669bb31d2a26d76ebdd164e16e53e0c5423a9115d6007e2efc076a74ace10535d2c4b1f20c73da56c94061fb7a3d68c2ed47862a08d740543c73b08db6d9aa8e37f527a40375860f83c9ff83e0eaa98b9cdcc1d09a1eaa0a30f1a408ed64103c1bad63bcb8cd4ac7cd7cd46d2433b07f01a0798af4240205e15d39975aa6300211ef8ca15dd9ed84906d447541474871e15d61c1af0459b7554c362feb1e65d48d5fb1a9b525cf3e535284789d4ab5203c6d1d512b377601e6bf939f911ef500c4175f9c79647ee03750f2a658a86b8eec364d293a607682683ab951eb26cc6371614fe6870190c2924e98fd2eeada8f69ccc74ab2b50c2377c17d70a827d39397899de25307c5115748e43258f91594d09536dcf74a7bfbefc950bd43436c290200995d6d15407142676ff1e241d90741cdfb85fbc26a565df133654871e7d98a85247d57fdde5979d11680605e7cd049581f2bedb4c5a1d80a7f19533bfbfb4872946a5a4a636cb56bd4f9d06943ef2a177382afd2174fe86bc6fc203acbd2141188a8792e84f166d55c579de78360b25573e76b67cde12140e8fa19df109e929da786dd6d545f3687060b76605350a0ce2f43db65a205968066219db9d6c2763566a83ea6cfd88ffabc617f3c5caa69751843dc43632fedf4ab3546b05829a7f350eb9fcf190cfcd8b02bb3935c69fd7bd3ddfda5ee3cf0f12035868b26aed88aa86a86d1fbaa9ae66b0d796748054f25b815fb4ad06c2e5c38c6f00a9ebacf790216ea225f592ba946d3bda63eb561dca27b17adbd9134b01e90e1ce50bc1e8b7e4d2f4a6a5a60f388514dda10bc920cdb84e106e8c52e2f691f68fdf483507cd92bc2184b5406fbbd19a440eaa66e8f1a45f8852f0a8eddd8e7c51bf74f8a6a1c5e15cbf7a96cd877463978369d9d30e5a0e06ea6cb0fdbc3f043cd197eb1fc9f8b9c47506a5637294cc01befd76d851bc4608718d69ac0ab710a0dbd96af1136ac70f2e7f8e4359ff2d873abf3d021efa5ffaf3b73be6406ccdb99a7350f938c5219bece40f21041d86be6082c77006eca827a5dad7cf43b28c08ba732316f4fdd6accdfd07a0821e9197b48c0f5f3f835fec00744470aa458d84e9247f79e203e137f7e4e68a52e4df58fa7506826e0bf1befe414f3e45ab8b12ae9b70755bbcb4646179b82e639d35b6fe9ae0ca1a606f87ef6e985d7a5dfafe73cb1c67d57df991380d41459cc91db441c55bcc5fe951243166010caeacd65a9fa9bbf6e59725b7785d7fdb67608c24e8b3c881868b57b14bab630083ba849253b82d0f641d854b2d7e410639966112cfdad250a1d308a6754dc15b6fdd9889814cf6c97be02f199523484d77cd0158cb7f81b5bebc91fb0a04bdb4aa635b618a762d0a00ea3852db6c6a7dc85b3aea08daf8007ba38de7572170cbd41414a27f013169ca441c39feb0b9a2f69bc8dc6d5a2f6482cedaf2ae67cd83ec050a96a985ba35bf31e9910f0a63b4c1aa5df5a711269ae4d0068e3b0b254b91f3b91f2887f26e44dc1110def15a9b50ad005a7232d332c9dd00cd4dfd8eea2527eb0abbde860466db4bf00b47d627ea584fb09b2c9de28f355a74f77a7b93a19b470a71080aeb7c47a218047129c0d67a1ec72bd8a15ff25b8c14de4c8d2ece93123065148ca8418da5f21352ea690e5288cb59e070147e7d1ee04bf19f7f327b22e4521f22e70559533e2bd06e23fdbbb6e5c743ebfdc7fd804b426b0361095e5ddbfbfae37a540885fefc2e357cae9869a2df5acb09a223aebf563f87ae72685f27c5278b5728844b28b5180f4d496548cbe19246c79811cf18e9542376f84bdaf1a23fe30d0980f9f4f65d768e89bf66762def0a5223591c3eeab33e49e85adeef9212b2c9b0a4e2d7396ea8ff15b0e63d660e3d1fb7815f67edb9ca758a4247c82382e3f5f6202e02107c23439f7a85bac52ddd98208b4dd1fd8ffd3f1590ffa9d11ab317e9e9450773bf06e6f843e0128b7d47ae2ed90c040ca7893fb6cb4b772bd39d0504592dd0ffa5bad370e8894f6921af36293015259c83f8d003007cdaad779cdd0d05be2fe4accbad29b682a5a03b817d729163cd4fbfe5b7bdde08375d5d68fdaf6dfec668d39df9a8913c5b484ac701eaea7d5478eb41bf80542e926cb06a14d158fdc61805db3c1fc5508f465d3647be504ecee30fd2fe3797552af57a050bed7b7c0feb4486ae36b66c2f4b39f00685829a7e2d64513a4aa093a686cbdae44416ec7fefae7e9d7615dff14612303f24956be1f37dee796547300b3e666124dc480d07c2f673aba29cb25b813700bace136f190ea5b0c951303de388e2940aaab8cd287e891516a257ce919467d73e8160e113a8be45ed2c52fd003b61aad96cbb5f0477f722997501b59ac38174fb011fa5df9d0dbb6f8065436c680beddd37cd1254a0bf839473930e73f25c860c20ea717a242a7d48e94e384b9e528a77ce17df052f7182e1dbd15df861193b1b822c6edb2171e62722c7e8d95559a58e78f51afebe98e063b0e96b592bce325641ace7336967ffc6ce094ca2c2886a019c07ec5ce20c01fb0ecb7db97195d6ce3f44fe3c809c72cb1270372e6072e78c572dfb032daef941d0c5284824c5ca0df17e8b477ac7d587c3dd1d1e307d221b6e19eb683bbf4640845c2b54d4b4da316ccabef0bf7dd2c3531d7f0b7b239e95da161c25a53f4f0dd143abe4a7ea63b11ac8226cf202d721ebb4c123ffdaa5bb4925c411fea3f512afac12352a57b6cd68f0ad934ab857c5659c654e8e214e1df0028747eb33753362eebc5b8d412ffdf0ade383a4603fbf8c5c01f30a6e2c9fe36c268be590a419c5a78b89a351b236d057e5c0089a1ef5be71e45d15ba065569648662257cbd1229848a245adc120379e3d65f796b89b991f7990d304fe8b7d3eb3f8aede74f4c7c62497ada1a2e71eaf0dc58dc9f7533040686992c4d2d9842c5909d2ea9a6ca56aae3abb3c2fbea40e9f64a3c9ab4a4f5c84144ddb681414e51751c13ab71443abce1e040a7684b7d931c5bcef049d68d6e907aa1326450fc322a1f3b16c83826c1a6b707ff8607ee5b63fbe52dc1cbe81e72850f72a30fef4cefca8f7dae3f0c62918690641df92c29de94bb76cd27752e9e17784d45bc09739fb82122fa9484d3e18d43e459fc4c99df70209de2deff7d966230ef3be9cde1403bbec0717f5b598cae0a3cb18ca9aee171c0e36a7607426f34a19b336620ea883a5eaf987c63472dba7ad6f219e416035d8cf5628779818b72f3bb3337582bcc10ac354125b2492740e6e2372ebd33c9da09d1c4cef081568e85de354eea8b1618a5173619db796752ba889fbd6f45cdb715f86920bdaf0750566cf8a74eeca5fdd9dcd78c34b9091b9a283dfbf951f5bcdbc89caef651a7082f59cc9ac53bce03823b6bb2df05c9eb11de6511c9ae88c20472cfd81faafb2800c1f1de53aa60e56714c059f00c671a6e0d59a2577818b8bcfafcf7519097341476f223291a3a1bf03cc8c03f1f7c9487ab1401cb41ec86e3a9294e7d3496473210139bd712b4a653f5cf34df156a3a499578e3491e6258b1c9656668a2144e2a037d88f49004e2539763233dc8942bf442b985eae5a14d2587d45b4cfb45af3051b9a093d96d547f505ca9127ad17fa051be6acabca7e986cb3dd0ca0edad826347f061621d9eafb708c2bd1ab44ff2588da4c7218dcfa994555c5a6ec3c1a1b02390969989cf35e07f01772798c4cc3d047052a341c19c3cbb7287799228af37b3efb62592971c0f1524d29c4b5bb5dd9cb47a9f38dbbd4d7d1155b7dea8eef3b9d9e9bd5fd42468ace2d5d6e99c9bf196c3fe70578affdf58ef3a183435c0a7c9789bec5b6b30052ebb75a5380d11915ae8ba4d0943a0c4e2afce11faebba2cfe1fcb34a8cc593aecc2ed15c9ca2c24ddf43df09468a8fd80b11a7009a0d1303370c1e52500bb17e2558e93efacec8cc70db92c00e538a7b50b16c39bd6e3206502cc25d412a31d12b8a08a762e58e5544fd12a39e2c890c4c449be82a5107d412363faeddc3875d7868cc999c0eac78fb658b91426dbdd8d73537ced68dde6fe69ed1edac7fa4aca9a02fa5afae6d945900e8dda45a9198c4a4cf4fc06f07734a0a6e7da7fb7b47407adb34f2e55e6452b12b546ba18d186a3fabb1de3c3ba3cc1f83584f9624b6bd1b748ab9c6b6cd1726bf382f3b4436ea0f287c7773001345c4dce1bc429e62fa2c9f9a70eba6d33f21501bfa7f34217d04e122c2b4edf4ea13b6c1a6c7bb54133e463979a9dc54b7b4cc2680832ed7f0165f5a9d59dc8d3449faf7edea6a79b79d5fbf72559ed02febfeaba87fdcf48d07a520676ba2dc61ff595cc5d3e776a9ffd73205f24567aa7502f67e41f727cdbee1b943383123d8eff59bae61b4618ec1e52eb560c4ecdc063d380c1739c6f7da74295600de9d9aeb545bcccdef413bfa3835172c1016b5432c450f09f513085ae27527d3fd0c091036456df811bfa9b0ead85fe0f95c325d45fd47a40669304ea628e458c512509a000fd8a7d2f354fa8f3eeed9e9c152ad20f9bb1970e1cd39478a1f0fb68369b0c22e97801e6a2dafcb49f5b224e49ef461be6e92a1f95136dd66d23226466126c01b05bd83891e94292ff0cdb19eecd350e5c5d91164d9202fb4ab5407734da084390a5d5a51f74c73038f9cc6adfe08e948e8e9ac7f3c315895e21a74dd576cd1452d626999c8ace01c028ba1a4560d251c4cdf3e4475e060a86cdc623c36ca6bd39c1f6385c06f2469cf5fa3b9c137cd724d5a9fe4d4cc1c80abf989a9112e9dc7d3686ee076b44244fe2fca463ca979afb4c7ff6aa61c9bdf24ea212b4ef7ff89aa769c40b1044939537d21e9183b289483ee624b2181b1e81390606b6750cae16f14ee80437e0d80ad21aec2c4f7cb3423214ec7a1a7ade12fe3188a59ff7d3b77448602f87a420e9734e98ab188dd68b6237c3cced98f11ed2d753694a14e85556b1c70a1cbf9ec1ac374378ae8bd9f30a1878541997be6f54aae5338a0fb423cb49102fae24ab7c056a4043465e34d6291b6f7745348c7041242dc451090cedf82683ad7175bc720b8aa5da192e5e5204ebfe542e77b29e7c46ada37d48a459990501b73d17ffb78f1d566fa7e4437dc73909e6f1cc9696e207d588fc5f123dcb1e3b463d6dcb764c0fa73202ca0bfbd5fb216b774e63fd180a37bfa22a60143ef03ce4b4b9c968733a54d4e22fed04d147c1cf34d76d0f9c144b4f78b97ef10cbbb19e2dbf8a98bbe2c3e80cc1d905cf669860d56c711daf4fe8529a92274455b98576d5ef2d8b1461b495c3eb0aaf66d2fcb7636dcb43d9108e9460bc3b9517c0b0f1b1aaf514d1723311afa8266fa04349e45cdbe5b3fe37fedb302661017717ec8b5f4441535ae87a5a2af88702ef34cca1705e8b80c178f2c9e83ee6fff7c1278d8e550b20a3f32f11bbb9c8bd72a6e3193e27d572770770653664148e4e0997d2fde0870a63deaeb76a357c90deee9797b7ca50518136cab6ad2f35b7736345116eab2d6aca724b4ec1d3d202ddd8c4bd910c5dfcaae04a79ff33e1be46d1b465e900c124ecb18635fc3ae8d57cbfb9c2cade3496ab4dd84dd31ed4611d80e7dbea3c357873c337c1fe1cfc00ec3b1a9cbc71a019b1fd2e993f275aebf2627470270d2a83532b5b1588b6162c7c902f7ce5d4aacce8c5a31d233575eda3d3ad4520da5d0d40a810998ffb33d9175bf5a44ce01961b1c719db4b56d1736c8bf571c6eebabd3223c5738a8ce83c612fabf713fdbed41aeea8cff165f6f1e7409f0e0faa122cfbdd63cb5f9d7deab9d1c1929690c31919067027dc4bdd04b9213831e92b79a6f7ed82729bcfea7af1a4130bccad17a90b7d98fcdba0c68de70b874a59f42add328f47a8fadf8815d33c90d4676727a7ebe350ad9e9e12a90bd2c04e91ef7b494d281310df3730c25302b042faf78fe61649729d7f5422b1d1ba40b9b77dd77106268d0afc9ef8a79c6dd90b03e963517d95437f3818fe3a7a4db3a2405059b0a4abed8368bbe08405766ff3d2868f7250a96d0c28399442dfaafef4ed2c53845e3dd1b37d5176640d806bfd034c2426b4c15e5be6bdd8cdbd8cb86dc7fe02433dee99b35830c024dab48bf7f5df808e2c6ec73326af90b1ddbbbdaa65d6d51d74fc7b27b90413b798368f8ba338153ba2e7c90f02b0704b26ef4ed64515904875f6f6efbdfd18358ee4dc669cd774d890c695a2411a6699563205efc697d42f31b98b8708026e0c4eac162bda0528a6eac1019cb7132dd5987ae7433bca802ee46dd127324801e8d81a1ece3567009465e3fd7abca5e74723e74a53a66e15d85f7b293e59b358840f890557644043b6671611bef5916d8e8684a87c2f6418ffcc7a8b9eb63f1aa19fa3ee8410c4c00d6fe5c5d61bceaafdc19c09ac451ac1bda4bdff3ffb4287c0cd39dd0976e6526edaafa95c38afec78ca7b6b975a958c51954c4071e7b7e2649fc68a2855148e3d55140365f6dcaad4498a6d449dae19e78977cee7b0e27ed1990e0f3b53b107b5084d544ef0ed0ff66e21a9732877e190c39fbf830a1927b8ee54242b970fcf46fb9bbfcfdc7b79e6c6e9e60cc1672475376fd7576e5b8761b2bb495dcd8b8102881e1f7ea9a36c7830321a11f36860da6dbc75fc3f93a788d8fb69956b2d78ec74efd1be83e9011f5020bc641750ae08108cbe5861011a6148e1c9e6e9f101987c1256edd42fb1f967fa848b95ecbe9fd4cf909a3c8faab03282de4fdbb2f4bdd4d875a74046bcac6b5ef773e4a8cef4b7fbb0140b318a90015a95bb3ee25f009fd48619323382c21aa79340cefde30d21c01ac1205951aac92c9b36c045a6b35e33b96d24cb98ffeea95d47dd1ba54e819eb54432f51238b13a679a93cb7a0b556809e1e3c4407f49bb0fb36ab1919e3abc955f1ec4e13c5ae692cced15568e3a98c2111ff4ac4dc0b70a72870463592ebcafe4776310f0b51beebc0cf282363acb8933ff448e8d91d42be973bf3388f237cba453569e351e2fd2db6c6aed487e5bbc03fb7aaa23c921fbc2959cc47663958dd21d37ee25b3e563a56c959ec25d2c729e4b78bff63d3907d69048796b5c65b644fc7f30ba17acebaf4a6598a2b8260f860ddc759623b38239213525e689a3396bff3aa4b809382ff9e0c103120c106c3ff5cf145bdf8e33573482aa9b889689d13110c58532e9d8638437ebe241425b036baebb521422b4a2fa7ea667bd7c411710a0ef6b797418fc18c0252cdd970b17438a7dd41046f6c9cc20b7f3fe30d65d1031cabec0b176d30ed6f4e715079fc8dfb5d776412ffd4a49e935301bedbc7db909b089ba5821c278307c23a3a8bcd430e50291177f7ae4dd1ba816d60beabb1d8397995849750969febdeb0de557066ede9e680e59d2da52a5a4bd08ca1cec6b4791351308424e40c933d1ba0118c658738d95f18249f4bfbffb6aacf1eb1f7687993f50509ab8b3275ef96a4a40559a887939e5b8081f0f817283f1d2307c9b4ea58a25359a364aa48a6e2e1d690d592c43a279ef44382e18d9392b1e73f38c6509bce0f4f542a809d2ebb16d6a81352b1c79ed9d04c93de25b171d2b3b548d4840f2935cbff68608fda8c5bf165a6c2a465c28cd431a1ddfec1734162993eee57ffc2cb0b22d034a51e07b4a3c50d7c30ea5adeb6720be54e7b6a8d91ece7b63c496f404925a8474e783d8e33edb82758c61de4e3a020adf488f4f26693cffaa37d93c0ccd844ed5f3e59edd72191bcf33e166abd6c41e07bfb0c82294633a654aadee1d4935e75a147fcc35379922e39643ae05ddccb9a7049fffec9c3e3b72717329ccb479abb9dd03af299e22ea3f248ac5f046d5cc4739ddcd88cc7dae477c63d5be2f6a914a552cdb438b2af6a39f09d5b3affaed9017fd01527ac0dfa5219ff85ecdff9b54743be5325c1fe40ae6f6ea72733d0da683df4a84a5e20500b24d8dbc56ec0b989a66350eded416f83315c5b0e85b59d12fc197e87e9719d27b8c13b4c29d96d33cfc8a8a6e845f4b4258e1be70332dc12061d8f9396e260d192fe3c7f0755296bfc70be1964fb7a9a915cf5cbe89d2dadc9221e4972987e209bc0057f3f94faec532d2300bdec75da145423477f543751580c88702bda34cef2d7e51cfca38735c16d68a43665b0d2da36c15e151e721e6f304ee6c03d7960fc6b1164b5f8689671d56e84cc0de45c3ab167bb22067cda2f240251817a6119ccc93155df0d1f96bcfd9384a16d1431c7471f04103f9d0af987b8248cacc61494b800bcbe268b5858c25c9b20e1be4922b37d32a3d94b436d794f32bb7b8ceb37ebd12d33c906b79ec939b76e0075d683058ac05f12444d5a7494fa2cfffcf687cb19d2844f7ec846ae4a34e8a43ab42f96ea91d981d246db36be2a4a693cd5e8523ae5f6ffcd28271dafc4cff8fa4b82b46134c25931adf441b66a6c56d0dfe479a7b5b8bafdcdced69bd0ca2621183e753eb2d4e9ce4f0ed844ea6739ab619688e6e3376ab7c23a4e61fbb6a72c86498945c3759bd640d28fe0bdb696a2d7f71006043fb28d64ec09f8cdf59d751bb10965fd09080949a168c11274a9f8f9c61a06c5966159d1a672056745eba685d009b282ef2aec64fd8b630a79712397249ea6ae95ef9733b76420313442eafe1448d13986f93551fa777a2a2428f47d52ce6d03a12f3ad6dcfebb9fe49f941c77401ae0662620c10fb3fc25204e82bbeaf948ddb6fc472d966a9bdca4dc267e904186fd00f93a128af2f20747feb4592ab76ada9db8e38131ac43b3cddaa13874a05053fb15d6c7e43d9b25630e5ca994f8390ae54ab1c3ac6c866ae6e40c2a03401d77c3b85964c5273416bc0a19cf174c5b813b05b62510ba23274b5a9d18b37a017a361d65da25d3d64a6b10aa20ff16a34f58b232bdd8eaa6e01c2f2ed59297a3c27a943d877387df9987c1bc017ce5d54de9a4bb2c4a6e2c3388104c4ee753d86eece82463c2921720ad4f99a9592a1eb7fac2216b50a1b34d6c77e02154c726d7c19b26579f01405b74e544cbb6e7a0dbc15563cbe3755c8aca64651d1870987283694d980b645469ccafa598f38618e980dc42323a28bfeb79dce9b86a6ca27b501c969af8572bc530e42f6b09728db1cbce27c8516e8a31076fd426e72457d3d91fe74efc6bc42d876181d27e8906ea03cc2de2e56b371e4a07b80e5a2785e4a4467598acf3a6ef1f35f39f568d04de593332e0193550e612c8890d03a2059880369d9dd9840b9b93c72fcf539d28c74697b6418b45e013d51e6b5e54e601d9b34541f653f389f7fc01bee77c92ed12d5a824e798ff30131d4fe583ecaead321d3073447760ae29409fdff513ad8394fde093a82d497275e75a0d392f2cdad64f3d0aa8fb5ba7e8e7e554c73a9cfab7c91793de381c0ec311fa0f38e1e1513dffd094f0ef3906b5cf9d9a29ed281f9dd68790fa47464b833befb9642f96b878876dbdd059f7e420c607f51dcc08ae8b2a7deb5deb76272de88297872296cef09e376ac5a9d75b478c26ed3f2f1bb561ced91f660b14a66d44e487ba5a78ac45ef509a4bfce1cc7f65904d6a59c060de99a076ef38c1ef8d9a7af8edffa0754036fabea609ad4ab1c3d0c1358e23c772016af65e088adb4a25ec9c5883ffe11f71fd06034e7c8a29265815d7f85d110fc92b1b1ac3966b231bb86379e4a1d7f424094f17351af2e7846bb3320909c89fb2957f7fa0fee13c658599064210c837067dffb9bf9f1e9893cf72f7f499d04e9d306d7197734f29411e5628c2e88dded3b1130ac7b35e50603b029cb7cd3772288730a590a6d762ac8c8d173b1f72b7e9a7c5eab5ca2eeecb5a9e0fc127f458fff39302575611ca603845c0f93f6796266d99326f789487e33962a52320db5e2c46c2ac819f4ac4ee9d45fb783bb4c4b68ca5260eba48db9965643596870d3818db1a3bfe6a85a43566f57a94602e518ebf4fac094a9db23e0ada24f37261c049e31fbc2322aaca3b62772f62d7ab414b64599620189c14d4b83058d6e04903d4199f84c1e3da0789da1c6d8c109dacc3689709fd7b4473d488801b620583c33a4b1c2ba76f10ef849c354c365b046c21ad79595e3dca3562ffad655a40a58d30a1e281b107e8bbc04fe33d9e62c12d734fa86c127a86e19daa6a858ceba537dbc3ae0c9e4b347de7156d270b90cebd4ff37dc97dc659a8f6684b9f01f357206a8718a1e694d6be4858e46d8d3d43f48c38012241776e680fd9880a7045ba0a95183dd170d51638ac33dc23b6025d80c21fd22e775be1df97c1b02f6abf97e845045ffd061c3f8c7a3a6184e7ca35e597b9b6a79a108303fb0c3881f434db058156f4f9f8b6f5f76ab3a6eb41600c6331fb28b2befcb6d29a055ed550f58ee2e6eb9e754a2ecb6ffba8e1f11e88a0a77d7bfc25d161022ce9f6ecb78e67475ea10b798c9e9ce3f26d5302100841a20539316e6af12e08fc4197f19524769aeb8a8cd7b9d021298c488860308bf3f47ae45ee819df71f3404c53f6ab19096974904e0d08aa01b066fba02779aee6ba8f16ec6cd49ed872ba05ccaca944644c7d4076209228feab1ea4efb2cf20e984580643eeb8ba9c19700f65357831a982075643ab77e3c31fd312305759633a30f2761fb7565007f0419c69e7806776286037e4f1ef129381e8a577f8e180ea13404e351486d11152a1abb2102382c28dc2e3ecbc4758c272f42cb9cc972c10f7c1369e282fc8aa416fb2616189b98eedf7ca6d13487357fa69e5952075b79ce83c9ff483f8535c919ff0ae148f10b7988840aa4a7f41655c2ccca138eb21c60a21dbd34710d1a879aa5ccc23c6096d10f39ca2bc065104a55cc681783451ad19d19861353cf849cb637e887925e17462dc36cf40acb720476fefb218039c3dcfdfaf5e9d084a9ed3c1d5c7410ac3185693ece5ff3bbc27d841f37c22d6af99131340905a3d4e7b5687d657105a6a69b13aa1005dfc64c01f6f106ba76f524dc78aeac5a0d06c96e91a039de55ed660273deeafba70dd0d2a0c6a9f8d903ef36b508ab78d657fc88122814fee1b49f4a2e6db93b0c6ebef0baee897868f38602e5452ce80648873a5bc6561a226e0ef5504567a6e08b7ae1440f33b1dae8df4f1cd18a507910baeaaa99a361c6fdb9be2236af8de4c8a6cc0de35f028aa62efd99064d376dae3e0bc5ee232bd9268b55647e9fe8782486ac01c2b74a668f53ce54b647ac1df1a80e32792cb54eece5677caf864481fb191c288636ff2fa9118599e42c3a30010d3df1ddf8b4fe8fff7757b271e09a1559c4b246c9065101d7ce9b56952f10b902dab141170a95fbd26550ddeea0991c8bd703ad7caa87d94f5d3c07b84010df324b43c8391d8a3680d827184056d91c4076f1d18d68531cb5f3a0aad7c50541bc8677b523a6f87859cc97079c8ee21a846fb7281a7e5dbedde6a1f8315d425fd7d4161863c2dd4a1ed5385eeb93b9f7e6fa3b118c2068aea922cdda6fac34f5b7ee7ee213c8899265b5a44800e67c747f6f054b60b26f57b299f86274fde7ba9d3ee98e27eb615791f36971f45e827fcabc0c89cde32e7aeac44967005d8bb51618eb137b3990443085384437d994802b532baa20a249e39d6bfd361a7acd1d09c16454a2469639d1965920e4724d8dc54675f71bc555d8ef072dbab8de519853fdec9e06829718700fd4a2fc654dbd2c047b444c2427a7fe86c390113b533e3461c1a1b6ab1b5c7218ba7c0b1ac692d8d44a07a51f59e33d4d07c0f73c083e0b01ee0739073d1bae40ef1269a29bb202300a1af51489c5c0f19484d4dc531662d51b1ce3e85f27b99a02e2238da1dbebb535b5da25e372aa9f9b3c2cfb8d3e21a7281f0556b3e4e7333874d2b585520b55602d7b54c2dc6f7d3767fa77bf529c9d60ef6b1db4e3cd3e804b7d93a51c33b26318bc303aeb63aee9ae95f5b2116bca6c585054bdf732997218a361573f9a4010bea8a405ac784eded500410a72c7abf87105fee54f8c7be11962935d96a8446df4abcdc72dc5fadef6d846197bd51b4bd776c0d8825080b87f2269027a2ac79965db26aca0c37255c6682b77ba896cfe9debd913bdc528ac64b1f49e63982a6a6aa8b23ba691f1c7af46224c41c4bc358131bf797b588014737a01a2a6da73d775374da192463d1f5535360277caf09cdd01626327c9d18986612445042fd767e3ce78866c06dcc84eb8a2901cc4c3eade045560658aa744149385f112fb7bbc31a7bce659fb1bb79c47e7978beb9a9360bf85061d387700528f6a9c61ad125ee39a39312848bfd619824727bbbc8459a30620d6dd5a669113111c622bc2c8803a85a176ef683b45b51cfc9cab7ac0572d151527fee155c7bdd501f5c6cbcf9f11b69c017e2bbd6f32ebd59dcd28893128c4b7caffc6211a560d7f225ca7c55497a5be52dfea6699aa6904206651d8415e45d9c904348c5350c76af4a6fe08f57ce48e98eb8666c0afa8b86637b93ff34e04bbe3ff3c93a58a89d01f390ae41a7671d97868ba7cf0600d9626a6d601b7f297910b4bacafcbdbac55c94e9146879e14062be9686219fbd97e67b2fac975303691c071499f175e9320b95c7dfd11b279bd752fdc10408e137aa0efc85b19fe6bf021caa322b4e200c7824049abf5ec6a98d2bdff8b00dbe72b39d9e3e6b2dc1f6ba638aa18eb22580cd17c57f099725a70e00ccedcd6f8324bf76c2e4dba291b12910bee097139448ab8db14010593954317d2ae55a6b4ac2f8989e408d480328c6603a8efe04fc09b5d77869ddb797bc4caaf5e10e4fd1dd40a43a333eb5d8820cb619fe4a2d70b9cf8bfb48fd69d452b8dea89edebee70799571b23bdb8bfff10c619c061b04ce6c7a54f57b952fdb28a87a3d1dccb6c4003bac5644a0cff5d36c4890c721a7bfa4717622da2bc4e1978e50257da7c65a8cc030e23f185ff9c5f317414830d575be408865d41295c7cb79e534e6af0de5f10b9c6152b2b8c7808485cab76d539b4b461e3cc148bcc9b81cb647e681b4c9c6db0851a9c4e2d78b33d2eb596cbb9f6aa857d80cf30c3b1635da9018c9f7d133e4df9b4124e17f2f5a2ac6c225e5e1cfd10245d3bced20e8cc67bede809a4312fb81c394461375e4f98c6cf05d9c1ceacb0c516a82f93899458c0e52ce09f217873174c69014db46831e5b6a94c4ee9ce6a41e72a98be575bb2843395b4a95f13bed8af1be64242afc65bdcaf32d4b5d95c47344d05a4886ae447ed604b063091d7701f35c6bf4263f2a5f9714ee1e3af9368c227244e745c22d61e2dfc252a20f5f22b52c84aec49fc4a26b2c656bed66b7f686732ee96aaa433c93922efd81adc413a37b8d5054baef5d7fd7a70e8560977fd65713d9800c25700cffa38ec505ee5e1811cf036e858b82ec2113ab4c4aa0878cf11e28ac61e9d50ae2166929e3a6b95e775abd3c54e68938d86c592c95ff76ca8e003fa50eb3e6d3b8b5c2d1502f0d46f9ffcd36a0efe74c160e414492714ac5b62a8ba16427a70c9f899464cd51167c83012cf82e2db47cd9af5410a5be717653af18a682b922d33d3f20aa494422d98c65a144e1e71bc2ef05478ed0fdd3512b852cb29c5da455d91e0bdd33240bcb4e19914adbd7e9c296e070e077a0c81b30246f61c0a298165adb6dde80bac5250db15a5c0da7e2bccbc523fb849b539e7a2778f114bb5ce7df56f4ce2fd2e1311f443061e575f44cff0a48efdf286fc1d322f9fb0f7e84ec950f3e5882a1efde80de187e9268493c1b3955e7589a32a79861011b6bc365dd415781701dbbec173da3d356a480d1fa6218a024ed52235999f7008881263fb74690626bf9f504c412575b4d200ff06b3e0d9b458aa29ba0a050799841dc6cb99b88618718997d375bd0c7db1abc2711416e8da499a21d9709503cac0f6a7ac88471a2a774a4076bd65d6f39f371e769915fb0b108a212446033f22aad91e91a2bfd21d270b1c5cb6e8c78be9d33eda1ed902e2c131952f677e52f85080c33ff942fadbdb0be4636bf7668c192b655ef75680a94703cca295dd420d6cad21443b645cca2fefab129fccaadd981f66bb41f87f1b96248df8a9ac6cb83578103a4939074c43da5e88a13e35a65c4b26f363b1a689a36f798a273d953f5e4acbf6702cb4b7d2e4d1291af8edf3d9bbcee7d9f02799a867bff7342e6ef3523ca1fcd1ccd2b901f8bb62b29cabd40068a5434ee57c9aa893084f5c8ce6e80b375b83f3581c8be1da474e987d8128699327605d91131e83014a618de0e2ef926038d1e2869445f9db3b06f5e9a969d42533b7a030e52b652c15bfdb75d6e6bfb0ce3ce179d10f0049759f8f8dd1c03d0c50b5e0347b8df16f233e1448d421fd3d1ead72c1fc8056680c2b3d6a125d177d4f6bcc39a86950ee1a03d780aedd1f85952738739490e512d20ec563cbea9632d899a849a8d91d1d7236b58a40a0556989a4a4c7f9b231f04bf7a8335ac09235ebf796976c2acfc2ddf25532b4e016e7d75f86a7126f1da5a634f108302266a6c07f707c8f3a1a174872aecaaf03f2f0938596f62bf7a40f0f9b149f0999db8e4c1b2b31fd611fb5ef0cf20334fba99f4b211d0c2d6befb18eb09d92fb3184d7bb471d00b7cae352f9f638af78fff8f07b0affd98f0d81b563995f29fe626b0c3bf1b81c8c711c5c189d3482a7a2a7181f304ea95a8bd0f5eb38e32bfca7ff10ccc2658c29d7f182823aa11ce1286deeaf3a3aa5b634e29df952a63b70b48bb3c088a7246c62be4ec2615e689a2afb7669d7a141043ec91eef318b89c534bce1ee287ef054af57f1279b6c8aa2b915d1d14dd8ec6bf5be11aff10920fe1926e577b3c4c9217410f8cacd7bcdd2a5fd661eb4224307909d5c6e7eeab3c7eca6d36f329c799a364ed8901cb5e393046cd0bbc64c59b1f762bcd8efccf7f4f54ee2af8059c6a7547b83acfda9caf1d1ab349580f6675c2230a5191a650072b4c0094804fbedbe199047872fd0cdaf3419cd12e5150dcad6a79211c776f2f0d26d58281083f0ece05d597940656df6072d7d9889c79bf2e47a545a994adfbe8ce65c7be7e8472d8fc7549a332f4ee3b5124353b02afa6e9855ce5836266fc6355178ea090eeb8c6c0d51f6409b6b1f6f265331a15bd11ab3e499351a8833968771aa7379728bfa7ba153fa394b38ca9797dca177d8d62afb0295983c081c93311871f6814b77317ef07b5744a9e51e63205f0a6855a6b66603cf29e5ba9ce7466bc8c248abf11a056093575a2f40770852421a4e778869df1c9c937f48d3df3607c5f3d2243f5f49a98d916385ab9108a2b6b4acc461f36ce871ad00e6c98123586824f96566e7610bf51960e210195a65388c839bbbdc076df59c15d0d2476d05d1df971847c70b319800fb0e1594793cd7fe984756843dab22045e36a0a695e7e72e0c2bf1a2a5616eb182471e5f1acaef1a4b74dc1c8bbcb93afee0d335537a7bf9c36a530d26a3bad4c960299dedbd656141a725b95d5cced71ff2ab29b86db4cce34eeabf0c00cd7ed86269c2c0a96fa65bcc1ee66466ae6d32f1399cfbe9406ad5b58d9639732669dbcba35fe38ea75c7dc95710e5e0fd64bba383b5c60824d01490ba303ea1d695b7851d2335500deae98e388f6e9c929032945ced5690b14365a59ba1db0efec67c5103a033b21e215c831e02f2b635ea302eb61b4cf342cebeed0c61ce8e05c2f3f73051663567310f810c8f72c489b6a9dd8a2ba054605198bbce98dfef73ade96625a87c5064d25ff84d0d00a0dd4ce4898d9cec2e04518ebdefb9f18583f1ac3ed69e7ddb1b743a3ed3b0ffcd20a472a3eb77d74233089e107f6263fefab98494fce6f084f2e8aae0ec8f142ec9fa99feb48534a3c26c13d3f11a6090ae6da4d933d3e2ca479790a4dc9f06df6ec51bb41db0ddb998a1c94f28d3b1d2562e7cd952cdd5f124ba96ea54b8ab91c021a782afd33231edd7af9377fad2deab296a5cad5cf41f880ce65091f195ba9c0e93533c1191d50879abbd678da0418a74384fe7da0a0aa9192ffe146105d652cc4ca7907e2838ee1073c54eb6342353147496b5d7efe17b26bb52dda8a61382922f968a6e2948e212cfc8fdd5c0a6a6e5d5c36dfd5848ebf51068a45f8dd1af1eedb15e7ad5c1dd21b329302ff22f77f36cf2bbd483743de72adf23842dfec4cc163f659d73d50b3539d798da89a06ce2ae79cd52101e2fa04425294ae07d386c2cbf49392b7c945fe455e49e8c2341a9440e946ba6f0883e33c8ac52dda24f950f6c1d92fbff2656222204d2685ba55ac523ef5c36bd38ae2e7d7659342405dc49c2bf1c7a6bd3de2abbc519f3cb4670a6374f17b4eda8eda3fca2f0d8315c7b162690c16cef8aa1b64cd24e8b0bc8e93262ab5cdf410f980086c51fdb1e208c98a49edc7af5dc64ecbe6deaae492b59a7c0f2504d900aa019a7d75ff4e076ee87028607514685ec12bffdc1ed540632bfae4a4738a74b52c70e62fe95974316c2c0db1d06487d55cc02242c846ccdce907c3af3f1c992b3d1d03d8a5be9d7cc41e889dee845db16a695ab6d41b287f80a2c2e2dc6eaff499e04e4552b42778988e4dbd6b89b49d155047f6d25b3140a31cccca7e2cf349be0e209ca1e0bbcda3dc810594dd4de64dee6b6da92617cb4173de01f19e7f4d66be288383c0db15cc915ef27380df0e36ec8004833d7cb4fff74b2201a2bac7cfa9fd09d06c06c0fbc08890c9e6ff489f9f441216d79fb3ec3ba7c8be4def0ec6b4745e95c8aa31819339dd34015bcbbd68d144f8e5bb5a411e3507560ca44e44f616e1c7e13616ed8541111bb5ac127082c6a91302ff2add479bcab2e7fdf382f43410408d4bb34bce5c57dd3f72a9ae66df2cb9ad500b8c930210070e3af14c87c74d2b5ba8578030001385a0f147c3a5290d704ca39b7a34aa1fbd8ad72387da5ecc9cf1739640bc1fc2d43b0cdcc5cdc4ce357109b86c0d3effbcacc00038d95324f7419b29a3ec0ab9d38716d484155c4cbf890a7a4caf49a58e5325f25ec39b7409713d7aca709b6a</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">å½“å‰æ–‡ç« æš‚ä¸å¯¹å¤–å¯è§ï¼Œè¯·è¾“å…¥å¯†ç åæŸ¥çœ‹ï¼</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>Flutterä¹‹æ—…</category>
      </categories>
      <tags>
        <tag>Flutter</tag>
        <tag>IOS</tag>
      </tags>
  </entry>
  <entry>
    <title>OpenWrtå…¥é—¨-è½¯è·¯ç”±æ— æ³•é€šè¿‡åŸŸåè®¿é—®å†…ç½‘æœåŠ¡</title>
    <url>/2022/04/26/my-home-server-configuration-openwrt-unknown-host/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰ï¼Œæ‚¨è¾“å…¥çš„å¯†ç é”™è¯¯ï¼Œè¯·æ£€æŸ¥åé‡æ–°è¾“å…¥ã€‚" data-whm="æŠ±æ­‰, å½“å‰æ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯å¯ä»¥çœ‹çœ‹è§£å¯†åçš„å†…å®¹ã€‚">
  <script id="hbeData" type="hbeData" data-hmacdigest="d72655bb8b7534994f9805ded60949047e817060023aebed02961ece1210ad5e">4afdbebaee16c21e3073a0d28dfc931d442e0171b63d58bfa2e30b1e1ede360b98996d12512ad4cad3573754d604797a5436c6bb18ca0301431b56a59d2adf08838a656746e21cec5edd0418e47e0e2ccee2128423afda4641d94005e0e8857144552a904e9aa783c1b8dcf2adff5b33d9bc1ae9626fe3705835716393299edc712f5f7a845a468cc28ae55656a0bfdf5ac747d0bfceb3a056b5ce925d8e1fb9258ae909e8e940c1e7b67bf6196793fc96fa1df900d9b2d45f988c733b997ee8432b71c9fedcf3346f96609aefc3fc312c40baf53617e71908b0aacbf86fa8017bd59027f54ab64d626a3eb0ccd8e781c904910401fd8237fc7e0118c64ac1df4628295fd13761522f73df0e38eb1ee4266a778fb1f6b8f67531b11dd91b83b2815f0a427402e11c2b038480502b48ab4eda021d0cbcec97c14c85df8dd5eb501c185586e2957f1f004f4000773468c9744f271dbd3f23b057ca40ae1669a60109a17e982e14787120a30b8b8dc15ddf18660ef0a3db9a8e8898f3173f6170491a955f4ed73844393d9483d278fd069a8ca7f2d607e8b8cf46f8c34de75af3e7036a8a6d972d2a23dac8869f751d21d08b168230740f5996353601ba8920b62f616ed0decdb956d6dff4f7c8654fe568421d511eff87c6921f151dae113e317211797dac900673c246ed48676cece20beaeafb3faa3507fbfd664542e28a06cb7b35e3ccc5ced47495bcab1c12840592e600979e1e577cfce893f0dce37b2e45494fc5fee99a2979c6db5e4870e92b829f616c77951bffcaed5a1e4e38bdae2556c3da309ba84269b555f17d89681d3d9d28308f75b7c2ad26fd5fd66d511050a0291a51d6ea042b6564c730e1ded136d5b5e9f52f14dccbd9b215b6ddc1962069995214c99fad8e5eef7111c96e204f368a5108ea672283d8b3a9c19eb3f9bc60469c0e02945d7fd32e5141aa22ba8a5ea9f58728efe2e17cc7fdd165c0e4fba5df31e27947bf672c981b7dd349ed7ef862dd9c13d9286cd746e58a5e9eb13b27442fc6830e4e87c3611ef0b949f171394a00cf5d83247b1117e5a96b4392fcdebe870b58cf203f0fe38ecb13aa7c9b1e8c2d74712b24cbd66243921e7e93099371f4f59789ed389108d90c0efa59c1869131a185573a9c1e82fa7366afd8b2250b66364d963f063d6b31c326133e602d102b3a536f59c633edcf01d86c5d525c8bbdc0592d4ea8c4031485819d54756f76e82bcce722a63aa5ae2a315c3e5acd94d8dd90c0676fcde85f5628cf995d976da52738d82aae58395451ffe8f9f20a91c91d260db46cad35cda7e82c3054fe6222ad9aaa6ffa8ef1d2ad3d1167549a207dcc90fe135123a95e69c63d9c52fe71e12633f9b9d6e9732579d2161657f4cedf1befeb6a029426afa28bd8b06fe96594185c934a0124dd3011b3349a274305b2041e27327d0c7eaa80f4f44ab3106ba510648ac804c214a8556d19a12e0bdbcaba6f50016c6a18386785b2cb6750010f109dfee9b6817d476f22d6f69b97d029a38d436cc56a1480f8d3e10876243d0719f8f288b552c34965457ccbb2067367360f5051240cb2f2d8c3f7768afed5f99c6191df37b594d89db583bc6afbe2e489b16247eefd07322d2c44ba3218397eecce72da5fe94002d77e2d8339d4e957f9016df1adf1b671a27028369d5b48d6ecd119d3cfabc21fbe671d5b4a49ce26e0bf67d7da9fcec6ed7443cc8d715e9fcfc4398e0c9a89cd3711ed3b3e83069fafbdba989b6d359eda3a5c11f88211a0ff9e4d4ce395c4b4cad3451bf30a03f9a3413bdbdc7bf20dff8c6b5b5860a207cc9c29cd82ca64660190d0f1da9b7d19fb1e403001d767c4abd3aa3de4cbc1af94908455bcb7fabf70849228973694b909aee0347431ac48500ff56f543343b9fdbc8937ac48a1666e5272a3fb5b9715af34be75f1480d16874413ffc4d64a03f7413e8c863de0bc8f5e5d0d68552d02dd6161ec1f8bfcf5af68b912645e75efa8b36d207258ba0bd2fd85a398091549426d329e05a5ae5e5cd1353886740a5d81fa8ce57233d28fb87ec65604424abf6bb6160c37614d8fc86171979819980519fbb5103d6b6bbeaee41e6f763ee45c547c24f368dabe198b9ecad9fab2ae319620f27cc5f8dc936adef121545c20c01b8206bb0fd3e59bae582ff579d66cab2d61b665be3f4535345a8f2774a3fab642c1c9dc93ca2b4a86d22d37f1885ae393d2e255b978de6adc7b3bd2f04b4aa31a8745afdd0c7a82186d2f9abc95bfe37a639d6bee5220c4ac735376aa1c58f4ffa07793288fabb380ec1b2f9eb992b3700ffb7ada847ea72e46a06f7cfe9ec8a4c2357c6e9445af517743a52b5f04a037619f07ee1d8a735657ef444d8ee73b142d04f14e162518400e5674bde87c9b0f8b1a157c32f288c07312e93071c664e3217893cbccfd89317d0136a3468e0de7b8e867ba4a6246503ae8591b15d70ded58e73c3bfb92041f111ce59036243b3a169f1ba5d707bfc05a20b746aa8b447f5115fc777d80b5c05e89f7dfc4bd63f325f24d512beb0ed2950d1b59b5d6b7ba1487a12949ba82cc5b22364fd66c3c1002a169d0119b1a4e91cc2b8be2ae8aa7a38d903f66ed62a40bee1130e11c9261069672eb6fecab47ad29dfe9a9b85be11a5067a7ca41ff733b3ef4b01889b41ce220e9b7c53ddca377fe522e489abf6275d812f8adf6fc8420097c8c7cac8c2064fc094dc62f7507bb8dcca6c0fef27ae0808b9bf5f4e0be999e05fdcc31d9ec45cd5a2e16f88a2dc5c243f41905f6a9821ce9677c7b4864abefa10ff485c2fd4d76d7605461413c070d43e685b3062ff243a17737705686cb7c2be275a8b9eaf005a808d47d11b00b31df767303355beebf93a077853d415652920e14aec67da1b30132e790cd40460e489fa6774ba0b61ba100028f2655f2192ab8e70b6581afcd09884b6aa94b3067fcf15d9cf158c2216025a79e64c8f719c9bbd08d5af47bebff89bb36784f427061b76f7cbf9d457c58cd437ac408bec5a1f57ab01185344a97187cebf158ccfd74d64b11dc93f3df6c9cccf970788e1ac721122ae725df1debec5e3ae95088dc9ddcc23fa5a8daef4a53d17aa5f79e97a015ab4bb284d4c1460a9e8126895ebd0e885734e4f4df84869ba50f6cbb3ad52ac0ad592b292253ccd6f6c6c333e42d87f353f21db80073721db51315404aa16380bb2e12f53af18a302a92a3937415739532df6a03487a9f25d83c23b74e0d5c7856d2f3d3a4c0dddc24bc1ce484457786650ce52106e3da177a9e994b77be4b6ed276d7c94e36e6572c86cfe957e094e654baceb8b4fb80923a429f401eb5193c1695a3ced6956687edf9e9d0367f259fe56000926a9ed07a2dfc7e7819bea5d65f2d97bcb656d120aca34870d51b39072fa09a4e2ef830376656669dc410791e3356b32d7c02b94a189999466f57f31b0dd9d48e23dc92d206a205705a10c8a2fe510fcd14b2e0764f2b0ed11d4d650c7e2fec6d7279c797cca27ef64a92d27e8f94fe7e8ecf83aecafda939ef2cee14ca552feedc7bb42025f07e05de3312b0c8d359cf75e38f77d3adcd710a9168cb874281684c931ec5c118b7fa0dde10bd1ff0ec29edad97e35d30fc970d20d0e099e07d4e324a149abab777aebfcfd57f6271d18076068f3fdc3248fe111307e41c07659aecd2f19c62f10009013f0c013181c00024f6fa51dacdb3e7bb95b9b3dbcf8c9c9d2c2d883e8764d8df90e30723e90a116e3733d2b199bd256f494c9bbcd7363742175b02e7ec70862469ed02a95c77d3775dfb91bc90846ebf7bf33f84a81f421db3606f36aa98caba01301c74046e23a7a318b3e5bec1a0eaa6ad8d1d01ce4021a46dec1884942d35917e23f72a3251a394cb9d203b7b65d75395d6ee5fd781d5bff2423756995763514bdc842292833dfd10fddc7ac909873fa08e5ee94c3347d6ba8f55bf81565849bd8f9fc333eb7cb8615d00c9ab25949de47a1883f320c8259592b74b99a1baaad91a302a82c2b3d8fbf37ae4344dd0cb82b0795e666a52f992ee0e8510e1578d8d0afa3104766b8663b3cef9203f21aeeae07dc87e3ee82290a898159fb32a09300854c25a930a10102092db3d967765932af780883cd1fbceab5ca562229d49d80d81a71c710c8f6b09fa5394cb88c1bd9efe1f74ee1e279affed5db4edd2a1817eb4bc111682de43c1e9193126cd83f6b9c294e27a1d6805147db6fc468fcf83fc30a47105dfe0738cbb5b400f006ace18d6cba9e363a74966f2059398d1c17a4a2eb9d30d8c209aa36e03c20cbe9e6e24f8e2e9a5af7d6e2ceaf1bd4d48d96863f5d6102f9d81accd63e461c8c2c0075d2a7ce6aa371bfc63f07aa39519f9d401489049ffc3fa3cda8bef44c12d27b7e41b879db542ab538692f24da611ee8c6c592e5ed72af6ca134860da2c8d1be69f27ee89504048d861085489c8f848c1274afcd1a3b57271280b0609dbe87269b67edf44eb0ed89d7acc145db03542ce80bfd8537ace4a7369e214ea6023bc1060c1025a1bcb2392949854beb060413180315f02caa9220783ccf8b7ecbc5a1364ecf192085a6ec3669f03a21fd93dac6e484dde6add596bdd5534dd5ebf9c7bcafc51eb80f28f9ab1653e8d5b0f98b12a769a57b3640399cdfb40830e23ddaa79fc6ae7a9954a4f9617924f3b0bde2d95bc3d8b3915d1fd3e5c486760fb17a7a7a988c0c31e11af09924d9091516a43039895a61f37a6b6d37a17e49f9398c72a6ca054335242e428bbc5b328a880d26e23900f3b42bb87aa5ed812aacdbecd508319030e6324ba8a3a8381bfc500c84ae02094e12ed9804753061771f87f416b7c7eae418a16d6853e7b8e649b7bfa406bfcfd097d9aac4b90b57bc3f00c47739f0d412b7c1e1f17539501c49eea2324c325d50aa7ebe9ecc28c0cf6bccb5706f57406f656066e32e17f578f8ce772deb11c22546f0aa3d7b8a9281474c33eb9d0898c05aad95d88e237811e1a3aeb771329b88f60a73ef1ac4ab45775dc3fdc140ad08615d382d147ca2f8693cbd0720ed16c297dabc8d827c4a3f7d9801c5566205e5f8675cc153750bb80b16901a616c6e532f8f1d6922eef49174e380559a93932f06b00c74abed9e2c2a38d4bb470c635c9cf35de3dafcff610e475b375c480e5f8b2a3e2fc441534e98795eeee3b5fc1d1f4e88d6b5bb46a15a25ae50d19b6f2432079e881aa9b075c1a92ee85ccfd988d93e528b2a46cb008fcd73ad3d280e43ad57e9226c8912546da32c678d6df04ff2f145220dbe90f7eeb07622d5d9c87cc987b2c608f076a24d0205ff730ececa55e6ed437e11c1e24534a7692575be6a9170694df9ca68d20510591397c404244d32395d53ed895f7e62b718282041f0a949e8e0b32d4ee6d27d7be073437a1a5416a31cc966e0c68c7716564d5d596ac838401f9f9623d94e0eb8ce74df317c20b689398f23dcc27889bb2c665b51a6c7b049cb989d61d89ecd1c5cae80c136eab2540682f41ed5df79a94d0b24b06a23139e453f22576bd28205cf17b51082028a989e65d5a717223464ec3bc907ca376d70ef5f60fdf8ec3ab57aaec5c33c5263ea2b80336c3f22a41004b2c4affad59fb0bc04d944539354728049b7032601bdf6263a45ba1712b47d093a8754567866f77e4dc0a5c7635247d313d4429611c7dc82a6854108ed32ca58d7210b15cb85a601d800b963ec6ffa139f247c1c5f44955b57166f0bf56afeb057310d8d7561f62a54f8befd57b74c93e7ad95ef912fe9883de753670d56345c4825a7de833103f53afd54d13257c1b2f2db83c5c5be2c3e2c127d9025fc8fcd677e78f183aba498198deadb6e3e5abe7f4e0bad343b3d69d0c06bc467f3f32ac5724a310b99cb085fa2e520b4ba8d59ffa4b0ac998a5acc855d0795ffe60643517c76568ae6380bfc27a35b48315a8667dfd115691daac9d3cf7ec4a9017ffd3a30be08cee1d9488b0b4173c137dd251520efe6184ff77016265db77e0036a8d48f7915ea55c7a4f611704e96605c2bac73f934b8063163892fe0bcf45df41ed69520c8606243512956563428dab1df24d05f238172383b792c0b4db9424655638ea433c4b9f568c9b7521124ffafaff2f6e3c88e01d4354fb77d72a23e1ec379b5fa93adc6580fae1b4eaa942e272d70348fd334a227e091064d9f40ea5e4fdbb21ba06b5318694c0c09be1ec1c7f58edd0d4a1df2fa4c7487ce9a23dbe665abf1302d311d89ca38195d85d9d313ee2c51b2fc5a9ff7f98399d0f4a648a1bd31228bae3dbf1c407f2d61634d6af7e5474ec9b534f35528c34c1a2aa2694348cdcfd461128faf3a7388ed8b93eb20744e75ba2d351964967f06dbde2bb8991546bc9329b341dd3e90b31abaf62863adbad8e294875d4384660f5ec485a1254fe6a5a5b9ad3fb1c2a65fa8dbccf617bd5d776193341959c918cef1577183c882cfd7afb055c795ed2dc48f0793ce9c70943bbc87e120541201471b065b36448f91c271bc89165c74626d747abcf907374908f18a4a5f4de7d32132a6d7f5a5330301c15e5b0b651625da846b9eb89ab2b8c8fdef075c7c077cb0ce5b647f65264c6ac5759f2816bc15113821625ad9a21349374cb7df50231ae129b4e7a6e73788fcbb77b53623819775456befc5176594a5476391f8b0a4eaa2a9c5d6bd578bd3b223f304e13ff3fc6cc368fea0efa86e3f7a2806d5280df2362e5d3bfa023b7e00baf2fd763c5970312cf658ef5abea40ac6d619dcd5bea8532911e3b9a34c5a622151ed3230d64f73237218d26a78e5ecdd46677b251a4d89d0b99dfff17fe298b9be584d08e662fbd778ff67230f505f636938335927b5de947af28cbccd55adebc14d8121e8e5c83dba6dcaef4d02a13d55a6a5020ac8bdeb12c23dd51e9f2c7a47a75ffdb4a4b283f6f83ddab5a4466624f6dc64fe4972be8f99865995eb7cd4594de0d4a18099340a7685338acbc4259bc41b7bd64aea58b2d9f36f5d27aa8afc55ae51f67232c57ce752a988ed2bf0c3be6028af7945686d41431eead7038e0ff369aab2ff36bf92fe18326f85277abb6b81b9bf8b0fb1e626e744d9db4d2f83b0e856925f5cca54acce225a367dbc294d91d0a739d0e8f18a41df5d52fb007ba7e9a3c024fe4a3fb431f44640e9215b67afb242a66f5278c480c1d1575d9a27a6ebdcba76b739504a9ba2f16093d9885036a8ca1ddb47b2de4409418c05eb27488355a932b6ddc9ddce1c5000f4804d14d74e6a1c371fdcfea3c4a8d56481d7e405770272ea33cde5df8f0c45a37b66f9bcf7b973949000a0d7fccbb9754701eedb7945aa20ff7248f0e88d3c668521ac5c9a4cc45fba1ca3d58d0a4701c103cd227672a3267384289027575d5293f69b7ab503674c36dbc47c8a4154488c2d68449825cf96159e7737db5f804ddf472853e24853f8c0ae81d1202e973e7442d801ae5f1edc511e416f1465f</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">å½“å‰æ–‡ç« æš‚ä¸å¯¹å¤–å¯è§ï¼Œè¯·è¾“å…¥å¯†ç åæŸ¥çœ‹ï¼</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>å®¶åº­AIOå°ä¸»æœº</category>
      </categories>
      <tags>
        <tag>AIOå°ä¸»æœº</tag>
        <tag>OpenWrt</tag>
      </tags>
  </entry>
  <entry>
    <title>OpenWrtå…¥é—¨-ZeroTierå®ç°å¼‚åœ°ç»„ç½‘åŠç§æœ‰MoonèŠ‚ç‚¹æ­å»º</title>
    <url>/2022/04/19/my-home-server-configuration-openwrt-zerotier/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰ï¼Œæ‚¨è¾“å…¥çš„å¯†ç é”™è¯¯ï¼Œè¯·æ£€æŸ¥åé‡æ–°è¾“å…¥ã€‚" data-whm="æŠ±æ­‰, å½“å‰æ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯å¯ä»¥çœ‹çœ‹è§£å¯†åçš„å†…å®¹ã€‚">
  <script id="hbeData" type="hbeData" data-hmacdigest="6ae2189a619e6bbe589e275f905c1686be4b2cc38d72b5b831e3f52c9e4ac3e1">acfa8236f19544fca1fdfcbbbcf37b76ec2f91f730a5d157559122eecab9e1570dbc535d6c6a5ddd64602aac2732573c89cc405ef7e441ac60b920cfd924fed3713bebecc1301f8bbfae8419423c575323e1684c722036046bf9980cceb6fc9df19f3f8b1d272d19756cf3c1e68b154e5ac1e04832eeee6fe6390b5b824dd594fd7d124326dff20313c9a5b5d4ea02ae36609084830d4a47a0eb42d1d31f921715c50a78374f7a561ee4a94c061bb96e7c2e7608fddfca4d39d4807e44ec6033f1c81c018f5e578c27216af45bf56e04c8ff51fa6999e9406482b75ea42a2856bb15c66cbecc387cf630683f724ec52ef0f5f58868acd997156cbb749ba491a0bc65046ac8af6b0bb1c7001ec282d929cfb69877347e804238d9e41d7639fee2734cc873b7c83e6091e4828079b99bae459b1cbc4ebb57f745348713cd9ee3b3115625485f496828b2c71a045240b796dbc126dea8313cedac47dc8859209b0c46a1d94edf535d3cd970ef5dcb65155dccc3cb8ed0f2af833e3eb14c52ec5a9aa24357dd6e0b50698839d79baac82db8cb721d2c27fc13cc02fd103461e966a6e2397056d90b7dad40d78fca4697c729e0c661a9fd72c45c42dd7a8a49fd32a627529981b148122806edba0858ffe3f0f49a0cb4825933bb01c946359410d49ecae74e1c8bc1f5196776921d6265aaa38cf518f8e472267bfeb437ca0293e334038524292312f794b79cf8c96a8f505c10fd437b698be41c82087ef89a40976c7bf5ee06ea8bcb00eb8f14c4d6b9e25b98e3a6adf5b95d3ca4b5e56538374d450aadd1a1db0fe3292b5b9be5b25968fc1a7de71dad3d84bfdcc8df6de7beb3a9f81d20282ca9b2a18c43431506e469e105769026c16eb9e12573e9f338dda4d0d26d73466d30f3cdb1ce9c6b9053e553f5d61af0851fb2f64063c287747b50e1e5d504f216df5ecf1ada0a97f432ea526756619a981f8e3e12a1d4cd99ae5cc100d5eff1f9ee78dbd94f9209512ed1c09000765e1de417579605a2027e4542104a38eb40b5a0d75e49a520587098339da3cdfb55bc57da1e4f8e1a0214bc73838a2806f1bdfddc4ca0fe1bbddd4a0faa7aca55874da496c36942362672555f941f07355163f38c59a9cc54c0252dca8237c68a4c3f2219e27d152d6c5d0bdf12298424b2bb7053c11168a420b04c142067c1d3942a40d1533a06775e4bb6b2cb4cd295b6f1e21c01fe03fa7cab70397eeb6d0ca3f20e4617ce9dfd6bd3aece938d8eab27a97bbaca45f21a2115f0f3431c7252191379a9feef7a4be4b2a06e336434bba5e510a333b7ad47afbc2394c3a6a04438ee478a05657692e14c3a7b7922846d1a1de9de699b02d499db5e81cb52518825577e92abb2c0135fb1d0242296d187fa0f5ba77ebc65526a524bf74b73569f4235bcdca8514edb2284f3ac7e6772125d6b4d77845a4bfc6f68002b8bbcf3bd73ff9ba82e5a71d57692a8f2b43a1d61e627127af0a235d716139d42a0416144c5d63d5cd9cb3afa55a100d87a5a8ddb613485a881b36c3715cce67ebd711dad1a7e099235a577dfabd275267728207c556c20052f3e836b59256e298d0d94af09a85903458b71469874474fb42510d71d3d25e675d355f93076eb0785a5813fb709ea96143b00457faae2ac9d3cdecce1a9b0bcc77cfb3d669798524b913eb9fc821b634a3ff6d2904e5aab30a63ee51d77c8a501087beed73ab276b25362c168ac906ac6cd50cff1adeb234ef971054bd69fd5967fcd17607b3788685c6d294da749929b83c960a2c012c96b0d42658a89fa53252f51c6cf16e444fade67937226f9ad5354d2fa931e29afb4b94a54e0f761184fa312e3b10a6b03f18733d2ccaa4f3c5d5b9d520a61f11a3e593959e0f2129bd9ed5f59661c54026f77d40f8db66db303317fad436e37f51b176dc60b57c737189463e68c3d5d0c4dce4610b3057021ff2d57626bde3750a768474116af26aedf037ab6de59347521ba1d70beb1bc920a18d6e49d6638afcaa4fc369bb79dfcd00118d1c1e58c4b44586c953b6829c0348b477dbb5e69a24fdb5e6851b2996ca16dad08894de4d7a54b6a07356556942d0a938b95a218fbc1a6ff3f43c600b657159e5e1764a72646ab3fce376953d63c87fd64dcedebfa8671d4bae53fb5db52e6ac607264b119a2ccfe050424e463eb605802869ad99747b27770d5487cbef6bb8082f3d15d8f2d5a6393f3d15dc7491186e3dda34c9f46363784f476fe834f8b563b19f6c8f6348de0de746ecf1eb73a5cfd103e5dcd583f961b34e7132308ac293eae43098b66f3e0691f309b05a86076059a4f6d8e3d123894040a4ae7b1a1bd422035f576730e4f68994381f31db835415f26d6d7dabb8a5b27e42e7964ba23fa191691c8c7191fbc81925f877cde83c2b2a4cd7643c8c4cac5325ec6db222ba9ea6adf8d481a046db16857c02e0f2e11532f66ad1b2133051825bbd69962fa9aab49dd7cee7ac057d0846f190e2fd2ab4ff255eb92e3ba83628660c740ccfca4e456a05f7728c06b50d3dbc8af7f465b55d3cd9d3c0cf51e44012e0bb1c61ac69946b00ebb70d31bc5c1271a6067dd4e5ff82f9863c81e8392facae5ed884b82274fc2ccb61aa1a41b6624f2967f7855f2aa07241f9182d88761ee20685cfb8750ce975cb60026f709877f7a55ee300efeda21c73d346c6fa9df8422887f9f0af7fc5083731a673fd587441133af84ae6ac8fc9675239c6907cb1bfe34143539b3f2f794d034bc3e22e798667eafaa9aa3e098d501816e84719514e7cba893cf5844380425d5d2794d43a0a4ec5f7156eb79972f9615382f24ff4f65714bfb7ee89b2ab95f5065df37233ceadbf697e647abb9a9cb04238b7efbb53ef17b9884b759b978b7a347e3d104fde3e21303484f098c77c71d9fedd0ae6a6ebca640e84d45baea39b7073535848bf9a3784ae4193024ecacb5e448129e46eb71f2d82912c53754ba61ea75ac0451607c28d6ba4dd5d0766d3c31dbd32ce10114c2d8debf333cb47faec344cb9004039bcd0474d2dd2a875f03d2911e30d6ac62049a17922ba75c9599e52b4d6f18a7769b0e04c6d7fecf1549fe4c0186c906c8073498b656ce1e60a787321065e5fb433450a102d2bfc0d7975b45fe5f62cd65c809a68a7a86455bc082bfaf1b4dc94bd56dd18a8a3e4629a4cc44d8b6e25563a914f4e9405aa1b946f8747d5ca01452d156a5a5151648a7dd15de4d21a043ba7ebc5fd8ee48f2e7cd45d04b59bb1a6de5fb8aff5fe8155c4ba0519b241c86e34a9a355a0e8b2f319fa945f711a324d6c58da7c4fc3084178bbfd7f39743f58602b60dd167c78f985c8f04230886d72b9dd64f50509a33b685265b7164ae168abcdb23252ee60a0b319e08d4fad0bae536b471de5ab1c670b1c88738c081bfbec3a4a260dce2e1ece15c93d1f2e7f477f6d7a97bbdc6d2506ba6d290d787abe9a761f7ac0b24f7cdc82426122c7583e10d6623a2a55109f871aafa2f4f08e148543a95fc72c6c4f6b56defbfa3e656b8f35261d59cd5e96cc2de4a135d14254ca659e03d533e4de20e4d43fcfca6c0a4a815ff88449931c4e38d2b29f71a5f0f3dd0e797002fa8035562e755eaf630b60f3a8f94e5c1f127aabb90ee317188bb5c5a22b4bd899b0f10b2eae92335588ca4651334743da912e1361708ad4cf4aa05968f9bfe2f096b268fccb8153d988b29edaf7085acb440bd18218c29d6cdbcfc75601bc3ecaae2d9c3a970fdff875f12458132d3d700ae4be6a387de20b2b6795dd52051a658e13f9415714145d964350be6bda953eb391ad02608e6a0f278c1878eb4b33c856fa9340c2de23381e5b654a75eab576d0164a8fed410e6268c6adcfdabb031594ea38b778242233e533b606c754375fb56829e96f487d761aeb99e37e9800aea5a718b282a06f973a13a432bef816aea1e6afbfe41d9e1064372e4d53c5b0bab3d7460ce0d2d6cf1fbe1bd15da29239e4b2d42054befaaeafb90ecc3ccbe4d8fff758b0e21fbc35eeabdde47a94aeadece99842d96ba7856dea0165515f5a206f2ab2ef1c99299fef01d30e95dde184835895b586e84d00758d50b384410beaa3bd1d56042d21dfbceb003b39ce8212548ce65160eaa8b1a5b118aa4e377eea33f4693fdd2e14d54f2f3aa1d52cb006c2adf1d6258c100398693d9d997fcd7e9348be625e13defbe8ceb430c624d6ac725e0349e7c94eda9ee0f109f805c396dfda038c4ec075ecd68620f40b1140ebf28141fee63b161ac96d877f17b4bf238e7ea247a47f7bb59919a15b9b9698f29d8f4e4fd970553e3b250ad146256703fb943b739c5e1b35da5ae30f97b30ccaba533adfd08219ad79435c7567d87d2ae064b589acaae91c47f5ab1f31ebe86cb984876db8de1f67e9b27c6d2e65cab14b45130870f4c7c251d910767410d0a238a88c9785c141f4efa7a0a07f759ee333507ddedb4f9f5d7fcfb699649a53e334c7c3dfc461693ba0a2ffab310503796f4a2229151f440b41c1a7cfe3e5fd72e25eb1f6634c1d3478176cab8dd4bd8b3ac9ec4d1375e49887fdf27418812e3a13c9999820a6d668d57f76d3838a06c9c848d07ed3da883d5d02165b3efb275a71155fcdb5f4cd5ed2df1ff3aa54f455d99c0e625aba24738e0f37f014e942a5dd3502a5f070445c6b3d0a959c6d5a5cd69d7fa49ff3e54f535e0da34afeab112e1a5c48dfa67480b89b1380463a863b6ef3e19a8be9214cf98e759863bf21aadb0baee5fcb8be774d68ca57f8dd473401a069dec3ce41de0469a77b456d1650fc8e0e91fbc3ac644b73876a15445ce98f8fde8fe454266e02bdee8336b9720c7ab67c99b14ce52319818623331e3ec08e83b95ad68ef0068b497a2ade5116aede33e8bcd0e9a2f00167f0f77bb28c57d63afda3cc76c2fa6f59280b22108e461e3a93ea3ceeebefeeabc8015e074632117f299e80f0fe09143d5a187568ea851d409274ffc9afc11bc1c117810db55ec8d5a6d38f5e7dd35202c97508f006462a32ce4f294b47ab3d4dbeb860e4c2ba2c598d41fc9b89e06d3accf27486af9d6565b8a24d46630262fa6c096e1d5ab419d03d70dd8767bd04689d0ff94a8b194efb53b0171df0e8060d9a7d7f3d57e13cabbfaaf640591489da06b4c1875a92e36493e6053b26ecb864ee2b7fc8426b9ae5e01c9719beaa7635ad19213ff830d01670769a47cfb626ce3ed609d2ca1e0f0ba2f2475c12d5be8f01631a61e0ec1c854ba608eafd4e36116f0249db068685691a8d47407a63e60d72308c4a2c34ca9d2b5b2bbdd92e0c061f35af0bc3846316a77b601533dd6c19d056d98130e57cd2dca6a1f6a5d5de6be0943803974e2348b224f5139b419cf09ddee647b22cb670af43ccdbd83eeba29f4943222dcd1b21e9f086910a3c3caba6192617c13ea6632d3709fe47e25b9ecc4bd8330f86094386a38eb7df50942190a1af5bbd1ec709da94f7338009b09d270258515671a2710046d20ea2a7537e6fa4761cf39d65b65dfe6e00ed4233ae68d8d8c79f20353f3f026c650f048010874d758fb0ea6d3ee5143e32f4dfa25bc63aee5dfdd5e474e0402c361b1249965d73b7163a235dbba576b37a138709b62b4c0e7ca7a848265351d1c347ff7e6d019a5c757a7bda55aa6ab3e96208a722bdab3510335f87275b3f83f933a9cc1c0b0909fc8cf348cf748c1575c30124c93bc7013db0d1b5f99b213bfe64dd90b07673871da0af085f71ca3f53a9eec6dfd086139a216241fba56a8602ae28881e9dd7d77c7f0e9a1e689e756d5ac03743af917254ce7d2ed98175451ab490cf9c01a0fc1408007e4921ff1beb78abcf120ce9180bce241e75061b683ca055732cb0abf81ac6eb55b388dd015a0c090bd39ec0c8fc65df606f6ea5cbb65805f85c863234ac64afd62a3520be86dca7816f0eae7ce343db4a71caa6334fad28e208f1cd8d220809c4fcdf74c5de12345533cbbe2005b2c8e0beb725b23a4720fbc62537553437ffdcdee0fab502daa7a27cc582cd4f138be5fd4c4d50bd36f42871902f3170d8edfa4d963a1b8a177cd7d9eac96d96971958f3797837cf8d51644c440e20e1d0c2056716de9ace520b6f7888cb6ed3dd216ee4192a0976dead314639f201f5c571eb5f7563ff4d0db3e3086c775513185dcc3043277d7512f3334625f42ee58b1fdb572f320b9a81fb7875819f58979a96a824ff92e70bbe3372decb49020025b8014b5a73e5f2eab767492a0c4e2793252518639a257f653a4c911c70e088a52495e7900b285ff78d97db13956e054e2f833939d89aca74d957ae0df25eddc516eb5d68db62571dac784a42045362b10fb2f7a08245506b6f0d8b7d09c1d889fc787f9b310ac939221ee71578f649029c794f5335ac14d858e7031caec1413571c6e94d29c75a58e594018c6d99b1eb2a3ed91264fb78edb4e1c430052d61c1fb5262119f55f3fc9929254ecc54ddf8d72ca9ffe99b0e2796ad08a48055ed5e64664959aa98eec8bd87d1f2e5509f06af7b1c18cbfcaa81328b2926ed26471fea9ad1918df346668fce1a446168df099e9014f122d8aabc927bee427eeadad84e983ba54291b2d3261d39da7d4ff58a1ada3e7b6b3e058742b8778aa8fc16385758934032b6ee29f3f486cd0fc253da9210832434f3122b99031a442604abfa93ba129e0792d14207439c06a2344d649529b2aa8a56426bdc6cb23aba9675adb78a7ba7861753a75d2e22872d6ae6761a29776f9dd15d6343ac8dc8d8c70cf177947587d80ca61a6b4bcb9a2dce6b83b6ad3d9d200954dab51745a5baebc7b5a4858bc3b2499c575c111e6ac9f7ffd63f229a43cb38ab58208fbd972d632527205ba4d54982fe2f51a2f4c35675c7d5ba833573e5b693f0404d61d33718fa5d859eb00a3f40ff53ee2ee6262b8df467f39b87d5fa5d173cc268eb332bef6dab484537361613046af9ea90df3b98d15151b2b252ce16689e695a71561d940de5956de6313dfff2fc19ab510dea933396f67ed00986eaf8ccd8021e45aba142bec77ce4b36129218539ab799ce2aaa1579bf7e9d5b5b3e0d984a9dc3ea24de47ee6bfe2361a85a3711f01cc668e111cc358e497df03d0e1bae31b2b1789d7d4e6869cc06838adf0e3cf145838b2ab1f365e5e79427cac6c5864f801b51c40cf0d2701020c04cea41a1afb07707f2099581a51935d63c49727327d7ccdc26faa56bf0465fee4ae44ae1b95a1b8af7dd373f04b04ae89f0302b97d2abc74817a8356158d3d9bcb38d4e4ccc3a23d1ccda3c0ce2f409f542a67aafe31472766155590caef02f71b4a21cca3800c9b684f95edef919e1855fdcb569caa48770637a2fbe633e68818d129798661b56db81bf4c4043101e372b96eeb807f854f3dd1d2d66143afd27c12718c0b3048cd5f824b331d75f4c048ad0e5b3dcc30e6104f8f20cb7c0bae4941520c55ffe1372d8b694cfa361627e51099f431a0a29ccc283115a558b8e3e4770172d687e3cedfb5491d82ed80c0e70730eb804098b25adb3dd6cbfc9ca48d22e7436a10a569e05e67c96a133babb95b5e81824723434767eb43654120c75aa6de9c0daff0391e0adf5ac42cc9e33315bac90f720cb82651a08ce23750387178c01abdad8ce96e345a997f6515722d5d2c85cd3a591d160e03f5b6c2ddf5b66020783bb9dc2a5d999ceb021651b8d974934f74925d124932f50ce78ec33a9f99d306df34f52d88f4c9934ae9f3297e9bebba548ce89ef7ec3b4604719be854f0cffbc315f94e6b8a4df94b3850dacc6be0938cce077376e81c5d4548da26e73c5f019d2dcd4250825f8c2f4c573a624500b8f38a852c6291d973e6d82c9d972c1a46c9a3df1fc9aed6139572a2f3fb894176d60419bef6501973bcc4f020940bb8102e3819575e4eaedb4709427a32f6108f87c750dd97f3e1468f0415c8416aa0b4ea120ed4269ed17071f1d602ffe44843269deaca18591d25b1e5be661bbeb577e3b45f882ae6b7eb57bfc5612b93bd63a8e7ae39c8e29bc314c7d479e479dbf425a2fb93574a83a2d3402c8977177b8a37d7dc06abe98d28b340bb10b0606481521263540c2b90acab9c2fb74d732e034f6b7931bb4a77235f9ed3fb5a83fa7c8ec3027735e41a704eaa3167a54532088f13c369f8c75da819fb9ac5d1e6b214dedcf4c066050ab8cf5c1809f037a92956ff95c4f4c8b782dc87adc8ffba4002c4921ae73b8fb4e1f16f058ff4444173e8fa534af2357e7d6e936fb2c7bb7cf9a19d1c998f8c6d78d3234d72179896b9a4adab8eccd3f615eab72dfd7d4f47fea3d0365b8e4bb8e64beb0eadfc41a46d6dd1e7a2d28047f52ce2b9263b1c0aa30021642cee57771bc0104ae0da918c001488f84d9b406c7c20b566bd25c80eb1dfad71f96baef5c81625739042a270d5c224e1a3c93d61922265e7f4cf4141315990a34ad58b51c6d254cb504837d5f7743715931d711818be0c94a6bba847314139a66eda19a7fce44b35779d95aa971cc5b778d62ded6e5a306fbee0c212252e07808c5f7dc3f9d1a0bc57d7ff2b3a17d26aa52d7b2501ca372cb784b3ef52fbb5144e52ff7398fdaad750709a24c1771a54c8326c06ba01c03027b09df248e4777eb457ec0b06603cf43bfe85246185644669871d46de0c028f96888fd128a7df8b00e72861918275cad63b56f00c512e46bb3be886bf2adc06220314846c2b5cad32e63a05d7f18b8283189dc98574a7394d1e109c02edb27837d92f7a1362752a80a324d4206ec497ae1141524a50aa2a65269f62ff1d0ce5d1c96b83e27ed66e367eab91d454fec5c4a4b261ded152811cd89e65d6f06f7bb9ba5bd749fc9cb2d64fd07198ea516f2153192fe3d18d79bce597784dad905be316917c41c81333f0cc10efbd405767bd18d320f113989be7373ffc28bef749376d10d8791ba0417b717f239ec9e67e59c23f0d5cce8261b808c5389e2d1bfafcf96b1018bc95748024380b23cec6a8fded87219fa6f7016fb17233139f4a13d9f03a9c99074506b13df9179ec14175ddf3a2fa0e1c889277e1ca17d91b11e4309e389aa9d7cbce6ebc6d9759499b021bca5ee2e497d5436c63d77e72c46ce3c5b518c2d7bf4077c8bab52c8fe860818d161fb0a6f30737d1effc3e0125efad43c1e6d7a56563ac8260a4cea7dc208b7a65c3a28a90b3ddc36b572866b889815e0dd0da8dde1245ac61216c6d27ce25a1139bc3fe297703b42d6bf3ef1c389b70b95a9ecce0fcc16a7f72937a12726081be5e49b41e8995bced4279311b1a4943a1c6c896520fee9b7b5baad74acc43613a54e8440631c1fc6c65629ede1aa3b090ae266d4e66e5d9e6625dfaa9bab191bcd0a66c73ffc930ada82d457f6c5186539b263ae62177c4ac6dc691785c6fa0513ed996f2cdf615147ace8aac70147ec51d095c7da6b57c5a09439acab4cd7c86b0c3992bc3e04c311c3c13ba5b10057d4c8dce617dfc85d7bcd401b0182d0238a821a8f6f2094c82e230e5d724afe6808366d327d040f7b330fca27b30bce5d913a7ffbdaa115a6eefee3c17c4b08b820a00399ba69cae34685075107550f332a2584250115316908db954b58b2be31c2ffd3c4eb704d960708ead5f58ecf3a641348d519b6ab339d2b1d1838635217da210987cd71d2b2275c62b51a52531b62d36de91f91e8b883e6c0ba4a514187ee0800a405391032fe57c8fac17a3dde2a032f91639526c4f02bc8f3954722f55dc1cfa3df8d668aa2e6889a16fc196ba9a05e47b3e660a9835016bfa1b71cf27fc2abc68baff009c232fe0716803092421ad81a0c3d9339ee764b89d595b78a5f5683e4f81abbd306198822bd8afb327f125b226621e08fe9b813da7157cdee5fcbd68115142bb6481007479dcc1c7caf606eefd8bbcd59078bac716a16f2b6f87ebcbc0507c363a3fc54a03c041dd51a6d7a4687773e736228d0f564c18fc8cd58ed1171b8dc63c23cda6b300458ba6eca5ad380cf2cc8e02b4593dcf102706135d57d39c28e4214426afadc0c01465a169537c534683e93d7291965a1353fd594acdc5ca61c634c26bed695bb28b9c39d0de7c2244fd415b8410827f4e07e1c09bb8a806dd7dfe73562080c5b2fe1c00ca32c912b82eea10ea9d8bba24607ecefaad4950f6fbb27ef10c4af1abcf59d3415ec597c9bd6b70c1dcc3be162d8e38a6035936ca330411eb98147f6702bac58d38da7d4f8838930ee25996a16af6468f6cfabb58a970e3c86f1f1a2cba805cd7e09e639cd333b8a0857716c39e5005903b8dfd80f1f93fa27d8649d8cfbb2673c4103862477c37eee09269c553c0fdc17cc699654acf64ad1a9996a917259d45cb9b72160efcaa6c388b68efd2af64ffb39217ff0e7cd85909950a6ed2500e7f64116b3473dc6057e7fe02921340f524d10e593fe600609ba0ac60ab15c3d066385f3fee7bdad00831f23cf9c64512996e7149bdb2d53f19c6f35f2cc0f47495e05061a1e0d75c3b89c928395fa540ac222ff08c0812de432229d5cda7b7db968787edc937db8ee8cd7fd2a1743e824edc4c3163b834f0e5ede7afbac3b60b712fadc8bdfe4029048b58cb21816ed9d6f2cc6c20bc9039b8b489de0015246c4b6fabf0567dc1b85dbe9e88263c19a1d90218fbd904a9eec3125ec72922c0abbc5b67e144af3c3ed325d4a5778332aca0d7c43b67f6da591bed8dd4cd9b68420a89f0a03dcff433a3d5b3a4f6c52231ca9fcb507182f8cbd90dfd4250f7aeb826b5a62804fce80cea4b3586919b81cdd6211fc08f50b122e501f7a9d02679936d31d79e5a248b6c79cec5e462abf5c36d362a6bdc4ccf1d82ff60da2a179a4a85b9cb52c24ea2899c0502b95c571d9a86199cfcec531839f6053d709b9de2ef71e516dde408ff44a6a73fe425c137f6bafc28604e5c03ef8c736e3c4466bfff5cfef1a578a198bb55ceccc5a77a6bcd0c21260c7463fbea160839041199abbfd07a09659c5ff574770bdef777656e0d28fb272c7e575a31c8bc191194f2b8ba987cf8a3d1e2c92bc01616f3daedd73c4acf9802b5ff4f3e3ce2f03f81d01fa5919d90a26e2e4c027954e19763081876e17df03c961acdab6abc0bc212677b724f5ce9ecc2682996dfab9c3229f540b8f43d93caa367c0cca1800f1798f6d6aca75edbff7c3e3e6b74340242c9826ab379327b68821562b59992ad5c97c46b2a9da4c03862386ddd6c16b2a701884c44592af3fb7a53efbe0b41548de023a49945049bee624b82f2f591424444b8f89ee6c82cf1d9c2f8dd64074bf9500ef05b051adf91e713da00f98a1356033356be9aae518d5ca5750c61c523440e25257e5a6d1bc1c62cff2be9881c976dd494eee5e09e12109d815cff58a45c8f129bfd994f7a67cc760cd1860f6fbb5cd29baf2b0ed7ea1cf88c61d05dd309937a435fef8df62942cdc4cce79124242e9b93dc4c4001eec2b2af7749a4fc5278bdb39c30591bdef7ec38863e14b35c8523971a33ed91897d35e67de31d4c5835f417db7bd01322a03be42a02a9e509f5f84bb8b0360c41d7bfcbaede4c7253db7587a8ea1e826c5ae62fb432ce68c16093e8ed64b0307509601d9620f5e704fb4fde74dcd520ba80033d1ec528fc2a33ef9b926624254c36d13701f8f77538d4402a5bfaf5a6e6c4c639352031625898ad6953da03755e7c54e455b59bbd2e08303b8974fe3f39afc9e7ba8b01e91b29ad31daa551a4bac5518da436cb40045d5fbe8bb8ab1ed2a4575e569ab79141ad91b6fc1c0203672ea3c78afe24746d81ab865d987aea46558ad9f573d696e077a5b06e9b5b25d5b73d55c76ff9d751c0c505510ec3230ebe45387c07ce0a84c251c42bd1258acc9b50c6a2390ec6fd8dc0cb419c9a8cafdea21e3952dc61bae2f65728d1715a93f419aefd869ad5a9a261c748e19c20c602f138c49fa336e908ac2603bc946a4f26939c3b46706ed0b7c200442116524989c56d5d74f3a73a3b169dd30fc0643b89c33ccea2c1ca0eeed01c12dd2bc562d62ad1403cd95159af2b8cd96bc8cdea94cce8ca8a86d55571990ba042c55aec40224185c06658f2f2be4dda4ff14f69c4d158887267f302bc4e87689cee93daf2c37417cc927e994c4465a6b6e47dfe28a40822a733f1418027aff712a09f50c6ff3d264c92879f7aab1dad97f004dba7d7ec6926effe81cbdef55bf2a05eb4dad926af511c01a21dd826fafd86252be498b584762faad7dd5b96b1c4ab6f9aa466c448b5042fea652d56ad6ff4b0b83025d7bbf65294f2f6ecd47b2ae391e1b050469297abdaeeea76e52d151a55c3bd3731aab5d198360ed8ac867269116b0146c2204b6caf3aae366378a2ca94cc593b33c76c72c2815fd40b161f76fbc5e5c429b297dcbb997fbed7fd4dff0f53bf1751dd02115c32a14544f5dbf3e6906cec50e6182b66c1000ed8437d6cd697a4c5c647a1f40d0f25801a40f763da56b93d50f1183ce775c52efec6cce66ffbba5b7803b0b07446e864a191356ad40a9e027d78490c9bd5f16c17667a08de0962e281be7bebbe9ef1eb1fb5f6267fde153a4a455c1dc5f483e03ee114e695cc30c593d16cc7e31343e0d43412abe97da91be3212a74dffc74f48d8db8d3505a0dfabee79c14ee391dad14890a43b320bf335d6f24e2d4130b81ae2fdcbb770185d7d6b3b5b30e01fb21efc99e5106d0c756418e5b5e77112504c228c62109960740c8b91ffa2da39acd7c7720e5598f68b9fdd350d289eb7e5593b3ef2d234f778d044835f4203e87e68471d61201b09a3706f5571459d7bb46ca7bd6732f8808040dd0de1698a919cab549efe5c73dcc81629d6fddc182f36f938dba313893bfbaa0bff27f125192ccd4511c864cb9994dc105aa6281b6c9ae21dfb880166695a48bdde46c2fddeee7302c13bdbf8cefc2a10867753e5ff84faa734248130287a9271dd1f80a5b8b8a9e1ef5d49761d897737536968c2a5be740e45bdb9fbbf8eaa08f0fe4abcb613ac92eff7d0e7840a3f5f44a85953bb93475e23b7126d96c25ff6b60237b47066151d14f5274e9eab78c7c5111781aa71146f246d6aa7ee073f777ac80d55fc3e73c1ad5367edb6809ebb30de14df21bc01b0e1c9917ca3105ecfcf973f72466d3d052ca041d1c47101499b3ba580e8c4aecf254bfe56a0f96e2bcecfb6614d9328c6e9aa8500fe12a60cdbfbff8e55293c1861c0b0054e132041c69c3fe13699dcbcb889e76dad49932239f1ee4f37a3ed67c769b379f34267741b536dae49cface7c0a4d86f4b2387425e003b5856532b664a8cc309b1f6ff3aa8ceed1cff38a52218af4f7989b4dd89b1c49a4843f8e377847905fc3bd5f17634192fd23cdf29baccbafa5aa586f9d48a15b74507ff40c66b42b7bac2d4a6969e6ed3ef791ef95a5ec3a5b3b05f1b1a54547dbe2f6a5e01d12a61a44fa96d2415d57a4938c582db7f045a9af3b5785a7f41f8cf6bf2a702e375b9be5c14b3c90d3979a27456ffb3e6be67c87ea62f7e67b4f2b7ea2330a3be7e227758b1fffe36122bdec8746bba5460aff4c2036a59b7bb06bbe02c7c9d54105cb32f019fbaac8b0af7666345ec6a88fef76376fce9935003ea369c9a6fdf6ebb7c5ae8631f338a606dcd8fd37083733fe3d0f5f20a2ff613e41f96c3ec9b83f06775a3089266e5851bb651f5b5fb9a46f7366c4b9396e454e85133bb1df78fad1fb0c48221cc10f3feaa11858bf24a177feb4bf3b8add5326b29f72b92cfea061355928596ed477d01a68b0e6b70becc48cd5e23a86c722c8ceb2243f89d4ad0dfa9cea7b1756b507a7c3e0902392e62bdcbe03cf91e6dc489a65752cb922ac9a3c4544aeabe65cd50e8b38cecfa3a03f45900cef1b19e8dccd936267cd0a9873d6d25a30a2286e226f67e7db18f3d069cd25791c1633c571ec1aea712228c363e86338f9ff617ee31b7b10788f6305501d0376ac0026da7857bc8319a425fd6e2384b9c0a351f6129b024ea860f62657bfaa04e6b23b33cfc23a2b28a14799d1c8de52cb1b9fdd030f389d10ff056694f4aaa3086c0c95862089f29f64e59fb9b9d32e5369d352b62ed6cb2e162c2394eefb835c63f696c8ab21d875e6f980d2ffe0cb740ea770efd7f9d9ef83bfeda28048a2d79fbb9869af8ec8dd8c73629772c19df45a994c0c9f61ac8e655cabb9ad52fbddb59e784a06d8bbf32d19226b1166ef8ed8a9aaff45e49a624a758cc9957b898fe8f250a0062bb99ac359b09712a2aadb2cb8e48c1909bcdd0a5af0fc60eb331ec5c2bb34da109214a3ac0dec59d70cd50066251dab8908feef1b4c0d61bfe6b41ec58254cc1ff1ba08ab43e8671b6e9cf7f334a927d7a88c2a8fb1cf0e5c3eecda6923bd96472497682dd839118df7c9c62fe27e6d3167e20ef1a5aa8fa024b4cd1c673514cb454905a20801a951df8d95f664ea2cce3bfdae2f6fde25749cfa7261564786fe39ea8b601d203a107c42614962080b28ca1ec852d7781eb09760f31bc9568a62db5b37195b58024b190fdd84327578e99395761b6619c8256e3280e6905ad2f75beaad1a11f84c8101802f2f26ffcab8af34e2278de7daafdf173a33e80bca87b9609683c8e7eca9de585ae8fc5f82d34f050f20f98e681c45cd68ad6feda49b5c1bf8cd0377a359866a5e4908e474aa7d53dd32183105ebaaa4f0219d22f38e6e3a1ecc53694cd20f40c49a36d7dd34e1e8c642dd5b73e12c033be647d844fb0ca9d52eef345f257dfd5c32284244af2889bc8859316325a111ff182994b9f24b5f8fb60292331801fbcaa2ebe6ce41050c180972318a182c83c5b36a9cc30bcc8645e6b2d433a1c7eabb58a349e41303e183d349dc5003185ad1044bc0ff5d932c201484b569ccf7865ccd1042c17525edb9dfd116910c6bef8137840062558eb9e943d0106a70c64e314ab2faba32daec1724e079c5fdd47d0968585ac30b4faacb7124e4a3e35b4687101ec8d5ddbf21f02db84cd2afd074fdf807a8f469e0b7786b2a6664caae71fe531a5ac13f1ad134f87f259cd15a0fcc23203a28d8c698fc269ff45bab909ecfa171de0fd7208cd5875e96128011fbb11c726faa29e41e24d5f4639760fbd1d05c4044a84927461a2cb06c124762511c2450a30dca527d3257d710c75a5593f53943e150bfa0fe5d8dd92bd789b9ba33f98a2005c3101034014db53206a97db3a7e2bfeea74569449ef915a385dd995fe5b70721d55a8f64b09270ce4b51db5197da69ec6f3766817ca531568fd1465e83e49046bffc1aa8faaeabd7520bb1410e1ffcb1998d93de189ac2d9b18bab55a50ff0e47b17b74e99c4b3cca845631931bffb80f1f8a633a257014319a1a42dfdb426bbcccc4d881bd7d0400e1b47219abf311e50fc5dd1041aeee7b1077c4986995e17a45f2c36a6dd2ff2f7226191d6db2924daffec075dbfa8f704d849578b9631ecf8a8c85d19728ca02a44f82826964b34bfadf00ff5b36b4b6592d7b190e02b920e9a60af0443fc7aed5d5d20bc4b9c4840265c8308c5fab82f1f3bc778294a65be890dca7e6007f7457333c37076c29ffc1efdae473cb583f49ac3226b04c22e33c6e3c9f0278e9d57b6e7e3873d5444b18320b72b0aac82e9d1211334d0ebc8beafc15604bb90a7b9c347ab26dafa6f5dc4773f63a70e9fb73b562768b5f50861409784eecaf5a6c35865fd5cb3a7e5048411c8ed53ca8463f5e37fd542ed4381f47ab0d9d6a413042295957cd61b657eb1ddeab3c40c0ebaac0764cf7d65e057b408f2efb7a1ec11ad7e5383534e22e1996c7ca006fde8d85d0492c916f51903bd97350a30ed112159c73daa573052fd12d5bad6bd26b7cb1c758620d79734d76791ddc1e2a0b31bb0f3056e6b0a4d27ed2392bda303e61b9ec886b576f675ba242458b09f656960d76fcc7678a8525782b4321ed72a9c8235a4e66ef9d31c4fa7bec9f83ea587d9e0c9bba53b77de16df50c59567e387630ae11adaf5fa9edf68e9a7036ce6eb6d9489bf9671806506d0c7cb9946258e49aa0bbfe76d74226756bd559e71af6ec66b870a6444aec8db17b3c7a3251f30788cb4d9f2089ecbc058f8b7c5819f6e36a6ce1f9b50064772642b71911a130f07f2b43c3fb3f155f1d5bd82eba292d4bf4097dbb747a9f1ade7ee4dc070e9e322c21b58201031a31db3fa7d6320a44f444a47e788af737f011f4c2adb49728b41cc85f5cacd7542c8ed174adb10fb1c7e097ac40c0a2cd211c17297b445cdb3effb88d75393981a0ed9f79a1d43154f042a687143bb90011822cb102418c5466239324dc1b2ee9b18139706e34413ed21442c57cbd546431cf22bd2617b669a9cacb2e41ac968aafd3b2e15d61009d180dd4f02f1061d5c04605859d645930d72c322adf8dcb64f02b0e84e18d5de37b694f1a5759e5b0a53e7e18d4512a0a19ddccd5814b5a95e000706533c57043af7baff93d0ffae0a49f4c846d4f361fc87a70a88c8e8ff2b478398663942f82c9cc918275f727b8e4218bff3e056c8cf4b17432b424b5f2252a671854af2e63412dffa2fa91f6092ba8157bf5becf87945e75997c920c1d94aeb6834e6c7a5407e83db237e3a7a798758720ba90b86629c66bb5385c1bdab216e6d51cd6687d1676e14453161621546b38d844f69302304b69e9aa705f2c693c74f7f9b2f6185c72d8cac2356aa20266f6e9c67a869198010fadfe1c2c3dd094e9ac140abd7d6ad021fba13e9d48fc2c9b0e5c26ebea4cf83c3cf16d693fab4c1391f9d8577678e8a09145a2802a460e31f89f6d64350516c4f249381666328fefa487fe0a739def576ae12575fb5fdde17a359b87d1789f8d13e77f8e696f6e97e6912807474a6e9841f13b2d4246c2543ea77edde97530c15f23d9804740e88cbbc7ca6f4a9365ed8c752af95518e9218f201a514b55f781e1c75654b8e0d865bf9ccc1cbc643883c0826cdd5f42f7ad481f71e82f70219f774cde25f4f0c251b6285b5e91b52ad4b558fecab22e320c951796399f04f2d95947f13ab0cd999762624b987365e891ed409e9696f7500ce5ddd68230fd4f267380f5c05362fe18c1516d017a6183cb1573114b2d2f9630e5b9cabd6ec5d5ca7266fe61fd51e8c597adc9af472bcf387bfaf5af8c04a005e0a583100fcdfe73e5b06a5ebb3659278c74e11bd04ef9b655891cf2a388a057f0e862b397cf9f9278cb6a0cb9b9b78e25cdf741cbf19a61337fd5ed8c555fe959c0afde2409fbbbbc8c2c4d5569e755f7f71c0cac4022e58e0a627ba4b3e472dc523eef6cb4ab98be3513a1a53c9331cc1d1e6203c3a20f7c913d3f4a7ec449222b81dfd5cd079520cc0c260aa66395d0302b75347bcd9aef28bb11e08ed55295d927a33365430d48393d36860e46eb0371f173515e19c82e4d11078d1f8522afb1000b211409e4e7ee1f66cbf7e831906fea8ca3d3f2bc61e21b49a0a71b1e2542255b350ba4b250b8c2e556da0d298767078566d6d49417a65be1de21e2566a1b6a2ec5dcef4b3ec025b2d4fba168128459723a9e96eb0be3917a27e574e2ad1d8b453c0043e0ad173bbfa6bc4479ca19cec5cab7bee617e3a01b6d97a1c26ed1b1b1219f978ac1f14cd2a30a1ca901625b69b40dc84ddfa0826e7d54c8b8f25c31b4c1dd36356f4fbdb7030ed92350a415d38ad3abaa9b958a955c2315149c6ac358dd320f4b595eeb8de6b5858e99bc85f1953469e201cecc72d216dc6581903b58097e823ff9cda301795d49162652090a03a55a0c0635981b22712aae863ce3c599a6597ac50698adc6bc129ec2ee0ce11869d4da83829b70cfdfe59b8a86070f52f5a9a6b628178c6de3ae1918901b09fca8228f8882b7c9115ca3ee7a2f26aed6c42bdaf23ab05ae407cd69744c7b056d9876d8bb957519972630ba0b761044ff78db7b50055d37c689019e748bed9e3ca58f10a9196241d645a8dc7d1f72a7743ce4d87e2dbd8965fcdc4a247bc0f3f739622f2eba65f46a99f953ff464cecff50c668a1dcd390746493f3a339118663f4ba84a3d1f901bd5903c7dc3c5ff9c6a9931d67572e58f9b10d35693e3b2e6cc76490fcf10a2e6cf195bc713fefb85736426db583e284d23b11c5229db851ab60bd4bfd9c5d2f94af659f4c8c0ff9ca86d07b17d4f61040a4cb3b91352d73876e91e4034b61447c37d215a77951ec76a42d7d006b871c1c73ab434305aaae003618e4a97b5f9e45ad9a994e3deeb8e7566cd1379707e34ab3f05e3686c092e8d9ee596b60f2b4a8f692911ce19b38e85c5a146516854be0a04ab33f5fe061b4470b1969a10d3c76c952293af457efabd9f10deda4707f544769b42d0b9f6c66f4ef3bcf1228eedc448df042df10a924ed28c728baf1392fb13f61f9c223d604433e7fb655facff0ebce10045e457c69098acc993f8ffa66bdeae227a51bf4d5d9219aba92424cf0e8b7cdefd69947711c4aff89fc23bd653929b12627e86252f1614dcd7d0eef357db5401a2b94f2e0619225d8677d6f12bf4ef4c5e4c3728a7b3181995fac28bdc3d80146566ade34f627a2dd640ac6e91a47a40045a5ed222e61c7840652c496a66986b282c988c88d05b440aee23928e0d2d24e96563190b7a28f43e25968d792a873c3e4a4ab8877f170d3adfe3a71033bcd56e0dae7ebbb163db15b4ce3d849063ddbee978c89af07b0bdb6b95906e13b98cbc4d41661a960cd1c6fd836846e7ab26565caf9aac8d9b27a07cd9ff066c4ac75051e089593bd4bffdf87da5c5545f666feb45c25864f189293917744c18c974b7463f58bafb78005d9c0a8c07c6e97862b2830d1e7641429dbfe0e407542100e575fb95680ad4da19e69bbc5d90de9e18c3285ccc501c46ffae7717ab840e502feefd98ec8dea5626613e4877ecabf2ad2c3a9a644f12c826b8091b2c17acc7bd87a7f2a83893a6fe23261c850292b954d8c3393f1e5be5d1af87faef3132f00c310ca7cf883147a28823c7c14611198e2c8a648a146f288e8b6931ff91f48c56d9f36fd00aeb4cd5a75f10d985b714b02b08822ecea02e0d4cc6ea070e6d183a7ea7469db7b6456838528fc57aececf267c380aa67839191f2a64d27df416dfe5cbf1b44f5ce3117ccf6d93077dd089d4f1620a60020680a041331c4c0a7e8db6b2a3f10fcf5040ea13f26d12f190276693147617ecf5638aeb2c8e5b1874b5a96968241bf380775e807cdee698616fb12a1500883b68fddeab6f895fd9d4550c812170a019aa680daf16eb63501841282dc9554c28923f7a1aea8ffd40b4ce2b5621717f32b5fa35630802492f444eedc64f6bd35b1d17b8a1cb47bed7b960f983cca1b2e360af0f464157aa2967969b4f95ab412f4448d56f2a24bc3dc7896e8604df4eb47ee194a991378275ab751eae343fa1f5017cebc42010f7c9ff4d7cf44a62de7fabe3d7b2d8b9e5fb11626be733cd17d389633f61e6bf9c1ff3d5f34ee407191da7535b1146705bd28d1cce22bcce87bc22d97d2b69332be13126fd9845371a80e7e9e2dc4c5b8fe1b07a9c5f231176387cd51e40372f1cff9e88ab6043862703cf6cbeafbbe1aea2c639f4e79d022248b0e4c91e276a0270a7e2750abf421ee6e2dc0083ea49dbe61bd83bb0a2aea2d50d5f853ad48bfd8013f4f5a90aa53711e086a6a5217fb805dbf07147db7677b0a0b8954f24e7398367c38ec515e230f9d1e7c53274759034043dbd9a53523b5458c93bfe81094ee1bb166ff23395914b7c49db3be00d2859ec68384bee3dc4aa7c156269b6427017c80f7869c282ba1597f78d8ee4a9d4167f4469ff973a1cc0e01160b6d030c5e24904dec344b6d5c32e83798604270c468496540f46fa27f10d02a14e969eddac22f9c6f2126da0f5dd0f11177dfd4649ee85b53a5900d8f29d1aa30e675d8b15c09f4f52f5b406a46604e5bd5f07bb647d8ee325b54e49496d8e1bec0b16fa9d6cbac9363d6700fcfe304354960ac19c41a987d4a024eb636083a8ee1cfab2ff533326c2667c6257ce2671660dc5cc0b06ba5075e6cb866de834b64e0015795dd54fc205a330af5f6c17a8733d1812dbde855cb6d1fec82c1c7a46bce43cdb3af9016a0a74de230cfd61a05a6df0e3bd776bcf820c8fed5e356829d52f451b139351e32bf81341590c1e98d9c89a563be0c04628fa3584696636dbe48b380d741c6820c3624ea7021924f5301382d614b782079a747be23bb026d583503f55da5e0ed4cd8a5815fdfeb8fd201af6a1226158dd19bd154362a070b25f2a7d128bcc848fffd6ebb9f6c47fb148485ae5e6948cd8a9d798f0f4b6f240349b2949cdfc8abe3b97a6c7f1cf78089745e394acaa47931bd3f37d07278bc43d0d388d7b4d06e5ab1bcd4ddfa788af1cf51fe0ad255ecacd5d3ec631871646c768df2f9b752c0772ca0a7b9adef248097f7eb9b9c4d2e63e5958a967a99709e3f1128079543c771134039a8d38231214171dadd51e0ce6d83c399d0da143c4ae536c13d8ac8d9cdd131c368f0376060f63b70fd84370a036236115156ae35317568ca9c10e47f6c715f435a6e0c0db22b28f94f99c7df4f1a36a1f09d63238cdc6131cb6b44f7c78f5b8c284a14a48ce07fd8ba35c52086522061373976941df286fb4ec49c101edff50c411e4f1d467dc28eb4856d60d03b67980cc972216e174a275fa83b2b6c3426b405a36dd586ae151fa9a2df9017ac75f9552021f98bd7d71f4496795c1006e5cabf8ac0687f05f83da2caf528d21451a058bd1e848d117bdc175f218cc06f41b10d00b89387b562916cd8058bfcda9a5cc312d122f2ee323971234194c81905ee63e3e2c7a3083655638bade6ce34b470058dde2eca3a76cb4d42b455c497628dc8bfb5a1a4361e446ae4a6dfa8ed292f8397591daab5efdd2733da8bb2ba027c42a8ccc857aaaf1444b4735968d7f8d8a2eeb428683ca71432bca09b730cb75205a0fd5c2100bd8588be1b0c6a31907a5c66cca4e06bd3c913d95e5c997da94315e9265d24f7479102d52776ee78c02b34c0cfaf57b08308209351e2f2a86c3982c24cce0693b4183c58f74fb0cbf038605606331aa7ad8777449f77a0557c49d76b2b18c1030e09ad9c264d4c9f4891da2c73fce03d7efc2ec90393c25f516d39e16bc2e5a6d3c77127f50e50b9f5843b12956ca400927e1ea66715ce63c30d2c0a22e50e3bf6156210bf77ec588ba3ccb93864a0cc8d9d5d3f0f1981177f4a6d558280fa4a33658d40dd04baee187d3c341a7c43eeec23d84ee4ae68bb9bcaf03b29beece71dcaa02f433667c5b3019e940c86b5e291cf84fd168c4128bea6567bd9aa6241740d6b5179545eaac96a0ac3a1c382b9081b70c51f4677ad7772e42d09a11e73b72758ab250021ca712608cc81871b89229608a07afda2b9148ac3e67d34a48ec87f6ea1ad5dbbcea885370b90539ce92022dfc6d8a920b60e0f61b02c27ed44b27c6944967a097d32e7390c4d244c9812706e2032daf5babcaaed690181c92404ad576adfe62eadce1ee3b30b86b076157b6c50a6f47e66df08c430abaa75e89e6c9364a1f27277d6f09f3e83f6a7a94ea10ca6875161c78084a6893ea81903ef2651c0ae3ed80783b1d37b79ac0ef2b0137a0ba9186c72d7afe744ddefa861420104e5ca613457c15126583a548b6d751d74e9303f1316d957b5b348e2c6e13b6a4a715a45a4f5959cf965c4405b356471735a00d0bd7df394dbd53898f7d0947ef9c3c399caf2de1b86e760278b4b08e11351cf48a12118e8900aa55341d6a20780297607726d4eed461f7c443d1b0c8d0de41ab35f116af883b17ffd6998a3f792c0de0f277d7e489189248b838f503707ed1275ea8e36a8f5089ac327d22255747d4d1cc040ae24b49df5549e27aa192e423cba685cfe159815aeaae45aaa56dd5f28ab418a4b30e4ee77105272a79020272e148e947bef8659745de73c1db619e0971231723fcf12e3402edb45b2ca97d997ac62a9e7020852dfe1bb5e08b3cf9515364c8a0c6fdb2b4eb0a0ec0969ac011269a838ad0842e6f3c75175003531fff76d2b28011cf7578a9b236c374ce104a970c82f794795d40081b7e53c9028471af00a59799ec178453789dece2906ed58b7b353eae0a55dee0abc1e92788eedc38deee64ef2861e07ecaeffeae8da2d7654ea0721e3a84e1290b9d4ac9f8565584fdc4543069baad0ce0365746853798116119cd99a12f9445ad1bf6ca87b6c657840a05d71bae52c6984d77c47281b4f57f55a4f473ab5910bb085b91c2bf0559ce771b327412edb8ee484fcf06c5d54c33ac2e21a3184b6fc6b1834fde07bd492ce180ec5c28bcb5d05840f88f965b778f85bdcc15702986769c2e1288af21a09d7b2cfdfaeaf94aa5dc8a3c8b967a762dd2fe33c484d3ed4a2b5dda103125926a3ddb0f667513bd460a36035b77d40d7e718c461d231e5c72124c0fc28ea5889e0aebb62913ec4ab5519fdc264bebaab7cace8f4adf8a79706966a3cc1da90068f8a527d243b78ba05bace1036213dc40db67d73839f690fe09879eec29b247d1ecb9c9b9e276775c05895fec163dc29b568331fafbe75c28fcd48c82441cf34ce66d3f72243dd585519bbb76b3173712926a539ba8780c1808570c4fc3343c8f62e7e96277fac2f52929a28ff49898ef905438e188b9647255f5ed54a431a118d724cc330cbd72580f0df0aa9d1a320e49323b4f909b77c6884d811ee25434b2232829dea4e0466ab6733e5b3c1c8c3e491cc2f57c69820a97c3baae840bfc9d394ab31b04712d4ef6d17d3b73c5566f2c97409b94e9168e26820e79ab8c6c0ec8260e0726ebc55266dc175d3ffe8a00244c69156cb9eb3e1bdcfa212ce428dcc5240f9ebf5b97fa230d37c3fe3f044c9d17d09bee6a8de2014397352a705adb0e16f421c955b215436576edd489c1cb01f75989319ac010cf50e122843a8cee2ab66e83bc927433d0cdd29d588d1c09ad9cdcd841f8b7b803d80928bb2d6799c866380073f67051cda43c3d86bd2fc555445a4b36314881e496f8b17ea28f6617f1d749be01ce914997992d63f4c0095778a339222d2c371424f303a850cf56ab11331ae976598cbc98bdbb368040196afe7a24604b456b8abe247461e60d4f721a85e627c1c6e79a0a3943f806fcb422ba3797b30970b04dd29d1cf8d4b14a204507809709ae4b5dd6dad54cf5fc4bb06b1bda1123a104e532897ee0766996670f0f3e3fc7241120c2ff322357e4cc68b8b49ac3a4cba3dd6826fd697f694f2a2bbd8cf9f214afca10a8282ad60ca48f34af081995ff60eb119ee2fe41fc34e324ad3036b9ef797ea2174e879bfb36d9e46fc890c409bbd04cba3029065de8e5307f1547b841abbc03a11107ff5e47233a0661a4a8b3ff8520d450727f6049a4aa2564b9676ed83355aeaac8193e7082fa500ff47e5d9f61a36e380e6b6ac91b86594757e76d032bf8af1036d7136bbedf6493143c97c4e688edb7c1fee73579bd720d68bb32d4a4ab245d3062cbc278e5942ff1e623d61363df99536b68a9016fdeaff97c8cc197fa49325c2e7bc1cbb376c6d45f9f8168bf6ff39fe5d20444badc6f0af762baed37dd2d1f024fb468456ad5768b999fb78cd454c55926e3a81c1b6403886aabc3875ee70793120dced0dd2a26b0de98c5b73393c0a49893eb089b80f375fa085bac3dfe6ee3035a03afc8785cf26e2d8691139e1f190bfd03eb7604ba5c4aa6fd2d87b3011700f2bf57d7e3baf7a67f9c5a4cbdba87c2b580677feaee55707780db1ae6e756e38ea116833ab5425c04452f42252c016bc52acab99b0295adaed78ad0dbeb687dd3c4b2d605a6cb7900f11e8464ccf3ba20489869ce03aaa20bad239d7c4a4a18724c2bdfa2e806f5d10def56614c56f5fe996531767b35bcb9481524e639a8160debc52324e6efab261de6a0ee5a6634e53936f59d774dfd6cda4dc85c8a139259bc8ca6f799dd600412395a42d904c6b5e2f7c3265be547bfef87fad4c2eab749d2988e2f8807a868a10a9e9efc7f7ed3df7a91651abc5c9e8d8ba0dedb61084800176060b76c1970bbe18345d22666cb360c9e322d3b487506b2b99ac0217b53f7736d0c18c760195460a0e55832c04bc23d80c6c74b244fd079c4230f014920d06f02229f4429e7b8a04a9338884cf45606fabad8ab8bf38736db6bbe57906275baa6939196d8ec0f247285361a33c7c77bf1245b1e1f1dff8dd538d9ca08c6fdb042c2d2e62c4ab776893f273158d1c267186b5052c88518e8ef0d6e82ec75de8f89e2d009213e01100d7a05a0f325414dc3356139993305d4b3118ee2532db9c562d620cd58b053ebed436316537a86ad5be380c5d3e21acb8597562ef2e3fbae8f5d2b46c8382ea42cf1b9be35f060007058bd481ebcdfcb4e2fa004e3699c0730f034a7fb3de8f25c390238faac31cd67ba654b3ac011e954a63b589ab5dc6136fb2529ca7b93fa1e1f26279b3165a90f858badb3be36c56293a2431dcbd5907702926d2f4ed0bee25fb6540688170587fefb8cc0299dbc3ff254bf18f74e35a1c6b1da079d8c5c8b0210ff0118a029fe6da977587d10ddd4a4da00c54e673a5042616ac8a17338f2d36682def8fe8f422d2f81f4e84dafffd60ae85081184570c7b4ad521134f163f4f5163e84ff5029bbe9b14db1b5cf14e45b85d399f688a3c5995a0b0a2dae08324a32adf599bbc8f9c487811851e8809a55a95b426316033aa83546d45207132b8dfece9de86cc2e8e5145d87ebbbe653e1f43e09b12656036fe503015d0c50e42c38fbd536f1fbfbedbda5b8967f7171a4f24d5536450c1b169283f8f7e280450d0f9a75158c9d971f35514f64e84a284fca079a04c00bd1a9e23473a94b70e04c8be865dafe6333f1d180a63bdef6b08dc5f7fd526f9f6ef88d38897c3c936a885eea5526212850a790d014de7d33721ac6da783ea2551e15e2b2ccf9b016da7abd17bb657e6265aa767f91e4353a9ee422d3be2391eecfe50ad5e70b25ec4825b58432ea687330ca40043557478af8fc936694896afe4e6861625ea50f71f42643acfe65c47e9c73faf3bc302fd92ded1385d909a55493f140a0f67b42ac6a3aae78d554b3b1a8e981e1ab70c79bd82fd2a98fb47cd12fad775c2bd099659090880983f14a7624c0895fa12bf34a5b1624ec0cab71e91ddf9daf7297b5971cd4d0cc0f36d7922b41c08503b7b3250c3a89ad1310016f3f94fe174a6b226f013958a029f8603e8f109a7f72d66e6228711043c7316c8b80b6c7c44c2cd39a434f9e68b8efc0ac15aceb73e150378fb9c0df3828a06a6dcecbc414c7cd155e57db76cdf09c8b603010e91c43f570aac0cb9982de91335793ed1344e19bea0c018cd54907cf3b103c2d4ff147e13f6fd30d9b1e17fc942f23b4bba4dd9c7a64e014f4783125a1c73609083710de4a4556cdeaa0df24ecfe4474539f072eac0aa0054ca54f9ed75f950f84ead13b77c4686a0850c004e321cc9c0158d1a0f9551f38d42b2721215c904e653b25541f56dc6d628b7657be31f8d84b5fd5097837b3f5858a238bbb2bc3f36a0240fe6fe57838cd3b58da3bc0e08a750c8a8bcd914a972acfde11b32864cea672b0b7ba4428e5292dbdab2bdf2577bbf8fc677f1fe9e4c00bdc6ef91c59f5367665f2a3fd439fbf091debf694ae5dd7b6108745f070c3bea93199f9272e644d3f14c347bf6ed3cc3c20fa27a217a333ddcbdff02002341f3b40d80bb8fa9733619e18940a0e7fa29dffbca0c2cfddd91a3afe80c8e0755b7a11f702ddcc3cc53a7c62b9e16c322c12915a56c86202e0d9b8bb493f47c19e08556d0ac82c1a02b66e184d538453d9724c5d9faf640d6cc0f0e382e17b072ce19089989bb038c6667c4a5bcebcc2bdcb1cea58be554ef7dab5b1d1920edf2092529719d2e661c5c216bdc4a92ea48493dbff56d51dafbf9573edaf91f931f80f3e61f354c52bb5e8550f5a4c81f9b0a80d12ef9845fb5682718e9fd83afdfd5349003cfb42f086419b3f558a2f7813529af0a72ba690bbd9e246f3f01536ffc419416d8761d5e7efeb88ea4c62c310d99f22782549a1b6eb19fc789333aad7c7cb656f5ca3a1883df70d963219b24dcc26cdbc9ca4115321ba11ef0e8cda0323525b6779a351737c099a1ba4797aa5652119b686bbeef3f04c78534ad1a1926d9bc5dca6c38bde9f44e72c1c6d0fcb91a7aa761028cd7e587965de50857782330546aec25a88c717fd32d4a55e9151dac5b73199dd23b7bb2d71e71b054e7d78c0659f9da3c95b23317efc23ca78f9d4dc90414964f0c50991e230ea29b4f13a4fd018e9080cc704fb530e1c37e9da3ea3646e9e10b5935d1bbe96dae0b67167b26a733060d4a43857045499dc0040f37e3acd966be12e12c3aab06a9841c4743f5abc66130e98d12d5210b58f77495bd9c271692564a163631112f550e6970e4c2d2b6b5c7bc718539fa2d78ce5d4178188d6e251725cb285f5361ac0b63eb628b81a1b4f5b389b1973965c5963c163d36cb544e2adab3dbc55dc266083710e108a4571c5743d27eb00c0b9746300c4cc685caa30a07b966ea4b8d5221f363f406491446dbd047abdcdfb54be22eec1a6a673f4cd76c5647c725e241a8ce4408d7c652971e26f4ccb75871339c2ff59afd2909c53d20583a60c46b9685b4260edbadba55123ce8953b0c2a8cb71942397e87e6d92437bc8a636b653955c85f9d01935a6f5b0f67579b4eadb26c268ac9104e75fef8a9d0ea2f0a9dac83f085db8b512d703e13a38b5f2e0b15c05c279dcd2daf4f4db9be27c1fb3ec9640abf83f53684c744fd4e5c5cac089fb5fe3a3f067da0947bb3f6c2363da53f24f829bfd4737cff56da587e233cb3ef49bf4407ea7c0a7296e89982a77718ff8eaf037385dd5eb39cb9bb4f173d38786c6f7c8398db7fbc81b207adc97a967ae6c15166f5247ffbc738247bcc59b43e2b4c7151cfab72ed5bed4abc4ec099928c62d3aed57e044a4e48c8ab1306a3b09c906692ee3893c32f2049b3bf93ca63302285e646e7573980406949edafe7d1b7188c1a633ef728d65faf5354008beef5b010f36d9333cdd66ad96b92b33ec341428d080b91f01a68ae40c0e8effab58f7148ee10b53def61cc4f7c8aa8d193eea52dfecd6041474b6441c59ac2f5649f47de54d5498316aa4f19db31255a487ec8eea960f60a10872191f24e14d401da6d7e0ab1f5151e77cec7f60452ada1de033769814afe9855cfe8a0ba01aa3c9f34d27e877da4c6b9a03b7b1a6d38b92e5537c344f737293f70b3298d096bb0d0c3792538624e4837d3a5be11301494d54c11601357daf3e569b2ca9077e4c754905807d92f85b1dffeafa8652567ebf634321ece68d17e39dd3caccdcb255234af19d18a6dc9b43739247a475cba21da2a325643eca83b07603ef2777ad9c53952188892c9fd55d25d02aebb4c35b710ceba9b82642cbd9add974d24fd8cd108040f59d9857ad2e5efe896609241224ab06c1b268fcade45764082ab19cc67f9d2744842541008123ac61f05251e79cba2a7b89a620e1d6a39daf6d8446de15ebf8560cbea0dc8c16d714d91ad3a1bf114e1b6b5438f701bd1f4532c3a74be7c596a6ac739bff8fb19ef69f60c0de4328c7532e5044bf21a44193f84447fcfa61cff846bcff25519ab9f072c6a227c524e9dd3314d24af3571ee448652b9f2b439cb9febd8210f6418a7854497c38778bedd6d77f17c77c523261f61666b78e1a3adeb0814a66315172b1fcce4cd0c94d01ab3ad435b889c7eb0c8f8867fa7c14e073061a92ab93e696e767996c162e3e63d15e2c640c35eb908a4cc515eae672478ad8b780ee3d92900d8d99d2c90ae2a74ac1bbca14e052d6f5d4d228f6cdea3a88fd82caed2b8dacb4d11adf60d5166cd707b1f3417aa70e0f5669adfc319d22c03c83350e983dd95a58d7d8c761c30e37f1a639c28a4aca8da0a929ed8b1adaedf81336387dd6b2b7aeef67344856ac3653c47b86b2cac505a94c312b8ddcf50b77e48aa506a658b01ac9e64c343e6503c7c3c2163bfc0ce8b532308c59f1dc3400d39f7322bd3ba723b7e33c48fa0ce50cd1a204df27284a97b55f82425a5fc4cf94d5bc612db1f32275ce0dfc066f984ae62fe602a1cfd33ba9ea49139867561932d77170845629745ef92fc76710263593c8094d76740b155510632b2e83cac596fa1645a5fe9391c940a3b6c287add226a1d4b843ce4a129c5c7e6a5b134dafeda1efebdf194e474a378a6c1abe523fba5adb27091ee7b12b0b39fe79b7d20eb30e47342c87527a44b8e7e14a23f7aac7d2e46eb9faed4b094157aa04d1d158404666fe64d3c931ebca464ea18c23ac7b360e9345840df9a4ed2035be6fd897022726c05d138ae9345c79bad7af782435488cd00ec98a00da8bb9fd5d62f4384155d78fc11622703be0b2844e2c1b7b5015e1e6380dc49b0396099b3272e1b29b7f7b3dfd2acefbcb8d31deac0bedad6f32ffef68c4ee27d4a4b95db3ddb1ef9561ce56019308a4d6a1412fdb34c2f9b1d882c0b5504a7ab4dc9ac2f990f710d535ecfe4cf6de2a677e59448034ce6a620774427d072561f991d76bbe3c1831e9c5a3294d9134990e23a685b60b853c38c154068280be343b6d63d693bfb735dbcffeeba570b0e1f413c44ce1460b0597da1f7fa90067bf8409ebc7177d4c06734ec3b81881dd51e5d401f0a1fbec9b01435c901e05f1ab684fb56494f85407ba63194fd30bc832bc12e1db6582cf864bb43d9f0dc2b35647e9fbffdac07dc6855b5feb287ca64211de17923d182fa4162013d4de818e6ba81ba7e413cd6e358ff587ae8722505cc5dde9c86fd9215e388030dc622ba5b70e66cf40a2ee367e87160deba296ea5e5089b738d730e0dfb3bb3cc856b87b254add54d4e4cd6248f6bb90ea2f3907dc92421d648e3c4d4bf76dd4e0a5bea1f42c9e2d9e18aa9685fd148abf40463f82b9ad7d32e99798be0927066fcad2fd8b396d146ed8109027709a80e505e56b61dcc8eda4dcc7413ac8d467c922d01233271b2ec0d6dac477e372287e155bf2a30cc020cdcea468d3bebe9ff1929d71483fdee95d10e03030dc3644fb72528b7cd5b9494f2dbee6c5364a742ecd31dcfa6150d9dba0a798574a21fef819e9848cc98457f157beb879557f231cae964d7c6c6d48e3b8f7a988a09759696fd99a468939dc2cc6492311f5fec1a0f19ce9854c8a4d3412b0b5f7817dde2629c4b52b8eb8984920c5fe8ce7cec7f4b4c9c20e1ae915d19e31fbcf6a3f38f9f8ae0a0f209f44f6cf91030a1019a982645f9d1f698c7aa7cb76e204cdb001dd63c83ef2baa40c31348e6e4c74ceeb3e0d8814e996d8e323e350c82f79b4e6affeab7976986ff9a4905559ecc8e28526249f49a279fd9556896c6214bfe8f7aaf99b3e1d9aca4f442956b2c0994a9eed150b3a4ea7af444445de0b0f9dcafb3eca671a285859ad46409b698fe33f1f525bfbf972171e9fe56e51e350b280dce510b100162500c479453727b7cf097fb9d1a583501ed9ff2e59092d260a13a873741341cf8a8ef92dbc231c0fe8b3017e96e6ebd44981963a90ba14b1a759cca29deb9e209c11eca9be757fbe937274c5fb125f813fc20731c7992caf69f1082456406c18fc667003b2c4c96ab567186e455dd1445d54d65137bb3b0921170e4f762868c8db3da2f3b9314e587227cda72fa8423d8b3564402a078f5734351a702674a74aa4474bb2a5862eaa8ca53f6ef5615759df6f4dec3a1f32c323343d2af7d17f14d71326c3a199aa267fd98c2fa42e07d7a169a424deabebab0702d645e1fbab268573cf706527676b818528ef70c8e8596803a1f180e86d98125d4bfdd03ad9840dcbf228df47691c53cbcaa99962534c72397ff4f433199f4e65d7f293cfcc8242dfcca61cb247791f70301743c9e93229178d0b2b6aa1179a690cf01e57dfa68371ae41196594da8285302bd099679f5bb1c7b4cfbd5b6b9dfcbb564756e5ee5912dcf8bee1341d24371d49ede57b2c692a16029c879e00461730df91b902369a11949392f950ff36b198a068276c5a1055eec2f92209f9b172a29f4acd2548eeb7770ce7608aaeac3b875f8efbd83387744444cd4893c7f63c8c01ba6b3a5d872f06cc416c6c43dd2b75e0db219957223e661eff09146740d5f0478eb155600312563fd9d379d83ac9cffbc6556220e32461c3cc1e77f27815589d838b4e0cd6c38810276ff38a4dcb57f9a45964975afb43248a25dc0c38673920d6115246515433580a4e77615217d7901d280de05cbcaac36293f878611efc3d410fb26212797e00bb0935e43e84fef37aed14b6e94d9599436b9be38f27130a0ccab221992e4b9947a5779c9b55a8fb00c441596f437ed9afaeb14f6bab52dedfd63c7bde6c330042a78b983ee89e8cc19796459a29dc21d8f307f93756228e3548347aab0f6a59f91993f5b2e8aa7a296af8c4282e638db733e6c64a7a78488d9b49a79b2447e46c020fbb9945eb81a3c84c8e8f24608c05f3b89f7a38a57946a73b1cf067a6311b07bafb43e6fdc31d3084c57b0c73bd5780e207440f3a7d312ea7dc5151d706738773c8f347f6879629f629bd57fb7f31d458bf8e8132415e3cf84c45b9655501810567fb54dfec5a9666051c53050f0056883fb2cdea72e747b993689e63d11684f7f9026be6e878e435ed703aa14998e03bdeb1060c4a795aec20bc2cfcab339726516b5a7dc75a343994a21ab0055366c108dc5b5fda2257c1c8d5c5bd250aa1f4a3e96a1bc98a224b6a1cfc05539aa63cbc0d41ae71d4cf06cd03e060b2fa81475c9bda048690844f39089e6e4eefb3fb5b3780bd098299b6006e2d24ca21cf17d8e5e37a1688affcab2f0305b82bd73704cb9f44935e3c00f57d0078c3d33de1a07f357bee80b6b9209c91f709c7f49ec56137d1c76a2665b7609bb8ce15d3e27de3922ce727a65349f96677fcb6f6b39236a21fd5a5017261b5cb2934f0acee4cc1bc95f86715d585742ace510a14e226d6e9b6af82dee5faff7417ee46ad3b8bec0d23bfd8fc0af3d4ef8343cf8005b7c5c5da335838341c6e478520d2a7a2f7b2d8ddc4c2d45ec7e83082f21653af19f1579ae6922d559dcc4c6822b339df13a1b127b1cfd602a3b653ec015174ae2fc821da26578e7d58e24374042c3f66714104db3dbb405f61f95bc62ae26356707e722d96b8585984aaebeba4cbbce32e631d0ab479fcde065108b7b031b72f249149832c42653760b33c65e9a6f824b5cebe84ba7db202cb81d40cfba41c017cd28146008ddbd276c114d846e910b13c83d8de13a0deaf6b48e593e2ecaf0544006aec813c2b5f1cf2809d8f7fe20f19b4631d9ea2389feec32d57aad0cd33e1cbf921c5139ceb4e4855c65e5bdce71f738d9277b13b7f1f35ba3efd3dd7dfb5bda7f1660da53ab9698d44612c3c457b2796736574ae9fa30ef48c5b08870a63640243e5c3037434d026d5e634190950a719ac63995b42efc42f3438016640b88628b81055dcf3d239077b54ed11d5697688dcc1e6ad54a06836a6b7b041bd2bf547804744cd82cf241758da21df98b12c322d0d94bad253ae77a5960107fa1f7d5eff26e877f98e54ebad8922ca8b1390ee3a1053c2a53a29d70b3039db03added0f330047b54edcf6a9eef404f42c8c19f371a6c20132c21471a87586fcebe6c29152833eb3cfffc77b291a38ff58c54ddf73f1a1f82a78a1c78d1e437493fd1e999f27492a17e2c0e2778b129dd2d6747d78a484b1f9a85420cbcd8327f0abf99c5fbefca13f4c7577d2e9f5b325a98f2310defd82c7882eda6e89125fdc38a8d5749afa51dacc0ce66acc8ee23f72b5ebf833080569aa7e1e537ffa1a79805db0fc835a9ff1fc48e3c566acf7fa76c3c5d31894fc3a5e0e0fc899f11cc4ce132ce6ec2127c95ad226b7bf58b0595dbc48289878d0382f9b3afcde4536ed59c33e312b319ab9edad2b95f86bc3e88830d579bbc2b0fdff10d4b0494322bdaff620a40d45fdffe9426dd7cdaf7d70d4893d701936ae7aee6311b9a90afee670daa9649620d4b08bfdeb8c8d75a99b5757cf61a936339262c2947c3bdabc255839f806abef659c79c93ae317cd1ea9b543adb108395ff81a73c906c1a0b3c78bcf1ab0233c9118a259ebbc43077299838c6772064bc89234584283468b4f5515c23b4abca989215f39bee010b268a02990f585363ce74cbe5040127ec1c38eeefae0270dc7ddec852fcea19a434a75f57326b91f96f4e22f39f8d87ff66ce4d4ced8a451b39ef1d88f689540dea8d11590b9b57b1fd7213724c8661494a6f42f5c42509776614b9340ca9158000a26f3b0072e52aaf588b8f4e68f4999c5cb21c7e2252a5c9986a66ee5b366b64eb17ba5aac0c7f1cbecc431bffa8ee37edca27e5b057e0a4795f860203173edd9787339e29ea7c690cafc3b3d155b48d40745076ac655246a3f57a3f432b92ea75a61f8db9df32d639119497fa166f2d458a603c6f85b5dd61a78992a4aabc30c7ab1decea5cebd58796d19c0f878da9958e0746cfd863ac36cc5c05cc29919bcf8b9d7c34aeda7787233678b6fda9d1677f51afc46913a43777463af3f37c53607fa136dc9c6a87bb9d7e301fe4735526aeb5d338899a3341f540990bf5cdf07db2c7235d732f03f7dc3c6fc9937ad6a7628c5813204db2b7eaa08c1c2fa8174831f111d5e23a03e68b0dd774689fcd04c22fafe82d34f5704b678b4f6a93512bfa9669a4fb23115e9c6f61da2814481413b1042cb8760241ab51d6f340d7787d457ba5ed2ee6687c5458fc2f7242871b2c9e63fc8194eab0ab69616945cf12f378655f586b3009eab06829ae8c8acebbb97c8a99d427265589a139dfb95af89264c4a8cde9662609a556fc2fe1bac358e4c7e2a9b8da356dc673c9ef34ca1cd1be1632f270e82a11ef62abd2e32826125c25a8352aa2ebf727c54db37e854ffa76ed230ae1e3c38203dd4ca3a442f8eec955df981acd5ce3e9a9372d72ca0b1085999c71c2e7e22d63306d0f8df7bc9ad207cff26fed609ec10ea66fd4c9ae0cc91adfae43188c1dbf0c8e5930f2850b9eddbcc42af361da604dfdaba74a214ae1d716b20c0abe65b96bd803e2f6d7789d55ee10f9c206981994bc7d07ec2172cb67d40fd03fa086eb4dc2acf2af0fe3f5683a61b93ed6d1c42172251b388a9fd17914641515c878e378cb07ce645fa5d00d58150cbd1a7f777127b912270acf9644d9989dade7da136081e6988c5597e69e8fa076d63403e64f2ef56d3aca3462b04f23f9e89867095a2d8c1b91963af88da93d2b37b4b5b180c75b4cc28c901ad3816dc9af722bfe0cef651ccda8b18431322c5b86c50d1ee81750254c2eb0229467b0b15bfc002a25269adf1d482f00846af8aa55e2e76bc69f02b16c0220ad8cdfc44e940ff8431a62fda3357777eb434666febb1096bc7f0ddd18ccb0c1b4d1ea135dc586f1ae96792e12fcd3691fb815d3b0df0560f047d5e37706ce3377615af41de78fe1071e7ea3615eb6f8e8035819bf947114cd1e128a3328e76ca53f9ed0e8e4e9022d5bf4240d9855c85133e92d8a3ec84cce8d55d579cf58ab9ee2b27dde2e1f11bd383bdcaadd4d39a95f26fb20ce195ed1e9694b51d99f2dd75907d60206fdd5046d9694dc776e8ae8fb83a18acbfdd262da390390ee34c965923bd822a1263a994db68c024d65311f8ad6f89aa2d801d71635ec7b4ca0ac475020d585965b45a63d741b424f30364088ee6e978219ee8438d8d790c5d2e1cb83846dea5e0cb21971faf20ce343f836a1bc6752f564b32b2d783c967b73f94de8fc56b008f3931e33bfd83572ecf6aaffb6d3890e7d967806a4388362494c32d43d85b597bbcc9d89e2ee4497ba2d95a0cdb7c02f144fb371eae9bbcd4f7933301286c91fedaeac93a02b9f25662a41e0ed5bf05b468213f34bf558cebc5fc2f419fc4a242ff8302f76520c4636bbe62656f457aab2288d04cf8d102b15c1b54b1c9ecc4953a6d33d84bf809110e625d795d5897f8f578c4baa0a6b4cc16ce8033adf16225ae56275b2738f2e01a88ad54d628e903cfa94ee523285df03f95b1964d86c48ca312e541d27fe0f5dfe49abd57ef5fc55490745e55255e2d3fbd6d287558917e1226acc2d8b41af1b757f294113a40f80726ce28b9ecb39ce9c5e5cefcc76438d7de804e73654a1cf98226919202ab9374f6e3a06d1bb8fbf9672aa3c68ef86b1ade39cd8a24f6cb6a16df2fe627bfc4db388d5a0bd42d0022b3d19eae7495e5917c98d229041af8a13dd840d6fe8d5703819bda1025dc6ceecac6207d0cdb6eb0d4f8ca79e15255186f40864fb0149981541034dd2e0d5d338796bb3d5f9eddd0a1e0479bf2f6c8def87db3574b8abd6edc5574031d957195dbc3c524a4d91c923bc2dc22d8161f9351a5270cb19ae254a7e5d0c72105c0dcc8524c4c5ebec8d18bc01ed8efc77421262ff96e1a0044935f04ad3270ffa28f55f6e667b9a98fc8c0149ce447282577d66056480b488bbcb465dc19de3d00136adc881a00f911d9dfa077ad4e375af87d45e7c76f9c9cec210b3b08f6a6fc7c4a169083655a40f73f4de6447fdc7586fba8fda2fa5681093bdda5b3dd5795c49acfa442ecb7f115cb7794064964e24aa49fdaf082d47262b2f5fdd2dbe9e1b4fdcd7d23dfa5f797f2e9ebdf0c6ce7c80ee770a99352bec984a46a1d6fe8abc0008ee8a290807d88c4336c14437ecf0bf262b916e960fd100e1b7fa7bb038de550f7d10b681b5d604fa55a82dfc41ce5d7013dd6b0ca34bd85e1b13d2ded768650e93c6b019e4f54771381790eef4f706df0a26f872d160168c81a59d2e93f7a39afaf9845c3a36da9a9fe45352dd2ee4979a9eea568fa5a852ed1ebb8a7c11dbc67822f1bcfed3974bff6cd37a5b2ec84fd404c11e935b0316494252143863ac6a9d8c0895594ba063e70a9728c97f46930d78db5a081671803f04dfe5ada3782930f2fa8c2d1a5f234c1294d71e88424fedd12aef105c9f4b8344589aeb2c32e2883a806993e227750da7c037662849eecce8d519e9ff7b497abb1c20373b177f117342673d5f2a750c43523cac086660930fb6582742ed1dd786e060ed1088a52cd854efbf8c83bf900b646e4595cc59d0fbde17596741b29e0c44ff1bb31ed483fa6498c749e8fb30a3ffb28c524f19e37b096fd2b62e2ff1b2f782bb3d7f9b381b2a6a093629e5f6d840f7a27e9ab48b0615c171ed9f92ced25be202bccd9511ba2168fb4612d1fd8d1b3686f673f7f7e4663b312fb9f7bce06fcff52c051cb38e66414a444e36c6c8cf1ec5c5e1e77972b539b1f5a17bd428b03d38e1f3b32344f64179f757e131d9b698c1c3d53fd2d2a40f0e5e82b916832d65ca9e490ad76350d7ce8769c0da6c77287f7d518ea25cf09c556df4cc89335e2faabfa5b83547370efe722ff14803cc0283dffa202c4a25cf3e6edf4823a7aa62df9d2f77ce9aae973d30e34383c07f0c560f2e2fa4631fca079bad00064649aa533a64e7a51effe504914a5883d89ece90a86d08fa7319879e2c7c11d9f23dc08c728a7e718a9e247ec7492b0c2de72b905f3f3bdd5bd58306d06c23448767cb60c9507260f28c29022b1bb17b2798aa23f83e33d1676e6dcf2037d326b9ae49954c963b1091d7658cb103057e02ab3faacf285b68338c120e45daa6f81365a44e8634800c0e4bdb0b1a81c7e26efe199868964c0d53569343145e2684190feb971904db001ae7de9969450f22de10d90fac7633cd53af2418f49250d72dcd3191faa74d2116a34f2dca91f1af26be2bc2fa69492b7c4ad3b2de9f60ec830ae399825cce65abbb7d9b30065b18cda881b47d8b48cddd70bc9c5da24da76adc571f318e09def140ad8c9229902632c51a5389618dc38a73994f131b770120e66942978f64471f59f8533066c5c5982c6256043b6029e2f0deec943f33d3d16273290bfeb03cfd3820f789fc1d3586e7b7561c37bc3b0e3dc6606657ceabf385dad3ced84cbed96a8bbe07f71278364ecfb0f36f83b274c80d454af6ce42d7d699b6103582acf1773f33be9e9e75f912df034e8e78eef40ebdc204e3c5bad53e8ed84f5298a0ff7827a9274b8ea413008b9e6958fbebb051d4a94660d26df8262db58006a327d6f2f360d5dfb5c5ac92fa7ab343354b15dcfdb8ced2e42ef9bec714f299277009df53e3cf822f5ab6fa1b4529e095d22682b0d2b7fcfbf7f349c2edc0e8f05e9a884a3cde3904cb4957dc7e3f3a5560885d51c3a78552ce172302c4832cad6e4039316ddb869b77e1a3ce8282d1e785218e4268a011e6cab3d1b6e15c81af5b5248f4794a48056c629b837ab5703afcc3451b8f2ddbcf5b7374a002be0d0175c36042a5fc310c734eacae97577e447342fc9f07cb5d606c87790f3e765f5724caea5ea5600b68c21a0933a2bd6e8fc61e119c228cc7870f7910f25fb512c2e873ef38cf7f1957b145ca36202198a6b513645dafcead6c42992d3995893eac62a9d3ff03ed662720b4cc9901b3182f48091c7cf73ff0a40334750082c79180b01da17644a4917b21b9c07430dd1ff6d3d4f484848928bd9d85258c1c0d973ce52e46ef010a2d19a0c5e9fdada5f9c68dca1bd5e9e56ac8b2dfee332f31d9d4443e85a12e02f83f749659d193801b275ff8c6137c88d03fe6dd43946125c5499b424d10d34f89f7aa333b6caea454150b7e700235cf6099e013fdac55930272665e9963a533428088857a5a867b59d23731e36bb20f802203f36065192eb0d141fc52083a11d1d547d08de90ff611fadd800b9f5d063a21e0952673c6d5b2775937a5c1529775b8d5a8febb4d3f87d5e9a1a52fd65b97c884dd7e0881d5e8295883ff2ce338dd185783c30a31f4f8cc5a3989002c3986c9758763bb6f033092e0ef7f2ae6f270281b837e7c61386d467ba961f0c4c8ce03dd2e0d3f3af82fd7e1fb876eff5689d9a676e4366448d55ce5d60ae2de838de9488e2b6d5473729bbeca5e9085b61f0f2444e17eedd023077d35be45f307840ef36aab3a75a94fa0e175cb29c92c7324f4bd0f8b793b501192ddff1529bae3498464129a799fdd0a4367b853d061ef7119b288064066a95e402cae359f8ee91708d5c829ecdf333871865b65b5992a83c62aa39fcb34cf81e327bbd5d2b610ca3c8931702c3ddbcdd23df85fa393b3c9a7c1df282e9e93f620a79b645bcf84de4e6e4ecd4f42c873f10db1b5ebce53c93973ccdb5c9e8a0961415aae87d99800f5b670948fb47e0d17b11680ec866381d707da3a8d4aec50b03dbca91b6ab3134c45aba763678c1337abfda1d12a9bf024eb2d93bb905a90b9da3dc243c8e75ee88fba1c2b7c591d1be98fd5069d130234bb439cc3c50c071d3162e24512ad26a4899086ff7825c1ec641c21c14e074a76c92498f41ed7e7cff50a06c0b192dac403ace2e43bd3e604afe424655bc1dce109f8ad4973dd7a7e0889bd1c78e12ad96de3b454e4c2893031473d4121b046cf04b56e2636d7b5abb0a916a08e546c767585d0db8bb14d4ddeed028a28b07a6549304b0023399264abcf9cdce16278e0f6d37367a2a403ca25021ac284b9d774103949aabc27ede73d7ca16127c6515ae041078aa70092c356a1fe1d43191cb40ec0e05d9147f56f33527746485b698f587b40f43009234b33a28f08756d45179feadf4f7c4e98c7f9cc860f5482cf7da2c82b25fcb2d0162d914d8bbf83896755abcc52bde756fb6868a69cc2c31d4be11b1f343ff5a1b91e3a30bbc8206b9a752ac4400adc9dada330d0320957fd324b4ee115da53481d8c3eabc9086d07d20a58d831c85b4a3cfc6bfd1e6d2f02c4bae12c5fed2b33de817824bebd26ccea75b0b7f3eb53417ce52eee7bd174211936cb04a276314a9f5485767046fb8aec578cfd7c5ceec46d95e60346a604234803bde45810c22b7d2ce6311de25cd5a764cd5cbf95cc301121adc12e35a9a9fd037d0b65912fda0997d8d722825f4ab2e87d73b2e49121e80bc51b65e6f86a1822fd1401f84c30561082f04fd8946d88628acd54d160dc1b493149920f0212f5b93a540b0dd87696889ce5d45536b3b760f1c9308d2b5129c4dc0e9d5e80b4ec72d67bb96f63ee4288d8cef154f0f59d71efa91d0f54ad1f7bcbe08118d3d2cb00c4fdd81533f681ea58f9fab7a3231b1dada9f9585a188edc7c86eefe7ce74cd7ba2317109f3f64e31ca08ffba3387cf9a6cb8b4588d31a7358a47d2307b2c6f90d879dbe9509abc7b72ead053a04d7881765b73ee46ef5917ffcdcf6076a64c4afe21bf5d9ae5f22545b05edae17d9e550c76bda9716e44a0734f12fc69e4ce2021dde80f831361bf6b9e14ee515e10f79d5d3973c35a6542cb9bf1f39a2c7bb49c6808d0490c24f153df7b6d0561df4a09361cc81a9f1bccd7fc93ebe22f0dabe85ccff43df4750c4738dba217010491373a406d72a5094f3b5c3934965b9760e2b0ea37d2cacd1d80bd22e9415eb705b305b12a7bbcf6a8603fb1bbb10e2e703afb1228cee9e5db82d8a1052505dcce211f8098f3e53ce175e464de30e38a37fdf6303c0784d13640f1018fd4dc149fe64b922285debf36a228dce202e9890e22e6748c20647cd1c0f1e680c56a05653ac1f0ae4087ee2f01b99f0e343f3989ea37ac3e09f72b788b41b2bdf96febcde52f3f656b8f07c7f128222b315fc926dea63c4f00dc844cfc17a66ff712bb13233ef005b916f2bc2bb8dbe33bc2ad353d2cd9f0da6308b40dcb5da03979564502196d8ec46f8a4ba579e08d591d619e5c96728bc908d076910450459c6a38bf3c4bbeeb41c8316dd7a7b434a7a9daa99f27b86cbb88d7b45a965d58779c436cdf1e9ea4e599794de20ce586ec64b80e85eb43b49b69e621d4bc88f3a9dcd57d1cb41b77b91f7297ccdf394a7f88b552a2d54bfecf625697aafaf98798d20a070da05e49edcfe8ac4360676f1724db4506c79bfe8ac4f9d025b47479f4331460573af77a9ea1f2296e2510cb6977947fb16a6c8698bde022f32873408a2f1b5d942c9f134328d248a8b0b8db57e7559352569830b6f1ba1ece3f8fdc6e142244bafcb5a48cd1664cd14a9c27e4d2b50be1ed988038a4f2c3dd6d4d3b623070290c1826b20532be3d350daa0840390ce746b3aa80e48ce4aee9919cd90008e8741993aae64e7e440e4a26d612720e7169485006a1a3ec90ee3114052751992ebc805f02777d94eacad84cb676b7f718b163b92cfd59648aa30cf94d1909b480dea9c23ede0c07a195322f23fc8b58d4664307c398911d19cdfd1984c1a5612449b9ae448693622d30feb836e794fd03384456335641a6250a0d0aa030f0892a09303f5e614346053257d1e093ef77b07f75c651f17a99f2561db303283d12db0afa5db120a8b06e4994b83ff874a8f1780c37ede02bcf73378f2f9f81a1d0b35f551894cabae43485f94bac7e0f1eaeda7d2539fe987fcd0b5f709302aaa3de18f32fd2ac32e70eede1399c6378f1dfc95c39492e065933c8d211aa0ee9b7f8ac2e796a5af63a3399cc27dd40bcbea1f30f47f7d147e50672d3e6b7961c5770dbe40168d4892b09260388a3baefb6e382fcf4ac2b9fbff4c713d8960c2d71c343bc1c178f87ba8b6b0cc98db4f166deb2bc633edc0de70a25d3aaab3231c9de9744ee6626cd91d73c7db1998b98b64348e7a333e62a71954df0b7abaad11f454e15893ac4ff5511924eab54d54e2ddc19fa5bbd2782303c42ae55dcaa94d0bbcf10643a8240387dcd4df889b9161ffd05d34a8049bba7f76c9099b9baa572f4468f0ef7ac9c43f29455135e846a539a2821c85aff1b1fbb01b4e169ac2c8817a0abd8bfaaaa69988ff9bdc89cb0298c774ac374df08f751c933ff606e28599f8c19d6ff31aeb1c33fd67a1e0df4f350ed8a842b188daf420e2038131da1cb2641e5b47afba6445fd0732a0f6d82f2538f5e96591b0fb38c1921d64faedf7d258eac6e3c07fe3b9e9e63852a3468ff2e328f988389752598d7d02b99da263af0d5baf17824db8c4f7fea7cd46b1f9d31b62a35531a7e982bc19f0f62e39955556cb9a9326aac2bd4d560871d8b7ae622b64f63729595501fde5bddf40e356c903b24c5633c51cc9e7c137003bfa7a6984c4c57cb0f5bb619126fd41f80a697c8abe8bf556b503c02a4a2e1276e082e74869321da6538d97205a32065a983cef9b1f32e9a0c681eedc877fb77b567d485dfa2683b44b7c54629a99934a74623c0730ddf6b86a7286d6cd0e1beac9868cfd4206ced33d7fe6ab1d6e38311089531d5330f820d4642369566ddd9eb91bc6c8b6f9df835e9d8c603a43c6e74397f796514f7e7909e4fa112f51e790247638a4eb22b93a882f3d7843980bab23f4ab9cca2f5c6a01c9e4ef27ab5aef1d1321b51087b2e132bf5155fdf759550c60a433d707a3668ea92de0eeadab635ad14af361a6fc628edabd64cd826f272adc22b79cb1c96cd0b6079d135e1c29fa4b405705a6b91585ae81889f9df72f7891f34a5c910f1e57bc5157e215d4c949b003698ad107b0177e6eac297429ee344792a6ef67ae603014acf49032460ba0e98789af39acdafc1acd787a271aa38df75dc394c33f2e2b360cba8c62a11797f6d3929eabfeff763567661f15c8e079adeec6fddb360c6a26d234ff347a1cad9b57abab84d99d673c0c30831c178557ce81c992fd94c08bc85e05a2f620894974a4a43e533a88c090e6136d8af76b4f290d066e60bc421fdcdcb98dd0282c8ac87aedb94dc0c2628b16745aaa5063aebfe5667cabe55416a60dd1b0a6637f04117bdf2d6cc9e6f5ae6fc2157f70e1c1c1b57688064aa4e3237944bacd387e6a3d690274f32f9965a7d9858b8ac2a6947f74635b2330a32c8cb62c371cce5544545e73a6a3813beb9cd7b4780de018e220dcf85209154440357ab0e9aa87aad4540dcb75877f4c4ef8a8d07ae21f3aec14079204078a952ff6dc0031be8477a259434f1a67f3f8aff274a31c3b5943b02f8b745ead57364d20e24ca2e757a4423ccde051d704a14a683b213c83704c258575426ac3ba4ba8f1a117c8373291f5720fe0571f2d01676be895c51fae5eb4c68938e08fa37fdd28506d5b931812bbc792f558f910b91c971cd23865daabf8e425f9a6010369d0e27d09cd20ccd0e5b0941d09048f3ea300190da03aad8f13bbfe2347cbdaa44e6eace4e4bc42ef53e05d5185b94ea51e45ff98a12f7c3d8b648332d4f5d8bda0fd8016fc4eff750e387608f586489114dafaf193fb08a3e9fe6ebc297dc5dbcfd5dfeb5bb1c9953cba071c7f68c00e9e95b4c86ea6e845bd7ef1663db7416817a6b471827131efebdc0f4b37ed5a1a58657dc2442e4569061d54d68ba35ba2cffba613b8f624d09f00a12120b4eac9cdf8f2589c947a85ff22f428edcd5cd61d6f4383da62e2b1070c194cce083885f5b15e274ec92ea1dcfcf9eb54783b6bbcd3adb495e5bf5e33594ff5619c58d9245174ff1bd4b25efe7c95ce18c9782be49d6953f4c046a1198bd2ecc5e8b9278e7a8a3e68c029e693be844b62e759246291740c8e3b70503de6fc8a3bb10e2330ec9d0d0617622746b2e727cfdc626b8e7e9bfe1cc78170c240e6f91e612f96f4fcac79c955c2369c71d63c118a796399708e87d82b976b71a8706c625900a4d12ce45e82f1f099d11f63e4239a40b5a3fc542c5dea04be4b33fe4633fb4200a192423fd9ce065c06c08ba0459b98cc6d989a867df2d9b61c93556174b6400e950975c3bcfb5e0df1e8927d301e9fc91d399aac37c6d911c98fbc6bd182e3fedc56cbef86504ccdee63a99f8c096efb848c1396109d5af5b3c24691d73ba06708ea35d871b0a4c704e2f65209f730949315b21085f4c9d1130521a35fb8f1190dbc0eb1f11d7364b543657d30bce7b4ad10f3519d4c04668142e519eaf1e5e943776429b4781eacfeb7497c5b8fabc36486c14ca9691c2d6b0e1a172e0179c004b6599de566210933a630f8371a8aa9716b4b7e632b1ec9486160ae874918ffd2c972370d90b817446bb33803c182bf7feb632f5c3c478ce9e4682cbdaaed6d6bffbd7627666ce7c79609c3a751ae40039272ba397187e751cf08acadd573424e11b2da006a273482e2a0e9f07eb48bd8ee842602db1a181b201e7bf10221afbaac2d94eac4da363a48c8a80942feb40ea37eb5d39e453c3c61ef2a5e523d85b8475bf58a206c9665c2b8bf72e6d171f1edcdd15dcd4d3fbb559124bb6d75f42c91810ffd47d198a5850ee04a4054a30c8416ee9f53f1c906cf3ff53fb7f0f83478590c042a106aa233046364030ef0fd5dce01a1765c2231d5062d70c894dae25e194cd33dd18061c661aea865a1f73ff3f53f98d468f344023e9ab35c946cb33a5ea84c58f0b51d15aef39c3f24e77466adbd3f8a22159f8f4c58cf09cf4bfed6a73ab53e7887d5db4803c94f15f07f79bad03b024e31aabb5258cb6863e4734b977dc625c68a7d90e4ed1a619e3505a51ffd77e462d0ce10011793e2a614b2e4b8d8ce76ba005268d8fcfb09aea5fd93d91949a7077cf17062ea056bb92cf0604524dd179e3c48f905faf8002d18f229ae1f0b711440176eed7907d16c02ef17169c7fcc5a375e40470d7b35037cf9a5c9f1e84ee64423a3e91769017e2f108ffdcbed00072bb5129b6922898b87acba95c57d6c2c092e8a8489daa6e5a0a88fbbdd84b589367b721b851fff7831782ea69bc0dd250b923dbbd3eec9aaa5500619765ec0d93182b34eab18083a06a2d4fb3b4ea7e6fd7bda700dd325e92e51aca66878cc1a039df5c5f9b34e53cc023496b756100fc9f88a1de07724cc3ab52d40505ca19c6be5926cac23aa0d2840be3c1a696b21f1b7a0941846095c7fe5518f69d46f12192e30cb0093e5cf29753a993e7d3a9bc2082b9c23fd4d0c9c79ce5ae59fb6cf5ccc8cfffa5e481be4c73899548477b460930c0d75bec4238f435e586b1f7d0fbd4bf42d34f37077d0f9f9809067b9acb90a0892c2da370e73ca64c56c5dc1cc1fd74f66d7434f6240005e50d67bfea88aeb0ebb0ed4aca006d09a680f5c5e38adf814bc02765e89208ac3fb82044e7eccda2cd16af33c48ed38e9518ed5003c0a642f9157334944bb3a1afe968ab30edbaf12e92a74d570623da2dd2034dc9ee3c2551b43195a4933c90edf3d14245048a2188dbfa5b91fb1032f82ba4e9fe84ccaf8990dfff973a436017d4d64bbbbae8cd337007b237dcc1241889239fdbb1eb68d91820875df750e46e914203fd952adcd5373d6ac0f9a9b034191115668b58f1cb6a68dd747d26df1becd15d372f0566d02b29db52ea69da539a20e2e06b50450b0f0262313360e1cda5871bb21985d4ba35b6558a12dfafe03c9d54a204bf531ef52f53f88324787e7354cba836e00f018f0d94a3936287eec6963b694b8ef341df074f1e4b2beb55aa9e0a1e893acc412d68f64f183c060f03bf5b063e8213d1037cb7e2a1912a297ba5406ca27ba613272f5bf3e0d44d38f27ad3bb6b30bf9b086e4809b974c8b79d6b6f000ffc1eda084e63115a904fe5b08ea20ba2eb428601e410d9749719764e5dd92fd74abc56cb41515107a0edc2b575f3590869d503e445df0cd9aa4808c1041dc0b7b2865f22c949b41de3fa1a755f85e417cb8f1e374fae2ef671323e6d01275eca3918c81d28134d8ffa3384ed69ca807388332e9ae9db5eacfa5910a47d61d99b7a286b94e54a36b37fa8ba61b1e6b6a5ea20046573f4076048c8bbeb8707df64983dcb78de6b6f392415b5ecdde05850c32e45aa1047d598509403837f5d18be465c8b26326c0c2d2cfa00427b1bfa5ac604eee5d641239e412d4e3dd0040572e60091e31940924262be44666fdcbb52dee791cd80ab2ef379494bff5ef85d6827cb926a88136e6b40c1b0c286e257298a01f5ccf2669e1176818ad6b0e6a166100726ddd2c8176b393cce8bdf917c73200f5cf3c290a66d2cf566124fcb4fcca0dceed0b800a3624908728bfafb26c7c0c6395b845a1af01a5207dfa6d82942301ec56796c85ef7830259fd700da380b9567d895259dda485392dd3dd09fea0ea66c9e2d363b051fa4a588d13a07dd8dc4fca6d8ef97fe33764796dedf4aa4f4e877d8c86a1d36900ac25bf2f7bb7f3cdb6eef04197992374647a6f21d0bcf69e3e7d87a78d7a82d095754aaf4e0575489c05d5af468563f9917112bac8c025c084577d979c683407165b7588001807e70d7a3127c37713d7a22479b533a35dbcc5dcf7ee8e1185c83e86b3a01e68c6be8b80d93f090f26065a860d4976f871fe9b55913d8d99b8fb5634c64f9789185309b592d0e9576f2765d333864ea48b8d219c7f061d556af6905225044d83b6b66f99eb5dc77c34e7532f1264973fa0feb011cab634cce39d931dfab1429160f79bc7b9e0e5c4caadf05cc18c0e7e41007755e2cf6b53c41f638a2a1b3abdbffc2e0d466c553a8cd49a34007603c5702e0779b49fa6a3e3b0d4f447336b76ae559ea81957f1c3f5d9c186b895130e3e6e9faacd997e153d29492f252c8a4a2c72ac7649edb1d8f2922285a311ad9f571e914095b16b78fe1134d6d8e250b46b3313862b21398f5d5035525f3c3eb58b91167311c6bea078c129ee82728d3336fe3fca39a56c8d39f0d8d3702c47d2798a8f3fcb76175f2be3a33e6b1f398f594890b57a3c419052188527ffb51573ce95536dcec372ead0fd683d4c6bca4de176563be75f7bdf9a38f869b133d340b6f9742ac19b525dd2b3f3286190480b50e7c2090d4aad81b2f9fc0653c00af2580fdc2031f2c57a9a99287509d059a223216e5f2ef8c9413a5a43ac9c4434a05baa86b9945543f3d09c27104c7a9a63b0bc6eeccce56cd932f96e91dd58b4f4015560f8228d9e9dd02c501f5c30c6e0e602da762e9378f9905e7987069b2706f4129bed95001353f5a8881159a7ecad8217eace77c3bf98100c744424d8a0dbbd2031373fb4b9f297b17ee93449ca56e0d2cbd7ea9d0a3e765c3d037b9fe0b72235bba45db48b991c31d71fb76d0b4459851343d9baa37aeadefcf9f64969b83b0fcda2c278214da384ede70707602d447d132e22aa9cf62d4bd027f7b50b92b62c6205c042b364d737958b65c68f3400f89f711f03a7b43b5c273be169e951e1b539287d58196ef1ed55fa159b2332f8f40bd019ddfcadd1ac0a4c0194753cdebaed9e2f62f7302b2b0cdfae48fd46b7ea68097be1b3f771094d2a296818bb52b20420867ac2cea8ef256f2c317589a6b07f87613f6417b77f42b0831bdb783226cb724a2f45c17cca3522109e573dff7d6b7bd300fcd8e266b1d4cdcca6e6f7241290cee9f6846c9d43dc9047c9a3cb38c4a8dbc0a63a116a3eee6e0c045b04c498f5bbafef534746e0ad8aa078b001508cc4c84bb298159294094c0c9dc2e0d556f4ad6dfb153716abc54765208f5368ae649a321ea9b63f63021366a02c79e4b752b4bb3a32f66d7f5000c9fac31e2a5fd17c1f5c532bfc2365ef71fdc8cca9debd224b4ad08af4089481244fec228d957e28b06b8ea4bdbb2c56ea09f7647ac92be09a91f6cdfaeb2199113939728c9a4e4206c87935d1cf1035305651c37cd4c725c998333c389c956a2921bdfb20615de8fb4cf0f9652f76c5acdfef2ce4b4d977ede18dda2ff9ac3f94d3fa09e6350c3fe64d517d7006ae94387aff2e9172fd5392ad73055eab1d7e561e685f56c2d162184ba1327de8205ee65e209baf561047270437f12ad5b0f60a9e2ae2b3873ab38bd388fe8c68b0c3c365cd991b0e3a965f57eb0b3217fd56054b83288990d4495531888d6e14b9e8f8ee31ae85057b7c8843d684aef38bc85c9be358c5e6514d65043b12d4b41dfbdbe4f48d658f879a6cff48cf89ac4853a1c7a5607d0cfde54a0cf616aa4acbe0055c2c9a45b603646c93c86f4255f67400547061aa75f5cafccdd3eeac0b7c211fb4672a7013279ed8f4a38119931f7423a00d0f79faae67385cd87e15dfe130a23896261d3fe1d78303c70fca026d036ab8567f4f4eb9e12860e390a3df76f5b1468ffa33eda4a925c11abe52a8c5b419623c9748f30682a5f87209982134cb7559706ec47b017f95dec56c0b23c0b7941833fd007f004d1fc6ca791ec7cf48491ae057fd05771e201da3dafca545ee785320d307626ba260b7cbf1fa3527d5104b858f0fbc43ae141d53e1715396eb68051024eb5e082c433145f65e74445e9a3a93c75c8bac3c9995294028e6e51c09ec19adc9bb5847924ce82b78d20ed11b1ba2e653e0776adb6a91d6901db3cb48d582bc89fe20e0dace889e023c2afcf53d39876b4d99f4ed2ad3ab658eb5f23f2f07af68a2e2ed6421e4bc0d57a4ec33b940c5bb0cf5d610fec59dab00ffe72aac25633bdd34b56627fce58cde575b7ef26e3b379106adae16d9a5ca4e49fd4b834ad40e79934ad10c4698824662cf824197a085a12d2756cef23b84a3f4f9d5ec9301ca0c82600a48296ffccf068e60a2a7bf2b621021dae45cbccca86fcad49400b5ea55063e6c5e6a7533f07994dba7526c5770eba2c43fec64251ace988bc5f50f9d10404e628aa899a840e3a6b4cb7bc880e5164a173bf48ab3ed1b3a89ca0206ed90766c1d8b1f0adfc5f2b2bcf5c0a70660f937afd7b8b6c8379ac0e287f5b4ed9b219f4ee2641f7d1b635f0803006a8692189f8386d2618ebd04efdda07ddbab5d1412be7be9d1c82c918daa128396792e198afdfd9befbedc6812769fd04200019279b6d314052a23af59aeb6ab90ff01aa272a355cb3709c8c4691547e6737a538dcc70e0e4ddce95d3c8f445e6bff5e307404525b9b214aacecab477c4c431e3613ed56</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">å½“å‰æ–‡ç« æš‚ä¸å¯¹å¤–å¯è§ï¼Œè¯·è¾“å…¥å¯†ç åæŸ¥çœ‹ï¼</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>å®¶åº­AIOå°ä¸»æœº</category>
      </categories>
      <tags>
        <tag>AIOå°ä¸»æœº</tag>
        <tag>å†…ç½‘ç©¿é€</tag>
        <tag>OpenWrt</tag>
        <tag>ZeroTier</tag>
      </tags>
  </entry>
  <entry>
    <title>æˆ‘çš„å®¶åº­å°ä¸»æœºé…ç½®-è®¾å¤‡é€‰å‹</title>
    <url>/2022/04/17/my-home-server-configuration-equipment-selection/</url>
    <content><![CDATA[<h3 id="èµ·å› "><a href="#èµ·å› " class="headerlink" title="èµ·å› "></a>èµ·å› </h3><p>å…¶å®ä¸€ç›´éƒ½æœ‰æƒ³æ‰“é€ ä¸€æ¬¾ä¸ªäººå°ä¸»æœºçš„æƒ³æ³•ã€‚</p>
<p>ä¹‹å‰ä½¿ç”¨çš„æ˜¯æ ‘è“æ´¾ <code>raspberry-pi3</code> å¼€å‘æ¿ï¼Œè‡ªå·±è£…äº† <code>docker</code> åè·‘äº†ä¸€äº›è„šæœ¬å’Œç½‘ç«™é¡¹ç›®ã€‚</p>
<p>ä½†æ˜¯æ ‘è“æ´¾é‚£ä»…ä»…1Gçš„å†…å­˜ä½¿ç”¨èµ·æ¥ç€å®æœ‰äº›æ‰è¥Ÿè§è‚˜ï¼Œè·‘ä¸€äº›å¤§å‹çš„æœåŠ¡å°±æ¯”è¾ƒåƒåŠ›ã€‚</p>
<p>åæ¥åœ¨åŒåä¸€çš„æ—¶å€™ï¼ŒèŠ±ä¸€ç™¾å¤šè´­ä¹°äº†ä¸€å¹´çš„é˜¿é‡Œäº‘1æ ¸2Gçš„æœåŠ¡å™¨ã€‚ä¸è¿‡å½“åˆ°æœŸå†ç»­è´¹æ—¶å¹´ä»˜ç«Ÿç„¶è¦å…«ä¹ç™¾äº†ï¼Œæœ€ååªå¾—å«æ³ªå¤‡ä»½æ•°æ®ï¼Œåˆæ¢å›äº†æ ‘è“æ´¾ã€‚</p>
<p>å…¶å®æˆ‘çš„éœ€æ±‚ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯æƒ³è¦ä¸€ä¸ªèƒ½ä¸€ç›´è¿è¡Œçš„linuxç”µè„‘ï¼Œç„¶åè·‘ä¸€äº›è„šæœ¬æœåŠ¡ï¼Œæˆ–è€…æ­å»ºè‡ªå·±çš„Gitä»“åº“ï¼Œéƒ¨ç½²ä¸ªäººçš„ç½‘ç«™ç­‰ç­‰ã€‚åœ¨æ­¤åŸºç¡€ä¸Šä¹Ÿå¯ä»¥è¿›è¡Œä¸€äº›æ‰©å±•ã€‚</p>
<p>æˆ‘å®¶é‡Œæœ‰ä¸€å°å°å¼æœºï¼Œä¸è¿‡å¹³æ—¶éƒ½æ˜¯ç”¨ç¬”è®°æœ¬ï¼Œæ‰€ä»¥ä¹Ÿå°±é—²ç½®äº†ã€‚ä½†æƒ³æƒ³ç”¨å°å¼æœºæ¥å®ç°æˆ‘ä¸Šé¢çš„éœ€æ±‚ï¼Œå°±æ„Ÿè§‰æœ‰äº› <code>å¤§æå°ç”¨</code> ï¼Œè€Œä¸”è¿˜å¾ˆè´¹ç”µã€‚æµ‹è¯•è¿‡ä¸€æ®µæ—¶é—´ä¹‹åï¼Œå…‰è¿è¡Œæ—¶çš„å™ªéŸ³å°±ç›´æ¥æŠŠæˆ‘åŠé€€äº†ã€‚</p>
<hr>
<h3 id="é€‰æ‹©"><a href="#é€‰æ‹©" class="headerlink" title="é€‰æ‹©"></a>é€‰æ‹©</h3><p>åæ¥åœ¨ç½‘ä¸Šçœ‹äº†ä¸€äº›å…³äº <code>ä½åŠŸè€—å°ä¸»æœº</code> çš„ä»‹ç»ï¼Œå¤§å®¶æ¨èæ¯”è¾ƒå¤šçš„å°±æ˜¯ <code>NUC</code> ç³»åˆ—ã€‚</p>
<p>å…¶ä¸­ <code>NUC8</code> å› ä¸ºæ€§ä»·æ¯”é«˜ã€è¿˜èƒ½é€šè¿‡åŠ è£…ç½‘å¡å®Œç¾å®ç°é»‘è‹¹æœï¼Œæ˜¯å¤§å®¶æ¨èæ¯”è¾ƒå¤šçš„ä¸€æ¬¾ã€‚</p>
<p>ä½†æˆ‘æ¯”è¾ƒåå‘ç°å’Œç›®å‰æœ€æ–°çš„ <code>NUC11</code> ç›¸æ¯”ä¸‹ä»·æ ¼å¥½åƒä¹Ÿå·®ä¸äº†å¤šå°‘ã€‚ä¸è¿‡æ¯”æˆ‘çš„å¿ƒç†é¢„æœŸä»·ä½è¿˜æ˜¯è¦é«˜å¾ˆå¤šçš„ã€‚</p>
<p>æƒ³ç€å°±æ˜¯è·‘ä¸€äº›æœåŠ¡ä¹‹ç±»çš„ï¼Œä¹Ÿä¸ç”¨å®ƒæ¥çœ‹è§†é¢‘ã€å†™ä»£ç ï¼Œè¿™æ ·ä¸€æƒ³è¿™ä¸ªä»·æ ¼ç¡®å®æ˜¯ä¸å¤ªè¶…å€¼ã€‚</p>
<p>æœ€ç»ˆï¼Œæˆ‘æŠŠå¿ƒç†é¢„æœŸä»·ä½å®šåœ¨äº† <code>1500å…ƒ</code> å·¦å³ã€‚</p>
<p>åæ¥åœ¨Bç«™ä¸Šçœ‹åˆ°æœ‰ä»‹ç»J4125è½¯è·¯ç”±å°ä¸»æœºçš„è§†é¢‘ï¼Œé¡¿æ—¶è®©æˆ‘å¥½åƒå‘ç°äº†æ–°å¤§é™†ä¸€èˆ¬ã€‚ä¹‹å‰å°±æ›¾å¬è¯´è¿‡è½¯è·¯ç”±ï¼Œå¯ä»¥é€šè¿‡å®‰è£…å„ç§æ’ä»¶å®ç°ä¾‹å¦‚FQã€å»å¹¿å‘Šçš„åŠŸèƒ½ï¼Œè§‰å¾—ç‰¹åˆ«å‰å®³ã€‚</p>
<p>è®°å¾—ä¹‹å‰å°†è‡ªå·±çš„è·¯ç”±å™¨ <code>ç½‘ä»¶R7000</code> ç‰¹æ„åˆ·äº†æ¢…æ—å›ºä»¶æƒ³è¦å®ç°FQçš„æ•ˆæœï¼Œä½†æœ€åå‘ç°é™åˆ¶æƒ³è±¡çš„å´æ˜¯R7000é‚£å°‘å¾—å¯æ€œçš„å†…å­˜ã€‚</p>
<p>æ¯•ç«Ÿäººå°±æ˜¯è¿™æ ·å˜›ï¼Œæœ‰äº†ä¹‹åï¼Œè¿˜æƒ³è¦æ›´å¤šã€‚</p>
<p>æ€»ç»“äº†ä¸€ä¸‹è½¯è·¯ç”±ç›¸æ¯”èµ·æ¥æœ‰ä»¥ä¸‹å‡ ç‚¹ä¼˜åŠ¿ï¼š</p>
<ul>
<li>ç½‘å£å¤šï¼Œæ¥å…¥å®¶åº­ç½‘ç»œï¼Œå¯ä»¥å®ç°æ›´å¤šåŠŸèƒ½</li>
<li>æ”¯æŒå†…å­˜å’Œç¡¬ç›˜çš„è‡ªå®šä¹‰æ‰©å±•</li>
<li>è½¯è·¯ç”±å¤§éƒ¨åˆ†æ˜¯å·¥æ§æœºï¼Œé€‚åˆé•¿æ—¶é—´24å°æ—¶è¿è¡Œ</li>
<li>é™éŸ³æ— é£æ‰‡è®¾è®¡ï¼Œä¸ä¼šå½±å“æ™šä¸Šçš„ç¡çœ </li>
</ul>
<hr>
<h3 id="å†³å®š"><a href="#å†³å®š" class="headerlink" title="å†³å®š"></a>å†³å®š</h3><p>ç»¼åˆä»¥ä¸Šçš„éœ€æ±‚ï¼Œæˆ‘ç‰¹æ„æ•´ç†äº†ä»¥ä¸‹çš„è´­ä¹°æ–¹æ¡ˆï¼š</p>
<h4 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h4><ul>
<li>å®ç°å®¶åº­è½¯è·¯ç”±</li>
<li>æ»¡è¶³ä¸ªäººæœåŠ¡å™¨éœ€æ±‚ï¼Œèƒ½è¿è¡Œdockerå®¹å™¨æˆ–ä¸€äº›æœåŠ¡è„šæœ¬</li>
<li>éœ€è¦é•¿æ—¶é—´24å°æ—¶å¼€æœºè¿è¡Œï¼Œé™éŸ³ä¸å½±å“æ™šä¸Šä¼‘æ¯</li>
<li>æ»¡è¶³åæœŸéƒ¨ç½²ä¸€äº›æœåŠ¡æˆ–ä¸ªäººé¡¹ç›®ï¼Œå¦‚homeassistantæ™ºèƒ½å®¶å±…</li>
</ul>
<h4 id="è´­ä¹°æ–¹æ¡ˆ"><a href="#è´­ä¹°æ–¹æ¡ˆ" class="headerlink" title="è´­ä¹°æ–¹æ¡ˆ"></a>è´­ä¹°æ–¹æ¡ˆ</h4><ul>
<li>æ–¹æ¡ˆä¸€<ul>
<li>è´­ä¹°ä¸€ä¸ªé«˜é…ç½®å¾®å‹PCï¼Œæ»¡è¶³è½¯è·¯ç”±+ä¸ªäººæœåŠ¡å™¨éœ€æ±‚</li>
<li>é…ç½®è¦æ±‚è‡³å°‘å†…å­˜16Gï¼Œç¡¬ç›˜500Gæˆ–ä»¥ä¸Š</li>
</ul>
</li>
<li>æ–¹æ¡ˆäºŒ<ul>
<li>è´­ä¹°ä¸€ä¸ªåˆçº§è½¯è·¯ç”±è®¾å¤‡ï¼Œæ»¡è¶³è½¯è·¯ç”±éœ€æ±‚</li>
<li>å†è´­ä¹°ä¸€ä¸ªå¾®å‹PCï¼Œå®ç°ä¸ªäººæœåŠ¡å™¨éœ€æ±‚</li>
</ul>
</li>
</ul>
<p>å…¶å®ç”µå­äº§å“å‘å±•è¿˜æ˜¯å¾ˆå¿«çš„ï¼Œæœ‰äº›å‰ä¸¤å¹´æµè¡Œçš„é…ç½®ç°åœ¨æ¥çœ‹å·²ç»æœ‰äº›å‹‰å¼ºäº†ã€‚æœ€åå†³å®šæœ¬ç€ <code>ä¹°æ–°ä¸ä¹°æ—§</code> çš„æƒ³æ³•ï¼Œæˆ‘é€‰æ‹©äº†ç›®å‰æœ€æ–°æ¬¾çš„é…ç½®ã€‚</p>
<h4 id="è®¾å¤‡æ¸…å•"><a href="#è®¾å¤‡æ¸…å•" class="headerlink" title="è®¾å¤‡æ¸…å•"></a>è®¾å¤‡æ¸…å•</h4><p>åˆ—è¡¨ä¸­çš„ä»·æ ¼ä¸ºå½“æ—¥æ•´ç†æ—¶çš„æœ€æ–°ä»·æ ¼ï¼Œä»…ä¾›å‚è€ƒã€‚</p>
<table>
<thead>
<tr>
<th>åºå·</th>
<th>åç§°</th>
<th>å‹å·</th>
<th>é…ç½®</th>
<th>å‡ä»·</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>R4S</td>
<td>RK3399</td>
<td>4Gå†…å­˜ æ— ç¡¬ç›˜ 2ä¸ªåƒå…†ç½‘å£ 2ä¸ªUSB3.0</td>
<td>626å…ƒ</td>
<td>ä¸»æœº+ç”µæº éœ€å¦è´­å†…å­˜å¡</td>
</tr>
<tr>
<td>2</td>
<td>R4S</td>
<td>RK3399</td>
<td>4Gå†…å­˜ æ— ç¡¬ç›˜ 2ä¸ªåƒå…†ç½‘å£ 2ä¸ªUSB3.0</td>
<td>658å…ƒ</td>
<td>ä¸»æœº+ç”µæº+å†…å­˜å¡</td>
</tr>
<tr>
<td>2</td>
<td>WALKFISH</td>
<td>11ä»£N5105</td>
<td>16Gå†…å­˜+256GB 2.5Gå•ç½‘å£</td>
<td>1433å…ƒ</td>
<td>æ¿è½½å†…å­˜ï¼Œå•é€šé“ï¼Œä»…ç¡¬ç›˜å¯å†æ‰©å±•</td>
</tr>
<tr>
<td>3</td>
<td>WALKFISH</td>
<td>11ä»£N5105</td>
<td>16Gå†…å­˜+512GB 2.5Gå•ç½‘å£</td>
<td>1593å…ƒ</td>
<td>æ¿è½½å†…å­˜ï¼Œå•é€šé“ï¼Œä»…ç¡¬ç›˜å¯å†æ‰©å±•</td>
</tr>
<tr>
<td>5</td>
<td>ç•…ç½‘å¾®æ§</td>
<td>11ä»£N5105</td>
<td>4ä¸ª2.5Gç½‘å£  æ— å†…å­˜ç¡¬ç›˜  2ä¸ªUSB3.0</td>
<td>968å…ƒ</td>
<td>éœ€å¦è´­å†…å­˜å’Œç¡¬ç›˜</td>
</tr>
<tr>
<td>5</td>
<td>ç•…ç½‘å¾®æ§</td>
<td>11ä»£N5105</td>
<td>4ä¸ª2.5Gç½‘å£  16Gå†…å­˜+256GB  2ä¸ªUSB3.0</td>
<td>1668å…ƒ</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>NUC11PAHI5</td>
<td>i5-1135G7</td>
<td>2.5Gå•ç½‘å£  æ— å†…å­˜ç¡¬ç›˜</td>
<td>2300å…ƒ</td>
<td>æœ€å¤§å†…å­˜64G  éœ€å¦è´­å†…å­˜å’Œç¡¬ç›˜</td>
</tr>
<tr>
<td>7</td>
<td>NUC11PAHI5</td>
<td>i5-1135G7</td>
<td>2.5Gå•ç½‘å£  æ— å†…å­˜ç¡¬ç›˜</td>
<td>2300å…ƒ</td>
<td>æœ€å¤§å†…å­˜64G  éœ€å¦è´­å†…å­˜å’Œç¡¬ç›˜</td>
</tr>
<tr>
<td>4</td>
<td>NUC11ATKC4</td>
<td>11ä»£N5105</td>
<td>åƒå…†å•ç½‘å£ æ— å†…å­˜ç¡¬ç›˜ 4ä¸ªUSB3.0 2ä¸ªUSB2.0</td>
<td>899å…ƒ</td>
<td>æœ€å¤§å†…å­˜32G éœ€å¦è´­å†…å­˜å’Œç¡¬ç›˜</td>
</tr>
<tr>
<td>6</td>
<td>NUC11ATKC4</td>
<td>11ä»£N5105</td>
<td>åƒå…†å•ç½‘å£ æ— å†…å­˜ç¡¬ç›˜ 4ä¸ªUSB3.0 2ä¸ªUSB2.0</td>
<td>899å…ƒ</td>
<td>æœ€å¤§å†…å­˜32G éœ€å¦è´­å†…å­˜å’Œç¡¬ç›˜</td>
</tr>
</tbody></table>
<p>æƒè¡¡ä¹‹åï¼Œæœ€ç»ˆå†³å®šé€‰æ‹© <code>4ç½‘å£N5105è½¯è·¯ç”±å°ä¸»æœº</code> ï¼Œå¦å¤–æ­é…è´­ä¹°äº†32Gå†…å­˜å’Œ1TSSDç¡¬ç›˜ã€‚</p>
<hr>
<h3 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h3><p>å½“è®¾å¤‡å¼€æœºçš„é‚£ä¸€åˆ»ï¼Œæç„¶é—´æˆ‘æ„Ÿè§‰ï¼Œå…¶å®é€‰æ‹© <code>16Gå†…å­˜å’Œ128GBçš„ç¡¬ç›˜</code> å°±å·²ç»è¶³å¤Ÿäº†ã€‚</p>
<p>ä¸è¿‡è¯è¯´å›æ¥ï¼Œå¦‚æœæˆ‘æ¢æˆ <code>16Gå†…å­˜å’Œ128GB</code> çš„é…ç½®ï¼Œä»·æ ¼åœ¨ <code>1600å…ƒ</code> å·¦å³ï¼Œä¹Ÿç®—ç¬¦åˆå¿ƒç†é¢„æœŸäº†ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220418180008.JPG" alt="20220418180008"></p>
<hr>
]]></content>
      <categories>
        <category>å®¶åº­AIOå°ä¸»æœº</category>
      </categories>
      <tags>
        <tag>AIOå°ä¸»æœº</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸€é”®å¤åˆ¶å½“å‰ç½‘é¡µmarkdowné“¾æ¥</title>
    <url>/2022/04/17/one-click-copy-markdown-url/</url>
    <content><![CDATA[<h3 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h3><p>å¹³æ—¶åœ¨ç½‘ä¸ŠæŸ¥è¯¢èµ„æ–™æˆ–è€…å†™æ–‡ç« æ—¶ï¼Œæ€»ä¼šæŠŠç›¸å…³çš„å‚è€ƒç½‘å€ç»™è®°å½•ä¸‹æ¥ã€‚åœ¨markdownä¸­æ·»åŠ ç½‘å€çš„æ ¼å¼ä¸º <code>[]()</code> ï¼Œè¿™æ ·å°±éœ€è¦åˆ†ä¸¤æ­¥æ¥è¿›è¡Œæ“ä½œï¼š</p>
<ul>
<li>ç¬¬ä¸€æ­¥ æ‹·è´å½“å‰çš„ç½‘å€è¿›è¡Œç²˜è´´</li>
<li>ç¬¬äºŒæ­¥ æ‹·è´å½“å‰çš„æ–‡ç« æ ‡é¢˜ç²˜è´´æˆ–è‡ªå·±æ•´ç†æ ‡é¢˜</li>
</ul>
<p>è¦è¯´è¿™æ ·ä½¿ç”¨ä¸€ä¸¤æ¬¡è¿˜å¥½ï¼Œä½†è¦æ˜¯ç»å¸¸æ“ä½œçš„è¯ï¼Œè¿™æ ·çš„æµç¨‹å°±æ˜¯éå¸¸çš„è€—è´¹æ—¶é—´äº†ã€‚</p>
<p>åæ¥è§‰å¾—å¤ªéº»çƒ¦ï¼Œå°±è‡ªå·±ç”¨jså†™äº†ä¸€ä¸ªè·å–å½“å‰markdownæ ¼å¼çš„jsè„šæœ¬ï¼Œä½œä¸ºä¸€ä¸ªç½‘é¡µæ ‡ç­¾æ¥ä½¿ç”¨ï¼Œæ¯æ¬¡ä½¿ç”¨æ—¶ç‚¹å‡»ä¸€ä¸‹è¿™ä¸ªæ ‡ç­¾å³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">javascript:(function()&#123;eval(function(d,f,a,c,b,e)&#123;b&#x3D;function(a)&#123;return a.toString(f)&#125;;if(!&quot;&quot;.replace(&#x2F;^&#x2F;,String))&#123;for(;a--;)e[b(a)]&#x3D;c[a]||b(a);c&#x3D;[function(a)&#123;return e[a]&#125;];b&#x3D;function()&#123;return&quot;\\w+&quot;&#125;;a&#x3D;1&#125;for(;a--;)c[a]&amp;&amp;(d&#x3D;d.replace(new RegExp(&quot;\\b&quot;+b(a)+&quot;\\b&quot;,&quot;g&quot;),c[a]));return d&#125;(&quot;9 i&#x3D;0.c(&#39;d&#39;);0.e.f(i);i.6(&#39;7&#39;,&#39;[&#39;+0.8+&#39;](&#39;+0.5+&#39;)&#39;);i.a();b(0.1(&#39;2&#39;))&#123;0.1(&#39;2&#39;);3.4(&#39;g&#39;)&#125;h&#123;3.4(&#39;j&#39;)&#125;&quot;,20,20,&quot;document execCommand copy console log URL setAttribute value title var select if createElement input body appendChild Success else  Failed&quot;.split(&quot; &quot;),0,&#123;&#125;));&#125;)();</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h3><p>ä½†æœ‰æ—¶å€™ä¹Ÿä¼šé‡åˆ°ç‰¹æ®Šæƒ…å†µã€‚</p>
<p>ä¸Šé¢çš„ä»£ç è·å–æŸäº›ç½‘é¡µçš„é“¾æ¥æ—¶ï¼Œå¹¶ä¸èƒ½æ­£å¸¸è·å–åˆ°æ ‡é¢˜ï¼Œå¯¼è‡´æœ€ååªæœ‰ä¸€æ®µç½‘å€ã€‚é‚£è¿™ä¸ªæ—¶å€™å°±åªèƒ½è‡ªå·±å†æ‰‹åŠ¨çš„å»å¤„ç†ä¸€ç•ªã€‚</p>
<p>å¶ç„¶é—´çœ‹åˆ°é€šè¿‡ <code>æ²¹çŒ´è„šæœ¬</code> æ¥ç¾åŒ–CSDNç½‘é¡µæ ·å¼çš„ä¸€ç¯‡æ–‡ç« ï¼Œæ„Ÿè§‰å¯ä»¥é€šè¿‡å®ƒæ¥å®ç°æˆ‘ <code>ä¸€é”®å¤åˆ¶</code> å½“å‰ç½‘å€çš„éœ€æ±‚ã€‚</p>
<p>ç‰¹æ„åœ¨ <code>Greasy Fork</code> æœäº†ä¸€ä¸‹ï¼Œæ‰¾åˆ°äº†ä¸€æ¬¾ç›¸å…³åŠŸèƒ½çš„æ’ä»¶ <code>https://greasyfork.org/zh-CN/scripts/443317-via-%E5%A4%8D%E5%88%B6markdown%E9%93%BE%E6%8E%A5</code></p>
<p>ä½†æˆ‘åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å‘ç°è¿™ä¸ªæ ·å¼æŒºä¸å¥½æ“ä½œçš„ï¼Œæ‰€ä»¥å°±æŠŠå®ƒçš„æºç æ‹¿è¿‡æ¥ä¼˜åŒ–äº†ä¸€ä¸‹ã€‚ç›¸åº”çš„è„šæœ¬å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; &#x3D;&#x3D;UserScript&#x3D;&#x3D;</span><br><span class="line">&#x2F;&#x2F; @name        è·å–ç½‘é¡µmarkdowné“¾æ¥</span><br><span class="line">&#x2F;&#x2F; @namespace   https:&#x2F;&#x2F;github.com&#x2F;leafney</span><br><span class="line">&#x2F;&#x2F; @version     0.3</span><br><span class="line">&#x2F;&#x2F; @description ç‚¹å‡»æŒ‰é’®ï¼Œè·å–markdownæ ¼å¼çš„é“¾æ¥</span><br><span class="line">&#x2F;&#x2F; @author      leafney</span><br><span class="line">&#x2F;&#x2F; @license     MIT</span><br><span class="line">&#x2F;&#x2F; @match       *:&#x2F;&#x2F;*&#x2F;*</span><br><span class="line">&#x2F;&#x2F; &#x3D;&#x3D;&#x2F;UserScript&#x3D;&#x3D;</span><br><span class="line"></span><br><span class="line">(function () &#123;</span><br><span class="line">  &#39;use strict&#39;;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; Your code here...</span><br><span class="line">  function _appendCss(css, name) &#123;</span><br><span class="line">    var head &#x3D; document.head || document.getElementsByTagName(&#39;head&#39;)[0];</span><br><span class="line">    var style &#x3D; document.createElement(&#39;style&#39;);</span><br><span class="line">    style.setAttribute(&quot;data-component&quot;, name);</span><br><span class="line">    style.innerHTML &#x3D; css;</span><br><span class="line">    head.appendChild(style);</span><br><span class="line">  &#125;</span><br><span class="line">  function addStyle() &#123;</span><br><span class="line">    &#x2F;&#x2F;debugger;</span><br><span class="line">    let layui_css &#x3D; &#96;.layui-btn&#123;display: inline-block; vertical-align: middle; height: 38px; line-height: 38px; border: 1px solid transparent; padding: 0 18px; background-color: #009688; color: #fff; white-space: nowrap; text-align: center; font-size: 14px; border-radius: 20px; cursor: pointer; -moz-user-select: none; -webkit-user-select: none; -ms-user-select: none;&#125;.layui-btn-sm&#123;height: 30px; line-height: 28px; padding: 0 8px; font-size: 14px;&#125;&#96;;</span><br><span class="line">    _appendCss(layui_css, &quot;btn&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  &#x2F;&#x2F;åˆ›å»ºå¤åˆ¶æŒ‰é’®</span><br><span class="line">  function addBtn() &#123;</span><br><span class="line">    var btn &#x3D; document.createElement(&#39;button&#39;);</span><br><span class="line">    btn.style &#x3D; &quot;top:30%; right:20px; position: fixed;z-index:1000;cursor:pointer;background:green;&quot;</span><br><span class="line">    btn.className &#x3D; &quot;layui-btn layui-btn-sm&quot;</span><br><span class="line">    btn.innerHTML &#x3D; &quot;å¤åˆ¶&quot;</span><br><span class="line">    btn.id &#x3D; &quot;copyBtn&quot;</span><br><span class="line">    document.body.appendChild(btn);</span><br><span class="line">  &#125;</span><br><span class="line">  &#x2F;&#x2F; ä»…å¯¹å½“å‰é¡µæœ‰æ•ˆï¼Œæ’é™¤iframeé¡µé¢</span><br><span class="line">  if(self&#x3D;&#x3D;top)&#123;</span><br><span class="line">    addStyle();</span><br><span class="line">    addBtn();</span><br><span class="line">    let isclick &#x3D; false; &#x2F;&#x2F; é˜²æ­¢è¿‡å¿«é‡å¤ç‚¹å‡»</span><br><span class="line">    var $btn &#x3D; document.getElementById(&quot;copyBtn&quot;)</span><br><span class="line">    $btn.addEventListener(&quot;click&quot;, function () &#123;</span><br><span class="line">      if (!isclick) &#123;</span><br><span class="line">        var text &#x3D; &#96;- [$&#123;document.title&#125;]($&#123;document.URL&#125;)&#96;</span><br><span class="line">        console.log(&quot;copy&#x3D;&gt; &quot; + text);</span><br><span class="line">        let oInput &#x3D; document.createElement(&quot;input&quot;);</span><br><span class="line">        oInput.value &#x3D; text;</span><br><span class="line">        document.body.appendChild(oInput);</span><br><span class="line">        oInput.select(); &#x2F;&#x2F; é€‰æ‹©å¯¹è±¡</span><br><span class="line">        document.execCommand(&quot;Copy&quot;); &#x2F;&#x2F; æ‰§è¡Œæµè§ˆå™¨å¤åˆ¶å‘½ä»¤</span><br><span class="line">        oInput.className &#x3D; &quot;oInput&quot;;</span><br><span class="line">        oInput.style.display &#x3D; &quot;none&quot;;</span><br><span class="line">        $btn.style.background &#x3D; &quot;red&quot;;</span><br><span class="line">        $btn.innerHTML &#x3D; &quot;å¤åˆ¶æˆåŠŸ&quot;;</span><br><span class="line">        setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">          $btn.style.background &#x3D; &quot;green&quot;;</span><br><span class="line">          $btn.innerHTML &#x3D; &quot;å¤åˆ¶&quot;;</span><br><span class="line">        &#125;, 3000);</span><br><span class="line">        isclick &#x3D; true;</span><br><span class="line">        setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">          isclick &#x3D; false;</span><br><span class="line">        &#125;, 3000);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>


<p>å—¯ï¼Œæ²¡æƒ³åˆ°æœ€åçš„æ•ˆæœï¼ŒçœŸé¦™ã€‚ã€‚ã€‚ï¼</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220417093413.gif" alt="20220417093413"></p>
<hr>
<h3 id="æ„Ÿè§¦"><a href="#æ„Ÿè§¦" class="headerlink" title="æ„Ÿè§¦"></a>æ„Ÿè§¦</h3><p>ç±»ä¼¼äºè¿™ç§å‰ç«¯æ“ä½œçš„æ’ä»¶ï¼Œé™¤äº†æ²¹çŒ´è„šæœ¬ï¼Œè¿˜æœ‰Chromeæµè§ˆå™¨æ’ä»¶ã€‚çœŸçš„æ˜¯èƒ½ä¸ºæˆ‘ä»¬åœ¨é¢å¯¹ä¸€äº›ç®€å•é‡å¤æ€§çš„å·¥ä½œæ—¶æä¾›å¾ˆå¤§çš„å¸®åŠ©ã€‚</p>
<p>æƒ³èµ·å‰ä¸ä¹…å…¬å¸é¢†å¯¼è®©æˆ‘å¸®å¿™ç¾åŒ–ä¸€ä¸‹ç½‘é¡µï¼Œå½“æ—¶ç»™å‡ºçš„æ–¹æ³•æ˜¯åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­é€šè¿‡jsä»£ç æ¥è¾¾åˆ°æƒ³è¦çš„æ•ˆæœï¼Œè™½ç„¶èƒ½å®ç°ï¼Œä½†æ“ä½œèµ·æ¥å°±æ¯”è¾ƒå¤æ‚ã€‚ç°åœ¨æƒ³æƒ³ï¼Œç€å®æœ‰äº›æƒ­æ„§äº†ã€‚</p>
<p>è‡ªæ­¤ï¼Œä¹Ÿç®—è¿ˆå‡ºäº†æˆ‘å­¦ä¹ å¼€å‘æµè§ˆå™¨æ’ä»¶çš„ç¬¬ä¸€æ­¥ã€‚</p>
<hr>
<h3 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h3><p>åç»­çš„æ›´æ–°å¯ä»¥æŸ¥çœ‹ç›¸å…³ä»£ç åº“ï¼š</p>
<ul>
<li><a href="https://github.com/leafney/x-userScript" target="_blank" rel="noopener">leafney/x-userScript: TampermonkeyScript æ²¹çŒ´è„šæœ¬</a> </li>
</ul>
<hr>
<h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><ul>
<li><a href="https://greasyfork.org/zh-CN/scripts/443317-via-%E5%A4%8D%E5%88%B6markdown%E9%93%BE%E6%8E%A5" target="_blank" rel="noopener">via-å¤åˆ¶markdowné“¾æ¥</a></li>
<li><a href="https://www.cnblogs.com/sherryweb/p/11591953.html" target="_blank" rel="noopener">jsåˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦åœ¨iframeé‡Œé¢ - æ˜Ÿç©ºé£˜æ¸º - åšå®¢å›­</a></li>
</ul>
]]></content>
      <categories>
        <category>æµè§ˆå™¨æ’ä»¶</category>
      </categories>
      <tags>
        <tag>Tampermonkey</tag>
      </tags>
  </entry>
  <entry>
    <title>å†™åœ¨Giteeå›¾åºŠæŒ‚äº†ä¹‹å</title>
    <url>/2022/03/27/gitee-images-game-over/</url>
    <content><![CDATA[<h3 id="ç¼˜èµ·"><a href="#ç¼˜èµ·" class="headerlink" title="ç¼˜èµ·"></a>ç¼˜èµ·</h3><p>å¤§æ—©ä¸Šçš„åˆ·å¤´æ¡è¯´giteeå›¾åºŠæŒ‚äº†ï¼ŒæƒŠå¾—æˆ‘ç«‹é©¬èµ·åºŠæ‰“å¼€ç”µè„‘å»çœ‹æˆ‘çš„åšå®¢ï¼Œæœç„¶å¦‚æ­¤ï¼Œå›¾ç‰‡éƒ½æ‰“ä¸å¼€äº†ï¼Œå°†å›¾ç‰‡é“¾æ¥ç›´æ¥åœ¨æµè§ˆå™¨æ‰“å¼€åæ˜¾ç¤ºçš„å´æ˜¯giteeçš„logoï¼Œæˆ‘æ“¦ã€‚ã€‚ã€‚</p>
<p>æƒ³èµ·å»å¹´çš„æ—¶å€™giteeå°±æ›¾æè¿‡è¿™ä¹ˆä¸€å‡ºï¼Œä¹Ÿæ˜¯å›¾ç‰‡æ— æ³•å¤–é“¾è®¿é—®ï¼Œåæ¥è¿‡äº†å‡ å¤©è‡ªå·±å¥½äº†ï¼Œå½“æ—¶æˆ‘ä¹Ÿå°±æ²¡å¤ªåœ¨æ„ã€‚</p>
<p>æ¯•ç«Ÿç™½å«–çš„ï¼Œå’±ä¹Ÿä¸å¥½éª‚äººä¸æ˜¯ï¼Œè¿˜æ˜¯èµ¶ç´§æƒ³æƒ³è§£å†³æ–¹æ³•å§</p>
<hr>
<h3 id="é“ºå«"><a href="#é“ºå«" class="headerlink" title="é“ºå«"></a>é“ºå«</h3><p>çœ‹åˆ°ç½‘å‹ä»¬çš„è§£å†³åŠæ³•ï¼Œä¹Ÿå°±æ˜¯ä¸‹é¢çš„å‡ ç§ï¼š</p>
<ul>
<li>ä¸ƒç‰›äº‘</li>
<li>é˜¿é‡Œäº‘oss/è…¾è®¯äº‘oss</li>
<li>github</li>
</ul>
<p>å½“ç„¶è¿˜æœ‰å…¶ä»–çš„æˆ‘å°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†ã€‚</p>
<p>å—¯ï¼Œè¿˜æ˜¯è¯´è¯´æˆ‘è‡ªå·±çš„è§£å†³æ–¹æ³•å§ã€‚</p>
<p>æˆ‘ä¹‹å‰å°±æ˜¯ç”¨çš„ä¸ƒç‰›äº‘ï¼Œæ€ä¹ˆè¯´å‘¢ï¼Œä½ åˆ«çœ‹ä»€ä¹ˆæ¯ä¸ªæœˆç»™ä½ å…è´¹10Gçš„æµé‡ï¼Œä½†ä¸€ç»†çœ‹å…¶å®æ˜¯åªæœ‰httpåŸŸåæ‰å…æµé‡ï¼Œè€Œhttpså¹¶ä¸æ˜¯å…è´¹çš„ã€‚æˆ‘ä¹‹å‰æ˜¯ç”¨çš„è‡ªå·±çš„åŸŸåï¼Œç„¶åç”³è¯·çš„httpsè¯ä¹¦ã€‚éº»çƒ¦çš„åœ°æ–¹å°±æ˜¯æ¯éš”ä¸‰ä¸ªæœˆéœ€è¦æ‰‹åŠ¨çš„æ›´æ¢ä¸€æ¬¡httpsè¯ä¹¦ã€‚å¦‚æœå¿˜è®°äº†æ›´æ”¹é‚£å›¾ç‰‡å°±è®¿é—®ä¸äº†äº†ã€‚</p>
<p>ä¸ƒç‰›äº‘ä¸»è¦çš„æ‰£è´¹ç‚¹è¿˜æ˜¯httpsçš„æµé‡è´¹ï¼Œæ¯ä¸ªæœˆåšå®¢è®¿é—®é‡å°‘çš„è¯å¤§æ¦‚10å—é’±ä»¥å†…å§ï¼Œå…·ä½“è¿˜æ˜¯è¦çœ‹ä½ çš„å›¾ç‰‡è¯·æ±‚é‡å¤šå°‘æ¥ç®—ã€‚</p>
<p>åæ¥å°±æ¢åˆ°äº†giteeä»“åº“ã€‚å½“æ—¶æ²¡è€ƒè™‘ç”¨githubçš„åŸå› è¿˜æ˜¯ â€œä¼—æ‰€å‘¨çŸ¥â€ ä½ æ‡‚å¾—ã€‚</p>
<p>å¯¹äºossæ¥è¯´ï¼Œä¸ªäººæ˜¯æ„Ÿè§‰å¤ªé‡äº†ã€‚ä¸è¿‡èŠ±é’±ä¹°å®‰å¿ƒï¼Œä¹Ÿç®—æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</p>
<p>ä¸è¿‡è¿™é‡Œæˆ‘éœ€è¦æé†’ä¸€ç‚¹ï¼Œä½ è´­ä¹°æ—¶èŠ±çš„é’±ä»…ä»…æ˜¯å®¹é‡è´¹ï¼Œåç»­çš„ä½¿ç”¨æ˜¯éœ€è¦èŠ±æµé‡è´¹çš„ã€‚è€Œæµé‡è´¹å¯ä¸æ˜¯ä¸€ç¬”å°æ•°ç›®ã€‚å»ºè®®å¯ä»¥ä½“éªŒå‡ ä¸ªæœˆåå†ä¸‹å†³å¿ƒä½¿ç”¨ã€‚</p>
<p>æœ€åçœ‹äº†ä¸€ä¸‹å‘ç° <code>Github+jsDelivr</code> å®ç°å›¾åºŠçš„æ–¹æ³•ï¼Œå¯¹äºç™½å«–å…šæ¥è¯´åº”è¯¥ç®—æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©äº†ã€‚</p>
<hr>
<h3 id="é«˜æ½®"><a href="#é«˜æ½®" class="headerlink" title="é«˜æ½®"></a>é«˜æ½®</h3><p>é…ç½®æ–¹æ³•æ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œæˆ‘å°±ä¸è¯¦ç»†çš„è¯´äº†ã€‚</p>
<p>æˆ‘ä½¿ç”¨çš„å›¾ç‰‡ä¸Šä¼ å·¥å…·æ˜¯ <code>[uPic](https://github.com/gee1k/uPic)</code> ç›¸æ¯”èµ· <code>PicGo</code> çš„è¯æ”¯æŒé…ç½®å¤šä¸ªç›®å½•æ¥åº”å¯¹å¤šç§åœºæ™¯ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220327160636.png" alt="20220327160636"></p>
<p>åˆšåˆšçœ‹åˆ°æœ‰äººè¯„è®ºè¯´giteeä»“åº“çš„å›¾ç‰‡åˆå¯ä»¥æŸ¥çœ‹äº†ï¼Œå¯æƒœå‘€ã€‚ã€‚ã€‚æˆ‘å·²ç» <code>åˆ åº“è·‘è·¯</code> äº†ã€‚</p>
<hr>
<h3 id="å°¾å£°"><a href="#å°¾å£°" class="headerlink" title="å°¾å£°"></a>å°¾å£°</h3><p>æœ€åè¿˜æƒ³æ„Ÿæ…¨ä¸€å¥ï¼š</p>
<p>å¸Œæœ›å›½å†…çš„å„ä¸ªå¤§å‚åœ¨æ”¶å‰²ç”¨æˆ·éŸ­èœçš„æ—¶å€™ï¼Œèƒ½å¤Ÿæ‰‹ä¸‹ç•™æƒ…ä¸€ç‚¹ï¼Œä¸è¦æ€»æ˜¯ <code>è€çŒ´</code> ã€‚</p>
]]></content>
      <tags>
        <tag>Gitee</tag>
      </tags>
  </entry>
  <entry>
    <title>Golangä¸­MapæŒ‰ç…§Valueå¤§å°æ’åº</title>
    <url>/2022/03/09/golang-map-sorted-by-value/</url>
    <content><![CDATA[<p>Golangä¸­çš„ <code>map</code> é»˜è®¤æ˜¯ <code>æ— åºçš„</code> ã€‚</p>
<hr>
<h3 id="èµ·å› "><a href="#èµ·å› " class="headerlink" title="èµ·å› "></a>èµ·å› </h3><p>æœ€è¿‘é¡¹ç›®ä¸­æœ‰è¿™æ ·ä¸€ä¸ªéœ€æ±‚ï¼š</p>
<blockquote>
<p>æ ¹æ®ç”¨æˆ·å½“å‰çš„åæ ‡ç‚¹ï¼Œè·å–è¯¥ç”¨æˆ·é™„è¿‘çš„é¢„è®¾åŸå¸‚åç§°ã€‚</p>
</blockquote>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªæ³¨æ„ç‚¹æ˜¯ï¼Œå‡è®¾è¿™äº›æ”¯æŒçš„åŸå¸‚åç§°æ˜¯é¢„è®¾çš„ï¼Œæ‰€ä»¥å°±ä¸èƒ½ç›´æ¥é€šè¿‡åœ°å›¾ç±»apiæ ¹æ®åæ ‡ç‚¹è·å–æ‰€åœ¨åŸå¸‚åç§°äº†ã€‚</p>
<p>æƒ³åˆ°çš„è§£å†³æ€è·¯æ˜¯ï¼š</p>
<ol>
<li>è·å–è¿™å‡ ä¸ªé¢„è®¾åŸå¸‚çš„åæ ‡ç‚¹</li>
<li>Appç«¯è·å–ç”¨æˆ·å½“å‰åæ ‡ç‚¹</li>
<li>åˆ†åˆ«è®¡ç®—å¾—åˆ°è¯¥ç”¨æˆ·åæ ‡ç‚¹è·ç¦»å„ä¸ªé¢„è®¾åŸå¸‚çš„åæ ‡ç‚¹è·ç¦»</li>
<li>ç„¶åè®¡ç®—å¾—åˆ°å…¶ä¸­è·ç¦»æœ€å°çš„ä¸€é¡¹</li>
<li>è¿™ä¸ªåæ ‡ç‚¹å¯¹åº”çš„åŸå¸‚å°±æ˜¯æ‰€æ±‚</li>
</ol>
<hr>
<h3 id="æ¢ç´¢"><a href="#æ¢ç´¢" class="headerlink" title="æ¢ç´¢"></a>æ¢ç´¢</h3><p>ç»è¿‡å‰æœŸè®¡ç®—ï¼Œåœ¨ä¸Šé¢çš„ç¬¬ <code>3</code> æ­¥æ“ä½œåæˆ‘å¾—åˆ°äº†ä¸‹é¢çš„ç»“æœï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">result := <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">float64</span>&#123;  </span><br><span class="line">   <span class="string">"åŸå¸‚A"</span>: <span class="number">2334.20</span>,  </span><br><span class="line"> <span class="string">"åŸå¸‚B"</span>: <span class="number">1992.33</span>,  </span><br><span class="line"> <span class="string">"åŸå¸‚C"</span>: <span class="number">500.26</span>,  </span><br><span class="line"> <span class="string">"åŸå¸‚D"</span>: <span class="number">10.39</span>,  </span><br><span class="line"> <span class="string">"åŸå¸‚E"</span>: <span class="number">333.33</span>,  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬çŸ¥é“ï¼ŒGolangä¸­ <code>Map</code> æ˜¯ <code>æ— åºçš„</code> ã€‚æ‰€ä»¥å½“æˆ‘ä»¬ä½¿ç”¨ <code>for-range</code> å¾ªç¯æ—¶ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> k, v := <span class="keyword">range</span> result &#123;  </span><br><span class="line">   fmt.Printf(<span class="string">"key: %v value: %v \n"</span>, k, v)  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»“æœå¯èƒ½æ˜¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; ç¬¬ä¸€ç§å¯èƒ½ç»“æœï¼š</span><br><span class="line">key: åŸå¸‚B value: 1992.33 </span><br><span class="line">key: åŸå¸‚C value: 500.26 </span><br><span class="line">key: åŸå¸‚D value: 10.39 </span><br><span class="line">key: åŸå¸‚E value: 333.33 </span><br><span class="line">key: åŸå¸‚A value: 2334.2 </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç¬¬äºŒç§å¯èƒ½ç»“æœï¼š</span><br><span class="line">key: åŸå¸‚E value: 333.33 </span><br><span class="line">key: åŸå¸‚A value: 2334.2 </span><br><span class="line">key: åŸå¸‚B value: 1992.33 </span><br><span class="line">key: åŸå¸‚C value: 500.26 </span><br><span class="line">key: åŸå¸‚D value: 10.39 </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç¬¬ä¸‰ç§å¯èƒ½ç»“æœï¼š</span><br><span class="line">key: åŸå¸‚E value: 333.33 </span><br><span class="line">key: åŸå¸‚A value: 2334.2 </span><br><span class="line">key: åŸå¸‚B value: 1992.33 </span><br><span class="line">key: åŸå¸‚C value: 500.26 </span><br><span class="line">key: åŸå¸‚D value: 10.39</span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¸èƒ½æŒ‰ç…§ <code>key</code> æˆ–è€… <code>value</code> æ¥è¿›è¡Œæ’åºã€‚</p>
<hr>
<h3 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h3><p>ä½†Golangä¸­åˆ‡ç‰‡ <code>Slice</code> æ˜¯ <code>æœ‰åºçš„</code>ã€‚ æˆ‘ä»¬å¯ä»¥ç»“æœä½¿ç”¨ <code>Slice</code> æ¥å®ç°å¯¹ <code>Map</code> çš„æ’åºã€‚</p>
<h4 id="ç¬¬ä¸€æ­¥"><a href="#ç¬¬ä¸€æ­¥" class="headerlink" title="ç¬¬ä¸€æ­¥"></a>ç¬¬ä¸€æ­¥</h4><p>æˆ‘ä»¬å…ˆå°†ä¸Šé¢çš„ <code>map</code> è½¬æ¢æˆä¸€ä¸ª <code>slice</code> :</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> KVPair <span class="keyword">struct</span> &#123;  </span><br><span class="line">   Key <span class="keyword">string</span>  </span><br><span class="line"> Val <span class="keyword">float64</span>  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">tmpList := <span class="built_in">make</span>([]KVPair, <span class="number">0</span>)  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">for</span> k, v := <span class="keyword">range</span> result &#123;  </span><br><span class="line">   tmpList = <span class="built_in">append</span>(tmpList, KVPair&#123;Key: k, Val: v&#125;)  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢åˆ›å»ºäº†ä¸€ä¸ª <code>ç»“æ„ä½“åˆ‡ç‰‡</code> ï¼Œç„¶åå°† <code>map</code> çš„å€¼æ·»åŠ åˆ°åˆ‡ç‰‡ä¸­ã€‚</p>
<h4 id="ç¬¬äºŒæ­¥"><a href="#ç¬¬äºŒæ­¥" class="headerlink" title="ç¬¬äºŒæ­¥"></a>ç¬¬äºŒæ­¥</h4><p>åœ¨ <code>go1.8</code> ä¹‹åï¼Œå¼•å…¥äº† <code>sort.Slice()</code>  æ–¹æ³•ï¼Œå¯ä»¥å®ç°å¯¹ <code>slice</code> è¿›è¡Œæ’åºï¼Œæˆ‘ä»¬åªéœ€è¦ä¼ å…¥ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°å³å¯ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">sort.Slice(tmpList, <span class="function"><span class="keyword">func</span><span class="params">(i, j <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;  </span><br><span class="line">   <span class="keyword">return</span> tmpList[i].Val &lt; tmpList[j].Val <span class="comment">// å‡åº  </span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


<h4 id="ç¬¬ä¸‰æ­¥"><a href="#ç¬¬ä¸‰æ­¥" class="headerlink" title="ç¬¬ä¸‰æ­¥"></a>ç¬¬ä¸‰æ­¥</h4><p>ç„¶åï¼Œæˆ‘ä»¬å¯¹æ’åºåçš„ <code>slice</code> è¿›è¡Œ <code>for-range</code> éå†ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> _, pair := <span class="keyword">range</span> tmpList &#123;  </span><br><span class="line">   fmt.Printf(<span class="string">"key: %v value: %v \n"</span>, pair.Key, pair.Val)  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»“æœï¼š</span></span><br><span class="line">key: åŸå¸‚D value: <span class="number">10.39</span> </span><br><span class="line">key: åŸå¸‚E value: <span class="number">333.33</span> </span><br><span class="line">key: åŸå¸‚C value: <span class="number">500.26</span> </span><br><span class="line">key: åŸå¸‚B value: <span class="number">1992.33</span> </span><br><span class="line">key: åŸå¸‚A value: <span class="number">2334.2</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œæ’åºåçš„ <code>slice</code>  ç¬¬ä¸€é¡¹å°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚</p>
<p>å¦‚æœæˆ‘ä»¬æƒ³è¦è·å–å…¶ä¸­ <code>value</code> å€¼æœ€å¤§çš„ä¸€é¡¹ï¼Œåªéœ€è¦æ›´æ”¹ <code>sort.Slice</code> ä¸­çš„æ¯”è¾ƒæ–¹æ³•æ¥å£ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">sort.Slice(tmpList, <span class="function"><span class="keyword">func</span><span class="params">(i, j <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;  </span><br><span class="line">   <span class="keyword">return</span> tmpList[i].Val &gt; tmpList[j].Val <span class="comment">// é™åº  </span></span><br><span class="line"> <span class="comment">//return tmpList[i].Val &lt; tmpList[j].Val // å‡åº&#125;)</span></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ä¸Šé¢æµ‹è¯•çš„å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> main  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">   <span class="string">"fmt"</span>  </span><br><span class="line"> <span class="string">"sort"</span>)  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">var</span> result = <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">float64</span>&#123;  </span><br><span class="line">   <span class="string">"åŸå¸‚A"</span>: <span class="number">2334.20</span>,  </span><br><span class="line"> <span class="string">"åŸå¸‚B"</span>: <span class="number">1992.33</span>,  </span><br><span class="line"> <span class="string">"åŸå¸‚C"</span>: <span class="number">500.26</span>,  </span><br><span class="line"> <span class="string">"åŸå¸‚D"</span>: <span class="number">10.39</span>,  </span><br><span class="line"> <span class="string">"åŸå¸‚E"</span>: <span class="number">333.33</span>,  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">type</span> KVPair <span class="keyword">struct</span> &#123;  </span><br><span class="line">      Key <span class="keyword">string</span>  </span><br><span class="line">	  Val <span class="keyword">float64</span>  </span><br><span class="line">   &#125;  </span><br><span class="line">  </span><br><span class="line">   tmpList := <span class="built_in">make</span>([]KVPair, <span class="number">0</span>)  </span><br><span class="line">  </span><br><span class="line">   <span class="keyword">for</span> k, v := <span class="keyword">range</span> result &#123;  </span><br><span class="line">      tmpList = <span class="built_in">append</span>(tmpList, KVPair&#123;Key: k, Val: v&#125;)  </span><br><span class="line">   &#125;  </span><br><span class="line">  </span><br><span class="line">   sort.Slice(tmpList, <span class="function"><span class="keyword">func</span><span class="params">(i, j <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;  </span><br><span class="line">      <span class="comment">//return tmpList[i].Val &gt; tmpList[j].Val // é™åº  </span></span><br><span class="line">      <span class="keyword">return</span> tmpList[i].Val &lt; tmpList[j].Val <span class="comment">// å‡åº </span></span><br><span class="line">   &#125;)  </span><br><span class="line">  </span><br><span class="line">   <span class="keyword">for</span> _, pair := <span class="keyword">range</span> tmpList &#123;  </span><br><span class="line">      fmt.Printf(<span class="string">"key: %v value: %v \n"</span>, pair.Key, pair.Val)  </span><br><span class="line">   &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
]]></content>
      <categories>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>Golang</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨Golangä¸­ç”¨å¤šä¸ªåˆ†éš”ç¬¦æ‹†åˆ†å­—ç¬¦ä¸²</title>
    <url>/2022/03/08/golang-split-string/</url>
    <content><![CDATA[<h3 id="é‡åˆ°é—®é¢˜"><a href="#é‡åˆ°é—®é¢˜" class="headerlink" title="é‡åˆ°é—®é¢˜"></a>é‡åˆ°é—®é¢˜</h3><p>Golang ä¸­é»˜è®¤çš„ <code>strings.Split</code> æ–¹æ³•å¯¹äºå­—ç¬¦ä¸²åˆ†éš”çš„èƒ½åŠ›æœ‰é™ï¼Œä»…æ”¯æŒä¸€æ¬¡å¯¹å•ä¸ªåˆ†éš”ç¬¦è¿›è¡Œæ“ä½œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">s :&#x3D; &quot;11111|2222||3333||4444|&quot;  </span><br><span class="line">seps :&#x3D; &quot;|&quot;  </span><br><span class="line">rs :&#x3D; strings.Split(s, seps)  </span><br><span class="line">fmt.Println(rs)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; [11111 2222  3333  4444 ]</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæƒ³è¦ä¸€æ¬¡å¤„ç†å¤šä¸ªåˆ†éš”ç¬¦çš„æƒ…å†µï¼Œä½¿ç”¨ <code>strings.Split</code> å°±ä¼šå‡ºé”™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">s :&#x3D; &quot;11111|2222||3333,4444,,555&quot;  </span><br><span class="line">seps :&#x3D; &quot;,|&quot;  </span><br><span class="line">rs :&#x3D; strings.Split(s, seps)  </span><br><span class="line">fmt.Println(rs)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; [11111|2222||3333,4444,,555]</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°å¹¶æ²¡æœ‰å¯¹å­—ç¬¦ä¸²åšå¤„ç†ï¼Œç›´æ¥è¿”å›äº†ã€‚</p>
<p>å¦‚æœæƒ³è¦æ”¯æŒå¤šä¸ªåˆ†éš”ç¬¦ï¼Œåˆ™éœ€è¦åˆ†åˆ«è¿›è¡Œå¤„ç†ã€‚</p>
<p>è€Œä¸”è¿˜æœ‰ä¸€ç‚¹ï¼Œ<code>Split</code> å¯¹äº <code>ä¸ºç©º</code> çš„æƒ…å†µå¹¶ä¸èƒ½è‡ªè¡Œå¤„ç†ã€‚å¦‚ä¸Šé¢ç¬¬ä¸€ä¸ªç¤ºä¾‹ï¼Œå¯ä»¥çœ‹åˆ°è¾“å‡ºçš„ç»“æœä¸­æ˜¯æœ‰ç©ºå†…å®¹å­˜åœ¨çš„ã€‚</p>
<hr>
<h3 id="å¦‚ä½•è§£å†³"><a href="#å¦‚ä½•è§£å†³" class="headerlink" title="å¦‚ä½•è§£å†³"></a>å¦‚ä½•è§£å†³</h3><p>é‡åˆ°è¿™ç§æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨ <code>strings</code>  ä¸­å¦ä¸€ä¸ªæ–¹æ³• <code>strings.FieldsFunc</code> æ¥è¿›è¡Œå¤„ç†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">s :&#x3D; &quot;11111|2222||3333,4444,,555&quot;  </span><br><span class="line">seps :&#x3D; &quot;,|&quot;</span><br><span class="line">rs2 :&#x3D; strings.FieldsFunc(s, func(r rune) bool &#123;  </span><br><span class="line">   return strings.ContainsRune(seps, r)  </span><br><span class="line">&#125;)  </span><br><span class="line">fmt.Println(rs2)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; [11111 2222 3333 4444 555]</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°å¾—åˆ°äº†æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚å¦å¤–ï¼Œå…¶ä¸­çš„ <code>ContainsRune</code> æ–¹æ³•ä¹Ÿè‡ªåŠ¨å¯¹ <code>ç©ºå†…å®¹</code> è¿›è¡Œäº†è¿‡æ»¤ã€‚</p>
<p>å¦å¤–ï¼Œå¯¹äºå…¶ä¸­çš„å¤„ç†å‡½æ•°   <code>func(r rune) bool {}</code> æˆ‘ä»¬ä¹Ÿå¯ä»¥ä»»æ„æ›´æ”¹æ“ä½œé€»è¾‘ï¼Œä»¥åº”å¯¹ä¸åŒçš„éœ€æ±‚ã€‚</p>
<hr>
<h3 id="æ·±å…¥æ¢ç©¶"><a href="#æ·±å…¥æ¢ç©¶" class="headerlink" title="æ·±å…¥æ¢ç©¶"></a>æ·±å…¥æ¢ç©¶</h3><blockquote>
<p>Golangä¸­çš„<strong>strings.FieldsFuncï¼ˆï¼‰å‡½æ•°</strong>ç”¨äºåœ¨æ¯æ¬¡è¿è¡Œæ»¡è¶³ <code>f(c)</code> çš„Unicodeä»£ç ç‚¹ <code>c</code> æ—¶æ‹†åˆ†ç»™å®šçš„å­—ç¬¦ä¸²strï¼Œå¹¶è¿”å›ç”±strç»„æˆçš„åˆ‡ç‰‡æ•°ç»„ã€‚</p>
</blockquote>
<p>ç›¸åº”çš„è¯­æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func FieldsFuncï¼ˆstr stringï¼Œf funcï¼ˆrune boolï¼‰[] string</span><br></pre></td></tr></table></figure>

<p>è¿”å›å€¼ï¼šå¦‚æœsträ¸­çš„æ‰€æœ‰ä»£ç ç‚¹éƒ½æ»¡è¶³ <code>f(c)</code> æˆ–å­—ç¬¦ä¸²ä¸ºç©ºï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºç‰‡ã€‚</p>
<p>å†ä¸¾ä¸€ä¸ªç¤ºä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">f :&#x3D; func(c rune) bool &#123;  </span><br><span class="line">   return unicode.IsNumber(c)  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">res :&#x3D; strings.FieldsFunc(&quot;ABC13DEF556&quot;, f)  </span><br><span class="line">fmt.Println(res)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; [ABC DEF]</span><br></pre></td></tr></table></figure>


<hr>
<h3 id="æ•´ç†"><a href="#æ•´ç†" class="headerlink" title="æ•´ç†"></a>æ•´ç†</h3><p>å°†å…¶æ•´ç†æˆä¸€ä¸ªå·¥å…·æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; å¯¹å­—ç¬¦ä¸²ä½¿ç”¨ä»»æ„å­—ç¬¦åˆ†éš”  </span><br><span class="line">func StrSplitAny(s string, seps string) []string &#123;  </span><br><span class="line">   splitter :&#x3D; func(r rune) bool &#123;  </span><br><span class="line">      return strings.ContainsRune(seps, r)  </span><br><span class="line">   &#125;  </span><br><span class="line">   return strings.FieldsFunc(s, splitter)  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<hr>
<h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><ul>
<li><a href="https://www.thinbug.com/q/39862613" target="_blank" rel="noopener">å¦‚ä½•åœ¨Golangä¸­ç”¨å¤šä¸ªåˆ†éš”ç¬¦æ‹†åˆ†å­—ç¬¦ä¸²ï¼Ÿ - Thinbug</a></li>
</ul>
]]></content>
      <categories>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>Golang</tag>
      </tags>
  </entry>
  <entry>
    <title>èŒåœºç”Ÿå­˜ç¬¬ä¸€æ³•åˆ™ï¼šäº‹äº‹æœ‰å›åº”ï¼Œä»¶ä»¶æœ‰ç€è½</title>
    <url>/2022/02/26/everything-has-a-response/</url>
    <content><![CDATA[<p>èŠèŠæœ€è¿‘å·¥ä½œä¸­é‡åˆ°çš„ä¸€ä»¶å°äº‹ã€‚</p>
<p>æœ€è¿‘æŠ€æœ¯ç»„éœ€è¦å’Œå…¬å¸çš„æŸä¸ªé¡¹ç›®å›¢é˜Ÿå¯¹æ¥ï¼Œè™½ç„¶æˆ‘ä¸æ˜¯ä¸»è¦çš„ç›¸å…³å¼€å‘äººå‘˜ï¼Œä½†ä¹Ÿæ¶‰åŠåˆ°å°‘é‡ä¸´æ—¶æ€§çš„ä»»åŠ¡ã€‚</p>
<p>åœ¨å’Œè¯¥å›¢é˜Ÿäººå‘˜æ²Ÿé€šæ—¶ï¼Œå´é‡åˆ°äº†è®©æˆ‘è§‰å¾—å¾ˆæ— å¥ˆçš„äº‹æƒ…ã€‚</p>
<p>å½“å¤©æ˜¯å‘¨äº”ï¼Œæˆ‘åœ¨å®Œæˆäº¤ä»£ç»™æˆ‘çš„ä»»åŠ¡åï¼Œåœ¨é£ä¹¦çš„æ²Ÿé€šç¾¤é‡Œ@äº†ç›¸å…³çš„äº§å“äººå‘˜æ¥è¿›è¡Œæ ¸éªŒå·¥ä½œï¼Œä½†å¯¹æ–¹å½“æ—¶å¹¶æ²¡æœ‰ç«‹å³å›å¤æˆ‘ã€‚</p>
<p>å› ä¸ºæ‰‹å¤´ä¸Šè¿˜æœ‰å…¶ä»–çš„å¼€å‘ä»»åŠ¡åœ¨æ’é˜Ÿï¼Œçœ‹åˆ°å¯¹æ–¹æ²¡æœ‰å›å¤ï¼Œå½“æ—¶ä¹Ÿå°±æ²¡å¤ªåœ¨æ„ã€‚æ‰€ä»¥æˆ‘å°±å»ç»§ç»­åšå…¶ä»–çš„ä»»åŠ¡äº†ã€‚</p>
<p>è¿‡äº†å¤§çº¦åŠä¸ªå°æ—¶åï¼Œæˆ‘çœ‹æ²Ÿé€šç¾¤é‡Œè¿˜æ˜¯æ²¡æœ‰åŠ¨é™ï¼Œæˆ‘å°±è·Ÿæˆ‘çš„é¢†å¯¼æ±‡æŠ¥äº†ä¸€ä¸‹ï¼Œè®©é¢†å¯¼è·Ÿè¯¥é¡¹ç›®çš„é¢†å¯¼ä¹Ÿå¥½æœ‰ä¸ªäº¤ä»£ã€‚é¢†å¯¼å°±åœ¨ç¾¤é‡ŒåŒæ—¶@äº†è¯¥é¡¹ç›®çš„é¢†å¯¼å’Œäº§å“äººå‘˜ï¼Œçœ‹çœ‹æ˜¯å¦æ»¡è¶³è¦æ±‚ï¼Œæœ‰ä»€ä¹ˆéœ€è¦ä¿®æ”¹çš„åœ°æ–¹ã€‚å‡ åˆ†é’Ÿåé‚£è¾¹çš„äº§å“äººå‘˜å›å¤äº†ä¸€å¥ â€œå¥½çš„â€ ã€‚</p>
<p>ç›´åˆ°å‘¨ä¸€ä¸Šç­åæˆ‘ä»¬æŠ€æœ¯å›¢é˜Ÿå¼€ä¾‹ä¼šçš„æ—¶å€™ï¼Œé¢†å¯¼é—®æˆ‘ä¸Šå‘¨äº”æ˜¯å¦å¾—åˆ°äº†åé¦ˆï¼Œæ˜¯å¦æ»¡è¶³äº†ä»–ä»¬çš„éœ€æ±‚ã€‚æˆ‘ç­”å¤è¯´ï¼Œé‚£è¾¹äº§å“åœ¨å›å¤äº†ä¸€å¥ â€œå¥½çš„â€ ä¹‹åå°±æ²¡ä¸‹æ–‡äº†ï¼Œæˆ‘ä¼°è®¡æ˜¯æ²¡ä»€ä¹ˆé—®é¢˜äº†ï¼Œè¦æœ‰é—®é¢˜çš„è¯æ—©å°±æ‰¾æˆ‘æ¥äº†ã€‚ç„¶åæˆ‘è¿˜æ‰“è¶£çš„è¯´æˆ‘çš„æŠ€æœ¯èƒ½åŠ›å¯æ˜¯æ æ çš„ã€‚</p>
<p>å…¶å®è¿™ä¸ªæ—¶å€™æˆ‘æ˜¯æ¯”è¾ƒæ…Œçš„ï¼Œå› ä¸ºè¿™ä¸ªä»»åŠ¡å½“æ—¶äº¤ä»£ç»™æˆ‘çš„æ—¶å€™ç®—æ˜¯ä¸´æ—¶æ€§çš„ï¼Œå› ä¸ºæ¯”è¾ƒç®€å•ï¼Œéœ€æ±‚ä¹Ÿåªæ˜¯æˆ‘çš„é¢†å¯¼è·Ÿæˆ‘è¯´çš„ï¼Œå¹¶æ²¡æœ‰å’Œè¯¥å›¢é˜Ÿçš„äººå‘˜è¿›è¡Œè¿‡ä»»ä½•çš„æ²Ÿé€šã€‚æ‰€ä»¥æˆ‘çŸ¥é“ä¼šæœ‰ä¸€äº›é—®é¢˜ï¼Œä¹Ÿæƒ³å¥½äº†è¦ç•™å‡ºä¸€äº›æ—¶é—´æ¥è¿›è¡Œä¿®æ”¹ã€‚ä½†æ²¡æƒ³åˆ°çš„æ˜¯å´ä¸€ç›´æ²¡æœ‰å¾—åˆ°ä»»ä½•çš„åé¦ˆã€‚</p>
<p>ç„¶åé¢†å¯¼ä¹Ÿå¾ˆæ— å¥ˆçš„åˆåœ¨ç¾¤é‡Œ@äº†ä¸€ä¸‹è¿™ä¸ªé¡¹ç›®çš„é¢†å¯¼å’Œäº§å“äººå‘˜ï¼Œçœ‹æ˜¯å¦æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿè‡³å°‘å¾—ç»™ä¸ªå›å¤å§â€¦</p>
<p>åœ¨å¾—åˆ°å¯¹æ–¹é¢†å¯¼å’Œäº§å“çš„ç¡®è®¤åï¼Œä¹Ÿç®—æ˜¯ç»ˆäºæœ‰äº†ä¸‹æ–‡ã€‚</p>
<p>ç›´åˆ°å½“å¤©ä¸‹åˆçš„5ç‚¹å¤šï¼Œè¯¥é¡¹ç›®çš„äº§å“äººå‘˜åœ¨ç¾¤é‡Œå‘äº†ä¸€äº›é—®é¢˜@æˆ‘æ¥è¿›è¡Œä¿®æ”¹ï¼Œæˆ‘åœ¨æ”¹å®Œååˆ@äº†ä»–åšæœ€åçš„å®¡æ ¸ã€‚</p>
<p>å¯¹æ–¹å›å¤äº†ä¸ª <code>1</code> ä¹‹åï¼Œåˆæ˜¯æ²¡æœ‰äº†ä¸‹æ–‡â€¦ </p>
<p>æˆ‘æƒ³ï¼Œè¿™ä¸ªäº‹åº”è¯¥ç®—æ˜¯ â€œäº†ç»“â€ äº†å§ã€‚</p>
<p>åæ¥æˆ‘ä»å…¶ä»–åŒäº‹çš„å£ä¸­å¾—çŸ¥ï¼Œè·Ÿæˆ‘å¯¹æ¥çš„è¿™ä¸ªäº§å“æ˜¯ä¸€ä¸ªå®ä¹ ç”Ÿã€‚å¯èƒ½å·¥ä½œç»éªŒä¸å¤ªä¸°å¯Œå§ã€‚</p>
<p>å½“ç„¶æˆ‘å¹¶æ²¡æœ‰æ­§è§†æ–°äººçš„æ„æ€ï¼Œåªæ˜¯æ„Ÿè§‰ä»–çš„å·¥ä½œæ€åº¦æœ‰äº›é‚£å•¥å§ã€‚</p>
<p>å½“æ—¶å°±è®©æˆ‘æƒ³èµ·äº†ä¹‹å‰æˆ‘æ›¾å†™è¿‡çš„ä¸€ç¯‡æ–‡ç«  <a href="/2020/05/20/fengzong-yulu/">ã€Šå†¯æ€»è¯­å½• | ITèŒƒå„¿ã€‹</a> ä¸­çš„ä¸€å¥è¯ <code>å‡¡äº‹æœ‰äº¤ä»£ï¼Œä»¶ä»¶æœ‰ç€è½ï¼Œäº‹äº‹æœ‰å›éŸ³</code> ã€‚ </p>
<p>è¿™ä¸ªæ—¶å€™æˆ‘å¯¹è¿™å¥è¯çœŸçš„æ˜¯æ„Ÿè§¦å¾ˆæ·±å•Šã€‚</p>
<hr>
<p>åˆè®©æˆ‘æƒ³åˆ°äº†å‰å‡ å¤©æœ‹å‹è·Ÿæˆ‘åæ§½è¿‡çš„ä¸€ä»¶äº‹ã€‚ä»–ä»¬å…¬å¸çš„é¡¹ç›®è¿›è¡Œåˆ°äº†æœ€åæ”»åšçš„é˜¶æ®µï¼Œé©¬ä¸Šå°±è¦ä¸Šçº¿äº†ã€‚ä¸»è¦è¿˜æ˜¯è€æ¿å‚¬çš„æ¯”è¾ƒæ€¥å§ï¼Œè¦å»ç»™æŠ•èµ„äººæ¼”ç¤ºä¹‹ç±»çš„ã€‚</p>
<p>å‘¨ä¸€å¼€ä¼šçš„æ—¶å€™å¤§å®¶å¯¹è¿›åº¦ï¼Œä¸»è¦çš„å‡ ä¸ªé—®é¢˜éƒ½é›†ä¸­åœ¨å‰ç«¯å¼€å‘äººå‘˜ä¸Šã€‚é¢†å¯¼é—®ä»–è¿™å‘¨èƒ½ä¸èƒ½å®Œæˆå¹¶ä¸Šçº¿ï¼Œå‰ç«¯ä¹Ÿæ˜¯ä¿¡å¿ƒåè¶³çš„è¯´è‚¯å®šèƒ½ä¸Šçº¿ã€‚ç»“æœåˆ°äº†å‘¨äº”çš„æ—¶å€™æ‰è¯´ä¸è¡Œï¼Œä¸Šä¸äº†ï¼Œbugæ²¡æ”¹å®Œã€‚ç»“æœå°±æ˜¯é¢†å¯¼å¾ˆæ— å¥ˆï¼Œè€æ¿ä¹Ÿå¾ˆæ— è¯­ã€‚</p>
<p>è¿™å°±æ˜¯æœ‰é—®é¢˜ä¸æ—©è¯´å‡ºæ¥ï¼Œç»“æœå¼„çš„ä¸å¯æ”¶æ‹¾çš„åœ°æ­¥æ‰è¯´ã€‚å¦‚æœèƒ½å¤ŸåŠæ—¶çš„è·Ÿé¢†å¯¼åŒæ­¥ä¸€ä¸‹æ¯å¤©çš„è¿›åº¦ï¼Œé‡åˆ°é—®é¢˜ä¹Ÿå¥½èƒ½æƒ³åˆ°æ›´å¤šçš„è§£å†³æ–¹æ³•ï¼Œä¹Ÿä¸è‡³äºåˆ°æœ€åæå¾—å¤§å®¶éƒ½å¾ˆè¢«åŠ¨ï¼Œéƒ½å¾ˆæ— å¥ˆã€‚</p>
<hr>
<p>æƒ³èµ·ä¹‹å‰æˆ‘åˆšå·¥ä½œçš„æ—¶å€™ï¼Œå½“æ—¶çš„é¢†å¯¼å°±è¦æ±‚æˆ‘ä»¬å†™æ—¥æŠ¥ã€å†™å‘¨æŠ¥ã€‚é‚£æ—¶å€™æ˜¯å¾ˆæŠµè§¦çš„ã€‚</p>
<p>å¿ƒæƒ³æ¯å¤©å°±æ˜¯åšé‚£äº›å·¥ä½œå˜›ï¼Œæœ‰ä»€ä¹ˆå¥½å†™çš„ï¼Œè¿å·æ‡’çš„æœºä¼šéƒ½æ²¡æœ‰äº†ã€‚æ„Ÿè§‰æ¯å¤©æœ€å¤´ç–¼çš„å¹¶ä¸æ˜¯å†™ä»£ç ï¼Œè€Œæ˜¯ â€œç»å°½è„‘æ±â€ çš„å†™æ—¥æŠ¥ï¼Œå†™å‘¨æŠ¥ã€‚</p>
<p>ç°åœ¨å›æƒ³èµ·æ¥ï¼Œå…¶å®è¿™å°±æ˜¯ â€œäº‹äº‹æœ‰å›åº”â€ çš„ä¸€ç§ä½“ç°å§ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬ä¸å†™æ—¥æŠ¥ï¼Œé¢†å¯¼å¹¶ä¸çŸ¥é“ä»–äº¤ä»£çš„ä»»åŠ¡æˆ‘ä»¬å®Œæˆåˆ°äº†å“ªä¸€æ­¥ï¼ŒåªçŸ¥é“è¿™ä¸ªä»»åŠ¡æˆ‘äº¤ä»£ä¸‹å»äº†ï¼Œè‡³äºå®Œæˆçš„æ€ä¹ˆæ ·ï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå´æ— ä»çŸ¥æ™“ã€‚</p>
<hr>
<p>å—¯ï¼Œå°±è¿™æ ·å§ã€‚</p>
]]></content>
      <categories>
        <category>äººç”Ÿéšæ„Ÿ</category>
      </categories>
      <tags>
        <tag>äººç”Ÿæ„Ÿæ‚Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>Mysqlä¸­ä½¿ç”¨sum()å‡½æ•°è¿”å›nullçš„é—®é¢˜</title>
    <url>/2022/01/28/mysql-sum-function-return-null/</url>
    <content><![CDATA[<h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ <code>Mysql</code> ä¸­çš„ <code>sum()</code> å‡½æ•°æ±‚å’Œæ—¶ï¼Œè°ƒè¯•æ—¶å‘ç°æŠ¥å‡ºä¸‹é¢çš„é”™è¯¯ä¿¡æ¯ï¼š</p>
<blockquote>
<p>sql: Scan error on column index 0, name &quot;total&quot;: converting NULL to int64 is unsupported</p>
</blockquote>
<p>æˆ‘ç›¸åº”æ‰§è¡Œçš„sqlè¯­å¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">SUM</span>(consume) <span class="keyword">as</span> total <span class="keyword">FROM</span> user_income <span class="keyword">WHERE</span> consume_type=<span class="number">3</span> <span class="keyword">AND</span> uid=<span class="number">20</span>;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h3><p>ä¸ºäº†æ‰¾åˆ°åŸå› ï¼Œæˆ‘åœ¨ <code>Navicat</code> ä¸­æ‰§è¡Œäº†ä¸€éå‡ºé—®é¢˜çš„sqlå’Œå‚æ•°ï¼Œå‘ç°ç»“æœä¸­ç¡®å®æ˜¯è¿”å›äº† <code>null</code> :</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/typora/20220128151226.png" alt="20220128151226"></p>
<p>æŒ‰æˆ‘ä¹‹å‰å¼€å‘æ—¶çš„æƒ³æ³•ï¼š</p>
<ul>
<li>å¦‚æœæœ‰ç›¸åº”çš„æ•°æ®ï¼Œè¿”å›æ±‚å’Œåçš„å€¼</li>
<li>å¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„æ•°æ®ï¼Œè¿”å› <code>0</code></li>
</ul>
<p>ç»“æœï¼Œå½“æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„æ•°æ®æ—¶å´è¿”å›äº† <code>null</code> ã€‚</p>
<hr>
<h3 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h3><p>å¯ä»¥é€šè¿‡ç»“åˆä½¿ç”¨ <code>ISNULL</code> æˆ– <code>COALESCE</code> å‡½æ•°æ¥è§£å†³ã€‚</p>
<p>ç›¸åº”çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">IFNULL</span>(<span class="keyword">SUM</span>(Column1), <span class="number">0</span>) <span class="keyword">AS</span> total FROM...</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">COALESCE</span>(<span class="keyword">SUM</span>(Column1), <span class="number">0</span>) <span class="keyword">AS</span> total FROM...</span><br></pre></td></tr></table></figure>


<hr>
<h3 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h3><p>ä¸Šé¢è¯´é“ï¼Œä½¿ç”¨  <code>ISNULL</code> æˆ– <code>COALESCE</code> å‡½æ•°éƒ½å¯ä»¥è§£å†³ä¸º <code>null</code> çš„é—®é¢˜ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªå‡½æ•°æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p>
<ul>
<li><code>ISNULL</code> å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯ <code>null</code> ä¼šç›´æ¥è¿”å›ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ <code>null</code> ï¼Œåˆ™è¿”å›ç¬¬äºŒä¸ªå‚æ•°</li>
<li><code>COALESCE</code> å‡½æ•°å¯ä»¥æ¥å—ä¸¤ä¸ªæˆ–å¤šä¸ªå‚æ•°ï¼Œå¹¶è¿”å›ç¬¬ä¸€ä¸ªé <code>null</code> çš„å‚æ•°ï¼Œå¦‚æœæ‰€æœ‰å‚æ•°éƒ½ä¸º <code>null</code>ï¼Œåˆ™ä¼šè¿”å› <code>null</code> </li>
</ul>
<hr>
<h3 id="ç»“æœ"><a href="#ç»“æœ" class="headerlink" title="ç»“æœ"></a>ç»“æœ</h3><p>æœ€ç»ˆï¼Œæˆ‘é€‰æ‹©ä½¿ç”¨ <code>ISNULL</code> æ¥è§£å†³ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">IFNULL</span>(<span class="keyword">SUM</span>(consume), <span class="number">0</span>) <span class="keyword">as</span> total <span class="keyword">FROM</span> user_income <span class="keyword">WHERE</span> consume_type=<span class="number">3</span> <span class="keyword">AND</span> uid=<span class="number">20</span>;</span><br></pre></td></tr></table></figure>

<h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><ul>
<li><a href="https://stackoverflow.com/questions/7602271/how-do-i-get-sum-function-in-mysql-to-return-0-if-no-values-are-found" target="_blank" rel="noopener">How do I get SUM function in MySQL to return â€˜0â€™ if no values are found? - Stack Overflow</a></li>
<li><a href="https://stackoverflow.com/questions/18528468/what-is-the-difference-bewteen-ifnull-and-coalesce-in-mysql/43205713" target="_blank" rel="noopener">sql - What is the difference bewteen ifnull and coalesce in mysql? - Stack Overflow</a></li>
</ul>
]]></content>
      <categories>
        <category>å¼€å‘ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>è‹¹æœé’±åŒ…åŒ—äº¬ä¸€å¡é€šåˆ·å¡å†æ¬¡è¢«å¼‚å¸¸æ‰£è´¹å</title>
    <url>/2022/01/18/after-beijing-bus-card-abnormal-deduction/</url>
    <content><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>1æœˆ18æ—¥ï¼Œæœ¬æ¥ä»Šå¤©æ˜¯å¿ƒæƒ…å¾ˆå¥½çš„ä¸€å¤©ï¼Œç»“æœå´é‡åˆ°äº†è¿™ç§ç³Ÿå¿ƒçš„äº‹ã€‚</p>
<p>æœ‹å‹è¯´ä½ è¿™æ˜¯ â€œç ´è´¢å…ç¾â€ äº†ï¼Œä½†æˆ‘æ˜¯ â€œå¿ä¸€æ—¶è¶Šæƒ³è¶Šæ°”ï¼Œé€€ä¸€æ­¥è¶Šæƒ³è¶Šäºâ€ ã€‚</p>
<p>è¿˜æ˜¯å¾—æŠŠè¿™äº‹å” å” ã€‚ã€‚ã€‚</p>
<hr>
<h3 id="ç»è¿‡"><a href="#ç»è¿‡" class="headerlink" title="ç»è¿‡"></a>ç»è¿‡</h3><p>ç°åœ¨å›æƒ³èµ·æ¥æˆ‘ä¹Ÿæ„Ÿè§‰åˆ°æœ‰ç‚¹é—®é¢˜ï¼Œæˆ‘åœ¨åˆ·å¡çš„æ—¶å€™å¹¶æ²¡æœ‰å‡ºç°ä¹‹å‰æ­£å¸¸çš„â€œæ»´â€ çš„å£°éŸ³ï¼Œè€Œæ˜¯æ²¡æœ‰å£°éŸ³æç¤ºã€‚å¸æœºå¸ˆå‚…è¯´ â€œåˆ·ä¸Šäº†â€ æˆ‘æ‰ååº”è¿‡æ¥ã€‚</p>
<p>ä½†æ˜¯åˆ·ä¸Šäº†ä¹‹åï¼ŒiPhoneçš„é”å±ç•Œé¢ä¸Šå¹¶æ²¡æœ‰å‡ºç° â€œè¡Œç¨‹ä¸­â€ çš„é‚£æ¡æç¤ºã€‚æˆ‘æ‰“å¼€ â€œé’±åŒ…â€ åå´å‘ç°æ˜¯ä¸‹é¢çš„æƒ…å†µï¼Œæç¤ºæˆ‘è¿™æ¬¡æ‰£è´¹9å…ƒï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220118120009.PNG" alt="20220118120009"></p>
<p>å½“æ—¶æˆ‘å°±éœ‡æƒŠäº†ã€‚ã€‚ã€‚</p>
<p>ç„¶åæˆ‘å°±æ‰¾è½¦ä¸Šçš„å®‰å…¨å‘˜å¸®æˆ‘çœ‹äº†ä¸‹ï¼Œä»–è¯´å¯èƒ½æ˜¯æˆ‘ä¸Šæ¬¡ä¹˜è½¦æ²¡æœ‰æ­£å¸¸åˆ·å¡ï¼Œå¯¼è‡´çš„è¿™æ¬¡æ‰£äº†å…¨ç¨‹ã€‚ä½†åœ¨æˆ‘å°è±¡ä¸­æˆ‘éƒ½æ˜¯åœ¨åˆ°ç«™ä¸‹è½¦å‰æå‰åˆ·å¡ï¼Œå°±æ˜¯ä¸ºäº†é˜²æ­¢ä¸´ä¸‹è½¦æ—¶åˆ·ä¸ä¸Šå¡æˆ–è€…åˆ·å¡å¤±è´¥ã€‚æ¯•ç«Ÿä¹‹å‰æœ‰è¿‡å‡ æ¬¡è¿™æ ·çš„é­é‡ã€‚</p>
<p>é‚£æˆ‘é—® â€œé‚£æˆ‘ä¸‹è½¦è¿˜éœ€è¦åˆ·ä¸€æ¬¡å—ï¼Ÿâ€ ã€â€œæˆ‘ä¸‹æ¬¡ä¹˜è½¦ä¼šä¸ä¼šæœ‰å½±å“ï¼Ÿâ€ å®‰å…¨å‘˜è¯´ â€œé‚£ä½ ä¸‹è½¦å°±åˆ«åˆ·å¡äº†â€ã€‚</p>
<p>å…¶å®è¯´èµ·æ¥ï¼Œæˆ‘çŸ¥é“å®‰å…¨å‘˜ä¹Ÿæä¸æ‡‚è¿™æ˜¯ä»€ä¹ˆæƒ…å†µã€‚</p>
<hr>
<h3 id="æ— å¥ˆ"><a href="#æ— å¥ˆ" class="headerlink" title="æ— å¥ˆ"></a>æ— å¥ˆ</h3><p>çœ‹æˆ‘ä¸Šé¢ â€œé’±åŒ…â€ ä¸­çš„åˆ·å¡è®°å½•ï¼Œè¿˜æœ‰ä¸€æ¡ä»Šå¤©çš„å¼‚å¸¸åˆ·å¡ç°åœ¨ä»ç„¶æ˜¾ç¤ºä¸º â€œè¡Œç¨‹ä¸­â€ã€‚</p>
<p>é‚£æ˜¯æˆ‘ä¹˜åå¦ä¸€è¶Ÿå…¬äº¤è½¦ï¼Œåœ¨ä¸‹è½¦æ—¶åˆ·å¡ã€‚ç¬¬ä¸€æ¬¡åˆ·â€œæ»´â€ äº†ä¸€å£°åï¼Œå‘ç°ä¹˜è½¦è®°å½•ä»ç„¶æ˜¾ç¤ºä¸º â€œè¡Œç¨‹ä¸­â€ã€‚åœ¨ç­‰äº†å‡ åˆ†é’Ÿåæ²¡æœ‰å˜åŒ–ï¼Œæˆ‘å°±æ„Ÿè§‰æ˜¯æ²¡æœ‰åˆ·ä¸Šå¡ã€‚ç„¶åæˆ‘åˆé‡æ–°åˆ·äº†ä¸€æ¬¡ï¼Œè¿™æ¬¡æˆåŠŸåˆ·å¡å¹¶æ‰£è´¹1å…ƒã€‚</p>
<p>ä½†æ˜¯ï¼Œé‚£æ¡æ˜¾ç¤ºä¸º â€œè¡Œç¨‹ä¸­â€ çš„è®°å½•ä»ç„¶å­˜åœ¨ã€‚</p>
<p>åæ¥æˆ‘åˆæŸ¥äº† â€œåŒ—äº¬ä¸€å¡é€šAppâ€ ä¸­çš„ä¹˜è½¦è®°å½•ï¼Œå‘ç°æ˜¯æ­£å¸¸çš„ï¼Œå¹¶æ²¡æœ‰ä¸€æ¡ç±»ä¼¼äº â€œè¡Œç¨‹ä¸­â€ çš„æœªå®Œæˆçš„åˆ·å¡è®°å½•å­˜åœ¨ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220118120229.PNG" alt="20220118120229"></p>
<hr>
<h3 id="åæ§½"><a href="#åæ§½" class="headerlink" title="åæ§½"></a>åæ§½</h3><p>è¯´èµ·æ¥ï¼Œåœ¨åŒ—äº¬ä¹˜åå…¬å…±äº¤é€šå·¥å…·è¿˜çœŸæ˜¯ä¸€ç§è€ƒéªŒå‘¢ã€‚</p>
<p>åƒä¹‹å‰çš„ â€œåŒ—äº¬ä¸€å¡é€šâ€ å®ä½“å¡ï¼Œèƒ½å¤ŸåŒæ—¶ä¹˜ååŒ—äº¬çš„å…¬äº¤è½¦å’Œåœ°é“ï¼Œç›¸å¯¹æ¥è¯´è¿˜æ˜¯å¾ˆé è°±çš„ã€‚</p>
<p>åæ¥å‘å±•å‡ºæ¥äº†æ‰‹æœº <code>NFC</code> åˆ·å¡ï¼Œå†åˆ°åæ¥çš„ â€œäºŒç»´ç â€ åˆ·å¡ä¹˜è½¦ã€‚å„ç§æ–¹å¼äº”èŠ±å…«é—¨è®©äººçœ¼èŠ±ç¼­ä¹±ã€‚</p>
<p>æœ‰çš„æ˜¯åªèƒ½ç”¨äºä¹˜åå…¬äº¤è½¦ï¼Œæœ‰çš„æ˜¯åªèƒ½ç”¨äºä¹˜ååœ°é“ã€‚</p>
<p>ä¹˜åå…¬äº¤çš„æœ‰å¤šç§Appï¼Œä¹˜ååœ°é“çš„ä¹Ÿæœ‰å¤šç§Appã€‚</p>
<p>ä¾‹å¦‚è¯´ï¼Œæˆ‘å¹³æ—¶ä¹˜åå…¬äº¤è½¦ï¼Œåƒå®ä½“å¡è¿™ç§ï¼Œåˆ·å¡æç¤ºéŸ³æ˜¯ â€œæ»´â€ ã€â€œè€å¹´å¡â€ã€â€œå·²åˆ·å¡â€ </p>
<p>â€œäºŒç»´ç â€ Appä¼šæç¤º â€œå·²æ‰«ç â€ â€œæ‰«ç æˆåŠŸâ€</p>
<p>åƒiPhoneè¿™ç§ â€œNFCâ€ æ— è®ºä¸Šä¸‹è½¦åˆ·å¡éƒ½åªæœ‰ä¸€å£° â€œæ»´â€ï¼Œä½ è¦æ˜¯ä¸ä»”ç»†çœ‹ä¸€ä¸‹ï¼Œè¿˜çœŸä¸çŸ¥é“åˆ°åº•æœ‰æ²¡æœ‰åˆ·å¡æˆåŠŸã€‚</p>
<hr>
<h3 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h3><p>æœ€åï¼Œæˆ‘åœ¨ â€œåŒ—äº¬ä¸€å¡é€šAppâ€ ä¸­æäº¤äº†ç”³è¯‰ï¼Œç›®å‰è¿˜åœ¨ç­‰å¾…å¤„ç†ä¸­ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220118120347.jpg" alt="20220118120347"></p>
<hr>
<h3 id="é€‰æ‹©"><a href="#é€‰æ‹©" class="headerlink" title="é€‰æ‹©"></a>é€‰æ‹©</h3><p>ç—›å®šæ€ç—›ï¼Œåœ¨ç»å†äº†è¿™ä¹ˆå¤šæ¬¡ä½¿ç”¨iPhoneé’±åŒ…åŒ—äº¬ä¸€å¡é€šä¹˜åå…¬äº¤è½¦åˆ·å¡å¼‚å¸¸æ‰£è´¹ä¹‹åï¼Œæˆ‘å†³å®šä»¥åä¹˜åå…¬äº¤è½¦è¿˜æ˜¯æ”¹ç”¨å®ä½“å¡æ›´ä¿é™©ä¸€äº›ã€‚</p>
<p>åæ­£ï¼Œä¹˜ååœ°é“æˆ‘æ˜¯æ²¡æœ‰é‡åˆ°è¿‡å¤šæ‰£è´¹çš„æƒ…å†µã€‚</p>
<hr>
<h3 id="åé¦ˆ"><a href="#åé¦ˆ" class="headerlink" title="åé¦ˆ"></a>åé¦ˆ</h3><p>ä¸‰å¤©åï¼Œæˆ‘æ¥åé¦ˆä¸€ä¸‹æœ€æ–°çš„è¿›å±•ã€‚</p>
<p>ç¬¬äºŒå¤©å½“æˆ‘å†æ¬¡ä¹˜è½¦æ—¶ï¼Œå‘ç°ä¸Šè½¦ç¬¬ä¸€ä¸‹åˆ·å¡åˆç›´æ¥æ˜¯æ˜¾ç¤ºå¤šæ‰£äº†é’±ã€‚è¿™æ¬¡æ‰£äº†æˆ‘2å…ƒã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220121115327.jpg" alt="20220121115327"></p>
<p>å› ä¸ºè¿™è¶Ÿè½¦ä¸Šæœ‰å”®ç¥¨å‘˜ï¼Œæ‰€ä»¥æˆ‘ç›´æ¥å°±è·Ÿå”®ç¥¨å‘˜æè¿°äº†ä¸€ä¸‹æˆ‘è¿™ä¸¤å¤©çš„ â€œæ‚²æƒ¨â€ é­é‡ï¼Œå”®ç¥¨å‘˜è¯´ï¼šâ€œé‚£ä½ å†åˆ·ä¸€æ¬¡å¡è¯•è¯•ï¼Œå¦‚æœæ‰£ä½ 1å…ƒé‚£å°±æ˜¯æ­£å¸¸äº†â€ ç„¶åæˆ‘å°±å¿å¿‘çš„åˆåˆ·äº†ä¸€æ¬¡å¡ï¼Œæ˜¾ç¤ºæ‰£è´¹1å…ƒã€‚å”®ç¥¨å‘˜è¯´ï¼šâ€œçœ‹æ¥å°±æ˜¯ä½ ä¸Šæ¬¡ä¹˜è½¦æ¼æ‰“å¡äº†â€ã€‚</p>
<p>ç„¶åæˆ‘å›æƒ³äº†ä¸€ä¸‹å½“æ—¶ä¹˜åé‚£è¶Ÿå…¬äº¤è½¦çš„åœºæ™¯ï¼Œè®°å¾—å½“æ—¶é‚£è¶Ÿè½¦æ­£å¥½èµ¶ä¸Šäº†æ—©é«˜å³°æœŸï¼Œä¸‹è½¦æ—¶åˆ·å¡æœºæ—è¾¹äººç‰¹åˆ«å¤šï¼Œåˆ·å¡æ—¶æˆ‘æ˜¯æŒ¤è¿‡å»åˆ·å¡çš„ï¼Œçœ‹åˆ°æ‰‹æœºä¸Šæœ‰æç¤ºä¹Ÿå°±æ²¡å¤ªåœ¨æ„ã€‚</p>
<p>åæ¥æˆ‘è·Ÿå”®ç¥¨å‘˜è®¨è®ºäº†ä¸€ä¸‹ï¼Œç®—æ˜¯åŸºæœ¬ä¸Šç†æ¸…äº†å…¶ä¸­çš„ç¼˜ç”±ã€‚</p>
<hr>
<h3 id="è§„åˆ™"><a href="#è§„åˆ™" class="headerlink" title="è§„åˆ™"></a>è§„åˆ™</h3><p>ç°åœ¨åŒ—äº¬çš„å…¬äº¤è½¦åŸºæœ¬ä¸Šéƒ½æ˜¯ <code>â€œä¸Šè½¦åˆ·å¡ï¼Œä¸‹è½¦å†æ¬¡åˆ·å¡â€</code> çš„ç±»å‹ã€‚</p>
<p>ä½ åœ¨ä¸Šè½¦åˆ·å¡çš„æ—¶å€™ï¼Œåˆ·å¡æœºä¸Šä¸€å®šè¦æ˜¯æ˜¾ç¤º â€œ0.00â€ é‡‘é¢ï¼Œè¿™æ ·å°±è¡¨ç¤ºä¸Šè½¦åˆ·å¡è®¡æ¬¡æˆåŠŸã€‚åœ¨ä¸‹è½¦åˆ·å¡æ—¶ï¼Œä¸€å®šæ˜¯æ˜¾ç¤º â€œ1.00â€ ç±»ä¼¼çš„æ‰£è´¹é‡‘é¢çš„å½¢å¼ï¼Œè¡¨ç¤ºä¸‹è½¦åˆ·å¡è®¡æ¬¡å®Œæˆï¼Œæ‰è¡¨ç¤ºæ­£å¸¸çš„æ‰£è´¹æˆåŠŸäº†ã€‚</p>
<p>å¦‚æœä½ åœ¨ä¸Šè½¦åç¬¬ä¸€æ¬¡åˆ·å¡æ—¶æ˜¾ç¤ºçš„æ˜¯ç±»ä¼¼ â€œ1.00â€ æ‰£è´¹çš„é‡‘é¢ï¼Œé‚£å°±ä¸€å®šæ˜¯ä¹‹å‰æœ‰ <code>æ¼åˆ·å¡</code> çš„æƒ…å†µã€‚è¿™æ—¶å€™ä½ åˆ·çš„ç¬¬ä¸€æ¬¡å¡æœ‰ä¸¤ç§å«ä¹‰ï¼š</p>
<ol>
<li>è¡¨ç¤ºå¯¹äºä½ ä¸Šæ¬¡æ¼åˆ·å¡çš„æƒ…å†µï¼Œæ‰£é™¤ä¹˜åå½“æ¬¡å…¬äº¤è½¦å‰©ä½™ç«™ç‚¹çš„å…¨ç¨‹ç¥¨ä»·ï¼Œæ‰€ä»¥æ­¤æ—¶æ˜¾ç¤ºçš„æ‰£è´¹é‡‘é¢å°±æ˜¯å½“æ—¶é‚£è¶Ÿå…¬äº¤è½¦çš„å‰©ä½™ç«™ç‚¹çš„å…¨ç¨‹ä»·æ ¼</li>
<li>è¡¨ç¤ºä½ å½“å‰ä¹˜åå…¬äº¤è½¦çš„ä¸Šè½¦åˆ·å¡è®¡æ¬¡</li>
</ol>
<p>å¯èƒ½ä¸å¤ªå¥½ç†è§£ï¼Œé‚£æˆ‘å°±ç”¨æˆ‘è¿™æ¬¡çš„ â€œé­é‡â€ æ¥ä¸¾ä¾‹è¯´æ˜ä¸€ä¸‹ã€‚</p>
<p>æˆ‘ä¸Šç­è¦æ¢æˆä¸¤è¶Ÿå…¬äº¤è½¦ï¼Œå‰é¢çš„åŠç¨‹è¦ä¹˜åâ€œ500â€è·¯å…¬äº¤è½¦ï¼Œä¹˜è½¦è·¯æ®µèŠ±è´¹1å…ƒï¼ŒååŠç¨‹è·¯æ®µè¦ä¹˜åâ€œ800â€è·¯å…¬äº¤è½¦ï¼Œä¹˜è½¦è·¯æ®µèŠ±è´¹1å…ƒã€‚</p>
<p>å‡è®¾â€œ500â€è·¯å…¬äº¤è½¦å…¨ç¨‹ç¥¨ä»·12å…ƒï¼Œâ€œ800â€è·¯å…¬äº¤è½¦å…¨ç¨‹ç¥¨ä»·6å…ƒã€‚</p>
<p>è¿™æ¬¡é­é‡çš„åœºæ™¯æ˜¯ï¼š</p>
<ol>
<li>å‰åŠç¨‹å½“æˆ‘ä¹˜å â€œ500â€ è·¯å…¬äº¤è½¦æ—¶ï¼Œä¸Šè½¦æ­£å¸¸åˆ·å¡ï¼Œä½†æ˜¯ä¸‹è½¦æ¼åˆ·äº†ã€‚</li>
<li>ååŠç¨‹å½“æˆ‘ä¹˜å â€œ800â€ è·¯å…¬äº¤è½¦æ—¶ï¼Œä¸Šè½¦åˆ·å¡æ˜¾ç¤ºæ‰£è´¹9å…ƒã€‚ä½†å½“æ—¶æˆ‘åœ¨è¿™è¶Ÿè½¦ä¸Šåªåˆ·äº†ä¸€æ¬¡å¡ã€‚</li>
<li>å½“ç¬¬äºŒå¤©æˆ‘å†æ¬¡ä¹˜åâ€œ500â€è·¯å…¬äº¤è½¦æ—¶ï¼Œä¸€ä¸Šè½¦åˆ·å¡å°±æ‰£äº†æˆ‘2å…ƒã€‚æ­¤æ—¶æˆ‘è·Ÿå”®ç¥¨å‘˜è®¨è®ºåï¼Œå†æ¬¡åˆ·å¡ï¼Œæ˜¾ç¤ºæ‰£è´¹1å…ƒã€‚ä¹‹åæ­£å¸¸ã€‚</li>
</ol>
<p>æˆ‘ç»™è§£è¯»ä¸€ä¸‹ï¼š</p>
<p>é’ˆå¯¹ç¬¬ä¸€æ¬¡æˆ‘ä¹˜åâ€œ800â€è·¯å…¬äº¤è½¦æ—¶ä¸€ä¸Šè½¦å°±æ‰£è´¹9å…ƒï¼Œè¿™æ¬¡æ‰£è´¹æ˜¯æ‰£å¾—æˆ‘ä¸Šæ¬¡ä¹˜åâ€œ500â€è·¯æ—¶æ¼åˆ·å¡çš„æ‰£è´¹ã€‚æ‰£è´¹çš„é‡‘é¢è®¡ç®—æ˜¯ä»æˆ‘å½“æ—¶ä¸Šè½¦åˆ·å¡ç®—èµ·ï¼Œç›´åˆ°ç»ˆç‚¹ç«™ä¸ºæ­¢ã€‚è™½ç„¶â€œ500â€è·¯å…¬äº¤è½¦çš„å…¨ç¨‹ç¥¨ä»·æ˜¯12å…ƒï¼Œä½†ä»æˆ‘ä¸Šè½¦ç«™åˆ°ç»ˆç‚¹ç«™çš„åŒºé—´è´¹ç”¨æ˜¯9å…ƒã€‚</p>
<p>é’ˆå¯¹ç¬¬äºŒæ¬¡æˆ‘ä¹˜åâ€œ500â€è·¯å…¬äº¤è½¦æ—¶ä¸€ä¸Šè½¦å°±æ‰£è´¹2å…ƒã€‚è¿™æ¬¡æ‰£è´¹æ˜¯æ‰£å¾—æˆ‘ä¸Šæ¬¡ä¹˜åâ€œ800â€è·¯å…¬äº¤è½¦æ—¶ â€œæ²¡åˆ·ä¸‹è½¦å¡â€ çš„æ‰£è´¹ã€‚æˆ‘å½“æ—¶ä¸Šè½¦åˆ·å¡çš„ç«™ç‚¹åˆ°ç»ˆç‚¹ç«™çš„åŒºé—´è´¹ç”¨æ˜¯2å…ƒã€‚</p>
<p>è‡³æ­¤ï¼Œæ•´ä¸ªåœºæ™¯ç®—æ˜¯æ¢³ç†æ¸…æ™°äº†ã€‚</p>
<p>å¦å¤–æˆ‘è¿˜è¦å†è¡¥å……ä¸€ç‚¹çš„æ˜¯ï¼šå¯¹äºæ¼åˆ·å¡çš„æƒ…å†µï¼Œå¹¶ä¸ä¼šé’ˆå¯¹äºç‰¹å®šçš„è½¦æ¥ç®—ï¼Œè€Œæ˜¯é’ˆå¯¹äº â€œä¸Šè½¦åˆ·å¡ï¼Œä¸‹è½¦å†æ¬¡åˆ·å¡â€ è¿™ä¸€è§„åˆ™è€Œè¨€çš„ã€‚</p>
<p>è¯´çš„ç›´ç™½ä¸€ç‚¹å°±æ˜¯ï¼Œè™½ç„¶æˆ‘ç¬¬ä¸€æ¬¡æ˜¯ä¹˜åâ€œ500â€ è·¯å…¬äº¤è½¦æ¼åˆ·å¡äº†ï¼Œé‚£æˆ‘ä¸ºäº†è¡¥å…¨è¿™æ¬¡ â€œä¸‹è½¦å†æ¬¡åˆ·å¡â€ï¼Œå¹¶ä¸éœ€è¦å»æ‰¾åˆ°å½“æ—¶ä¹˜åçš„é‚£è¶Ÿå…¬äº¤è½¦å»åˆ·ä¸‹è½¦å¡ï¼Œæˆ‘åªè¦æ¢ä»»æ„ä¸€è¾†åŒ—äº¬å…¬äº¤è½¦æ¥åˆ·æˆ‘çš„â€œä¸‹è½¦å¡â€å³å¯ï¼Œè¿™æ ·è¿™ä¸ª â€œè§„åˆ™â€ å°±ç®—è¡¥å…¨äº†ã€‚é‚£ä¹‹åå†æ¬¡ä¹˜è½¦æ—¶ä¹Ÿå°±ä¸ä¼šå‡ºç°æ‰£ä¸Šæ¬¡å…¨ç¨‹è´¹ç”¨çš„æƒ…å†µäº†ã€‚</p>
<p>å¦å¤–ï¼Œä¸Šé¢æåˆ°è¿‡çš„ä¸€ç›´å­˜åœ¨äºâ€œé’±åŒ…â€ ä¸­çš„æ˜¾ç¤ºä¸ºâ€œè¡Œç¨‹ä¸­â€ çš„è®°å½•ï¼Œä¹Ÿåœ¨æˆ‘æ­£å¸¸åˆ·å¡ä¹‹åä¸æ˜¾ç¤ºäº†ã€‚</p>
<hr>
<h3 id="ç»“æœ"><a href="#ç»“æœ" class="headerlink" title="ç»“æœ"></a>ç»“æœ</h3><p>ä¸‹åˆçš„æ—¶å€™ï¼Œæˆ‘æ”¶åˆ°äº† â€œåŒ—äº¬ä¸€å¡é€šâ€ å‘æ¥çš„é€€æ¬¾é€šçŸ¥ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20220121115445.jpg" alt="20220121115445"></p>
<p>è™½ç„¶ä¸Šé¢æ˜¾ç¤ºè¿˜æœ‰ä¸€æ¡æ‰£è´¹2å…ƒçš„è®°å½•ï¼Œæƒ³æƒ³è¿˜æ˜¯ç®—äº†å§ï¼Œæ¯•ç«Ÿæ˜¯è‡ªå·±çš„ç–å¿½å¤§æ„ã€‚</p>
<p>â€œç ´è´¢å…ç¾â€ å§ï¼</p>
<hr>
]]></content>
      <categories>
        <category>äººç”Ÿéšæ„Ÿ</category>
      </categories>
      <tags>
        <tag>äººåœ¨å¸éƒ½</tag>
      </tags>
  </entry>
  <entry>
    <title>Beegoæ¡†æ¶è§£å†³&#39;Access-Control-Allow-Origin&#39;è·¨åŸŸé—®é¢˜</title>
    <url>/2021/12/31/beego-access-control-allow-origin/</url>
    <content><![CDATA[<p>é…ç½®æ–¹æ³•å¦‚ä¸‹:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	beego <span class="string">"github.com/beego/beego/v2/server/web"</span></span><br><span class="line">	<span class="string">"github.com/beego/beego/v2/server/web/filter/cors"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// è§£å†³è·¨åŸŸé—®é¢˜</span></span><br><span class="line">	beego.InsertFilter(<span class="string">"/*"</span>, beego.BeforeRouter, cors.Allow(&amp;cors.Options&#123;</span><br><span class="line">		AllowAllOrigins:  <span class="literal">true</span>,</span><br><span class="line">		AllowMethods:     []<span class="keyword">string</span>&#123;<span class="string">"GET"</span>, <span class="string">"POST"</span>, <span class="string">"PUT"</span>, <span class="string">"DELETE"</span>, <span class="string">"OPTIONS"</span>&#125;,</span><br><span class="line">		AllowHeaders:     []<span class="keyword">string</span>&#123;<span class="string">"Origin"</span>, <span class="string">"Authorization"</span>, <span class="string">"Access-Control-Allow-Origin"</span>, <span class="string">"Access-Control-Allow-Headers"</span>, <span class="string">"Content-Type"</span>&#125;,</span><br><span class="line">		ExposeHeaders:    []<span class="keyword">string</span>&#123;<span class="string">"Content-Length"</span>, <span class="string">"Access-Control-Allow-Origin"</span>, <span class="string">"Access-Control-Allow-Headers"</span>, <span class="string">"Content-Type"</span>&#125;,</span><br><span class="line">		AllowCredentials: <span class="literal">true</span>,</span><br><span class="line">	&#125;))</span><br><span class="line"></span><br><span class="line">	beego.Run()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>Golang</tag>
      </tags>
  </entry>
  <entry>
    <title>Golangå®ç°æ—¶é—´åˆ†å‰²é€»è¾‘</title>
    <url>/2021/12/10/go-time-division-logic/</url>
    <content><![CDATA[<p>æ•°æ®åº“è¿›è¡ŒæŒ‰æœˆåˆ†åº“åˆ†è¡¨ä¹‹åï¼Œæœ€éº»çƒ¦çš„å°±æ˜¯æŸ¥è¯¢ä¸€æ®µæ—¶é—´å†…çš„æ•°æ®ã€‚å¦‚æœæ—¶é—´èŒƒå›´é™å®šåœ¨åŒä¸€ä¸ªæœˆä¹‹å†…è¿˜å¥½è¯´ï¼Œç›´æ¥æŸ¥è¯¢å°±å¯ä»¥ã€‚</p>
<p>å¦‚æœæ˜¯è·¨æœˆçš„æƒ…å†µï¼Œåˆ™éœ€è¦å…ˆå¯¹æ—¶é—´èŒƒå›´è¿›è¡Œåˆ’åˆ†ï¼Œç„¶åå†åˆ†åˆ«å»æŸ¥è¯¢æ¯ä¸ªæœˆçš„æ•°æ®ï¼Œæœ€åå°†æ•°æ®æ•´åˆåè¿”å›ã€‚</p>
<p>ä¸‹é¢åˆ—å‡ºä¸¤ç§å¯¹æ—¶é—´åˆ†éš”çš„å®ç°é€»è¾‘ã€‚</p>
<p>ç¬¬ä¸€ç§ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">// å°†æ—¶é—´åˆ†éš”æˆæ¯æœˆ</span></span><br><span class="line"><span class="comment">ä¾‹ï¼š2021-09-22 16:00:00 -- 2021-12-01 15:59:59</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">ç»“æœï¼š</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">2021-09-22 16:00:00 2021-09-30 23:59:59 202109</span></span><br><span class="line"><span class="comment">2021-10-01 00:00:00 2021-10-31 23:59:59 202110</span></span><br><span class="line"><span class="comment">2021-11-01 00:00:00 2021-11-30 23:59:59 202111</span></span><br><span class="line"><span class="comment">2021-12-01 00:00:00 2021-12-01 15:59:59 202112</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GetMonInfo</span><span class="params">(t1, t2 time.Time)</span> <span class="params">([]MonInfo, <span class="keyword">bool</span>)</span></span> &#123;</span><br><span class="line">	sameMonth := <span class="literal">false</span></span><br><span class="line">	result := <span class="built_in">make</span>([]MonInfo, <span class="number">0</span>)</span><br><span class="line">	<span class="comment">//	å…ˆåˆ¤æ–­ä¸¤ä¸ªæ—¥æœŸæ˜¯å¦åœ¨åŒä¸€ä¸ªæœˆ</span></span><br><span class="line">	<span class="keyword">if</span> t1.Format(<span class="string">"200601"</span>) == t2.Format(<span class="string">"200601"</span>) &#123;</span><br><span class="line">		result = <span class="built_in">append</span>(result, MonInfo&#123;</span><br><span class="line">			StartDay: t1.Format(<span class="string">"2006-01-02 15:04:05"</span>),</span><br><span class="line">			EndDay:   t2.Format(<span class="string">"2006-01-02 15:04:05"</span>),</span><br><span class="line">			MonStr:   t2.Format(<span class="string">"200601"</span>),</span><br><span class="line">		&#125;)</span><br><span class="line">		sameMonth = <span class="literal">true</span></span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">		<span class="comment">//	è·å–ç¬¬ä¸€ä¸ªæ—¥æœŸåœ¨å½“æœˆçš„æœ€åä¸€å¤©çš„23:59:59</span></span><br><span class="line">		endT1 := time.Date(t1.Year(), t1.Month()+<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">-1</span>, t1.Location())</span><br><span class="line"></span><br><span class="line">		result = <span class="built_in">append</span>(result, MonInfo&#123;</span><br><span class="line">			StartDay: t1.Format(<span class="string">"2006-01-02 15:04:05"</span>),</span><br><span class="line">			EndDay:   endT1.Format(<span class="string">"2006-01-02 15:04:05"</span>),</span><br><span class="line">			MonStr:   t1.Format(<span class="string">"200601"</span>),</span><br><span class="line">		&#125;)</span><br><span class="line"></span><br><span class="line">		<span class="comment">// å°†ç¬¬ä¸€ä¸ªæ—¥æœŸçš„æ—¶é—´é‡ç½®ä¸ºå½“æœˆçš„1å·ï¼Œé˜²æ­¢å¢åŠ 1ä¸ªæœˆåå¾—åˆ°çš„æ—¥æœŸä¸æ˜¯ä¸‹æœˆçš„1å·</span></span><br><span class="line">		t1Tmp := time.Date(t1.Year(), t1.Month(), <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, t1.Location())</span><br><span class="line"></span><br><span class="line">		<span class="comment">// åˆ¤æ–­æ˜¯å¦è¾¾åˆ°ç¬¬äºŒä¸ªæ—¥æœŸ</span></span><br><span class="line">		<span class="keyword">var</span> i = <span class="number">1</span></span><br><span class="line">		<span class="keyword">for</span> &#123;</span><br><span class="line">			t3 := t1Tmp.AddDate(<span class="number">0</span>, i, <span class="number">0</span>)</span><br><span class="line">			<span class="comment">// åˆ¤æ–­æ˜¯å¦åˆ°è¾¾ç¬¬äºŒä¸ªæ—¥æœŸæ‰€åœ¨çš„æœˆä»½</span></span><br><span class="line">			<span class="keyword">if</span> t3.Format(<span class="string">"200601"</span>) == t2.Format(<span class="string">"200601"</span>) &#123;</span><br><span class="line">				<span class="comment">// è·å–ç¬¬äºŒä¸ªæ—¥æœŸåœ¨å½“æœˆçš„ç¬¬ä¸€å¤©çš„èµ·å§‹æ—¶é—´</span></span><br><span class="line">				startT2 := time.Date(t2.Year(), t2.Month(), <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, t2.Location())</span><br><span class="line"></span><br><span class="line">				result = <span class="built_in">append</span>(result, MonInfo&#123;</span><br><span class="line">					StartDay: startT2.Format(<span class="string">"2006-01-02 15:04:05"</span>),</span><br><span class="line">					EndDay:   t2.Format(<span class="string">"2006-01-02 15:04:05"</span>),</span><br><span class="line">					MonStr:   t2.Format(<span class="string">"200601"</span>),</span><br><span class="line">				&#125;)</span><br><span class="line">				<span class="comment">// è·³å‡º</span></span><br><span class="line">				<span class="keyword">break</span></span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				startT3 := time.Date(t3.Year(), t3.Month(), <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, t3.Location())</span><br><span class="line">				endT3 := time.Date(t3.Year(), t3.Month()+<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">-1</span>, t3.Location())</span><br><span class="line">				result = <span class="built_in">append</span>(result, MonInfo&#123;</span><br><span class="line">					StartDay: startT3.Format(<span class="string">"2006-01-02 15:04:05"</span>),</span><br><span class="line">					EndDay:   endT3.Format(<span class="string">"2006-01-02 15:04:05"</span>),</span><br><span class="line">					MonStr:   t3.Format(<span class="string">"200601"</span>),</span><br><span class="line">				&#125;)</span><br><span class="line">			&#125;</span><br><span class="line">			i++</span><br><span class="line"></span><br><span class="line">			<span class="comment">// ä¸ºäº†é˜²æ­¢å¼‚å¸¸å¯¼è‡´ for å¾ªç¯æ— æ³•åœæ­¢å‡ºç°å†…å­˜æº¢å‡ºï¼ŒåŠ ä¸€ä¸ªé˜²æŠ¤æªæ–½</span></span><br><span class="line">			<span class="keyword">if</span> i &gt; <span class="number">12</span> &#123;</span><br><span class="line">				<span class="keyword">break</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> result, sameMonth</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> MonInfo <span class="keyword">struct</span> &#123;</span><br><span class="line">	StartDay <span class="keyword">string</span></span><br><span class="line">	EndDay   <span class="keyword">string</span></span><br><span class="line">	MonStr   <span class="keyword">string</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>ç¬¬äºŒç§ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	LayoutDate = <span class="string">"2006-01-02 15:04:05"</span></span><br><span class="line">	LayoutMon  = <span class="string">"200601"</span></span><br><span class="line">	LayoutDay  = <span class="string">"20060102"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†æ—¶é—´åˆ†å‰²æˆæ¯å¤©</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">SplitDaysOfTask</span><span class="params">(startTime, endTime time.Time)</span> <span class="params">(resDays []TaskDayInfo)</span></span> &#123;</span><br><span class="line">	resDays = <span class="built_in">make</span>([]TaskDayInfo, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> startTime.Format(LayoutDay) == endTime.Format(LayoutDay) &#123;</span><br><span class="line">		resDays = <span class="built_in">append</span>(resDays, TaskDayInfo&#123;</span><br><span class="line">			StartTime: startTime,</span><br><span class="line">			EndTime:   endTime,</span><br><span class="line">			Day:       startTime.Format(LayoutDay),</span><br><span class="line">			Month:     startTime.Format(LayoutMon),</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		endT1 := time.Date(startTime.Year(), startTime.Month(), startTime.Day()+<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">-1</span>, startTime.Location())</span><br><span class="line"></span><br><span class="line">		resDays = <span class="built_in">append</span>(resDays, TaskDayInfo&#123;</span><br><span class="line">			StartTime: startTime,</span><br><span class="line">			EndTime:   endT1,</span><br><span class="line">			Day:       startTime.Format(LayoutDay),</span><br><span class="line">			Month:     startTime.Format(LayoutMon),</span><br><span class="line">		&#125;)</span><br><span class="line">		<span class="keyword">var</span> i = <span class="number">1</span></span><br><span class="line">		<span class="keyword">for</span> &#123;</span><br><span class="line"></span><br><span class="line">			tNext := startTime.AddDate(<span class="number">0</span>, <span class="number">0</span>, i)</span><br><span class="line">			startTNext := time.Date(tNext.Year(), tNext.Month(), tNext.Day(), <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, tNext.Location())</span><br><span class="line">			<span class="keyword">if</span> tNext.Format(LayoutDay) == endTime.Format(LayoutDay) &#123;</span><br><span class="line"></span><br><span class="line">				resDays = <span class="built_in">append</span>(resDays, TaskDayInfo&#123;</span><br><span class="line">					StartTime: startTNext,</span><br><span class="line">					EndTime:   endTime,</span><br><span class="line">					Day:       startTNext.Format(LayoutDay),</span><br><span class="line">					Month:     startTNext.Format(LayoutMon),</span><br><span class="line">				&#125;)</span><br><span class="line">				<span class="comment">// è·³å‡º</span></span><br><span class="line">				<span class="keyword">break</span></span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				endTNext := time.Date(tNext.Year(), tNext.Month(), tNext.Day()+<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">-1</span>, tNext.Location())</span><br><span class="line"></span><br><span class="line">				resDays = <span class="built_in">append</span>(resDays, TaskDayInfo&#123;</span><br><span class="line">					StartTime: startTNext,</span><br><span class="line">					EndTime:   endTNext,</span><br><span class="line">					Day:       startTNext.Format(LayoutDay),</span><br><span class="line">					Month:     startTNext.Format(LayoutMon),</span><br><span class="line">				&#125;)</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			i++</span><br><span class="line">			<span class="comment">// è¶…è¿‡2ä¸ªæœˆï¼Œç›´æ¥è·³å‡º</span></span><br><span class="line">			<span class="keyword">if</span> i &gt; <span class="number">60</span> &#123;</span><br><span class="line">				<span class="keyword">break</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> TaskDayInfo <span class="keyword">struct</span> &#123;</span><br><span class="line">    StartTime time.Time <span class="comment">// å¼€å§‹æ—¶é—´</span></span><br><span class="line">    EndTime   time.Time <span class="comment">// ç»“æŸæ—¶é—´</span></span><br><span class="line">    Day       <span class="keyword">string</span>    <span class="comment">// å½“æ—¥æ—¥æœŸ</span></span><br><span class="line">    Month     <span class="keyword">string</span>    <span class="comment">// æ‰€åœ¨æœˆä»½</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ä¾‹ï¼š <span class="number">2021</span><span class="number">-10</span><span class="number">-31</span> <span class="number">16</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-12</span><span class="number">-02</span> <span class="number">08</span>:<span class="number">00</span>:<span class="number">00</span> </span><br><span class="line"></span><br><span class="line">ç»“æœï¼š</span><br><span class="line"></span><br><span class="line"><span class="number">2021</span><span class="number">-10</span><span class="number">-31</span> <span class="number">16</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-10</span><span class="number">-31</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211031</span> -- <span class="number">202110</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-01</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-01</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211101</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-02</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-02</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211102</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-03</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-03</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211103</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-04</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-04</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211104</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-05</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-05</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211105</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-06</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-06</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211106</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-07</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-07</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211107</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-08</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-08</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211108</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-09</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-09</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211109</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-10</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-10</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211110</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-11</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-11</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211111</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-12</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-12</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211112</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-13</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-13</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211113</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-14</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-14</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211114</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-15</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-15</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211115</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-16</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-16</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211116</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-17</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-17</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211117</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-18</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-18</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211118</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-19</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-19</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211119</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-20</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-20</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211120</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-21</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-21</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211121</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-22</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-22</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211122</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-23</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-23</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211123</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-24</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-24</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211124</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-25</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-25</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211125</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-26</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-26</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211126</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-27</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-27</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211127</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-28</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-28</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211128</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-29</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-29</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211129</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-11</span><span class="number">-30</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-11</span><span class="number">-30</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211130</span> -- <span class="number">202111</span></span><br><span class="line"><span class="number">2021</span><span class="number">-12</span><span class="number">-01</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-12</span><span class="number">-01</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span> -- <span class="number">20211201</span> -- <span class="number">202112</span></span><br><span class="line"><span class="number">2021</span><span class="number">-12</span><span class="number">-02</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">2021</span><span class="number">-12</span><span class="number">-02</span> <span class="number">08</span>:<span class="number">00</span>:<span class="number">00</span> -- <span class="number">20211202</span> -- <span class="number">202112</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>Golang</tag>
      </tags>
  </entry>
  <entry>
    <title>Golangå®šæ—¶ä»»åŠ¡æ¡†æ¶--go-co-op/gocron</title>
    <url>/2021/12/10/timed-task-framework-of-go-co-op-gocron/</url>
    <content><![CDATA[<h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><blockquote>
<p>goCron is a Golang job scheduling package which lets you run Go functions periodically at pre-determined interval using a simple, human-friendly syntax.</p>
</blockquote>
<ul>
<li><a href="https://github.com/go-co-op/gocron" target="_blank" rel="noopener">go-co-op/gocron: Easy and fluent Go cron scheduling. This is a fork from https://github.com/jasonlvhit/gocron</a></li>
</ul>
<hr>
<h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">go get github.com&#x2F;go-co-op&#x2F;gocron</span><br></pre></td></tr></table></figure>

<h4 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"github.com/go-co-op/gocron"</span></span><br><span class="line">	<span class="string">"log"</span></span><br><span class="line">	<span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line">	s := gocron.NewScheduler(time.Local) <span class="comment">// ä½¿ç”¨ç³»ç»Ÿçš„æœ¬åœ°æ—¶åŒº</span></span><br><span class="line">	<span class="comment">//s:=gocron.NewScheduler(time.UTC) // ä½¿ç”¨UTCæ—¶åŒº</span></span><br><span class="line">	log.Println(<span class="string">"start"</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// ç¤ºä¾‹ä¸€ï¼šæ¯2ç§’é’Ÿæ‰§è¡Œä¸€æ¬¡</span></span><br><span class="line">	s.Every(<span class="number">2</span>).Seconds().Do(<span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		log.Println(<span class="string">"æ‰§è¡Œäº†ã€‚ã€‚ã€‚ã€‚2s"</span>)</span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// ç¤ºä¾‹äºŒï¼šWaitForSchedule() çš„ä½¿ç”¨</span></span><br><span class="line">	<span class="comment">// é»˜è®¤æƒ…å†µä¸‹ä¼šç«‹å³æ‰§è¡Œä¸€æ¬¡ï¼Œä½¿ç”¨ WaitForSchedule() å¯ç¦æ­¢è¿™ç§æƒ…å†µï¼Œç­‰åˆ°ä¸‹æ¬¡æ‰æ‰§è¡Œ</span></span><br><span class="line">	s.Every(<span class="number">5</span>).Seconds().Do(<span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		log.Println(<span class="string">"å•¦å•¦å•¦111"</span>)</span><br><span class="line">	&#125;)</span><br><span class="line">	s.Every(<span class="number">5</span>).Seconds().WaitForSchedule().Do(<span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		log.Println(<span class="string">"å•¦å•¦å•¦222"</span>)</span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// ç¤ºä¾‹ä¸‰ï¼šé€šè¿‡ crontabè¡¨è¾¾å¼æ¥æ‰§è¡Œ</span></span><br><span class="line">	<span class="comment">// æ ‡å‡†çš„crontabæ ¼å¼ï¼Œæœ€å°å•ä½æ˜¯åˆ†</span></span><br><span class="line">	s.Cron(<span class="string">"*/1 * * * *"</span>).Do(task)</span><br><span class="line">	<span class="comment">// æœ€å°å•ä½æ˜¯ç§’çš„crontabè¡¨è¾¾å¼</span></span><br><span class="line">	s.CronWithSeconds(<span class="string">"*/1 * * * * *"</span>).Do(task)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// ç¤ºä¾‹å››ï¼šæŒ‡å®šæ—¶é—´è¿è¡Œ</span></span><br><span class="line">	s.Every(<span class="number">1</span>).Sunday().At(<span class="string">"00:30"</span>).Do(task)</span><br><span class="line">	s.Every(<span class="number">1</span>).Day().At(<span class="string">"10:00"</span>).Do(task)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// ç¤ºä¾‹äº”ï¼šSingletonMode() å•ä¾‹æ¨¡å¼</span></span><br><span class="line">	<span class="comment">// å¦‚æœä¹‹å‰çš„ä»»åŠ¡å°šæœªå®Œæˆï¼Œå•ä¾‹æ¨¡å¼å°†é˜»æ­¢æ–°ä»»åŠ¡å¯åŠ¨</span></span><br><span class="line">	s.Every(<span class="string">"2"</span>).Seconds().SingletonMode().Do(task)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// ç¤ºä¾‹å…­ï¼šå¸¦æœ‰å‚æ•°çš„ä»»åŠ¡</span></span><br><span class="line">	s.Every(<span class="number">1</span>).Seconds().Do(taskWithParams, <span class="number">2</span>, <span class="string">"test"</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// å¼‚æ­¥å¯åŠ¨</span></span><br><span class="line">	s.StartAsync()</span><br><span class="line"></span><br><span class="line">	<span class="comment">// åŒæ­¥å¯åŠ¨ï¼Œé˜»å¡è¿›ç¨‹</span></span><br><span class="line">	s.StartBlocking()</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">task</span><span class="params">()</span></span> &#123;</span><br><span class="line">	log.Println(<span class="string">"hello"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">taskWithParams</span><span class="params">(a <span class="keyword">int</span>, b <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">	log.Println(a, b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>Golang</tag>
      </tags>
  </entry>
  <entry>
    <title>å‡çº§åˆ°go1.17åGolandæç¤ºæ‰¾ä¸åˆ°GOROOT</title>
    <url>/2021/12/06/goland-doesnot-work-after-upgraded-to-go117/</url>
    <content><![CDATA[<p>åœ¨å°†ç”µè„‘ä¸Šçš„golangç‰ˆæœ¬ä» <code>1.15.6</code> å‡çº§åˆ°æœ€æ–°çš„ <code>1.17.4</code> ä¹‹åï¼Œå‘ç° <code>Goland</code> æ‰“å¼€é¡¹ç›®åæ–‡ä»¶ä¸­å„ç§ <code>çˆ†çº¢</code>ã€‚åŒæ—¶æç¤º <code>æ‰¾ä¸åˆ°GOROOT</code> ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20211206115746.png" alt="20211206115746"></p>
<p>å½“æ—¶çš„ç¬¬ä¸€æƒ³æ³•æ˜¯ï¼Œä¼šä¸ä¼šç”±äºå‡çº§åæŸäº›é…ç½®æ›´æ–°äº†ï¼Œäºæ˜¯ç¬¬ä¸€æ—¶é—´é‡å¯ç”µè„‘ï¼Œç»“æœå‘ç°å¹¶æ²¡æœ‰ä»€ä¹ˆæ•ˆæœï¼Œä¾ç„¶æ˜¯ä¸Šé¢çš„é”™è¯¯æç¤ºã€‚</p>
<p>æˆ‘å½“å‰ä½¿ç”¨çš„ <code>Goland</code> ç‰ˆæœ¬æ˜¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GoLand 2020.1.3</span><br><span class="line">Build #GO-201.7846.93, built on June 4, 2020</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿæ€€ç–‘æ˜¯å› ä¸ºä½¿ç”¨çš„ <code>Goland</code> ç‰ˆæœ¬å¤ªä½äº†ï¼Œä½†è¿˜ä¸è‡³äºè¯´å‡çº§äº† <code>Golang</code> çš„ç‰ˆæœ¬åï¼Œ <code>Goland</code> å°±ä¸èƒ½ä½¿ç”¨çš„ç¨‹åº¦ã€‚</p>
<hr>
<p>æœ€ååªå¾—ä¸Šç½‘æœç´¢ï¼Œç»ˆäºæ‰¾åˆ°è§£å†³æ–¹æ³•ã€‚</p>
<p>ç¬¬ä¸€æ­¥ï¼Œæ‰§è¡Œ <code>go env</code> æ‰¾åˆ°å½“å‰ <code>GOROOT</code> çš„ç›®å½•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ go env</span><br><span class="line"></span><br><span class="line">GOROOT&#x3D;&quot;&#x2F;usr&#x2F;local&#x2F;go&quot;</span><br></pre></td></tr></table></figure>



<p>ç¬¬äºŒæ­¥ï¼Œå®šä½åˆ°è¯¥ç›®å½•ä¸‹çš„ <code>src/runtime/internal/sys</code> ç›®å½•ä¸­çš„ <code>zversion.go</code> æ–‡ä»¶ï¼Œå³ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ sudo vim &#x2F;usr&#x2F;local&#x2F;go&#x2F;src&#x2F;runtime&#x2F;internal&#x2F;sys&#x2F;zversion.go</span><br><span class="line">Password:</span><br></pre></td></tr></table></figure>



<p>ç¬¬ä¸‰æ­¥ï¼Œåœ¨è¯¥æ–‡ä»¶æœ«å°¾æ·»åŠ ä¸€è¡Œ  <code>const theVersion = `go1.17`</code>ï¼š</p>
<p>æœ€ç»ˆæ•ˆæœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; Code generated by go tool dist; DO NOT EDIT.</span><br><span class="line">package sys</span><br><span class="line">const StackGuardMultiplierDefault &#x3D; 1</span><br><span class="line">const theVersion &#x3D; &#96;go1.17&#96;</span><br></pre></td></tr></table></figure>

<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20211206120016.png" alt="20211206120016"></p>
<p>ç¬¬å››æ­¥ï¼Œé‡å¯ <code>Goland</code> ã€‚ç„¶åæ‰¾åˆ° <code>Preferences -- Go -- GOROOT</code> é¡¹ï¼Œæ­¤æ—¶ä¸‹æ‹‰é¡¹ä¸­å°±å‡ºç°äº† <code>Go1.17</code> çš„é€‰é¡¹ï¼Œé€‰ä¸­å¹¶åº”ç”¨å³å¯ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20211206120038.png" alt="20211206120038"></p>
<hr>
<p>ç›¸å…³å‚è€ƒ</p>
<ul>
<li><a href="https://youtrack.jetbrains.com/issue/GO-11588" target="_blank" rel="noopener">goland doesnâ€™t work after upgraded to go1.17 : GO-11588</a></li>
</ul>
]]></content>
      <categories>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>Golang</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½ ä¸‹è½½â€œå›½å®¶åè¯ˆä¸­å¿ƒâ€Appäº†å—ï¼Ÿ</title>
    <url>/2021/11/23/have-you-download-the-national-anti-fraud-center-app/</url>
    <content><![CDATA[<p>â€œä½ ä¸‹è½½ å›½å®¶åè¯ˆä¸­å¿ƒApp äº†å—ï¼Ÿâ€ è®°å¾—è¿™å¥è¯ç«èµ·æ¥è¿˜æ˜¯åœ¨å‰æ®µæ—¶é—´çš„æŠ–éŸ³ä¸Šã€‚ä½†æœ€è¿‘çš„ä¸€äº›ä¸ªäººç»å†åˆè®©æˆ‘ä¸å¾—ä¸å†æ¬¡æƒ³èŠèŠè¿™ä¸ªè¯é¢˜ã€‚</p>
<p>å‰æ®µæ—¶é—´åŠç†åŒ—äº¬å±…ä½è¯ç»­ç­¾ï¼Œä¸Šé—¨æ ¸æŸ¥çš„æ°‘è­¦è¦æ±‚ä¸‹è½½ä¸€ä¸ªåè¯ˆçš„Appã€‚æˆ‘è¯´æˆ‘å·²ç»ä¸‹è½½äº† â€œå›½å®¶åè¯ˆä¸­å¿ƒâ€Appï¼Œä½†æ°‘è­¦åŒå¿—è¯´ä¸æ˜¯é‚£ä¸ªï¼Œéœ€è¦æ‰«ä»–æä¾›çš„äºŒç»´ç è¿›è¡Œä¸‹è½½ï¼Œæ³¨å†Œåå°†ä¸ªäººä¿¡æ¯é¡µæˆªå±å‘ç»™ä»–æ‰å¯ä»¥ã€‚æ‰«ç åæˆ‘å‘ç°ä¸‹è½½çš„æ˜¯ä¸€ä¸ªåä¸º â€œå…¨æ°‘åè¯ˆâ€çš„Appã€‚ä»”ç»†çš„çœ‹äº†çœ‹ï¼Œæ„Ÿè§‰å’Œâ€œå›½å®¶åè¯ˆä¸­å¿ƒâ€Appçš„åŠŸèƒ½éƒ½å·®ä¸å¤šï¼Œä¹Ÿå°±æ˜¯æ”¹äº†ä¸ªåå­—è€Œå·²ã€‚</p>
<p>åæ¥åé«˜é“å›è€å®¶ï¼Œåœ¨å‡ºç«™å£æŸ¥å®Œäº†èº«ä»½è¯åè¢«æ£€æŸ¥çš„æ°‘è­¦ç»™æ‹¦ä¸‹æ¥äº†ã€‚ä¹Ÿæ˜¯è®©æ‰«ç ä¸‹è½½ â€œå›½å®¶åè¯ˆä¸­å¿ƒâ€App ä¹‹åæ‰å¯ä»¥å‡ºç«™ã€‚</p>
<p>æˆ‘è·Ÿé‚£ä½æ°‘è­¦è¯´ï¼Œæˆ‘å·²ç»ä¸‹è½½è¿‡äº†ï¼Œé¡ºæ‰‹å°±è¦æ‰“å¼€æ‰‹æœºç»™ä»–çœ‹ã€‚ç„¶åä»–è¯´ï¼šâ€œé‚£ä¸ªä¸è¡Œï¼Œä½ å¿…é¡»æ‰«æˆ‘çš„äºŒç»´ç æ‰å¯ä»¥ã€‚â€ æˆ‘åªå¥½æŒ‰ä»–çš„è¦æ±‚ï¼Œæ‰«æä»–äº®å‡ºæ¥çš„äºŒç»´ç ï¼Œæ‰“å¼€äº†ä¸€ä¸ªå¾®ä¿¡é¡µé¢ï¼Œå¡«å†™äº†ä¸ªäººçš„èº«ä»½è¯ä¿¡æ¯ï¼Œéœ€è¦æˆªå›¾åï¼ŒæˆåŠŸæäº¤æˆªå›¾æ‰å¯ä»¥ã€‚æ•´ä¸ªè¿‡ç¨‹è™½ç„¶åªæ˜¯è®©æˆ‘æäº¤äº†æˆªå›¾ï¼Œå¹¶æ²¡æœ‰å¼ºåˆ¶è®©æˆ‘ä¸‹è½½å®‰è£…Appå¹¶æ³¨å†Œã€‚ä½†å¿ƒé‡Œè¿˜æ˜¯è§‰å¾—æŒºä¸èˆ’æœçš„ã€‚</p>
<p>åˆæ˜¯åæ¥çš„ä¸€æ¬¡ï¼Œæˆ‘éª‘è½¦å»åŸé‡ŒåŠäº‹ã€‚åœ¨ä¸€ä¸ªåå­—è·¯å£è¢«èº«ç©¿åˆ¶æœçš„â€œæ°‘è­¦â€ç»™æ‹¦ä¸‹æ¥äº†ï¼Œç¬¬ä¸€å¥å°±é—®æˆ‘æœ‰æ²¡æœ‰ä¸‹è½½ â€œå›½å®¶åè¯ˆä¸­å¿ƒâ€App ã€‚æˆ‘è¯´æˆ‘å·²ç»ä¸‹è½½äº†ï¼Œç„¶åé¡ºåŠ¿è¦ææ‰‹æœºç»™ä»–çœ‹ï¼Œè¿™æ¬¡è¿˜å¥½ï¼Œè¿™ä½æ°‘è­¦ç›´æ¥æ‘†æ‘†æ‰‹è®©æˆ‘èµ°äº†ï¼Œä¹Ÿæ²¡æœ‰è¿‡å¤šçš„è¯´ä»€ä¹ˆã€‚</p>
<hr>
<p>ç»¼åˆä»¥ä¸Šçš„ä¸ªäººç»å†ï¼Œæ„Ÿè§‰ä¸‹è½½ â€œå›½å®¶åè¯ˆä¸­å¿ƒâ€App ä¼¼ä¹å·²ç»æˆäº†ä¸€é¡¹ <code>zhengzhi</code> ä»»åŠ¡ä¸€æ ·ã€‚</p>
<p>è¿™é‡Œæš‚ä¸”ä¸è®ºå…¶åè¯ˆæ•ˆæœå¦‚ä½•ï¼Œå…‰ä»è¿™ä¸€æ¨å¹¿ç¨‹åº¦æ¥è¯´ï¼Œæ²¡æœ‰å“ªä¸€æ¬¾Appèƒ½å¤Ÿæ¯”å¾—ä¸Šã€‚</p>
<p>å›è¿‡å¤´æ¥æƒ³æƒ³ï¼Œä¸å…¶è¿™æ ·å¤§åŠ›åº¦çš„è®©å¹¿å¤§äººæ°‘ç¾¤ä¼—å»å®‰è£…ä¸€æ¬¾Appï¼Œä¸ºä½•ä¸ä»æºå¤´æŠ“èµ·ï¼Œå»å¤§åŠ›åº¦çš„æ‰“å‡» <code>ç”µä¿¡è¯ˆéª—</code> å‘¢ï¼Ÿ</p>
<p>ä¾æ®ï¼š</p>
<blockquote>
<p>ã€Šåˆ‘æ³•ã€‹ç¬¬äºŒç™¾å…­åå…­æ¡ï¼šè¯ˆéª—å…¬ç§è´¢ç‰©ï¼Œæ•°é¢è¾ƒå¤§çš„ï¼Œå¤„ä¸‰å¹´ä»¥ä¸‹æœ‰æœŸå¾’åˆ‘ã€æ‹˜å½¹æˆ–è€…ç®¡åˆ¶ï¼Œå¹¶å¤„æˆ–è€…å•å¤„ç½šé‡‘ï¼›æ•°é¢å·¨å¤§æˆ–è€…æœ‰å…¶ä»–ä¸¥é‡æƒ…èŠ‚çš„ï¼Œå¤„ä¸‰å¹´ä»¥ä¸Šåå¹´ä»¥ä¸‹æœ‰æœŸå¾’åˆ‘ï¼Œå¹¶å¤„ç½šé‡‘ï¼›æ•°é¢ç‰¹åˆ«å·¨å¤§æˆ–è€…æœ‰å…¶ä»–ç‰¹åˆ«ä¸¥é‡æƒ…èŠ‚çš„ï¼Œå¤„åå¹´ä»¥ä¸Šæœ‰æœŸå¾’åˆ‘æˆ–è€…æ— æœŸå¾’åˆ‘ï¼Œå¹¶å¤„ç½šé‡‘æˆ–è€…æ²¡æ”¶è´¢äº§ã€‚</p>
</blockquote>
<p>å¦‚æœå°†ç°æœ‰çš„å¤„ç½šåŠ›åº¦å¢åŠ ä¸€å€ï¼Œæ˜¯å¦èƒ½å¤Ÿé™ä½æŠ±æœ‰ä¾¥å¹¸å¿ƒç†å®æ–½ç”µä¿¡è¯ˆéª—çš„äººå‘˜å‘¢ï¼Ÿè‡³å°‘ï¼Œä¹Ÿèƒ½èµ·åˆ°ä¸€å®šçš„å¨æ…‘ä½œç”¨å§ã€‚</p>
]]></content>
      <categories>
        <category>äººç”Ÿéšæ„Ÿ</category>
      </categories>
      <tags>
        <tag>äººç”Ÿæ„Ÿæ‚Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>Gité‡‡ç”¨å¼ºåˆ¶è¦†ç›–æ³•åˆå¹¶ä»£ç æäº¤</title>
    <url>/2021/11/11/git-mandatory-coverage-merge-branch/</url>
    <content><![CDATA[<p>æœ‰è¿™æ ·ä¸€ç§åœºæ™¯ï¼š</p>
<p>æˆ‘å’ŒåŒäº‹Aåˆä½œå¼€å‘åŒä¸€ä¸ªåŠŸèƒ½æ¨¡å—ã€‚æˆ‘ä»¬ä» <code>dev</code> åˆ†æ”¯åˆ†åˆ« <code>checkout</code> å‡ºä¸€ä¸ªè‡ªå·±çš„åˆ†æ”¯æ¥è¿›è¡Œå¼€å‘ï¼Œå®Œæˆåå†åˆå¹¶åˆ° <code>dev</code> åˆ†æ”¯ä¸Šå»è¿›è¡Œæµ‹è¯•ã€‚</p>
<p>å¯èƒ½å‡ºç°çš„æƒ…å†µæ˜¯ï¼Œæˆ‘ä»¬åŒæ—¶æäº¤ä»£ç åˆ° <code>dev</code> åˆ†æ”¯ä¸Šï¼Œç„¶åå‡ºç°äº†å†²çªçš„æƒ…å†µã€‚å°†è‡ªå·±çš„åˆ†æ”¯åˆå¹¶åˆ° <code>dev</code> åˆ†æ”¯åï¼Œç»“æœåœ¨æ‰§è¡Œ <code>git push</code> çš„æ—¶å€™å´æäº¤ä¸ä¸Šå»äº†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ git push origin dev:dev</span><br><span class="line">To ssh:&#x2F;&#x2F;github.com&#x2F;example&#x2F;demo_project</span><br><span class="line"> ! [rejected]          dev -&gt; dev (non-fast-forward)</span><br><span class="line">error: failed to push some refs to &#39;ssh:&#x2F;&#x2F;github.com&#x2F;example&#x2F;demo_project&#39;</span><br><span class="line">hint: Updates were rejected because the tip of your current branch is behind</span><br><span class="line">hint: its remote counterpart. Integrate the remote changes (e.g.</span><br><span class="line">hint: &#39;git pull ...&#39;) before pushing again.</span><br><span class="line">hint: See the &#39;Note about fast-forwards&#39; in &#39;git push --help&#39; for details.</span><br></pre></td></tr></table></figure>

<p>é”™è¯¯ä¿¡æ¯ä¸­æç¤ºéœ€è¦å…ˆæ‰§è¡Œ <code>git pull</code> æ‹‰å–æœ€æ–°ä»£ç ï¼Œä½†æ‰§è¡Œåå‘ç°å¹¶æ²¡æœ‰ä»£ç è¢«æ‹‰å–ä¸‹æ¥ã€‚</p>
<hr>
<p>é‡åˆ°è¿™ç§æƒ…å†µçš„æ—¶å€™ï¼Œå¯ä»¥é‡‡ç”¨å¼ºåˆ¶è¦†ç›–æ³•æ¥å®ç°ä»£ç çš„åˆå¹¶æäº¤ã€‚</p>
<p>ä¾‹å¦‚æˆ‘å½“å‰çš„å¼€å‘åˆ†æ”¯ä¸º <code>test</code>ï¼Œæµ‹è¯•åˆ†æ”¯ <code>dev</code> ã€‚</p>
<ol>
<li><p>æ‹‰å–è¿œç«¯åˆ†æ”¯ï¼š <code>git pull origin dev:dev</code></p>
</li>
<li><p>åˆå¹¶æˆ‘çš„å¼€å‘åˆ†æ”¯åˆ°æœ¬åœ° <code>dev</code> åˆ†æ”¯ï¼š</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git checkout dev</span><br><span class="line">git merge test</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>ç„¶åå°† <code>dev</code> æäº¤åˆ°è¿œç«¯ç»“æœæŠ¥ä¸Šé¢çš„é”™è¯¯</li>
</ol>
<p>è§£å†³æ–¹æ³•ï¼š</p>
<p>æ ¸å¿ƒæ€è·¯æ˜¯ï¼šé€šè¿‡æ‹‰å–è¿œç«¯çš„ <code>origin/dev</code> åˆ†æ”¯å¼ºåˆ¶è¦†ç›–æœ¬åœ°çš„ <code>dev</code> åˆ†æ”¯ï¼Œç„¶åå†æ‰§è¡Œåˆ†æ”¯åˆå¹¶ï¼Œæœ€åå°†æœ¬åœ°çš„ <code>dev</code> åˆ†æ”¯æäº¤åˆ°è¿œç«¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git checkout dev</span><br><span class="line"></span><br><span class="line">git fetch --all</span><br><span class="line"></span><br><span class="line">git reset --hard origin&#x2F;dev # è¿™é‡Œ dev è¦ä¿®æ”¹ä¸ºå¯¹åº”çš„åˆ†æ”¯å</span><br><span class="line"></span><br><span class="line">git pull</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·æ“ä½œåï¼Œä¼šå°†æœ¬åœ°çš„ <code>dev</code> åˆ†æ”¯æ‹‰å–ä¸ºè¿œç«¯çš„æœ€æ–°æäº¤ã€‚</p>
<p>ç„¶åå†æ‰§è¡Œåˆå¹¶çš„æ“ä½œå°±ä¸ä¼šå‡ºç°å†²çªçš„æƒ…å†µäº†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git merge test</span><br><span class="line"></span><br><span class="line">git push origin dev:dev</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Gitæ“ä½œç³»åˆ—</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>2021å¹´åŒ—äº¬å±…ä½è¯ç­¾æ³¨å°è®°</title>
    <url>/2021/11/05/beijing-residence-permit-endorsement-2021/</url>
    <content><![CDATA[<p>ä»2021å¹´èµ·ï¼ŒåŒ—äº¬å±…ä½è¯å…¨é¢æ”¹ä¸ºç”µå­å±…ä½è¯ï¼Œåœæ­¢å‘æ”¾å®ä½“å±…ä½è¯ã€‚ç”µå­å±…ä½è¯è¦é€šè¿‡ â€œåŒ—äº¬é€šAppâ€ æ¥è¿›è¡Œç”³é¢†å’Œç­¾æ³¨ç­‰æ“ä½œã€‚</p>
<h4 id="æäº¤èµ„æ–™"><a href="#æäº¤èµ„æ–™" class="headerlink" title="æäº¤èµ„æ–™"></a>æäº¤èµ„æ–™</h4><p>ç­¾æ³¨æ—¶å¦‚æœä¸éœ€è¦å˜æ›´ä½å€ä¿¡æ¯ï¼Œç›´æ¥ä½¿ç”¨ä¹‹å‰çš„ä½å€ä¿¡æ¯æäº¤å³å¯ã€‚å¦‚æœæ›´æ¢äº†å±…ä½ä¿¡æ¯ï¼Œè¿˜éœ€è¦é‡æ–°æäº¤å±…ä½è¯æ˜ã€‚</p>
<p>æäº¤å±…ä½ä¿¡æ¯æ—¶ï¼Œæˆ‘å¯¹ç§Ÿæˆ¿åˆåŒå‡ é¡µè¿›è¡Œäº†æ‹ç…§ä¸Šä¼ ï¼Œå¡«å†™äº†ç°ä½å€å°åŒºåœ°å€ï¼Œå¡«å†™äº†æˆ¿ä¸œçš„å§“åå’Œç”µè¯ï¼Œé€‰æ‹©äº†å°åŒºæ‰€åœ¨ç‰‡åŒºçš„æ´¾å‡ºæ‰€å³å¯ã€‚</p>
<p>ä¹‹åï¼Œå°±æ˜¯ç­‰å¾…å®¡æ ¸å¤„ç†ã€‚ä¼šæœ‰ç›¸å…³çš„æ°‘è­¦ç»™ä½ æ‰“ç”µè¯ç¡®è®¤ä¸Šé—¨æ ¸æŸ¥æ—¶é—´ã€‚</p>
<h4 id="ä¸Šé—¨æ ¸æŸ¥"><a href="#ä¸Šé—¨æ ¸æŸ¥" class="headerlink" title="ä¸Šé—¨æ ¸æŸ¥"></a>ä¸Šé—¨æ ¸æŸ¥</h4><p>æ°‘è­¦ä¸Šé—¨æ ¸æŸ¥ï¼Œéœ€è¦ä½ å…ˆå¡«å†™ä¸€ä»½ã€Šå¤–åœ°äººå‘˜æ¥äº¬ä¿¡æ¯ç™»è®°è¡¨ã€‹(å¥½åƒæ˜¯å«è¿™ä¸ªåç§°ï¼Œå…·ä½“å¿˜è®°äº†)ã€‚ä¸»è¦å°±æ˜¯å¡«å†™ä¸ªäººä¿¡æ¯ï¼Œåœ¨äº¬å±…ä½åœ°ä¿¡æ¯ï¼Œåœ¨äº¬å·¥ä½œä¿¡æ¯ï¼Œç¼´çº³ç¤¾ä¿é¡¹ç­‰å†…å®¹ã€‚</p>
<p>ç„¶åï¼Œéœ€è¦æ‹ä¸¤å¼ ç…§ç‰‡ï¼Œä¸€å¼ æ˜¯ä¸ªäººæ‰‹æŒèº«ä»½è¯æ‹ç…§ï¼Œä»¥è¡¨æ˜ç¡®å®å±…ä½åœ¨è¯¥åœ°å€ï¼›ä¸€å¼ æ˜¯å’Œæ°‘è­¦ä¸€èµ·çš„ç…§ç‰‡ï¼Œä»¥è¯´æ˜æ°‘è­¦ç¡®å®è¿›è¡Œäº†ä¸Šé—¨æ ¸æŸ¥çš„æµç¨‹ã€‚</p>
<p>åœ¨å’Œæ°‘è­¦äº¤è°ˆä¸­ï¼Œæˆ‘ä¹Ÿäº†è§£å¹¶ç¡®è®¤äº†å¦‚ä¸‹çš„å‡ ç‚¹ä¿¡æ¯ï¼š</p>
<ol>
<li>å°±æ˜¯ä»ä»Šå¹´å³2021å¹´å¼€å§‹ï¼Œå¿…é¡»è¦æ±‚æ°‘è­¦ä¸Šé—¨æ ¸æŸ¥æ˜¯å¦åœ¨å½“å‰æ‰€åœ¨åœ°å±…ä½ã€‚ä¸€æ–¹é¢æ˜¯ä»Šå¹´ç–«æƒ…çš„å½±å“ï¼Œæ¶‰åŠåˆ°å¤§æ•°æ®åˆ†æäººå‘˜æµè°ƒä¿¡æ¯ï¼Œä¸ºäº†é˜²æ­¢å‡ºç°äººå‘˜å±…ä½åœ°å€ä¸ä¸€è‡´çš„æƒ…å†µï¼Œæµè°ƒæ—¶å°±ä¼šæ¯”è¾ƒéº»çƒ¦ï¼›å¦ä¸€æ–¹é¢æ®è¯´æ˜¯æœ‰æˆ¿ä¸œæŠ•è¯‰è¯´ç§Ÿå®¢å·²ç»æ¬ç¦»ä½†è¿˜æ˜¯ä½¿ç”¨åŸå…ˆçš„ä½å€ä¿¡æ¯è¿›è¡Œç­¾æ³¨ï¼Œæˆ¿ä¸œæ„è§æ¯”è¾ƒå¤§ã€‚<br>æˆ‘ä¸€å¼€å§‹ä¹Ÿæ˜¯æ‰“ç®—å°±ç›´æ¥ä½¿ç”¨å»å¹´çš„ä½å€ä¿¡æ¯æäº¤å°±å®Œäº‹äº†ï¼Œä½†æ²¡æƒ³åˆ°ä»Šå¹´å¿…é¡»ä¸Šé—¨æ ¸æŸ¥ï¼Œæ‰€ä»¥ä¹Ÿå°±æ²¡æœ‰â€œä½œå¼Šâ€çš„å¯èƒ½äº†ã€‚<br><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20211111191841.png" alt="20211111191841"></li>
<li>å¦‚æœæ˜¯å‡ ä¸ªäººåˆç§Ÿçš„é‚£ç§ï¼Œåœ¨æ°‘è­¦ä¸Šé—¨æ ¸æŸ¥æ—¶ï¼Œå…¶ä»–çš„äººä¹Ÿå¯ä»¥åŒæ—¶åŠç†å±…ä½è¯æˆ–ç­¾æ³¨ã€‚è¿™æ ·æ¥è¯´å°±æ¯”è¾ƒæ–¹ä¾¿ã€‚(å…·ä½“å¦‚ä½•æ“ä½œå¯è¯¢é—®ä¸Šé—¨çš„æ°‘è­¦)</li>
</ol>
]]></content>
      <categories>
        <category>äººç”Ÿéšæ„Ÿ</category>
      </categories>
      <tags>
        <tag>äººåœ¨å¸éƒ½</tag>
      </tags>
  </entry>
  <entry>
    <title>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æ¢ä¸ªè§’åº¦çœ‹é—®é¢˜</title>
    <url>/2021/10/22/think-about-the-problem-use-another-way/</url>
    <content><![CDATA[<p>éšç€å…¬å¸äººå‘˜é˜Ÿä¼çš„ä¸æ–­å£®å¤§ï¼Œ10æœˆä»½ä¹‹åæˆ‘ä»¬å°±æ¬åˆ°äº†æ–°çš„åŠå…¬æ¥¼è¿›è¡ŒåŠå…¬ã€‚</p>
<p>ä½†å…¬å¸çš„æ•´ä½“è£…ä¿®æ˜¯åœ¨ä¹æœˆåº•å®Œæˆçš„ï¼Œä¹Ÿå°±æ˜¯ä»è£…ä¿®å®Œæˆåˆ°æ­£å¼å…¥é©»ï¼Œæ–°çš„åŠå…¬å®¤åªç»è¿‡äº†ä¸€ä¸ªå›½åº†å‡æœŸçš„ <code>ç”²é†›é€šé£æ•£å‘³æ—¶é—´</code>ã€‚</p>
<p>å¯æƒ³è€ŒçŸ¥ï¼ŒåŠå…¬å®¤é‡Œçš„ç¯å¢ƒéå¸¸ä¸é€‚åˆåŠå…¬ï¼Œåœ¨é‡Œé¢å¾…ä¸äº†å‡ åˆ†é’Ÿå°±ä¼šå¤´æ™•ã€‚</p>
<p>è™½ç„¶å…¬å¸é‡Œé¢æ‘†æ»¡äº†å„ç§ç»¿æ¤å’Œç‚­åŒ…ï¼Œä½†è¿™ç§æ–¹å¼è§æ•ˆå¤ªæ…¢äº†ã€‚</p>
<p>åæ¥ï¼Œå…¬å¸åˆè´­ä¹°äº†å‡ å°å°ç±³ç©ºæ°”å‡€åŒ–å™¨ï¼Œä¸€å¤©24å°æ—¶å¼€ç€ï¼Œä½†å¥ˆä½•å…¬å¸é¢ç§¯å¤ªå¤§ï¼Œæ•ˆæœä¹Ÿå¹¶ä¸æ˜¯å¾ˆæ˜æ˜¾ã€‚</p>
<p>å†åæ¥çš„ä¸€å¤©ï¼Œå…¬å¸æ¥äº†å‡ ä¸ªå¸ˆå‚…ï¼Œçœ‹ç€ä»–ä»¬å¯¹å‡ å°å°ç±³çš„ç©ºæ°”å‡€åŒ–å™¨åšäº†æ”¹é€ ï¼Œé¡¿æ—¶æˆ‘å°±å¥½å¥‡èµ·æ¥ã€‚</p>
<p>æ”¹é€ åçš„æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20211107100140.JPG" alt="20211107100140"></p>
<p>è®©æˆ‘æ„Ÿè§‰å¥‡æ€ªçš„åœ°æ–¹æ˜¯ï¼š</p>
<ol>
<li>ä»–ä»¬å±…ç„¶æŠŠå°ç±³ç©ºæ°”å‡€åŒ–å™¨æ”¾åœ¨äº†å¤–é¢</li>
<li>ä¸‹é¢ä¸€ä¾§çš„æŒ¡æ¿æ¢æˆäº†ä¸€ä¸ªå¸¦å¼€å£çš„æŒ¡æ¿</li>
<li>æŠŠä¸Šé¢çš„å‡ºæ°”å£æ¥åˆ°äº†çª—æˆ·é‡Œé¢</li>
<li>æŠŠçª—æˆ·å°èµ·æ¥äº†</li>
</ol>
<p>å½“æ—¶æˆ‘çš„ç¬¬ä¸€æ„Ÿè§‰å°±æ˜¯ï¼šè¿™ä¸æ˜¯è„‘æ®‹å—ï¼Ÿè¿™ä¸æ˜¯å‡€åŒ–å¤–é¢çš„ç©ºæ°”å¹åˆ°äº†å±‹é‡Œå—ï¼Ÿè¿™æ˜¯ä»€ä¹ˆæƒ…å†µï¼Ÿ</p>
<p>æŒ‰ç…§å¸¸ç†æ¥è¯´ï¼Œç©ºæ°”å‡€åŒ–å™¨æˆ‘ä»¬éƒ½æ˜¯æ”¾åœ¨å®¤å†…ï¼Œå®¤å†…çš„ç©ºæ°”ç»è¿‡å‡€åŒ–å™¨çš„ä¸æ–­å¾ªç¯å¤„ç†åä»¥ä½¿å®¤å†…ç©ºæ°”è´¨é‡è¾¾åˆ°ä¼˜ç§€ã€‚</p>
<p>ä½†ä»–ä»¬å´æŠŠå‡€åŒ–å™¨æ”¾åˆ°äº†å¤–é¢ã€‚ã€‚ã€‚</p>
<hr>
<p>æœ¬ç€ <code>ä¸€æ¢ç©¶ç«Ÿ</code> çš„æƒ³æ³•ï¼Œæˆ‘å°±æƒ³ææ¸…æ¥šä»–ä»¬ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆè®¾è®¡ï¼Œä½†æˆ‘ä¹Ÿä¸å¥½æ„æ€ç›´æ¥å»é—®é‚£äº›å®‰è£…å¸ˆå‚…ä»¬ã€‚</p>
<p>ç›´åˆ°æˆ‘çœ‹åˆ°å¸ˆå‚…ä»¬æ‹†ä¸‹æ¥çš„è£…é…ä»¶çš„çº¸ç®±å­æ—¶ï¼Œä¸ºæˆ‘æ‰“å¼€äº†ä¸€ä¸ªçªç ´å£ã€‚</p>
<p>æˆ‘çœ‹åˆ°è¿™äº›çº¸ç®±å­ä¸Šé¢å†™ç€ <code>MATE</code> çš„æ ‡å¿—ï¼Œä¸Šç½‘ä¸€æœæ‰äº†è§£ã€‚</p>
<p>åŸæ¥è¿™ä¸ªè£…ç½®å« <code>MATEç±³çš®æ–°é£ç³»ç»Ÿ</code>ï¼Œæˆ–è€…å« <code>ç±³çš®æ–°é£æœº</code> ã€‚æ˜¯å°†å°ç±³ç©ºæ°”å‡€åŒ–å™¨æ”¹è£…æˆæ–°é£æœºçš„æ“ä½œã€‚è¿™ç§æ”¹è£…ï¼Œç›¸æ¯”èµ·ç›´æ¥è´­ä¹°ä¸€å°æ–°é£æœºæ¥è¯´ï¼Œæ›´ä¾¿å®œã€‚</p>
<hr>
<p>é‚£æ–°é£æœºç›¸æ¯”å‡€åŒ–å™¨æœ‰ä»€ä¹ˆä¼˜åŠ¿å‘¢ï¼Ÿ</p>
<p>è¿™ç§ <code>ç±³çš®æ–°é£æœº</code> çš„å·¥ä½œåŸç†æ˜¯ï¼šå‘å®¤å†…ä¸æ–­æ³¨å…¥æ–°é²œçº¯å‡€çš„ç©ºæ°”ï¼Œå°†å®¤å†…æµ‘æµŠçš„ç©ºæ°”ç¨€é‡Šå¹¶æŒ¤å‡ºå»ï¼Œå®ç°æ— æ­»è§’å‡€åŒ–ã€‚</p>
<p>å…·ä½“çš„å¯¹æ¯”å¯ä»¥çœ‹ä¸€ä¸‹å®˜æ–¹çš„å¹¿å‘Šï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20211111100910.png" alt="20211111100910"></p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20211111100959.png" alt="20211111100959"></p>
<hr>
<p>æè¿°çš„æ•ˆæœç¡®å®æŒºå‰å®³çš„ï¼Œä½†å…·ä½“çš„å‡€åŒ–æ•ˆæœæ€æ ·ï¼Œè¿˜è¦çœ‹çœŸå®çš„å®è·µæµ‹è¯•äº†ã€‚</p>
<p>ä¸è¿‡ç›¸æ¯”èµ·è´­ä¹°ä¸€å°æ­£å®—çš„æ–°é£æœºè€Œè¨€ï¼Œ<code>ç±³çš®æ–°é£æœº</code> ç¡®å®æ˜¯ä¸€ç§éå¸¸ä¾¿å®œçš„æ”¹è£…æ–¹æ¡ˆã€‚</p>
]]></content>
      <categories>
        <category>äººç”Ÿéšæ„Ÿ</category>
      </categories>
      <tags>
        <tag>äººç”Ÿæ„Ÿæ‚Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>go-zeroå¾®æœåŠ¡æ¡†æ¶å®è·µ-å…¥é—¨</title>
    <url>/2021/09/27/micro-service-framework-go-zero-start/</url>
    <content><![CDATA[<h3 id="ç‰ˆæœ¬"><a href="#ç‰ˆæœ¬" class="headerlink" title="ç‰ˆæœ¬"></a>ç‰ˆæœ¬</h3><p><code>go-zero</code> åŠ <code>goctl</code> é€‚ç”¨ç‰ˆæœ¬ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">goctl v1.2.0 ~ v1.2.5</span><br></pre></td></tr></table></figure>

<h3 id="goctlå‘½ä»¤"><a href="#goctlå‘½ä»¤" class="headerlink" title="goctlå‘½ä»¤"></a>goctlå‘½ä»¤</h3><h4 id="åˆ›å»ºapiæ¨¡æ¿æ–‡ä»¶"><a href="#åˆ›å»ºapiæ¨¡æ¿æ–‡ä»¶" class="headerlink" title="åˆ›å»ºapiæ¨¡æ¿æ–‡ä»¶"></a>åˆ›å»ºapiæ¨¡æ¿æ–‡ä»¶</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">goctl api -o user.api</span><br></pre></td></tr></table></figure>

<h4 id="ç”ŸæˆapiæœåŠ¡ï¼Œä½¿ç”¨é©¼å³°å‘½åæ ¼å¼"><a href="#ç”ŸæˆapiæœåŠ¡ï¼Œä½¿ç”¨é©¼å³°å‘½åæ ¼å¼" class="headerlink" title="ç”ŸæˆapiæœåŠ¡ï¼Œä½¿ç”¨é©¼å³°å‘½åæ ¼å¼"></a>ç”ŸæˆapiæœåŠ¡ï¼Œä½¿ç”¨é©¼å³°å‘½åæ ¼å¼</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">goctl api go -api user.api -dir . -style GoZero</span><br></pre></td></tr></table></figure>

<h4 id="åˆ›å»ºrpcæ¨¡æ¿æ–‡ä»¶"><a href="#åˆ›å»ºrpcæ¨¡æ¿æ–‡ä»¶" class="headerlink" title="åˆ›å»ºrpcæ¨¡æ¿æ–‡ä»¶"></a>åˆ›å»ºrpcæ¨¡æ¿æ–‡ä»¶</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">goctl rpc template -o user.proto</span><br></pre></td></tr></table></figure>

<h4 id="ç”ŸæˆrpcæœåŠ¡ï¼Œä½¿ç”¨é©¼å³°å‘½åæ ¼å¼"><a href="#ç”ŸæˆrpcæœåŠ¡ï¼Œä½¿ç”¨é©¼å³°å‘½åæ ¼å¼" class="headerlink" title="ç”ŸæˆrpcæœåŠ¡ï¼Œä½¿ç”¨é©¼å³°å‘½åæ ¼å¼"></a>ç”ŸæˆrpcæœåŠ¡ï¼Œä½¿ç”¨é©¼å³°å‘½åæ ¼å¼</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">goctl rpc proto -src user.proto -dir . -style GoZero</span><br></pre></td></tr></table></figure>


<h4 id="é€šè¿‡sqlæ–‡ä»¶ç”Ÿæˆä¸å¸¦ç¼“å­˜çš„modelï¼Œä½¿ç”¨é©¼å³°å‘½åæ ¼å¼"><a href="#é€šè¿‡sqlæ–‡ä»¶ç”Ÿæˆä¸å¸¦ç¼“å­˜çš„modelï¼Œä½¿ç”¨é©¼å³°å‘½åæ ¼å¼" class="headerlink" title="é€šè¿‡sqlæ–‡ä»¶ç”Ÿæˆä¸å¸¦ç¼“å­˜çš„modelï¼Œä½¿ç”¨é©¼å³°å‘½åæ ¼å¼"></a>é€šè¿‡sqlæ–‡ä»¶ç”Ÿæˆä¸å¸¦ç¼“å­˜çš„modelï¼Œä½¿ç”¨é©¼å³°å‘½åæ ¼å¼</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">goctl model mysql ddl -src user.sql -dir . -style GoZero</span><br><span class="line"></span><br><span class="line">goctl model mysql ddl -src user.sql -dir&#x3D;&quot;.&#x2F;user&quot; -style GoZero</span><br></pre></td></tr></table></figure>


<h4 id="é€šè¿‡è¿æ¥æ•°æ®åº“ç”Ÿæˆä¸å¸¦ç¼“å­˜çš„modelï¼Œä½¿ç”¨é©¼å³°å‘½åæ ¼å¼"><a href="#é€šè¿‡è¿æ¥æ•°æ®åº“ç”Ÿæˆä¸å¸¦ç¼“å­˜çš„modelï¼Œä½¿ç”¨é©¼å³°å‘½åæ ¼å¼" class="headerlink" title="é€šè¿‡è¿æ¥æ•°æ®åº“ç”Ÿæˆä¸å¸¦ç¼“å­˜çš„modelï¼Œä½¿ç”¨é©¼å³°å‘½åæ ¼å¼"></a>é€šè¿‡è¿æ¥æ•°æ®åº“ç”Ÿæˆä¸å¸¦ç¼“å­˜çš„modelï¼Œä½¿ç”¨é©¼å³°å‘½åæ ¼å¼</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">goctl model mysql datasource -url&#x3D;&quot;user:password@tcp(127.0.0.1:3306)&#x2F;database&quot; -table&#x3D;&quot;*&quot; -dir&#x3D;&quot;.&#x2F;user&quot; -style GoZero</span><br></pre></td></tr></table></figure>

<h4 id="é€šè¿‡sqlæ–‡ä»¶ç”Ÿæˆå¸¦ç¼“å­˜çš„modelï¼Œä½¿ç”¨é©¼å³°å‘½åæ ¼å¼"><a href="#é€šè¿‡sqlæ–‡ä»¶ç”Ÿæˆå¸¦ç¼“å­˜çš„modelï¼Œä½¿ç”¨é©¼å³°å‘½åæ ¼å¼" class="headerlink" title="é€šè¿‡sqlæ–‡ä»¶ç”Ÿæˆå¸¦ç¼“å­˜çš„modelï¼Œä½¿ç”¨é©¼å³°å‘½åæ ¼å¼"></a>é€šè¿‡sqlæ–‡ä»¶ç”Ÿæˆå¸¦ç¼“å­˜çš„modelï¼Œä½¿ç”¨é©¼å³°å‘½åæ ¼å¼</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">goctl model mysql ddl -src user.sql -dir . -c -style GoZero</span><br><span class="line"></span><br><span class="line">goctl model mysql ddl -src user.sql -dir&#x3D;&quot;.&#x2F;user&quot; -c -style GoZero</span><br></pre></td></tr></table></figure>

<h4 id="é€šè¿‡è¿æ¥æ•°æ®åº“ç”Ÿæˆå¸¦ç¼“å­˜çš„modelï¼Œä½¿ç”¨é©¼å³°å‘½åæ ¼å¼"><a href="#é€šè¿‡è¿æ¥æ•°æ®åº“ç”Ÿæˆå¸¦ç¼“å­˜çš„modelï¼Œä½¿ç”¨é©¼å³°å‘½åæ ¼å¼" class="headerlink" title="é€šè¿‡è¿æ¥æ•°æ®åº“ç”Ÿæˆå¸¦ç¼“å­˜çš„modelï¼Œä½¿ç”¨é©¼å³°å‘½åæ ¼å¼"></a>é€šè¿‡è¿æ¥æ•°æ®åº“ç”Ÿæˆå¸¦ç¼“å­˜çš„modelï¼Œä½¿ç”¨é©¼å³°å‘½åæ ¼å¼</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">goctl model mysql datasource -url&#x3D;&quot;user:password@tcp(127.0.0.1:3306)&#x2F;database&quot; -table&#x3D;&quot;*&quot; -dir&#x3D;&quot;.&#x2F;user&quot; -c -style GoZero</span><br></pre></td></tr></table></figure>

<h4 id="å¯åŠ¨æœåŠ¡"><a href="#å¯åŠ¨æœåŠ¡" class="headerlink" title="å¯åŠ¨æœåŠ¡"></a>å¯åŠ¨æœåŠ¡</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">go run user.go -f etc&#x2F;User-Api.yaml</span><br></pre></td></tr></table></figure>

<hr>
]]></content>
      <categories>
        <category>go-zeroå®è·µ</category>
      </categories>
      <tags>
        <tag>Golang</tag>
        <tag>go-zero</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸ºäº†5æ¯›é’±ï¼Œæˆ‘å’ŒåŒ—äº¬å…¬äº¤æ ä¸Šäº†</title>
    <url>/2021/08/15/beijing-bus-card-deduct-more-money/</url>
    <content><![CDATA[<p>å¹³æ—¶ä¸Šä¸‹ç­ï¼Œæˆ‘ä¹ æƒ¯äº†åå…¬äº¤é€šå‹¤ã€‚</p>
<p>ç›¸æ¯”èµ·åœ°é“ï¼Œæˆ‘ä¹˜åçš„985è·¯å…¬äº¤è½¦æ—©æ™šé«˜å³°æ—¶æ®µå¹¶ä¸ä¼šå¤ªæŒ¤ã€‚åˆ°äº†æœé˜³å…¬å›­é‚£æ®µè·¯çš„æ—¶å€™ï¼Œä¹Ÿä¸ä¼šé‡åˆ°å¤ªå¤šçš„ç§å®¶è½¦ï¼Œå‡ºç°æ‹¥å µçš„æƒ…å†µã€‚è€Œä¸”ç›¸æ¯”ä¹‹ä¸‹ï¼Œåå…¬äº¤æ›´è½»æ¾ä¸€äº›ï¼Œæ¯•ç«Ÿåœ°é“10å·çº¿å¤ªæŒ¤äº†ã€‚</p>
<p>8æœˆ6æ—¥å‘¨äº”ï¼Œæˆ‘å¦‚å¾€å¸¸ä¸€æ ·ä¸‹ç­åå…¬äº¤è½¦å›å®¶ã€‚æ²¡æƒ³åˆ°åœ¨ä¸‹è½¦åˆ·å¡çš„æ—¶å€™ï¼Œå´å‘ç°æ‰£äº†æˆ‘1.5å…ƒçš„ä¹˜è½¦è´¹ã€‚å¹³æ—¶æˆ‘ä¹˜åçš„è¿™æ®µè·¯çº¿è½¦è´¹éƒ½æ˜¯1å…ƒã€‚å½“æ—¶å°±æ„Ÿè§‰æœ‰äº›è¯§å¼‚ï¼Œä½†ä¹Ÿæ¥ä¸åŠè®©æˆ‘è¿‡å¤šçš„æ€è€ƒï¼Œå› ä¸ºè½¦å·²ç»åˆ°ç«™äº†ï¼Œæˆ‘åªå¥½å…ˆä¸‹è½¦ã€‚</p>
<p>å›åˆ°å®¶è¶Šæƒ³è¿™ä¸ªäº‹æƒ…è¶Šè§‰å¾—ä¸çˆ½ã€‚å¿ƒæƒ³å¦‚æœæ˜¯è¿™è¶Ÿè·¯çº¿æ¶¨ä»·äº†ï¼Œé‚£æˆ‘å‘¨äº”æ—©æ™¨ä¸Šç­çš„æ—¶å€™æ‰£è´¹å´æ˜¯1å…ƒã€‚è™½ç„¶è¿™è¶Ÿè½¦æ˜¯åˆ†æ®µè®¡ä»·çš„ï¼Œä½†æˆ‘ä¸Šä¸‹ç­çš„è¿™æ®µè·¯ç¨‹ï¼Œéƒ½ä¸Šç­è¿™ä¹ˆé•¿æ—¶é—´äº†ï¼Œåˆ·å¡ä¸€ç›´éƒ½æ˜¯1å…ƒã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210905000935.jpg" alt="20210905000935"></p>
<p>ç„¶å7æ—¥æ™šä¸Šæˆ‘å°±åˆ°åŒ—äº¬ä¸€å¡é€šAppä¸­è¿›è¡Œäº†å¼‚å¸¸äº¤æ˜“ç”³è¯‰ã€‚ç­‰åˆ°8æœˆ8æ—¥å¾—åˆ°çš„å¤„ç†ç»“æœå´æ˜¯ â€œæœªæ£€æµ‹åˆ°å¼‚å¸¸æ‰£è´¹äº¤æ˜“â€ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210905001025.jpg" alt="20210905001025"></p>
<p>è¿™æ ·çš„å¤„ç†ç»“æœï¼Œè®©æˆ‘å¿ƒé‡Œæ›´åŠ çš„ä¸çˆ½äº†ã€‚</p>
<p>è¿™ä¸ªæ—¶å€™é’±å¤šå°‘å·²ç»ä¸æ˜¯é—®é¢˜äº†ï¼Œä¸ºäº†äº‰å£æ°”ï¼Œè¿™æ¬¡æˆ‘éè¦æä¸ªæ˜ç™½ä¸å¯ã€‚</p>
<p>ç„¶åæˆ‘å°±åˆåœ¨ â€œåœ¨çº¿å®¢æœâ€ ä¸­è¿›è¡Œäº†åé¦ˆï¼Œå®¢æœäººå‘˜ç­”å¤ä¼šæœ‰ç›¸å…³å·¥ä½œäººå‘˜è·Ÿæˆ‘è”ç³»å¤„ç†ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210905003801.jpg" alt="20210905003801"></p>
<p>å°±è¿™æ ·ï¼Œåˆæ˜¯æ€€ç€å¿å¿‘çš„å¿ƒæƒ…ç­‰å¾…äº†å‡ å¤©ã€‚</p>
<p>ç»ˆäºåœ¨11å·çš„æ—¶å€™æˆ‘æ”¶åˆ°äº†æˆåŠŸé€€æ¬¾çš„çŸ­ä¿¡é€šçŸ¥ï¼Œä½†è®©æˆ‘ç”Ÿæ°”çš„æ˜¯å¹¶æ²¡æœ‰æ‰€è°“çš„å·¥ä½œäººå‘˜è·Ÿæˆ‘è”ç³»ï¼Œå‘ŠçŸ¥æˆ‘ä¸ºä»€ä¹ˆä¼šå¤šæ‰£æ¬¾ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210905002103.jpg" alt="20210905002103"></p>
<p>è™½ç„¶è¯´å¤šæ‰£çš„é’±å·²ç»é€€ç»™æˆ‘äº†ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆä¼šå¤šæ‰£é’±æˆ‘åˆ°ç°åœ¨è¿˜æ²¡ææ˜ç™½ã€‚</p>
<p>æ€»ä¸èƒ½æ¯æ¬¡å¤šæ‰£é’±äº†æˆ‘å°±è¦è¾—è½¬å¤šæ¬¡çš„å»æ‰¾å®¢æœç”³è¯‰åé¦ˆï¼Œç­‰å¾…å¤„ç†ã€‚å¦‚æœæˆ‘ä¸æ˜¯ä¸€ä¸ªç‰¹åˆ«è¾ƒçœŸçš„äººï¼Œé‚£ä¸€æ¬¡0.5å…ƒï¼Œå¦‚æœæœ‰å¾ˆå¤šäººéƒ½å‡ºç°å¤šæ‰£æ¬¾çš„æƒ…å†µï¼Œæ„Ÿè§‰è¿™åˆæ˜¯ä¸€ä¸ªä¸å°çš„æ¼æ´å•Šã€‚</p>
<p>ä½†æ¯•ç«Ÿé’±å·²ç»é€€ç»™æˆ‘äº†ï¼Œæˆ‘å¦‚æœå†æ‰¾å®¢æœçš„è¯ï¼Œèƒ½ä¸èƒ½ç»™æˆ‘ä¸€ä¸ªæ»¡æ„çš„ç­”å¤ç›®å‰æ¥çœ‹è¿˜çœŸä¸å¥½è¯´äº†ã€‚å°±åœ¨æˆ‘çŠ¹è±«ä¸å®šçš„æ—¶å€™ï¼Œçªç„¶å‘ç°äº†ä¸€ä¸æ›™å…‰ã€‚</p>
<p>é‚£å¤©æ˜¯8æœˆ16æ—¥çš„å‘¨ä¸€æ—©æ™¨ä¸Šç­æ—¶ï¼Œæˆ‘æ­£å¥½ååœ¨äº†985è·¯å…¬äº¤è½¦å¸æœºåé¢çš„åº§ä½ã€‚è¿™ä¸ªåº§ä½æ­£å¥½èƒ½çœ‹åˆ°è¿™è¶Ÿå…¬äº¤è½¦çš„è¿è¥è·¯çº¿ç¥¨ä»·å›¾ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210905002356.png" alt="20210905002356"></p>
<p>æˆ‘æ‰å‘ç°åŸæ¥æˆ‘ä¹˜åè¿™è¶Ÿè½¦çš„ä¸Šè½¦ç«™å’Œä¸‹è½¦ç«™çš„åŒºé—´è½¦è´¹æ­£å¥½å¤„åœ¨ä¸€ä¸ªè¿‡æ¸¡çš„ç¥¨ä»·ã€‚</p>
<p>ä¾‹å¦‚ä¸Šå›¾ä¸­ï¼Œæˆ‘ä» <code>é¦–éƒ½å›¾ä¹¦é¦†ç«™</code> ä¸Šè½¦ï¼Œå¦‚æœæˆ‘åœ¨ <code>æ£è¥ç«™</code> ä¸‹è½¦ï¼Œé‚£è½¦è´¹å°±æ˜¯ <code>2å…ƒ</code> ï¼Œè€Œå¦‚æœæˆ‘åœ¨ <code>æ£è¥åŒ—ç«™</code> ä¸‹è½¦ï¼Œé‚£è½¦è´¹å°±æ˜¯ <code>3å…ƒ</code> äº†ã€‚</p>
<p>é‚£ä¹ˆé—®é¢˜åˆæ¥äº†ï¼Œæˆ‘ä¹˜è½¦æ—¶ä¸Šè½¦ç«™å’Œä¸‹è½¦ç«™æ˜æ˜æ˜¯åœ¨ <code>2å…ƒ</code> çš„åŒºé—´ç¥¨ä»·å†…ï¼Œè€Œå…¬äº¤è½¦æ‰£è´¹æ‰£å¾—æ˜¯å¤šä¸€ç«™çš„æƒ…å†µï¼Œä½†æ˜¯å…¬äº¤è½¦ä¸ŠæŠ¥ç«™å´æ˜¯æ­£å¸¸çš„ï¼Œé‚£ä¸ºä»€ä¹ˆä¼šå‡ºç° <code>å¤šåä¸€ç«™</code> çš„æƒ…å†µå‘¢ï¼Ÿ</p>
<p>åœ¨è½¦ä¸Šåäº†å‡ ç«™åœ°ä¹‹åï¼Œæˆ‘ä¼¼ä¹å‘ç°è¿™å…¶ä¸­çš„çŒ«è…»ã€‚é¡ºä¾¿åœ¨ç½‘ä¸Šæœç´¢äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚ææ˜ç™½äº†ä¸ºä»€ä¹ˆä¼šå¤šæ‰£æˆ‘é’±çš„åŸå› ã€‚</p>
<p>åŸæ¥ï¼Œå…¬äº¤è½¦çš„æŠ¥ç«™å¤§å¤šæ˜¯é€šè¿‡ç±»ä¼¼äºGPSå®šä½çš„æ–¹å¼æ¥æŠ¥ç«™çš„ã€‚å°±æ˜¯å½“ä¹˜åçš„å…¬äº¤è½¦è¿›ç«™æ—¶ï¼ŒGPSå®šä½å‘ç°è½¦è¾†è¿›å…¥ç«™ç‚¹ï¼Œå°±ä¼šè‡ªåŠ¨å¯åŠ¨æ’­æŠ¥ç¨‹åºï¼Œç¦»å¼€ç«™ç‚¹æ—¶åŒç†ã€‚è€Œå…¬äº¤è½¦ä¸Šçš„åˆ·å¡æœºå˜æ›´ç«™ç‚¹ï¼Œ<strong>æ˜¯ç”±å¸æœºäººå·¥æ“ä½œçš„</strong>ã€‚å¦‚æœä½ ä»”ç»†ç•™æ„çš„è¯ï¼Œä¼šå‘ç°æ¯æ¬¡å…¬äº¤è½¦å…³é—¨æ—¶ï¼Œå¸æœºéƒ½ä¼šæŒ‰ä¸€ä¸‹å³æ‰‹è¾¹è½¦é—¨æŒ‰é”®æ—è¾¹çš„ <code>åŠ ç«™æŒ‰é’®</code>ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210905002522.png" alt="20210905002522"></p>
<p>å¦‚æœå¸æœºå¿˜è®°äº†æŒ‰é”®ï¼Œé‚£å°±å¯èƒ½ä¼šå‡ºç°åˆ·å¡æœºå˜æ›´ç«™ç‚¹å»¶åçš„æƒ…å†µã€‚</p>
<p>æˆ‘åœ¨ä¹˜è½¦è¿‡ç¨‹ä¸­ï¼Œç¡®å®å‘ç°äº†è¿™ç§æƒ…å†µã€‚å½“æ—¶å…¬äº¤è½¦çš„æŠ¥ç«™æ˜¯æ­£å¸¸çš„ï¼Œå’Œåˆ°è¾¾çš„ç«™ç‚¹ä¸€è‡´ã€‚è€Œåˆ·å¡æœºä¸Šæ˜¾ç¤ºçš„ç«™ç‚¹åè¿˜æ˜¯å‰ä¸¤ç«™çš„ç«™ç‚¹åï¼Œä¹Ÿå°±æ˜¯è¯´å¸æœºå¿˜è®°äº†æŒ‰é”®ã€‚</p>
<p>é‚£ä¹ˆè¿™æ ·ä¸€æ¥ï¼Œå¯¹äºä¹˜ååŒºé—´ç¥¨ä»·çš„å…¬äº¤è½¦è€Œåˆåˆšå¥½åœ¨æ‰£è´¹è¿‡æ¸¡ç«™ç‚¹ä¸‹è½¦çš„ä¹˜å®¢æ¥è¯´ï¼Œå°±å¯èƒ½ä¼šå‡ºç°å¤šæ‰£è´¹çš„æƒ…å†µäº†ã€‚</p>
<p>åæ¥ï¼Œç»è¿‡æˆ‘çš„å¤šæ¬¡è§‚å¯Ÿï¼Œå‘ç°åˆ·å¡æœºå’ŒæŠ¥ç«™ç«™ç‚¹ä¸ä¸€è‡´çš„ç°è±¡ï¼Œåœ¨åŒ—äº¬çš„å¤šè¾†å…¬äº¤è½¦ä¸Šéƒ½æœ‰å‡ºç°ã€‚</p>
<p>ä¸è¿‡åˆ°ç›®å‰ï¼Œæˆ‘è¿˜æ²¡æœ‰æƒ³åˆ°æœ‰ä»€ä¹ˆæ–¹æ³•èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
]]></content>
      <categories>
        <category>äººç”Ÿéšæ„Ÿ</category>
      </categories>
      <tags>
        <tag>äººåœ¨å¸éƒ½</tag>
      </tags>
  </entry>
  <entry>
    <title>Golangé€šè¿‡ç»çº¬åº¦è®¡ç®—ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»</title>
    <url>/2021/08/13/get-distance-by-lat-and-lon/</url>
    <content><![CDATA[<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è®¡ç®—ä¸¤ä¸ªåæ ‡ç‚¹ä¹‹é—´çš„è·ç¦»</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"math"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// å¼ è‡ªå¿ è·¯ç«™</span></span><br><span class="line">	lat1:=<span class="number">39.939889</span></span><br><span class="line">	lng1:=<span class="number">116.423528</span></span><br><span class="line">	<span class="comment">// é˜œæˆé—¨ç«™</span></span><br><span class="line">	lat2:=<span class="number">39.929488</span></span><br><span class="line">	lng2:=<span class="number">116.362875</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(GetDistance(lat1, lat2, lng1, lng2))</span><br><span class="line">    <span class="comment">// å¾—åˆ°ç»“æœ 5.2991238</span></span><br><span class="line">    <span class="comment">// ç™¾åº¦åœ°å›¾æµ‹è· 5.3km</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿”å›å•ä½ä¸ºï¼šåƒç±³</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GetDistance</span><span class="params">(lat1, lat2, lng1, lng2 <span class="keyword">float64</span>)</span> <span class="title">float64</span></span> &#123;</span><br><span class="line">	radius := <span class="number">6371000.0</span> <span class="comment">//6378137.0</span></span><br><span class="line">	rad := math.Pi / <span class="number">180.0</span></span><br><span class="line">	lat1 = lat1 * rad</span><br><span class="line">	lng1 = lng1 * rad</span><br><span class="line">	lat2 = lat2 * rad</span><br><span class="line">	lng2 = lng2 * rad</span><br><span class="line">	theta := lng2 - lng1</span><br><span class="line">	dist := math.Acos(math.Sin(lat1)*math.Sin(lat2) + math.Cos(lat1)*math.Cos(lat2)*math.Cos(theta))</span><br><span class="line">	<span class="keyword">return</span> dist * radius / <span class="number">1000</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>Golang</tag>
      </tags>
  </entry>
  <entry>
    <title>Vueåˆ·æ–°å³æŠ¥é”™ Uncaught SyntaxError: Unexpected token &#39;&lt;&#39;</title>
    <url>/2021/07/21/vue-error-of-unexpected-token/</url>
    <content><![CDATA[<h4 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h4><p>vueé¡¹ç›®åœ¨è°ƒè¯•æ—¶ï¼Œå‘ç°ä¸€åˆ·æ–°é¡µé¢å°±æ˜¾ç¤ºç™½å±äº†ã€‚å…·ä½“é”™è¯¯ä¸ºï¼š</p>
<blockquote>
<p>Uncaught SyntaxError: Unexpected token â€˜&lt;â€™</p>
</blockquote>
<p>æ§åˆ¶å°ä¸­æ˜¾ç¤ºä¸Šé¢çš„é”™è¯¯æç¤ºï¼Œé¡µé¢ç™½å±ã€‚æŸ¥çœ‹è¯¦ç»†çš„æ–‡ä»¶é”™è¯¯ï¼Œä¹Ÿåªæ˜¯æ˜¾ç¤ºåœ¨é¡µå¤´éƒ¨åˆ†ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210721115315.png" alt="20210721115315"></p>
<hr>
<h4 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h4><p>å°† <code>vue.config.js</code> ä¸­çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  publicPath: &#39;.&#x2F;&#39;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ”¹ä¸ºå¦‚ä¸‹ï¼Œå³å¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  publicPath: &#39;&#x2F;&#39;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h4><ul>
<li><a href="https://stackoverflow.com/questions/51210795/vue-cli-uncaught-syntaxerror-unexpected-token" target="_blank" rel="noopener">javascript - vue cli - Uncaught SyntaxError: Unexpected token &lt; - Stack Overflow</a></li>
</ul>
]]></content>
      <categories>
        <category>Vueå‰ç«¯å¼€å‘</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>å¤©æ°”å¤ªæ™’ï¼Œå®å’šä¹°èœï¼Ÿ</title>
    <url>/2021/07/20/ding-dong-shopping/</url>
    <content><![CDATA[<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210720123040.png" alt="20210720123040"></p>
<p>è™½ç„¶æœ€è¿‘ç¤¾åŒºå›¢è´­çš„é£å¤´ä¸æ˜¯é‚£ä¹ˆçš„ç«äº†ï¼Œä½†ä¾ç„¶æŒ¡ä¸ä½å„å¤§å·¨å¤´ä»¬çš„æ¶Œå…¥ã€‚</p>
<p>ç¾å›¢ä¹°èœï¼Œå®å’šä¹°èœå’Œæ©™å¿ƒä¼˜é€‰æ˜¯æˆ‘å¹³æ—¶ç”¨çš„æ¯”è¾ƒå¤šçš„ä¸‰ç§ï¼Œä»Šå¤©å°±æ¥ç®€å•çš„èŠèŠè¿™ä¸‰ä¸ªçš„å·®åˆ«ï¼Œä¹Ÿç®—ç»™å¤§å®¶ä¸€äº›å‚è€ƒå§ã€‚</p>
<p>åœ¨é€‰æ‹©ç½‘ä¸Šä¹°èœä¹‹å‰ï¼Œæˆ‘ä¸€èˆ¬éƒ½ä¼šå»å°åŒºé™„è¿‘çš„å¤§å‹è¶…å¸‚ä¹°èœã€‚ç‰©ç¾è¶…å¸‚æ˜¯æˆ‘å»çš„æœ€å¤šçš„ä¸€å®¶ã€‚å’Œå®¶ä¹ç¦æ¯”èµ·æ¥ï¼Œç‰©ç¾çš„å•†å“ä»·æ ¼ï¼Œè¿˜æ˜¯ç›¸å¯¹ä¾¿å®œçš„ã€‚</p>
<p>ä½†è¿™ï¼Œå´æ¶ä¸ä½ç¾å›¢ä¹°èœçš„ä¸€åˆ†é’±10ä¸ªé¸¡è›‹æ¥çš„é¦™ã€‚</p>
<p>ä¸è¿‡ï¼Œæˆ‘å€’æ˜¯ä¸æƒ³è¯´ä»€ä¹ˆä¼˜ç‚¹ï¼Œåªæƒ³åæ§½åæ§½ç¼ºç‚¹ï¼Œæ¯•ç«Ÿä¸åä¸å¿«å˜›ã€‚</p>
<hr>
<h4 id="ç¾å›¢"><a href="#ç¾å›¢" class="headerlink" title="ç¾å›¢"></a>ç¾å›¢</h4><p>ç¾å›¢ä¹°èœæ˜¯æˆ‘é¦–å…ˆå¼€å§‹ä½¿ç”¨çš„ã€‚<br>æˆ‘ç¬¬ä¸€æ¬¡ç”¨çš„æ˜¯ç¾å›¢ä¼˜é€‰ï¼Œä¹Ÿå°±æ˜¯å½“å¤©ä¹°ç¬¬äºŒå¤©è‡ªæçš„é‚£ç§ã€‚ç¾å›¢çš„é…é€äººå‘˜ä¼šæŠŠé€‰å¥½çš„èœå“é€åˆ°é™„è¿‘çš„è‡ªæç‚¹ï¼Œç„¶åè‡ªå·±å»å–ã€‚<br>æ„Ÿè§‰è¿™ç§å½¢å¼æ¯”è¾ƒé€‚åˆä¸Šç­æ—ä¸€ç±»çš„äººç¾¤ã€‚æ¯•ç«Ÿç™½å¤©ä¸Šç­ï¼Œå³ä¾¿æ˜¯é€è´§ä¸Šé—¨ä¹Ÿæ²¡æ³•æ”¶å–ã€‚</p>
<p>ä½†æˆ‘çš„ç¬¬ä¸€æ¬¡ä½“éªŒæ„Ÿè§‰å¾ˆæ°”æ„¤ã€‚æˆ‘é€‰äº†ä¸€ä»½é¸¡è›‹ï¼Œ15ä¸ªçš„é‚£ç§ã€‚ç»“æœå»å–è´§æ—¶ï¼Œå‘ç°åˆ†é…ç»™æˆ‘çš„å´æ˜¯10ä¸ªçš„é‚£ç§ã€‚<br>ç„¶åè‡ªæç‚¹çš„è´Ÿè´£äººè®©æˆ‘ç»™ç¾å›¢æ‰“ç”µè¯çœ‹æ€ä¹ˆè§£å†³ã€‚æˆ‘çœ‹Appä¸Šæç¤º â€œè®¢å•æœ‰é—®é¢˜ï¼Œå¯è”ç³»å›¢é•¿å¤„ç†â€ ï¼Œç„¶åæˆ‘å°±ç‚¹äº†å›¢é•¿çš„ç”µè¯ï¼Œç»“æœã€‚ã€‚ã€‚åˆšåˆšé‚£ä¸ªè´Ÿè´£äººçš„ç”µè¯å“äº†ã€‚ã€‚ã€‚ç„¶åä»–å°±å¤§å£°çš„è¯´ï¼šä½ ä¸è¦æ‰¾æˆ‘ï¼Œä½ æ‰¾ç¾å›¢ï¼Œæˆ‘ä¹Ÿè§£å†³ä¸äº†ï¼Œè¦ä¸ä½ å°±é€€è´§ã€‚ã€‚ã€‚ä½†åœ¨Appä¸Šæˆ‘å´æ‰¾ä¸åˆ°ç¾å›¢å®˜æ–¹çš„å®¢æœï¼Œé™¤äº†é‚£ä¸ªæœºå™¨äººå®¢æœã€‚ã€‚ã€‚<br>æœ€åæ— å¥ˆåªèƒ½é€‰æ‹©é€€æ¬¾äº†ã€‚</p>
<hr>
<h4 id="å®å’š"><a href="#å®å’š" class="headerlink" title="å®å’š"></a>å®å’š</h4><p>å®å’šæˆ‘åªç”¨è¿‡ç«‹å³é…é€çš„é‚£ç§ï¼Œä½¿ç”¨å¾®ä¿¡ä¸Šçš„å®å’šå°ç¨‹åºä¸‹å•ã€‚<br>æ€»çš„æ¥è¯´ï¼Œæˆ‘ç”¨å®å’šæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«ä¸çˆ½çš„ä½“éªŒï¼Œæ„Ÿè§‰ä¸Šè¿˜æ˜¯ä¸é”™çš„ï¼Œè€Œä¸”é€è´§ä¹Ÿå¾ˆå¿«ã€‚</p>
<hr>
<h4 id="æ©™å¿ƒä¼˜é€‰"><a href="#æ©™å¿ƒä¼˜é€‰" class="headerlink" title="æ©™å¿ƒä¼˜é€‰"></a>æ©™å¿ƒä¼˜é€‰</h4><p>æ©™å¿ƒä¼˜é€‰æˆ‘åªç”¨è¿‡ç¬¬äºŒå¤©è‡ªæçš„æ–¹å¼ï¼Œè¯„ä»·å°±æ˜¯ï¼šè¿™æ˜¯æˆ‘ç”¨è¿‡çš„è¿™ä¸‰ç§é‡Œé¢ä½“éªŒæœ€æœ€æœ€å·®çš„é‚£ä¸ªäº†ã€‚</p>
<p>é‚£å¤©è¿‡å»å–èœæ˜¯ä¹ç‚¹å¤šï¼Œæ™šä¸Šä¸‹äº†ç­å°±ç›´å¥”è‡ªæç‚¹äº†ã€‚åˆ°é‚£ä¸€çœ‹å°±æ˜¯ä¸€å®¶è¶…å¸‚ï¼Œæœ‰ä¸¤ä¸ªå°ä¼™å­åœ¨é‚£é‡Œåˆ†æ‹£èœå“ã€‚</p>
<p>åˆ°äº†ä¹‹åæˆ‘è¯´ æ©™å¿ƒä¼˜é€‰å–èœã€‚æ—è¾¹ä¸€ä¸ªå°ä¼™å­å°±é—®æˆ‘éƒ½ä¹°äº†ä»€ä¹ˆï¼Œç»™ä»–æŠ¥å‡ºæ¥ï¼Œä»–æ¥åˆ†ã€‚</p>
<p>å½“æ—¶æˆ‘å°±æ„Ÿè§‰æœ‰äº›è¯§å¼‚ã€‚åƒæˆ‘ä¹‹å‰ç”¨ç¾å›¢ä¼˜é€‰å»è‡ªæçš„æ—¶å€™ï¼Œèœå“éƒ½æ˜¯ç»™æå‰åˆ†è£…å¥½äº†ï¼Œåˆ°äº†ç›´æ¥æèµ°å°±å¯ä»¥äº†ã€‚æ²¡æƒ³åˆ°è¿™é‡Œè¿˜è¦å½“ä¸‹åˆ†æ‹£ã€‚<br>ç„¶åæˆ‘å°±ä¸€ä¸ªä¸€ä¸ªæŠ¥ç»™ä»–ï¼Œé‚£ä¸¤ä¸ªå°ä¼™å­å°±å¼€å§‹åœ¨ä¸¤ä¸ªå¤§ç®±å­é‡Œä¸€ä¸ªä¸€ä¸ªæŒ‘ï¼ŒæŒ‘å‡ºæ¥çš„å°±ç»™æˆ‘å †åœ¨ä¸€è¾¹ã€‚<br>å› ä¸ºä¹Ÿç®—æ˜¯ç¬¬ä¸€æ¬¡åœ¨æ©™å¿ƒä¼˜é€‰ä¸Šä¹°èœï¼Œæ‰€ä»¥ä¼šæœ‰ä¸ªä¼˜æƒ åˆ¸å•Šï¼Œç¬¬ä¸€æ¬¡æˆ‘å°±ä¹°çš„æœ‰ç‚¹å¤šã€‚çœ‹ç€é‚£ä¸€å †çš„èœï¼Œæˆ‘è¯´èƒ½ç»™æˆ‘æ‰¾ä¸ªè¢‹å­å—ï¼Œä¸ç„¶æˆ‘ä¹Ÿæ²¡æ³•æ‹¿å•Šã€‚å…¶ä¸­ä¸€ä¸ªå°ä¼™å­ä¸€æŒ‡é—¨å£çš„æ”¶é“¶å‘˜ï¼šæ‰¾ä»–è¦ã€‚é‚£ä¸ªæ”¶é“¶å‘˜ä¹Ÿçœ‹åˆ°äº†ï¼Œç›´æ¥å°±å›äº†å¥ï¼šä½ è‡ªå·±æ²¡æœ‰å¸¦å—ï¼Ÿç„¶åä¸æƒ…æ„¿çš„æ‹¿äº†ä¸€ä¸ªå¤§è¢‹å­ç»™æˆ‘ã€‚æå¾—æˆ‘å¾ˆæ— å¥ˆã€‚æ²¡æƒ³åˆ°ï¼Œæ©™å¿ƒä¼˜é€‰è¿˜è¿™ä¹ˆç¯ä¿ï¼Œè¿å¡‘æ–™è¢‹éƒ½ä¸æä¾›çš„å˜›ã€‚</p>
<p>ä»æ–¹ä¾¿çš„è§’åº¦æ¥è®²ï¼Œè‡³å°‘ç»™ç”¨æˆ·æä¾›ä¸€äº›æ‰“åŒ…çš„ä¸œè¥¿å§ï¼Œæ€»ä¸èƒ½â€œå·¦æ‰‹ä¸€æ†è‘±ï¼Œå³æ‰‹ä¸€åŒ…èœï¼Œèº«ä¸Šè¿˜èƒŒç€ä¸€ä¸ªå¤§è¥¿ç“œâ€çš„è®©ç”¨æˆ·æŠŠèœæŠ±å›å®¶å§ã€‚<br>ä»ç¯ä¿çš„è§’åº¦æ¥è®²ï¼Œåƒç¾å›¢å’Œå®å’šéƒ½å·²ç»å¼€å§‹æ¢ç”¨å¯é™è§£çš„å¡‘æ–™è¢‹æ¥æ‰“åŒ…é€è´§äº†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ€»ä¼šæœ‰æ›´å¥½çš„è§£å†³æ–¹æ³•çš„å‘€ã€‚</p>
<p>ç¬¬äºŒæ¬¡æˆ‘åœ¨æ©™å¿ƒä¼˜é€‰ä¸Šä¹°äº†ä¸€äº›é¸¡è›‹ï¼Œæ²¡æƒ³åˆ°ä»–ä»¬åˆæ˜¯åœ¨ä¸€ä¸ªå¤§ç®±å­é‡Œå¼€å§‹ç¿»æ‰¾ï¼Œåˆæ²¡ç»™æä¾›æ‰“åŒ…æºå¸¦çš„ä¸œè¥¿ã€‚æœ€åæˆ‘å°±é‚£æ ·ä¸€æ‰‹éª‘è½¦ï¼Œä¸€æ‰‹æŠ±ç€ä¸¤ç›’é¸¡è›‹ï¼Œæ„¤æ„¤çš„å›å®¶äº†ã€‚</p>
<p>ç»è¿‡è¿™ä¸¤æ¬¡ä½“éªŒï¼Œæˆ‘ä¹Ÿç®—æ‘¸æ¸…äº†ä¸€äº›é—¨é“ã€‚<br>æ©™å¿ƒä¼˜é€‰è¿™å›¢é•¿çš„æœåŠ¡å°±æ˜¯ä¸è¡Œã€‚æŒ‰ç†è¯´ï¼Œèœå“éƒ½æ˜¯ç¬¬äºŒå¤©16ç‚¹ä¹‹åæ‰å¼€å§‹å¯å–è´§çš„ï¼Œä»–ä»¬æ˜¯æœ‰å¾ˆé•¿çš„æ—¶é—´æ¥æå‰åˆ†å¥½æ ‡æ˜çš„ï¼Œç„¶è€Œå¹¶æ²¡æœ‰ã€‚å¦å¤–å°±æ˜¯ï¼Œæ©™å¿ƒä¼˜é€‰å¹¶ä¸ä¼šç»™æä¾›å¡‘æ–™è¢‹ã€‚</p>
<p>ç¬¬ä¸‰æ¬¡å†å»çš„æ—¶å€™ï¼Œæˆ‘å°±å¸¦ç€å®å’šä¹°èœçš„è¢‹å­å»å–å¾—è´§ã€‚åæ­£ï¼Œæˆ‘ä¸å°´å°¬ï¼Œæˆ‘å¾ˆç¯ä¿ã€‚</p>
<hr>
<p>æ€»çš„æ¥è¯´ï¼Œæˆ‘é€‰æ‹©å®å’šä¹°èœçš„æ¦‚ç‡è¿˜æ˜¯å¤šä¸€äº›ï¼Œè‡³å°‘ä½“éªŒä¸Šæ¯”è¾ƒè®©äººçœå¿ƒã€‚</p>
<hr>
]]></content>
      <categories>
        <category>äººç”Ÿéšæ„Ÿ</category>
      </categories>
      <tags>
        <tag>äººåœ¨å¸éƒ½</tag>
        <tag>äººç”Ÿæ„Ÿæ‚Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>è¿™å°±æ˜¯äººç”Ÿå•Š</title>
    <url>/2021/07/17/this-is-life/</url>
    <content><![CDATA[<blockquote>
<p>å½“æˆ‘è¢«è¿«ç”Ÿæ´»æ—¶ï¼Œæ‰å‘ç°æ¢¦æƒ³å¥½åƒæŒºä¸€æ–‡ä¸å€¼çš„ã€‚</p>
</blockquote>
<blockquote>
<p>é›·å†›ï¼šå…¶å®åˆ›ä¸šæ˜¯ä¸ªé«˜é£é™©è¡Œä¸šï¼Œå°±æ˜¯åˆ›ä¸šå¤±è´¥æ˜¯å¿…ç„¶çš„ï¼ŒæˆåŠŸæ˜¯å¶ç„¶çš„ã€‚</p>
</blockquote>
<blockquote>
<p>åˆ›ä¸šæ˜¯æ™®é€šäººæ”¹å˜å‘½è¿çš„æœ€ä½³é€”å¾„ã€‚</p>
</blockquote>
<blockquote>
<p>çœŸæ­£çš„æœåŠ¡ï¼Œæ˜¯ä¼šè®©äººæ„Ÿè§‰èˆ’æœçš„æœåŠ¡ã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>äººç”Ÿéšæ„Ÿ</category>
      </categories>
      <tags>
        <tag>äººç”Ÿæ„Ÿæ‚Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>MacOSä¸‹ä¸ºiTermç»ˆç«¯è®¾ç½®ä»£ç†-ä¼˜åŒ–ç¯‡</title>
    <url>/2021/07/17/setting-up-proxy-for-iterm-terminal-on-macos-optimization/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰ï¼Œæ‚¨è¾“å…¥çš„å¯†ç é”™è¯¯ï¼Œè¯·æ£€æŸ¥åé‡æ–°è¾“å…¥ã€‚" data-whm="æŠ±æ­‰, å½“å‰æ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯å¯ä»¥çœ‹çœ‹è§£å¯†åçš„å†…å®¹ã€‚">
  <script id="hbeData" type="hbeData" data-hmacdigest="4f4db13e85dc7c389dfe3ed609acdb130a55a5d5504f0e18e687407701e68397">c090a8b7cdb661b1f619676adffc9f6376e198a323efdb2f7904ececcf277f3881300a61d9632d3d58bf4252c0740bb272929613ebe1498f37cd5150493d89eb47452b7b18e90bbfa1297d508c77d2d15ae4e01d9d51d6649b304ccd24e4fc23b0a13e62d8c153b95305c026018e1e68185173e0923601a3106bdc4f0196e4bcb3b9e97cdd9e36ed54ca098a60bca59601dfe0fcb8c9698ea0e983d36582746b0b260f99db8a1616e56513d0c70cb0e046abd1391ab9a462dd2ec8ade14e5fb39341ff1d8a45e44e8aff6420805459e5e8e0db4464fea3aaae81ef6eaa03f3a5f88e14837d7bf529c673e50a99ffac055120a8ce1b0ff86ac15256de1e20a0e6df7d0ed0338b40ef573886117da5b0b4f47765e5eb3eed83313e747e1961ce91c3038085bad73ad961baa7f398c03560597f95aa99e3091eaa1526232e1bb90b43b7fe88233bd2be2e3efb5e6a6ba73299ebf91a80df58e49205e0ec4fc6d0c3a929f10e1106f4356739237c1f4e2257747ae2b8f0d7dfee873c2fb8ea9e7e9ffdeafa95d6c6f7dfbc683b8bf8545513fb2beaa6763b770b7c2b34f06c59528e75c1cc96c0a40475b47f39174c4f8eefb28c884b6f9ad8d9f24d84ff35c1da49383e04806dedc6ec96327d903011a6185dbaa12c518f669e6028be5479febb8b716264be66db76f260a97e3e26fcaa1a231cb808c1defcf94f9a461425b5ab255aadd9f40733f3e4cce0fe7584877e3d4fec64224d13e06bb3494136f52e5921029413c07efeb791a0a206fd0d084eea9f29b9a1252f4c55d61ee9578b1147c6fb8ef9b41757b23db1003e6a6dd80e7b1c05bd742801479b5862568e6c9b4e1ca248fbb7741683b34bf34276ae7dfbe0d917d07b3ef30f20d9d092007ea6fcce73774eca31decbb02fe457a3c046da99c9e8870925d0affe364650374301bb63a45d9a6d3a6c03807352dff04b2989da5621fba9cd6b808c6afd18e7ac22dbbd0091b40298687beaa928e5b756d6586af1dbc3abdbdb79ec4ff8d3d07729d8f2a6b956e00c3b76351d651e11b00c97cc02fc1e4b5728ca21175be8e5c18c12890f5f65b8322bdca8cf4297d4ed2fec99256d3f8a3604e7145c14d6696e13f8860f49bd564dac387f97d839a774b3fd0afcb6c1220b541c11c5150dc7cc6fdf1fbec04c4fc4c9fb3d91a8f042e3fbaf949b8f528026e53501620c46f47395b56fb11a31bdc35ba5ce68342f9ed87756b17ed7c5c8e6b0e4325ab22e2ef0fa0974a7d161d63770eeab2ba52ef2ea30b69d9775ff8ac8d200b18eb72ab1c53690589e02165870c32458e7e840761c960aa34cb3a4e8712e6af798b66630d4f2a6d7daebd5a804cfb9e4d741d3dc2542f08e804a250f257e5b6a6a31a1b24bf0bc3f8680aceacb5d5559c710ff02a8698e7762e8680d0ada095ee157eb1ff328dc1fedaeb23eec627d7a055e736b0fbd6e73c7fadd2c4a3dca53db8fbe213c2ab662e8de1902a59feb8f1f1cb8739fc0779a6a9ad3f814b8aea6a5d994cb096511c6c994c6f54a335a284482c030fde7898077395ad43f1cbe82a0078b35cd68e6c3ba00c886c2952131eb171ec5610bff9701223c8c9e66b67cb54d1c258c06c749fe64baca28088f8da2046607e20a0e864304b3acdeed9b1573245ba900f0af88ba2d87993cff0bd6c9376ac66ea094093be1d392ee73e21bac21f4a5115c750b2fe9bdb76f9e7cc6575302031c1dbbe3cd1d5d9263ffb5985d227676241ab5b4f9f09184e241fadafc2ea47c5e291010b029881573b11672d49dc83d6ad22732e8c2c55423b930a218f623ba660c58b4dabeba4596c2b69ecfd98b1e467a056272426877ba8bf39b46843b738b23f6499bb19742ee7f65bbab104a7bb7e044558ee98e16f6f5b83e00f574eb681303654ebe85863bd2a2972b5df767afec940ae1ac445a3ac2317dbf6ed106b1f64918981d7cc0ef4e29fa97c148a4a1a27c944c637341b4f407018add5e39588518baee203f58c6987df57610cf19bfb0328901f17e066857b1c82c3db9c0f75a0434ef48fdae7dcb4629be0e5930601e94ee58afa93b176ee87a289abfcf9c1cb54d89dc49633d7704e838ae25b8a12932db3144bcd810d0c3c044302b860b113d19cd6373668b975ff272cd91d7d8c84862f98eea49ae1f7dc174f7a89b31b82a2f9912175e888f0abb75087158e254ca15f90988d71a68e177d1d8477c3556a26a9d7309a3c3ab581ec732b4e024e8d528934911beccba5ca715e4eedf94c544e208d8129383d358a89bce648c9fe8f590118da95d2be5cc09b4c2ace64862d02d975a34b03c8e5130fbc25eefcc2049360e32273d43ca299357a3b18937c6821aded7c6fa97202c8dcee2b4e36073edb858eb5c1caef88243da15c9a7bd9b7a0a22a4e8cb3f29100513d7f0a1cbc9bafea033417c6ee102c669a1d24bc3f799f31802e751c951add170a3553ba3db739fbd8cdd0885871639c16b253d3704ddae76c19c6518214b4da39229edb3dd130e272a1fdbc68c0c21588c70d7cc31507577786651e416553932096cc223879efce633b85be653384be9b24b043d4e0e196ed8c6d81e3b3e26cba8d04f16db2896d650584dbda8bdec3538c528422da3f7af8fdf3b08efa472b6cc68dfea643564ddd28d898cbccb9370777a2ed9792aeb495b57e4c7f77dbf77bd4c3e25d1e854954510df15cf4898c0c30603dbeabe8eb6e807803098fdaddc1bf66f97a4844a3356cb6b8b96546970b9aa5a66f79f4a6255cf95084d630b02f4c500b8c1e019d1d8fda727f83f599fefc12a3b40dbdffeff97c6a9fa1f7c56316bf6eebd101f0c5c3a2e5989cb9a6e106fc9148bca303319e2f7cd9d72ba5d3a99dd24b0436ff6c62cb5b77848804efcfb58869396b347506352688d75f91bf31cec82e4503d4aa637af74cd68364c7092d7f7f343fb889a8e089d68bf466c6174c5dae5fd597b556af9888703c42b92f9a3d8081b252f87bcfcba8bc7b964a7eebef85b43ddbcadc0b248488566652f7376d921b5749bf37c5f8f5e19c8ab4afdcce59b20d68fdc931af9f72d7c3b0b1a5cd3d58320437c689951e88fd2a8f34517e3f1023be7a30b024de01f0b8d81310c9274de13ab102ae3d0b802a98b6094c01db8cb8261effe4989f60d15e1313d8d616e516fbea0ca3a2c08e95491639abefbfeb79b1e158a495c90ddfd70d981294336bff5338f838e25ed9ba3b154216021effcb2733db41110ac211b3649d47ecf58518a8ed6a4dfa19108e2282f64b9a56f8bedde088edfc6b1d84e3e4df0119db7e991556c34c7bfd680f03c9228085bff7d0985692b80a241fa168cd46a97b15563252baaabef7a14e7f1fa0aeffe85de24217e6a8de3dd6b01b9d081c6e3542074f315766ea13cbce396cc20360bcb02aa2b65ee7987b681f6c38027805e5b631cbed2cb882be2b2cc4db77771d6287b42fac6a0c0e80cd55e85536a485f119ce452d787d1f48a37aedd22f6a51b5dcdd666ef9769973892c3afcecc63a67412c2f01241f9ba01a60510efff483fa1055b095be776d4a5910909bca44d6fe0fb11510ff490a97e371dd2528d735164ad13919d069519a2891be096bc048fb5096f08e02a152fd6d9730d9db2cd9c7f954a22043531cac1dff2ee6e85d08fb639b5a5fe1aa6bdf6cced4c7623ed0dd68bea9be6a50c5b047f2cc23beea3a3183c72b54e32e7008c43c48d7ae2791397f942b24b3502015f87b739483e899aa2199746b6066dc9e3a92869bc988797f3786c5cd483bb69d09d843a9e9e3d05aa7f17eacb18c2ebdd97cfaec0dfbe67e213d08aa15f8cbe8e3bfa22cd29b3ef65c30740164e5a045a56a8d73afde1f76639872e207a1e4d95dc267879e16d0ca6c9213b7b529512e707f4137ba0895ef5f53b7228c3ab8b1aa0dd63abe871d4647ac6100e13cc05e799c2040cdd4ee3c92c934a78418fafda1af71c1df65c84b50c99fc967a768bb1fa12559eca22444d709c00f17b1a909d9f2869e16afc3039eb3274081fd94c88ec3118521aa13585b70df0b33b5d5a85c9372b77b7efa202448b61b99c911ccf2746ac9a3d0c33642fc1dfa811712a3c5f3d637f5a38aed3f3be242e5972b1a5e0c589e90713be9489b4ffce646ff9bc4af4f8f0becc915398047d6dfd84493cff5592421754b1f05a582750083bee6ab3334b0247cdefb6e67313c8cd2deb1c8ee0e6ebc661c742c2b589b7c44213e29f11ae8bd272ce812c0c92550974969e06706e43c9b95e2a94ddd9765b46ef961408eb46696313fd99dcfa1c34bb999f5c3c0168a66ec1349d84db75f616fc224854fbee6781573349b3fd7a4d5d725e89c8571bdcb754099b37b7f5ff7e7abf0b00f2684dde37e89bec6576da90f22fdeb2277c6be1d31f0dc5fc917b3e05255ccf4c8252d7b0b4ce0c80d3b6116c4751e9d46162e34d861c116de8fd32fe2e9645886ba843abfe5e531414181dd3cf0221bbc4ee55ecde5bb7168de538494a300bbde0f6d5cf7542c98078948f2d511e06ed1ecffb751d7bd422a27d4eba7eaeef1fc13277a4de3fc5da3b31264f3e3eee878695ab60bba67c88c61ad10e06bc4dc5938240807e674058da43db424b20ec23ac6810442a873487cdf8efac8acaed77974a30165b6553a9f42e9e56b3671a5b872e8c0b57b745dc11c1d2750805fead5a5ce81b5c7fbf9734f093321bda3d53e1993476da22a2b48a34868b2b514b7c515ad0fcda0aa2d3d29d43093b72e88f80bc87648cd7c543749e35f8f2712ffc8457de08674218253588049819462fa87b37201af10f4c2ce09856fc249e8f052da7d0e56468c3f6af071d8c894154c8240d453f03164a6fbe5126b73a49dfff132765ccd7a102b32c26cdf86fdd5adbaa7bb54594517db48a036e9798f648abb48e74edb481ed4e5bf7534bae30e37c830de23466d74e2883f964036a79dd7f562116d7e67bd5a10d719af24dd47812e829150df9e0df7c490cc377b094e3b5d5f57597fb0308126c0b52c09c54b48b2694daec6a3a350ff5e794f829468affc7f7a9e4c5c771a59182410f1961bad254ee7f567a0cae28f3c35bc45123c51c0d3b77da54467749dfe51fe8f155478cb7cad79cab62ecbd649496bd458f67294250711b17f5b86122b7bd6870ad344174271f9286dbb79a6e013431fb8eac14ec5ecc7bd34da51b90aced209b862f504f0b49d8141c4b3c7f9d972693b4b884bfceb5c8b153ff82628dae343e65602005daa96e3ab2fbf38fadd50aefb3802a9f5ef7de2496174e71170d1e64825e5661da1a92885f6a4b16e18a7c29bfcf44e3983a54161934fc032aa49977601178b61cdde185fbca7294f0d4ce1cd50d3461bee9e1fc2613717c754f27c47290d3a7ea1e0b5ce2aab943cd0973799e3f6a4aea003b0ded5754b8f8fad3941fa5433c899e1da85db95d2cbc17b92d68775b56582d2fff4117429a4dc60492cc560457c8150af83a2b1237e6d50bb05041a00d55e8f04860989049e33cc611ca2ead4f4370e974626bf274948b32153f20ffdcb7896454439cd2d957bd7452b83c52552d6543863ab07f5287b5573ce33b0e90d4100f7a6d44b6d5c04160f8a28e0575e79b73f9a82e314c2eec24628f6758c677bb54c5f4ef44d23fe79d74b548c35029669b02098c447f79a8cf3af821ca7b3b7c0809c035bfcda6bb5d746d7d66f695e29a8884bae010e04d99c3c0bf21d75bdffd6f0b7e1b2c91d6946a0e5f565f944b48c63417ba4bc8e93d3ecd6b5514cda78da99b025cea5af5ee254eb0ba97d28cf4da4177cbe56642b59ba9b5e30b640a450917197714ee22144bddc891cf50392e86e4477b4ed3015e6a4ad6c6d45440b7ecb92734fecb9ae724355fd2af6f163ff08e2fe2126e477b25c6980266561be3107a6f3af8fcc6cb633435a778dad1a9bd05da5670ad487282fec552f37a90dd330152299ebceff7901f0073ecb45c544953685cd182527241b1148beba57c98cfa42c1b84d00f7bbb186086e6f4e2d095915eee3bc6206f70dd5c20b08ed915e2ccdd6bba48417d681b737fa754598e851e748d86c8d0a08ab1827fd8c749c7b2ef69d5adc51a06aa1907d76af3db84a57bc28100dc9527f04a5fbfbc482b68a72098d11cd3777f33a9dde6c48df0953414b7dd443af4838f178baa8c328a12cf1281e05d43cc6079b81c5b1380156074ca917f5baffb064e02a653ce1cf5e4c625869ee629fbac75b06af9489a977cbee41f1492a35f5132af621d6c26ecb4c11e6922f9629f3e22adb2ef22e16e98e57c80ec094089d0a9cac894679dd9be643c1cd828006490fb0f6f4d9f5b1fd637ab0190facf46ccc1fb341a28a63e3aef7a0dde974eb247a627b6619d85b82a42fe4fa82b4dae814f576b68172faa78c9aa3e3bf2686808a6b1bddcd01b5ae7b49b67145d60d85a7a09e12ff6dc11cf1bfec977396e66e7c57786fac6577b465df83a28ed90dd6a8d904693385c37b291820efddff737eb9ac5c3cdcc99515c7d86a8d7a7da8af69c7fd5582b6f21cff5689d2793cf86fef629158951b325493f3dca286f4e57a41dbaeb453b0a44b53dc8fa66b2d42485da88ab5a18fc3bd4f701047d733f15e1a8308451008874576f2caa0a8f109b11c5d792a613370771bbdb241dba3483077f163da5da085e394bb508fa31c766a4ee3b0815a23ace027179d6008db9144c6f886ed94c9a0aa0a98770ecf3ac82c4dfeaf0716a3cd1b6623da3a5ce5a6d23bcee62e947f2e3aa432c08daea540855e641eb688b08cdbe47912cbbec039fae37db6952d5f92fec788d7290b1d6ce5ab060a69c47f28f3bbe1c3eee4ba41825c60fb82f2c20b9a20b23741dce6ae7c5e45859064b67c1870be35145598562f174105a0be96e260649f8f4f2aae6e638f48dd56292c63a56a21c2710e9ff291b17a0885048854b96cb6acf4a76ea0ffa170557220b1ebfab6c36f53463afba937cbf5015e33127dd7132a5c5067989d10e64ba8c870222920b0be31f460454814fb3af9a719634817abbe2de607ee0bc249b4f5bbe27550a31fad27f36bc9c8738627f8945bad9d2e60a6b7956b0e33310f59b5d12c2db84bc93d1041aa3908ca290356f948ecf1047ef3f9a1d746a073cf50a7e32e99e87386ebc15d6d8b9dd1a694fbc2bf7a42b24bfa065c9c7d8834399c83ddcb252fc9bdc9c7527a9262f6a0fd41c62331e6cef88906d4aeeb90ac5ebf67e841c6ae5192f91281677c1057f15bc0c4c1ac271026329cb4e2c1b448a29ec710574d5649e1a85b64e1b14adef7f266e258549f6f9fa0d27b5e8ed6609c8dbcf73510bf26d8894789c484be751007cd3eb902ff28caf6c999c98afa69e5d1d3365d4a5f3f34d41bafd1c5ab1bef3974669b60002f04217e0e56c73d7c454850feedec58c2b094ee9475f503009ec87da4d590950780914fc941524eb9cc1ec8b3ee07e00d19b40d03258bba016b773127888ec39e160d9a1bbca5e0d1b696c0dc4075762da91e9de486635e985d22cc5bce6b9ee4e1fa4f760fd94c9ab4e2a9dbfc35613d893355792c705680660854e88389fdd3281d094d9893b162eafc342deb3c10769be679975d5e79a6c4c7a6455687ff0729cf6247a05f82ce5b8925dbc333ab2dbf9b7eae64950ffacab89cd919e1d5d48a1ac8b9a3045d256c5842f131325fa4713d5519e36cb7928a6223dfa7e0044407b305ca9e69dd30cf9f909581b79b7a5fdcc38ccb7602d1d13629be72bd06de2548e417bc82aa1d5817c5043a48b5d67e660e883a08618f2e2e21ea7039871a2af23e17e71cc4368c00c4fe5600d3f0bb8c63ccc57630e382ced99c0696022049832949d4a99dc321f8e737a233d0942a8efa944821c771c3302c54980c32a5c941ad3d53776d1e23e15a5d8d0ac459ecf1597497e043dc1e6ba8027fe93f23384421e6f53dd78302afb781cb7289cd8998dbfe775c3b011e6279534a1194d93b82cbe89c1ab5a8d6fbdb946d96df3c1ebc06958f79c78dc0ff3a05ffabb1e3b9c8f2da1642019411ee5fef2d30e37c6ca10813aacd8a76114941088b6744c4e8a915aa770cd8d9ed89092cee4171626ea64a78a5fbed86c2bddad9fd0d72b1ffc10e8a49686e5ed31dfe08a9e9a2c078fce4b5348af529776a4cbda10befef4cd31cc0114bdf0bb4b76ea69f5630d3faee834359aece06492848cf608c5cc06752c44d200e97684fb01f8727d91eced1dac285de781448d1e92a12425e98b47fe6a26e66049241f5ef1b8a4723a6b84b1349dfcc0815bd6bcc2319d395104141e632ed1c0703c6632eb9d2fb78fc6a5257e84f5f1b369554138dc2c96b6d6b1aea151a6027fed249c956e142f81f26ab79f337c1790cc007cc16d32cd4d836a576baf192c04016f378fbc2abeaca3c4fe71be7a1a486a8094656301f8858b7cdd1a73f7f529637a2720bc106b8a4925e38bcd61531ea49e86927f658024542eaf17559c9e06ae4111770cf2273370437db72c983ab0845359bbcd26a79a1f428aa9b3040b992e1b1747064d41cef05cfd8d1449eee3cec59fc82553c79743a47592962d916d6e7f5c627c3e4c305b047d41124cdf05795c599f4663530b4faed41c4cf2589676f6e1f29b96c8818e943f3b2e024ba53cab09b90e8bd06f351f3bb39c925c481bba9cd8409a91eab613c5e59910a1353f4e86a8ef64afe5f0331569b403d13d261bd3235ad7099b1793d24584b8c6945e7962890abfbdced817674ca3172c8e78494fdd5c1b0a75864cdb82495c1090b4ca7fb1cb38668933503fadf7f2422da916d97d16feec0031cc2f4a8af0777fd87330319ab5eb9900f071b9a9f439d8acd8201b85db81eff0e8e28267fb808f10d2ca35eb7e7d1600a6f8dc25a447943448d94acc0e17fe96d59491d346d62799dc0fa4c69de84846772e77a67f55ab7e445d1b993208b36406f48aaac8aeab20b6a5dfca19a7fd0bdd97dd7b48346e0fbabd452615bc606fb83dc9f06b21fda869373667620f21547727b21ba5b982209c42be54c06ca482ca007331700e96e405f4e628b2fda7840a5d31b58d14e78fd5fa7adfb88766a2690175ad02487d6e56c72be6677d0f669e63196d5f4b8b930287186bda7f506c9a5f3864416c055bbad086d823fbafa7dce07c198fc1f0824cad7ba2299cc69dc1473546c96ba42d115fa1ef5966a76f8005485604781b91cc96dc6291c727ffb4aa4864a25b24c19efc03f37ce449b26328db04f00ab390ce2fab0a7687dd84e21864f03c779f44a829287bded5752f2f5f0639beb848b7d7f5dbe99bf6d28b653ff395919c00afb221ac9834e53ca11043209c543367cb6f3a5f46a01fce8374453093bd4faecb663afde61d94b2e9434c0ba0a271d9ac9c26a35bf5939a5cbc879a18e8c87d256d430adf35fdea0c4e889d416114e9bee66cd2d136bc35fe8a46b8b47974f0fd2afc1d59739340e36bec5addbf49a0957725d3fa249f3d204534d0d0e83c1cd5cd2be4cb8c40d638206c4d6499f644d5b89bf1b1ea5540c0c625c15f88e4d1c01e710c3e34915ef0af6b925f5179b38b3f07dbd71ceb85d023be9ffb6b32c9641b35e53604cb7aee0e5e86187209f15b3cdcd42edb6b8a77c485f1500dff53e239b6dfbca7d7b01cbbdd312754fde69052438cefcd90bd1a6d2cc808f79f2b74df530cc666f3cb93da2f1fb7caf46f8bd1ae818f724a3e55199b8a35895df3b67c0696c29fb4ad0b53b0903cb7bfb7e4fb8a52682ca35560f21808d8a77a9e821eba3411696a101f7a8dd5e85ce4e270ef4b5a23846c39351a82f7fbb4a6ff979c595cc6ceae06c2a890e602d1ae8928a26956db09b53ae6357d5019ec2c830e16b4640d33f65a7172504ef3d28dae4f80fc374ad278eff364324f7c8954807c8c525d19e0ac8209712fd4b5c5ae022a7424d8df819e9bb0190e4e163ad6dc3e87267fa4a758043baf2a8a4e6086e6efe9c9a109eaffca6b465f7bc1ae5a3215314509cf10f747f394d4ea841344a08a69829c0493a815802743563fafe63e1b3405962bfde1b012f4263646792d39778fbed1489a7e6f4230f6c4beb83cdcb2f758f5a638bba3edbaf8975873ed6ad8ed952a186a16730c44a0dc73463679274e001463257000d836311a3738d5ad1df34adb4a98b7e05ea2ac5a9518813454701a58c4aea861c23c0e86e6dc0c5c8cdd19516a15a16eecffa61d865df91a8a88d446b4ed350d1c163eb02c97a212119d4ae7804ca52c87f25244659cae2672568611f4265215e70f6d680cc16f16bea764486d8f0a769513340fb0cb4511b2fd0e6417131f3b9c89bba297dc387f7e0f39dceb717610dee58bb4168121f593c843d57f484f1e310f6dbefa7861767b7f628e73ccb71c1830a764a75c19c88033ba35ebe2a9a15c73847cc5e752fa08a4b0b875c4768cdffc8ddb4d6801468ddbbbc99959e8cdf33f4b455f1c622321bc68d2b8940169c918fc441cccfc113cc65224156464315e16ef45dc7061483bd6b1f5ca8541be1392d8e4e278b72713a3c0e4440d8535feb76ccf89fc60df76a62a0b5184313af0160b445d98f17d9738311d402c27feb13fb1cea95ec7d38dbc94a98ea5e774ba075a4f7778eb9b34c5b4a7f15d0d81c761681499623c30158b2bcd5d9a9442e4e3a52757f1530aa50d62abeb115468e0dd9b96950bb6e27fd4fb012e7116aee70e111592ac3342a21d23301a6cd56085bb40e72bf217189c96e7f074b247a3687c92cea0ad8c342d9eef1d18d663d994364950f758f5b302c223e8ca04a488d90d421e407890dbd954017aaabe55a6ed90add7b4e39ef48ceb611eca5da6d25456ae107d20e80ccba7125b305f930f29a1841b93f7ff254f6e4f2205742342e95e2da7dc41cf5fa19e82d32a8047117fea860b3607a7f7afddf73f47117a359416c6e2a6eab8d2604d37b93290c461644ff22ed9d438a5b3eefd1e545c6942dfcb44d84626c669aa03dd789b73ddd9e96a1b86caa1cc25c750185a0d792132e34a0f5c52592641913f6275d6cc01776e56e570b44c4cac96388a873acf60f21aead71e54d1759703a5eae6596d062dda67323241b30048267f00236e5ed76782096f2a713319b1a51fa4b90742032a7915f546096a481f9bfc26f40f22b2a927d34e1451a00ec61e03b2f3fd6fb01b49f1df640577c0d5f3fc78f36a3f2d4bebc4b42fc575e3051afc88bca8e39f810cb115f87e7b83e0929e068b35ace82ca0b8581335a5dd9da49a1726a83d4f9a78c58840c832de5bbf61798cf2a5d13362ede82ba390b5398d98512c05921429c42e902a8ffe50730aff6268a31a4755c8c25b818986028ec2be8aef602eff21bdabf4a9a69b232164da34a29c944929cb6c36949ce97c9a0b6409a42d9948be1ba57cadc84cc0bdf60647aff7c2d6b6b6049bb61097a2ebdcebf99aa3fd95b6a2041bd1770e75dc6a64a4da6282e9c55e0175b373e9185055945097e951199ffa7b50e078197da90645ce645817b68779a56e2e3cd9a122401e1abf0bc68e418456cd1230c5999fccb7a22ecbde1688def0317dd982b576c64176321cd3f0aeda247a6f67014c114a25a5e7a3075b8a4ee52c8349b7cda21c16f6e6f35fdbd66d420658c2776bc15b65249f5f8710229a3a9c6d151dc7c71c25fadb917c527ff3b51be073aa8ba8837cf2f4096c44c198a2337d9b341b61e3d87ad7a09aebacb66c1ec75bd30a3d6c810cd302fb510a9da7327f1eabeaa040c85993e597050957f8993df4704dd55c8d4ff6ce62598d5e7ee34e66b69fffcc706cdb1fb276b5220ff1820b65c19f261abdecded8b477bdf206953f0a8aa71a981201796fc310f82c5af51208f1735fde23642609ba8ab23fef013a675add6d112645f89d5473055cd903f453e3cf2c9a2032f1862e9d8dcd62a7496659d69b0d60651acb54a7884bca1aa7c61c610f47781651a5e9b14295c2f940cc28d21fb962c4e80aa9189bd99ba8b00be000d7adf53f4218b9a3396b3c13ffb5a886ac83452234a5d2403d0eaed5c0789e19ec90747005c564ee46b110479eaa74279887f05b7a9237e1f5d39359f6240837110d9cc7e0c8885c15aa134e02dfe9117b89626004af61943794be146953c0f3d53d266e29bcd2b7d4878e269017d025c8d79690e68da9e0a776cac1dbc1c700ff7d2d5a91d315c51a4c1e20b2b70c7300797405a427cab0dc97815dd5af6dd82ba283b7ce2684c07d922507b9f815ac7ee4f8e47917dd07ab573edc125b86027d6ecd280826dbfb4630f008962fd56f2445c81953d73264dd01bfd871cb57c61c17f512569f88665c446f374625cfd20199ae2292725193b0d33a6db34cd77c701355be2e678e65e54fafc5ef0921ec2c31b89523aeab354001d751ff825f7ec70d78d7f4c35169e79e6982c131c128a817df745b27878dad1aa1058c957ed66e3a0a0298958a98a911c4032c3e041652d9a9ff970210e95e306cea0d6e2381dd9bd83d1b0a0e6f36390a50a177bfda66cbbc4cb623757dcf30bff91a08beaa0dca9b122c2180b895b34fffa1979964afc0324d018acf1542da13d4e7b9f972e44693b30b822fde6f7690cc63fd0458eae80b501fcf63bc76b8cc1710fad3e5f2df7edf8d516857d6086ee6948671c0d1a414e0a408443dad4170c60fbcb1b9c05b5ccacddc3b4271fca43fbf09a5fbcb1d2435065f8d1176779068c303eb6a701c885a4583a4fb45f95071fbfd4fe7ce4703eba6f9f2048e62c55652f668c649654d3d30e965907c71a36ef346e2f70c475490a6f50e5a0e52782775e1738e5c0c8d2d0f0200cdb06145945dcc8025622bfad32dc5648f781c5aeb26a2f4d000e31b3d8ff66af9739f4c6fde2790e0c6826bddcc26b9c8db1f01c1db75e338b9a2c1be8fcd0b7082a2160fc7baee2c4e78ce411df6860a1a97515a2e21c3a41145c05ecb8ef49e39d381e13b6c0abc4430e6898d44b363e0cc4a2155ba24e5c7e814e099d78ba65ff9532590ecf21f9e43642af2a418317d815941fc161ab1a9abddc0c2652ec4550b8dd3047520eca0492bface6113d55916b7cbb769a6c47e4df5b97e5279b220d2e00d2ea9c368de21f020805c669fd8bb13e6d8bd36ca5840d57224ab633fea76924976c134c8c85ce8d8b66d67ff842c2e03c9992a838ffa35f883e79881f1b1746b0f34adf1d186596ce262295143d5f8eedae68eeb457dcdd0bf5e867fa2b86a4dc8de4aa30703ccb7360fc79cfb477fd6437ea2bee0235c818df80eab9983e13eadc724620cf48cc948c7800258e28cecd6fdd51cbe36bcf8a63433a86d3417573b084c967442d8e093cd8904d62efd66ecaaf011e655f149475125370b26b9750f7685578feef5fce349ffcbdb83ded72b9bac5c78cfb582b46b9db5fd39a05ebd171bc565d8c28160c3c2e879a3b8cfe4ea7052e0ba5e786b6ff66290ecded8ebd1a94c51025f1ec28c9ff6bdce5d3f334e9a2ecd933cac47bbdf4ab0c0ea6cec020874a25cecc37c1bcc75140e5599b111ced84baa08518386d436fcde74365bb50b3cefb89a628118eb44fcb854f5a0abd48e82a235da103fda97ac05e529210037c6b827ceaf2c5f07917d4d6562a988eb619295235db8c03e10731d463b884e71e51d4e526b03cd69094b81a48bc11d342c853bebd8dd0d1d16595257be445906628fdfb03b413deb12fa25a56dd8fc602dcbd3a56aa7e69fa248a8b2e500e026bd5d363d35fabf52d5be58dd6676dfd3c77d9dff15c9a56d6898e40e9fdc537398aeaf7eddedade229c21580e33cdaa46d7552cbf535876c7934ba7616e98701fa71096123f25ee1abed35d561141a89bad2ef083cbfaa2ae65d19d2daf3a1d4d93834f5afd5d8845de3997d6e5da68633077cbeb8a689da4d5ed2934878fb7783c9e105e407df8c0d207f1af13fc10b4afa5297f34836d9bbc2855eb9866738b1cf08ef16a3c90e790976da7fa2e06a454218b782115dd58f76e345ea6d0623d3f69a4e9ad6854a8ce90fc72e8e1c0cb2f260f7022b572f1c1e9e0f0cdf5d15d18d314ecec6327f0cdcec5a153ca5eb055e22f2510d5249476e10c88e195bf966a710ef4fbc5d5e54f65ebed0d226dcb62327f9ef649bf8c8faa920d931a0d896869fc21d59f2d4e27441f74e66297d59797418e8951bf7ddcb2241d8878653e95db132ba004a734543bca514c2c2c3b723e0f9f37fb1eb1d47ae2ad6206bd01a3e0f3cbcc9c043b7d0e41c980ead37aac4060b2ff675f6c6edd583162195c97987293835ffcc974cf44f68d584e478ff669a39dbff695da3c94e30dc30e1987523f91ae0698e3e7582197570e3ef6711b17381b76c7e2bcb531588b87f8acdc039ed2af4eaf9d4912fb6ef8953a5a88e73de23c563f985aaa8f198f631c017f951638571c4ad1408e5db6257bb06c30c6d5b92b1eedd777f6a85f7fb35fb303dd29fe302b2460683d300cd2334397d610085a1439f2f8c4a690be840aa52c4af463ff9d53769bf6bed992191af5ed126af9b78f5b5a221a0373ef56b1f78bfa67ce0fa13905a59f62af3bcb9d901d128d809c8bd659b0a8b63074f9e76ac05ab79dfe546c2303bb8888e9d75cd4a07d17eb666bbcdcdce00b5aee7908219c7ba8f688195e6a1d49b962d697eee1b1b17e179aa214c14034dd37d7c15a23b98e577f0ccb1031b64f72de8d954c69de3dbb920965666a3e4a74818f3565f919c92e3289e52986b7913cc4a46ec65089fd6c7fa4388c7ae06161d2b478e1926149a2a8274b3445db637025fcecfb55464e26cfc525627936f63cfe08655c9104a1a607e9573aed95caf82a4dd90ab6c53dc4250e33bee2e25b77f266e51613427487d60797730d36e7670f7483c10ce51689bbe87ed2533982ef7655a89cd1f976b4258cf366cc006e9bc8fa283d7505f4fef6608586c906e238b71b79afdee0b7fa6a54a4f89dd1ab5f67463e5b1ee15c8e5bb0f354c36e68449be6b918d81229461b0b8916a83aec7712da4939fd1b35ce32326914f3f932801ffd9c1260114ab21857e92888481eea311ebc7b15b3316180017e986356a225919c16dd5b3b1fcac39c12587cb827cac56451d1e69f3c6cbeca6ebc81027c4bee49440501926c8543ffd82d0f1565ac640be47cdb9075159cbc2e11f92db65b6fe6a951c185073830695967d45a0ba5e6bc703bdac19860518e174864547abfbc5b7de33f09f5fab4cc6ec05a76fe89d03630f3790afba9b09155653ee5897fb2cc2b76b33d3824f26d06fcff580cb2d3cdc5bb02e63c7ee4817f22c73d3ff57e37782d42eca3fe4468d819e0f0798f46385598be70e29d6b84797f76c1f468efe07066b8a680c9d37d74e6fa6ded919be243522e54fca10a244b4a05b71964be056609e719af0d8c2fd8a34cdf865a1ae9036e5fd8bdde5dbda75909d74612b2906eb20b88583d2c7487d475a3da73c1ff4407f76dd03d510e4903bfbae8ebeb2e1bba648f83c5e562c73351cc39b2028b452f8afedc2a1282fccae94c7758ef6b5042d45cf7110f60b4249b1ad9129ff8cd9ffe4e52bf1f2a7e8899795c5c8574613e4f5f07f023fc48bf9dd6181996da004d089015258c1a954c19b1be2a7d65337a06192922d151860339f0ed83fc64ea93c6d46de5e2f72e6fa052f9f3d69572b800871f7163115aabc154cd64d2f096288aaf8ab40ba86e97364b13f5b7ce726323b7e990119cb75665962e37f3bc7f2b648acad64cf035be1f8f618506eff48d9de810e3cbcd8d1c681c68d0674d178758a90b65fd8a274c76af546e2ea98ec1953e967a4e9f613f5cf41f4a48124b227631552f374b513fb06720ec8cf22cd3a27c299c3c8450a76d6178dc428cd775b62d951140787171dd032ed75c9e2343b5155865e4b1e335ed7d1a7fcad4540a2a2b503322cdb88a99abdeba9219cc53f4a653dff2efe5fe4bb361007cd95434459c4fea0dec60ed7176dba023571401fd00dd9b9b2796332dbb8fd15c43acaeee25f8bbd82c0338ac772eb19bac15020203cec3845da392792404ea9fe304cd204e07717fbe2b755377f5c105a5def40b6170d8b61d134eeade65d945886e8015c0d0b3116a3d8283170dfa519b0bc9acb2d4bd669f57eb6c7ad768b8e42b1dc952ae4a683c8c8052dffd3613a9442fed7d7ceebdd509a1b97f018654c5810d6700bd4c15e73a4d02fbefc82a3394f7b03b297166969d88e26ff90ac3ab758ac58ac1c9c2bae1a79e8afe80999d133ddb461bbdbe1eccc1874c1e177701fd97a15a5de1a56c7efba78089a0b5fd668fedf7268b8e926b63d4d6ef382eb0e183cc9649995393f742db7f3fbebaa0b4a5ace298fc48bb89d0f2137a69de32d037b41d5a613d87033d30d0d4402eae71c78f66f6fbc1de2eccd1512aeb9c82cda370772af286116d0760d9c70c0afc010e4f3e138bb5fc637478850e8d97969ef67e9b1750373e501308051b7c787610fa73529300cecbe743c57d405db66a730233e54d6a2bc53a1997af67ac187f73dacb77de3a69f64498754d3bd6ac409cf0c7f5227397ed7d36d53183e69feec5d1cc65dda9e3f86c860078379f42f4ff972bb290e22577516922e143f0dd7e37698b55cd5770b4d6c1c967533a6b3444e12921574b349ca17c127c7260751bcea2db950f4f9f241c03aa1a42faae9c45c29950f3721246df69b9ad344268cde58fa54305ae6f9c087c590c5267dabf676cb7211156027b96b3333d58b0e09a500e5e0abf30440140d931c8742d1c30b399540fb27f1d2fc757721ceeb7cc451ac83d66f2bbe7a1224fea22492775ad8184b5e9bde793efe1402785dc2441ed4790a27a112af6fd96c9ad8d139acf51bb29187efab70ba390c95539956b4b004e2765e348a3b02387eb42bd0a979ff4eaf6e1b5d9c8514939246ddb34738c81beaeb135a8524b5b1447f4224d79e64d11014d5421962119b76be3c080fc8010a0dbcb2605890a0595bf8b8882ea84c4ca5eaca569d8747497b8a98c1bcd699ccfeff6c5356886d0535e517a223993fb989d063bd445e15700a4cf09186fb9d7dc13ff85cc1dd59de19786556edc38c615b65c6ca0f9a6df8056113e6aee624de80443f0072bcb40448d41fac50089782e44ef2f2eff2fefc98fdb4c1a1327e75cd2f1f06b4f106253c4e8b1b47fca160c99a78aa021a8028c6dcbdba5685c28416b125baa25eba5455736730c4de5051472b99578e7d826f442519e34c21ca8fe5cc4df722465dbd6bd2c0a9dc285562c0a967906b399979cf9a0b8c4948ff0bea30b3c64116c3a3124e9b28b24de3c3d45bfad0c7527bce92817e8883f6bc47221ce8b07ff57b4453611f430f1ef9f1a760056f9fe788f3880b78ceaeadf185d0604ef2baa38a9f7e982b0fc0384baa1f9604270afc71c59d4dd08018bf68172d699ed6f3ee87b69bb221d3d55cab06f7039f06f6a1b481f9d2de16a86679aa98a059352f2163feac19141edbb7877ee96c0cf9e33aa9a33fe664c5c5d977e9f46f1b41ae0f5cc7ccdb1d429be2717a0b55b05ebcfc2ec16e9c622468ed0f4d7d87926b8fa7d1457019d77e3811eef35ac34de9912158fd351a419bea20ed4cfa81e2b01cee9c8e202ec3d2ec63ff84aabc81a2227053b40c6e38a9f1560c7df7222400151597cc52d1c200ee0165b15266b9154dd6e87abe3f0df90b82762410d44b19fbffbcb708256644e1ca89e172981412a5b355880e1dcb620e1eaf6bdaad291f9757cd1d0c5384727e466ff1b9f5af6fa5562b7048b161cbafe93f3f3c31219ba40624cff27ccae342dddb083c4ce9e8ff682a4c944048e484893b8853affb209c911f0377a0ac34de23e6d60fd50c621f3560d4960174a76d68fedcc6d78a1d59432fdeaa877aa0685c13e4baecaaca1ae42ec4a92d96c522b0ef660cf517478060c813ab185123915c8d479416573d9f4178c66b2873777935a2bdd1cca8e04b0c0772d875d01bb1b01da1c88efb1681274282f6348069c4c0f6f17db19a5b75add0bc11fbb574ddc053d21e15b92d53c90ab09cce40447a587dd7a2786db60aabdb929337f66244f795d91a402e385bf3d7d47c8fabf59384a837c558646811d15466f99ccc6d38093d31c16242e4171b0438d3fab370a3038d76de942f817c0d675235aa2d123fe2729426a41295aa88aa60bfc4ef498777548efc10c357779a4cc6be12b1497fb54dd0f2c9f9745f7221660bfc7867e3a495f45e7f638032fed70f5ba584cfa43871fdfcccd2bdf27e6896c24a693ff5d6436bffc6f6386ebf0d0eb949afe827cbd9c4e563cdc950b966daedb9ea644429c2b66450f3be6fb363c309d0526a96c54f47bf22b2cc1923d941cb529821fb1a61cbe8432ebe10fd2bb0065c553c93188845f6dae241ee5f8b92c94a7edbf1ecc1c4aef5</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">å½“å‰æ–‡ç« æš‚ä¸å¯¹å¤–å¯è§ï¼Œè¯·è¾“å…¥å¯†ç åæŸ¥çœ‹ï¼</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>Proxy</category>
      </categories>
      <tags>
        <tag>Skill</tag>
        <tag>ä»˜è´¹é˜…è¯»</tag>
        <tag>Shadowsocks</tag>
      </tags>
  </entry>
  <entry>
    <title>MacOSä¸‹ä¸ºiTermç»ˆç«¯è®¾ç½®ä»£ç†</title>
    <url>/2021/07/15/setting-up-proxy-for-iterm-terminal-on-macos/</url>
    <content><![CDATA[<p>å¹³æ—¶ä¸Šç½‘ä¸€èˆ¬åªéœ€è¦è®¾ç½®æµè§ˆå™¨çš„ä»£ç†å³å¯ï¼Œé‡åˆ°ç‰¹æ®Šçš„ç½‘ç«™å¯ä»¥å¼€å¯å…¨å±€ä»£ç†è§£å†³ã€‚</p>
<p>ä½†æœ‰æ—¶å€™åœ¨ç»ˆç«¯æ§åˆ¶å°ä¸‹ä¹Ÿä¼šé‡åˆ°è®¿é—®æ…¢çš„é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯åœ¨ç»ˆç«¯ä¸‹ä½¿ç”¨ <code>git clone</code> æ‹‰å– <code>GitHub</code> ä¸Šçš„ä»“åº“æ—¶ç»å¸¸ä¼šé‡åˆ° <code>403Forbidden</code> çš„æƒ…å†µã€‚</p>
<p>å¦‚æœä½ æœ‰ä½¿ç”¨ <code>ohmyzsh</code> çš„è¯ï¼Œæ„Ÿå—åº”è¯¥ä¼šå¾ˆæ·±åˆ»ï¼šå‡ ä¹æ¯æ¬¡ <code>ohmyzsh</code> éœ€è¦å‡çº§æ—¶ï¼Œéƒ½ä¼šé‡åˆ° <code>403</code> çš„é—®é¢˜ã€‚</p>
<p>è¿™æ˜¯å› ä¸ºä¸€äº›ç»ˆç«¯ä¸‹çš„å‘½ä»¤å¦‚ <code>git</code> ã€<code>wget</code> ã€<code>curl</code> ã€<code>brew</code> ç­‰ï¼Œæ˜¯ä¸ä¼šé»˜è®¤èµ°ä»£ç†çš„ï¼Œå³ä½¿è®¾ç½®çš„æ˜¯å…¨å±€ä»£ç†ã€‚</p>
<p>è§£å†³è¿™ä¸ªé—®é¢˜æœ€å¥½çš„æ–¹å¼å°±æ˜¯ <strong>ä¸ºç»ˆç«¯å¯ç”¨ä»£ç†</strong>ã€‚</p>
<hr>
<h4 id="é€‰æ‹©å“ªç§ä»£ç†æ–¹å¼"><a href="#é€‰æ‹©å“ªç§ä»£ç†æ–¹å¼" class="headerlink" title="é€‰æ‹©å“ªç§ä»£ç†æ–¹å¼"></a>é€‰æ‹©å“ªç§ä»£ç†æ–¹å¼</h4><p>ä¸€èˆ¬çš„ä»£ç†å·¥å…·å¦‚ <code>Shadowsocks</code> ã€<code>V2Ray</code> ç­‰ï¼Œéƒ½æ˜¯æ”¯æŒ <code>http/socks5</code> ä¸¤ç§ä»£ç†æ–¹å¼çš„ï¼Œé‚£æˆ‘ä»¬åº”è¯¥é€‰æ‹©å“ªç§å‘¢ï¼Ÿ</p>
<h4 id="socks5æ–¹å¼"><a href="#socks5æ–¹å¼" class="headerlink" title="socks5æ–¹å¼"></a>socks5æ–¹å¼</h4><p><code>socks5</code> ä»£ç†æ–¹å¼ï¼Œå¯ä»¥é€šè¿‡ <code>ALL_PROXY</code> å‚æ•°å€¼æ¥è®¾ç½®ã€‚</p>
<p>ç¼–è¾‘ <code>~/.zshrc</code> æ–‡ä»¶ï¼Œå‡è®¾ä»£ç†å·¥å…·çš„ <code>socks5</code> ç«¯å£ä¸º <code>1080</code> ï¼Œåˆ™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">alias proxys5&#x3D;&#39;export ALL_PROXY&#x3D;socks5:&#x2F;&#x2F;127.0.0.1:1080&#39;</span><br><span class="line">alias unproxys5&#x3D;&#39;unset ALL_PROXY&#39;</span><br></pre></td></tr></table></figure>

<p>ä¹‹åæ‰§è¡Œ <code>source ~/.zshrc</code> ä½¿é…ç½®ç”Ÿæ•ˆã€‚</p>
<p>é‚£ä¹ˆï¼Œå¯ç”¨å’Œå…³é—­ç»ˆç«¯ä¸‹çš„ä»£ç†åˆ™æ‰§è¡Œ <code>proxys5</code> å’Œ <code>unproxys5</code> å³å¯ã€‚</p>
<p>æµ‹è¯•ä¸€ä¸‹ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ curl ip.sb</span><br><span class="line">123.120.226.74</span><br></pre></td></tr></table></figure>

<p>å¯ç”¨ç»ˆç«¯ä¸‹ä»£ç†å†æ¬¡æµ‹è¯•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ proxys5</span><br><span class="line"></span><br><span class="line">âœ curl ip.sb</span><br><span class="line">204.44.66.25</span><br></pre></td></tr></table></figure>

<p>å¦‚æœçœ‹åˆ°è·å–åˆ°çš„ipå˜äº†ï¼Œåˆ™è¯´æ˜ <code>socks5</code> ç»ˆç«¯ä»£ç†é…ç½®ç”Ÿæ•ˆäº†ã€‚</p>
<h4 id="socks5æ–¹å¼çš„ä¸è¶³"><a href="#socks5æ–¹å¼çš„ä¸è¶³" class="headerlink" title="socks5æ–¹å¼çš„ä¸è¶³"></a>socks5æ–¹å¼çš„ä¸è¶³</h4><p>ç»è¿‡æˆ‘çš„æµ‹è¯•å‘ç°ï¼Œä½¿ç”¨ <code>socks5</code> ä»£ç†æ–¹å¼ï¼Œè¯·æ±‚æŸäº›ipæ—¶æ— æ•ˆï¼Œä¹Ÿå°±æ˜¯ä¸ä¼šä½¿ç”¨ä»£ç†ipæ¥è®¿é—®ã€‚</p>
<p>å¦‚ä¸‹çš„æµ‹è¯•ç»“æœï¼š</p>
<ul>
<li><code>curl ifconfig.co/json</code> ï¼šæœ‰æ•ˆ</li>
<li><code>curl ip.sb</code> ï¼šæœ‰æ•ˆ</li>
<li><code>curl cip.cc</code> ï¼šæ— æ•ˆ</li>
</ul>
<p>åæ¥æˆ‘äº†è§£åˆ°ï¼š</p>
<blockquote>
<p>ç»ˆç«¯ä¸‹å¾ˆå¤šå·¥å…·ç›®å‰åªæ”¯æŒ <code>http</code> å’Œ <code>https</code> ç­‰åè®®ï¼Œå¯¹ <code>socks5</code> åè®®æ”¯æŒä¸å¤Ÿå¥½ã€‚</p>
</blockquote>
<p>é‚£æ”¹ç”¨ <code>http</code> æ–¹å¼æµ‹è¯•ä¸€ä¸‹ã€‚</p>
<hr>
<h4 id="httpæ–¹å¼"><a href="#httpæ–¹å¼" class="headerlink" title="httpæ–¹å¼"></a>httpæ–¹å¼</h4><p><code>http</code> æ–¹å¼éœ€è¦é€šè¿‡ <code>http_proxy</code> å’Œ <code>https_proxy</code> ä¸¤ä¸ªå‚æ•°æ¥é…ç½®ã€‚</p>
<p>ç¼–è¾‘ <code>~/.zshrc</code> æ–‡ä»¶ï¼Œå‡è®¾ä»£ç†å·¥å…·çš„ <code>http</code> ç«¯å£ä¸º <code>1087</code> ï¼Œåˆ™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">alias proxyhp&#x3D;&#39;export http_proxy&#x3D;http:&#x2F;&#x2F;127.0.0.1:1087;export https_proxy&#x3D;http:&#x2F;&#x2F;127.0.0.1:1087;&#39;</span><br><span class="line">alias unproxyhp&#x3D;&#39;unset http_proxy https_proxy&#39;</span><br></pre></td></tr></table></figure>

<p>ä¹‹åæ‰§è¡Œ <code>source ~/.zshrc</code> ä½¿é…ç½®ç”Ÿæ•ˆã€‚</p>
<p>é‚£ä¹ˆï¼Œå¯ç”¨å’Œå…³é—­ç»ˆç«¯ä¸‹çš„ä»£ç†åˆ™æ‰§è¡Œ <code>proxyhp</code> å’Œ <code>unproxyhp</code> å³å¯ã€‚</p>
<p>å¯¹ <code>http</code> æ–¹å¼ä»£ç†è¿›è¡Œæµ‹è¯•ï¼Œå‘ç°ä»¥ä¸‹æƒ…å†µéƒ½ä¼šä½¿ç”¨ä»£ç†ipæ¥è®¿é—®ã€‚</p>
<ul>
<li><code>curl ifconfig.co/json</code> ï¼šæœ‰æ•ˆ</li>
<li><code>curl ip.sb</code> ï¼šæœ‰æ•ˆ</li>
<li><code>curl cip.cc</code> ï¼šæœ‰æ•ˆ</li>
</ul>
<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>æ€»ç»“ä¸€ä¸‹å°±æ˜¯ï¼Œæœ€ç»ˆé€‰æ‹© <code>http</code> æ–¹å¼æ¥è®¾ç½®ç»ˆç«¯ä»£ç†ã€‚</p>
<hr>
]]></content>
      <categories>
        <category>Proxy</category>
      </categories>
      <tags>
        <tag>Skill</tag>
        <tag>Shadowsocks</tag>
      </tags>
  </entry>
  <entry>
    <title>â€œæ”¶æ‘Šâ€ åçš„ä¸€äº›æ€è€ƒ</title>
    <url>/2021/06/25/thoughts-after-the-failure-of-the-business/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰ï¼Œæ‚¨è¾“å…¥çš„å¯†ç é”™è¯¯ï¼Œè¯·æ£€æŸ¥åé‡æ–°è¾“å…¥ã€‚" data-whm="æŠ±æ­‰, å½“å‰æ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯å¯ä»¥çœ‹çœ‹è§£å¯†åçš„å†…å®¹ã€‚">
  <script id="hbeData" type="hbeData" data-hmacdigest="12ed1d06c093251e6a23ef18c8d86a381292dd151315f08f03fb2c5dcb7bd50d">d636f693ee2a15a11c80bfecb03e7c9435dcc762773218bd5e3fdb4f1ecf543fd7df9b086f63a93883cf7bcceb3de3677af996f7bbc1203858d3a89bd2634766e24742b35ed69e34a2395bd344605d28fc4cd4f5b8e047a710a60d2388446c03512f12b6f660fec9df5e13dc5b09f3c0ec531fcba9c730a5433fd73cb434c3b3f448cef224efe57cd22690af8a05ca64048428d9a131c7461a71bb494bcec68fb6efdba283983dd215c3b2c0449df7ba3c6f516c0d14be95713308865f4a0e927ef7ad6be4898a5e1fe662a9e56c5678d81eecfea7ed97f64df61031748848c7dc14b88f66701e601b166028fd407b9a01beb423c3a9e3898b781937e50543e1f968451dd1051a115c268f5e07e95aef58dc71a744273ada109aea7f14ea22ddfa4ddc75aee805fdce72c58e6267ac836bb5bb507507e0a2195e1f88a81ffdd853af8e08f981d22a738f229c6460f1f03f7ac8b74e0ab3f2afd2501ab62fc09a6a78e39248797042616d624af4e688e822d059dd23ff40b9feea899aace753cebd2902cfdfc3326ee96ba6ed0ecf54a9bc5e04f4112b38c63e3fdc911e8147c43c9232c282c0bfefa667aad4a7269ab648c485665935d24ccfeb6a450b53472a4c900571f7e9244f661a54965c1aa29d83224863b000e25d5a03496205b8804a5179f3a6462f7649c4de7c809d4389f912826371910c6114eac76aeb3277dfe4164ddd0c5022ebc6c4b2dfed9831f49bb63055de8be76b0c12afed583fcd3215</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">å½“å‰æ–‡ç« æš‚ä¸å¯¹å¤–å¯è§ï¼Œè¯·è¾“å…¥å¯†ç åæŸ¥çœ‹ï¼</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>äººç”Ÿéšæ„Ÿ</category>
      </categories>
      <tags>
        <tag>äººåœ¨å¸éƒ½</tag>
        <tag>ä»˜è´¹é˜…è¯»</tag>
      </tags>
  </entry>
  <entry>
    <title>å¬è¯´åŒ—äº¬çš„æ•°å­—äººæ°‘å¸çº¢åŒ…ä½ æ²¡æœ‰ä¸­ç­¾</title>
    <url>/2021/06/12/beijing-e-cny-red-packet/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰ï¼Œæ‚¨è¾“å…¥çš„å¯†ç é”™è¯¯ï¼Œè¯·æ£€æŸ¥åé‡æ–°è¾“å…¥ã€‚" data-whm="æŠ±æ­‰, å½“å‰æ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯å¯ä»¥çœ‹çœ‹è§£å¯†åçš„å†…å®¹ã€‚">
  <script id="hbeData" type="hbeData" data-hmacdigest="b258232cbef509cf351052d83fafe2bf9e69b98951e78c3860b81b8515ea7597">2d35dce4f5672e16f7c897c699d33e6283d3bb277c7daf220e7e4c670c0c02c0b1e478ed0b83c9525d416d52e3ea6b7f7bb30d351f2a9f3706bb45b3e78d167040f1dbb33b2c9be590ab87600fc9d12aa8dda3e7690712bc745ed0796d0b5b3087c4234aa605b231a8c2befb76827a3e560ad437b8f4ab70f3be7364f7ebb00e1fb48c77c3c9cdfd29d8d0e36e99d95014a274cfcddb6e0988665f3c5994178a67e27734e1db3fefbfb97ee3d2d66bb767e6a638bbbaba783eb70c4e4477779eabb4e9039ea60ceabee94466e0911f60aaad49da6f4bd094fda5c5d817983b5d6e44d3ef98f5d6f1ad0c06b6e9e242afce45970204d3af7e6192583e2dadfe67929463fc17e5542fd05eabce9e731b7d268bc1a303ac3131a2672e582ec2673fc2a35e8c78d369d2e26b358757d41568368dd7984649af48827321d503ac78b2381d9cf46b657a31824f0a883577b3e2b309f04dffc01e9ec6de19169fca38066b9c6edb0fc6dfd5871e877548e7c3b6ce90ebd7ec26fe4fd37aa74b31830b4f9f5dc59bb4924731fa39533ffc2be5e6e6701b3091e12934fcd81677435e3a5ca02d74a53b56c3cbc78c403ab23a290c55fae3c22c6423f6b76b7cab21c2e4617dfbe4b1e78931e2e28d6f7b4a428e0f0b59f71a533270583b6d380d00400e2b8a7a50e30804a939a21d0713ef9f22c5ed8dcaaf2d72d40f3d8a6a3ee193ed991c0decfad41477b32d52a818dd21bb1a178ff8d6af24beca006384a7691b4752f6cf8d0754e73633b30245de420ff3f15b11fc9c5af65a32dc345f48f5fb9ac14f7506680d0a2990609b291747e448ef05638a8e4c2d48ae10567b8cb65be28fc3677c7d326b5d8b4c29f26398894e33155fb1a7ed575e23fbfa12086fbc3d3efaf34419715b715f37b069f88de0714d539b91bee7ba41c9b8148d26018d6f8fe0d365bd3c0d13d5c8275ed32113206c1bbc4a011a3fa75dd8db8611fbf1a85943e5fcef2aafe2f991c44f2d53a16fc0da60f3fd3c42d6a6cbd540c9746fc44bb5e91dfd7802950b11fa11276a10e5ccd6e8f2b27d97b36f172433cdb00fcaee9abca7421455a4fad9b331644ab5780bdfb6335d6fcc2ffbc20da9567aa52ebdd672195eff155db284a35356160eb6bc21017b10ddab55d5adbcbf4051143e879c1d0ecac505be47b0ff00ff9c2a4247cfa5e9d8f6e2447f528dfe491df87b117a54687eae5f741447069286e4d2c0c038c148b129a128494a4509c4722b83945e6d8a9a7eb25fe929d3df3e82db6021861883aa650b0a1acb23b49150fdc5a8031e9dc0a81eeebe62b79a3b13afa59afb44a23e9f05929270a38fc7ac2948cf61bd97291409133a62f94b45ea7f4b641b26d740f9282a866dd881c0c824ae13efec03d46d83479e7569e5e8325a6f4db8c7c8f7c7ca352580b39aa9c515eea49ae2fd619c66faa94d5a36539f522b7f3aba89c9d059775cbf7c1b52efa74e257c4869f511a34d400c4bf008f4c4ff4b7536a309e09ef741d2a46244ebb88d692e29568a45b93f2ecd173a301d3bef2cb77af2fa9cb89f51f5dff8bcfeec70b546fe7703df01609a5cc55be2ff02205c15fe785dec85857338cde081ddc6ee77e9cac53bd0dd5b336c452945841257e932b29bd37667d25a9b06e4482fad4f8db160a5971cce7e57b770e92200f3ab9b80fac5a184a00d82629b1b4a97ab6620abd785b3271209700f5a7232493cbda4419b164d37646a880e41eb4ec5b45b532035c2a0da02c4a46810a108ea97b2c7d934d352ccf3b410ff808d59a7a1fa7dd8fc92cb8559275acc3fa27b07f45aef89c400a172c8b7f03d26161d80ca8d6579e38342100cbfb46fa47d144e7c4b1ee7bc39889de62540259da6e34e9df3e23408234272dbf725de7043bbed1340cb4aa3160cf10b903a9f2a20e7331e16e481850a19b81c104767178ad3a579bbfb66c99cae2f3a2c3bb5ddfb3780345933e679ff06237039fba395a3afdcd1bc9ef576ce04de6e2bf30c3aafdbfc2859e9715c184dd369d6a5c2a840b1c220cd0e4aa52be31b193803bbcbcd3cc0b3863433faabf1c7d2035e2a2539cf1703c0ab5c29303d4f29ec7558cd6dd39f0334bb301f0eb5e9633129743eeb19662a6774823661257c99ddf3204e8ccf8580813ca15a827cc952805f8c7c6b2b49e7b6e147a8ce38042bb0206cf41b2f7581c5b83cdbeb02deeca55407deafabd1290261c83e296a4cac57ad256de6618ce51f7d98673faa2a881a07c16260d5e53a03e21bab25d0194797bf3b8c82176c8947f636ab3102995a16077d6c09a0e14e5fa754e78a6602ac0f32ff5dd658b1cb0ec8f6c6ddf7b4908fbc9a9b27e664ad18d1ff2b46b026516ccd2a8d802c1d8e0900c629d1264479af4dfcb002232f5857c70e78f480e2b891f1c0a43eeb519531fecc28af8c8cbb68866ee2ac041b7e93e844c6173bfc47bc2be8a296453c0b20f3cd3dbd9c2148d262039103c8dc169624f8b3feb3d9667252c8842cb784ab16c46c68650bf03d514e29c6e9e1d2ef2bde846c539d1c3a2bdf7cae33f3cbd9e7334386092eeb5a4ba82d8637df1434ba871c70ec0582eb0ab8b80fffd7109519b9bc7ceb92b2e0850fbd98e2f9bf56658567f43263c40e93b41f2ef1acfba6c8bf9532ea2d31be6ae492ecb1dc454ef0223bbdf2c587dddd23418f5b681f2fc01811cb1820410ce648b2114fd8b0e4d5f13ef931b68552f223318e57f7f5b812c86134233173e07f7c343cb157f6d136fa8cff2875c1b3a63ffc7b47734747c1c3d4592b2dcfe706ab6008aeba4545df9239f816ed1e0ac663bfaee30e981d469a22f3a04acd749c425e0192df9088bc4374cb399aef36cc4a12996bfb15f50e4bbeb66d8aff09f07ab416bdc05c8a96fd76c7254d5378825bc1d4681c20b69f75483c9af16758aac0e432745a8f960d1f85e4dd44f7c2fe944a85dc363952790472679eb479968289ec1e3d79cec9849a1aad353ad6a2b4110e676b8491ec05233a407d61859ee7e638c9fc2c0410dab636991f615ed9232897ec8942832fd1bc08b891ffbb4931f84df1d491cf83b5e4a30b215cc39d222249ce0dd6bc3e0257febc671bb68f1ec027575c1f53a2c418b40fd5d55e7ff3f7a5d7f25050a1f1c42154856d08a94d136781ab6546ee496166bd8afcce9bff6022dce854c331a95f6e666bdc9ecd566351bd6a42c95fb390c5db207398e19a18c4c9df68e209aeef6bda1f5c57604e061c0c5881bd75a17d2b85b362ad3ccd824f149c9d5416ad2b07e023c46ca71a68cadd580ac120267a85813a2490cca03244845dbd08674a215259f99c12b288c8d4a3f5d8bd27d92ce598b9b987d2cd21fe3c77a620272993035291c636c7bd05ae043eb3253226bd405e0437518ad1ca43e1d05cb4f47b4e1b7dc5e1897e6cabec8be8e661f854747e9a659b1ee5bdc6eae53293a950cda88f8e0785a1b4e0dd1b78cb7ba2697dcd8c351943d7f14911305494f0eedfb5caf930ef4a57b3681d91b0a4ef3b39995a61f4afeb465ef7e8d4406141f7eff7aacca6bf0d8d4c2c0dc30d58210cbcaebc39ed03ee49f37cb5f996d316199970d5db9e8a2d79cf44041022ac95213ca0cdd677e0762e98ab7721c9fd28959cddfc096e96d6e98e1f9bf007de16e6b3189295ff01a55f0622d9db96b332182d841683927438fc62c632beb2e96f5c8e59361436ca783907552a277844f5a9519c6fc1c848c29673ccab4515fb9552c86646cca0378c29dc9f5357777f8d12d7154a278a211c2d5036350be2b0fce24aa05e2fbc58d16d3dad64dd93730f433e93e8a030d38d5a438fb8dc194258532cfa9fd6163fa45c916f7eb718447d0981b5bf5c7f9fce69d1836a652c6acb739782f74ea8b005ecd5721ca60a2ce0957d1460c52bb0dcad788471cd30470f4495a74725de12041f7df981d0c18a3a2cd7dd456f7ba1af797fd42e2492fdccf8f3f8e74737cd4687cb228f0675a53301b42e43fb205cf5fcdab7d7d73d9fc7acf02491e3f5a1f8d4b15b5d045f2aec2bf6a254d754d3488f8a8bbacd89d70ae77b98fad5b2b87ea8bdc1c14adcb4e8beb18a571d5279052d7d6bc76f264722393fe2febda354f21b6a3a4b577b33211ad3663bd030d896c963ea26c556b3334b2d18c03a404c96515603e9e218e2cdac271640d4dfac870236fc396385cc3a8bcf9de1c4ac2622858b0bdd10d76d94f097b41820e538d81b07175bd3f63225fa260b22d5674ba23e85e27cd80fb9591957472f2b20db57840070802d51ff8fe243d4635de4ba053dabf5e6f2d42f4d0764d069d58eadb5a2566daf22cf34884ddbd5135f05b0392be6811428cf904c6bb2019a2285baf89075842f4e12c84ee478a3f716b12ca16a8c4f5e1bbec89bc90de2478ca68611b25640ac35f8efc06115ec4d065ca709928ca86c2edafd5a2981dcbf21462f2d44ad5ea68b5d14cbdd5cb7c1e970576017c594540791c911c6c038d1dc31020afd2fc144fc615e660f7054eb7af67e39d0457bcbae86d92d2efa0d3ddfd4f0fc40d36212ccdbd393342fa852f7e849ddc00d2e45c8fd8dcbbefb4dedc7ec6d96842871470a875773de44d6fa9c2a00f78bc05558e826dd5465826562e014337b6ac7c20281ef9e0f5a8a116b4a17d14201e3c5b2ebb18caeca19a7cf8f8921fdfdefcb3964910aede36aff2dc234aec7feba1dba6caef811bb70e30b0de3694930a6a9879b10f824869baae5e594f378f310970d54b13b69a7ed7730913fcae644dd6fd9cce41709b2001e8b2ba5389a2accad0b2a306adcf7a3763d90fbe1a13d501f291fd62bc67bdbaff0ad1a54f49c82caaa5c63732b9ea96cb0ddf52c67cc409e69b47d4baa3a27be2f363adddb4b19b2c58afb0a5723dfdd0ec0b19227b89c0e79f305c659aa7c74036c46855f8031bd332096c606f9de73f11353c0326a85fdd9145ddd4e4a3436c23090e8da72b16002d66da88d61a1245a119594d467763b62a9c25abfc80e2210e5c14d0964e1e6ec3a17297460306dc6ada060a5765356b9e0b9c423b37efeb466bc1839db09dc28a8c24e35df8ff33e24173786557fd6531683092958249e596049ea92c2cc17e31c634c4d5f0578d384a21491f1b947ef26a9fbb0cca016b0df9b28a170d624569384ab9d1ee91cf0ea6d4a7045c6c7aed772e8f0bfae5521610e1be3b5908dbf8234c90bbf326d176d03d54e4232dbe49bf574ba9101db328ae9d7885634542d54ea19cd159202be37bd1f46ae67eca57879fd36885c1918bc3782fb65b572d57a80aaef36ae45b54619c4007bc9eedfa3fafe605f0df59424d437d089c0f853a12e8773e90e8728ed34c5ca795569faf963e28659c5fc75e146daf86aba9b2da5b22a2857bf734dc85c36d778bd6cf9ca119eefef9d7952e08abba1a6a0796f85023b83ec0cd3a021477d89ac66889c29e4542c9862b6bdbe3581dab937acb8db418ea14d25d430698b8626a182a8e044afa24108272f24827d894cf94122079524c39a15934c4d07146fe9b56a051bb217238cb0057e72f3794fb9f82f64125687d3ddb76641b843ffb8b019e95919f407c21f91e3ab532307bfc13d9c11672b5ae5f9933aac3a590a76ae7fcb616fa1dc59b1e24134e4dc4090226028a409b974d43eacff084d149384fb56debdd5266f20737049471c46b8189916f167e83eda0777199fca9b9f38e0315682a13c6fbabcbd6afcf8d43ab3404e14d15249a49aeea3ceaa66f8c446300123037c22417e669aacaf8dbf070ccfb72e473c6e9b525cf77d89b8c1cea7ebd2e3d11f133ffd2f211fa41f6ef891637c55e62bc3d761224e6c7d2478c3d15d07bff64fdb7591c3f3a7459ba3cdbcabfff0cfe09c240b477877a3ec37b293d9a9cacf9cb204f46885f50c583ed5ee8d299eff046965a10575ce3c1d36f39b561186f98a3856a40047ea81365bafae9431ca7bb523b4a75fb92b89fbd234cfbaf24a0fddc1fcd2d373605722694cb215a39203ccf834ec42ff09cb8f6cda165993fec9adb5d8c4b8797e7b0eb79279e054dd309f7a2827ed52ddcfe261b8dba242b244e18d462248e3ad302408b5bc56e8478724f88ba306155bace77a8150571b201d60985b105b6fc4e52ae2afbc494a3ca040b480cf9fd3181e92512fcbf08e95e8185c248d3e07c28b018bafca26880f3557e9bdd2d589f1333ede1309e3aa043eb2ac5808c4f68b31a7cd4038d2ce824ea1af651d84ed548f1005d9b1e31778111629096271dab13297ccdf0342198dc497ce196c85ddb6884f565bd831971221322c0914572a144dd1b116cda5ad3d4cab8178e62b5e4e4197f89056d2ae6d234725aa78346f608a008ffd41c8699ab087c70bce740c9ebe1685601a8f490d31851b707775b871254ef552e381a58ccc04fafdc97fee11a114efe095cb2f7aa35b1c872694c751a5bd0f6240bcf2c27fe351961e4abff5c513242d8a0a819bed6ae27f339c1b047b86a2fcd78d6571d7ca7def9522d3c0f6600c60dc365c8b1e0d019181e149136636d73e14e40f5a812495e3050d6dcb3c4e067231a41ccd3b5916196ba98597e2741a92b32bd895b33b90bda80f813bae519ea804aa9a4e18c573ab77c7919f817a8f1dae15b0540b4835155d262e55a7ea002497646dc3717036c701f60d50db65a8326e9e0167fad1fb60b0c0c2bb55cd1ca565aa275143aacd599c1deaf08074a1fb3d4dfa71fd5d47dfebfd947c8a7c90a2555c2ae729e9cc98f6ea993009f29cb51dc5b784e5fa5f4582c42486714fef67f8736fe324e7df302afe14775c18b587779630bfa0973c52c415a82296303f22e5f3c09f3a0053e2e67ec8fcbff6cf44db3c7694c89026e47c6b9b28f3f09839ea675454cad491bfec28c4dcdbf911cf9d16c829191dacee1e0cc49c8d436a56e8f45bfd2d00bed19866714ae65eb0c8782ba0afdd9259718a5d7dc02c075fca872a6fad25e1e47a308b598d7a14b2c0b0b7769c6813778808fb598a0587df680a20e02cfea770d6b0fe762704b763fcabedbd3c53b142466208e5afa3b440d96152b0ed47ca658f05f137256126b2cb30d6633114c43dc80d9c222296113e74b18234088b26e35ec775e2dbc95d75431d98310d11bf64c0b09de306bb7fe69684bb3678d0c361e94e28b7e8f3ce610ae0fc3aa12a56bed569e6758c1dcc537649f8302797d3519de2acd5a6171466d6db9bcca423a7929836d21e67146a47aa5cd67762fb6b65227190596fe48bde761894049a5b51843ac75ea6d7216ee7f6f2d4c3d03bead6f01b858ab6604f23af0a79b06bb8b0be48fcf56039b41127178dded94afece0784f8f0f44a9323b321186d93d9b9fdd0929aff130abf3a8b597baaeacafe4e1a66b299d5c3b50710905709eac6283c42febba8f907eeba939faf8cace16fda6c0915b850b424a191c4becf6fbba48597bf75a770a0007f7b931da287a00770c87549bd9f2cba588687dddf39a30e11df94a4224bd43ed2400de66b497f12dfd8ba3b783f7eebb0853d0433d751f847657dd256724fe26d8fbff53d2c0741e41a3a93287b23ff396f62230ce0eea20a5bbbbe9d574d59e252d8bd8afb6c49201d7977b6c69038e33ef27418900cfac8d83c50e0e94aa24d8cd4bf2fa0c1582f51dc35f3c752d7d31631d46edd73bbfecd93f7f68975d90af00acca124179615241afa40a1dc73a3d658ad800a760adc7852599af35cff9c2f360d8fd42efbbdbc9d89cbc573344073c2e2c254cf6beeb4488707883048d46fad751812d17bf740bcbaa72be68f107787108f336bbc5be4e7292db3d3644d4f7a2c1f98d48733d4faa714679d005f1fcf986531a340373585cfccf15fd95feb1f26e1d73751ebbcba94d51ffff2a2d43d770b9ed5367a124ce8a28aac9a2c2cba017d8ad54106139f19891ae1c1deb3ee7bc7f5cddbd712c7a55db06c8081c66cc8317cbd763652180ba2719b6c087100521dac65b82d2f84edb285f0f755b5964714cd4a4b0dad0c461622ddaf443f424aef739ccee7e1756c736b303cdb04b6d1b9a202cdb9b78ecd8555eb5d78cf714188fec15f92b2713d8b51eb3e7c9aed73baa4b3203c01c1c330662608cf33c67894435a30f756ef13ccffe98063bf5ee720f95e6cb1c425ea5c6cb3c8c978f15d04ff5df8f7eb988e5358c27b77479b327fe9bed3f0a1b8ba9d2325fbd0ad243c18332bf995b9c7b580d64e793294b78e261e08b0af23e51ba1b49ad50d9136330f60d23c83e4cd62bd7772ef24b3ebbec3480e1d77df5fba8cec762904d89cba1c3d143cc776cbaf29a90feb68a9d9298825b7500bbf12b7536afc0cce82111d09bcd0ee3f0cd9553a140328ce8c6ae853ad36cb6e1028b6b174b0b1385dcc36f17aefc74617fce99e08a1a1285e4ee83cf43a63839023ea90d060a4a5dc523866a5fdf49ba013a873205a9796431a2ca17b81c79371bc1011f95007bbc19507624b58852cf5be4d71ef98243bf87179738195c4656e10c3f7fbf59d740dde7edc63a7a7f2a8b75e144682b5b2a1b77c8ffe5474bd9f7f2e3859fbcc21fb64f3def5461954be6c5344295261072cfc63c1249f6c2760e3b474279ab788b9fdfbcc69d4dc8f58d108be0e24b4274f92e5623d7370fbcc12a38471ff7a26e65e0dc8722f073aebba9d17e61dc8936c94108ae4ba14964f5c6b65dbb01433473db7171d8d6b537207f3561d119fed589c78b96ad3ed0b36488b27a793652daa0ed7956e53f2b0b5a370942481a7f2c4232e9166ad002c948928869b4131afbba198a1cbe9f1859044f32933204ca08dbdcbc7cfc5b94a52d30c0031b941380225af264ff9cc8d04cab029f6d06ce3b81ea14acccfafd18e2df15eba9f08e5f04a918919a4bf329cd8617f227ee68219e14718d3175d3a2a1db295e84e4fcb560b8c962543cfa8d5bc942de43c3252594e67376b1a0285faa9976f14ef772d2dc8da47972ed3d7fe7f1a52947f9ec5c11b43860dc47813b1ae9a8dbe349a1e0394860391a620ec3c44e4279ffcbf1809776adf87b211d3a375c075cf77704f94faad2423657a3dcfea6177a248492d62d992a4fe5167ab2e31db26652dcc4c0c5befb7439c94e0590f79db06a8c79fa10f21b2b1878b4d8d9c789c61e4fbcebc515bf87e449d002e0a9fc3252387a4274e76e8fc15e57f2f9b03bf2b2531d9986fb36fbf538d6c367bbe61d19a8271dcb285173024d716daae5910c8f5d91fbfbf53a879b186fbf361c6c51760d7872bdc96d5493f6c7c619eb87943c76621d93d94c9ec7bc40a16b83c4b4f1a615129c84b9c25ff2d1d55196be08a0742712cc0b7d7388add76c77cd5e5d4b384a34ab3c8b4e92b6f137f1139d69890c43418c16a7006dca268c2f42b37efbee66195f340488fc6cf53642ef2701fede163fb091f62a82529f5a57f7bf41e7fccac4245c9468b653518769711ad767b3f86dcffd0ec1c19a70082b83feaaf4994cf12ded99af149f8c1f56095a97f61f0afbb1162fc80d83ce1b6159a19b891b47ac4837aa0c8f37aaf08c242f54d8bec72d10269a619f9bec5de6a56572dccbd928662c79706d74c5372f2c57ee6bfea58cf708feba23837cbb90f975d8b2dd78aae8cfda3c3ffd38ad7f8193d1d622935acbb042be9be4bbc626a9197c630262b02d4d3cf65fa1000661dc2c835cf829106435a6481fa937bafe547aca09d1fab0a691550a2a82b11e867d5643474496f5a0e292a6f2b97b2135928430a3eefe14eebeed3c55b697c9f3c62f348e6ce693f4a222ac0dcba74d2dd92a5a5da92b3f3ded11cb0290059bd7286dfd0a1d76fd2785110eb319d2de1d30839269581191ca68a1dc21c69640c9a0a78cb9f7ecb36583ea516cdfe0c96d5aaea8f6bbf5028e2f8f656f5f8f3a40bd4d01929870d6eaed41dadf4acec628bac79551e05c473ea2e9099c65f7b3e0784a584f84f15b7e5e0da15f2911be9eb395b3974f38fd075d2d022700087d2657c8ef17d7f4b0cf57f468fb5e3a01484e49c13330fd598b2593667efe0db89bf5bedab2e864a755769a65db58dcad8690a1a472f011fe3464cded72b0a877e90b11d682fff2f3d43d9c56e9affe6a2bea430e0031f3ed20b7d8aecedf697573ccaa6212644e1331b1f6dbd29179a6fd4ab87e6b1bc0a74300bf256385b163efe8d4f4fb0dc884f0fb6674e07c60bcf8df3040df767a1acf6b0f42764b880e8a0cec16fe49d9c93d059db6888b86a5d275ec26ce4918d3f535bb133b9790e40a1d9dbeb77fad96a8e83f46d10e970492e6b928900c956568c986f89394bef0884265d3126ae4319d36bf671ef66f7cd580221fec300d1da2ed9426d60315dfea76aeb9c83b610f9862c5c02910e04713736725fa30d5cdb04313f9f34239e19c386ab0a3f1a6ad1635847efc336e1aac1f85cf83cfad56c567020561a19335d9a76bf855534957bd491568557d9fc1cd4759e626e9973d91fdf6247f5f19d87fd277af52e4d131b8968c053563d0f1054333061ea074bb7ebcd0a2dd0917c3587b81aab79af135d8ed38c579b37295c764cf2a6a87974d216055fd41ef16936d9e947de4c5aa75787df63a3c1938c5db7741b0352c95a7173476b072aad928b543b0b4501a2add087724385ee36bf4f1715123e650b53bc3f2251545f5d45746ad838df4d8216ca94bb81f3cc96f2a5ea5d63fe7d06716a59cc22797d7f6d62c91ad068ddfd6a12e6cd1a591f5c3f117626560a626fd7a185d045ca8b586d481f53bc10098b582263b71e91183c4fa7fd0fc5b7edc8921b3ada295f88843d11907a876d14d5330a2ec97fc82ef9f575ee5f575aa24412256a70e29549306b10d08d5c0467a020be6480139cc9bfda8433e70f3caf19f35ed2dfd2f20ab481da2629561a794ef0e88281426e33fbbc8987a9afa167f9123d94d47b17676b8a44a9544dee32ee5b4abb0fa0b10b3b641be270215809e4f435c117ff249671db112ead5802627a3f3a4f47e0431eb19ce8adf03ccca3611b7eb0ac54428a1fa11656d5ca9fe8cafece0b0a42b36c412d2a023c3e80e05c7ec292401e3801b9092e4f59008ef2563ae14d457a3242afe4147d31bbd633d409c8688bb5786c508f86f3d456c8d8129c25d66aafc08b7ca3ead56d797adeaa64817ffcfe9157d6804e763fd79472fd3792bc322da53e16201524ae68adb616d8485a18edf447a6c4ea7ae2dfabcc7005bcd5a84b4349ad4ce796a33cfd3d7d4fc5abf49ea78a1d7790d8fbb34602d47bfaaa40bb7dc77ecb500b58c3d3dbd37167497b8326fe5bcd185da400c5ee5d19d2c93af6806e511577cf5b9d1071380fd179a0f6750344218b9a515cec1b0e4c53b8b9d2e623cfaf418d76814db56240cc80e61bbfcb1decb1ead70ad2bebffdc4f3864976803b05f5bfb619a251903562c199a66f1b30bb51a7aaec6e476b8a883d9ba87fd2e3813f51c14dc60e1c98219c49aa1fa8b4fd19a89f6c680ccf9f4107913eca631efda5963e696f1ac309b0d877e916c0acd5160028ad6c38b2e041769795bbcbfe500dcd859343d7f12a3aa43669517487f5e0f7e1ba1f304361cffdaa55f987a5c8e1d0bdd619e423f4d4eade1a564b78c8e4022e235ff58dab90ac127a06b736b1e1b3b266f54465c0d5c3a2ce70dd1bc9e831a52501afc6bd43769104a166c57685b069f921da4c5682ad905b56a87eb96d21eec58f45ce01cce777c19ea1966b16005c36a1e571db10953aba0d089d77cec8582c077598a8bee5b798492fac6214dd90856e58ced5f2b536c8d9c1a7b2e1ddb06b8d0f1d19bcfab4a7568b0468945baa9ae655eaf45bc23438fbe8602f31b86d841bb2823dd19406d0e9b739fba8104586675678c8720b4a3438b59ce74049c4ee142f980699314864e74513d54423e51ce83ff47d111bb696c6689ad4804cff8357b6d5de7e07f81f26add86b07f28ed80c6708b9d2ce35cf810e6fcfb9731be6c8dee0750d6c140d26d42535aed30f435190de5e2c8db92290bb153efa3f976914323fd2762b30bf78febcaac7af32c135fce3cf728d41c6a1b5962b5d09ada593252f64be2c0d7c66364bf3b9e8ae0b6c1f9b1bd6e1683047964abdad89d8e673551cd6bc9689d99c1cb09bbe0a419a44b6ce76adb48e1c3ef9c7ad512a809c9a074a74e5322ce4e5cd982fbe92b5f040ddd9811865f502f8208aebf4f284b5878749e53f00c5233bbc9e790080d1118fa4f7e3b953503a7b5fb389289697f99737544eb0d4ec7e35cf28f60e1553a51a2dccbc983ce19c57f35515156e4f773c342078a339b770f981cfb9c2737fe12e1450961368e9373fea19be122fcbab81c2f8f8c8c34052062a32e4ba2c783622b4568401c40cb60480bed64996f262d962e19719ef24a66f1fa9784cfa704556600414b59ff567a90811a006178fd68d0a9b3d56d6b61ef39b3537a267b48fb2ad763cfa8a60f60270c81e6a213a465de47ab7b6e800461f0bc5b544aafaa16813da4255e27a2f3fe308a68dbfcb54f45331799372621c7c707a3154a0043c9a34865c41bc44e714b4cc0c0a20131880ea5456c8c32bf20dc4d17690e1725e236e0fd1a7dbad6c75c3d9f5b91766125376c572c8a1f2771d33620b1145648ada9e5d4549b1ae5b4d5f7714fd20068cd5928b91cf91912725e1e6162ea8a33f1609e4b005c907f3540020a1e17676e431b5566a6cd7ab739af6ef982d93858e6db321d05f93c6ab3f42cef35c8d3c08465c74ff0ca5384047551c9712b96ef30d9ed5eda2884e849f9985304f59053c54cfe4b2f64737417640d009d967de99fd4c33b81e18a01c9247ffc6125d32e6d5133b0f0393f7fbe74c80a57c1d60c9c63fef425b82256ab8ccc7fda45bb9342b8befb872b02084f0444099fd1e98f9732a10517b185bbba1deb956f8aae5f7a9b9533821</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">å½“å‰æ–‡ç« æš‚ä¸å¯¹å¤–å¯è§ï¼Œè¯·è¾“å…¥å¯†ç åæŸ¥çœ‹ï¼</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <tags>
        <tag>Niubility</tag>
      </tags>
  </entry>
  <entry>
    <title>VueCli3 æŠ¥é”™ This dependency was not found: core-js/modules</title>
    <url>/2021/06/05/vue-core-js-modules-not-found/</url>
    <content><![CDATA[<h4 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">This dependency was not found:</span><br><span class="line"></span><br><span class="line">* core-js&#x2F;modules&#x2F;es.object.to-string.js in .&#x2F;src&#x2F;router&#x2F;index.js</span><br><span class="line"></span><br><span class="line">To install it, you can run: npm install --save core-js&#x2F;modules&#x2F;es.object.to-string.js</span><br></pre></td></tr></table></figure>

<h4 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h4><p><code>VSCode</code> å…ˆ <code>Ctrl+C</code> åœæ­¢é¡¹ç›®</p>
<p>æŒ‰ç…§æç¤ºï¼Œå®‰è£…ä¾èµ–åŒ…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save core-js</span><br></pre></td></tr></table></figure>

<p>é‡å¯é¡¹ç›®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm run serve</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yarn serve</span><br></pre></td></tr></table></figure>

<hr>
]]></content>
      <categories>
        <category>Vueå‰ç«¯å¼€å‘</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>Debug</tag>
      </tags>
  </entry>
  <entry>
    <title>vueç”Ÿå‘½å‘¨æœŸå‡½æ•°</title>
    <url>/2021/06/02/vue-lifecycle/</url>
    <content><![CDATA[<h4 id="é’©å­å‡½æ•°"><a href="#é’©å­å‡½æ•°" class="headerlink" title="é’©å­å‡½æ•°"></a>é’©å­å‡½æ•°</h4><ul>
<li>beforeCreate</li>
<li>created</li>
<li>beforeMount</li>
<li>mounted</li>
<li>beforeUpdate</li>
<li>updated</li>
<li>beforeDestroy</li>
<li>destroyed</li>
</ul>
<hr>
<h4 id="å›¾ç¤º"><a href="#å›¾ç¤º" class="headerlink" title="å›¾ç¤º"></a>å›¾ç¤º</h4><p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210608172331.png" alt="20210608172331"></p>
<hr>
]]></content>
      <categories>
        <category>Vueå‰ç«¯å¼€å‘</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»Šå¤©è¿˜æ˜¯å•èº«ç‹—ï¼Œæ˜å¹´è®©ä½ è¿‡å…­ä¸€</title>
    <url>/2021/06/01/not-being-a-single-dog/</url>
    <content><![CDATA[<h4 id="ä½ åƒé¥­äº†å—"><a href="#ä½ åƒé¥­äº†å—" class="headerlink" title="ä½ åƒé¥­äº†å—"></a>ä½ åƒé¥­äº†å—</h4><p>å¥³ï¼š<strong>ä½ åƒé¥­äº†å—ï¼Ÿ</strong><br>å›ï¼šè¿˜æ²¡å‘¢ï¼Œå¦‚æœä½ äº²è‡ªä¸‹å¨ï¼Œæˆ‘å°±èƒ½å°å°ä½ çš„æ‰‹è‰ºäº†ï¼<br>å¥³ï¼šæˆ‘ä¸å¤ªä¼šåšé¥­<br>å›ï¼šæ²¡å…³ç³»ï¼Œæˆ‘å¯ä»¥æ•™ä½ å‘€ï¼</p>
<p>æç¤ºï¼šé‡ç‚¹ä¸æ˜¯åƒäº†æˆ–è€…æ²¡åƒï¼Œè€Œæ˜¯å¥¹æƒ³æ‰¾ä½ èŠå¤©äº†ã€‚é‡ç‚¹æ˜¯å»¶ç»­è¿™ä¸ªè¯é¢˜ï¼Œé¡ºåŠ¿æ‹‰è¿‘å…³ç³»ã€‚</p>
<hr>
<h4 id="å¥½çƒ­å•Šä¸æƒ³å‡ºé—¨"><a href="#å¥½çƒ­å•Šä¸æƒ³å‡ºé—¨" class="headerlink" title="å¥½çƒ­å•Šä¸æƒ³å‡ºé—¨"></a>å¥½çƒ­å•Šä¸æƒ³å‡ºé—¨</h4><p>å¥³ï¼š<strong>ä»Šå¤©å¥½çƒ­å‘€ï¼Œæˆ‘éƒ½ä¸æƒ³å‡ºé—¨äº†</strong><br>å›ï¼šå’Œæˆ‘ä¸€èµ·å°±ä¸ä¼šçƒ­å•¦<br>å¥³ï¼šä¸ºä»€ä¹ˆå‘€<br>å›ï¼šå› ä¸ºå¿ƒâ€œè¿‘â€è‡ªç„¶å‡‰å˜›</p>
<p>æç¤ºï¼šå¥³ç”Ÿè¯´ä¸æƒ³å‡ºé—¨ï¼Œæ½œå°è¯æ˜¯ä¸æƒ³ä¸€ä¸ªäººå‡ºé—¨ã€‚</p>
<hr>
<h4 id="å“ˆå“ˆå“ˆå“ˆå“ˆ"><a href="#å“ˆå“ˆå“ˆå“ˆå“ˆ" class="headerlink" title="å“ˆå“ˆå“ˆå“ˆå“ˆ"></a>å“ˆå“ˆå“ˆå“ˆå“ˆ</h4><p><strong>å¦‚æœå¥³ç”Ÿç»å¸¸å‘ â€œå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆâ€ï¼Œå¦‚ä½•æœºæ™ºå›å¤ï¼Ÿ</strong><br>å¯ä»¥å›ï¼šä½ è¿™ä¹ˆå–œæ¬¢ç¬‘ï¼Œæˆ‘å°±æ„Ÿè§‰ä½ è¿™ä¸ªäººå§ ç¬‘é‡Œè—åˆ€<br>å¥³ç”Ÿè‚¯å®šä¸æ˜æ‰€ä»¥<br>ç„¶åæ¥ç€å›ï¼šæˆ‘è·Ÿä½ ä¸ä¸€æ ·ï¼Œæˆ‘ç¬‘é‡Œè—ä»™å¥³ã€‚å†å‘ä¸€æ®µå“ˆå“ˆå“ˆï¼Œç„¶åæŠŠå¥¹çš„åå­—å¤¹åœ¨è¿™æ®µè¯é‡Œã€‚</p>
<hr>
<h4 id="æˆ‘å‡ºé—¨äº†"><a href="#æˆ‘å‡ºé—¨äº†" class="headerlink" title="æˆ‘å‡ºé—¨äº†"></a>æˆ‘å‡ºé—¨äº†</h4><p>å¥³ï¼š<strong>æˆ‘å‡ºé—¨äº†</strong><br>å›ï¼šè®°å¾—å¸¦ä¼ï¼Œåƒä¸‡åˆ«æ·‹é›¨ï¼Œä¸ç„¶å°±ä¼šã€‚ã€‚ã€‚<br>å¥³ï¼šä¸ç„¶ä»€ä¹ˆ<br>å†å›ï¼šä¸ç„¶å°±ä¼šå¯çˆ±åˆ°å‘èŠ½äº†</p>
<p>æç¤ºï¼šåƒä¸‡ä¸è¦å›å¤ æ³¨æ„å®‰å…¨ å·´æ‹‰å·´æ‹‰çš„é‚£äº›ï¼Œéš¾é“å¥¹ä¸çŸ¥é“æ³¨æ„å®‰å…¨å—ï¼Ÿ</p>
<hr>
<h4 id="å¿ƒæƒ…ä¸å¥½"><a href="#å¿ƒæƒ…ä¸å¥½" class="headerlink" title="å¿ƒæƒ…ä¸å¥½"></a>å¿ƒæƒ…ä¸å¥½</h4><p>å¥³ï¼š<strong>æˆ‘å¿ƒæƒ…ä¸å¥½</strong><br>å›ï¼šçœ‹ä½ è¿™æ ·ï¼Œæˆ‘ä¹ŸæŒºéš¾è¿‡çš„ã€‚è°è¿™ä¹ˆè®¨åŒå‘€ï¼Œæƒ¹æˆ‘ä»¬å®¶å°ä»™å¥³ï¼Œæ€ä¹ˆä¼šæœ‰è¿™æ ·çš„äºº<br>å¥³ç”Ÿä¸€èˆ¬ä¼šè¯´ä¸€ä¸‹<br>å†å›ï¼šåˆ«ç”Ÿæ°”äº†ï¼Œæœ‰ä»€ä¹ˆçƒ¦æ¼æ˜¯ä¸€é¡¿ç«é”…è§£å†³ä¸äº†çš„å‘€ï¼Œèµ°ï¼Œæˆ‘å¸¦ä½ å»æ•å¼€åƒä¸€é¡¿</p>
<p>æç¤ºï¼šåƒä¸‡ä¸è¦å›å¤ï¼šæ€ä¹ˆäº†ï¼Œæ€ä¹ˆå›äº‹ï¼Ÿå·´æ‹‰å·´æ‹‰çš„è¿™äº›ã€‚å› ä¸ºå¥³ç”Ÿå·²ç»è·Ÿä½ è¯´å¿ƒæƒ…ä¸å¥½äº†ï¼Œä½ å°±ä¸è¦å†åˆ¨æ ¹é—®åº•çš„é—®å¥¹äº†ã€‚ä½ è¦å…ˆè§£å†³å¥¹çš„æƒ…ç»ªé—®é¢˜ã€‚å¥³ç”Ÿéš¾è¿‡ç¬¬ä¸€æ—¶é—´æ‰¾ä½ å€¾è¯‰ï¼Œè‚¯å®šæ˜¯å› ä¸ºç›¸ä¿¡ä½ ï¼Œå¸Œæœ›ä½ èƒ½ç†è§£å¥¹çš„å¿ƒæƒ…ã€‚</p>
<hr>
<h4 id="å¼€åœºç™½"><a href="#å¼€åœºç™½" class="headerlink" title="å¼€åœºç™½"></a>å¼€åœºç™½</h4><p>æœ‹å‹ä»‹ç»çš„å¥³ç”Ÿå¦‚ä½•å¼€åœºï¼Ÿ</p>
<p>å‘ï¼šä½ çœ‹æˆ‘ä»¬æ˜¯èµ°è¿‡ç¨‹è¿˜æ˜¯ç›´æ¥å¼€å§‹ï¼Ÿ</p>
<p>æç¤ºï¼šå¦‚æœå¥³ç”Ÿçœ‹æ‡‚æ˜¯ç©ç¬‘ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å°±ä¼šå¾ˆå¥½èŠäº†ã€‚è¦æ˜¯å¥³å­©æ²¡çœ‹æ‡‚ï¼Œä»–å°±ä¼šæ•·è¡çš„å›ä¸ªè¡¨æƒ…ï¼Œä½ å°±ç›´æ¥è¯´<br>å‘ï¼šå¥½ï¼Œé‚£æˆ‘ä»¬å°±ç›´æ¥ä»è¿™ä¸ªè¡¨æƒ…å¼€å§‹å§ï¼</p>
<hr>
<h4 id="å¿˜è®°å›æ¶ˆæ¯"><a href="#å¿˜è®°å›æ¶ˆæ¯" class="headerlink" title="å¿˜è®°å›æ¶ˆæ¯"></a>å¿˜è®°å›æ¶ˆæ¯</h4><p>å¥³ï¼šå¿˜è®°å›ä½ æ¶ˆæ¯äº†<br>å›ï¼šæ²¡å…³ç³»å‘€ï¼Œä½ ç”¨æ„å¿µå›å¤çš„æ—¶å€™ï¼Œæˆ‘ä¹Ÿåœ¨ç”¨æ„å¿µâ€¦<br>å¥³ç”Ÿå¯èƒ½ä¸æ˜æ‰€ä»¥<br>å†å›ï¼šæˆ‘ç”¨æ„å¿µæŠŠä½ èƒ–æäº†ä¸€é¡¿ï¼Œè¯´èµ·æ¥è¿˜æ˜¯æˆ‘è¿‡åˆ†ä¸€ç‚¹</p>
<p>æç¤ºï¼šè™½ç„¶ä¸æ˜¯æ•…æ„ä¸å›ä½ æ¶ˆæ¯ï¼Œä½†æˆ‘ä»¬å¯ä»¥è¶æœºè°ƒä¾ƒä¸€ä¸‹</p>
<h4 id="ä»Šå¤©å¥½å¿™å‘€"><a href="#ä»Šå¤©å¥½å¿™å‘€" class="headerlink" title="ä»Šå¤©å¥½å¿™å‘€"></a>ä»Šå¤©å¥½å¿™å‘€</h4><p>å¥³ï¼šä»Šå¤©å¥½å¿™å‘€<br>å›ï¼šçœ‹æ ·å­æ˜¯å¥½äº‹å•Šï¼Œè¿™è¯´æ˜ä½ å¿«å‡èŒäº†<br>å¥³ç”Ÿå¯èƒ½ä¼šè¯´ æ²¡æœ‰å•Š<br>å†å›ï¼šå“ï¼Œä½ å¥½æƒ¨å•Š ä¸å¦‚ï¼Œæˆ‘è¯·ä½ åƒé¥­ï¼ŒçŠ’åŠ³ä½ ä¸€ä¸‹</p>
<p>æç¤ºï¼šè¦ç»™äºå®‰æ…°</p>
<hr>
<p>é™„ï¼šå†…å®¹æ¥æºäºæŠ–éŸ³ã€‚</p>
]]></content>
      <categories>
        <category>äººç”Ÿéšæ„Ÿ</category>
      </categories>
      <tags>
        <tag>äººç”Ÿæ„Ÿæ‚Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>GORMå‡çº§V2è¿‡ç¨‹ä¸­çš„æ³¨æ„äº‹é¡¹</title>
    <url>/2021/05/25/notes-of-the-gorm-upgrade-v2/</url>
    <content><![CDATA[<p>æœ€è¿‘é€æ¸æŠŠæ‰‹ä¸­è´Ÿè´£çš„å‡ ä¸ªgolangé¡¹ç›®ä¸­çš„gormå‡çº§åˆ°v2ç‰ˆæœ¬ã€‚ä¹‹å‰çœ‹v2çš„å‡çº§è¯´æ˜å¹¶æ²¡æœ‰ä»€ä¹ˆå¤§çš„æ„Ÿè§‰ï¼Œä½†çœŸè¦å‡çº§çš„æ—¶å€™å‘ç°å…¶ä¸­è¿˜çœŸæœ‰å¥½å¤šéœ€è¦æ³¨æ„çš„ç‚¹ï¼Œä¸ç„¶å¾ˆå®¹æ˜“å°±è¸©å‘äº†ã€‚</p>
<p>é¡¹ç›®ä¸­ä½¿ç”¨çš„æ˜¯ <code>mysql</code> æ•°æ®åº“ã€‚</p>
<h4 id="ä½¿ç”¨-gorm-v2"><a href="#ä½¿ç”¨-gorm-v2" class="headerlink" title="ä½¿ç”¨ gorm v2"></a>ä½¿ç”¨ gorm v2</h4><p>è¿™ä¸ªä¸å¿…å¤šè¯´ï¼Œç›´æ¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å³å¯ã€‚æ›¿æ¢æ‰ä¹‹å‰çš„å¼•ç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">go get -u gorm.io&#x2F;gorm</span><br><span class="line">go get -u gorm.io&#x2F;driver&#x2F;mysql</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="intç±»å‹"><a href="#intç±»å‹" class="headerlink" title="intç±»å‹"></a>intç±»å‹</h4><p>golangä¸­çš„ Modelï¼Œå¯¹äºæŸäº›å°æ•°æ®é‡çš„å­—æ®µï¼Œä¾‹å¦‚ <code>gender</code> ã€<code>status</code> ç­‰ï¼Œæˆ‘ä¸€èˆ¬ä½¿ç”¨ <code>int8</code> æˆ– <code>int</code> ç±»å‹æ¥å®šä¹‰ï¼Œå¯¹åº”äºmysqlä¸­çš„ <code>tinyint</code> ã€<code>int</code> ç±»å‹ã€‚</p>
<p>è€Œå¯¹äºå¤§æ•°æ®é‡çš„å­—æ®µï¼Œä¾‹å¦‚ <code>ä¸»é”®Id</code> ã€ <code>CreateTime</code> ç­‰ï¼Œåˆ™ä¸€èˆ¬ä½¿ç”¨ <code>int64</code> æ¥å®šä¹‰ï¼Œå¯¹åº”äºmysqlä¸­çš„ <code>bigint</code> ç±»å‹ã€‚</p>
<p>åœ¨ <code>gorm v1</code> ç‰ˆæœ¬ä¸­ï¼Œå¦‚æœä¸ç‰¹æ„æŒ‡å®šè¯´æ˜ï¼Œåˆ™ <code>int</code> ä¼šæ˜ å°„ä¸º <code>int(11)</code> ç±»å‹ï¼Œ<code>int64</code> ä¼šæ˜ å°„ä¸º <code>bigint(20)</code> ç±»å‹ã€‚</p>
<p>ä½†åœ¨ <code>gorm v2</code> ç‰ˆæœ¬ä¸­ï¼Œå¦‚æœæ²¡æœ‰ç‰¹æ„æŒ‡å®šï¼Œåˆ™ <code>int</code> å’Œ <code>int64</code> éƒ½ä¼šé»˜è®¤æ˜ å°„ä¸º <code>bigint(20)</code> ç±»å‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">type Student struct&#123;</span><br><span class="line">    Id         int64   &#96;json:&quot;id&quot; gorm:&quot;column:id;primary_key;AUTO_INCREMENT&quot;&#96;</span><br><span class="line">    Status     int     &#96;json:&quot;status&quot; gorm:&quot;column:status;not null;default:0&quot;&#96;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ <code>gorm v2</code> ä¸­ï¼Œå¦‚æœæƒ³è¦æ˜ å°„æˆ <code>int(11)</code> ç±»å‹ï¼Œåˆ™éœ€è¦æŒ‡å®šä½¿ç”¨çš„ <code>type</code> :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">type Student struct&#123;</span><br><span class="line">    Id         int64   &#96;json:&quot;id&quot; gorm:&quot;column:id;primary_key;AUTO_INCREMENT&quot;&#96;</span><br><span class="line">    Status     int     &#96;json:&quot;status&quot; gorm:&quot;column:status;type:int(11);not null;default:0&quot;&#96;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ä¸»é”®è‡ªå¢"><a href="#ä¸»é”®è‡ªå¢" class="headerlink" title="ä¸»é”®è‡ªå¢"></a>ä¸»é”®è‡ªå¢</h4><p>åœ¨ <code>gorm v2</code> çš„å‡çº§è¯´æ˜æ–‡æ¡£ä¸­ï¼Œæ ‡æ˜åœ¨æ–°ç‰ˆæœ¬ä¸­éœ€è¦ä½¿ç”¨ <code>camelCase</code> é£æ ¼çš„è¯­æ³•æ¥å®šä¹‰æ ‡ç­¾ã€‚ä¾‹å¦‚è¦ä½¿ç”¨ <code>autoIncrement</code> æ ‡ç­¾æ¥è¯´æ˜è¯¥å­—æ®µæ˜¯ <strong>è‡ªå¢</strong> çš„ã€‚</p>
<p>ä½†æˆ‘åœ¨ä½¿ç”¨æ—¶å´å‘ç°è¿™å…¶ä¸­è¿˜æ˜¯éœ€è¦æ³¨æ„çš„ã€‚å¦‚ä¸‹çš„å†™æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Id       int64  &#96;json:&quot;id&quot; gorm:&quot;column:id;type:bigint(20);primaryKey;autoIncrement&quot;&#96;</span><br></pre></td></tr></table></figure>

<p>ç»“æœæ’å…¥æ•°æ®æ—¶æŠ¥é”™ï¼š <code>Error 1364: Field &#39;id&#39; doesn&#39;t have a default value</code></p>
<p>ç»“åˆä¸Šé¢ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä½¿ç”¨äº† <code>type:bigint(20);</code> æ¥æ ‡æ˜æ˜ å°„åˆ°mysqlæ—¶ä½¿ç”¨çš„æ•°æ®ç±»å‹ã€‚ç»“æœæ‰§è¡Œæ—¶å‘ç° <strong>è‡ªå¢</strong> è®¾ç½®å¹¶æ²¡æœ‰ç”Ÿæ•ˆã€‚</p>
<p>å°†å…¶æ”¹æˆå¦‚ä¸‹å†™æ³•åï¼Œç»æµ‹è¯•æˆåŠŸï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Id       int64  &#96;json:&quot;id&quot; gorm:&quot;column:id;primaryKey;AUTO_INCREMENT&quot;&#96;</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†æ¢ç©¶åˆ°åº•æ˜¯å“ªé‡Œçš„é—®é¢˜ï¼Œæˆ‘åšäº†å¦‚ä¸‹çš„æµ‹è¯•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">type API struct &#123;</span><br><span class="line">    Id      int64  &#96;json:&quot;id&quot; gorm:&quot;column:id;primary_key;AUTO_INCREMENT&quot;&#96;      &#x2F;&#x2F; ä¸»é”®è‡ªå¢ æˆåŠŸ</span><br><span class="line">    Id      int64  &#96;json:&quot;id&quot; gorm:&quot;column:id;primaryKey;AUTO_INCREMENT&quot;&#96;       &#x2F;&#x2F; ä¸»é”®è‡ªå¢ æˆåŠŸ</span><br><span class="line">    Id      int64  &#96;json:&quot;id&quot; gorm:&quot;column:id;primaryKey;autoIncrement&quot;&#96;        &#x2F;&#x2F; ä¸»é”®è‡ªå¢ æˆåŠŸ</span><br><span class="line">    Id      int64  &#96;json:&quot;id&quot; gorm:&quot;column:id;primary_key;autoIncrement&quot;&#96;       &#x2F;&#x2F; ä¸»é”®è‡ªå¢ æˆåŠŸ</span><br><span class="line"></span><br><span class="line">    Id      int64  &#96;json:&quot;id&quot; gorm:&quot;column:id;type:bigint(20);primaryKey;auto_increment&quot;&#96;   &#x2F;&#x2F; ä¸»é”®ä¸è‡ªå¢ å¤±è´¥</span><br><span class="line">    Id      int64  &#96;json:&quot;id&quot; gorm:&quot;column:id;type:bigint(20);primaryKey;autoIncrement&quot;&#96;    &#x2F;&#x2F; ä¸»é”®ä¸è‡ªå¢ å¤±è´¥</span><br><span class="line">    Id      int64  &#96;json:&quot;id&quot; gorm:&quot;column:id;type:bigint(20);primaryKey;AUTO_INCREMENT&quot;&#96;   &#x2F;&#x2F; ä¸»é”®ä¸è‡ªå¢ å¤±è´¥</span><br><span class="line"></span><br><span class="line">    Id      int64  &#96;json:&quot;id&quot; gorm:&quot;column:id;type:bigint(20) auto_increment;primary_key&quot;&#96;   &#x2F;&#x2F; ä¸»é”®è‡ªå¢ æˆåŠŸ</span><br><span class="line">    Id      int64  &#96;json:&quot;id&quot; gorm:&quot;column:id;type:bigint(20) autoIncrement;primaryKey&quot;&#96;     &#x2F;&#x2F; Error 1064: You have an error in your SQL syntax; </span><br><span class="line">    Id      int64  &#96;json:&quot;id&quot; gorm:&quot;column:id;type:bigint(20) AUTO_INCREMENT;primaryKey&quot;&#96;    &#x2F;&#x2F; ä¸»é”®è‡ªå¢ æˆåŠŸ</span><br><span class="line"></span><br><span class="line">    Id      int64  &#96;json:&quot;id&quot; gorm:&quot;column:id;primaryKey;type:bigint(20) autoIncrement;&quot;&#96;    &#x2F;&#x2F; Error 1064: You have an error in your SQL syntax;</span><br><span class="line">    Id      int64  &#96;json:&quot;id&quot; gorm:&quot;column:id;primaryKey;type:bigint(20) auto_increment;&quot;&#96;   &#x2F;&#x2F; ä¸»é”®è‡ªå¢ æˆåŠŸ</span><br><span class="line">    Id      int64  &#96;json:&quot;id&quot; gorm:&quot;column:id;type:bigint(20) auto_increment;primaryKey&quot;&#96;    &#x2F;&#x2F; ä¸»é”®è‡ªå¢ æˆåŠŸ</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸ªä¸­æ»‹å‘³ï¼Œå¤§å®¶è¿˜æ˜¯è‡ªå·±ä½“ä¼šå§ï¼ï¼ï¼</p>
<p>è‡³äºæ€ä¹ˆç”¨ï¼Œé‚£å°±æ€»ç»“ä¸€ä¸‹ï¼š</p>
<p>å¦‚æœä½ ä¸éœ€è¦æŒ‡å®šç±»å‹ï¼Œåˆ™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Id      int64  &#96;json:&quot;id&quot; gorm:&quot;column:id;primaryKey;AUTO_INCREMENT&quot;&#96;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½ æƒ³è¦æŒ‡å®šç±»å‹ï¼Œåˆ™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Id           int64  &#96;json:&quot;id&quot; gorm:&quot;column:id;type:bigint(20) auto_increment;primaryKey&quot;&#96;</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="commentè¯´æ˜"><a href="#commentè¯´æ˜" class="headerlink" title="commentè¯´æ˜"></a>commentè¯´æ˜</h4><p>åœ¨ <code>gorm v1</code> ä¸­ï¼Œä¸ºå­—æ®µæ·»åŠ è¯´æ˜ä¿¡æ¯æ—¶ï¼Œéœ€è¦ç”¨ <code>å¼•å·åŒ…è£¹</code> å†…å®¹ï¼š <code>comment:&#39;åˆ›å»ºæ—¶é—´&#39;</code> ï¼›è€Œå‡çº§åˆ° <code>gorm v2</code> åï¼Œä¸éœ€è¦ <code>å¼•å·</code> äº†ï¼š<code>comment:åˆ›å»ºæ—¶é—´</code> ã€‚</p>
<p>çœ‹å¦‚ä¸‹çš„å¯¹æ¯”ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; gorm v1</span><br><span class="line">CreateTime  int64  &#96;json:&quot;create_time&quot; gorm:&quot;column:create_time;comment:&#39;åˆ›å»ºæ—¶é—´&#39;&quot;&#96;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; gorm v2</span><br><span class="line">CreateTime  int64  &#96;json:&quot;create_time&quot; gorm:&quot;column:create_time;comment:åˆ›å»ºæ—¶é—´&quot;&#96;</span><br></pre></td></tr></table></figure>

<hr>
]]></content>
      <categories>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>Golang</tag>
        <tag>Gorm</tag>
      </tags>
  </entry>
  <entry>
    <title>Telegramå¼€å‘ - Google Voice ä¿å·</title>
    <url>/2021/05/20/develop-with-telegram-for-google-voice-keep-alive/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰ï¼Œæ‚¨è¾“å…¥çš„å¯†ç é”™è¯¯ï¼Œè¯·æ£€æŸ¥åé‡æ–°è¾“å…¥ã€‚" data-whm="æŠ±æ­‰, å½“å‰æ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯å¯ä»¥çœ‹çœ‹è§£å¯†åçš„å†…å®¹ã€‚">
  <script id="hbeData" type="hbeData" data-hmacdigest="7bdc9ee48f321a5a4963b2124ba40e19fd75d42a8cfa33939cb28ec8635c0d81">d636f693ee2a15a11c80bfecb03e7c947b194440812489d561b3ab07c6987524</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">å½“å‰æ–‡ç« æš‚ä¸å¯¹å¤–å¯è§ï¼Œè¯·è¾“å…¥å¯†ç åæŸ¥çœ‹ï¼</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>Telegramå¼€å‘</category>
      </categories>
      <tags>
        <tag>ä»˜è´¹é˜…è¯»</tag>
        <tag>Telegram</tag>
      </tags>
  </entry>
  <entry>
    <title>Telegramå¼€å‘ - Telegram å…¥é—¨</title>
    <url>/2021/05/16/develop-with-telegram-for-start/</url>
    <content><![CDATA[<p>æ—¢ç„¶ <code>Google Voice</code> è´¦å·å·²ç»å‡†å¤‡å¥½äº†ï¼Œæ¥ä¸‹æ¥å°±å¼€å§‹æ³¨å†Œ Telegramã€‚</p>
<hr>
<h4 id="åå·çš„å¼€å§‹"><a href="#åå·çš„å¼€å§‹" class="headerlink" title="åå·çš„å¼€å§‹"></a>åå·çš„å¼€å§‹</h4><p>ç»è¿‡æˆ‘çš„ä¸€ç•ªéªŒè¯åå‘ç°ï¼Œ<code>telegram</code> çš„ <code>åˆæ¬¡æ³¨å†Œ</code> <strong>å¿…é¡»è¦</strong> é€šè¿‡æ‰‹æœºæ¥è¿›è¡Œæ“ä½œæ‰å¯ä»¥ã€‚</p>
<p>è™½ç„¶å®˜ç½‘ä¸Šæœ‰ <code>Windows</code> å’Œ <code>MacOS</code> çš„å®¢æˆ·ç«¯ï¼Œè¿˜æœ‰ <code>ç½‘é¡µç«¯</code>ï¼Œä½†æ˜¯ä½ åœ¨è¿™äº›è®¾å¤‡ä¸Šæ³¨å†Œæ—¶ï¼Œä¼šæç¤ºä½ éªŒè¯ç å·²å‘é€åˆ°ä½ çš„ç§»åŠ¨è®¾å¤‡ä¸Šã€‚</p>
<p>ä¸€å¼€å§‹æƒ³ç€ç”¨ç”µè„‘çš„è¯æ“ä½œä¸Šæ›´å¿«ä¸€äº›ï¼Œæ‰€ä»¥å°±æ²¡æœ‰ç”¨æ‰‹æœºæ¥æ³¨å†Œã€‚ä¸è¿‡åœ¨ç»å†äº† <code>ç½‘é¡µç«¯</code> å’Œ <code>MacOSç«¯</code> çš„ <code>æ³¨å†Œç»Šè„šçŸ³</code> ä¹‹åï¼Œæ‰æ·±åˆ‡ä½“ä¼šåˆ°äº†è¿™ä¸€ç‚¹ã€‚</p>
<hr>
<h4 id="æ¥æ”¶éªŒè¯ç "><a href="#æ¥æ”¶éªŒè¯ç " class="headerlink" title="æ¥æ”¶éªŒè¯ç "></a>æ¥æ”¶éªŒè¯ç </h4><p>åœ¨ <code>chrome</code> æµè§ˆå™¨ä¸­æ‰“å¼€ <code>google voice</code> ä¸»é¡µé¢ï¼Œå‡†å¤‡æ¥æ”¶éªŒè¯ç ã€‚</p>
<p>åœ¨æ‰‹æœºç«¯çš„ <code>telegram</code> è¾“å…¥ä¸Šé¢çš„ <code>google voice</code> è´¦å·ã€‚æ³¨æ„åŒºå·è¦æ”¹ä¸º <code>+1</code>ã€‚ç‚¹å‡» <code>next</code> ç­‰å¾…å‘é€éªŒè¯ç ã€‚</p>
<p>ä½†æ˜¯ï¼Œæˆ‘å´å‘ç°æˆ‘çš„ <code>google voice</code> é¡µé¢ä¸­ä¸€ç›´æ”¶ä¸åˆ°ç›¸åº”çš„çŸ­ä¿¡éªŒè¯ç ã€‚</p>
<p>ç„¶åå‘ç°æ‰‹æœºç«¯çš„ <code>telegram</code> ä¼šåœ¨3åˆ†é’Ÿä¹‹åæœªè¾“å…¥éªŒè¯ç çš„æƒ…å†µä¸‹å‘é€è¯­éŸ³éªŒè¯ç ã€‚</p>
<p>ä½†æ˜¯ï¼Œæˆ‘åœ¨æ¥æ”¶åˆ°è¯­éŸ³éªŒè¯ç æ—¶ï¼Œå› ä¸ºæ‰‹è¯¯æ“ä½œå¤±è´¥äº†ï¼Œèƒ½å¤Ÿå¬åˆ°å¯¹æ–¹çš„å£°éŸ³ï¼Œä½†æˆ‘å´æ²¡æ³•åˆ†è¾¨å‡ºæ¥è‹±æ–‡ä¸­çš„éªŒè¯ç æ˜¯ä»€ä¹ˆï¼Œåªå¬åˆ°å¯¹æ–¹è¯´çš„è®©æˆ‘ <code>æŒ‰1</code> æˆ–è€… <code>æŒ‰2</code>ï¼Œæœ€åæ”¶åˆ°äº†å¦‚ä¸‹çš„é”™è¯¯æç¤ºï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210613140838.png" alt="20210613140838"></p>
<p>å½“æˆ‘æƒ³å†æ¬¡ç”³è¯·å‘é€éªŒè¯ç æ—¶ï¼Œ<code>telegram</code> Appä¸Šåªæç¤ºæˆ‘ <code>telegram dialed your number</code> ï¼Œå´æ‰¾ä¸åˆ°å¦‚ä½•æ¥é‡æ–°å‘é€éªŒè¯ç ã€‚</p>
<hr>
<h4 id="å¦‚ä½•è§£å†³"><a href="#å¦‚ä½•è§£å†³" class="headerlink" title="å¦‚ä½•è§£å†³"></a>å¦‚ä½•è§£å†³</h4><p>æ­¤æ—¶ä¼¼ä¹é™·å…¥äº†ä¸€ä¸ªåƒµå±€çš„çŠ¶æ€ï¼š</p>
<ol>
<li>é™¤äº†æ‰‹æœºç«¯ï¼Œæˆ‘æ— æ³•é€šè¿‡å…¶ä»–å®¢æˆ·ç«¯æ¥è¿›è¡Œç¬¬ä¸€æ¬¡çš„æ³¨å†Œæ¿€æ´»ã€‚</li>
<li>æ‰‹æœºç«¯ä¸Šå› ä¸ºå·²ç»ç»™æˆ‘å‘é€è¿‡éªŒè¯ç ï¼Œä½†æ˜¯æˆ‘æ—¢æ²¡æœ‰æ¥æ”¶åˆ°çŸ­ä¿¡ï¼Œåˆé”™è¿‡äº†æ¥æ”¶è¯­éŸ³ã€‚è€Œç°åœ¨å´æ‰¾ä¸åˆ°å¦‚ä½•é‡æ–°å‘é€éªŒè¯ç ã€‚</li>
</ol>
<p>æœ€åï¼ŒæŠ±ç€å°è¯•çš„å¿ƒæ€ï¼Œæˆ‘æŠŠæ‰‹æœºä¸Šçš„ <code>telegram App</code> å¸è½½äº†ï¼Œç„¶åé‡æ–°å®‰è£…ã€‚æ­¤æ—¶å‘ç°æˆ‘åˆèƒ½é‡æ–°è¿›å…¥åˆ°å‘é€éªŒè¯ç çš„æµç¨‹äº†ã€‚</p>
<hr>
<h4 id="å†æ¬¡æ— è¯­"><a href="#å†æ¬¡æ— è¯­" class="headerlink" title="å†æ¬¡æ— è¯­"></a>å†æ¬¡æ— è¯­</h4><p>ä¸è¿‡è®©äººæ— è¯­çš„æ˜¯ï¼Œæˆ‘çš„ <code>google voice</code> ä¸­åˆæ²¡æœ‰æ¥æ”¶åˆ°ç›¸åº”çš„çŸ­ä¿¡éªŒè¯ç ã€‚</p>
<p>å› ä¸ºè¿™æ¬¡æˆ‘æ¢äº† <code>edge</code> æµè§ˆå™¨æ¥æ‰“å¼€ <code>google voice</code> çš„é¡µé¢ï¼Œå´å‘ç°æ¥å¬åˆ°çš„è¯­éŸ³ç”µè¯å¬ä¸åˆ°å¯¹æ–¹çš„å£°éŸ³ï¼Œæœ€ååˆå®Œç¾çš„é”™è¿‡äº†æ¥å¬ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210613141158.png" alt="20210613141158"></p>
<p>ä¸å¾—å·²ï¼Œæˆ‘åˆæ¢å›äº† <code>chrome</code> æµè§ˆå™¨ã€‚</p>
<hr>
<h4 id="å‡ºç°è½¬æœº"><a href="#å‡ºç°è½¬æœº" class="headerlink" title="å‡ºç°è½¬æœº"></a>å‡ºç°è½¬æœº</h4><p>å½“å†æ¬¡åœ¨ <code>chrome</code> æµè§ˆå™¨ä¸­æ‰“å¼€ <code>Voice</code> ç½‘ç«™æ—¶ï¼Œæˆ‘å‘ç°åœ¨ <code>google voice</code> é¡µé¢çš„ä¸Šéƒ¨æœ‰ä¸€ä¸ªæ„Ÿå¹å·çš„æç¤ºï¼Œä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>æ‚¨çš„æµè§ˆå™¨å¯èƒ½é˜»æ­¢äº†æ¥ç”µå“é“ƒã€‚è¯·æ›´æ”¹æµè§ˆå™¨è®¾ç½®ï¼Œä»¥å…è®¸ voice.google.com å“é“ƒã€‚</p>
</blockquote>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210613141514.png" alt="20210613141514"></p>
<p>æœ¬æ¥åœ¨ç¬¬ä¸€æ¬¡çš„æ—¶å€™æˆ‘å°±å‘ç°äº†è¿™ä¸ªæç¤ºï¼Œä¸è¿‡å½“æ—¶æ²¡æœ‰å¤ªåœ¨æ„ï¼Œè§‰å¾—åªæ˜¯å“é“ƒè€Œå·²ï¼Œæ²¡ä»€ä¹ˆå…³ç³»çš„ã€‚ä½†ç°åœ¨æˆ‘æ„Ÿè§‰ <strong>ä¸¤æ¬¡éƒ½æ¥æ”¶ä¸åˆ°éªŒè¯ç å¯èƒ½è·Ÿè¿™ä¸ªè­¦å‘Šæœ‰å…³ç³»</strong>ã€‚</p>
<p>ç„¶åçœ‹äº†åé¢çš„ <code>äº†è§£è¯¦æƒ…</code> ï¼Œåœ¨ <code>chrome</code> æµè§ˆå™¨çš„æ–°æ ‡ç­¾é¡µä¸­è¾“å…¥ <code>chrome://settings/content/sound</code> ï¼Œ</p>
<p>åœ¨æ‰“å¼€çš„ <code>å£°éŸ³</code> è®¾ç½®é¡µä¸­ï¼Œå°† <code>å…è®¸ç½‘ç«™æ’­æ”¾å£°éŸ³(æ¨è)</code> è®¾ä¸ºå¯ç”¨ï¼Œå½“ç„¶ï¼Œè¿™ä¸€é¡¹é»˜è®¤å°±æ˜¯å¯ç”¨çŠ¶æ€ã€‚</p>
<p>ç„¶ååœ¨ä¸‹é¢çš„ <code>å…è®¸</code> åŒºåŸŸå³ä¾§ç‚¹å‡» <code>æ·»åŠ </code> ï¼Œå°† <code>voice.google.com</code> æ·»åŠ åˆ°ä¸‹é¢ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210613141705.png" alt="20210613141705"></p>
<p>å†æ¬¡å›åˆ° <code>google voice</code> é¡µé¢ä¸­ï¼Œåˆ·æ–°é¡µé¢ï¼Œå‘ç°é¡¶éƒ¨çš„è­¦å‘Šå·²ç»æ²¡æœ‰äº†ã€‚</p>
<p>æˆ‘å†æ¬¡å°è¯•ä¸Šé¢çš„æ“ä½œï¼Œå¸è½½Appï¼Œé‡æ–°è¿›è¡Œæ³¨å†Œæµç¨‹ï¼Œç­‰å¾…å‘é€éªŒè¯ç ã€‚</p>
<p>è¿™æ¬¡ï¼Œå‘ç° <code>google voice</code> å±…ç„¶æ”¶åˆ°äº†ç›¸åº”çŸ­ä¿¡é€šçŸ¥ï¼ŒåŒæ—¶åœ¨æµè§ˆå™¨çš„å³ä¸Šè§’ä¹Ÿä¼šæœ‰é€šçŸ¥æé†’å‡ºç°ã€‚ä¹Ÿä¼šæ¥æ”¶åˆ°é‚®ä»¶é€šçŸ¥ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210613141957.png" alt="20210613141957"></p>
<p>è¾“å…¥éªŒè¯ç ï¼Œç»§ç»­åç»­çš„æ³¨å†Œæµç¨‹ã€‚</p>
<hr>
<h4 id="MacOSç«¯"><a href="#MacOSç«¯" class="headerlink" title="MacOSç«¯"></a>MacOSç«¯</h4><p><code>telegram</code> çš„ MacOSç«¯è¦ç™»å½•ä¹Ÿå¿…é¡»ä½¿ç”¨ä»£ç†æ‰å¯ä»¥ï¼Œä½†åœ¨è®¾ç½®ä»£ç†æ—¶å¯èƒ½ä¼šå‡ºç°ä¸€äº›é—®é¢˜ã€‚</p>
<p>æ‰“å¼€MacOSä¸Šçš„ <code>telegram</code> åï¼Œåœ¨ä¸»é¡µé¢é€‰æ‹©å³ä¸Šè§’çš„ <code>ä»£ç†è®¾ç½®</code> æ¥æ–°å¢ <code>socket</code> ä»£ç†ã€‚</p>
<p>ä¸è¿‡å¯èƒ½ä¼šå‡ºç°æ·»åŠ ä»£ç†åï¼Œä¸€ç›´å¤„äº <code>è½¬åœˆ</code> çš„çŠ¶æ€ï¼Œæ˜¾ç¤º <code>socks5:connecting...</code> çš„ä¿¡æ¯ã€‚ç­‰å¾…æˆ–è€…é‡æ–°è®¾ç½®ä¹Ÿä¸€ç›´æ˜¯è¿™ä¸ªæ ·å­ã€‚</p>
<p>æœ€ç»ˆï¼Œåœ¨ç»è¿‡å¤šæ¬¡å°è¯•åæˆ‘æ€»ç®—æ‰¾åˆ°å…¶ä¸­çš„ <code>çªé—¨</code>:</p>
<ol>
<li>ç‚¹å‡» <code>æ·»åŠ ä»£ç†</code> ï¼Œè¾“å…¥ <code>SOCKS5</code> çš„ <code>Server</code> å’Œ <code>Port</code> åï¼Œç›´æ¥ç‚¹å‡»å³ä¸Šè§’çš„ <code>Done</code> ã€‚</li>
<li>æ­¤æ—¶ï¼Œç•Œé¢ä¸­åº”è¯¥æ˜¯ä¼šæ˜¾ç¤ºä¹‹å‰é‡åˆ°çš„ <code>è½¬åœˆ</code> çš„çŠ¶æ€</li>
<li>é‚£ä¹ˆï¼Œä¸ç”¨å»ç®¡å®ƒã€‚ç›´æ¥é€€å‡º <code>telegram</code> ç¨‹åº</li>
<li>å†æ¬¡æ‰“å¼€ <code>telegram</code> ï¼Œä½ ä¼šå‘ç° <code>ä»£ç†è®¾ç½®</code> ä¸­çš„ä»£ç†æ­¤æ—¶å·²ç»æ˜¾ç¤º <code>connected</code> äº†ã€‚</li>
</ol>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210613142253.png" alt="20210613142253"></p>
<p>Okï¼Œå°±æ˜¯è¿™ä¹ˆè«åå…¶å¦™ï¼ï¼ï¼</p>
<hr>
<h4 id="è®¾ç½®ä¸­æ–‡"><a href="#è®¾ç½®ä¸­æ–‡" class="headerlink" title="è®¾ç½®ä¸­æ–‡"></a>è®¾ç½®ä¸­æ–‡</h4><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒTelegramè®¾ç½®ä¸­çš„å¯é€‰è¯­è¨€ä¸­å¹¶ä¸åŒ…å«ä¸­æ–‡çš„é€‰é¡¹ã€‚ä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡æ’ä»¶çš„æ–¹å¼æ¥å®‰è£…ã€‚</p>
<p>ç›´æ¥å¤åˆ¶ä¸‹é¢çš„é“¾æ¥ï¼Œå‘é€åˆ°èŠå¤©çª—å£ä¸­ï¼Œç„¶åç‚¹å‡»è¯¥é“¾æ¥å®‰è£…å³å¯ã€‚</p>
<p>ä¸­æ–‡è¯­è¨€åŒ…:</p>
<ul>
<li>ç®€ä½“ä¸­æ–‡ï¼š<code>tg://setlanguage?lang=zh-hans-raw</code></li>
<li>ç¹ä½“ä¸­æ–‡ï¼š<code>tg://setlanguage?lang=zh-hant-raw</code></li>
</ul>
<p>è¯¥ä¸­æ–‡è¯­è¨€åŒ…æ”¯æŒå„ä¸ªå®¢æˆ·ç«¯ã€‚</p>
<hr>
<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>æœ€åï¼Œè¿˜æ˜¯è¦æ€»ç»“ä¸€ä¸‹ä¸Šé¢çš„ç»éªŒï¼š</p>
<ol>
<li>åœ¨ <code>google voice</code> çš„æ“ä½œè¿‡ç¨‹ä¸­ï¼Œä¸€å®šè¦å¯ç”¨ <code>å…¨å±€ä»£ç†</code>ï¼Œæ›´ä¿é™©ä¸€äº›</li>
<li>æ‰‹æœºç«¯çš„ <code>telegram</code> æ³¨å†Œæ—¶ï¼Œä¹Ÿè¦ <code>å¯ç”¨ä»£ç†</code>ï¼Œå› ä¸º <code>ä½ æ‡‚å¾—</code> çš„åŸå› </li>
<li><code>google voice</code> çš„æ“ä½œä¸€å®šè¦ä½¿ç”¨ <code>chrome</code> æµè§ˆå™¨æ¥æ“ä½œï¼Œä¸è¿‡ä½¿ç”¨ <code>edge</code> æµè§ˆå™¨ä¹Ÿå¯ä»¥ï¼Œæˆ‘åæ¥æ„Ÿè§‰åº”è¯¥æ˜¯æŸäº›è®¾ç½®æ²¡æœ‰æ‰“å¼€ä¹‹å‰æ‰ä¼šå¬ä¸åˆ°è¯­éŸ³</li>
</ol>
<hr>
]]></content>
      <categories>
        <category>Telegramå¼€å‘</category>
      </categories>
      <tags>
        <tag>Telegram</tag>
      </tags>
  </entry>
  <entry>
    <title>Telegramå¼€å‘ - Google Voice è´¦å·è½¬ç§»</title>
    <url>/2021/05/12/develop-with-telegram-for-google-voice-account-transfer/</url>
    <content><![CDATA[<p>ä»å¼€å‘çš„è§’åº¦æ¥è¯´ï¼ŒTelegramæ˜¯ä¸€ä¸ªå¯ç©æ€§å¾ˆé«˜çš„Appï¼Œä¸»è¦æ˜¯å¯ä»¥é€šè¿‡å…¶å†…ç½®çš„æœºå™¨äººå¼€å‘ä¸€äº›ä¸é”™çš„å·¥å…·ã€‚è€Œä»ç¤¾äº¤Appçš„è§’åº¦è€Œè¨€ï¼Œå…¶åˆæ˜¯ä¸€ä¸ªç§å¯†æ€§å¾ˆé«˜çš„é€šè®¯è½¯ä»¶ã€‚</p>
<p>é¢ã€‚ã€‚ã€‚è¯´çš„éƒ½æ˜¯åºŸè¯ã€‚ã€‚ã€‚</p>
<hr>
<h4 id="ä¸‹è½½telgram"><a href="#ä¸‹è½½telgram" class="headerlink" title="ä¸‹è½½telgram"></a>ä¸‹è½½telgram</h4><p>åœ¨å›½å†…çš„App Storeä¸‹ï¼Œå¯ä»¥ç›´æ¥ä¸‹è½½ <code>telegram</code> Appã€‚ä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡å›½å†…çš„ <code>+86</code> æ‰‹æœºå·æ³¨å†Œã€‚</p>
<p>æˆ‘æ˜¯åœ¨ç½‘ä¸Šçœ‹äº†ç›¸å…³çš„è®¨è®ºï¼Œå› ä¸º <code>telegram</code> å¿…é¡»ç”¨æ‰‹æœºå·æ¥æ³¨å†Œï¼Œä½†å›½å†…çš„æ‰‹æœºå·éƒ½æ˜¯å®ååˆ¶çš„ï¼Œå¯èƒ½ä¼šå‡ºç°ä¸€äº›é—®é¢˜ã€‚æ‰€ä»¥ï¼Œæœ€åå†³å®šé€‰æ‹©å¤§å¤šè¯´äººæ¨èçš„é‡‡ç”¨ <code>google voice</code> è´¦å·æ¥æ³¨å†Œã€‚</p>
<h4 id="è´­ä¹°è´¦å·"><a href="#è´­ä¹°è´¦å·" class="headerlink" title="è´­ä¹°è´¦å·"></a>è´­ä¹°è´¦å·</h4><p>å¦‚æœè‡ªå·±å»æ³¨å†Œ <code>Google Voice</code> è´¦å·çš„è¯ï¼Œé™¤äº†éœ€è¦æœ‰ <code>ç§‘å­¦ä¸Šç½‘</code> çš„å‰æï¼Œè¿˜éœ€è¦æä¾›ä¸€ä¸ªçœŸå®çš„ç¾å›½çš„å®¶åº­åœ°å€å’Œå¯ç”¨çš„ç”µè¯å·ç ã€‚å½“ç„¶ï¼Œè¿™ä¸ªä¿¡æ¯å¯ä»¥ç›´æ¥ä»ç½‘ä¸Šå»æœç´¢ç›¸å…³ä¿¡æ¯æ¥ç”¨ã€‚</p>
<p>ä¸è¿‡ï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨æ·˜å®ä¸Šå»è´­ä¹°å¯ç”¨çš„è´¦å·ï¼Œä¸€èˆ¬çš„è¯ï¼Œ10å—é’±å·¦å³å°±èƒ½æå®šã€‚</p>
<p>æ¯•ç«Ÿæœ‰æ—¶å€™ï¼Œèƒ½ç”¨é’±è§£å†³çš„é—®é¢˜ï¼Œéƒ½æ˜¯å°äº‹å„¿ã€‚</p>
<hr>
<h4 id="å¤„ç†è´¦å·"><a href="#å¤„ç†è´¦å·" class="headerlink" title="å¤„ç†è´¦å·"></a>å¤„ç†è´¦å·</h4><p>æ·˜å®ä¹°å®¶ä¼šæä¾›ç»™æˆ‘ä»¬ä¸€ä¸ªå¯ç”¨çš„googleè´¦å·ï¼Œé™„å¸¦å¯ç”¨çš„ <code>google voice</code> è´¦å·ã€‚</p>
<p>æˆ‘ä»¬é¦–å…ˆè¦åšçš„å°±æ˜¯ <code>ä¿®æ”¹å¯†ç </code> ã€‚</p>
<p>è¿™é‡Œï¼Œä¸€èˆ¬æœ‰ä¸¤ç§å¤„ç†æ–¹å¼ï¼š</p>
<p>ç¬¬ä¸€ç§ï¼Œæˆ‘ä»¬å¯ä»¥ä¿ç•™è¯¥ <code>google</code> è´¦å·ã€‚è¿™ç§å°±ç›¸å½“äºæˆ‘ä»¬è´­ä¹°äº†ä¸€ä¸ª <code>google voice</code> è´¦å·ï¼Œåˆç™½å¾—äº†ä¸€ä¸ª <code>google</code> è´¦å·ã€‚é‚£æˆ‘ä»¬å¯ä»¥ä¿®æ”¹å¯†ç å’ŒéªŒè¯é‚®ç®±åè‡ªå·±ä½¿ç”¨ã€‚</p>
<p>å¦‚æœä½ é€‰æ‹©è¿™ç§æ–¹å¼çš„è¯ï¼Œæ­å–œä½ ï¼Œåé¢çš„å†…å®¹å°±ä¸éœ€è¦çœ‹äº†ï¼Œå¯ä»¥ç›´æ¥æ™‹çº§ä¸‹ä¸€å…³ã€‚</p>
<p>ä¸è¿‡è¿™ç§æ–¹å¼ä¸å¥½çš„ä¸€ç‚¹æ˜¯ï¼šä¸€èˆ¬è¿™ç§ <code>google</code> è´¦å·éƒ½æ˜¯éšä¾¿ä¹±ç æ³¨å†Œçš„ï¼Œè´¦å·åæ‚ä¹±æ— åºä¸å¥½è®°å¿†ï¼Œæˆ‘ä»¬æ¯æ¬¡ä½¿ç”¨çš„æ—¶å€™è¦ä¹ˆä½ éœ€è¦æ‹·è´è¿‡æ¥ä½¿ç”¨ï¼Œè¦ä¹ˆå°±éœ€è¦èŠ±è´¹ä¸€äº›æ—¶é—´æ¥è®°å¿†ä¸€ä¸‹ã€‚ä½“éªŒä¸Šä¸å¤ªå¥½ã€‚</p>
<p>ç¬¬äºŒç§æ–¹å¼ï¼Œåˆ™æ˜¯å°† <code>google voice</code> è´¦å·è¿ç§»åˆ°è‡ªå·±çš„ <code>google</code> è´¦å·ä¸‹ã€‚ä¸€èˆ¬æƒ…å†µä¸‹éƒ½ä¼šæœ‰è‡ªå·±çš„ <code>google</code> è´¦å·ï¼Œè€Œæˆ‘ä»¬åªéœ€è¦å°†è´­ä¹°åˆ°çš„ <code>voice</code> è´¦å·è½¬ç§»åˆ°è‡ªå·±çš„ <code>google</code> è´¦å·ä¸‹ï¼Œå°±å¯ä»¥äº†ã€‚</p>
<p>è¿™é‡Œï¼Œæˆ‘é€‰æ‹©çš„æ˜¯ç¬¬äºŒç§ã€‚</p>
<p>åœ¨å°†è¯¥è´¦å·è¿ç§»åˆ°è‡ªå·±çš„åä¸‹ä¹‹å‰ï¼Œéœ€è¦åšä¸€äº›å‡†å¤‡å·¥ä½œï¼š</p>
<ol>
<li>ä¿è¯å¯ç”¨ <code>å…¨å±€ä»£ç†</code></li>
<li>æ¸…ç©ºæµè§ˆå™¨ç¼“å­˜</li>
</ol>
<p>å¯ç”¨å…¨å±€ä»£ç†ï¼Œæ˜¯ä¸ºäº†é˜²æ­¢åœ¨è´¦å·è½¬ç§»è¿‡ç¨‹ä¸­ï¼Œ<code>google voice</code> ä¼šæ£€æµ‹å½“å‰æ‰€å¤„ipåœ°å€æ˜¯å¦ä¸ºç¾å›½åœ°åŒºã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥è®¿é—® <a href="https://whoer.net" target="_blank" rel="noopener">WHOER</a> æŸ¥çœ‹ä¸€ä¸‹è‡ªå·±çš„ipä¿¡æ¯ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210613125420.png" alt="20210613125420"></p>
<p>å°†é¡µé¢å‘ä¸‹æ‹‰ï¼Œå¯ä»¥æŸ¥çœ‹å…·ä½“çš„ä½ç½®ä¿¡æ¯ï¼Œå·²éªŒè¯ä»£ç†æ˜¯å¦çœŸå®ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210613125532.png" alt="20210613125532"></p>
<hr>
<h4 id="è½¬ç§»æµç¨‹"><a href="#è½¬ç§»æµç¨‹" class="headerlink" title="è½¬ç§»æµç¨‹"></a>è½¬ç§»æµç¨‹</h4><h5 id="å¼€å§‹è½¬ç§»"><a href="#å¼€å§‹è½¬ç§»" class="headerlink" title="å¼€å§‹è½¬ç§»"></a>å¼€å§‹è½¬ç§»</h5><p>æ‰“å¼€ <code>Google Voice</code> å®˜ç½‘ <a href="https://voice.google.com" target="_blank" rel="noopener">Voice</a>ï¼Œç™»å½•è´­ä¹°åˆ°çš„ <code>Google Voice</code> è´¦å·ã€‚</p>
<p>ç‚¹å‡»å³ä¸Šè§’ <code>è®¾ç½®</code> ï¼Œ</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210613132454.png" alt="20210613132454"></p>
<p>ç‚¹å‡» <code>Account</code> éƒ¨åˆ†çš„ <code>Transfer</code> æŒ‰é’®ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210613132515.png" alt="20210613132515"></p>
<p>åœ¨æ‰“å¼€çš„æ–°é¡µé¢ä¸­ï¼Œå†æ¬¡ç‚¹å‡» <code>Transfer</code> ï¼Œ</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210613132609.png" alt="20210613132609"></p>
<p>æ˜¾ç¤ºä¸€ä¸ªå¼¹çª—ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210613132809.png" alt="20210613132809"></p>
<p>ç‚¹å‡»ä¸‹é¢çš„ <code>Sign-in to another account.</code> ï¼Œç™»å½•è‡ªå·±çš„googleè´¦å·ï¼Œæ­¤æ—¶ï¼Œç‚¹å‡»å³ä¸Šè§’å¤´åƒå¯ä»¥çœ‹åˆ°å½“å‰å·²ç»ç™»å½•æˆåŠŸçš„ä¸¤ä¸ªè´¦å·ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210613132843.png" alt="20210613132843"></p>
<hr>
<h5 id="ç™»å½•ä¸ªäººè´¦å·"><a href="#ç™»å½•ä¸ªäººè´¦å·" class="headerlink" title="ç™»å½•ä¸ªäººè´¦å·"></a>ç™»å½•ä¸ªäººè´¦å·</h5><p>åˆ·æ–°ä¸€ä¸‹å½“å‰é¡µé¢ï¼Œå†æ¬¡ç‚¹å‡» <code>Transfer</code> </p>
<p>ä¼šçœ‹åˆ°è‡ªå·±çš„googleè´¦å·ç°åœ¨æ˜¯æ˜¾ç¤ºä¸ºç°è‰²çš„ä¸å¯ç‚¹å‡»çŠ¶æ€ã€‚</p>
<p>æ˜¾ç¤ºç°è‰²è¯´æ˜å½“å‰è¿™ä¸ªè´¦å·æ²¡æœ‰å¼€é€š <code>voice</code> æœåŠ¡ï¼Œæˆ‘ä»¬å…ˆè¦å»å¼€é€šä¸€ä¸‹ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210613133123.png" alt="20210613133123"></p>
<hr>
<h5 id="å¼€é€švoiceæœåŠ¡"><a href="#å¼€é€švoiceæœåŠ¡" class="headerlink" title="å¼€é€švoiceæœåŠ¡"></a>å¼€é€švoiceæœåŠ¡</h5><p>ç‚¹å‡» <code>Cancel</code> æŒ‰é’®å–æ¶ˆå¼¹çª—ã€‚</p>
<p>ç‚¹å‡»å³ä¸Šè§’å¤´åƒåˆ‡æ¢åˆ°è‡ªå·±çš„ <code>google</code> è´¦å·ä¸‹ï¼Œç„¶ååœ¨æ–°æ‰“å¼€çš„é¡µé¢çª—å£ä¸­ç‚¹å‡»å³ä¸Šè§’çš„ <code>Sign In</code> ã€‚</p>
<p>ä¹‹åä¼šæ˜¾ç¤º <code>æ¬¢è¿ä½¿ç”¨ Google Voice</code> çš„æç¤ºä¿¡æ¯ï¼Œ</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210613133856.png" alt="20210613133856"></p>
<p>ç‚¹å‡»ç»§ç»­ï¼Œä¼šæç¤º <code>é€‰æ‹©ä¸€ä¸ª Google Voice å·ç </code> çš„ä¿¡æ¯ã€‚ä¸ç”¨å»ç®¡å®ƒã€‚æ˜¾ç¤ºå‡ºè¯¥ä¿¡æ¯å°±è¡¨ç¤ºæˆ‘ä»¬æˆåŠŸå¼€é€šäº† voiceæœåŠ¡ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210613133929.png" alt="20210613133929"></p>
<p>å…³æ‰å½“å‰çª—å£ï¼Œå›åˆ°ä¸Šä¸€ä¸ªé¡µé¢ã€‚</p>
<hr>
<h5 id="è½¬ç§»"><a href="#è½¬ç§»" class="headerlink" title="è½¬ç§»"></a>è½¬ç§»</h5><p>åˆ·æ–°ä¸€ä¸‹å½“å‰é¡µé¢ï¼Œå†æ¬¡ç‚¹å‡» <code>Transfer</code></p>
<p>æ­¤æ—¶ä¼šçœ‹åˆ°è‡ªå·±çš„ google è´¦å·æ˜¾ç¤ºä¸ºå¯å‹¾é€‰çŠ¶æ€ï¼Œå‹¾é€‰åç‚¹å‡» <code>Transer</code> æŒ‰é’®ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210613134202.png" alt="20210613134202"></p>
<p>å½“çœ‹åˆ°å¦‚ä¸‹é¡µé¢çš„æç¤ºä¿¡æ¯åï¼Œè¯´æ˜è´¦å·è½¬ç§»æˆåŠŸäº†ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210613134214.png" alt="20210613134214"></p>
<p>æ­¤æ—¶åˆ·æ–°é¡µé¢åï¼Œå¯ä»¥çœ‹åˆ°è´­ä¹°çš„ <code>google</code> è´¦å·ä¸‹å·²ç»æ²¡æœ‰è¿™ä¸ª <code>voice</code> å·ç äº†ã€‚åˆ‡æ¢åˆ°è‡ªå·±çš„ <code>google</code> è´¦å·ä¸‹ï¼Œå·²ç»å¯ä»¥çœ‹åˆ° <code>voice</code> å·ç äº†ã€‚</p>
<hr>
<p>è‡³æ­¤ï¼Œ<code>Google Vocie</code> è´¦å·è½¬ç§»æˆåŠŸã€‚</p>
<hr>
]]></content>
      <categories>
        <category>Telegramå¼€å‘</category>
      </categories>
      <tags>
        <tag>Telegram</tag>
      </tags>
  </entry>
  <entry>
    <title>Dartä¸­åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©º</title>
    <url>/2021/05/11/whether-string-is-null-or-empty-in-dart/</url>
    <content><![CDATA[<h4 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h4><p>åœ¨ Dart ä¸­åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>isEmpty</code> æˆ– <code>isNotEmpty</code> æ¥å¤„ç†ã€‚</p>
<p>ä½†æ˜¯ï¼Œåœ¨Dartä¸­ <code>String</code> é»˜è®¤å€¼ä¸º <code>null</code>:</p>
<p>dart version &lt; 2.12:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">void main()&#123;</span><br><span class="line">  String a;</span><br><span class="line">  print(a); &#x2F;&#x2F; null</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>dart version &gt;= 2.12:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">void main()&#123;</span><br><span class="line">  String? ss;</span><br><span class="line">  print(ss); &#x2F;&#x2F; null</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ—¶å€™å¦‚æœé€šè¿‡ <code>isEmpty</code> å»åˆ¤æ–­è¯¥å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºæ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°ä¸‹é¢çš„æŠ¥é”™ï¼š</p>
<blockquote>
<p>The getter â€˜isEmptyâ€™ was called on null</p>
</blockquote>
<p>ç›¸åº”çš„è§£å†³æ–¹æ³•å°±æ˜¯é€šè¿‡ä½¿ç”¨ <code>?</code> å’Œ <code>!</code> æ¥å¤„ç†ï¼š</p>
<blockquote>
<p>if <code>message</code> returns <code>null</code>. You might want:</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">if(message?.isEmpty ?? true)</span><br></pre></td></tr></table></figure>

<p>ä¸è¿‡æœ‰æ—¶å€™å°±ä¼šæ„Ÿè§‰è¿™æ ·å¤„ç†èµ·æ¥å°±ä¼šå¾ˆç¹çã€‚</p>
<p>åƒåœ¨ <code>C#</code> ä¸­å¯¹äºå­—ç¬¦ä¸²çš„å¤„ç†ï¼Œå°±æœ‰ <code>isNullOrEmpty</code> çš„æ–¹æ³•æ¥åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸º <code>null</code> æˆ– <code>ç©ºå­—ç¬¦ä¸²</code> ï¼Œç„¶è€Œåœ¨ <code>Dart</code> ä¸­å´æ²¡æœ‰æä¾›ç±»ä¼¼äº <code>isNullOrEmpty</code> çš„æ–¹æ³•ï¼Œflutter issues ä¸­ç›¸å…³çš„è®¨è®ºè¡¨ç¤ºä¹Ÿä¸ä¼šæä¾›ï¼š</p>
<ul>
<li><a href="https://github.com/dart-lang/sdk/issues/11155" target="_blank" rel="noopener">Can we implement String.IsNullOrEmpty and String.IsNullOrWhiteSpace as part of the core libraries Â· Issue #11155 Â· dart-lang/sdk</a></li>
</ul>
<hr>
<h4 id="å¦‚ä½•è§£å†³"><a href="#å¦‚ä½•è§£å†³" class="headerlink" title="å¦‚ä½•è§£å†³"></a>å¦‚ä½•è§£å†³</h4><p>æ—¢ç„¶å®˜æ–¹æ²¡æœ‰æä¾›ï¼Œé‚£æˆ‘ä»¬å¯ä»¥è‡ªå·±æ¥å®ç°ç›¸åº”çš„å¤„ç†æ–¹æ³•æ¥è§£å†³ã€‚</p>
<h4 id="å¸®åŠ©ç±»æˆ–æ‰©å±•æ–¹æ³•"><a href="#å¸®åŠ©ç±»æˆ–æ‰©å±•æ–¹æ³•" class="headerlink" title="å¸®åŠ©ç±»æˆ–æ‰©å±•æ–¹æ³•"></a>å¸®åŠ©ç±»æˆ–æ‰©å±•æ–¹æ³•</h4><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡å¸®åŠ©ç±»æˆ–è€…æ‰©å±•æ–¹æ³•æ¥å®ç°ã€‚</p>
<p>å¸®åŠ©ç±»ä¸å¿…å¤šè¯´ã€‚å¯¹äºæ‰©å±•æ–¹æ³•ï¼Œå¯ä»¥å‚è€ƒå¦‚ä¸‹çš„ç¤ºä¾‹ï¼š</p>
<p>æ‰©å±•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">extension NumberParsing on String &#123;</span><br><span class="line">  int parseInt() &#123;</span><br><span class="line">    return int.parse(this);</span><br><span class="line">  &#125;</span><br><span class="line">  &#x2F;&#x2F; Â·Â·Â·</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#39;string_apis.dart&#39;;</span><br><span class="line">&#x2F;&#x2F; Â·Â·Â·</span><br><span class="line">print(&#39;42&#39;.parseInt()); &#x2F;&#x2F; Use an extension method.</span><br></pre></td></tr></table></figure>

<p>å®Œæ•´çš„å®ç°ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="built_in">String</span>? ss;</span><br><span class="line">  <span class="built_in">print</span>(ss);</span><br><span class="line"></span><br><span class="line"><span class="comment">//   ss = " ";</span></span><br><span class="line"><span class="comment">//   ss="hello";</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">print</span>(ss);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">'isNullOrEmpty: <span class="subst">$&#123;ss.isNullOrEmpty()&#125;</span>'</span>);</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">'isNotNullAndEmpty: <span class="subst">$&#123;ss.isNotNullAndEmpty()&#125;</span>'</span>);</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">'getStrValue: <span class="subst">$&#123;ss.getStrValue(val: <span class="string">"x"</span>)&#125;</span>'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">'-------'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">'StrUtils.isNullOrEmpty: <span class="subst">$&#123;StrUtils.isNullOrEmpty(ss)&#125;</span>'</span>);</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">'StrUtils.isNotNullAndEmpty: <span class="subst">$&#123;StrUtils.isNotNullAndEmpty(ss)&#125;</span>'</span>);</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">'StrUtils.getStrValue: <span class="subst">$&#123;StrUtils.getStrValue(ss)&#125;</span>'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// use Extension</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">extension</span> StringExtensions <span class="keyword">on</span> <span class="built_in">String</span>? &#123;</span><br><span class="line">  <span class="comment">/// <span class="markdown">string is null or empty</span></span></span><br><span class="line">  <span class="built_in">bool</span> isNullOrEmpty() =&gt; <span class="keyword">this</span> == <span class="keyword">null</span> || <span class="keyword">this</span>!.trim().isEmpty;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="markdown">string not null and empty</span></span></span><br><span class="line">  <span class="built_in">bool</span> isNotNullAndEmpty() =&gt; <span class="keyword">this</span> != <span class="keyword">null</span> &amp;&amp; <span class="keyword">this</span>!.trim().isNotEmpty;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="markdown">if string is null or empty ,return default value</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//   String getNullOrEmptyVal(&#123;String val = ""&#125;) &#123;</span></span><br><span class="line"><span class="comment">//     if(this.isNullOrEmpty())&#123;</span></span><br><span class="line"><span class="comment">//       return val;</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">//     return this!;</span></span><br><span class="line"><span class="comment">//   &#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">String</span> getStrValue(&#123;<span class="built_in">String</span> val = <span class="string">""</span>&#125;) =&gt; <span class="keyword">this</span>.isNullOrEmpty() ? val : <span class="keyword">this</span>!;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// use Function</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StrUtils</span> </span>&#123;</span><br><span class="line">  StrUtils._();</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="markdown">string is null or empty</span></span></span><br><span class="line">  <span class="keyword">static</span> <span class="built_in">bool</span> isNullOrEmpty(<span class="built_in">String</span>? s) =&gt; s == <span class="keyword">null</span> || s.trim().isEmpty;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="markdown">string not null and empty</span></span></span><br><span class="line">  <span class="keyword">static</span> <span class="built_in">bool</span> isNotNullAndEmpty(<span class="built_in">String</span>? s) =&gt; s != <span class="keyword">null</span> &amp;&amp; s.trim().isNotEmpty;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="markdown">if string is null or empty ,return default value</span></span></span><br><span class="line">  <span class="keyword">static</span> <span class="built_in">String</span> getStrValue(<span class="built_in">String</span>? s, &#123;<span class="built_in">String</span> val = <span class="string">""</span>&#125;) =&gt;</span><br><span class="line">      isNullOrEmpty(s) ? val : s!;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥åœ¨ DartPad ä¸­æŸ¥çœ‹è¿è¡Œç»“æœï¼š<a href="https://dartpad.dev/f2bfd6d5d1c8c190597c35c759c21361?null_safety=true" target="_blank" rel="noopener">Dart String add isNullOrEmpty</a></p>
<p>é™„ï¼š<a href="https://dart.dev/guides/language/extension-methods" target="_blank" rel="noopener">Extension methods | Dart</a></p>
<hr>
<h4 id="ç¬¬ä¸‰æ–¹æ’ä»¶"><a href="#ç¬¬ä¸‰æ–¹æ’ä»¶" class="headerlink" title="ç¬¬ä¸‰æ–¹æ’ä»¶"></a>ç¬¬ä¸‰æ–¹æ’ä»¶</h4><p>å½“ç„¶ï¼Œé™¤äº†è‡ªå·±å®ç°ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>quiver</code> æ’ä»¶æ¥è§£å†³ã€‚</p>
<p>å…·ä½“å¯æŸ¥çœ‹ï¼š<a href="https://pub.dev/packages/quiver" target="_blank" rel="noopener">quiver - pub.dev</a></p>
<p>ç›¸åº”çš„æºç ï¼š<a href="https://github.com/google/quiver-dart/blob/master/lib/strings.dart" target="_blank" rel="noopener">quiver-dart/strings.dart at master Â· google/quiver-dart</a></p>
<hr>
]]></content>
      <categories>
        <category>Flutterä¹‹æ—…</category>
      </categories>
      <tags>
        <tag>Flutter</tag>
      </tags>
  </entry>
  <entry>
    <title>Flutter2æŠ¥é”™ Bad state: Insecure HTTP is not allowed by platform</title>
    <url>/2021/05/10/flutter2-insecure-http-is-not-allowed-by-platform/</url>
    <content><![CDATA[<h4 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h4><p>åœ¨å°†Flutteré¡¹ç›®å‡çº§åˆ° <code>Flutter 2</code> ä¹‹åï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">environment:</span><br><span class="line">  sdk: &quot;&gt;&#x3D;2.12.0 &lt;3.0.0&quot;</span><br></pre></td></tr></table></figure>

<p>å‘ç°åœ¨ä½¿ç”¨ <code>dio</code> å‘èµ·è¯·æ±‚æ—¶é‡åˆ°äº†Appå´©æºƒçš„é—®é¢˜ã€‚</p>
<p>è°ƒè¯•å‘ç°è¯·æ±‚å‘å‡ºåä¼šä¸€ç›´å¡ä½ï¼Œæ²¡æœ‰å‘å‡ºè¯·æ±‚ï¼Œä¹Ÿæ²¡æœ‰æŠ¥é”™ä¿¡æ¯æç¤ºï¼ˆåœ¨ <code>VS Code</code> ä¸­ï¼‰ã€‚</p>
<p>åæ¥æˆ‘ç”¨ <code>AS</code> é‡æ–°åˆ›å»ºäº†ä¸€ä¸ªç©ºé¡¹ç›®åªæ·»åŠ  <code>dio</code> ç”¨æ¥æµ‹è¯•è¯·æ±‚ã€‚å‘ç° <code>https</code> é“¾æ¥çš„è¯·æ±‚æ­£å¸¸ï¼Œè®¿é—®æœ¬åœ°çš„ <code>http</code> é“¾æ¥ä¼šæŠ¥é”™ã€‚é”™è¯¯ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Reloaded 0 libraries in 47ms.</span><br><span class="line">[VERBOSE-2:ui_dart_state.cc(186)] Unhandled Exception: DioError [DioErrorType.other]: Bad state: Insecure HTTP is not allowed by platform: http:&#x2F;&#x2F;172.21.40.40:9999&#x2F;version</span><br><span class="line">#0      _HttpClient._openUrl (dart:_http&#x2F;http_impl.dart:2434:7)</span><br><span class="line">#1      _HttpClient.openUrl (dart:_http&#x2F;http_impl.dart:2341:7)</span><br><span class="line">#2      De</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="å¦‚ä½•è§£å†³"><a href="#å¦‚ä½•è§£å†³" class="headerlink" title="å¦‚ä½•è§£å†³"></a>å¦‚ä½•è§£å†³</h4><p>åæ¥ï¼Œåœ¨Flutterç½‘ç«™ä¸­æœç´¢åˆ°ç›¸å…³çš„æ–‡æ¡£ï¼Œç»™å‡ºäº†å¦‚ä¸‹çš„è§£å†³æ–¹æ³•ã€‚</p>
<p><a href="https://flutter.dev/docs/release/breaking-changes/network-policy-ios-android#allowing-cleartext-connection-for-debug-builds" target="_blank" rel="noopener">Insecure HTTP connections are disabled by default on iOS and Android - Flutter</a></p>
<h5 id="Androidç«¯"><a href="#Androidç«¯" class="headerlink" title="Androidç«¯"></a>Androidç«¯</h5><p>ä¿®æ”¹Flutteré¡¹ç›®ä¸­ <code>android/app/src/mian/AdnroidManifest.xml</code> æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;uses-permission android:name&#x3D;&quot;android.permission.INTERNET&quot; &#x2F;&gt;</span><br><span class="line">&lt;application</span><br><span class="line">        android:name&#x3D;&quot;io.flutter.app.FlutterApplication&quot;</span><br><span class="line">        android:label&#x3D;&quot;receipt&quot;</span><br><span class="line">        android:usesCleartextTraffic&#x3D;&quot;true&quot;</span><br><span class="line">        android:icon&#x3D;&quot;@mipmap&#x2F;ic_launcher&quot;&gt;</span><br></pre></td></tr></table></figure>

<p>å³åœ¨ä¸Šé¢çš„ <code>&lt;application&gt;</code> ä¸­æ·»åŠ  <code>android:usesCleartextTraffic=&quot;true&quot;</code> ä¸€è¡Œã€‚</p>
<h5 id="IOSç«¯"><a href="#IOSç«¯" class="headerlink" title="IOSç«¯"></a>IOSç«¯</h5><p>åœ¨æ–‡ä»¶ <code>ios/Runner/info.plist</code> ä¸­æ·»åŠ ä»¥ä¸‹é”®å€¼å¯¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;key&gt;NSAppTransportSecurity&lt;&#x2F;key&gt;</span><br><span class="line">   &lt;dict&gt;</span><br><span class="line">       &lt;key&gt;NSAllowsArbitraryLoads&lt;&#x2F;key&gt;</span><br><span class="line">       &lt;true&#x2F;&gt;</span><br><span class="line">   &lt;&#x2F;dict&gt;</span><br></pre></td></tr></table></figure>

<p>é‡æ–°è¿è¡Œé¡¹ç›®åï¼Œæµ‹è¯•èƒ½å¤Ÿæ­£å¸¸è®¿é—®æœ¬åœ°çš„ <code>http</code> é“¾æ¥äº†ã€‚</p>
<hr>
]]></content>
      <categories>
        <category>Flutterä¹‹æ—…</category>
      </categories>
      <tags>
        <tag>Flutter</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•å°†ç”µè„‘ä¸Šçš„éŸ³ä¹å¯¼å…¥iPhone</title>
    <url>/2021/05/09/import-music-from-pc-to-iphone/</url>
    <content><![CDATA[<p>å¹³æ—¶åœ¨æ‰‹æœºä¸Šå¬æ­Œä¸€èˆ¬éƒ½ä¼šé€‰æ‹© <code>æŸQ</code> æˆ–è€… <code>æŸæ˜“</code> æ¥å¬ï¼Œä½†å¥ˆä½•æœ€è¿‘å‡ å¹´éŸ³ä¹çš„ç‰ˆæƒæ„è¯†è¶Šæ¥è¶Šä¸¥é‡ï¼Œå¥½å¤šæƒ³å¬çš„æ­Œæ›²åœ¨è¿™ä¸ªAppä¸Šæœ‰ï¼Œè€Œåœ¨å¦ä¸€ä¸ªAppä¸Šå´æ²¡æœ‰ï¼Œä¸å¾—ä¸ä¸¤ä¸ªAppæ¢ç€å¬ï¼›æˆ–è€…åªèƒ½å¦¥åçš„å»å¬éåŸå”±çš„æ­Œæ›²ã€‚</p>
<p>æœ‰æ—¶å€™ä½ è¿˜ä¼šé‡åˆ°ï¼Œä¹‹å‰ä¸€ç›´èƒ½å¬çš„æ­Œæ›²ï¼Œåœ¨ä¸€æ®µæ—¶é—´åå´è¢« <code>ç½®ç°</code> ä¸èƒ½æ’­æ”¾äº†ã€‚ä¹Ÿæ˜¯éå¸¸æ— å¥ˆçš„ã€‚</p>
<p>æœ€ç»ˆï¼Œæˆ‘é€‰æ‹©ä½¿ç”¨iPhoneä¸Šçš„ <code>éŸ³ä¹</code> Appæ¥ä½œä¸ºæˆ‘çš„ä¸»è¦éŸ³ä¹æ’­æ”¾è½¯ä»¶ã€‚å¹³æ—¶åªéœ€è¦æ’­æ”¾æœ¬åœ°çš„éŸ³ä¹æ–‡ä»¶å³å¯ã€‚</p>
<p>ä¸€æ–¹é¢æ˜¯ç®€å•ï¼Œæ²¡æœ‰å…¶ä»–Appä¸Šçš„ä¸€äº›ç¤¾äº¤ã€çŸ­è§†é¢‘ç­‰æ‚ä¹±å†…å®¹ï¼›å¦ä¸€æ–¹é¢æ˜¯è‡ªå·±ä¸Šä¼ çš„éŸ³ä¹æ–‡ä»¶ä¸ä¼šå› ä¸ºç‰ˆæƒé—®é¢˜è€Œè¢«åˆ é™¤æˆ–ç¦ç”¨ã€‚å½“ç„¶ï¼Œç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œå°±æ˜¯ä¸èƒ½æƒ³å¬ä»€ä¹ˆå°±èƒ½ç›´æ¥æœç´¢æ’­æ”¾ã€‚</p>
<hr>
<h4 id="å¯¼å…¥"><a href="#å¯¼å…¥" class="headerlink" title="å¯¼å…¥"></a>å¯¼å…¥</h4><p>å°†Macä¸Šçš„éŸ³ä¹æ–‡ä»¶å¯¼å…¥iPhoneä¸­ï¼Œæ“ä½œä¹Ÿå¾ˆç®€å•ã€‚åªéœ€è¦ä¸€æ¡æ•°æ®çº¿å³å¯ã€‚</p>
<p>é¦–å…ˆï¼Œå°†iPhoneè¿æ¥åˆ°Macä¸Šã€‚</p>
<p>åœ¨ Mac ä¸Šæ‰“å¼€ <code>éŸ³ä¹</code> Appï¼Œé€‰æ‹©èœå•æ çš„ <code>æ–‡ä»¶</code> â€“ <code>å¯¼å…¥</code> </p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210509113429.png" alt="20210509113429"></p>
<p>ç„¶ååœ¨å·¦ä¾§èœå•ä¸­ <code>èµ„æ–™åº“</code> æ‰¾åˆ° <code>æœ€è¿‘æ·»åŠ </code> </p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210509113538.png" alt="20210509113538"></p>
<p>æ‰¾åˆ°åˆšåˆšä¸Šä¼ çš„éŸ³ä¹æ–‡ä»¶ï¼Œé€‰æ‹© <code>ä¸‰ä¸ªç‚¹</code> â€“ <code>æ·»åŠ åˆ°æ’­æ”¾åˆ—è¡¨</code> </p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210509113748.png" alt="20210509113748"></p>
<p>åœ¨ <code>Finder</code> çš„å·¦ä¾§èœå•ä¸­æ‰¾åˆ°iPhoneè®¾å¤‡ï¼Œç‚¹å‡»å³ä¾§çš„ <code>éŸ³ä¹</code> é¡¹ï¼Œ</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210509120217.png" alt="20210509120217"></p>
<p>ç„¶ååœ¨ <code>åŒæ­¥</code> é¡¹ä¸­å¯ä»¥é€‰æ‹© <code>æ•´ä¸ªéŸ³ä¹èµ„æ–™åº“</code> æˆ–è€… <code>è‡ªå®šä¹‰çš„è‰ºäººã€ä¸“è¾‘ã€æ’­æ”¾åˆ—è¡¨</code> </p>
<p>å®Œæ•´åŒæ­¥ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210509114145.png" alt="20210509114145"></p>
<p>å•ç‹¬é€‰æ‹©ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210509114438.png" alt="20210509114438"></p>
<p>ç‚¹å‡»åº•éƒ¨çš„ <code>åŒæ­¥</code> å³å¯å°†éŸ³ä¹æ–‡ä»¶ä¼ è¾“åˆ°iPhoneä¸­ã€‚</p>
<p>è¿™é‡Œï¼Œæˆ‘æ˜¯åœ¨ Mac ä¸Šå•ç‹¬è®¾ç½®äº†ä¸€ä¸ª <code>æ’­æ”¾åˆ—è¡¨</code>ï¼Œç”¨æ¥å­˜æ”¾æ‰€æœ‰æˆ‘éœ€è¦åŒæ­¥åˆ°iPhoneä¸Šçš„éŸ³ä¹ã€‚æ‰€ä»¥æ¯æ¬¡åªéœ€è¦å°†è¿™ä¸ª <code>æ’­æ”¾åˆ—è¡¨</code> æ•´ä¸ªåŒæ­¥åˆ°iPhoneä¸Šå³å¯ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥æŒ‰è‡ªå·±çš„å–œå¥½ç›´æ¥ä¸Šä¼ å•ä¸ªéŸ³ä¹æ–‡ä»¶ã€‚</p>
<hr>
<h4 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h4><p>ä¸è¿‡ï¼Œè¿™ç§åŒæ­¥çš„åŠæ³•ï¼ŒiPhoneä¸Šçš„éŸ³ä¹Appä¸­ç°æœ‰æ­Œæ›²å°†è¢«åŒæ­¥çš„æ­Œæ›²æ›¿æ¢ã€‚</p>
<hr>
]]></content>
      <categories>
        <category>å·¥å…·æŠ€å·§</category>
      </categories>
      <tags>
        <tag>Tools</tag>
      </tags>
  </entry>
  <entry>
    <title>MacOSä¸‹ç¦ç”¨æ–°ç‰ˆ Microsoft Edge è‡ªåŠ¨æ›´æ–°</title>
    <url>/2021/05/03/disable-automatic-update-for-edge-on-macos/</url>
    <content><![CDATA[<p>å·²ç»ä¸æ˜¯ç¬¬ä¸€æ¬¡é‡åˆ°åœ¨ç”¨Edgeæµè§ˆå™¨çœ‹ç€çœ‹ç€ç½‘é¡µç„¶åçªç„¶é—´æµè§ˆå™¨çª—å£è‡ªåŠ¨é€€å‡ºï¼Œç›´åˆ°å³ä¸Šè§’å‡ºç° <code>Microsoft Edge è‡ªåŠ¨æ›´æ–°ä¸­</code> çš„æç¤ºåæˆ‘æ‰çŸ¥é“æ˜¯æ€ä¹ˆå›äº‹ã€‚</p>
<p>ä½†è®©äººä¸çˆ½çš„æ˜¯ï¼šæ›´æ–°å®Œä¹‹åï¼Œæˆ‘ä¹‹å‰æ‰“å¼€çš„æµè§ˆå™¨çª—å£å’Œé¡µé¢éƒ½ä¸ä¼šè‡ªåŠ¨æ¢å¤ï¼Œå¹¶ä¸”åœ¨å†å²è®°å½•ä¸­ä¹Ÿæ‰¾åˆ°ã€‚</p>
<p>ä¸€èˆ¬å¦‚æœæ˜¯æµè§ˆå™¨å´©æºƒçš„è¯ï¼Œåœ¨å†å²è®°å½•çš„æœ€è¿‘è®¿é—®ä¸­è¿˜å¯ä»¥é€šè¿‡ <code>æ¢å¤åˆšåˆšæ‰“å¼€çš„çª—å£</code> æ¥è¿›è¡Œæ‰¾å›ã€‚è€Œè¿™ç§å¼ºåˆ¶è‡ªåŠ¨æ›´æ–°çš„é€€å‡ºå´çœ‹ä¸åˆ°åˆšåˆšæ‰“å¼€çš„é‚£äº›çª—å£ã€‚ </p>
<p>æˆ‘ä¹Ÿå»å¾®è½¯Edgeçš„å®˜ç½‘ä¸­æŸ¥æ‰¾äº†å¦‚ä½•ç¦ç”¨æ‰Edgeçš„è‡ªåŠ¨æ›´æ–°åŠŸèƒ½ï¼Œä½†çœ‹åˆ°å®˜ç½‘åœ¨ç›¸å…³é—®é¢˜çš„å›å¤åï¼Œå°±æ›´åŠ ä¸çˆ½äº†ï¼š</p>
<blockquote>
<p>ååˆ†æŠ±æ­‰ï¼Œç›®å‰æ–°ç‰ˆæœ¬ Microsoft Edge æµè§ˆå™¨æ˜¯ä¸æ”¯æŒé€šè¿‡ä¿®æ”¹è‡ªèº«è®¾ç½®æ¥è¾¾åˆ° â€œç¦ç”¨æ›´æ–°â€ ç›®çš„çš„ã€‚ä¸è¿‡æ‚¨å¯ä»¥æ”¾å¿ƒï¼Œæ–°ç‰ˆæœ¬ Microsoft Edge çš„æ›´æ–°åŠŸèƒ½å¹¶ä¸ä¼šå¯¹ç”¨æˆ·çš„æ­£å¸¸å·¥ä½œé€ æˆå½±å“ï¼Œå¦‚æœä¸‹è½½æ›´æ–°åæµè§ˆå™¨å¤„äºå¯åŠ¨çŠ¶æ€çš„è¯ï¼Œä¸ä¼šè‡ªåŠ¨é‡å¯å¼ºåˆ¶æ›´æ–°ï¼Œè€Œæ˜¯ä¼šåœ¨æµè§ˆå™¨çš„å³ä¸Šè§’å¼¹å‡ºæç¤ºã€‚</p>
</blockquote>
<p>ç‰¹åˆ«æ˜¯å…¶ä¸­çš„ <strong>ä¸ä¼šè‡ªåŠ¨é‡å¯å¼ºåˆ¶æ›´æ–°ï¼Œè€Œæ˜¯ä¼šåœ¨æµè§ˆå™¨çš„å³ä¸Šè§’å¼¹å‡ºæç¤º</strong> ï¼Œå½“ç„¶ä¹Ÿç¡®å®åœ¨è‡ªåŠ¨æ›´æ–°å‰ä¼šæœ‰å‡ æ¬¡å‡çº§çš„æç¤ºä¿¡æ¯å‡ºç°ï¼Œä½†å¦‚æœæˆ‘ä¸å»é¸Ÿä»–çš„è¯ï¼Œæœ€åå°±ä¼šå‡ºç°æˆ‘ä¸Šé¢é‡åˆ°çš„ <strong>å¼ºåˆ¶è‡ªåŠ¨æ›´æ–°</strong> çš„æƒ…å†µå‡ºç°ã€‚</p>
<hr>
<p>çœ‹äº†ç½‘ä¸Šç›¸å…³çš„ <code>æ°‘é—´è§£å†³æ–¹æ³•</code> ï¼Œè§‰å¾—ä¸‹é¢çš„æ–¹æ³•å€’æ˜¯å¯ä»¥è¯•ä¸€è¯•ï¼š</p>
<p>æ‰¾åˆ°Edgeçš„æ›´æ–°ç¨‹åºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ ls &#x2F;Library&#x2F;Application\ Support&#x2F;Microsoft&#x2F;MAU2.0&#x2F;</span><br><span class="line">Microsoft AutoUpdate.app</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹ä¸€ä¸‹è¯¥æ–‡ä»¶çš„æƒé™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ ls -al &#x2F;Library&#x2F;Application\ Support&#x2F;Microsoft&#x2F;MAU2.0&#x2F;</span><br><span class="line">total 0</span><br><span class="line">drwxr-xr-x  3 root  wheel  96  4 15 20:05 .</span><br><span class="line">drwxr-xr-x  3 root  wheel  96  4 15 20:05 ..</span><br><span class="line">drwxrwxr-x  3 root  wheel  96  4 15 20:05 Microsoft AutoUpdate.app</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°å½“å‰æƒé™æ˜¯ <code>775</code>ã€‚</p>
<p>ä¿®æ”¹å…¶æƒé™ä¸º <code>644</code>ï¼Œä½¿å…¶ä¸èƒ½æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ sudo chmod -R 644 &#x2F;Library&#x2F;Application\ Support&#x2F;Microsoft&#x2F;MAU2.0&#x2F;Microsoft\ AutoUpdate.app</span><br><span class="line">Password:</span><br></pre></td></tr></table></figure>

<p>åæœŸå¦‚æœæƒ³è¦æ”¹å›æ¥ä»¥ä¿æŒEdgeçš„æœ€æ–°ç‰ˆæœ¬çš„è¯ï¼Œåªéœ€è¦æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo chmod -R 775 &#x2F;Library&#x2F;Application\ Support&#x2F;Microsoft&#x2F;MAU2.0&#x2F;Microsoft\ AutoUpdate.app</span><br></pre></td></tr></table></figure>

<p>è®©å…¶æ¢å¤å¯æ‰§è¡Œæƒé™å³å¯ã€‚</p>
<p>ä¿®æ”¹ååœ¨Edgeçš„ <code>è®¾ç½®-- å…³äº</code> ä¸­å¯ä»¥çœ‹åˆ°æœ‰ç›¸å…³çš„é”™è¯¯æç¤ºå‡ºç°ï¼Œä¸é¸Ÿä»–å°±å¥½äº†ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210503104624.png" alt="20210503104624"></p>
<hr>
]]></content>
      <categories>
        <category>å·¥å…·æŠ€å·§</category>
      </categories>
      <tags>
        <tag>Tools</tag>
      </tags>
  </entry>
  <entry>
    <title>æ˜¯æ—¶å€™å‡çº§GORMæ–°ç‰ˆæœ¬äº†</title>
    <url>/2021/05/02/time-to-upgrade-new-version-gorm/</url>
    <content><![CDATA[<p>å¤šä¸ªgolangé¡¹ç›®ä¸­ä½¿ç”¨çš„ gorm ç‰ˆæœ¬ä¸€ç›´æ˜¯ <code>github.com/jinzhu/gorm v1.9.15</code>  ï¼Œæœ€è¿‘åœ¨å¤„ç†æ•°æ®åº“æ“ä½œæ—¶åˆå»gormçš„å®˜ç½‘ä¸Šçœ‹äº†çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œå´å‘ç°æŒ‰ç…§å®˜ç½‘æ–‡æ¡£ä¸­çš„ä»‹ç»åº”ç”¨åå´æ²¡æœ‰ç”Ÿæ•ˆã€‚</p>
<p>æ’æŸ¥ä¸€ç•ªåæ‰å‘ç°ï¼Œgormçš„ç‰ˆæœ¬æ›´æ–°äº†ï¼Œç°åœ¨å®˜ç½‘ä¸Šå±•ç¤ºçš„é»˜è®¤æ–‡æ¡£æ˜¯ <code>v2.x</code> çš„ä½¿ç”¨æ–‡æ¡£ï¼Œè€Œ <code>v2.x</code> å’Œä¹‹å‰çš„ <code>v1.x</code> ç›¸æ¯”æ˜¯ <code>å®Œå…¨çš„ä»é›¶å¼€å§‹</code>ï¼ŒæŸäº›æ–¹æ³•åœ¨ç”¨æ³•ä¸Šå·²ç»æ›´æ”¹äº†ã€‚</p>
<p>è¿™é‡Œï¼Œåˆ—ä¸¾ä¸¤ä¸ªæ¯”è¾ƒæ˜æ˜¾çš„æ”¹å˜ã€‚</p>
<h4 id="æ·»åŠ ç´¢å¼•"><a href="#æ·»åŠ ç´¢å¼•" class="headerlink" title="æ·»åŠ ç´¢å¼•"></a>æ·»åŠ ç´¢å¼•</h4><p>é€šè¿‡gormä¸ºæŒ‡å®šçš„å­—æ®µæ·»åŠ ç´¢å¼•ï¼Œåœ¨å­—æ®µå£°æ˜ä¸­è®¾ç½®ç´¢å¼•å’Œå”¯ä¸€ç´¢å¼•ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">    AId  <span class="keyword">int64</span>  <span class="string">`json:"aid" gorm:"column:aid;not null;default:0;uniqueIndex:aid;comment:'è§†é¢‘id'"`</span></span><br><span class="line">    Name <span class="keyword">string</span> <span class="string">`json:"name" gorm:"column:name;type:varchar(64);not null;default:'';index:name;comment:'è§†é¢‘åç§°'"`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>ç»“æœåœ¨æ‰§è¡Œæ—¶åªçœ‹åˆ°äº†ä¸€æ¡åˆ›å»ºç´¢å¼•çš„å‘½ä»¤è¾“å‡ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[2021-04-28 10:25:58]  [52.98ms]  CREATE INDEX name ON &#96;archive_video&#96;(name)   </span><br><span class="line">[0 rows affected or returned ]</span><br></pre></td></tr></table></figure>



<p>æŒ‰ç…§gormå®˜æ–¹æ–‡æ¡£ä¸­çš„ä»‹ç»ï¼Œ<code>uniqueIndex</code> æ ‡ç­¾çš„ä½œç”¨ä¸ <code>index</code> ç±»ä¼¼ï¼Œå®ƒç­‰æ•ˆäº <code>index:,unique</code> ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name1 <span class="keyword">string</span> <span class="string">`gorm:"uniqueIndex"`</span></span><br><span class="line">    Name2 <span class="keyword">string</span> <span class="string">`gorm:"uniqueIndex:idx_name,sort:desc"`</span></span><br><span class="line">    Name3 <span class="keyword">string</span> <span class="string">`gorm:"index:idx_name,unique"`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>ä½†åœ¨æµ‹è¯•åå‘ç°ï¼Œå”¯ä¸€ç´¢å¼• <code>gorm:&quot;uniqueIndex&quot;</code> ä¼¼ä¹ä¸ç”Ÿæ•ˆã€‚</p>
<p>è¿™å°±æ˜¯å…¶ä¸­çš„ä¸€ä¸ªç‰ˆæœ¬å˜åŒ–ï¼š</p>
<blockquote>
<p>åœ¨ gorm v1 ä¸­ï¼Œå”¯ä¸€ç´¢å¼•ä½¿ç”¨ <code>unique_index</code> ä¸‹åˆ’çº¿å½¢å¼ï¼Œè€Œåœ¨ gorm v2 ä¸­ï¼Œæ”¹æˆäº†ä½¿ç”¨ <code>camelCase</code> é£æ ¼çš„å†™æ³•ã€‚</p>
</blockquote>
<p>æˆ‘ä½¿ç”¨çš„æ˜¯ <code>v1.9.15</code> ç‰ˆæœ¬ï¼Œæ‰€ä»¥éœ€è¦æ”¹æˆ <code>unique_index</code> æ‰è¡Œã€‚</p>
<p>æ­£ç¡®çš„ v1 é£æ ¼çš„å†™æ³•ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name1 <span class="keyword">string</span> <span class="string">`gorm:"unique_index"`</span></span><br><span class="line">    Name2 <span class="keyword">string</span> <span class="string">`gorm:"unique_index:idx_name,sort:desc"`</span></span><br><span class="line">    Name3 <span class="keyword">string</span> <span class="string">`gorm:"index:idx_name,unique"`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­£ç¡®çš„ v2 é£æ ¼çš„å†™æ³•ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name  <span class="keyword">string</span> <span class="string">`gorm:"index"`</span></span><br><span class="line">    Name2 <span class="keyword">string</span> <span class="string">`gorm:"index:idx_name,unique"`</span></span><br><span class="line">    Name3 <span class="keyword">string</span> <span class="string">`gorm:"uniqueIndex"`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="æ‰¹é‡æ’å…¥"><a href="#æ‰¹é‡æ’å…¥" class="headerlink" title="æ‰¹é‡æ’å…¥"></a>æ‰¹é‡æ’å…¥</h4><p>gorm v1 ä¸­ä¸æ”¯æŒæ‰¹é‡æ’å…¥ï¼Œv2 ä¸­æ‰æ”¯æŒã€‚</p>
<p><code>v2.x</code> ä¸­ç›´æ¥é€šè¿‡ <code>db.model().create()</code> å³å¯æ’å…¥æ‰¹é‡æ•°æ®ã€‚ä¸€ç§ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨äº‹åŠ¡ï¼Œæ‰¹é‡æ’å…¥</span></span><br><span class="line">err = db.Transaction(<span class="function"><span class="keyword">func</span><span class="params">(tx *gorm.DB)</span> <span class="title">error</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// createæ”¯æŒæ‰¹é‡æ’å…¥</span></span><br><span class="line">	<span class="keyword">var</span> users = <span class="built_in">make</span>([]model.User, <span class="number">0</span>)</span><br><span class="line">	<span class="keyword">for</span> _, p := <span class="keyword">range</span> info &#123;</span><br><span class="line">		users = <span class="built_in">append</span>(users, model.User&#123;</span><br><span class="line">			CId:      p.CId,</span><br><span class="line">			Name:     p.Name,</span><br><span class="line">			Title:    p.Title,</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// è¿”å› nil æäº¤äº‹åŠ¡</span></span><br><span class="line">	<span class="keyword">return</span> tx.Model(&amp;model.User&#123;&#125;).Create(&amp;users).Error</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<p>è€Œåœ¨ <code>v1.x</code> ä¸­ï¼Œè¦æƒ³å®ç°æ‰¹é‡æ’å…¥ï¼Œå¯ä»¥é€šè¿‡æ‰§è¡Œ <code>åŸç”ŸSQL(db.Exec)</code> çš„æ–¹æ³•æ¥å®Œæˆã€‚</p>
<p>mysqlå®ç°æ‰¹é‡æ’å…¥çš„sqlè¯­å¥ä¸ºï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`users`</span> <span class="keyword">VALUES</span> (?,?,?),(?,?,?),(?,?,?);</span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥ï¼Œåªéœ€è¦å°†è¦æ’å…¥çš„æ•°æ®è¿›è¡Œä¸€ä¸‹sqlæ‹¼æ¥å³å¯ã€‚</p>
<p>ä¸€ç§ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// BatchSave æ‰¹é‡æ’å…¥æ•°æ®</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">BatchSave</span><span class="params">(db *gorm.DB, emps []*Employee)</span> <span class="title">error</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> buffer bytes.Buffer</span><br><span class="line">	sql := <span class="string">"insert into `employees` (`name`,`age`,`addr`) values "</span></span><br><span class="line">	<span class="keyword">if</span> _, err := buffer.WriteString(sql); err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> err</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> i, e := <span class="keyword">range</span> emps &#123;</span><br><span class="line">		<span class="keyword">if</span> i == <span class="built_in">len</span>(emps)<span class="number">-1</span> &#123;</span><br><span class="line">            <span class="comment">// æœ€åä¸€é¡¹</span></span><br><span class="line">            buffer.WriteString(fmt.Sprintf(<span class="string">"('%s',%d,'%s');"</span>, e.Name, e.Age, e.Addr))</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            buffer.WriteString(fmt.Sprintf(<span class="string">"('%s',%d,'%s'),"</span>, e.Name, e.Age, e.Addr))</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> db.Exec(buffer.String()).Error</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="åæ§½ä¸€ä¸‹"><a href="#åæ§½ä¸€ä¸‹" class="headerlink" title="åæ§½ä¸€ä¸‹"></a>åæ§½ä¸€ä¸‹</h4><p>åœ¨ gorm <code>v2.x</code> çš„å‡çº§æ–‡æ¡£ä¸­çœ‹åˆ°ä¸‹é¢çš„è¯´æ˜ï¼š</p>
<blockquote>
<p><strong>æ³¨æ„</strong> GORM <code>v2.0.0</code> å‘å¸ƒçš„ git tag æ˜¯ <code>v1.20.0</code></p>
</blockquote>
<p>æˆ‘å½“å‰ä½¿ç”¨çš„ <code>v1.x</code> çš„ç‰ˆæœ¬æ˜¯ <code>v1.9.15</code> ã€‚ä¸è¿‡çœ‹åˆ°å®˜æ–¹çš„ä»£ç ä»“åº“ä¸­å´æ‰¾ä¸åˆ°è¿™ä¸ªtagï¼Œèƒ½çœ‹åˆ°çš„åªæœ‰å¦‚ä¸‹çš„ <code>v1.9.19</code> ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210502170029.png" alt="20210502170029"></p>
<p>è€Œæˆ‘æƒ³è¦ä¸‹è½½è¿™ä¸ªæœ€é«˜çš„ç‰ˆæœ¬ <code>v1.9.19</code> ï¼Œå´å‘ç° <code>go get github.com/jinzhu/gorm@v1.9.19</code>  æ˜¯æ‰¾ä¸åˆ°çš„ã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´æŒ‰ç…§æƒ¯ä¾‹ï¼Œå¤§ç‰ˆæœ¬çš„å˜åŒ–åº”è¯¥å®šä¹‰ä¸º <code>v2.x.x</code> çš„tagæ‰æ¯”è¾ƒåˆé€‚ã€‚</p>
<p>ä¸å¾—ä¸è¯´ï¼Œgormè¿™ä¸ªç‰ˆæœ¬å®šä¹‰çš„è¿˜çœŸè®©äººè¿·ç³Šå•Šã€‚</p>
<p>å¦å¤–ä¸€ä¸ªæ§½ç‚¹å°±æ˜¯æ–‡æ¡£ï¼Œæˆ‘è¿™ä»£ç è¦ä¸æŠ¥é”™ï¼Œå…‰çœ‹æ–‡æ¡£æˆ‘è¿˜çœŸä¸æ¸…æ¥šæ–‡æ¡£å’Œä½¿ç”¨çš„ç‰ˆæœ¬æ˜¯ä¸ä¸€è‡´çš„ã€‚</p>
<hr>
<h4 id="ç›¸å…³æ–‡æ¡£"><a href="#ç›¸å…³æ–‡æ¡£" class="headerlink" title="ç›¸å…³æ–‡æ¡£"></a>ç›¸å…³æ–‡æ¡£</h4><ul>
<li><a href="http://v1.gorm.io/zh_CN/docs/" target="_blank" rel="noopener">GORM v1  æŒ‡å— | GORM - The fantastic ORM library for Golang, aims to be developer friendly.</a></li>
<li><a href="https://gorm.io/zh_CN/docs/v2_release_note.html" target="_blank" rel="noopener">GORM 2.0 å‘å¸ƒè¯´æ˜ | GORM - The fantastic ORM library for Golang, aims to be developer friendly.</a></li>
</ul>
<hr>
]]></content>
      <categories>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>Golang</tag>
        <tag>Gorm</tag>
      </tags>
  </entry>
  <entry>
    <title>Giteeå¼€å§‹å¯¹ä»£ç å®¡æŸ¥äº†ï¼Ÿ</title>
    <url>/2021/05/02/gitee-code-review/</url>
    <content><![CDATA[<p>ä»Šå¤©åœ¨æ•´ç†åšå®¢æ–‡ç« æ—¶ï¼Œå‘ç°æŸäº›æ–‡ç« ä¸­çš„å›¾ç‰‡ä¸æ˜¾ç¤ºäº†ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210502130611.png" alt="20210502130611"></p>
<p>å°†å›¾ç‰‡é“¾æ¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼Œç«Ÿç„¶åªæç¤ºäº†ä¸€æ®µæ–‡å­—ï¼š</p>
<blockquote>
<p>æ ¹æ®ç›¸å…³æ³•å¾‹æ”¿ç­–,è¯¥å†…å®¹æ— æ³•æ˜¾ç¤º</p>
</blockquote>
<p>æ‰“å¼€ Gitee ä¸­çš„ä»“åº“ï¼Œå‘ç°è¯¥å›¾ç‰‡ä¹Ÿä¸èƒ½é¢„è§ˆäº†:</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210502131924.png" alt="20210502131924"></p>
<hr>
<h4 id="æ¢ç©¶"><a href="#æ¢ç©¶" class="headerlink" title="æ¢ç©¶"></a>æ¢ç©¶</h4><p>æˆ‘åœ¨ç½‘ä¸Šæœç´¢äº†ä¸€ä¸‹ï¼Œå‘ç°è¿™ä¸ªé—®é¢˜æ˜¯æœ€è¿‘æ‰å‡ºç°çš„ï¼Œè€Œä¸”é‡åˆ°è¿™ä¸ªé—®é¢˜çš„äººè¿˜ä¸å°‘ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210502131518.png" alt="20210502131518"></p>
<p>è®°å¾—ä¹‹å‰å› ä¸º Github <code>è¢«Q</code> çš„åŸå› ï¼Œå¥½å¤šå¼€æºé¡¹ç›®éƒ½é€‰æ‹©äº†å›½å†…çš„ <code>Gitee</code> ä½œä¸ºå›½å†…ä»£ç ä»“åº“æ¥åŒæ­¥ç®¡ç†ï¼Œç„¶è€Œç°åœ¨æˆ‘å´çœ‹åˆ°å¥½å¤šçš„é¡¹ç›®å·²ç»å¼€å§‹åœ¨è€ƒè™‘ <code>è¿ç§»</code> äº†ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210502131837.png" alt="20210502131837"></p>
<hr>
<h4 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h4><p>çœ‹äº†ç›¸å…³çš„è®¨è®ºï¼Œä¼¼ä¹ <code>Gitee</code> æœ‰ä¸€ä¸ª <code>å±è”½è¯</code> çš„å­—åº“ï¼Œåªè¦é‡åˆ°ç›¸å…³çš„å…³é”®è¯æ–‡ä»¶å°±ä¼šè¢«å±è”½æ‰ã€‚è®©äººç”Ÿæ°”çš„æ˜¯å®ƒå¹¶ä¸ä¼šå‘Šè¯‰ä½ æ˜¯ä»€ä¹ˆè¯ä¸åˆç†ï¼Œåªä¼šè¿”å›ç»™ä½ ä¸€å¥ <code>æ ¹æ®ç›¸å…³æ³•å¾‹æ”¿ç­–,è¯¥å†…å®¹æ— æ³•æ˜¾ç¤º</code> ã€‚</p>
<p>å¦‚æœçŸ¥é“æ˜¯ä»€ä¹ˆè¯çš„è¯ï¼Œæˆ‘ä»¬æ”¹ä¸€ä¸‹é‡æ–°ä¸Šä¼ å°±å¥½äº†ã€‚ä½†ç°åœ¨è¿™æ˜æ˜¾å°±æ˜¯ä¸ª <code>é»‘ç›’</code> ï¼Œè®©äººæ ¹æœ¬æ‘¸ä¸ç€å¤´è„‘çš„é‚£ç§ã€‚</p>
<p>å¯¹äºå›¾ç‰‡ä¹Ÿæ˜¯ã€‚æˆ‘çš„æ–‡ç« ä¸­è¢«å±è”½çš„é‚£ä¸ªå›¾ç‰‡æ˜¯æˆ‘åœ¨ç½‘ä¸Šæ‰¾åˆ°çš„ä¸€ä¸ª <code>è¡¨æƒ…åŒ…</code> çš„å›¾ç‰‡ï¼Œè¿™ä¹Ÿä¸èƒ½ç”¨äº†ï¼Ÿï¼Ÿï¼Ÿ</p>
<hr>
<h4 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h4><p>æˆ‘çš„åšå®¢ä¸­çš„å›¾ç‰‡æ˜¯åœ¨å¹´åˆçš„æ—¶å€™ä»ä¸ƒç‰›äº‘è¿ç§»åˆ°Giteeçš„ï¼Œç°åœ¨çœ‹æ¥åˆè¦è€ƒè™‘é€‰æ‹©å…¶ä»–çš„å›¾åºŠäº†ã€‚</p>
<p>å½“æ—¶è¿˜å†™äº†ä¸€ä¸ªå·¥å…·æ¥å®ç°å¿«é€Ÿæ›¿æ¢ï¼š<a href="https://github.com/leafney/md-qiniu-imges-replace" target="_blank" rel="noopener">leafney/md-qiniu-imges-replace: markdownæ–‡ä»¶ä¸­ä¸ƒç‰›äº‘å›¾ç‰‡é“¾æ¥æ›¿æ¢</a></p>
<p>ä½¿ç”¨çš„Giteeçš„ä»£ç é¡¹ç›®ä¹Ÿéœ€è¦è€ƒè™‘è¿ç§»åˆ°å…¶ä»–å¹³å°äº†ï¼Œç°åœ¨æ¥çœ‹è¿˜æ˜¯Githubè¦æ›´ä¿é™©ä¸€äº›ã€‚</p>
<p>ä¸‹ä¸€æ­¥ï¼Œéœ€è¦å»è€ƒå¯Ÿä¸€ä¸‹å…¶ä»–çš„å›¾åºŠå¹³å°ã€‚</p>
<hr>
<p>æœªå®Œå¾…ç»­â€¦</p>
]]></content>
      <tags>
        <tag>Hexo</tag>
        <tag>Gitee</tag>
      </tags>
  </entry>
  <entry>
    <title>App Storeä¸­è¯„è®ºçš„æ˜µç§°å¦‚ä½•ä¿®æ”¹</title>
    <url>/2021/05/02/change-nickname-for-appstore/</url>
    <content><![CDATA[<p>ä½¿ç”¨iPhoneæ—¶é‡åˆ°å¥½ç”¨çš„Appï¼Œæˆ–è€…æ˜¯é‡åˆ°å–œæ¬¢çš„Appä¸­æŸäº›åŠŸèƒ½æœ‰bugæˆ–æ˜¯å¥½çš„æƒ³æ³•æƒ³è¦åé¦ˆç»™å¼€å‘è€…ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯å‰å¾€App Storeç»™åº”ç”¨è¿›è¡Œè¯„è®ºã€‚</p>
<p>å½“ç„¶ï¼Œä½œä¸ºAppå¼€å‘è€…ï¼Œå¹³æ—¶æˆ‘ä»¬ä¹Ÿæ˜¯ç»å¸¸ä¼šåœ¨App Storeåå°ä¸­æŸ¥çœ‹ç”¨æˆ·çš„åé¦ˆä¿¡æ¯æ¥åšå‡ºä¸‹ä¸€æ­¥çš„å¼€å‘è®¡åˆ’å’Œè¯„è®ºåé¦ˆã€‚</p>
<p>æœ‰æ—¶å€™åœ¨è¯„è®ºå‘è¡¨å®Œä¹‹åå†å›çœ‹æ—¶ï¼Œå‘ç°è‡ªå·±å‘è¡¨è¯„è®ºåæ˜¾ç¤ºçš„æ˜µç§°å’Œè‡ªå·±çš„AppleIDæ˜µç§°ä¸ä¸€è‡´ï¼Œæˆ–è€…æƒ³è¦è¿›è¡Œä¿®æ”¹ï¼Œä½†æ˜¯å´æ‰¾ä¸åˆ°ä¿®æ”¹çš„å…¥å£ï¼Ÿ</p>
<hr>
<p>åœ¨App Storeä¸­é¦–æ¬¡è¯„è®ºåº”ç”¨æ—¶ï¼Œéœ€è¦è®¾ç½®ä¸€ä¸ªæ˜µç§°ã€‚ä¸è¿‡å¤§éƒ¨åˆ†ç”¨æˆ·å·²ç»å®Œå…¨å¿˜è®°äº†å½“æ—¶è‡ªå·±æ˜¯å¦‚ä½•è®¾ç½®çš„ï¼Œæˆ–è€…æ˜¯éšæ‰‹å°±ä¹±å¡«äº†ä¸€ä¸ªåå­—ã€‚</p>
<p>å°±åƒæˆ‘åœ¨é¦–æ¬¡ä½¿ç”¨è¯„è®ºåŠŸèƒ½æ—¶ï¼Œæˆ‘æŠŠè¦è¯„è®ºçš„å†…å®¹è®¾ç½®æˆäº†æ˜µç§°ã€‚</p>
<p>æˆ‘çš„è¯„è®ºï¼š<br><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210502112009.jpg" alt="20210502112009"></p>
<p>æˆ‘ä½¿ç”¨çš„æ˜µç§°ï¼š<br><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210502112023.png" alt="20210502112023"></p>
<hr>
<p>å…¶å®è¿™ä¸ªæ˜µç§°ä¿®æ”¹éå¸¸ç®€å•ï¼š</p>
<ol>
<li>åœ¨ Mac ä¸Šæ‰“å¼€ <code>App Store</code></li>
<li>ä½¿ç”¨AppleIDç™»å½•</li>
<li>ç‚¹å‡»å·¦ä¸‹è§’ <code>è´¦æˆ·åç§°</code>ï¼Œåœ¨å³ä¾§é¡µé¢ä¸­ç‚¹å‡» <code>æŸ¥çœ‹ä¿¡æ¯</code></li>
<li>åœ¨å¼¹å‡ºçš„ <code>è´¦æˆ·ä¿¡æ¯</code> é¡µé¢ä¸­ä¸‹æ‹‰ï¼Œæ‰¾åˆ° <code>ç®¡ç†</code> ä¸€æ </li>
<li>é€‰æ‹© <code>æ›´æ”¹æ˜µç§°</code>ï¼Œæ›´æ”¹æ˜µç§°å <code>æäº¤</code> å³å¯</li>
</ol>
<hr>
]]></content>
      <categories>
        <category>å·¥å…·æŠ€å·§</category>
      </categories>
      <tags>
        <tag>IOS</tag>
      </tags>
  </entry>
  <entry>
    <title>æ ‘è“æ´¾è®¾ç½®Sambaæ–‡ä»¶å…±äº«</title>
    <url>/2021/05/02/raspberry-pi-setup-samba/</url>
    <content><![CDATA[<p>åœ¨æ ‘è“æ´¾ä¸Šç¼–è¾‘æ–‡ä»¶æ—¶ï¼Œå¦‚æœæ˜¯å•ä¸ªçš„æ–‡æœ¬æ–‡ä»¶ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ <code>vim</code> æ¥ç¼–è¾‘æ“ä½œã€‚å¦‚æœæ˜¯å¤šä¸ªæ–‡ä»¶ï¼Œå°±éœ€è¦ä½¿ç”¨ <code>sftp</code> ç›¸å…³çš„è½¯ä»¶æ¥å®ç°æ–‡ä»¶ä¸Šä¼ äº†ã€‚</p>
<p>å…¶å®è¿˜æœ‰ä¸€ç§æ›´ç®€å•çš„æ–¹æ³•ï¼Œé‚£å°±æ˜¯é€šè¿‡ SambaæœåŠ¡å®ç°æ–‡ä»¶å…±äº«ã€‚</p>
<hr>
<h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ¥å®‰è£… Samba æœåŠ¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line"></span><br><span class="line">sudo apt-get install samba samba-common-bin</span><br></pre></td></tr></table></figure>


<hr>
<h4 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><p>ç¼–è¾‘Sambaé…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo vim &#x2F;etc&#x2F;samba&#x2F;smb.conf</span><br></pre></td></tr></table></figure>

<p>åœ¨é…ç½®æ–‡ä»¶åº•éƒ¨æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[raspi_share]</span><br><span class="line">comment &#x3D; raspi files dir</span><br><span class="line">path &#x3D; &#x2F;home&#x2F;pi&#x2F;samba</span><br><span class="line">valid users &#x3D; pi</span><br><span class="line">browseable &#x3D; yes</span><br><span class="line">public &#x3D; yes</span><br><span class="line">read only &#x3D; no</span><br><span class="line">writeable &#x3D; yes</span><br><span class="line">create mask &#x3D; 0777</span><br><span class="line">directory mask &#x3D; 0777</span><br></pre></td></tr></table></figure>

<h5 id="é…ç½®å‚æ•°"><a href="#é…ç½®å‚æ•°" class="headerlink" title="é…ç½®å‚æ•°"></a>é…ç½®å‚æ•°</h5><p><code>[raspi_share]</code> è¡¨ç¤ºè¿™æ˜¯ä¸€ç»„å…±äº«è®¾ç½®ã€‚åœ¨ <code>Samba</code> ä¸­é€šè¿‡ä¸­æ‹¬å· <code>[xxx]</code> çš„å½¢å¼æ¥æ ‡è¯†åŒºåˆ†ã€‚</p>
<p><code>comment = &quot;xxxx&quot;</code> è¡¨ç¤ºå¯¹è¯¥å…±äº«çš„æè¿°ä¿¡æ¯ã€‚ </p>
<p>ä¸Šé¢é…ç½®ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ <code>path</code> æŒ‡å®šäº†ä¸€ä¸ªå¾…å…±äº«çš„ç›®å½•è·¯å¾„ <code>/home/pi/samba</code> ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸è®¾ç½® <code>path</code> çš„è¯ï¼Œå°±æ˜¯å½“å‰è´¦æˆ·çš„ <code>å®¶ç›®å½•</code> ã€‚</p>
<p><code>valid users = pi</code> è¡¨ç¤ºå…è®¸è®¿é—®è¯¥å…±äº«çš„ç”¨æˆ·ï¼Œå¦‚æœæ˜¯å¤šä¸ªç”¨æˆ·å¯ä»¥é€šè¿‡é€—å· <code>,</code> æ¥åˆ†éš”ï¼›ä¹Ÿå¯ä»¥é€šè¿‡ <code>@+ç»„å</code> çš„æ–¹å¼æ¥è®¾ç½®å¯è®¿é—®çš„ç¾¤ç»„ã€‚</p>
<p><code>browseable = yes/no</code> è¡¨ç¤ºè¯¥å…±äº«æ˜¯å¦å¯ä»¥æµè§ˆã€‚</p>
<p><code>public = yes/no</code> è¡¨ç¤ºè¯¥å…±äº«æ˜¯å¦å…è®¸ <code>guest</code> è´¦æˆ·è®¿é—®ã€‚</p>
<p><code>read only = yes/no</code> è¡¨ç¤ºæ˜¯å¦å¯è¯»å†™ã€‚</p>
<p><code>writable = yes/no</code> è¡¨ç¤ºæ˜¯å¦å¯å†™ã€‚</p>
<p><code>create mask = 0777</code> è¡¨ç¤ºå®¢æˆ·ç«¯ä¸Šä¼ æ–‡ä»¶çš„é»˜è®¤æƒé™</p>
<p><code>directory mask = 0777</code> è¡¨ç¤ºå®¢æˆ·ç«¯åˆ›å»ºç›®å½•çš„é»˜è®¤æƒé™</p>
<hr>
<h4 id="è®¾ç½®è´¦æˆ·"><a href="#è®¾ç½®è´¦æˆ·" class="headerlink" title="è®¾ç½®è´¦æˆ·"></a>è®¾ç½®è´¦æˆ·</h4><p>åœ¨ä½¿ç”¨ä¹‹å‰éœ€è¦ä¸º Samba è®¾ç½®ä¸€ä¸ªè´¦æˆ·ã€‚</p>
<p>è¿™é‡Œä½¿ç”¨å½“å‰ç”¨æˆ· <code>pi</code> æ¥ä½œä¸º Samba ç”¨æˆ·ï¼Œé€šè¿‡å¦‚ä¸‹å‘½ä»¤è®¾ç½®å…¶å¯†ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo smbpasswd -a pi</span><br></pre></td></tr></table></figure>


<h5 id="å…³äºSambaè´¦æˆ·"><a href="#å…³äºSambaè´¦æˆ·" class="headerlink" title="å…³äºSambaè´¦æˆ·"></a>å…³äºSambaè´¦æˆ·</h5><p>Samba éœ€è¦ Linux è´¦æˆ·æ‰èƒ½ä½¿ç”¨ï¼Œå¯ä»¥ä½¿ç”¨ <code>å·²æœ‰è´¦æˆ·</code> æˆ– <code>åˆ›å»ºæ–°ç”¨æˆ·</code>ã€‚</p>
<p>è™½ç„¶ç”¨æˆ·åå¯ä»¥å’Œ Linux ç³»ç»Ÿå…±äº«ï¼Œä½† Samba ä½¿ç”¨çš„æ˜¯å•ç‹¬çš„å¯†ç ç®¡ç†ã€‚</p>
<p>è¿™é‡Œæˆ‘ä»¬é€šè¿‡smbè‡ªå·±çš„å·¥å…· <code>smbpasswd</code> æ¥ç»™ç³»ç»Ÿç”¨æˆ·è®¾ç½®Sambaå¯†ç çš„ï¼Œå®¢æˆ·ç«¯å°±ç”¨è¿™ä¸ªå¯†ç æ¥è®¿é—®Sambaçš„èµ„æºã€‚</p>
<hr>
<h4 id="é‡å¯"><a href="#é‡å¯" class="headerlink" title="é‡å¯"></a>é‡å¯</h4><p>é‡å¯æœåŠ¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo systemctl restart smbd</span><br></pre></td></tr></table></figure>

<p>ä¹‹åå°±å¯ä»¥åœ¨PCä¸Šé€šè¿‡ç›®å½•æ¥å…±äº«è®¿é—®äº†ã€‚</p>
<hr>
<h4 id="MacOSè®¿é—®"><a href="#MacOSè®¿é—®" class="headerlink" title="MacOSè®¿é—®"></a>MacOSè®¿é—®</h4><p>åœ¨ MacOS ä¸Šè®¿é—®å…±äº«ç›®å½•ï¼Œåªéœ€è¦æ‰“å¼€ <code>Finder</code> ï¼Œé€‰æ‹© <code>èœå•æ </code> â€“ <code>å‰å¾€</code> â€“ <code>è¿æ¥æœåŠ¡å™¨</code> ï¼Œåœ¨å¼¹å‡ºçš„çª—å£ä¸­è¾“å…¥ <code>smb://192.168.1.123</code> å³æ ‘è“æ´¾çš„ip åé€‰æ‹© <code>è¿æ¥</code> â€“ è¾“å…¥è®¾ç½®çš„è´¦æˆ·å’Œå¯†ç åå°±èƒ½è®¿é—®äº†ã€‚</p>
<hr>
<h4 id="Windowsè®¿é—®"><a href="#Windowsè®¿é—®" class="headerlink" title="Windowsè®¿é—®"></a>Windowsè®¿é—®</h4><p>åœ¨ <code>è¿è¡Œ</code> (Win+R) ä¸­è¾“å…¥ <code>\\192.168.1.123</code> å³æ ‘è“æ´¾çš„ip åå³å¯è¿›è¡Œè®¿é—®ã€‚</p>
<hr>
]]></content>
      <categories>
        <category>æ ‘è“æ´¾</category>
      </categories>
      <tags>
        <tag>RaspberryPi</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»€ä¹ˆ! æœ‰äººæ¨¡ä»¿æˆ‘çš„è„¸ï¼Œè¿˜è¦æ¨¡ä»¿æˆ‘çš„é¢ ???</title>
    <url>/2021/04/19/do-not-copy-my-blog/</url>
    <content><![CDATA[<p>ä¹‹å‰æˆ‘çš„åšå®¢æºä»£ç ä¸€ç›´æ˜¯æ”¾åœ¨ <code>github</code> ä¸Šé‡‡ç”¨å…¬å¼€çš„ä»“åº“æ¥å­˜æ”¾çš„ã€‚å½“æ—¶é€‰æ‹©åŒä¸€ä¸ªä»“åº“çš„ä¸åŒåˆ†æ”¯æ¥å­˜æ”¾åšå®¢çš„ <code>mdæºæ–‡ä»¶</code> äº <code>blog</code> åˆ†æ”¯ï¼Œç¼–è¯‘åçš„ <code>hexo htmlæ–‡ä»¶</code> äº <code>master</code> åˆ†æ”¯ä¸Šã€‚</p>
<p>åæ¥å¶ç„¶é—´å‘ç°æˆ‘çš„åšå®¢ä»“åº“è¢«ä¸€äº›äºº <code>fork</code> äº†ï¼Œå½“æ—¶ä¹Ÿæ²¡å¤ªåœ¨æ„ï¼Œæ¯•ç«Ÿä¸€èˆ¬æˆ‘ä»¬ <code>fork</code> åˆ«äººçš„ä»£ç å°±æ˜¯æŠ±ç€ <code>å­¦ä¹ </code> çš„æ€åº¦å˜›ã€‚</p>
<p>ä½†æ˜¯å½“æˆ‘æ·±å…¥çš„æœç´¢äº†ä¸€ç•ªä¹‹åï¼Œå‘ç°å¥½åƒå¹¶ä¸æ˜¯é‚£ä¹ˆå›äº‹ã€‚</p>
<p>æˆ‘å‘ç°æŸäº›äºº <code>fork</code> äº†æˆ‘çš„åšå®¢ä»£ç åï¼Œéƒ¨ç½²åˆ°äº†ä»–è‡ªå·±çš„æœåŠ¡å™¨ä¸Šï¼Œä½†æ˜¯åšå®¢çš„å†…å®¹ä»ç„¶æ˜¯æˆ‘å†™çš„é‚£äº›ã€‚</p>
<p>ä¸ä»…åšå®¢çš„ç½‘ç«™åç§°å’ŒåŸŸåå˜äº†ï¼Œç”šè‡³æ‰“èµäºŒç»´ç ä¹Ÿæ¢æˆäº†è‡ªå·±çš„ï¼Œç„¶è€Œå…¶ä»–çš„å´ä¸€ç‚¹éƒ½æ²¡æœ‰æ”¹ã€‚</p>
<p>æ²¡æƒ³åˆ°â€¦</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210419110214.gif" alt="20210419110214"></p>
<hr>
<p>å¯èƒ½æœ‰äº›äººè§‰å¾—å†™åšå®¢å¾ˆå®¹æ˜“ï¼Œç‰¹åˆ«æ˜¯ç¨‹åºå‘˜åœ¨å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ã€‚</p>
<p>å‡ºç°é—®é¢˜ï¼Œä¸Šç½‘ä¸€æœï¼Œé—®é¢˜è§£å†³ï¼Œæ©ï¼Œä¸é”™ã€‚æŠŠä»–çš„æ–‡ç«  <strong>COPY</strong> è¿‡æ¥ï¼Œokï¼Œä¸€ç¯‡åšå®¢å°±å†™å®Œäº†ã€‚</p>
<p>ä½†å¥½å¤šäººéƒ½å¿½ç•¥äº†ä¸€ç‚¹ï¼Œ<strong>ä¸ºä»€ä¹ˆï¼Ÿ</strong> æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦å†™åšå®¢ï¼Ÿ </p>
<p>æˆ‘è§‰å¾—ï¼š</p>
<ul>
<li>ä¸ºä»€ä¹ˆè¿™ç§æ–¹æ³•å¯ä»¥è§£å†³é—®é¢˜ï¼Ÿ</li>
<li>ä¸ºä»€ä¹ˆè¿™ä¸ªé—®é¢˜ä¼šå‡ºç°ï¼Ÿ</li>
<li>æ˜¯å¦è¿˜æœ‰å…¶ä»–çš„è§£å†³æ–¹æ³•ï¼Ÿ</li>
<li>ä¸‹æ¬¡é‡åˆ°è¿™ä¸ªé—®é¢˜æˆ‘è¦æ€ä¹ˆé¿å…ï¼Ÿ</li>
</ul>
<p>è€Œè¿™äº›ï¼Œæ‰æ˜¯ä½ åœ¨å†™æ–‡ç« æ—¶éœ€è¦å…³æ³¨çš„ã€‚ä¸å…¶è¯´å†™åšå®¢ã€å†™æ–‡ç« æ˜¯å¯¹ä½ é‡åˆ°é—®é¢˜çš„è®°å½•ï¼Œä¸å¦‚è¯´è¿™æ˜¯å¯¹ä½ é‡åˆ°çš„é—®é¢˜çš„ä¸€æ¬¡æ·±å…¥çš„ç†è§£ï¼Œé€šè¿‡å†™åšå®¢çš„æ–¹å¼æ¥ <strong>æ¢³ç†æ¸…æ™°</strong> ã€‚</p>
<hr>
<p>æœ€ç»ˆï¼Œæˆ‘è¿˜æ˜¯åšäº†ä¸€ä¸ªè‰°éš¾çš„å†³å®šã€‚ã€‚ã€‚</p>
<p>æˆ‘å°†åšå®¢çš„ä»“åº“æ‹†åˆ†æˆä¸¤ä¸ªä»£ç ä»“åº“æ¥ç®¡ç†ï¼Œå¹¶å°† <code>mdæºä»£ç </code> è®¾ç½®ä¸ºäº†ç§æœ‰ä»“åº“ã€‚</p>
<hr>
]]></content>
      <categories>
        <category>äººç”Ÿéšæ„Ÿ</category>
      </categories>
      <tags>
        <tag>äººç”Ÿæ„Ÿæ‚Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoåšå®¢æ–‡ç« åŠ å¯†</title>
    <url>/2021/04/16/hexo-blog-article-encryption/</url>
    <content><![CDATA[<h4 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h4><p>å¹³æ—¶å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼Œæˆ‘éƒ½ä¼šæ•´ç†åˆ°æ–‡æ¡£ä¸­ã€‚æœ‰äº›æ„Ÿè§‰ä¸é”™çš„ï¼Œä¼šäºŒæ¬¡æ•´ç†æˆæ–‡ç« å‘å¸ƒåˆ°æˆ‘çš„åšå®¢ä¸­ã€‚ä½†æ˜¯æœ‰äº›æ–‡ç« å¦‚æœå­˜åœ¨éšç§å†…å®¹ï¼Œæˆ–è€…ä¸æ‰“ç®—å…¬å¼€çš„è¯ï¼Œå°±ä¸èƒ½æ”¾åœ¨åšå®¢ä¸­äº†ã€‚</p>
<p>æˆ‘çš„åšå®¢æ˜¯ä½¿ç”¨ <code>Hexo</code> æ¥æ­å»ºçš„ï¼Œå¹¶ä¸èƒ½è®¾ç½®æŸäº›æ–‡ç« ä¸å¯è§ã€‚ä½†å¦‚æœä¸åœ¨ç”µè„‘æ—æˆ–è€…å‡ºé—¨æ²¡æœ‰å¸¦ç”µè„‘åˆæƒ³è¦æŸ¥çœ‹ä¸€ä¸‹ä¹‹å‰è®°å½•çš„å†…å®¹ï¼Œå°±å¾ˆä¸æ–¹ä¾¿äº†ã€‚</p>
<p>æˆ‘ä¹Ÿå°è¯•åœ¨ <code>github</code> ä¸Šå»æ‰¾ä¸€äº›å¯ä»¥è®¾ç½®è´¦æˆ·çš„å¼€æºçš„åšå®¢æ¡†æ¶ï¼Œä½†æµ‹è¯•è¿‡ä¸€äº›åå‘ç°å¹¶æ²¡æœ‰ç¬¦åˆè‡ªå·±éœ€æ±‚çš„ï¼Œè€Œè‡ªå·±å¼€å‘å´æ²¡æœ‰æ—¶é—´ã€‚</p>
<p>æ€æ¥æƒ³å»ï¼Œå°±æƒ³çœ‹çœ‹æœ‰æ²¡æœ‰æ’ä»¶èƒ½å¤Ÿå®ç° <code>Hexo</code> åšå®¢çš„åŠ å¯†æ“ä½œã€‚æœ€ç»ˆè®©æˆ‘æ‰¾åˆ°äº†ä¸€æ¬¾åä¸º <code>Hexo-Blog-Encrypt</code> çš„æ’ä»¶ã€‚</p>
<p>ä¸ºäº†é˜²æ­¢ä»¥ä¸‹çš„ä¿®æ”¹å¯èƒ½å‡ºç°ç‰ˆæœ¬å·®å¼‚ï¼Œè¿™é‡Œæˆ‘å…ˆå£°æ˜æˆ‘ä½¿ç”¨çš„ <code>Hexo</code> ç‰ˆæœ¬ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo: 4.2.1</span><br><span class="line">hexo-cli: 3.1.0</span><br><span class="line">next theme version: 7.8.0+a7a948a</span><br><span class="line">hexo-blog-encrypt: &quot;^3.1.6&quot;</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="æ’ä»¶å®‰è£…"><a href="#æ’ä»¶å®‰è£…" class="headerlink" title="æ’ä»¶å®‰è£…"></a>æ’ä»¶å®‰è£…</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save hexo-blog-encrypt</span><br></pre></td></tr></table></figure>

<h4 id="å¿«é€Ÿä½¿ç”¨"><a href="#å¿«é€Ÿä½¿ç”¨" class="headerlink" title="å¿«é€Ÿä½¿ç”¨"></a>å¿«é€Ÿä½¿ç”¨</h4><p>è¯¥æ’ä»¶çš„ä½¿ç”¨ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œè¿™é‡Œæˆ‘ä»…ä½œç®€å•ä»‹ç»ï¼Œè¯¦ç»†çš„å¯ä»¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ã€‚ <a href="https://github.com/D0n9X1n/hexo-blog-encrypt" target="_blank" rel="noopener">D0n9X1n/hexo-blog-encrypt: Yet, just another hexo plugin for security.</a></p>
<p>è¦ä¸ºä¸€ç¯‡æ–‡ç« æ·»åŠ å¯†ç æŸ¥çœ‹åŠŸèƒ½ï¼Œåªéœ€è¦åœ¨æ–‡ç« ä¿¡æ¯å¤´éƒ¨æ·»åŠ  <code>password</code> å­—æ®µå³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hello World</span><br><span class="line">date: 2021-04-13 21:18:02</span><br><span class="line">password: hello</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="å…¨å±€åŠ å¯†é…ç½®"><a href="#å…¨å±€åŠ å¯†é…ç½®" class="headerlink" title="å…¨å±€åŠ å¯†é…ç½®"></a>å…¨å±€åŠ å¯†é…ç½®</h4><p>åˆ†åˆ«ä¸ºæ¯ç¯‡æ–‡ç« è®¾ç½®å¯†ç ï¼Œè™½ç„¶å¾ˆçµæ´»ï¼Œä½†æ˜¯é…ç½®æˆ–è€…ä¿®æ”¹èµ·æ¥éå¸¸éº»çƒ¦ã€‚ä¸ºæ­¤ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®ç»Ÿä¸€é…ç½®æ¥å®ç°å…¨å±€åŠ å¯†ã€‚</p>
<p>é€šè¿‡æ·»åŠ æŒ‡å®š <code>tag</code> çš„æ–¹å¼ï¼Œå¯ä»¥ä¸ºæ‰€æœ‰éœ€è¦åŠ å¯†çš„æ–‡ç« æ·»åŠ ç»Ÿä¸€åŠ å¯†æ“ä½œã€‚åªéœ€è¦åœ¨éœ€è¦åŠ å¯†çš„æ–‡ç« ä¸­ï¼Œæ·»åŠ è®¾ç½®çš„ <code>tagå€¼</code> å³å¯ã€‚</p>
<p>åœ¨Hexoä¸»é…ç½®æ–‡ä»¶ <code>_config.yml</code> ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Security</span><br><span class="line">encrypt: # hexo-blog-encrypt</span><br><span class="line">  silent: true</span><br><span class="line">  abstract: è¿™æ˜¯ä¸€ç¯‡åŠ å¯†æ–‡ç« ï¼Œéœ€è¦å¯†ç æ‰èƒ½ç»§ç»­é˜…è¯»ã€‚</span><br><span class="line">  message: å½“å‰æ–‡ç« æš‚ä¸å¯¹å¤–å¯è§ï¼Œè¯·è¾“å…¥å¯†ç åæŸ¥çœ‹ï¼</span><br><span class="line">  tags:</span><br><span class="line">  - &#123;name: private, password: hello&#125;</span><br><span class="line">  wrong_pass_message: æŠ±æ­‰ï¼Œæ‚¨è¾“å…¥çš„å¯†ç é”™è¯¯ï¼Œè¯·æ£€æŸ¥åé‡æ–°è¾“å…¥ã€‚</span><br><span class="line">  wrong_hash_message: æŠ±æ­‰, å½“å‰æ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯å¯ä»¥çœ‹çœ‹è§£å¯†åçš„å†…å®¹ã€‚</span><br></pre></td></tr></table></figure>

<p>ä¹‹åï¼Œéœ€è¦æ¸…é™¤ç¼“å­˜åé‡æ–°ç”Ÿæˆ <code>hexo clean &amp;&amp; hexo s -g</code>ã€‚</p>
<p>å…¶ä¸­çš„ <code>tag</code> éƒ¨åˆ†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tags:</span><br><span class="line">- &#123;name: private, password: hello&#125;</span><br></pre></td></tr></table></figure>

<p>è¡¨ç¤ºå½“åœ¨æ–‡ç« ä¸­æŒ‡å®šäº† <code>private</code> è¿™ä¸ª <code>tag</code> åï¼Œè¯¥æ–‡ç« å°±ä¼šè‡ªåŠ¨åŠ å¯†å¹¶ä½¿ç”¨å¯¹åº”çš„å€¼ <code>hello</code> ä½œä¸ºå¯†ç ï¼Œè¾“å…¥å¯†ç åæ‰å¯æŸ¥çœ‹ã€‚</p>
<p>ç›¸åº”çš„æ–‡ç« å¤´éƒ¨è®¾ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: Password Test</span><br><span class="line">date: 2019-12-21 11:54:07</span><br><span class="line">tags:</span><br><span class="line">    - private</span><br><span class="line">---</span><br></pre></td></tr></table></figure>


<h4 id="åœ¨å…¨å±€åŠ å¯†é…ç½®ä¸‹ç¦ç”¨æŸäº›æ–‡ç« çš„åŠ å¯†"><a href="#åœ¨å…¨å±€åŠ å¯†é…ç½®ä¸‹ç¦ç”¨æŸäº›æ–‡ç« çš„åŠ å¯†" class="headerlink" title="åœ¨å…¨å±€åŠ å¯†é…ç½®ä¸‹ç¦ç”¨æŸäº›æ–‡ç« çš„åŠ å¯†"></a>åœ¨å…¨å±€åŠ å¯†é…ç½®ä¸‹ç¦ç”¨æŸäº›æ–‡ç« çš„åŠ å¯†</h4><p>å¯èƒ½æœ‰è¿™æ ·çš„æƒ…å†µï¼Œå±äº <code>private</code> æ ‡ç­¾ä¸‹çš„æŸç¯‡æ–‡ç« åœ¨ä¸€æ®µæ—¶é—´å†…æƒ³è¦å¼€æ”¾è®¿é—®ã€‚å¦‚æœåœ¨æè¿°ä¸­åŠ ä¸Šå¯†ç æç¤ºï¼š <code>å½“å‰æ–‡ç« å¯†ç ä¸ºxxxï¼Œè¯·è¾“å…¥å¯†ç åæŸ¥çœ‹</code> ï¼Œæ¥è®©ç”¨æˆ·æ¯æ¬¡æŸ¥çœ‹æ—¶éƒ½è¦å…ˆè¾“å…¥å¯†ç åå†æŸ¥çœ‹ï¼Œè¿™æ ·çš„æ“ä½œåˆä¼šç»™è®¿å®¢å¸¦æ¥ä¸ä¾¿ã€‚</p>
<p>è¿™æ—¶å¯ä»¥å•ç‹¬è®¾ç½®å…è®¸æŸç¯‡æ–‡ç« ä¸è®¾ç½®å¯†ç ã€‚</p>
<p>åªéœ€è¦åœ¨ä½¿ç”¨ <code>åŠ å¯†tag</code> çš„å‰æä¸‹ï¼Œç»“åˆ <code>password</code> æ¥å®ç°å³å¯ã€‚åœ¨åšå®¢æ–‡ç« çš„å¤´éƒ¨æ·»åŠ  <code>password</code> å¹¶è®¾ç½®ä¸º <code>&quot;&quot;</code> å°±èƒ½å–æ¶ˆå½“å‰æ–‡ç« çš„ <code>Tag</code> åŠ å¯†ã€‚</p>
<p>ç›¸åº”çš„è®¾ç½®ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: No Password Test</span><br><span class="line">date: 2019-12-21 11:54:07</span><br><span class="line">tags:</span><br><span class="line">    - private</span><br><span class="line">password: &quot;&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure>


<h4 id="åœ¨å…¨å±€åŠ å¯†é…ç½®ä¸‹è®¾ç½®éå…¨å±€å¯†ç "><a href="#åœ¨å…¨å±€åŠ å¯†é…ç½®ä¸‹è®¾ç½®éå…¨å±€å¯†ç " class="headerlink" title="åœ¨å…¨å±€åŠ å¯†é…ç½®ä¸‹è®¾ç½®éå…¨å±€å¯†ç "></a>åœ¨å…¨å±€åŠ å¯†é…ç½®ä¸‹è®¾ç½®éå…¨å±€å¯†ç </h4><p>åœ¨å…¨å±€åŠ å¯†é…ç½®ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®å¤šä¸ª <code>åŠ å¯†tag</code> æ¥ä¸ºå¤šç¯‡ä¸åŒç±»å‹çš„æ–‡ç« è®¾ç½®ç›¸åŒçš„æŸ¥çœ‹å¯†ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tags:</span><br><span class="line">- &#123;name: private, password: hello&#125;</span><br><span class="line">- &#123;name: jiami, password: world&#125;</span><br><span class="line">- &#123;name: åŠ å¯†, password: jiesuo&#125;</span><br></pre></td></tr></table></figure>


<p>é‚£ä¹ˆå¯èƒ½æœ‰è¿™æ ·çš„åœºæ™¯ï¼š</p>
<p>å±äº <code>private</code> æ ‡ç­¾ä¸‹çš„æŸç¯‡æ–‡ç« æƒ³è¦è®¾ç½®æˆä¸ä¸€æ ·çš„å¯†ç ï¼Œé˜²æ­¢ç”¨æˆ·æ¶æ„é€šè¿‡ä¸€ä¸ªå¯†ç æ¥æŸ¥çœ‹åŒæ ‡ç­¾ä¸‹çš„æ‰€æœ‰æ–‡ç« ã€‚æ­¤æ—¶ï¼Œä»å¯ä»¥é€šè¿‡ <code>password</code> å‚æ•°æ¥å®ç°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: Password Test</span><br><span class="line">date: 2019-12-21 11:54:07</span><br><span class="line">tags:</span><br><span class="line">    - private</span><br><span class="line">password: &quot;buyiyang&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<p>è¯´æ˜ï¼š</p>
<p>è¯¥æ–‡ç« é€šè¿‡tagå€¼ <code>private</code> åšäº†åŠ å¯†ï¼ŒæŒ‰è¯´å¯†ç åº”è¯¥ä¸º <code>hello</code> ï¼Œä½†æ˜¯åˆåœ¨ä¿¡æ¯å¤´ä¸­è®¾ç½®äº† <code>password</code> ï¼Œå› ä¸ºé…ç½®çš„ä¼˜å…ˆçº§æ˜¯ <code>æ–‡ç« ä¿¡æ¯å¤´ &gt; æŒ‰æ ‡ç­¾åŠ å¯†</code>ï¼Œæ‰€ä»¥æœ€åçš„å¯†ç ä¸º <code>buyiyang</code> ã€‚</p>
<hr>
<h4 id="è§£å¯†åç›®å½•ä¸æ˜¾ç¤º"><a href="#è§£å¯†åç›®å½•ä¸æ˜¾ç¤º" class="headerlink" title="è§£å¯†åç›®å½•ä¸æ˜¾ç¤º"></a>è§£å¯†åç›®å½•ä¸æ˜¾ç¤º</h4><p>åœ¨ä¸ºæŸäº›æ–‡ç« è®¾ç½®äº† <strong>åŠ å¯†åæŸ¥çœ‹</strong> ä¹‹åï¼Œä¸ç»æ„é—´å‘ç°è¿™äº›æ–‡ç« çš„ç›®å½•åœ¨è§£å¯†åå´ä¸æ˜¾ç¤ºäº†ã€‚</p>
<h4 id="æ¢ç©¶åŸå› "><a href="#æ¢ç©¶åŸå› " class="headerlink" title="æ¢ç©¶åŸå› "></a>æ¢ç©¶åŸå› </h4><p>ä»æ’ä»¶çš„ <code>github issues</code> ä¸­æˆ‘æ‰¾åˆ°äº†ç›¸å…³çš„è®¨è®ºï¼š</p>
<ul>
<li><a href="https://github.com/D0n9X1n/hexo-blog-encrypt/issues/16" target="_blank" rel="noopener">è§£å¯†åç›®å½•ä¸ä¼šæ›´æ–° Â· Issue #16 Â· D0n9X1n/hexo-blog-encrypt</a></li>
</ul>
<p>åŸå› ï¼š</p>
<blockquote>
<p>åŠ å¯†çš„æ—¶å€™ï¼Œ<code>post.content</code> ä¼šå˜æˆåŠ å¯†åçš„ä¸²ï¼Œæ‰€ä»¥åŸæ¥çš„ <code>TOC</code> ç”Ÿæˆé€»è¾‘å°±ä¼šé’ˆå¯¹åŠ å¯†åçš„å†…å®¹ã€‚<br>æ‰€ä»¥è¿™è¾¹æˆ‘åªèƒ½æŠŠåŸæ¥çš„å†…å®¹å­˜è¿› <code>post.origin</code> å­—æ®µã€‚</p>
</blockquote>
<p>æ‰¾åˆ°æ–‡ä»¶ <code>themes/next/layout/_macro/sidebar.swig</code> ï¼Œç¼–è¾‘å¦‚ä¸‹éƒ¨åˆ†ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210418165143.png" alt="20210418165143"></p>
<p>æ’ä»¶ <code>hexo-blog-encrypt</code> å¯¹æ–‡ç« å†…å®¹è¿›è¡ŒåŠ å¯†åï¼Œä¼šå°†åŸå§‹æ–‡ç« å†…å®¹ä¿å­˜åˆ°å­—æ®µ <code>origin</code> ä¸­ï¼Œå½“ç”Ÿæˆ <code>TOC</code> æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>page.origin</code> æ¥å¾—åˆ°åŸå§‹å†…å®¹ï¼Œç”Ÿæˆæ–‡ç« ç›®å½•ã€‚</p>
<p>ç›¸åº”çš„ä»£ç ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;aside class&#x3D;&quot;sidebar&quot;&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;sidebar-inner&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &#123;%- set display_toc &#x3D; page.toc.enable and display_toc %&#125;</span><br><span class="line">    &#123;%- if display_toc %&#125;</span><br><span class="line"></span><br><span class="line">      &#123;%- if (page.encrypt) %&#125;</span><br><span class="line">        &#123;%- set toc &#x3D; toc(page.origin, &#123; class: &quot;nav&quot;, list_number: page.toc.number, max_depth: page.toc.max_depth &#125;) %&#125;</span><br><span class="line">      &#123;%- else %&#125;</span><br><span class="line">        &#123;%- set toc &#x3D; toc(page.content, &#123; class: &quot;nav&quot;, list_number: page.toc.number, max_depth: page.toc.max_depth &#125;) %&#125;</span><br><span class="line">      &#123;%- endif %&#125;</span><br><span class="line"></span><br><span class="line">      &#123;%- set display_toc &#x3D; toc.length &gt; 1 and display_toc %&#125;</span><br><span class="line">    &#123;%- endif %&#125;</span><br><span class="line"></span><br><span class="line">    &lt;ul class&#x3D;&quot;sidebar-nav motion-element&quot;&gt;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹å®Œæˆåï¼Œæ‰§è¡Œ <code>hexo clean &amp;&amp; hexo s -g</code> å¹¶é‡æ–°é¢„è§ˆã€‚</p>
<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210418165529.png" alt="20210418165529"></p>
<p>ä¸è¿‡ï¼Œè¿™æ ·çš„æ•ˆæœè²Œä¼¼ä¸æ˜¯æˆ‘æƒ³è¦çš„ã€‚æˆ‘ç†æƒ³ä¸­çš„æ•ˆæœåº”è¯¥æ˜¯ï¼š</p>
<ul>
<li>å½“æ–‡ç« åŠ å¯†åï¼Œè®¿å®¢åªèƒ½çœ‹åˆ°ä¾§è¾¹æ ä¸­çš„ <code>ç«™ç‚¹æ¦‚è§ˆ</code> éƒ¨åˆ†ï¼Œä¸éœ€è¦çœ‹åˆ° <code>æ–‡ç« ç›®å½•</code> éƒ¨åˆ†ã€‚</li>
<li>å½“æ–‡ç« è§£å¯†åï¼Œè®¿å®¢åˆ™å¯ä»¥çœ‹åˆ° <code>ç«™ç‚¹æ¦‚è§ˆ</code> å’Œ <code>æ–‡ç« ç›®å½•</code> ä¸¤éƒ¨åˆ†ã€‚ </li>
</ul>
<p>è€Œç°åœ¨åŠ å¯†åçš„æ–‡ç« æœªè§£å¯†ä¹‹å‰ä¹Ÿå¯ä»¥çœ‹åˆ° <code>æ–‡ç« ç›®å½•</code> ï¼Œè™½ç„¶è¯¥ç›®å½•ä¸å¯ç‚¹å‡»ã€‚</p>
<p>å½“ç„¶ï¼Œå¦‚æœä½ ä¸æ˜¯å¾ˆä»‹æ„ï¼Œé‚£ä¹ˆåˆ°è¿™é‡Œå°±å¯ä»¥ç»“æŸäº†ã€‚å¦‚æœä½ å’Œæˆ‘ä¸€æ ·æœ‰ä¸€äº› <strong>è¿½æ±‚å®Œç¾çš„å¼ºè¿«ç—‡</strong> çš„è¯ï¼Œæˆ‘ä»¬ç»§ç»­ã€‚</p>
<h5 id="å¦‚ä½•ä¼˜åŒ–"><a href="#å¦‚ä½•ä¼˜åŒ–" class="headerlink" title="å¦‚ä½•ä¼˜åŒ–"></a>å¦‚ä½•ä¼˜åŒ–</h5><p>æŸ¥çœ‹äº† <code>hexo-blog-encrypt</code> ç›¸å…³çš„ <code>issues</code> ï¼Œæˆ‘æ‰¾åˆ°äº†ä¸€ç§ <strong>æŠ˜ä¸­</strong> çš„è§£å†³æ–¹æ³•ã€‚</p>
<p>ä» issue <a href="https://github.com/D0n9X1n/hexo-blog-encrypt/issues/67#issuecomment-463893408" target="_blank" rel="noopener">Archerä¸»é¢˜è§£å¯†åTOCä¾æ—§ä¸æ˜¾ç¤ºï¼ˆå·²æŒ‰æ‰‹å†Œä¿®æ”¹ï¼‰</a>  ä¸­æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼š</p>
<p>æˆ‘ä»¬å¯ä»¥åœ¨æ–‡ç« åŠ å¯†çš„å‰æä¸‹ï¼Œé€šè¿‡å°†ç›®å½•éƒ¨åˆ†åŠ å…¥åˆ°ä¸€ä¸ª <code>ä¸å¯è§çš„div</code> ä¸­æ¥å®ç° <code>éšè—ç›®å½•</code> çš„æ•ˆæœã€‚åœ¨æºç ä¸­çš„ <a href="https://github.com/D0n9X1n/hexo-blog-encrypt/blob/479ccd4cf522adc8f667cfa06290f057a219cb88/lib/hbe.js#L207" target="_blank" rel="noopener">hexo-blog-encrypt/lib/hbe.js</a>  éƒ¨åˆ†æˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹åˆ°ï¼Œè§£å¯†åé€šè¿‡è®¾ç½® <code>id</code> å€¼ä¸º <code>toc-div</code> çš„å…ƒç´ ä¸º <code>display:inline</code> æ¥æ§åˆ¶æ˜¾ç¤ºéšè—ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;%- if (page.encrypt) %&#125;</span><br><span class="line">  &lt;div id&#x3D;&quot;toc-div&quot; style&#x3D;&quot;display:none&quot;&gt;</span><br><span class="line">&#123;%- else %&#125;</span><br><span class="line">  &lt;div id&#x3D;&quot;toc-div&quot;&gt;</span><br><span class="line">&#123;%- endif %&#125;</span><br><span class="line"></span><br><span class="line">xxxè¿™é‡Œæ˜¯ç›®å½•éƒ¨åˆ†xxx</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>


<p>å¯¹æ–‡ä»¶ <code>themes/next/layout/_macro/sidebar.swig</code> ä¿®æ”¹åçš„ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!--noindex--&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;post-toc-wrap sidebar-panel&quot;&gt;</span><br><span class="line">  &#123;%- if (page.encrypt) %&#125;</span><br><span class="line">    &lt;div id&#x3D;&quot;toc-div&quot; style&#x3D;&quot;display:none&quot;&gt;</span><br><span class="line">  &#123;%- else %&#125;</span><br><span class="line">    &lt;div id&#x3D;&quot;toc-div&quot;&gt;</span><br><span class="line">  &#123;%- endif %&#125;</span><br><span class="line"></span><br><span class="line">    &#123;%- if display_toc %&#125;</span><br><span class="line">    &lt;div class&#x3D;&quot;post-toc motion-element&quot;&gt;&#123;&#123; toc &#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">    &#123;%- endif %&#125;</span><br><span class="line">  </span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;!--&#x2F;noindex--&gt;</span><br></pre></td></tr></table></figure>


<p>ä½†è¿™ç§æ–¹æ³•å¹¶ä¸æ˜¯å®Œå…¨çš„åŠ å¯†ï¼Œè€Œæ˜¯é‡‡ç”¨ <code>éšœçœ¼æ³•</code> çš„æ–¹å¼ï¼Œé€šè¿‡æŸ¥çœ‹htmlæºæ–‡ä»¶è¿˜æ˜¯å¯ä»¥çœ‹åˆ°ç›®å½•å†…å®¹çš„ï¼Œåªæ˜¯ä¸æ˜¾ç¤ºç½¢äº†ã€‚</p>
<p>å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œ<code>hexo-blog-encrypt</code> æ’ä»¶çš„ä½œè€…ä¹Ÿä½œäº†è¯´æ˜ï¼š<a href="https://github.com/D0n9X1n/hexo-blog-encrypt/issues/162" target="_blank" rel="noopener">next ä¸»é¢˜å†…æ²¡æœ‰ article.ejs æ–‡ä»¶ã€TOC ç›¸å…³ã€‘ Â· Issue #162 Â· D0n9X1n/hexo-blog-encrypt</a></p>
<h5 id="åªå¥½å¦¥å"><a href="#åªå¥½å¦¥å" class="headerlink" title="åªå¥½å¦¥å"></a>åªå¥½å¦¥å</h5><p>å› ä¸ºè¯¥æ’ä»¶ä¸­ç›®å‰åªæœ‰ä¸€ä¸ªå‚æ•° <code>page.encrypt</code> å¯ä»¥ç”¨æ¥åˆ¤æ–­å½“å‰çš„æ–‡ç« æ˜¯å¦è¿›è¡Œäº† <strong>åŠ å¯†å¤„ç†</strong> ï¼Œè€Œä¸èƒ½è·çŸ¥è¯¥æ–‡ç« å½“å‰æ˜¯å¤„äº <strong>åŠ å¯†åçš„é”å®š</strong> çŠ¶æ€ï¼Œè¿˜æ˜¯å¤„äº <strong>åŠ å¯†åçš„è§£é”</strong> çŠ¶æ€ã€‚å¦‚æœå†æœ‰ä¸€ä¸ªå‚æ•°ç»“åˆèµ·æ¥ä¸€èµ·å¤„ç†å°±å¥½äº†ã€‚</p>
<p>æ‰€ä»¥ï¼Œç›®å‰åªèƒ½åœ¨è§£é”å‰éšè—ç›®å½•ï¼Œè§£é”åå†æ˜¾ç¤ºç›®å½•ã€‚ä½†åœ¨è§£é”å‰ç›®å½•åŒºåŸŸè¿˜æ˜¯ä¼šå±•å¼€ï¼Œåªæ˜¯æ²¡æœ‰å†…å®¹æ˜¾ç¤ºç½¢äº†ã€‚</p>
<hr>
<h4 id="è®©åŠ å¯†æ–‡ç« æ˜¾ç¤ºåŠ å¯†æç¤º"><a href="#è®©åŠ å¯†æ–‡ç« æ˜¾ç¤ºåŠ å¯†æç¤º" class="headerlink" title="è®©åŠ å¯†æ–‡ç« æ˜¾ç¤ºåŠ å¯†æç¤º"></a>è®©åŠ å¯†æ–‡ç« æ˜¾ç¤ºåŠ å¯†æç¤º</h4><p>ç±»ä¼¼äºæˆ‘çš„åšå®¢æ–‡ç« åˆ—è¡¨ä¸­çš„ <code>æ–‡ç« ç½®é¡¶</code> çš„æç¤ºæ•ˆæœï¼Œè€ƒè™‘åœ¨æ–‡ç« åˆ—è¡¨ä¸­å¯¹åŠ å¯†çš„æ–‡ç« å¢åŠ ç±»ä¼¼çš„ <code>åŠ å¯†</code> æç¤ºä¿¡æ¯ã€‚</p>
<p>ä¸Šé¢å¯¹äºæ–‡ç« çš„åŠ å¯†å¤„ç†ï¼Œä¸€æ–¹é¢æ˜¯åœ¨ <code>é…ç½®æ–‡ä»¶</code> ä¸­æ·»åŠ çš„ <code>tag</code> å…¨å±€é…ç½®ï¼Œå¦ä¸€æ–¹é¢æ˜¯åœ¨å•ä¸ª <code>mdæºæ–‡ä»¶</code> ä¸­æ·»åŠ çš„ <code>password</code> å‚æ•°ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹è¿™ä¸¤ç§æƒ…å†µåˆ†åˆ«åšå¤„ç†ã€‚</p>
<h5 id="å¯¹äºpasswordå‚æ•°çš„æƒ…å†µ"><a href="#å¯¹äºpasswordå‚æ•°çš„æƒ…å†µ" class="headerlink" title="å¯¹äºpasswordå‚æ•°çš„æƒ…å†µ"></a>å¯¹äºpasswordå‚æ•°çš„æƒ…å†µ</h5><p>é’ˆå¯¹äº <code>password</code> å­—æ®µï¼Œå‚è€ƒè·å–å…¶ä»–å­—æ®µçš„æ–¹æ³•ï¼Œæ¯”å¦‚è·å–æ ‡é¢˜ç”¨ <code>post.title</code> ï¼Œè·å–ç½®é¡¶ç”¨ <code>post.top</code> ï¼Œé‚£ä¹ˆè·å– <code>password</code> å°±æ˜¯ <code>post.password</code> äº†ã€‚</p>
<p>å¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰æ·»åŠ ç½®é¡¶æç¤ºä¿¡æ¯çš„æ“ä½œï¼Œå¯¹æ–‡ä»¶ <code>themes/next/layout/_macro/post.swig</code> çš„ä¿®æ”¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;# åŠ å¯†æ–‡ç« æ·»åŠ æç¤ºä¿¡æ¯-for password #&#125;</span><br><span class="line">&#123;%- if post.password %&#125;</span><br><span class="line">  &lt;span class&#x3D;&quot;post-meta-item&quot;&gt;</span><br><span class="line">      &lt;span class&#x3D;&quot;post-meta-item-icon&quot;&gt;</span><br><span class="line">          &lt;i class&#x3D;&quot;fas fa-lock&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">      &lt;&#x2F;span&gt;</span><br><span class="line">      &lt;span class&#x3D;&quot;post-meta-item-text&quot;&gt;</span><br><span class="line">          &lt;font color&#x3D;&#39;#FD7E13&#39;&gt;[åŠ å¯†]&lt;&#x2F;font&gt;</span><br><span class="line">      &lt;&#x2F;span&gt;</span><br><span class="line">  &lt;&#x2F;span&gt;</span><br><span class="line">&#123;%- endif %&#125;</span><br></pre></td></tr></table></figure>


<h5 id="å¯¹äºtagæ ‡ç­¾çš„æƒ…å†µ"><a href="#å¯¹äºtagæ ‡ç­¾çš„æƒ…å†µ" class="headerlink" title="å¯¹äºtagæ ‡ç­¾çš„æƒ…å†µ"></a>å¯¹äºtagæ ‡ç­¾çš„æƒ…å†µ</h5><p>é’ˆå¯¹äº <code>tag</code> æ ‡ç­¾çš„è·å–ï¼Œå¯ä»¥ä»æ–‡ä»¶ <code>themes/next/layout/_macro/post.swig</code> ä¸­æ‰¾åˆ°ç±»ä¼¼çš„å¤„ç†æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;%- for tag in post.tags.toArray() %&#125;</span><br><span class="line">    &lt;a href&#x3D;&quot;&#123;&#123; url_for(tag.path) &#125;&#125;&quot; rel&#x3D;&quot;tag&quot;&gt;&#123;&#123; tag_indicate &#125;&#125; &#123;&#123; tag.name &#125;&#125;&lt;&#x2F;a&gt;</span><br><span class="line">&#123;%- endfor %&#125;</span><br></pre></td></tr></table></figure>

<p>å³å¯ä»¥ç”¨æœ€ç®€å•çš„ <strong>éå†æ³•</strong> æ¥å¤„ç†ï¼š</p>
<p>æˆ‘ä»¬è·å–åˆ°é…ç½®æ–‡ä»¶ä¸­è®¾ç½®çš„æ‰€æœ‰ <code>åŠ å¯†tagå€¼</code> ï¼Œå†æ‰¾åˆ°æ–‡ç« ä¸­çš„ <code>tagæ ‡ç­¾</code> ã€‚äºŒè€…ä¸€å¯¹æ¯”ï¼Œæœ‰åŒ¹é…çš„é¡¹åˆ™è¯´æ˜è¯¥æ–‡ç« è®¾ç½®äº† <code>tagå€¼</code> åŠ å¯†ã€‚</p>
<h5 id="swigæ–‡ä»¶"><a href="#swigæ–‡ä»¶" class="headerlink" title="swigæ–‡ä»¶"></a>swigæ–‡ä»¶</h5><p>è¦åœ¨ <code>.swig</code> æ–‡ä»¶ä¸­å®ç°ç›¸åº”çš„å¯¹æ¯”é€»è¾‘ï¼Œå°±éœ€è¦äº†è§£å…¶ä½¿ç”¨çš„è¯­æ³•æ ¼å¼ã€‚è€Œå¯¹äº <code>swig</code> æ–‡ä»¶ï¼Œä½¿ç”¨çš„æ˜¯ <code>Swig</code> è¯­æ³•ã€‚</p>
<blockquote>
<p><code>Swig</code> æ˜¯ä¸€ä¸ªéå¸¸æ£’çš„ã€ç±»ä¼¼ <code>Django/jinja</code> çš„ <code>node.js</code> æ¨¡æ¿å¼•æ“ã€‚ </p>
</blockquote>
<p>ä¸è¿‡çœ‹åˆ°è¿™ä¸ªä»£ç åº“ <a href="https://github.com/paularmstrong/swig" target="_blank" rel="noopener">paularmstrong/swig: Take a swig of the best template engine for JavaScript.</a> å·²ç» <code>å½’æ¡£</code> äº†ã€‚</p>
<p>ä½†å› ä¸º <code>Swig</code> æ˜¯ç±»ä¼¼äº <code>jinja</code> çš„æ¨¡æ¿å¼•æ“ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç›´æ¥å»å‚è€ƒ <code>jinja</code> çš„è¯­æ³•å°±å¯ä»¥äº†ã€‚</p>
<ul>
<li><a href="http://docs.jinkan.org/docs/jinja2/templates.html" target="_blank" rel="noopener">æ¨¡æ¿è®¾è®¡è€…æ–‡æ¡£ â€” Jinja2 2.7 documentation</a></li>
</ul>
<h5 id="æœ€ç»ˆå®ç°"><a href="#æœ€ç»ˆå®ç°" class="headerlink" title="æœ€ç»ˆå®ç°"></a>æœ€ç»ˆå®ç°</h5><p>è·å–å…¨å±€é…ç½®ä¸­ <code>encrypt.tags</code> çš„å€¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;%- if (config.encrypt) and (config.encrypt.tags) %&#125;</span><br><span class="line">  &#123;%- for ctag in config.encrypt.tags %&#125;</span><br><span class="line">    &lt;span&gt;&#123;&#123; ctag.name &#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">  &#123;%- endfor %&#125;</span><br><span class="line">&#123;%- endif %&#125;</span><br></pre></td></tr></table></figure>


<p>åœ¨æ–‡ç« åˆ—è¡¨ä¸­è·å–å½“å‰æ–‡ç« åŒ…å«çš„ <code>tags</code> åˆ—è¡¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;%- if post.tags %&#125;</span><br><span class="line">  &#123;%- for ptag in post.tags.toArray() %&#125;</span><br><span class="line">    &lt;span&gt;&#123;&#123; ptag.name &#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">  &#123;%- endfor %&#125;</span><br><span class="line">&#123;%- endif %&#125;</span><br></pre></td></tr></table></figure>


<p>å¯¹äºå…¶ä¸­å±•ç¤ºçš„æ–‡æœ¬æ ¼å¼ï¼Œå¯ä»¥å‚è€ƒå·²æœ‰çš„ <code>å‘è¡¨äº</code> <code>æ›´æ–°äº</code> è¿™äº›å‰¯æ ‡é¢˜çš„æ ¼å¼æ¥å®ç°ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;span class&#x3D;&quot;post-meta-item&quot;&gt;</span><br><span class="line">    &lt;span class&#x3D;&quot;post-meta-item-icon&quot;&gt;</span><br><span class="line">    &lt;i class&#x3D;&quot;far fa-calendar&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">    &lt;&#x2F;span&gt;</span><br><span class="line">    &lt;span class&#x3D;&quot;post-meta-item-text&quot;&gt;å‘è¡¨äº&lt;&#x2F;span&gt;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    &lt;time title&#x3D;&quot;åˆ›å»ºæ—¶é—´ï¼š2021-02-28 11:18:43 &#x2F; ä¿®æ”¹æ—¶é—´ï¼š11:41:19&quot; itemprop&#x3D;&quot;dateCreated datePublished&quot; datetime&#x3D;&quot;2021-02-28T11:18:43+08:00&quot;&gt;2021-02-28&lt;&#x2F;time&gt;</span><br><span class="line">&lt;&#x2F;span&gt;</span><br></pre></td></tr></table></figure>

<p>å¯¹å…¶è¿›è¡Œä¼˜åŒ–ï¼Œæˆ‘ä»¬åªéœ€è¦æ˜¾ç¤ºæç¤ºæ–‡å­—ï¼Œä¸éœ€è¦åé¢çš„å¸¦ä¸‹åˆ’çº¿éƒ¨åˆ†ï¼Œæœ€ç»ˆå¾—åˆ°çš„å°±æ˜¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;span class&#x3D;&quot;post-meta-item&quot;&gt;</span><br><span class="line">    &lt;span class&#x3D;&quot;post-meta-item-icon&quot;&gt;</span><br><span class="line">        &lt;i class&#x3D;&quot;fas fa-lock&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">    &lt;&#x2F;span&gt;</span><br><span class="line">    &lt;span class&#x3D;&quot;post-meta-item-text&quot;&gt;</span><br><span class="line">        &lt;font color&#x3D;&#39;#FD7E13&#39;&gt;[åŠ å¯†]&lt;&#x2F;font&gt;</span><br><span class="line">    &lt;&#x2F;span&gt;</span><br><span class="line">&lt;&#x2F;span&gt;</span><br></pre></td></tr></table></figure>

<p>æ•´åˆä¸Šé¢çš„ä»£ç ï¼Œå¯¹äºæ–‡ç« ä¸­åŒ…å« <code>password</code> çš„æ–‡æ¡£ï¼Œé€šè¿‡å¦‚ä¸‹æ–¹å¼æ¥æ˜¾ç¤ºï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210418170147.png" alt="20210418170147"></p>
<p>ç›¸åº”ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;# åŠ å¯†æ–‡ç« æ·»åŠ æç¤ºä¿¡æ¯-for password #&#125;</span><br><span class="line">&#123;%- if post.password %&#125;</span><br><span class="line">  &lt;span class&#x3D;&quot;post-meta-item&quot;&gt;</span><br><span class="line">      &lt;span class&#x3D;&quot;post-meta-item-icon&quot;&gt;</span><br><span class="line">          &lt;i class&#x3D;&quot;fas fa-lock&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">      &lt;&#x2F;span&gt;</span><br><span class="line">      &lt;span class&#x3D;&quot;post-meta-item-text&quot;&gt;</span><br><span class="line">          &lt;font color&#x3D;&#39;#FD7E13&#39;&gt;[åŠ å¯†]&lt;&#x2F;font&gt;</span><br><span class="line">      &lt;&#x2F;span&gt;</span><br><span class="line">  &lt;&#x2F;span&gt;</span><br><span class="line">&#123;%- endif %&#125;</span><br></pre></td></tr></table></figure>

<p>å¯¹äºæ–‡ç« ä¸­åŒ…å«æŒ‡å®šåŠ å¯† <code>tags</code> çš„æ–‡æ¡£ï¼Œé€šè¿‡å¦‚ä¸‹æ–¹å¼æ¥æ˜¾ç¤ºï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210418170209.png" alt="20210418170209"></p>
<p>ç›¸åº”ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;# åŠ å¯†æ–‡ç« æ·»åŠ æç¤ºä¿¡æ¯-for config tags #&#125;</span><br><span class="line">    &#x2F;&#x2F; è·å–å…¨å±€é…ç½®ä¸­çš„åŠ å¯†tag</span><br><span class="line">    &#123;%- if (config.encrypt) and (config.encrypt.tags) %&#125;</span><br><span class="line">      &#123;%- for ctag in config.encrypt.tags %&#125;</span><br><span class="line">        &#x2F;&#x2F; åˆ¤æ–­å½“å‰æ–‡ç« ä¸­æ˜¯å¦åŒ…å«tags</span><br><span class="line">        &#123;%- if post.tags %&#125;</span><br><span class="line">          &#123;%- for ptag in post.tags.toArray() %&#125;</span><br><span class="line">            &#x2F;&#x2F; å¦‚æœæœ‰ç›¸åŒçš„tagå€¼</span><br><span class="line">            &#123;%- if (ctag.name &#x3D;&#x3D; ptag.name) %&#125;</span><br><span class="line">              &#x2F;&#x2F; æ˜¾ç¤ºåŠ å¯†æç¤ºä¿¡æ¯</span><br><span class="line">              &lt;span class&#x3D;&quot;post-meta-item&quot;&gt;</span><br><span class="line">                  &lt;span class&#x3D;&quot;post-meta-item-icon&quot;&gt;</span><br><span class="line">                      &lt;i class&#x3D;&quot;fas fa-lock&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">                  &lt;&#x2F;span&gt;</span><br><span class="line">                  &lt;span class&#x3D;&quot;post-meta-item-text&quot;&gt;</span><br><span class="line">                      &lt;font color&#x3D;&#39;#FD7E13&#39;&gt;[åŠ å¯†]&lt;&#x2F;font&gt;</span><br><span class="line">                  &lt;&#x2F;span&gt;</span><br><span class="line">              &lt;&#x2F;span&gt;</span><br><span class="line"></span><br><span class="line">            &#123;%- endif %&#125;</span><br><span class="line"></span><br><span class="line">          &#123;%- endfor %&#125;</span><br><span class="line">        &#123;%- endif %&#125;</span><br><span class="line"></span><br><span class="line">      &#123;%- endfor %&#125;</span><br><span class="line">    &#123;%- endif %&#125;</span><br></pre></td></tr></table></figure>



<p>å¯¹äºä¸¤ç§éƒ½æœ‰çš„æ–‡æ¡£ï¼Œæˆ‘ä»¬åªéœ€è¦é€šè¿‡ä¸€ä¸ª <code>åˆ¤æ–­</code> æ¥å¤„ç†å°±å¥½äº†ï¼šä¼˜å…ˆåˆ¤æ–­æ–‡æ¡£ä¸­çš„ <code>password</code> å­—æ®µã€‚å½“æ–‡æ¡£ä¸­åŒ…å« <code>password</code> æ—¶ï¼Œå°±è¯´æ˜æ˜¯åŠ å¯†æ–‡ç« ï¼›å¦åˆ™å°±å»åˆ¤æ–­é…ç½®æ–‡ä»¶çœ‹æ˜¯å¦ä¸ºåŠ å¯†æ–‡ç« ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210418170330.png" alt="20210418170330"></p>
<p>æœ€åçš„ä»£ç ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;# åŠ å¯†æ–‡ç« æ·»åŠ æç¤ºä¿¡æ¯-for password #&#125;</span><br><span class="line">&#123;%- if post.password %&#125;</span><br><span class="line">  &lt;span class&#x3D;&quot;post-meta-item&quot;&gt;</span><br><span class="line">      &lt;span class&#x3D;&quot;post-meta-item-icon&quot;&gt;</span><br><span class="line">          &lt;i class&#x3D;&quot;fas fa-lock&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">      &lt;&#x2F;span&gt;</span><br><span class="line">      &lt;span class&#x3D;&quot;post-meta-item-text&quot;&gt;</span><br><span class="line">          &lt;font color&#x3D;&#39;#FD7E13&#39;&gt;[åŠ å¯†]&lt;&#x2F;font&gt;</span><br><span class="line">      &lt;&#x2F;span&gt;</span><br><span class="line">  &lt;&#x2F;span&gt;</span><br><span class="line">&#123;%- else %&#125;</span><br><span class="line">  &#123;# åŠ å¯†æ–‡ç« æ·»åŠ æç¤ºä¿¡æ¯-for config tags #&#125;</span><br><span class="line">  &#123;%- if (config.encrypt) and (config.encrypt.tags) %&#125;</span><br><span class="line">    &#123;%- for ctag in config.encrypt.tags %&#125;</span><br><span class="line">      </span><br><span class="line">      &#123;%- if post.tags %&#125;</span><br><span class="line">        &#123;%- for ptag in post.tags.toArray() %&#125;</span><br><span class="line">          &#123;%- if (ctag.name &#x3D;&#x3D; ptag.name) %&#125;</span><br><span class="line">            &lt;span class&#x3D;&quot;post-meta-item&quot;&gt;</span><br><span class="line">                &lt;span class&#x3D;&quot;post-meta-item-icon&quot;&gt;</span><br><span class="line">                    &lt;i class&#x3D;&quot;fas fa-lock&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">                &lt;&#x2F;span&gt;</span><br><span class="line">                &lt;span class&#x3D;&quot;post-meta-item-text&quot;&gt;</span><br><span class="line">                    &lt;font color&#x3D;&#39;#FD7E13&#39;&gt;[åŠ å¯†]&lt;&#x2F;font&gt;</span><br><span class="line">                &lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;span&gt;</span><br><span class="line">          &#123;%- endif %&#125;</span><br><span class="line">        &#123;%- endfor %&#125;</span><br><span class="line">      &#123;%- endif %&#125;</span><br><span class="line"></span><br><span class="line">    &#123;%- endfor %&#125;</span><br><span class="line">  &#123;%- endif %&#125;</span><br><span class="line">&#123;%- endif %&#125;</span><br></pre></td></tr></table></figure>



<p>ç¨å¾®ä¸å¥½çš„ä¸€ç‚¹å°±æ˜¯ï¼Œä¸Šé¢çš„æ“ä½œæ˜¯é€šè¿‡ <code>ä¸¤ä¸ªforå¾ªç¯</code> æ¥å¤„ç†çš„ï¼Œä¼šå¯¼è‡´ä¸€äº›æ€§èƒ½é—®é¢˜ã€‚ä¸è¿‡è¿™ä¸ªæ“ä½œæ˜¯åœ¨ç¼–è¯‘è¿‡ç¨‹ <code>hexo g</code> çš„æ—¶å€™æ¥å¤„ç†çš„ï¼Œä¸å½±å“åšå®¢æµè§ˆï¼Œä¹Ÿå°±å¯ä»¥å¿½ç•¥äº†ã€‚</p>
<hr>
<h4 id="æ›´æ¢å›¾æ ‡"><a href="#æ›´æ¢å›¾æ ‡" class="headerlink" title="æ›´æ¢å›¾æ ‡"></a>æ›´æ¢å›¾æ ‡</h4><p>å¯¹äºéœ€è¦æ˜¾ç¤ºçš„å›¾æ ‡ï¼Œå¯ä»¥ä»ç½‘ç«™ <a href="https://fontawesome.com/icons" target="_blank" rel="noopener">Icons | Font Awesome</a> ä¸­è·å–ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©çš„æ˜¯ <code>é”</code> çš„iconå›¾æ ‡ï¼Œå¾—åˆ°çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;i class&#x3D;&quot;fas fa-lock&quot;&gt;&lt;&#x2F;i&gt;</span><br></pre></td></tr></table></figure>

<hr>
]]></content>
      <categories>
        <category>Hexoåšå®¢æ­å»º</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>An attribute in the provided entity has invalid value</title>
    <url>/2021/04/08/app-id-with-identifier-is-not-available/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰ï¼Œæ‚¨è¾“å…¥çš„å¯†ç é”™è¯¯ï¼Œè¯·æ£€æŸ¥åé‡æ–°è¾“å…¥ã€‚" data-whm="æŠ±æ­‰, å½“å‰æ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯å¯ä»¥çœ‹çœ‹è§£å¯†åçš„å†…å®¹ã€‚">
  <script id="hbeData" type="hbeData" data-hmacdigest="f74af9f891d0ee6d7adff0ccb093c4bc7dcb776e3be06d789d0f96bf51340a59">877f04d744af2e5f7ae377ed6595d1a5b8fe9b83f06c80e77bbd05ee7e53cc90e81dffb9f64b13cad1cf4acc9aa8fa6e90196f9a6ec9ddd81b689f9fce714514642ba4d0c876a36e247ce0912c899a42e75a99199e7e45fa27d990fd9e1df896645528b1e3922cb32498034885a58578ed9f542525d719eb7059eefbac480cc9c00e29361694e5d2215e024a8a905b9c2550411724dfd72087a9fdaae82379ab8bbb25c23f8f46d4a852866076aeff6f871ad448c9497971cb678685759e6ed3bd73891597123b1d921a91d92f164c6b02e4b38bfdb0341355a2943b200f4a86d7a19f145eeacdb26c84877e202edb78b21db4fb5d7dd21ea551c166b9c3d6a18e7425dc2f7ca8d1125d1851f6c8591fd80e61b884d0a2935a027b8d9854216201e4d43e3cb5a034be4c5cf76f807b1d303b0380c66b757df3d033647e12b35136e16ac664582681ef7c44dd948b0f66ae37b1cae3f933f8fb24cd692b3671959109fb6c9a115bd695b394b1740ecc376ef6346e16ff8d882b90b7b25ee008fd50e6c7c533afe61a75068dbb81ee9ba25524b971202bc0529c6d93477be35195c0b440b38c1d4e32dc1a890ba107d0fd59d43e3f2fe3c4b134501121340465d9a8edee9e8c459a8c7c2b91fe3239a958d955e1469ae72622e5364194fc6d44fb21475de8d07cdabcf1fc7395da820e52cedb64eab220f6da984cad5c06ad9487ef765cc0ddf01ec731ad7589236f4f301dfc97f895a6fb158973527d5464c699d10a94126260b6c68de9c878e5d809265e54d86da9ed0b5975bf616d29e9f687e7afa2114dde23e14cdbaf22d4408bcdfd9c1cf9a126e717cefe094f985ef2c831c05f360647bfe78f98b4a34f6b3a2c1860756e54c2f1d167d6504ee11f11cacf20e7d641df86b197a54ac688a44818ee0f317b1b6d0926a24065026ee82deb8f46c9fc872cd7db27fe9e518a201e7937751e092c079178c1af89aa9606f210bb098870ddc170d0896ac9b5cab6c6d1e4223670702f4eb3bd2c48e0b653202a594f019c92abe056e9669aa6d60b78cc4ccf98a9b0cdc608f60b5e499d3e7c64e164661efffc06dbc71241482899515fdfb17e1f680ce1ad188aae5e2dab4748af3b520ff910d9e7c42c61c82ad51c4a225d7d2745f28bf3f26e8c844cbddf06f816fece1a180d154e3133b19396ed72e1b21db0f4756e8eec16d77f032c49f8726dc4446d6a619c4a920ff444897e2d594fb230518a3c1f5b395ed55e57b671ceced258bd341cad1a4d6f44d8d43109d5854ac4fd33710b2f49a6fdb5f8d72394c38aff8b758e50b0878d6bb5255651de2bcac2254ac136775da1341df2dacf3b8291a7259ca37474d36f6e298584229a605a3e8f9b5d1ee2a39df954d25fa129cbd05da77f2db06edfd2eeb5729848e734892420df86c5f44bf4f97f6f838a0bb1db74e46eef2eae7d2e51854b092324ec04d50842257182439a1f1897607878438d596ce848eee924cd0da000c4afe47bc12a36709f2c276a643dcea5d91e14c991b8412072817f69336da7b940661617ad1b3e62d861ece8f63e4502702c1915db81b8db88dc224a0daa359d9fefe621f66c619b101d1f6eeebfb7979095ca63e93ad7944099b73f1d20c47af07139d1cd75ced3e432ba168876cdc5e88899e0d5c365848a38f299a398e14cc311feeb472c6b9a08985794cd21e57cddcf92938ee4304d4df0cdd9c00a744562b34d4ebeac390c1ed8e2371e94c7c4549833c331bd4b633d96a279d42e035307992ed5b0c04649df57a98eb3d41849dbab6cc0f8b326e952f2c2670137b37cf120828dad59ef8199fcb63b4253df348fef3747f4fd62b6b264b66a0826414cbeedf8ff8b0081824e48e624554e33a83dd57b032ecec5f8b07c413b6b398eb6f6c8f1e7d6a9e0adcdd31dc47fa80f5156c19781f06b8687befc0a7e918d1e1019ef6e20af366657e6569c80544fd7de52c78024a43f5486386f03e12781b6047ff09409d9e8df81c6d51093d02b98ad16a5ac7907bf00871324e8fc125ea50d62f14bab5bd421154242c40203485395ba25e8189783c84a39ad818b72299928c59dbf340b02db63148f701a11a09c6b65d243009c0c5489fa8bcb468c5be17042b9bf5221d519e162a03329645eac7d4e9cbc41c3fa812cd3c52cca6acc53b3887951ce3cc87cb70dad7e723a382f1e261613032c8e7d2be1b72ece9d710fa52916aca065478c920842bff016521f8fc13b2414c2eae41599153500bb2c69c7fca9b75c6e3d9efdca969ffc931c940d6459834090b929a005e5b21c4a89ae99c63fd6f1624806d0ffdb529c5161ff97155c2583606d55a599381ecad424d79f05cba11429e144e8b32d1f979a40a895a7f897d8fd200e61952564eb90a4908101080004773e2b6cdffbf7028777095cf1a63575c205bcaf92aee1d2140b32bc8d47cd5fc8fd02dabac36db790ee04f6b7f74957203b490438a6139a8216e9601720807c3dcb20d4815413c828298d7736f4e5fab414be8dfb25f49c0dd3668be18da5f521e5ac279836ca3050f0c5a8d5bf923ce01f9a3745bf54132ecca41b415a2b49cb3a17e1d1ab02bc22d1a0bef584d2b98db6b9d2cf6f93e8b2ce656aadded4e668caeb11e0240512c1143153a32a4924daa0c3334d89fb6227c6b12c5e104bfcda4d7011b121f04f9c116f9ec26f55b9b1a2d1ebfd3c3b7f0e45e96daa809b03cbd062c31f2125613afb4fd3e999e8b6ef6203db56fdffa741fc9f9ba04d5deed8a35436570b31c24d9fe5128e71e18c2a6165c10dd10ac0d89f8fd23e357c7d5da55b8e8b866cd2b8033458b3135ed61036d7e27c5032d4040df8a55301be0a84c9c41d93733ce5e3d25167045e9a0dcfaa23dc9d3893d6cc68d77d9df0014f49eb31a84a2a53e0cd88d72c227fa76fb4d53465d0bc556c6786bcf31adebb8d49d908c4f0c920d11d9c2298050242659306fa22c773b29f44d5c7ff67315ec8951101f60e26ac03c46b9f78fc63b12a3523366e7a636898786b684e9ed42a0381ee191a16adf798caf3bc10302c1940c958a12d16bd719c9c06ff2d7cf99777aecc4c00abb14d3840126a5a459be74d4ab625c2639c0b59265f7325b10e2c74bdbc20177e7bfeeba2c5f2dbfc5691839ba9ff2b5064885b102cd38ef27976ad0009634ccf598dbe6a4e4277259c4227d6f5bcda87e55995e40871c33a8bf9d8300d65b36109b41b2976c4d19d93e432f14c34b514737323e884306eaabd287126847b650cb1b5a8391e8ec6b2a31e6e8a425eedf87b0150eaf2d8c5fe20e772581bcea90ed8840a2616eacbce6d6b4dfcce280e959dc783275d8a639ea98eb540a7a18e8fe145d87f117a3adc443a96383080bbdb7a57cb470557683a67e919fd0f300d2ed372fd0fe66dea4077cdfa6b5b1c57c1afce60142ec7184dac8ae19ad95cdb202bf462c1f70184265ac2da0e422007e2c031daf0825f73a8bb9dc902463bbc1558350286556d4720cb951803b549247e59f2c8c3de4f89d5b4515fe137e3c9bccd5fa9d274d8078cfa99362f2254d8c608763fc02b0d4e4ebf31e933a1b27e1f98670df005696d98fdb31fb836e9936446bf781b6eded3b539a6cb5d0be6f2935cbaf5788c39a1a8412f0fd919fb4d5e8212e9d1f573bd0935594b369309b480266a38eb5b287785ac929b4b237d001ba7a08609e3caf50e0717b9ac3bab90ed20891ba4f9ebecad04c66208d53897cecf32577337a87b2ce7f98cbf8820a32c7c7f2bf4bdd5754d15b4f71f6e8620ac2935b7ad90a140c3cb1a64cf2bea0b272b3330d8b84498f5c17673eea0d93cc1e856810f9771bb4c18aadc7a55c2941b52aeea8349db03937441f2ef570ca1f0faeed203c175e6cf06134b5c7914a50918aeab358b81606c5d305328c9cb1a7b961e5c18c6ee1a0a4e3b030b69b398091bea3eba278c46bafd521d0628f8292b39d317c8652e4c58c02a22934c94dd217ca9c7d0d47bca07b430f8a80114ca1260779f562ecd60e9290c6fc5ea25afdccd2938dd22ed2fef9461d17f6661433838e840c637b66b59f4ddd2725413c120fba290df6b0b2b527b1b437ee9728f6a584d849a33dea1cf7d7038f6c1c71b606e49b30f71b3db11c76d7ad36b74b220485def81f751fda8f6d853ba2de8d21da56218d8e31841aef9e02f6ee4d3d650bef340b347bd639cd2bf1cb4171e36f6de3b88309ad215146afec1c4cb80297e95076d271a9307b88bab02f23bc82fe957cf7a754b4c782377803dc9b1ec0622c5ae0ebefc426704154bc8ee6d6e8b5be2fed637a55a31eb3ecbaa8e68341204968f68eda33ba91f642479f4a7ed154c7e5df2d17ad866f0adb24fa5c1e9a45fe6e4327b4cd41922971a83ec9b50e920ea4ea7c976249935f4957a142e8e11b88305770867d195279361bbac0fbd42f35bf0f5d8cd930389a0398f7515ae19d99c050bb47608126651ce39a7853618592576b1467ec12f9616a37474af3b1b33c2d260fdda4b47526941ee94cff31d675ef52d7d4571f6528259d47aceb5cf8c92d2396ab696f90363f664c61fb77ef3b763ea49e1300e76395b5861910bc696c401c63cc36cb7f37d8e2fee0a8af9cd26926b8f6e4c24a4ff6042266a1f9bcb01fbc9a5a0b3ef231b23fc31664b44e7d4fd179ab645a8b18add1f227f4e0401fac297965c0207939f0f8fa064c4e95367d1310439f9900066e9d16655949e9d53f65bd3f23bbbc861e647bf5415199a4261821e3b293275f1cfadf009cdfc5ce2156ff9bc6b52383d5a74fd3290890336ace186df3abc44c750173c7a667021dcc34a07620a9b8948ae08329f346723b1e3d04d9579e354035ddb27ae997ce27cd479473073db20fccb451f1895cf1b74a40b33c162a0fda2b323feff6bf8c4159ed37870bebfff85c0849eb42ab09bdcc1e12ed9ce67bf91418efc729a66c7ec2ccf4c8a0dde93b8946934b728e03302af3eba2ae2fc56bd9b1a5de45a2968adf02b65f2c6d196fa1fc1c22078be93664de3f20222047f807cc2395b07b18a130b1af007a9779a495ec27beba9f78d1c555880d9bf456e11ee8d47fba8755ee627dc42121294084ecafe3bd492d2d618c5fd9a28d6ac7ff9c90743fbd315681930167d40daf8f3cf7ec3118a8d32f4500bf79df1e34e3ef349e9a0bc23a6efbab5e37084b98c05dcc24856293c8f7eb2669aa624ec7e0c92c66b183077f1e5e0161f7a2ad222baa61131951501fe8b0355f8411026d67a8792ec59641f4394a9b3e30c3c219ce16096fcfc3cfdde10238bd767ddeed741e84bdf5732f7ffdf7e40a8a264f45ef210444db537740d8aa4aafa5f886eb77b3be51c2b8d296f371c98a1f38b525ec2a1526d1f6d5a04d6546f673e63a53f18a990d1e578c473f6ab445c0e9db3216c8093f86602ae26d4ae769b3dc50b68653ea261464cbc48dfe238f7fda2e2609854d62738d582ed77fd0659184d5d4beb9723aae969f271144ff957a4ac1a09a205d7cbede8a2a9af1d3ee5b2a303f4c7957ad563a987bb7cff7cca63383dae002c52f04b5f1ad86e22a6479498572fb9101d7f474685d83affcdc2b2e16db6fa59a34d2aba1dea727b38854ca37deaf03fdfa0b09f4a7fccdafc52377221ad79aba6446d8763214e7710079636024b912f6b3b01686b7494981a604594201e8d166034cf0945b6a02f6ecb1e19b129cc36deda049fb943e9d6e6ee34b1846313336de8f7d48a753e7a0f54fc4bee1e2e4ee96769384820b1f85ae1fc8fadc203635ade44d68686480c2898aa68d2db5b400722c6532828b59b03283d76ac32b8dab225fdcc74c56c2a001661ad63e2b33ff886160a3122106faa9f4e9a8c18a4d6e824ab22e9f7077e823d9992733b9cf74a33769ccd381d28becfe8cedcff557a35bedc6ddbd9e278c4d205b68b7fe02656e7256d92a33bde65dbc2efd2483b1a405138da854fe9489fa0f5228acb2ee577309ecc719cf83e49baa53b097ef65d0b2f781ed877ccb6040e7ffd43834ac336900b4cb6edbef585008171892993242a7b542d925b7a7d54ed3f7cd4cfa8f99d99f16d89ae157f74abab9e63cede27bed48fb358e31d3f03130c1da163d45c21851cf3351ea3b51c974d3dc2c152a8e442bcd0e550672363c2663a227b695977f0f702c707edf7f315f5af2f910f6a9f3e5ca448015b45794b13dfa0e13ef55f1616f27f8c11c59d677434a77bdbb12491267e6c8687240fdcef0a848b1b2a4a8f09cef1979ab08586ebc02bc11cdebb98f29e4efe11e947d5bdb3623e07c758aece6dea9ee7b0e82380385c48fa416fd7f6c589f5f1cd745a94863b61e2a9167bcc6081cb2d6e6a8eb6516979169429517c0beea0eeb6565ff72dbe1dce73aeeafc0f1fd6f6eee386836b165a7cc9e753de6104f696b5264a7a17e38d6f49d2d493812433a6f953e2dfffeffc3327dbaf6e7d714a2288b2cb68a65784d30b350757ed66e01546b131910dd450bfa11facfc91e07e81e9542fdc2e6b1fd0e6703b2828822580e42b7a145029756473af56527542e8c917b0c0886fe065d0553657d8b0800c97b9e2f6a42a4b6f63915dc29c921d1e868a9d3b5d4fcff54e79c465ee2b93e4a5b70d2463550a501eb493804ba213ed7b436415ed2eef6365bea5044d423cff52d6bf3d3ee67d4c4c73958e090fdf3c8682f9676599e393d747312eee2d5a68478d82c4ed2d4e235085c1bdbe4c5eac3ab09b612ac5f441893b86d4322dd6896a187d24a69e1fa269e03ee67b599268a54ce01395497b25fdf7e0a36d4a2325b1096df52deaa2c3bf2606cc9e2390776c9d23c3073290776bf726fba3b6d06a46b3d15d48d97127c66ee66f51b8d5224e07202889e22382ad7436f8a5ff6f9624266f35587373f18e33ad1f142760605e18ddd08040cde777982805f05f7fe5ffa2f3c0668ebbd227afbc97f957489648a205baca13918e6c12f688652ffa5c8aca82462b275ecbc503c1b7bbb469e35e510a623155a2a6fe6a0c159fbb136b1c73281b1f549f2bf21e3d3acce1bf55856d1a3345b13db1dbacf6f21db9f4ad2031fb56923753b21b6023064bd79d7c6df1b4b3d698717eae21bee84c70b25635bde6964a3f7a2d10e21db35f3e2cbc4a4d8436f4f208700f91459c898d493f13c3e725d39d37f315e031c8e3b1d60377efa1fd83fe6c43173a06f66e675bd92339046c507701445256ae17d4a1c245698f4147544a20b74d1620268fe102e477332ca408c9d42e955fdb62232b343ee089739d6a49449d2a95874b4916daf44015174ead2cea0182fd15705faf76f52e9fa505d193c6620aaa073eeadf20609d12ad9cfdd056ab73270ce03c9d7914eabebd0823d8a8af1bfb07e4c92e733c0156bcadb952c4ebe7b7fa884906abcc56bec71827552d7e4dfbdef10cf708e904f076175547166f2cc70cf1d493162be83e861cb7e9529f034eec15cb90577cbccf41edcccc4eaa0b836856a9dff081ba1d7adbb107a53a95be52b26086f2a1d8278fdb9e623487559c00af8596f2cf5e600d50340f5504fd0c81f9b4a60d3c52997eaf1ff256d0adf6fc48e4c6b52a616e3b18aece43e7fc0583a6e77cb5b83818ce46537614a720588080ae7d6aa15b74e7d102a6e357d268a3b0dcff1e98cdf81f32f432736f541eea2673e4f7473471c33c370d1fc2074d91901d3bef826505158762f2b13373de2901f1838e18685360f6ef002f234daa611339ae9a778c978f1d19efb88b93a7e72a81fc0cc978d14d061c6bb307e9596ab63848c417c93b455c8682ed88ff502088376c0d744d1778d05a3ddef16cdb0913f05837a895ecc51fbd0ac5f1a00388a8c9d08614e9f91fd0fffff1da4d86c8c037e55cd22a7d9ff71e494f6c979c88e924a286e53d89e423cc302ecc34829adda618715eb3102e79a70dbc4cc19faa05b0e3a30c39dcc78a661d487edb504a95675c3f1ba68b62872908a021d9a2d4c8177e5d807399721e11bf59e9452f28eba2c0a6933208ca24082e28975fa34b4e22db685263bda28a36dec79ab9c9a0b535c661c5c7aa087e6c1f4e4870438667c44de3624531daaf92fe816caf82c10aed72fe2824aa5e61237f4b60bd96683b01e4d6d92f852454a5e583ee6a6778c25db0676a5a9fa78429807e11030421262fdd28d127393440dfa063f5cb905f1bf54f5ee4711c475e37d07869bc77dc72c86fed38e83ae57fe95e67c9640a161a76c01a860996b47dd04391380bb1b24b2ed10f92722ec9f3e6b86a07305a16b315bd4b43f447687292ad1b2373e117d74cc01da2379e5adecdcf8e44760a48bf066a8bcf93e24f1c6eee2ee1ad1ca14b5c9efb4a1968be2612e4bb5fb939fe41bf7e933ca258769c3f38fc2e9906bcf686dcf279ef5832c1e38e1de59c61573153645269673c0b47ed25ba59be9dddbe8c427fdc2db712ca5c4b728828ea377aefa89075de49d49b3dd5a82c981e23e43e359955e485fa335a781d4909f9e5deea41e8cbb9c8980b803e5f7d99038713c0e2eb3a66c919f2750afe838a574029dcb8ef3dbdf7c16486edd6038fb6bf8434631a76f7f9463d0ff18b81e643467f59b6a3b7eb5c75d75c8df7def5c5b444a076b8fe48a1bdf7dac1a340525af18e85b1527874c9be6e85ef083addeb08f9c0193c6618d8f1ea63977e34c1793d8f56bf43ddecc9958dd6897fb54f2fb54f44ebe0e53c9db16d6f65c63de1bc012e7853862aa0dc528e32029d4b56831c2bdbd0f558890d3bde66bf078da0f1ffe1b7fb88b434199f3c30166f3d3a73aa058bd9c0d8badadc12d8e2fe2c50ea3659dba200d947c3848c6687a5c03f8be5286211e046a08694913d17d558e41163f6c2a4392273cdc28a310f38eb22964a5f59af85488d894824ab6b963bc6a73d7bf38aefe77f02f0739e80a64dbc0148c855207f574b548b00b242e52cdcd59081b9c39b275f48b85d8e9251c70772bf5f930172febd4905af662c3ebd99b5b0af525c024cf9d0d32006e9abf89972cd1fd3f745e101988eb388ee833d2c8b58c75b3df5a3fd2a91a901f0dad463141fda6b791c486a8fa06a7bfb405b983f59981adf5f35414db6c59aac97fbaf1a7b3bd91a011d95c6321e8d49f03e741e68beaf1b5d821746eb12e949241ed83ad4c88806e85aca7b279e471a362d17c4563438ba29c4eb1bfa1cb6983926866c696b2a4658bdb4be7e251ae20ee0bfb15ace040d22b2624b9a6cacc687e3b8e6e1778b05f82e0c89c2f52bc66f78c610a3717e77e610f994be0ac443bb6eb1e0667d6e939715bc0b1e55e557ff84976db4062a0158d9a4d500b6b1182266dc7451208b3a8d311d25ce54fd13d43e36373f874a8d03e0c6d7805dcfd040bff4abb8b14d6ee2dc99d15f1a3298f1c7a6350520ec0c67446fd5fa19eb901e6fec4b6c20407ffa156e3f12acad58ca81b1bd30e9a7541b1c0435126a8473bfc2fec9ef3c6ed8f7d0757710dff81f58609e12e8914d1b33f2e9f55e229f6e6052dc5c61e7da143e4f6b298bc8ed9e3f9907375c6d0d5a40641e1bb7a08402daf58482eb15bee31b850c4edc49199804c272f67f3f7cc8da32abcb983e692e9ab9db383d9e9f122fd70e2520dd980afde6b7725c5fe0bb93c1b3f7296f0432139c505b189ca94f162534008fbb5aa268e1312ab7c42597d6a5b6d228f509dbb4740705f8db0f63bf33dca0e3b6c0f108812e2243ac254bdeb25400c9aeb5904a4db27d4b9ea522e591d569de5795157b3ef6c1848a8b27e2c3b3720604cdd33bab774e269521cb2134ab8fa7fda0a5dfda8df510066a8ea4d72c83d651eb2c5747b2189d6f6e2e29efcbe3c15d3a2b9624cc706b7ed52f0f3b55bffa9fb6cae8baf5d7e52d4a84ff717dad34d00943db84aeff4749d9ef6b24d39284a9f2d9d148019bb7396c9175cabd4af7c921ec5324229d161d88c9039804a4d50f5cc846be9aa4dc7a251b395cf1d9211ea36385138dd234e233bedfda5c980883f8d946ff391cc710663452b9edf906f1c4ac3de704c061f01f6be01feafc9a81ef432a48f1296238f8a132770ebe1f47fe97441ab4933385b096dba07bddd7267369a3fb61c0b3315b474b5a44329c70878e4ddd08e05d1089f05a29d556eed4c32537cdb1e49218b1245ab8446d5ba6c65e7c2a29301e10038053deb7dec90bb7ef990a16945a1eed02e33029d99851d0c9cfea7d410a1597727586e284410a69839f728a58d0b89cfa0bbe605c003563ac6774c04ab97c4745fca842ed6007ec71d739da423f1a10f723d2f654567a46275f5d00130de2b9aaf9d8ec6aa8273f286c0ce53909295efd623fe52c578f7e6c73624155d522cb0a9a29c73a28fe62ed5f6877955ad6920955a68445d3a0bb3837ed1678649f0ca06530efced3b1c2f30d5f4ed3ba4d9d3a273765ef256f1fd5fc4206c3fe4f0717a032c43e6fb42681de16de5be0747c05f38490884c6465471fa7e186f0e54dd9cacb7f5a0472395239d240650d563055f537034e1d683b6d0fd5070de13aa8cf02021fc991101ab868ceb845d1bb00603eb67ede4ba14a75c3ecd0f715fa94dab72716dbc09f418be20e5011882c05e8bfe5a594d203c031e8d139b95ed3e12dbeafc485047e97045178cf206150486359816b22212d3b5932c6c1f88b044229ba22b3392b85afeb23e5b982bf2f850772a9740fcec6733e32826034993d004d38db6695e26235758401ae7e573d0e0591b2dd465baf6aada74cfbe14e585ec68749f81c862b96e5cf82af4dda5a4eaa33cf60aa28a96485054f02603ea48e939bfbc6f2ca565d37a7aeee7b1629b06f3b0b4246e58e55fc44b75589353500acf45c5d84c6b685288dd40c8606cb01a68c072695b96aa56b0db371f16b806f14cd78272960eb9a943c9f7a68e4c53f0a696c76f2aa758cc7fd4b27f43f842b5611eb11742b89190e139bf2fff420988b4958e7e00a5b03f8fa36005069efc56b82f003e64143950e904f7c235f0b3cb44b50e22ac36cbc4fbcbf2982ea8c0bd6c9684dd1a3556021f38f4818c4c21a4b0bc987092ed31dac422bbe397deced8a928686c4888880246464c027604c12686a3f7775dd3c6385e8648ca9a448d6ae93c99e90f74ed8239461398f2b7a4e6199650f979bf7bdc85b48df93164237e048acac553e9786da6bb0b605833b58fcf433e6892f1e07c6298ffe4f587d8e711cccb0f5d5eec7ecfcf1045c5c1e013874e7aedc65fd2e4966d2033cd9762dd5f46f2f051ccdbcdc45b61480116b337e43faf3fad83999c66e7b23892cce1ee40c77972a2191913d6bbcb8e927e8f2093e480b6baf7854e0856253603872b2e1c8cd8369092474abe36da2ecc490dcc8a8c286936c0e4804b6368d7051b21b8eb7cafb023f6f4eb6e4306b8f63e084146907209d6c7e3a08e665e714404baae693ce5f1e75a40165597933eed1c1fc5d1f53ed0a36c28840244f8c0cad9f6ac93449ad9443ce2fe2ca8aa86eb48c6fe53661448e745978f2b281f927e655aae66be232f5e4d8526767de11f74ed656e8831678ecbfb3c0fd8eec08dafa9adbb42debf97e50486fb2eb187e85d81070e6e3a7ef13efe92a42d18b261e4f547dc43ddeb9a947a3ebcdfc59c52205c6fdaf872345c9bc769f4a7035a075e8a238f322d370da51f135c72c2f15cd14202c46235fa0e3348c35aafa4f50ba9517d410f9f1930e997af654b64163ed6adb9f2c5ead69553925fdba9eb9f92579fe8564be11b0eff3fb3ce17d1f60e302eab593373cf5688629cebb55249ab3bb2d17a0ea9511353fedbf53de60d278fef29c8d0cba682f3f0a647ffdaf597f952f0713a3617f0a9d2a198ce003d522a35dd3291c5f0406d242978fab7ace205eec9c4c635d57ed9e5a9b078d28c30771c610b374f38e629a832fe0dd5b3ced9cfa50c167ae6052eb8c65c22914c1c238eedd586741ec8af03e56adad4f585a44e36e49a80129ec6e9d833bcdbf6367258374e9252b9262894aa7f648e5a5ac95e0e3059578f1470329398f8e4a387ed5ee58920fbc97316938e4f9405121d2717266051563c55897b3fbf9aa0ca239e3efcfe7a6eb8745a57ff9ca92638acf28d13d594da8f18b8e85a580d95226635f519f231e737bf79cdff89f683e4951cf74ee76fcf7dbb77e77c10419471117b864082a68070789139a715740f9fe016f347c4adc6a389d8752811df0f0cc16f6ff1339b15f55019bb04e8e1a7567f80d75b96e4c2214be9edfa0ffa75564c68092a46e9b419bfe70ad66bb42b3b25bdb242990ad905b7f964bb4a416727566d66761b7ac96a1260c7213b1355d630450e0b2e7b22e4853fa5802d04be42cda74293f7175ebd683f61447463a5f1687a59323afd83a7627bdb1ca6947686d3f0e9e33868c9ee1a977738dc0cf4c800d62d006c9358cf3ea43c4a756ffa6efdeb9229904f31cd092237614fe6292f2958c40e10e92cacc5b04960d95df27191b1ba2f6eb0b31185ee766733932a5c21479661b9812ff79ec07a121c12643775994ffb7dc742f619bc3989d437f32758e1e53c9d91c6a34bc4c32f86c7ad9a0063b8f761002da008e845ba65147ce0fa1fb9d8b1815f56f1711a6c30f3f79646542d8f0f5852263f1ebe07dbef4d67884bee0cb8660258ff91a901c2ac8092310068ef4274e4d2f2ee8c2be78060ae94c639216d672ae3710364a57c1bc1e848a3d57a6ac602a0d0f70ba2d3a3d2b50c9502853c5f0e246ba6c9f9d6d9a77feb60f17ad04775e09cde9d58a716f4142686a214a24585ef30d759096ebfe0a18dfe735b54afc0a76f46b713e2c0ff55fe84e1c6b5778f1c042dc3f086c339294894c0cd87de6513f8ad8b61dc4ae8b778f1cbbf68fa8f18761bac6ba20a92e05b7834c1a7b0e1f68ac926918e5a054bde85dc8a5c5e835015f3043841123a2e41de3697a08e2d77c5c50d298789c0a59bc850110e083c28f477a20feb54b3494125db35ec97cdba2a1c0bcdafe904a17b4aad8738d9641ecfc781d19b1f3716af8bde5c47923c031378d2be0822b61667913a75e178ab7791bb8cef325e78b636afecd04cce5103186bb930f1c0f87adc57a86788837f4e8ec8e2a4549ab6fda3eec5e95a70d1c616af0ebdeb4292a154765bd95332b0ae76afc1a1c19c576aa75bd48ed65bd62a522bbdef4305b0de3a43540b129a95e63d0bc833e550193b86359bf4238db1b9e55b02a4837f14fc83c248195aeda5be427edce94f0161faaa1b603ba6b93631c470e6ba3b6d7d476065e4338adb8fe26103be3eccca29e363b5e9508a99ec65fcd474b8a453c229fcf2ae0f14a169b28b3bb3b5c7b7b0579af48070cbba18eec0e06475cedbfc6ed84098a984e63da32286597b77f93205198ce176ee7bfedf21cddee7755d9225a28124d380d64d849dd33165458a0cc23a546e347a04db06da062ef0991d93ba4d0dff0536b9ede6c4cf8b2c377153d5be1df233665b100e7e3c93b2ff315e3252736c23cb3e7a835665f93020cd118da69685d3950d560e6299933feeacea817142ab3659f3708ddea257643aba6b667bc9c361c2f3ef9e81c14224bdca972aa2853f0c3d91b711816accbd0493b25951f283517ddc9e3bce60bf38e64716dd346dcc143ae571183a71800d8fded8a1db3ca8faa121f0b74ba4b0bb9efc14a9ab0c533fe4a2e347f3f697e7fb2aaf96970</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">å½“å‰æ–‡ç« æš‚ä¸å¯¹å¤–å¯è§ï¼Œè¯·è¾“å…¥å¯†ç åæŸ¥çœ‹ï¼</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>Flutterä¹‹æ—…</category>
      </categories>
      <tags>
        <tag>private</tag>
        <tag>Flutter</tag>
        <tag>ä»˜è´¹é˜…è¯»</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•åˆ¶ä½œæˆ‘çš„gifåŠ¨å›¾</title>
    <url>/2021/03/27/how-to-make-gif/</url>
    <content><![CDATA[<p>ä¸€èˆ¬åœ¨ç»™ä»–äººè¿›è¡ŒåŠŸèƒ½æ¼”ç¤ºæ—¶ï¼Œé€šè¿‡åŠ¨å›¾æ¼”ç¤ºæ˜¯æœ€ç›´æ¥çš„æ–¹æ³•ã€‚è€Œå½•åˆ¶ <code>mp4</code> è§†é¢‘æ–‡ä»¶å¤ªå¤§ï¼Œä¸åˆ©äºåˆ†äº«ï¼Œåˆ¶ä½œæˆ <code>gif</code> åŠ¨å›¾åˆ™æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚</p>
<h4 id="å¦‚ä½•åˆ¶ä½œgifåŠ¨å›¾"><a href="#å¦‚ä½•åˆ¶ä½œgifåŠ¨å›¾" class="headerlink" title="å¦‚ä½•åˆ¶ä½œgifåŠ¨å›¾"></a>å¦‚ä½•åˆ¶ä½œgifåŠ¨å›¾</h4><p>åœ¨ <code>Mac</code> ç³»ç»Ÿä¸‹ï¼Œå¯ä»¥å½•åˆ¶gifåŠ¨æ€å›¾ç‰‡çš„å·¥å…·æœ‰å¾ˆå¤šã€‚ç»è¿‡æˆ‘ä¸ªäººçš„æµ‹è¯•ï¼Œå‘ç°å¦‚æœæ²¡æœ‰ç‰¹æ®Šéœ€æ±‚çš„è¯ï¼Œ<code>LICEcap</code> å°±æ˜¯ä¸€æ¬¾éå¸¸ç¬¦åˆè¦æ±‚çš„gifåŠ¨å›¾å·¥å…·ã€‚</p>
<p><code>LICEcap</code> æ˜¯ä¸€æ¬¾éå¸¸ç®€æ´æ˜“ç”¨çš„åŠ¨ç”»å½•å±è½¯ä»¶ã€‚è€Œä¸”æ˜¯ <code>GPL</code> åè®®çš„è‡ªç”±è½¯ä»¶ï¼Œå¼€æºå…è´¹ã€‚</p>
<p>LICEcapå®˜ç½‘ <a href="https://www.cockos.com/licecap/" target="_blank" rel="noopener">Cockos Incorporated | LICEcap</a></p>
<p>å¯¹äºè¯¥è½¯ä»¶çš„ä½¿ç”¨æˆ‘å°±ä¸åšè¿‡å¤šçš„ä»‹ç»äº†ã€‚ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘å°±æ˜¯ä¿æŒé»˜è®¤é€‰é¡¹å³å¯ã€‚</p>
<p>å¦‚æœå¯¹äºå½•åˆ¶åçš„ <code>gif</code> æ–‡ä»¶è¦æ±‚ä¸æ˜¯å¾ˆé«˜çš„è¯ï¼Œå¯ä»¥é€‚å½“é™ä½ <code>Max FPS</code> çš„å€¼ï¼Œä»¥é™ä½æœ€åä¿å­˜æ—¶æ–‡ä»¶çš„å¤§å°ã€‚</p>
<hr>
<h4 id="è¿›ä¸€æ­¥ä¼˜åŒ–gifæ–‡ä»¶å¤§å°"><a href="#è¿›ä¸€æ­¥ä¼˜åŒ–gifæ–‡ä»¶å¤§å°" class="headerlink" title="è¿›ä¸€æ­¥ä¼˜åŒ–gifæ–‡ä»¶å¤§å°"></a>è¿›ä¸€æ­¥ä¼˜åŒ–gifæ–‡ä»¶å¤§å°</h4><p>æŸäº›æƒ…å†µä¸‹å³ä½¿æˆ‘ä»¬é™ä½äº† <code>FPS</code> çš„å€¼ï¼Œç”Ÿæˆçš„ <code>gif</code>  æ–‡ä»¶è¿˜æ˜¯ä¼šå¾ˆå¤§ã€‚</p>
<p>é‚£ä¹ˆå¯ä»¥é€šè¿‡å¦ä¸€æ¬¾å°å·¥å…· <code>Gifsicle</code> æ¥å‹ç¼©ä¼˜åŒ–æ–‡ä»¶å¤§å°ã€‚</p>
<p><strong>gifsicle</strong> æ˜¯ä¸€ä¸ªç”¨äºæ“ä½œ GIF å›¾ç‰‡çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ä»¥å¯¹gifæ–‡ä»¶è¿›è¡Œä¿®æ”¹å°ºå¯¸å¤§å°ã€é¢œè‰²ã€å¸§ç‡ç­‰ç­‰ã€‚</p>
<ul>
<li>Gifsicleå®˜ç½‘ <a href="https://www.lcdf.org/gifsicle/" target="_blank" rel="noopener">Gifsicle: Command-Line Animated GIFs</a></li>
</ul>
<p>Macç”¨æˆ·æ¨èä½¿ç”¨ <code>homebrew</code> è¿›è¡Œå®‰è£…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">brew install gifsicle</span><br></pre></td></tr></table></figure>



<h4 id="gifsicleå¸¸ç”¨å‘½ä»¤"><a href="#gifsicleå¸¸ç”¨å‘½ä»¤" class="headerlink" title="gifsicleå¸¸ç”¨å‘½ä»¤"></a>gifsicleå¸¸ç”¨å‘½ä»¤</h4><h5 id="æ ¹æ®å›¾åƒè‡ªåŠ¨ä¼˜åŒ–"><a href="#æ ¹æ®å›¾åƒè‡ªåŠ¨ä¼˜åŒ–" class="headerlink" title="æ ¹æ®å›¾åƒè‡ªåŠ¨ä¼˜åŒ–"></a>æ ¹æ®å›¾åƒè‡ªåŠ¨ä¼˜åŒ–</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">gifsicle -O3 input.gif -o output.gif</span><br></pre></td></tr></table></figure>

<p>å‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li><code>-O(--optimize)[LEVEL]</code>   (æ³¨æ„è¿™é‡Œæ˜¯å¤§å†™å­—æ¯<code>O</code>)<ul>
<li><code>-O1</code>  ä»…å­˜å‚¨æ¯ä¸ªå›¾åƒçš„æ›´æ”¹éƒ¨åˆ†ã€‚ è¿™æ˜¯é»˜è®¤å€¼ã€‚</li>
<li><code>-O2</code>  ä½¿ç”¨é€æ˜åº¦è¿›ä¸€æ­¥ç¼©å°æ–‡ä»¶ã€‚</li>
<li><code>-O3</code>  å°è¯•å‡ ç§ä¼˜åŒ–æ–¹æ³•ï¼ˆé€šå¸¸é€Ÿåº¦è¾ƒæ…¢ï¼Œæœ‰æ—¶æ•ˆæœæ›´å¥½ï¼‰ã€‚</li>
</ul>
</li>
<li><code>-o(--output) file</code>   è¾“å‡ºåˆ°æ–‡ä»¶</li>
</ul>
<h5 id="æŒ‰æ¯”ä¾‹ç¼©å°å›¾åƒ"><a href="#æŒ‰æ¯”ä¾‹ç¼©å°å›¾åƒ" class="headerlink" title="æŒ‰æ¯”ä¾‹ç¼©å°å›¾åƒ"></a>æŒ‰æ¯”ä¾‹ç¼©å°å›¾åƒ</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">gifsicle input.gif --scale 0.5 -o output.gif</span><br></pre></td></tr></table></figure>

<p>å‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li><code>--scale</code>  å°†å›¾åƒçš„å®½å’Œé«˜ç¼©å°ä¸ºåŸæ¥çš„ 0.5 å€</li>
</ul>
<h5 id="ç¼©å°å›¾åƒå°ºå¯¸"><a href="#ç¼©å°å›¾åƒå°ºå¯¸" class="headerlink" title="ç¼©å°å›¾åƒå°ºå¯¸"></a>ç¼©å°å›¾åƒå°ºå¯¸</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">gifsicle input.gif --resize 300x200 -o output.gif</span><br></pre></td></tr></table></figure>



<p>å‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li><code>--resize[width x height]</code>   å°†è¾“å‡º GIF çš„å¤§å°è°ƒæ•´ä¸ºç»™å®šçš„å®½åº¦å’Œé«˜åº¦ã€‚</li>
</ul>
<h5 id="å‡å°‘å›¾ç‰‡é¢œè‰²"><a href="#å‡å°‘å›¾ç‰‡é¢œè‰²" class="headerlink" title="å‡å°‘å›¾ç‰‡é¢œè‰²"></a>å‡å°‘å›¾ç‰‡é¢œè‰²</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">gitsicle -O3 input.gif -o output.gif --colors 256</span><br></pre></td></tr></table></figure>

<p>å‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li><code>-k [num](--colors [num])</code>   å°†è¾“å‡ºgifçš„é¢œè‰²æ•°é‡å‡å°‘åˆ° <code>num</code> ã€‚<code>num</code> çš„å–å€¼ä¸º <code>2</code>  åˆ° <code>256</code>  ä¹‹é—´ã€‚ <code>num</code>  è¶Šå°ï¼Œå›¾ç‰‡è´¨é‡æŸå¤±è¶Šå¤§ã€‚</li>
</ul>
<h5 id="å…¶ä»–è®¾ç½®"><a href="#å…¶ä»–è®¾ç½®" class="headerlink" title="å…¶ä»–è®¾ç½®"></a>å…¶ä»–è®¾ç½®</h5><p>æ›´å¤šè®¾ç½®å¯ä»¥æŸ¥çœ‹å¸®åŠ©æˆ–è€…å®˜æ–¹æ–‡æ¡£</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">gitsicle -h</span><br></pre></td></tr></table></figure>



<ul>
<li>Gifsicleæ–‡æ¡£ <a href="https://www.lcdf.org/gifsicle/man.html" target="_blank" rel="noopener">Gifsicle Man Page</a></li>
</ul>
<hr>
]]></content>
      <categories>
        <category>å·¥å…·æŠ€å·§</category>
      </categories>
      <tags>
        <tag>Tools</tag>
      </tags>
  </entry>
  <entry>
    <title>Flutterå¸¸è§æ•ˆæœå®ç°ä»£ç æ®µæ•´ç†</title>
    <url>/2021/02/28/flutter-commonly-used-code-snippets/</url>
    <content><![CDATA[<p>æ•´ç†å¼€å‘ä¸­å¸¸ç”¨åˆ°çš„ <code>Flutter</code> ä»£ç æ®µã€‚æ„Ÿè§‰æœ‰å¸®åŠ©çš„è¯ç»™ä¸ª <strong>æ”¯æŒ</strong>ã€‚</p>
<h3 id="Scaffoldç›¸å…³"><a href="#Scaffoldç›¸å…³" class="headerlink" title="Scaffoldç›¸å…³"></a>Scaffoldç›¸å…³</h3><h4 id="ç‚¹å‡»é¡µé¢ç©ºç™½å¤„æ”¶å›é”®ç›˜"><a href="#ç‚¹å‡»é¡µé¢ç©ºç™½å¤„æ”¶å›é”®ç›˜" class="headerlink" title="ç‚¹å‡»é¡µé¢ç©ºç™½å¤„æ”¶å›é”®ç›˜"></a>ç‚¹å‡»é¡µé¢ç©ºç™½å¤„æ”¶å›é”®ç›˜</h4><figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">Widget build(BuildContext context) &#123;</span><br><span class="line">  <span class="keyword">return</span> Scaffold(</span><br><span class="line">    body: GestureDetector(</span><br><span class="line">      onTap: () &#123;</span><br><span class="line">        <span class="comment">// æ”¶å›é”®ç›˜</span></span><br><span class="line">        FocusScope.of(context).requestFocus(FocusNode());</span><br><span class="line">      &#125;,</span><br><span class="line">    child: Container(</span><br><span class="line">      <span class="comment">// é˜²æ­¢ç‚¹å‡»ç©¿é€</span></span><br><span class="line">      color: Colors.transparent, </span><br><span class="line">      ),</span><br><span class="line">    ),</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="å»¶æ—¶æ‰§è¡Œ"><a href="#å»¶æ—¶æ‰§è¡Œ" class="headerlink" title="å»¶æ—¶æ‰§è¡Œ"></a>å»¶æ—¶æ‰§è¡Œ</h4><figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å»¶æ—¶1sæ‰§è¡Œè¿”å›</span></span><br><span class="line">Future.delayed(<span class="built_in">Duration</span>(seconds: <span class="number">1</span>), ()&#123;</span><br><span class="line">  Navigator.of(context).pop();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="Containerç›¸å…³"><a href="#Containerç›¸å…³" class="headerlink" title="Containerç›¸å…³"></a>Containerç›¸å…³</h3><h4 id="Containerè®¾ç½®é˜´å½±"><a href="#Containerè®¾ç½®é˜´å½±" class="headerlink" title="Containerè®¾ç½®é˜´å½±"></a>Containerè®¾ç½®é˜´å½±</h4><p>é€šè¿‡ <code>BoxShadow</code> å®ç°ï¼š</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">Container(</span><br><span class="line">  decoration: BoxDecoration(</span><br><span class="line">    <span class="comment">// é˜´å½±</span></span><br><span class="line">    boxShadow: [</span><br><span class="line">      BoxShadow(</span><br><span class="line">        offset: Offset(<span class="number">0</span>, <span class="number">1</span>),</span><br><span class="line">        blurRadius: <span class="number">6</span>,</span><br><span class="line">        spreadRadius: <span class="number">0</span>,</span><br><span class="line">        color: Color(<span class="number">0xFFEEEEEE</span>),</span><br><span class="line">      )</span><br><span class="line">    ],</span><br><span class="line">  ),</span><br><span class="line">),</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Containerå®ç°çº¿æ€§æ¸å˜"><a href="#Containerå®ç°çº¿æ€§æ¸å˜" class="headerlink" title="Containerå®ç°çº¿æ€§æ¸å˜"></a>Containerå®ç°çº¿æ€§æ¸å˜</h4><p>é€šè¿‡ <code>LinearGradient</code> å®ç°ï¼š</p>
<p>ç¤ºä¾‹ä¸€ï¼š</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">Container(</span><br><span class="line">  decoration: BoxDecoration(</span><br><span class="line">    gradient: LinearGradient(</span><br><span class="line">      begin: Alignment(<span class="number">0</span>, <span class="number">0.5</span>),</span><br><span class="line">      end: Alignment(<span class="number">0.5</span>, <span class="number">1</span>),</span><br><span class="line">      colors: [</span><br><span class="line">        Color(<span class="number">0xFFFA9914</span>),</span><br><span class="line">        Color(<span class="number">0x00EEEEEE</span>),</span><br><span class="line">      ],</span><br><span class="line">    ),</span><br><span class="line">  ),</span><br><span class="line">),</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹äºŒï¼š</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">Container(</span><br><span class="line">  width: <span class="number">200</span>,</span><br><span class="line">  height: <span class="number">200</span>,</span><br><span class="line">  decoration: BoxDecoration(</span><br><span class="line">    <span class="comment">// é»˜è®¤æ˜¯ä»å·¦å¾€å³çš„æ¸å˜</span></span><br><span class="line">    gradient: LinearGradient(</span><br><span class="line">      <span class="comment">// è®¾ç½®ä»ä¸Šå¾€ä¸‹çš„æ¸å˜</span></span><br><span class="line">      begin: Alignment.topCenter,</span><br><span class="line">      end: Alignment.bottomCenter,</span><br><span class="line">      <span class="comment">// æ¸å˜çš„è‰²å€¼æ•°ç»„</span></span><br><span class="line">      colors: [</span><br><span class="line">        Colors.red,</span><br><span class="line">        Colors.blue,</span><br><span class="line">      ],</span><br><span class="line">      <span class="comment">// é€šè¿‡ stops å±æ€§æ§åˆ¶æ¸å˜è‰²å¤§å°</span></span><br><span class="line">      stops: [</span><br><span class="line">        <span class="number">0.5</span>,</span><br><span class="line">        <span class="number">1</span>,</span><br><span class="line">      ],</span><br><span class="line">    ),</span><br><span class="line">  ),</span><br><span class="line">),</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Containerè®¾ç½®åœ†è§’"><a href="#Containerè®¾ç½®åœ†è§’" class="headerlink" title="Containerè®¾ç½®åœ†è§’"></a>Containerè®¾ç½®åœ†è§’</h4><p>é€šè¿‡ <code>borderRadius</code> å®ç°ï¼š</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">Container(</span><br><span class="line">  decoration: BoxDecoration(</span><br><span class="line">    borderRadius: BorderRadius.circular(<span class="number">4</span>),</span><br><span class="line">  ),</span><br><span class="line">),</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Containerè®¾ç½®æŒ‡å®šè§’ä¸ºåœ†è§’"><a href="#Containerè®¾ç½®æŒ‡å®šè§’ä¸ºåœ†è§’" class="headerlink" title="Containerè®¾ç½®æŒ‡å®šè§’ä¸ºåœ†è§’"></a>Containerè®¾ç½®æŒ‡å®šè§’ä¸ºåœ†è§’</h4><p>é€šè¿‡ <code>BorderRadius.only</code> å®ç°ï¼š</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">Container(</span><br><span class="line">  decoration: BoxDecoration(</span><br><span class="line">    borderRadius: BorderRadius.only(</span><br><span class="line">      topLeft: Radius.circular(<span class="number">5</span>),</span><br><span class="line">      bottomLeft: Radius.circular(<span class="number">5</span>),</span><br><span class="line">    ),</span><br><span class="line">  ),</span><br><span class="line">),</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="å…¶ä»–ç»„ä»¶"><a href="#å…¶ä»–ç»„ä»¶" class="headerlink" title="å…¶ä»–ç»„ä»¶"></a>å…¶ä»–ç»„ä»¶</h4><h4 id="è¿›å…¥é¡µé¢åè¾“å…¥æ¡†è·å–ç„¦ç‚¹ï¼Œé”®ç›˜è‡ªåŠ¨å¼¹å‡º"><a href="#è¿›å…¥é¡µé¢åè¾“å…¥æ¡†è·å–ç„¦ç‚¹ï¼Œé”®ç›˜è‡ªåŠ¨å¼¹å‡º" class="headerlink" title="è¿›å…¥é¡µé¢åè¾“å…¥æ¡†è·å–ç„¦ç‚¹ï¼Œé”®ç›˜è‡ªåŠ¨å¼¹å‡º"></a>è¿›å…¥é¡µé¢åè¾“å…¥æ¡†è·å–ç„¦ç‚¹ï¼Œé”®ç›˜è‡ªåŠ¨å¼¹å‡º</h4><figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">TextField(</span><br><span class="line">    ...</span><br><span class="line">    <span class="comment">// é”®ç›˜è‡ªåŠ¨å¼¹å‡º</span></span><br><span class="line">    autofocus: <span class="keyword">true</span>,</span><br><span class="line">),</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>æœªå®Œå¾…ç»­~</strong></p>
]]></content>
      <categories>
        <category>Flutterä¹‹æ—…</category>
      </categories>
      <tags>
        <tag>Flutter</tag>
      </tags>
  </entry>
  <entry>
    <title>æé«˜Githubå›½å†…è®¿é—®é€Ÿåº¦</title>
    <url>/2021/02/27/github-so-faster/</url>
    <content><![CDATA[<p>æœ€è¿‘å‡ å¤©å‘ç°è®¿é—®Githubé€Ÿåº¦æœ‰ç‚¹æ…¢ï¼Œå¶å°”è¿˜ä¼šå‡ºç°ä¸‹é¢çš„æƒ…å†µã€‚ä½†æ˜¯é€šè¿‡æ‰‹æœºè®¿é—®æ˜¯æ­£å¸¸çš„ï¼Œçªç„¶é—´ååº”è¿‡æ¥å¯èƒ½æ˜¯DNSçš„é—®é¢˜ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210227174038.png" alt="20210227174038"></p>
<p>Githubåœ¨ä¸­å›½å¤§é™†è®¿é—®é€Ÿåº¦ç‰¹åˆ«æ…¢çš„åŸå› ï¼Œä¸»è¦è¿˜æ˜¯GitHubçš„åˆ†å‘åŠ é€Ÿç½‘ç»œçš„åŸŸåé­åˆ°DNSæ±¡æŸ“å¯¼è‡´çš„ã€‚</p>
<p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé€šè¿‡ä¿®æ”¹Hostsæ–‡ä»¶å°±èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å¦å¤–è¿˜å¯ä»¥ä½¿ç”¨ä»£ç†ï¼Œå½“ç„¶ï¼Œä½¿ç”¨ä»£ç†çš„æ–¹æ³•è¿™é‡Œæš‚ä¸”ä¸è¡¨ã€‚</p>
<h4 id="è·å–è¢«æ±¡æŸ“åŸŸåå®é™…ipåœ°å€"><a href="#è·å–è¢«æ±¡æŸ“åŸŸåå®é™…ipåœ°å€" class="headerlink" title="è·å–è¢«æ±¡æŸ“åŸŸåå®é™…ipåœ°å€"></a>è·å–è¢«æ±¡æŸ“åŸŸåå®é™…ipåœ°å€</h4><p>è¿™é‡Œæ¨èä½¿ç”¨ä¸‹é¢çš„æŸ¥è¯¢å·¥å…·æ¥è·å¾—è¿™äº›githubåŸŸåçš„ipåœ°å€</p>
<ul>
<li><a href="https://www.ipaddress.com/ip-lookup" target="_blank" rel="noopener">https://www.ipaddress.com/ip-lookup</a></li>
</ul>
<h4 id="ä¿®æ”¹ç³»ç»Ÿhostsæ–‡ä»¶"><a href="#ä¿®æ”¹ç³»ç»Ÿhostsæ–‡ä»¶" class="headerlink" title="ä¿®æ”¹ç³»ç»Ÿhostsæ–‡ä»¶"></a>ä¿®æ”¹ç³»ç»Ÿhostsæ–‡ä»¶</h4><p>æ‰“å¼€ <code>hosts</code> æ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ä»¥ä¸‹æ ¼å¼çš„å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">140.82.114.3 github.com</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæ¨èä½¿ç”¨ <code>SwitchHosts</code> è¿™ä¸ªå°å·¥å…·æ¥ç®¡ç†ç³»ç»Ÿçš„Hostsæ–‡ä»¶ã€‚</p>
<ul>
<li><a href="https://github.com/oldj/SwitchHosts/releases" target="_blank" rel="noopener">SwitchHosts release</a></li>
</ul>
<p>ä¹‹åï¼Œå¾…æœ¬æœºçš„DNSç¼“å­˜åˆ·æ–°ç”Ÿæ•ˆï¼Œå°±èƒ½äº«å—é«˜é€Ÿçš„Githubè®¿é—®äº†ã€‚</p>
<h4 id="éœ€è¦è·å–å“ªäº›åŸŸå"><a href="#éœ€è¦è·å–å“ªäº›åŸŸå" class="headerlink" title="éœ€è¦è·å–å“ªäº›åŸŸå"></a>éœ€è¦è·å–å“ªäº›åŸŸå</h4><p>ä¸è¿‡ï¼ŒGithubçš„åŸŸåé™¤äº†ä¸»åŸŸå <code>github.com</code> ä¹‹å¤–ï¼Œè¿˜æœ‰å¥½å¤šçš„äºŒçº§åŸŸåã€‚ä¾‹å¦‚æœ‰æ—¶å€™è™½ç„¶æˆ‘ä»¬èƒ½æ­£å¸¸çš„è®¿é—®githubä¸»é¡µæˆ–ä»“åº“é¡µé¢ï¼Œä½†ä¼šå‘ç°å¤´åƒåŠ è½½ä¸å‡ºæ¥ã€‚</p>
<p>è¿™é‡Œæˆ‘æ•´ç†äº†æˆ‘ä½¿ç”¨çš„Githubç›¸å…³çš„ <code>hosts</code> æ–‡ä»¶ï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># github</span><br><span class="line"></span><br><span class="line">140.82.114.3 github.com</span><br><span class="line">140.82.113.4 gist.github.com</span><br><span class="line">185.199.109.133 raw.github.com</span><br><span class="line">185.199.109.153 assets-cdn.github.com</span><br><span class="line"></span><br><span class="line">185.199.109.133 raw.githubusercontent.com</span><br><span class="line">185.199.109.133 gist.githubusercontent.com</span><br><span class="line">185.199.109.133 camo.githubusercontent.com</span><br><span class="line">185.199.109.133 cloud.githubusercontent.com</span><br><span class="line">185.199.109.133 avatars.githubusercontent.com</span><br><span class="line">185.199.109.133 avatars0.githubusercontent.com</span><br><span class="line">185.199.109.133 avatars1.githubusercontent.com</span><br><span class="line">185.199.109.133 avatars2.githubusercontent.com</span><br><span class="line">185.199.109.133 avatars3.githubusercontent.com</span><br><span class="line">185.199.109.133 avatars4.githubusercontent.com</span><br><span class="line">185.199.109.133 avatars5.githubusercontent.com</span><br><span class="line">185.199.109.133 avatars6.githubusercontent.com</span><br><span class="line">185.199.109.133 avatars7.githubusercontent.com</span><br><span class="line">185.199.109.133 avatars8.githubusercontent.com</span><br><span class="line"></span><br><span class="line">52.216.29.28 github-production-release-asset-2e65be.s3.amazonaws.com</span><br></pre></td></tr></table></figure>


<p>è¿™æ˜¯ç›®å‰æœ€æ–°çš„githubå¯ç”¨ipåœ°å€ã€‚</p>
<p>å¦‚æœä½ ä½¿ç”¨çš„æ—¶å€™å‘ç°è®¿é—®æ…¢ï¼Œå¯ä»¥ä¾ç…§ä¸Šé¢çš„æ“ä½œæ­¥éª¤æ›´æ–°è¿™äº›åœ°å€ã€‚</p>
]]></content>
      <categories>
        <category>Gitæ“ä½œç³»åˆ—</category>
      </categories>
      <tags>
        <tag>Github</tag>
      </tags>
  </entry>
  <entry>
    <title>Golangå›½å†…ä»£ç†é€‰å“ªä¸ª</title>
    <url>/2021/02/22/golang-proxy-choice/</url>
    <content><![CDATA[<p>ç›®å‰åœ¨å›½å†…ï¼Œæ¯”è¾ƒæœ‰åçš„golangä»£ç†æœ‰ä¸¤ä¸ªï¼š <code>goproxy.io</code> å’Œ <code>goproxy.cn</code> ã€‚</p>
<h4 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h4><p>æœ€è¿‘åœ¨å¼€å‘golangé¡¹ç›®è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡ <code>go get</code> å®‰è£…ä¾èµ–æ—¶æ€»ä¼šå‡ºç°æŠ¥é”™çš„æƒ…å†µã€‚</p>
<p>é”™è¯¯ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ go get -u github.com&#x2F;tidwall&#x2F;gjson</span><br><span class="line">go: downloading github.com&#x2F;tidwall&#x2F;gjson v1.6.8</span><br><span class="line">go get github.com&#x2F;tidwall&#x2F;gjson: github.com&#x2F;tidwall&#x2F;gjson@v1.6.8: Get &quot;https:&#x2F;&#x2F;proxy.golang.com.cn&#x2F;github.com&#x2F;tidwall&#x2F;gjson&#x2F;@v&#x2F;v1.6.8.zip&quot;: stopped after 10 redirects</span><br></pre></td></tr></table></figure>


<p>æˆ‘ä¸€ç›´ä½¿ç”¨çš„æ˜¯ <code>goproxy.io</code> è¿™ä¸ªå›½å†…ä»£ç†ã€‚</p>
<p>æŸ¥çœ‹ä¸€ä¸‹golangé…ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ go env</span><br><span class="line">GO111MODULE&#x3D;&quot;on&quot;</span><br><span class="line">GOARCH&#x3D;&quot;amd64&quot;</span><br><span class="line">GOHOSTOS&#x3D;&quot;darwin&quot;</span><br><span class="line">GOPROXY&#x3D;&quot;https:&#x2F;&#x2F;goproxy.io,direct&quot;</span><br><span class="line">GOROOT&#x3D;&quot;&#x2F;usr&#x2F;local&#x2F;go&quot;</span><br></pre></td></tr></table></figure>

<p>ä¸Šç½‘ä¸€æŸ¥æ‰å‘ç° <code>goproxy.io</code> å’Œ <code>goproxy.cn</code> å¹¶ä¸æ˜¯ä¸€å®¶ï¼Œä¹‹å‰ä¸€ç›´ä»¥ä¸ºæ˜¯åŒä¸€ä¸ªæœåŠ¡çš„ä¸¤ä¸ªä¸åŒåŸŸåã€‚</p>
<h4 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h4><p>é…ç½® <code>goproxy.cn</code> ä»£ç†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ export GO111MODULE&#x3D;on</span><br><span class="line"></span><br><span class="line">âœ export GOPROXY&#x3D;https:&#x2F;&#x2F;goproxy.cn,direct</span><br></pre></td></tr></table></figure>


<p>æŸ¥çœ‹é…ç½®ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ go env</span><br><span class="line">GO111MODULE&#x3D;&quot;on&quot;</span><br><span class="line">GOARCH&#x3D;&quot;amd64&quot;</span><br><span class="line">GOHOSTARCH&#x3D;&quot;amd64&quot;</span><br><span class="line">GOHOSTOS&#x3D;&quot;darwin&quot;</span><br><span class="line">GOOS&#x3D;&quot;darwin&quot;</span><br><span class="line">GOPROXY&#x3D;&quot;https:&#x2F;&#x2F;goproxy.cn,direct&quot;</span><br><span class="line">GOROOT&#x3D;&quot;&#x2F;usr&#x2F;local&#x2F;go&quot;</span><br></pre></td></tr></table></figure>


<p>æ‰§è¡Œ <code>go get</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ go get -u github.com&#x2F;tidwall&#x2F;gjson</span><br><span class="line">go: downloading github.com&#x2F;tidwall&#x2F;gjson v1.6.8</span><br><span class="line">go: github.com&#x2F;tidwall&#x2F;gjson upgrade &#x3D;&gt; v1.6.8</span><br><span class="line">go: downloading github.com&#x2F;tidwall&#x2F;match v1.0.3</span><br><span class="line">go: downloading github.com&#x2F;tidwall&#x2F;pretty v1.0.2</span><br><span class="line">go: github.com&#x2F;tidwall&#x2F;pretty upgrade &#x3D;&gt; v1.0.5</span><br><span class="line">go: downloading github.com&#x2F;tidwall&#x2F;pretty v1.0.5</span><br></pre></td></tr></table></figure>


<p>æ¢ç”¨ <code>goproxy.cn</code> åï¼Œå‘ç° <code>go get</code> å‘½ä»¤å·²ç»æ²¡æœ‰é—®é¢˜äº†ã€‚</p>
<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>Golangä»£ç†å°±ç”¨ <code>goproxy.cn</code> ã€‚</p>
<p><code>goproxy.cn</code> ç°åœ¨æ˜¯éƒ¨ç½²åœ¨ä¸ƒç‰›äº‘ä¸Šï¼Œæ‰€ä»¥ç¨³å®šæ€§è¿˜æ˜¯å¾ˆæœ‰ä¿è¯çš„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ export GO111MODULE&#x3D;on</span><br><span class="line">$ export GOPROXY&#x3D;https:&#x2F;&#x2F;goproxy.cn,direct</span><br></pre></td></tr></table></figure>

<p>Go 1.13 ä»¥åç‰ˆæœ¬</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ go env -w GO111MODULE&#x3D;on</span><br><span class="line">$ go env -w GOPROXY&#x3D;https:&#x2F;&#x2F;goproxy.cn,direct</span><br></pre></td></tr></table></figure>


<h4 id="ç›¸å…³"><a href="#ç›¸å…³" class="headerlink" title="ç›¸å…³"></a>ç›¸å…³</h4><ul>
<li><a href="https://goproxy.io/zh/docs/getting-started.html" target="_blank" rel="noopener">goproxy.io å¿«é€Ÿä¸Šæ‰‹</a></li>
<li><a href="https://goproxy.cn/" target="_blank" rel="noopener">Goproxy.cn China</a></li>
<li><a href="https://github.com/goproxy/goproxy.cn/issues/61" target="_blank" rel="noopener">é—®é¢˜ï¼šgoproxy.io å’Œ goproxy.cn æ˜¯ä»€ä¹ˆå…³ç³»</a></li>
</ul>
]]></content>
      <categories>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>Golang</tag>
      </tags>
  </entry>
  <entry>
    <title>IOSè‹¹æ–¹å­—ä½“çš„å­—é‡å’ŒFontWeightå€¼çš„å¯¹åº”å…³ç³»</title>
    <url>/2020/12/23/pingfangsc-and-flutter-fontweight/</url>
    <content><![CDATA[<h4 id="ç–‘é—®"><a href="#ç–‘é—®" class="headerlink" title="ç–‘é—®"></a>ç–‘é—®</h4><p>åœ¨ç”¨ <code>Flutter</code> åšç§»åŠ¨ç«¯å¼€å‘æ—¶ï¼Œåœ¨è“æ¹–ä¸Šçœ‹åˆ°å­—ä½“çš„å±æ€§ä¸ºï¼š</p>
<blockquote>
<p>å­—ä½“ï¼š  è‹¹æ–¹-ç®€ ç»†ä½“<br>å­—é‡ï¼š  Light</p>
</blockquote>
<p>é‚£ä¹ˆï¼Œè¿™ä¸ª <code>ç»†ä½“ Light</code> å¯¹åº”çš„ <code>FontWeight</code> åˆ°åº•æ˜¯å¤šå°‘å‘¢ï¼Ÿ</p>
<h4 id="è§£ç­”"><a href="#è§£ç­”" class="headerlink" title="è§£ç­”"></a>è§£ç­”</h4><p>ç›®å‰ iOS ç³»ç»Ÿä¸­ <code>è‹¹æ–¹-ç®€</code> å­—ä½“åŒ…å«å…­ç§å­—é‡ï¼š</p>
<p><code>Ultralight</code>ã€<code>Thin</code>ã€<code>Light</code>ã€<code>Regular</code>ã€<code>Medium</code>ã€<code>Semibold</code></p>
<p>å’Œ <code>Flutter</code> ä¸­çš„ <code>FontWeightå€¼</code> å¯¹åº”å…³ç³»å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>ä¸­æ–‡</th>
<th>è‹±æ–‡</th>
<th>FontWeightå€¼</th>
</tr>
</thead>
<tbody><tr>
<td>è‹¹æ–¹-ç®€ æç»†ä½“</td>
<td>PingFangSC-Ultralight</td>
<td><code>w100</code></td>
</tr>
<tr>
<td>è‹¹æ–¹-ç®€ çº¤ç»†ä½“</td>
<td>PingFangSC-Thin</td>
<td><code>w200</code></td>
</tr>
<tr>
<td>è‹¹æ–¹-ç®€ ç»†ä½“</td>
<td>PingFangSC-Light</td>
<td><code>w300</code></td>
</tr>
<tr>
<td>è‹¹æ–¹-ç®€ å¸¸è§„ä½“</td>
<td>PingFangSC-Regular</td>
<td><code>w400</code> or <code>normal</code></td>
</tr>
<tr>
<td>è‹¹æ–¹-ç®€ ä¸­é»‘ä½“</td>
<td>PingFangSC-Medium</td>
<td><code>w500</code></td>
</tr>
<tr>
<td>è‹¹æ–¹-ç®€ ä¸­ç²—ä½“</td>
<td>PingFangSC-Semibold</td>
<td><code>w600</code></td>
</tr>
</tbody></table>
<h4 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h4><p>éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼š<code>Flutter</code> ä¸­ <code>FontWeight.bold</code> å¯¹åº”çš„å€¼æ˜¯ <code>w700</code> ã€‚</p>
<p>æˆ‘åœ¨ä¹‹å‰çš„å¼€å‘ä¸­ï¼Œçœ‹åˆ°è“æ¹–ä¸­æ ‡æ³¨ä¸º <code>è‹¹æ–¹-ç®€ ä¸­é»‘ä½“ Medium</code> çš„å­—ä½“å°±ä¼šè®¾ç½®ä¸º <code>fontWeight: FontWeight.bold,</code> åæ¥æ‰å‘ç°ä¸€ç›´è®¾ç½®çš„éƒ½æ˜¯é”™çš„ã€‚</p>
]]></content>
      <categories>
        <category>Flutterä¹‹æ—…</category>
      </categories>
      <tags>
        <tag>Flutter</tag>
      </tags>
  </entry>
  <entry>
    <title>Dockerä¸­æ‰¹é‡åˆ é™¤tagä¸ºnoneçš„é•œåƒ</title>
    <url>/2020/12/18/remove-docker-tag-none-images/</url>
    <content><![CDATA[<p>å½“ä½¿ç”¨Dockerè¿›è¡Œå¤šé˜¶æ®µæ„å»ºæˆ–è€…æ›´æ–°é•œåƒç‰ˆæœ¬åï¼ŒæŸ¥çœ‹æ‰€æœ‰é•œåƒä¼šå‘ç°äº§ç”Ÿä¸€äº›tagä¸º <code>none</code> çš„æ— ç”¨é•œåƒï¼Œè¿™äº›é•œåƒè¢«ç§°ä¸ºæ‚¬æŒ‚é•œåƒï¼ˆ<code>dangling image</code>ï¼‰ã€‚</p>
<h4 id="æŸ¥çœ‹æ‰€æœ‰é•œåƒ"><a href="#æŸ¥çœ‹æ‰€æœ‰é•œåƒ" class="headerlink" title="æŸ¥çœ‹æ‰€æœ‰é•œåƒ"></a>æŸ¥çœ‹æ‰€æœ‰é•œåƒ</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure>

<h4 id="æŸ¥çœ‹æ‰€æœ‰æ ‡è®°ä¸º-none-çš„é•œåƒ"><a href="#æŸ¥çœ‹æ‰€æœ‰æ ‡è®°ä¸º-none-çš„é•œåƒ" class="headerlink" title="æŸ¥çœ‹æ‰€æœ‰æ ‡è®°ä¸º none çš„é•œåƒ"></a>æŸ¥çœ‹æ‰€æœ‰æ ‡è®°ä¸º <code>none</code> çš„é•œåƒ</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">docker images -f &quot;dangling&#x3D;true&quot;</span><br></pre></td></tr></table></figure>


<h4 id="ç§»é™¤æ‰€æœ‰æ ‡è®°ä¸º-none-çš„é•œåƒ"><a href="#ç§»é™¤æ‰€æœ‰æ ‡è®°ä¸º-none-çš„é•œåƒ" class="headerlink" title="ç§»é™¤æ‰€æœ‰æ ‡è®°ä¸º none çš„é•œåƒ"></a>ç§»é™¤æ‰€æœ‰æ ‡è®°ä¸º <code>none</code> çš„é•œåƒ</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">docker rmi $(docker images -f &quot;dangling&#x3D;true&quot; -q)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Dockerå®¹å™¨æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»€ä¹ˆæ‰æ˜¯é«˜æƒ…å•†çš„è¡¨ç°</title>
    <url>/2020/12/03/what-is-the-expression-of-high-eq/</url>
    <content><![CDATA[<blockquote>
<p>å’Œåˆ«äººä¸€èµ·è°ˆè®ºæ—¶ï¼Œä¸è¦éšæ„æ’å˜´ï¼Œä¸€å®šè¦ç­‰åˆ«äººæŠŠè¯è¯´å®Œï¼Œè‡ªå·±å†å‘è¡¨çœ‹æ³•ï¼Œè¿™æ ·åˆ«äººä¼šè§‰å¾—ä½ å¾ˆæœ‰ç¤¼è²Œï¼Œä¼šå€¾å‘äºç†è§£ä½ çš„è§‚ç‚¹ã€‚</p>
</blockquote>
<blockquote>
<p>èŠå¤©ä¸è¯´ã€Œåœ¨å—ã€ï¼Œæœ‰æ—¶å¼€é—¨è§å±±ï¼Œå°‘äº†æ‰€è°“çš„ç¤¼èŠ‚ï¼Œæ²Ÿé€šæ•ˆç‡å¤§å¹…æå‡ã€‚</p>
</blockquote>
<blockquote>
<p>å¬æ‡‚åˆ«äººçš„å®¢å¥—è¯ã€‚</p>
<p>å¶ç„¶çš„åœºåˆé‡åˆ°ç†Ÿäººï¼Œè¯´è¯·å®¢åƒé¥­çš„å¤šåŠæ˜¯å®¢å¥—è¯ï¼Œåˆ«å½“çœŸã€‚</p>
</blockquote>
<blockquote>
<p>å³ä½¿æ˜¯ç©¿åŒä¸€æ¡è£¤å­é•¿å¤§çš„ï¼Œå»ä¸²é—¨ä¹Ÿè¦æä¸Šç‚¹ä¸œè¥¿ã€‚åˆ«äººè¯´ä½ è§å¤–æ˜¯å®¢å¥—ï¼Œä½ å¸¦ä¸œè¥¿æ˜¯ç¤¼èŠ‚ï¼Œåˆèµ·æ¥å°±å«äººæƒ…ä¸–æ•…ã€‚</p>
</blockquote>
<blockquote>
<p>ç”Ÿæ°”çš„æ—¶å€™ä¸è¦åšä»»ä½•å†³ç­–ï¼Œäººæ„¤æ€’çš„æ—¶å€™æ™ºå•†ä¸ºé›¶ã€‚</p>
</blockquote>
<blockquote>
<p>åˆ«äººè·Ÿè‡ªå·±è®²è¯ï¼Œçœ¼ç›è¦æ³¨è§†ç€å¯¹æ–¹ï¼Œè¿™æ˜¯å°Šé‡å¯¹æ–¹çš„è¡¨ç°ï¼Œä¹Ÿä¼šæå‡åˆ«äººå¯¹è‡ªå·±çš„å¥½æ„Ÿã€‚</p>
</blockquote>
<blockquote>
<p>åœ¨å¤‡å¿˜å½•é‡Œï¼Œå°†å¥½æœ‹å‹çš„ç”Ÿæ—¥è®°å½•ä¸‹æ¥ï¼Œå¹¶è®¾ç½®æé†’ã€‚ä¸ç”¨è¿½æ±‚é€å‡ºä»€ä¹ˆå¤§ç¤¼ï¼Œåªè¦åœ¨é‚£ä¸€å¤©ç»™ä»–é€ä¸Šç¥ç¦ï¼Œå¯¹æ–¹å°±ä¼šå¾ˆå¼€å¿ƒã€‚å› ä¸ºç”Ÿæ—¥è¢«åˆ«äººè®°ä½æ˜¯ä¸€ä»¶å¾ˆæ¸©æš–çš„äº‹æƒ…ã€‚</p>
</blockquote>
<blockquote>
<p>äº‹æˆå‰ä¸å£°å¼ ï¼Œè¯ä¸è¯´å¤ªæ»¡ã€‚è¿™æ ·æˆåŠŸäº†ä¼šè®©äººçœ¼å‰ä¸€äº®ï¼Œå¤±è´¥äº†ä¹Ÿä¸ä¼šå•ªå•ªæ‰“è„¸ã€‚</p>
</blockquote>
<blockquote>
<p>æ”¶åˆ°å›å¤æ˜¯æˆå¹´äººçš„ç¤¾äº¤ç¬¬ä¸€è¯¾ã€‚</p>
<p>æ”¶åˆ°ä¿¡æ¯ç¬¬ä¸€æ—¶é—´å…ˆå›å¤ï¼Œå¦‚æœåœ¨å¿™æˆ–è€…ä¸æƒ³èŠï¼Œå¯ä»¥å…ˆè¯´æœ‰äº‹ï¼Œç¨åå†èŠï¼Œè¿™æ ·ä¸‹ä¸€æ¬¡èŠå¤©æ—¶æ‰ä¸ä¼šå°´å°¬å’Œéš¾å ªã€‚</p>
</blockquote>
<blockquote>
<p>é€šçŸ¥æ¶ˆæ¯ï¼Œæœ€å¥½æŠ¥å–œåˆæŠ¥å¿§ã€‚æ¯”å¦‚ä½ ä¹°äº†ä¸€å¥—æˆ¿å­ï¼Œé€šçŸ¥æœ‹å‹ï¼Œå¯èƒ½ä»–ä»¬ä¼šè¢«åˆºæ¿€åˆ°è§‰å¾—éš¾å—ï¼Œä½†ä½ å†è¯´ä¸€å¥ï¼Œè´·æ¬¾ä¹°çš„ï¼Œæ¬ äº†å‡ ç™¾ä¸‡ï¼Œä»–ä»¬å°±ä¼šå¥½å—ä¸€äº›ã€‚</p>
<p>è¿‡å¾—æ¯”åˆ«äººå¥½çš„æ—¶å€™å‘¢ï¼Œè¯´è¯è¦å–œå¿§å‚åŠï¼Œä½ æ¯”ä»–ä»¬å¥½çš„é‚£éƒ¨åˆ†ï¼Œè¦ç”¨ä¸€åŠåäº‹æ¥å¹³è¡¡ï¼Œæ¯”å¦‚ä¹°äº†æˆ¿ï¼Œå°±è¦è¯´è¿˜è¦è¿˜è´·æ¬¾ï¼Œå¤ªç´¯äº†ï¼Œä½ å»å›½å¤–æ—…æ¸¸äº†ï¼Œå°±è¦åæ§½ä¸¤å¥å½“åœ°å¯¼æ¸¸å¤ªå‘äº†ã€‚</p>
</blockquote>
<blockquote>
<p>å»åšå®¢ä¸è¦ä¸¤æ‰‹ç©ºç©ºï¼Œå°±ç®—åªæ˜¯ç»™ä»–ä»¬ä¹°ç‚¹é›¶é£Ÿæ°´æœï¼Œä¹Ÿä¼šå¤§å¹…åº¦æå‡å¯¹æ–¹çš„å¥½æ„Ÿã€‚</p>
</blockquote>
<blockquote>
<p>è¿åŠ¨å¥èº«ã€æ—©ç¡æ—©èµ·ã€ä¸‰é¤è§„å¾‹ã€å¤šè¯»å¥½ä¹¦ï¼Œå¦‚æœä½ çœŸçš„æƒ³ä¸æ˜ç™½è‡ªå·±è¦ä»€ä¹ˆï¼Œåšè¿™äº›æ°¸è¿œä¸ä¼šé”™ã€‚</p>
</blockquote>
<blockquote>
<p>å’Œå®¶äººèšåœ¨ä¸€èµ·æ—¶ï¼Œçœ¼é‡Œä¸è¦åªæœ‰æ‰‹æœºã€‚æŠ¬å¤´çœ‹çœ‹ï¼Œä½ è¯´ä¸å®šå°±èƒ½çœ‹åˆ°ä»–ä»¬çœ¼ä¸­çš„æ¬²è¨€åˆæ­¢å’Œå¤±è½ã€‚</p>
</blockquote>
<blockquote>
<p>åŠæ—¶è®°ä¸‹é—ªç°çš„çµæ„Ÿã€‚æ— è®ºæ˜¯ç”µå­è¿˜æ˜¯çº¸è´¨ï¼Œä½ ä»¥ä¸ºä½ è¿‡ç›®ä¸å¿˜ï¼Œä½ çš„å¤§è„‘æ˜¯èµ„æºåº“ä¹ˆï¼Œå°†æ¯æ—¥çµæ„Ÿæ—¥ç§¯æœˆç´¯è®°ä¸‹æ¥å‡†æ²¡é”™ã€‚</p>
</blockquote>
<blockquote>
<p>ä¸è¦ç†¬å¤œï¼ä¸è¦ç†¬å¤œï¼ï¼ä¸è¦ç†¬å¤œï¼ï¼ï¼</p>
</blockquote>
<blockquote>
<p>å…»æˆæ¯å¤©é˜…è¯»çš„ä¹ æƒ¯ã€‚è¯»ä¹¦è¶Šå¤šï¼Œå°±è¶ŠçŸ¥é“è‡ªå·±æœ€ç¼ºä»€ä¹ˆå’Œæœ€æƒ³è¦ä»€ä¹ˆã€‚</p>
</blockquote>
<blockquote>
<p>ä¸“æ³¨é«˜æ•ˆåœ°åªåšä¸€ä»¶äº‹ï¼Œä½ ä¼šå‘ç°ä½ ä¸æ­¢åšæˆäº†ä¸€ä»¶äº‹ã€‚</p>
</blockquote>
<blockquote>
<p>æœ‹å‹åœˆçœ‹äººè¦åç€çœ‹ï¼Œä½ èƒ½çœ‹åˆ°çš„å†…å®¹ï¼Œéƒ½åªæ˜¯å¯¹æ–¹æƒ³è®©ä½ çœ‹åˆ°çš„ï¼Œè€Œä¸æƒ³è®©ä½ çœ‹åˆ°çš„éƒ¨åˆ†ï¼Œæ‰æ˜¯æœ€çœŸå®çš„ä»–ã€‚</p>
</blockquote>
<blockquote>
<p>æ”¹å¤©å§ï¼Œå…¶å®å°±æ˜¯ç®—äº†å§çš„æ„æ€ã€‚</p>
</blockquote>
<blockquote>
<p>æƒ…ä¾£ä¹‹é—´è§‰å¾—æ— èŠçš„æ—¶å€™ï¼Œå¯ä»¥å¤šå»ä½“éªŒä¸€äº›æ–°çš„äº‹ç‰©ã€‚</p>
</blockquote>
<blockquote>
<p>ä½ å¯¹åˆ«äººçš„å¥½ï¼Œè¶Šæ²¡æœ‰åº•çº¿ï¼Œä½ çš„ä»˜å‡ºå°±è¶Šå»‰ä»·ã€‚</p>
</blockquote>
<blockquote>
<p>åœ¨é¥­æ¡Œä¸Šä¸è¦åŠåˆ«äººï¼Œæ¯”å¦‚ï¼Œæ‰åƒäº†è¿™ä¹ˆç‚¹å°±é¥±äº†ï¼Ÿå†åƒç‚¹å§ï¼Œæˆ‘å»ç»™ä½ ç››ï¼Œå¯èƒ½ä½ è§‰å¾—å¯¹æ–¹æ˜¯æ‹˜è°¨ï¼Œæ²¡å‡†å…¶å®æ˜¯é¥­èœä¸åˆå£ï¼Œåˆæ¯”å¦‚ï¼Œå“å‘€ï¼Œæˆ‘ç»™ä½ è¯´ï¼Œè¿™ä¸ªèœå¯å¥½åƒäº†ï¼Œä½ ä¸€å®šå¾—å°å°ï¼Œå¯èƒ½ä½ è§‰å¾—æ˜¯å±±çæµ·å‘³ï¼Œåœ¨åˆ«äººåƒèµ·æ¥å°±å¾ˆä¸€èˆ¬ï¼Œæœ‰æ—¶å€™ä¸€ä¸ªäººå¤ªè¿‡çƒ­æƒ…ï¼Œä¼šè®©å¯¹æ–¹è§‰å¾—ä¸èˆ’æœã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>äººç”Ÿéšæ„Ÿ</category>
      </categories>
      <tags>
        <tag>äººç”Ÿæ„Ÿæ‚Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>æˆ‘å°±æƒ³åšä¸ªå…¥èŒä½“æ£€ï¼Œæ€ä¹ˆå°±è¿™ä¹ˆéš¾å‘¢</title>
    <url>/2020/07/13/ruzhi-tijian/</url>
    <content><![CDATA[<p>7æœˆ10å·ï¼Œå‘¨äº”ï¼Œæ‰“ç®—å»åŒ—äº¬çš„ä¸‰ç”²åŒ»é™¢åšä¸ªå…¥èŒä½“æ£€ã€‚</p>
<h4 id="é­é‡"><a href="#é­é‡" class="headerlink" title="é­é‡"></a>é­é‡</h4><p>åœ¨åœ°å›¾ä¸Šæ‰¾åˆ°äº†å›é¾™è§‚é™„è¿‘çš„ä¸€å®¶ä¸‰ç”²åŒ»é™¢ï¼Œæ‚²å‚¬çš„æˆ‘åˆ°äº†é‚£é‡Œå´è¢«å‘ŠçŸ¥éœ€è¦é€šè¿‡114æå‰é¢„çº¦ï¼Œå‡­é¢„çº¦å·å’Œå¥åº·å®æ‰å¯ä»¥è¿›å…¥ã€‚</p>
<p>æ‰æƒ³èµ·æ¥ä¸Šä¸€æ¬¡å»åŒ—äº¬çš„ä¸‰ç”²åŒ»é™¢å¥½åƒå·²ç»æ˜¯ä¸‰å¹´å‰çš„æ—¶å€™äº†ã€‚ç°åœ¨éƒ½éœ€è¦æå‰ç½‘ä¸Šé¢„çº¦æ‰è¡Œã€‚</p>
<p>ç„¶åï¼Œæ‰“114å®¢æœè¿›è¡Œé¢„çº¦ã€‚é¦–å…ˆéœ€è¦æä¾›ä¸ªäººä¿¡æ¯å®åæ³¨å†Œã€‚</p>
<p>é—®äº†ä¸€ä¸‹æ‰€åœ¨çš„è¿™å®¶åŒ»é™¢ï¼Œå…¥èŒä½“æ£€çš„é¢„çº¦å·åªæœ‰ä¸‹å‘¨äº”çš„å¯ä»¥çº¦ï¼Œä¸‹å‘¨å…­çš„å·è¿˜æ²¡æ”¾ã€‚æˆ‘è€ƒè™‘ç€åˆšä¸Šç­å°±è¯·å‡ä¼¼ä¹ä¸å¤ªå¥½ï¼Œæœ€åå†³å®šè¿˜æ˜¯æ¢å®¶åŒ»é™¢å§ã€‚</p>
<p>ç„¶åï¼Œæˆ‘è¯´äº†é™„è¿‘çš„å¦å¤–ä¸€å®¶ä¸‰ç”²åŒ»é™¢ï¼Œ114çš„å®¢æœè¯´è¿™å®¶åŒ»é™¢æ²¡æœ‰ä½“æ£€ç§‘ï¼Œä¸èƒ½é¢„çº¦ã€‚å€’æ˜¯å¯ä»¥ç»™ä½ æä¾›åŒ»é™¢çš„ç”µè¯ä½ è‡ªå·±å’¨è¯¢ã€‚</p>
<p>å“ï¼Œæœ€ååªå¾—ä½œç½¢ã€‚</p>
<p>åœ¨å›å»çš„è·¯ä¸Šï¼Œè·Ÿæœ‹å‹èŠå¤©è¯´èµ·ä»Šå¤©çš„é­é‡ï¼Œè¿˜çœŸæœ‰ç§ â€œèµ·ä¸ªå¤§æ—©ï¼Œèµ¶äº†ä¸ªæ™šé›†â€ çš„æ— å¥ˆï¼Œæ²¡æƒ³åˆ°å´å¡åœ¨ä¸€ä¸ªé¢„çº¦å·ä¸Šã€‚</p>
<hr>
<h4 id="ä½“æ£€ä¸­å¿ƒ"><a href="#ä½“æ£€ä¸­å¿ƒ" class="headerlink" title="ä½“æ£€ä¸­å¿ƒ"></a>ä½“æ£€ä¸­å¿ƒ</h4><p>èŠ±äº†ç‚¹æ—¶é—´ï¼Œæ•´ç†äº†ä¸€ä¸‹æˆ‘äº†è§£åˆ°çš„å‡ å®¶åŒ»é™¢çš„ä½“æ£€é¢„çº¦åŠç›¸å…³ä¿¡æ¯ã€‚</p>
<h5 id="åŒ—äº¬å¸‚æµ·æ·€åŒ»é™¢"><a href="#åŒ—äº¬å¸‚æµ·æ·€åŒ»é™¢" class="headerlink" title="åŒ—äº¬å¸‚æµ·æ·€åŒ»é™¢"></a>åŒ—äº¬å¸‚æµ·æ·€åŒ»é™¢</h5><p>åŒ—äº¬å¸‚æµ·æ·€åŒ»é™¢ï¼ˆåŒ—äº¬å¤§å­¦ç¬¬ä¸‰åŒ»é™¢æµ·æ·€é™¢åŒºï¼‰ å¥åº·ç®¡ç†ä¸­å¿ƒ</p>
<p>åœ°å€ï¼šåŒ—äº¬å¸‚æµ·æ·€åŒºä¸­å…³æ‘å¤§è¡—29å·</p>
<p>ä½“æ£€ä¸­å¿ƒç”µè¯ï¼š010-82693332</p>
<p>åœ¨ ã€Šæµ·æ·€åŒ»é™¢å¥åº·ç®¡ç†ä¸­å¿ƒã€‹ å¾®ä¿¡å°ç¨‹åº ä¸Šé€‰æ‹©ç›¸åº”çš„ä½“æ£€ç±»ç›®å³å¯ã€‚</p>
<p>æ£€æŸ¥æ—¶é—´å¯ä»¥åœ¨æäº¤é¢„çº¦ä¿¡æ¯æ—¶çœ‹åˆ°ï¼Œå‘¨ä¸€åˆ°å‘¨å…­å¯ä»¥æ£€æŸ¥ï¼Œå‘¨æ—¥ä¼‘æ¯ã€‚</p>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œæ„Ÿè§‰ä»·æ ¼ç•¥è´µã€‚</p>
<h5 id="åŒ—äº¬ç§¯æ°´æ½­åŒ»é™¢å›é¾™è§‚é™¢åŒº"><a href="#åŒ—äº¬ç§¯æ°´æ½­åŒ»é™¢å›é¾™è§‚é™¢åŒº" class="headerlink" title="åŒ—äº¬ç§¯æ°´æ½­åŒ»é™¢å›é¾™è§‚é™¢åŒº"></a>åŒ—äº¬ç§¯æ°´æ½­åŒ»é™¢å›é¾™è§‚é™¢åŒº</h5><p>åœ°å€ï¼šåŒ—äº¬å¸‚æ˜Œå¹³åŒºå›é¾™è§‚é¾™ç¦§äºŒè¡—é™„è¿‘</p>
<p>åœ¨ ã€Šäº¬åŒ»é€šã€‹ å¾®ä¿¡å…¬ä¼—å·ä¸Šç”³è¯·</p>
<p>é€‰æ‹© <code>ç¤¾åŒºåŒ»å­¦ç§‘</code> â€“ <code>ç¤¾åŒºåŒ»å­¦ç§‘é—¨è¯Šå›é¾™è§‚</code> â€“ <code>å¥åº·ç®¡ç†</code> å·æº ï¼ˆè¿™ä¸ªæ˜¯æˆ‘ç‰¹æ„å»äº†ä¸€è¶Ÿï¼Œå‘åŒ»é™¢çš„å’¨è¯¢å°çš„å¤§å¤«è¯¢é—®çš„ï¼‰</p>
<p>åªæœ‰å‘¨ä¸€åˆ°å‘¨äº”å¯ä»¥æ£€æŸ¥ã€‚</p>
<h5 id="åŒ—äº¬å¸‚æ˜Œå¹³åŒºä¸­è¥¿åŒ»ç»“åˆåŒ»é™¢"><a href="#åŒ—äº¬å¸‚æ˜Œå¹³åŒºä¸­è¥¿åŒ»ç»“åˆåŒ»é™¢" class="headerlink" title="åŒ—äº¬å¸‚æ˜Œå¹³åŒºä¸­è¥¿åŒ»ç»“åˆåŒ»é™¢"></a>åŒ—äº¬å¸‚æ˜Œå¹³åŒºä¸­è¥¿åŒ»ç»“åˆåŒ»é™¢</h5><p>åŒ—äº¬å¸‚æ˜Œå¹³åŒºä¸­è¥¿åŒ»ç»“åˆåŒ»é™¢ ä½“æ£€ä¸­å¿ƒç§‘å®¤</p>
<p>åœ°å€ï¼šåŒ—äº¬å¸‚æ˜Œå¹³åŒºé»„å¹³è·¯219å·</p>
<p>åœ¨ ã€ŠåŒ—äº¬114é¢„çº¦æŒ‚å·ã€‹ å¾®ä¿¡å…¬ä¼—å·ä¸Šé€‰æ‹© åº•éƒ¨èœå•<code>å°±åŒ»æœåŠ¡</code> â€“ <code>é¢„çº¦æŒ‚å·</code> â€“ æœç´¢â€œåŒ—äº¬å¸‚æ˜Œå¹³åŒºä¸­è¥¿åŒ»ç»“åˆåŒ»é™¢â€ â€“ ç§‘å®¤é€‰æ‹© <code>ä½“æ£€ä¸­å¿ƒ</code> â€“ <code>å…¥èŒä½“æ£€</code></p>
<p>ä¹Ÿå¯ä»¥æ‰“114é¢„çº¦</p>
<p>ç»è¿‡æˆ‘åœ¨å‘¨æœ«è¿™ä¸¤å¤©çš„è§‚å¯Ÿå‘ç°ï¼Œå¾ˆå¤§å¯èƒ½ä¸Šä¹Ÿæ˜¯åªæœ‰å‘¨ä¸€åˆ°å‘¨äº”å¯ä»¥æ£€æŸ¥ã€‚å› ä¸ºå‘¨å…­å’Œå‘¨æ—¥ä¸€ç›´æ˜¯æ˜¾ç¤ºâ€œæ— å·â€çš„çŠ¶æ€ã€‚</p>
<p>ä¾‹å¦‚å‘¨å…­çš„10:15å¼€å§‹æ”¾å·ï¼Œ10:16çš„æ—¶å€™æˆ‘åˆ·æ–°é¡µé¢ï¼Œå°±å·²ç»æ˜¾ç¤ºâ€œæ— å·â€äº†ã€‚</p>
<hr>
<h4 id="ä½“ä¼š"><a href="#ä½“ä¼š" class="headerlink" title="ä½“ä¼š"></a>ä½“ä¼š</h4><h5 id="æ€åº¦"><a href="#æ€åº¦" class="headerlink" title="æ€åº¦"></a>æ€åº¦</h5><p>114çš„å®¢æœäººå‘˜æ€åº¦å¾ˆå¥½ï¼Œå”¯ä¸€è®©æˆ‘æ„Ÿè§‰ä¸å¥½çš„ä¸€ç‚¹æ˜¯ä½ å¿…é¡»å‡†ç¡®çš„è¯´æ˜ä½ è¦æŒ‚å“ªä¸ªç§‘å®¤ï¼Œä»–ä»¬æ‰èƒ½å¸®ä½ æŒ‚å·ã€‚å¹¶ä¸åƒæ˜¯åŒ»é™¢çš„é‚£ç§å’¨è¯¢å°ä¸€æ ·ï¼Œä»–ä»¬ä¼šå¾ˆæ¸…æ¥šè¿™å®¶åŒ»é™¢çš„å…·ä½“ç§‘å®¤ï¼Œå³ä½¿ä½ è¯´çš„å¾ˆæ¨¡ç³Šä»–ä»¬ä¹Ÿä¼šå‡†ç¡®çš„å‘ŠçŸ¥ã€‚</p>
<p>ä½†114çš„å®¢æœäººå‘˜å¦‚æœä¸æ¸…æ¥šçš„è¯ï¼Œä¹Ÿä¼šç»™ä½ æä¾›è¿™å®¶åŒ»é™¢çš„ç”µè¯è®©ä½ è‡ªå·±å»å’¨è¯¢ï¼Œäº†è§£æ¸…æ¥šäº†ä¹‹åå†æ¥é‡æ–°æŒ‚å·ã€‚</p>
<p>åŒ»é™¢çš„å®¢æœäººå‘˜æ€åº¦å°±ä¸æ˜¯é‚£ä¹ˆå¥½äº†ã€‚æ¯”å¦‚æˆ‘æ˜¯åœ¨é«˜å¾·åœ°å›¾ä¸Šæœåˆ°äº†æµ·æ·€åŒ»é™¢çš„ç”µè¯ï¼Œæ¥å¬çš„åŒ»ç”Ÿæ€åº¦å¾ˆã€‚ã€‚ã€‚ï¼Œæˆ‘åªèƒ½è¯´ å“ç®—äº†ï¼Œç†è§£ä¸€ä¸‹å§ã€‚</p>
<h5 id="æå‰å‡†å¤‡"><a href="#æå‰å‡†å¤‡" class="headerlink" title="æå‰å‡†å¤‡"></a>æå‰å‡†å¤‡</h5><p>æ— è®ºæ˜¯114ï¼Œäº¬åŒ»é€šï¼Œè¿˜æ˜¯å¥åº·ç®¡ç†ä¸­å¿ƒå°ç¨‹åºæˆ–è€…è¿˜æœ‰å…¶ä»–çš„ï¼Œå…‰ä¸€ä¸ªå°å°çš„ä½“æ£€é¡¹ç›®å°±è¦åŒºåˆ†è¿™ä¹ˆå¤šé¢„çº¦å…¥å£ï¼Œæ›´åˆ«è¯´çœ‹ç—…äº†ã€‚</p>
<p>åŒ—äº¬çš„åŒ»é™¢æœ‰å¾ˆå¤šï¼Œå¦‚æœä½ æ˜¯å¾ˆä¹…æ²¡æœ‰å’ŒåŒ»é™¢æ‰“äº¤é“çš„è¯ï¼Œå…‰è¿™äº›å°±ä¼šæŠŠäººæå¾—å¤´æ˜çœ¼èŠ±çš„ã€‚å› ä¸ºæ¯ä¸ªåŒ»é™¢å’Œæ¯ä¸ªåŒ»é™¢éƒ½ä¸ä¸€æ ·ã€‚</p>
<p>åŒ—äº¬è¿™ä¹ˆå¤šåŒ»é™¢ï¼Œå±…ç„¶è¿ä¸€ä¸ªç»Ÿä¸€çš„æŒ‚å·å¹³å°éƒ½<del>æ²¡æœ‰</del>â€¦â€¦ï¼Œå¥½åƒ114ç®—æ˜¯åŒ—äº¬å¸‚çš„é¢„çº¦æŒ‚å·ç»Ÿä¸€å¹³å°ã€‚ä½†æœ‰ä¸€ç‚¹éœ€è¦æŒ‡å‡ºçš„æ˜¯ï¼Œæ¯”å¦‚è¯´ä¸Šé¢çš„æˆ‘æåˆ°çš„ â€œåŒ—äº¬ç§¯æ°´æ½­åŒ»é™¢å›é¾™è§‚é™¢åŒºâ€ æ˜¯æœ‰ä½“æ£€çš„é¡¹ç›®çš„ï¼Œä½†åœ¨114ç”µè¯é¢„çº¦æˆ–å¾®ä¿¡å…¬ä¼—å·ä¸Šä½ æ˜¯æ‰¾ä¸åˆ°ä½“æ£€ç§‘å®¤çš„ï¼Œå¦‚æœæ²¡æœ‰å¯¹åº”çš„ç§‘å®¤ï¼Œ114çš„å®¢æœäººå‘˜ä¹Ÿæ˜¯ä¸æ¸…æ¥šçš„ã€‚é™¤éä½ å‡†ç¡®çš„è¯´æ˜ä½ è¦æŒ‚å“ªä¸ªç§‘å®¤å®¢æœäººå‘˜æ‰ä¼šå¸®ä½ æŒ‚å·ã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘çš„å»ºè®®æ˜¯ï¼šæå‰åšå¥½å‡†å¤‡ï¼Œæå‰äº†è§£æ¸…æ¥šã€‚</p>
<p>å¦å¤–ï¼Œç”¨æˆ‘çš„äº²èº«å®è·µè¦å‘Šè¯‰ä½ çš„ï¼šä¸‰ç”²åŒ»é™¢éƒ½æ˜¯è¦æå‰é¢„çº¦çš„ã€‚</p>
<h5 id="æ„Ÿæ…¨"><a href="#æ„Ÿæ…¨" class="headerlink" title="æ„Ÿæ…¨"></a>æ„Ÿæ…¨</h5><p>æœ€åï¼Œè¿˜æ˜¯è¦æ„Ÿå¹ä¸€å¥ï¼šæœ‰å•¥åˆ«æœ‰ç—…ï¼Œå¹³æ—¶è¿˜æ˜¯è¦å¤šæ³¨æ„ï¼Œæ¯•ç«Ÿèº«ä½“æ˜¯é©å‘½çš„æœ¬é’±å˜›ã€‚ï¼ˆå½“ä½ çœ‹åˆ°åŒ»é™¢é—¨å£è¢«å µçš„æ°´æ³„ä¸é€šçš„æ—¶å€™ï¼Œä¸€å®šä¼šå¯¹è¿™å¥å·æœ‰æ›´æ·±çš„ç†è§£ï¼‰</p>
<p>è°æ›¾æƒ³è¿™å·²æ˜¯ä¸€ä¸ªè¿çœ‹ç—…éƒ½æ’ä¸ä¸Šå·çš„å¹´ä»£äº†ã€‚</p>
<p>ä»¥ä¸Šæ„Ÿå—å¯èƒ½æœ‰äº›ç‰‡é¢ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡æ­£ã€‚</p>
<p>æœ€åçš„æœ€åï¼Œæˆ‘åªå¥½é€‰æ‹©äº†ä½“æ£€æœºæ„ã€‚</p>
]]></content>
      <tags>
        <tag>äººåœ¨å¸éƒ½</tag>
      </tags>
  </entry>
  <entry>
    <title>FlutteréŸ³é¢‘å½•åˆ¶æ’ä»¶flutter_soundé…ç½®</title>
    <url>/2020/06/30/how-to-use-flutter-sound-plugin/</url>
    <content><![CDATA[<p>æœ€è¿‘åœ¨å¼€å‘çš„ä¸€ä¸ª Flutter App ä¸­éœ€è¦ç”¨åˆ°å½•éŸ³çš„åŠŸèƒ½ï¼Œç»è¿‡å¯¹å‡ æ¬¾æ’ä»¶çš„æ¯”è¾ƒï¼Œæœ€ç»ˆç¡®å®šäº†é‡‡ç”¨ <a href="https://pub.dev/packages/flutter_sound" target="_blank" rel="noopener">flutter_sound</a> è¿™æ¬¾æ’ä»¶æ¥å®ç°ã€‚Flutter Sound æ’ä»¶ä¸ºAndroidå’ŒiOSå¹³å°æä¾›äº†ç®€å•çš„è®°å½•å™¨å’Œæ’­æ”¾å™¨åŠŸèƒ½ã€‚</p>
<p><code>flutter_sound</code> æ’ä»¶ç›®å‰æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼š <code>v4.x.x</code> å’Œ <code>v5.x.x</code> ï¼Œæˆ‘ç›´æ¥ä½¿ç”¨çš„æ˜¯æœ€æ–°çš„ <code>v5.1.0</code> ã€‚</p>
<p>æœ‰å½•éŸ³å¿…ç„¶è¦æœ‰æ’­æ”¾ï¼Œæ’­æ”¾çš„çš„è¯æˆ‘å¹¶æ²¡æœ‰é€‰ç”¨ <code>flutter_sound</code> æ¥åŒæ—¶å®ç°ï¼Œè€Œæ˜¯é‡‡ç”¨é‡Œå¦ä¸€æ¬¾è¯„ä»·é‡é«˜çš„æ’ä»¶ <a href="https://pub.dev/packages/audioplayers" target="_blank" rel="noopener">audioplayers</a> ã€‚</p>
<hr>
<h4 id="æ·»åŠ ä¾èµ–"><a href="#æ·»åŠ ä¾èµ–" class="headerlink" title="æ·»åŠ ä¾èµ–"></a>æ·»åŠ ä¾èµ–</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">dependencies:</span><br><span class="line">  # å¿…éœ€</span><br><span class="line">  permission_handler: ^5.0.1</span><br><span class="line">  path_provider: ^1.6.11</span><br><span class="line">  audioplayers: ^0.15.1</span><br><span class="line">  flutter_sound: ^5.0.0</span><br><span class="line">  </span><br><span class="line">  # å¯é€‰</span><br><span class="line">  intl: ^0.16.1</span><br><span class="line">  filesize: ^1.0.4</span><br><span class="line">  uuid: ^2.1.0</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="è®¾ç½®æƒé™"><a href="#è®¾ç½®æƒé™" class="headerlink" title="è®¾ç½®æƒé™"></a>è®¾ç½®æƒé™</h4><h5 id="Iosæƒé™"><a href="#Iosæƒé™" class="headerlink" title="Iosæƒé™"></a>Iosæƒé™</h5><p>éœ€è¦è·å–ä½¿ç”¨éº¦å…‹é£æƒé™å’Œåå°å½•éŸ³æƒé™ã€‚</p>
<p>åœ¨æ–‡ä»¶ <code>ios/Runner/info.plist</code> ä¸­æ·»åŠ ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;key&gt;NSMicrophoneUsageDescription&lt;&#x2F;key&gt;</span><br><span class="line">&lt;string&gt;Need microphone access for recording&lt;&#x2F;string&gt;</span><br><span class="line">&lt;key&gt;UIBackgroundModes&lt;&#x2F;key&gt;</span><br><span class="line">&lt;array&gt;</span><br><span class="line">	&lt;string&gt;audio&lt;&#x2F;string&gt;</span><br><span class="line">&lt;&#x2F;array&gt;</span><br></pre></td></tr></table></figure>

<h5 id="Androidæƒé™"><a href="#Androidæƒé™" class="headerlink" title="Androidæƒé™"></a>Androidæƒé™</h5><p>åœ¨æ–‡ä»¶ <code>android/app/src/main/AndroidManifest.xml</code> ä¸­æ·»åŠ :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;uses-permission android:name&#x3D;&quot;android.permission.RECORD_AUDIO&quot; &#x2F;&gt;</span><br><span class="line">&lt;uses-permission android:name&#x3D;&quot;android.permission.FOREGROUND_SERVICE&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="çœŸæœºè°ƒè¯•åˆå§‹åŒ–"><a href="#çœŸæœºè°ƒè¯•åˆå§‹åŒ–" class="headerlink" title="çœŸæœºè°ƒè¯•åˆå§‹åŒ–"></a>çœŸæœºè°ƒè¯•åˆå§‹åŒ–</h4><h5 id="Ios"><a href="#Ios" class="headerlink" title="Ios"></a>Ios</h5><p><strong>é¦–å…ˆ</strong>ï¼Œä¿®æ”¹ <code>ios/Podfile</code> æ–‡ä»¶ä¸­çš„ <code>platform</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># platform :ios, &#39;9.0&#39;</span><br><span class="line"></span><br><span class="line"># ä¿®æ”¹æˆï¼š</span><br><span class="line"></span><br><span class="line">platform :ios, &#39;11.0&#39;</span><br></pre></td></tr></table></figure>

<p><strong>ç„¶å</strong>åœ¨ <code>ios</code> ç›®å½•ä¸‹æ‰§è¡Œ <code>pod install</code> å®‰è£…æ‰€éœ€ä¾èµ–ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd ios</span><br><span class="line">pod install</span><br></pre></td></tr></table></figure>

<p><strong>æœ€å</strong>ï¼Œç¬¬ä¸€æ¬¡çœŸæœºè¿è¡Œ<strong>ä¸€å®šè¦</strong>é€šè¿‡ <code>XCode</code> æ¥æ‰§è¡Œ <code>Build</code> æ“ä½œã€‚</p>
<ol>
<li>åœ¨ <code>Finder</code> ä¸­æ‰“å¼€ <code>ios</code> ç›®å½•ï¼Œæ‰¾åˆ° <code>Runner.xcworkspace</code> æ–‡ä»¶ï¼Œé€‰æ‹©ç”¨ <code>XCode</code> æ‰“å¼€ã€‚</li>
<li>é…ç½® <code>Team</code> ï¼šä¾æ¬¡é€‰æ‹© <code>å·¦ä¾§ç›®å½•æ  Runner</code> â€“ <code>TARGETS ä¸­ Runner</code> â€“ <code>Singing&amp;Capabilities</code> â€“ ç‚¹å‡» <code>Team</code> é€‰é¡¹ï¼Œé€‰æ‹© <code>Apple ID</code> è´¦æˆ·æˆ–æ–°å¢ã€‚</li>
<li>æ‰§è¡Œ <code>Build</code> æ“ä½œã€‚</li>
</ol>
<h5 id="Iosé…ç½®æ³¨æ„"><a href="#Iosé…ç½®æ³¨æ„" class="headerlink" title="Iosé…ç½®æ³¨æ„"></a>Iosé…ç½®æ³¨æ„</h5><p>ä¸Šé¢çš„æœ€åä¸€æ­¥æ“ä½œä¸­ï¼Œä¸€å®šè¦å…ˆé€šè¿‡ <code>XCode</code> æ¥è¿›è¡Œ <code>Build</code> æ“ä½œã€‚å¦åˆ™çš„è¯ï¼Œå¦‚æœä½ æ˜¯ç›´æ¥åœ¨ <code>VSCode</code> ä¸­æ‰§è¡Œ <code>flutter run</code> ï¼Œä¼šæŠ¥å¦‚ä¸‹çš„é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">...</span><br><span class="line">&#x2F;Users&#x2F;project&#x2F;myflutter_test&#x2F;build&#x2F;ios&#x2F;Debug-iphonesimulator&#x2F;flutter_sound&#x2F;flutter_sound.framework&#x2F;Headers&#x2F;TrackPlayer.h:42:38: warning: pointer is missing a nullability type specifier (_Nonnull, _Nullable, or _Null_unspecified) [-Wnullability-completeness]</span><br><span class="line">- (void)nowPlaying:(FlutterMethodCall*)call result: (FlutterResult)result;</span><br><span class="line">                                     ^</span><br><span class="line">&#x2F;Users&#x2F;project&#x2F;myflutter_test&#x2F;build&#x2F;ios&#x2F;Debug-iphonesimulator&#x2F;flutter_sound&#x2F;flutter_sound.framework&#x2F;Headers&#x2F;TrackPlayer.h:42:38: note: insert &#39;_Nullable&#39; if the pointer may be null</span><br><span class="line">- (void)nowPlaying:(FlutterMethodCall*)call result: (FlutterResult)result;</span><br><span class="line">                                     ^</span><br><span class="line">                                      _Nullable</span><br><span class="line">&#x2F;Users&#x2F;project&#x2F;myflutter_test&#x2F;build&#x2F;ios&#x2F;Debug-iphonesimulator&#x2F;flutter_sound&#x2F;flutter_sound.framework&#x2F;Headers&#x2F;TrackPlayer.h:42:38: note: insert &#39;_Nonnull&#39; if the pointer should never be null</span><br><span class="line">- (void)nowPlaying:(FlutterMethodCall*)call result: (FlutterResult)result;</span><br><span class="line">                                     ^</span><br><span class="line">                                      _Nonnull</span><br><span class="line">&#x2F;Users&#x2F;project&#x2F;myflutter_test&#x2F;build&#x2F;ios&#x2F;Debug-iphonesimulator&#x2F;flutter_sound&#x2F;flutter_sound.framework&#x2F;Headers&#x2F;TrackPlayer.h:42:54: warning: block pointer is missing a nullability type specifier (_Nonnull, _Nullable, or _Null_unspecified) [-Wnullability-completeness]</span><br><span class="line">- (void)nowPlaying:(FlutterMethodCall*)call result: (FlutterResult)result;</span><br><span class="line">                                                     ^</span><br><span class="line">&#x2F;Users&#x2F;project&#x2F;myflutter_test&#x2F;build&#x2F;ios&#x2F;Debug-iphonesimulator&#x2F;flutter_sound&#x2F;flutter_sound.framework&#x2F;Headers&#x2F;TrackPlayer.h:42:54: note: insert &#39;_Nullable&#39; if the block pointer may be null</span><br><span class="line">- (void)nowPlaying:(FlutterMethodCall*)call result: (FlutterResult)result;</span><br><span class="line">                                                     ^</span><br><span class="line">                                                                   _Nullable</span><br><span class="line">&#x2F;Users&#x2F;project&#x2F;myflutter_test&#x2F;build&#x2F;ios&#x2F;Debug-iphonesimulator&#x2F;flutter_sound&#x2F;flutter_sound.framework&#x2F;Headers&#x2F;TrackPlayer.h:42:54: note: insert &#39;_Nonnull&#39; if the block pointer should never be null</span><br><span class="line">- (void)nowPlaying:(FlutterMethodCall*)call result: (FlutterResult)result;</span><br><span class="line">                                                     ^</span><br><span class="line">                                                                   _Nonnull</span><br><span class="line">                                                            ...</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h5 id="Android"><a href="#Android" class="headerlink" title="Android"></a>Android</h5><p>æ‰“å¼€ <code>android/build.gradle</code> æ–‡ä»¶ï¼š</p>
<p>å°†å…¶ä¸­çš„<strong>ä¸¤å¤„</strong> ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">repositories &#123;</span><br><span class="line">    google()</span><br><span class="line">    jcenter()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">repositories &#123;</span><br><span class="line">    &#x2F;&#x2F; google()</span><br><span class="line">    &#x2F;&#x2F; jcenter()</span><br><span class="line">    maven &#123; url &#39;https:&#x2F;&#x2F;maven.aliyun.com&#x2F;nexus&#x2F;content&#x2F;repositories&#x2F;google&#39; &#125;</span><br><span class="line">    maven &#123; url &#39;https:&#x2F;&#x2F;maven.aliyun.com&#x2F;nexus&#x2F;content&#x2F;repositories&#x2F;jcenter&#39;&#125;</span><br><span class="line">    maven &#123; url &#39;https:&#x2F;&#x2F;maven.aliyun.com&#x2F;repository&#x2F;public&#x2F;&#39; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
]]></content>
      <categories>
        <category>Flutterä¹‹æ—…</category>
      </categories>
      <tags>
        <tag>Flutter</tag>
      </tags>
  </entry>
  <entry>
    <title>æ›´æ”¹Macæ–‡ä»¶çš„é»˜è®¤æ‰“å¼€æ–¹å¼</title>
    <url>/2020/05/22/mac-default-opening-mode/</url>
    <content><![CDATA[<h4 id="æ›´æ”¹æŸä¸€ä¸ªæ–‡ä»¶çš„é»˜è®¤æ‰“å¼€æ–¹å¼"><a href="#æ›´æ”¹æŸä¸€ä¸ªæ–‡ä»¶çš„é»˜è®¤æ‰“å¼€æ–¹å¼" class="headerlink" title="æ›´æ”¹æŸä¸€ä¸ªæ–‡ä»¶çš„é»˜è®¤æ‰“å¼€æ–¹å¼"></a>æ›´æ”¹æŸä¸€ä¸ªæ–‡ä»¶çš„é»˜è®¤æ‰“å¼€æ–¹å¼</h4><ol>
<li>å³é”®å•å‡»è¯¥æ–‡ä»¶</li>
<li>æŒ‰ä¸‹ <code>Option</code> é”®ï¼Œä½ ä¼šçœ‹åˆ° <code>ã€Œæ‰“å¼€æ–¹å¼ã€</code> é€‰é¡¹å˜æˆäº†<code>ã€Œå§‹ç»ˆä»¥æ­¤æ–¹å¼æ‰“å¼€ã€</code></li>
<li>é€‰æ‹© <code>ã€Œå§‹ç»ˆä»¥æ­¤æ–¹å¼æ‰“å¼€ã€</code> åˆ—è¡¨å†…çš„æŸä¸€ä¸ªåº”ç”¨ç¨‹åº</li>
</ol>
<p>æ³¨æ„ï¼šè¿™ç§æ–¹å¼<strong>åªé€‚ç”¨äº</strong>ä½ æ‰€é€‰æ‹©çš„<strong>è¿™ä¸€ä¸ª</strong>æ–‡ä»¶ï¼Œå¹¶<strong>ä¸é€‚ç”¨äº</strong>å…¶ä»–æ–‡ä»¶ï¼ŒåŒ…æ‹¬åŒä¸€ç±»å‹çš„æ–‡ä»¶ã€‚</p>
<hr>
<h4 id="æ›´æ”¹åŒç±»å‹æ–‡ä»¶çš„é»˜è®¤æ‰“å¼€æ–¹å¼"><a href="#æ›´æ”¹åŒç±»å‹æ–‡ä»¶çš„é»˜è®¤æ‰“å¼€æ–¹å¼" class="headerlink" title="æ›´æ”¹åŒç±»å‹æ–‡ä»¶çš„é»˜è®¤æ‰“å¼€æ–¹å¼"></a>æ›´æ”¹åŒç±»å‹æ–‡ä»¶çš„é»˜è®¤æ‰“å¼€æ–¹å¼</h4><ol>
<li>å³é”®å•å‡»è¯¥æ–‡ä»¶ï¼Œç„¶åé€‰æ‹© <code>ã€Œæ˜¾ç¤ºç®€ä»‹ã€</code> é€‰é¡¹</li>
<li>æ‰¾åˆ° <code>ã€Œæ‰“å¼€æ–¹å¼ã€</code> é¡¹ç›®ï¼Œç‚¹å‡» <code>å€’ä¸‰è§’</code> é€‰æ‹©ä½ æƒ³æŒ‡å®šçš„é»˜è®¤åº”ç”¨ç¨‹åº</li>
<li>å•å‡» <code>ã€Œå…¨éƒ¨æ›´æ”¹ã€</code> æŒ‰é’®å³å¯ç”Ÿæ•ˆ</li>
</ol>
<hr>
]]></content>
      <categories>
        <category>å·¥å…·æŠ€å·§</category>
      </categories>
      <tags>
        <tag>Skill</tag>
        <tag>Mac</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸ƒç‰›äº‘ä¸Šä¼ traefikç”Ÿæˆçš„Let&#39;s Encryptè‡ªæœ‰è¯ä¹¦</title>
    <url>/2020/05/22/qiniu-use-https-cert/</url>
    <content><![CDATA[<p>é€šè¿‡ traefik ç»“åˆ Letâ€™s Encrypt ç”Ÿæˆçš„ https è‡ªæœ‰è¯ä¹¦æ–‡ä»¶ï¼Œé»˜è®¤ä¼šç”Ÿæˆ <code>.key</code> å’Œ <code>.crt</code> æ ¼å¼çš„è¯ä¹¦ã€‚ä½†æ˜¯å¦‚æœä½¿ç”¨äº†ä¸ƒç‰›äº‘çš„å›¾ç‰‡å¤–é“¾ï¼Œä¸ƒç‰›äº‘ä¸­é…ç½®çš„ https åŠ é€ŸåŸŸåä¹Ÿéœ€è¦ä¸Šä¼ ç›¸åº”çš„è¯ä¹¦ï¼Œä½†è¯ä¹¦æ ¼å¼å¿…é¡»ä¸º <code>.pem</code> çš„ã€‚</p>
<hr>
<h4 id="æ•°å­—è¯ä¹¦æ ¼å¼è½¬æ¢ï¼š-key-å’Œ-crt-è½¬æ¢æˆ-pem-æ ¼å¼"><a href="#æ•°å­—è¯ä¹¦æ ¼å¼è½¬æ¢ï¼š-key-å’Œ-crt-è½¬æ¢æˆ-pem-æ ¼å¼" class="headerlink" title="æ•°å­—è¯ä¹¦æ ¼å¼è½¬æ¢ï¼š.key å’Œ.crt è½¬æ¢æˆ.pem æ ¼å¼"></a>æ•°å­—è¯ä¹¦æ ¼å¼è½¬æ¢ï¼š.key å’Œ.crt è½¬æ¢æˆ.pem æ ¼å¼</h4><p>å°† <code>.crt</code> è¯ä¹¦æ–‡ä»¶è½¬æ¢ä¸º <code>.pem</code> æ ¼å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">openssl x509 -in temp.crt -outform pem -out temp.crt.pem</span><br></pre></td></tr></table></figure>

<p>å°† <code>.key</code> è¯ä¹¦æ–‡ä»¶è½¬æ¢ä¸º <code>.pem</code> æ ¼å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">openssl rsa -in temp.key -outform pem -out temp.key.pem</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ä¸Šä¼ è‡ªæœ‰è¯ä¹¦"><a href="#ä¸Šä¼ è‡ªæœ‰è¯ä¹¦" class="headerlink" title="ä¸Šä¼ è‡ªæœ‰è¯ä¹¦"></a>ä¸Šä¼ è‡ªæœ‰è¯ä¹¦</h4><p>æ‰“å¼€ä¸ƒç‰›äº‘åå°ç®¡ç†</p>
<p>åœ¨ä¸ƒç‰›äº‘ <a href="https://portal.qiniu.com/certificate/ssl#cert" target="_blank" rel="noopener">SSL è¯ä¹¦æœåŠ¡/è¯ä¹¦ç®¡ç†</a> é¡µé¢ä¸Šä¼ è‡ªæœ‰è¯ä¹¦ä¿¡æ¯</p>
<p>å·¦ä¾§èœå•æ  â€“ CDN â€“ åŸŸåç®¡ç† â€“ æŒ‡å®šåŸŸå é…ç½® â€“ HTTPS é…ç½® â€“ ä¿®æ”¹é…ç½®</p>
<p>åœ¨ <code>åŸŸå xxxx å¯æ›´æ¢è¯ä¹¦åˆ—è¡¨</code> ä¸‹ é€‰æ‹©åˆšåˆšæ–°å¢çš„è¯ä¹¦ â€“ ç¡®å®šï¼Œç­‰å¾…è¯ä¹¦æ–‡ä»¶ç”Ÿæ•ˆ</p>
<hr>
]]></content>
      <categories>
        <category>HTTPS</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>HTTPS</tag>
      </tags>
  </entry>
  <entry>
    <title>ç™¾åº¦ç½‘ç›˜è§†é¢‘å€é€Ÿæ’­æ”¾æŠ€å·§</title>
    <url>/2020/05/22/baidu-video-speed-up/</url>
    <content><![CDATA[<p>ç™¾åº¦ç½‘ç›˜ä¸­çš„è§†é¢‘åœ¨çº¿æ’­æ”¾æ—¶ï¼Œé»˜è®¤æ— æ³•å€é€Ÿè§‚çœ‹ã€‚ä¸€èˆ¬å¯ä»¥é€šè¿‡å®‰è£…æ’ä»¶è§£å†³ï¼Œä½†æ˜¯è¦æ‰¾åˆ°åˆé€‚çš„æ’ä»¶è¿˜æ˜¯éœ€è¦èŠ±è´¹ä¸€ç‚¹æ—¶é—´çš„ã€‚</p>
<p>è¿™é‡Œæˆ‘ä»‹ç»ä¸€ç§ç›¸å¯¹ç®€å•çš„å®ç°è§†é¢‘å€é€Ÿæ’­æ”¾çš„æŠ€å·§ï¼š</p>
<p>é€šè¿‡Chromeæµè§ˆå™¨æ‰“å¼€ç™¾åº¦ç½‘ç›˜ä¸­çš„è§†é¢‘æ’­æ”¾é¡µï¼Œç‚¹å‡» <code>F12</code> åé€‰æ‹© <code>Console</code> é€‰é¡¹å¡ï¼Œè¾“å…¥å¦‚ä¸‹ä»£ç å¹¶å›è½¦ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">videojs.getPlayers(<span class="string">"video-player"</span>).html5player.tech_.setPlaybackRate(<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<p>ä»£ç æœ€åçš„æ•°å­—â€œ<strong>2</strong>â€ä¸ºæ’­æ”¾å€é€Ÿï¼Œéœ€è¦å‡ å€ä½ å°±å¡«å†™æ•°å­—å‡ ã€‚</p>
<p>å½“ç„¶ï¼Œä¹Ÿæ”¯æŒå°æ•°å¦‚ <code>1.2</code> ç­‰ã€‚</p>
]]></content>
      <categories>
        <category>å·¥å…·æŠ€å·§</category>
      </categories>
      <tags>
        <tag>Skill</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoåšå®¢ç‰ˆæœ¬å‡çº§åˆ°Next7.8.0</title>
    <url>/2020/05/21/upgrade-hexo-next-5-to-7/</url>
    <content><![CDATA[<p>å°†Hexoåšå®¢ç‰ˆæœ¬ä» <code>hexo v3.7.1 next v5.1.3</code> å‡çº§åˆ° <code>hexo v4.2.1 next v7.8.0</code> æ—¶çš„ä¸€äº›è®¾ç½®ã€‚ </p>
<p><code>Next v5.x</code> å’Œ <code>Next v7.x</code> çš„é…ç½®è¿˜æ˜¯æœ‰ä¸€å®šå·®å¼‚çš„ã€‚</p>
<h4 id="ä¸è’œå­è®¡æ•°ç»Ÿè®¡è®¾ç½®"><a href="#ä¸è’œå­è®¡æ•°ç»Ÿè®¡è®¾ç½®" class="headerlink" title="ä¸è’œå­è®¡æ•°ç»Ÿè®¡è®¾ç½®"></a>ä¸è’œå­è®¡æ•°ç»Ÿè®¡è®¾ç½®</h4><p>æ‰¾åˆ°ç›¸åº”é…ç½®æ–‡ä»¶ <code>next/layout/_third-party/statistics/busuanzi-counter.swig</code></p>
<p>æ ¹æ® <a href="http://ibruce.info/2015/04/04/busuanzi/" target="_blank" rel="noopener">ä¸è’œå­ | ä¸å¦‚</a> å®˜ç½‘ä¸­çš„è¯´æ˜ï¼Œå…¶ä¸­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æœ¬ç«™æ€»è®¿é—®é‡&lt;span id&#x3D;&quot;busuanzi_value_site_pv&quot;&gt;&lt;&#x2F;span&gt;æ¬¡</span><br><span class="line">æœ¬ç«™è®¿å®¢æ•°&lt;span id&#x3D;&quot;busuanzi_value_site_uv&quot;&gt;&lt;&#x2F;span&gt;äººæ¬¡</span><br><span class="line">æœ¬æ–‡æ€»é˜…è¯»é‡&lt;span id&#x3D;&quot;busuanzi_value_page_pv&quot;&gt;&lt;&#x2F;span&gt;æ¬¡</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä¸‰ä¸ª <code>id</code> æ ‡ç­¾éƒ¨åˆ†å°±è¡¨ç¤ºè¦æ˜¾ç¤ºçš„ç»Ÿè®¡å†…å®¹ã€‚</p>
<p>æ‰¾åˆ° <code>busuanzi-counter.swig</code> æ–‡ä»¶ä¸­çš„:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;span class&#x3D;&quot;site-uv&quot; title&#x3D;&quot;&#123;&#123; __(&#39;footer.total_visitors&#39;) &#125;&#125;&quot;&gt;</span><br><span class="line">      &lt;span id&#x3D;&quot;busuanzi_value_site_uv&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">&lt;&#x2F;span&gt;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;span class&#x3D;&quot;site-uv&quot; title&#x3D;&quot;&#123;&#123; __(&#39;footer.total_visitors&#39;) &#125;&#125;&quot;&gt;</span><br><span class="line">  è®¿å®¢æ•° &lt;span id&#x3D;&quot;busuanzi_value_site_uv&quot;&gt;&lt;&#x2F;span&gt; äººæ¬¡</span><br><span class="line">&lt;&#x2F;span&gt;</span><br></pre></td></tr></table></figure>

<p>æ‰¾åˆ°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;span class&#x3D;&quot;site-pv&quot; title&#x3D;&quot;&#123;&#123; __(&#39;footer.total_views&#39;) &#125;&#125;&quot;&gt;</span><br><span class="line">    &lt;span id&#x3D;&quot;busuanzi_value_site_pv&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">&lt;&#x2F;span&gt;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;span class&#x3D;&quot;site-pv&quot; title&#x3D;&quot;&#123;&#123; __(&#39;footer.total_views&#39;) &#125;&#125;&quot;&gt;</span><br><span class="line">  è®¿é—®é‡ &lt;span id&#x3D;&quot;busuanzi_value_site_pv&quot;&gt;&lt;&#x2F;span&gt; æ¬¡</span><br><span class="line">&lt;&#x2F;span&gt;</span><br></pre></td></tr></table></figure>

<p>å³å¯ã€‚</p>
<hr>
<h4 id="gitalkè®¾ç½®"><a href="#gitalkè®¾ç½®" class="headerlink" title="gitalkè®¾ç½®"></a>gitalkè®¾ç½®</h4><p>æ‰¾åˆ° <code>/next/layout/_third-party/comments/gitalk.swig</code> æ–‡ä»¶ï¼š</p>
<p>å°†å…¶ä¸­çš„ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">id : &#39;&#123;&#123; gitalk_md5(page.path) &#125;&#125;&#39;,</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">id : &#39;&#123;&#123; theme.gitalk.id_prefix &#125;&#125;_&#123;&#123; date(page.date, &quot;YYYYMMDDHHmmss&quot;) &#125;&#125;&#39;,</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨ <code>_config.yml</code> ä¸­æ·»åŠ ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">gitalk: </span><br><span class="line">  enable: true</span><br><span class="line">  ...</span><br><span class="line">  id_prefix: itfanr</span><br><span class="line">  ...</span><br></pre></td></tr></table></figure>

<p>å³å¯ã€‚</p>
<p>è¿™é‡Œè¦è¯´æ˜ä¸€ä¸‹ï¼Œåœ¨ä¹‹å‰ <code>next v5.1.3</code> ç‰ˆæœ¬ä¸­ï¼Œæˆ‘è®¾ç½®çš„ <code>id</code> å€¼ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">id : &#39;&#123;&#123; theme.gitalk.id_prefix || gitalk &#125;&#125;_&#123;&#123; date(page.date, &quot;YYYYMMDDHHmmss&quot;) &#125;&#125;&#39;,</span><br></pre></td></tr></table></figure>

<p>å³å¦‚æœæ²¡æœ‰åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®å‚æ•° <code>id_prefix</code> çš„è¯ï¼Œä¼šé»˜è®¤ä½¿ç”¨ <code>gitalk</code> ä¸ºå‰ç¼€ï¼Œåœ¨ <code>Next v7.x</code> ä¸­å‘ç°è¿™æ ·è®¾ç½®å‘å¸ƒæ—¶ä¼šæŠ¥é”™ï¼Œæ‰€ä»¥å°±å»æ‰äº†é»˜è®¤å€¼ã€‚</p>
<p>å¯¹äº <code>labels</code> çš„æ˜¾ç¤ºï¼Œå¯ä»¥å‚è€ƒ <a href="https://github.com/gitalk/gitalk/issues/114" target="_blank" rel="noopener">Error: u.concat(â€¦).join is not a function</a></p>
<hr>
<h4 id="åšå®¢ç½®é¡¶è®¾ç½®"><a href="#åšå®¢ç½®é¡¶è®¾ç½®" class="headerlink" title="åšå®¢ç½®é¡¶è®¾ç½®"></a>åšå®¢ç½®é¡¶è®¾ç½®</h4><p>å®‰è£…æ’ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-index-pin-top --save</span><br><span class="line">npm uninstall hexo-generator-index --save</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹åšå®¢æ–‡ä»¶ç›®å½•ä¸­çš„ <code>/themes/next/layout/_macro/post.swig</code> æ–‡ä»¶ã€‚</p>
<p>æ‰¾åˆ° <code>&lt;div class=&quot;post-meta&quot;&gt;</code> ï¼Œåœ¨ä¸‹é¢æ·»åŠ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;%- if post.top %&#125;</span><br><span class="line">&lt;i class&#x3D;&quot;fa fa-thumbtack&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">&lt;font color&#x3D;&#39;#f05050&#39;&gt;ç½®é¡¶&lt;&#x2F;font&gt;</span><br><span class="line">&lt;span class&#x3D;&quot;post-meta-divider&quot;&gt;|&lt;&#x2F;span&gt;</span><br><span class="line">&#123;%- endif %&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åå¾€ä¸Šé¢æ‰¾åˆ° </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% elif is_index %&#125;</span><br></pre></td></tr></table></figure>

<p>å’Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;%- else %&#125;</span><br></pre></td></tr></table></figure>

<p>ä¹‹é—´çš„éƒ¨åˆ†ï¼Œåœ¨ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;%- endif %&#125;</span><br><span class="line">&#123;&#123; next_url(post.path, post.title or __(&#39;post.untitled&#39;), &#123;class: &#39;post-title-link&#39;, itemprop: &#39;url&#39;&#125;) &#125;&#125;</span><br></pre></td></tr></table></figure>

<p>çš„ä¸­é—´åŠ ä¸Š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;%- if post.top %&#125;&lt;font color&#x3D;&quot;#f05050&quot;&gt;[ç½®é¡¶] &lt;&#x2F;font&gt; &#123;%- endif %&#125;</span><br></pre></td></tr></table></figure>

<p>å³:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;%- endif %&#125;</span><br><span class="line">&#123;%- if post.top %&#125;&lt;font color&#x3D;&quot;#f05050&quot;&gt;[ç½®é¡¶] &lt;&#x2F;font&gt; &#123;%- endif %&#125;</span><br><span class="line">&#123;&#123; next_url(post.path, post.title or __(&#39;post.untitled&#39;), &#123;class: &#39;post-title-link&#39;, itemprop: &#39;url&#39;&#125;) &#125;&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨éœ€è¦è®¾ç½® <code>ç½®é¡¶</code> çš„æ–‡ç« å¤´éƒ¨æ·»åŠ  <code>top: true</code> å³å¯ã€‚</p>
<hr>
]]></content>
      <categories>
        <category>Hexoåšå®¢æ­å»º</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>å†¯æ€»è¯­å½•</title>
    <url>/2020/05/20/fengzong-yulu/</url>
    <content><![CDATA[<p>å†¯æ€»ï¼Œå†¯è·¯æ³•ã€‚æŠ€æœ¯ä¸»ç®¡ï¼ŒCTOã€‚</p>
<p>ä¸€äº›å¹³æ—¶çš„äº¤è°ˆæˆ–ä¼šè®®æ‘˜è¦è®°å½•ã€‚</p>
<p><strong>ä¸æ˜¯ä»€ä¹ˆäººç”Ÿå¤§é“ç†ï¼Œåªä¸è¿‡æ˜¯ç»éªŒç½¢äº†ã€‚</strong></p>
<hr>
<blockquote>
<p>å­¦ä¹  æ”’é’± æ”’äººå“</p>
</blockquote>
<blockquote>
<p>äººå“è¦é å¹³æ—¶æ”’</p>
</blockquote>
<blockquote>
<p>äººè¦æœ‰ç©ºæ¯å¿ƒæ€</p>
</blockquote>
<blockquote>
<p>å®šç›®æ ‡è¦å¯é‡åŒ–ã€å¯å®ç°</p>
</blockquote>
<blockquote>
<p>åšäº§å“è¦åšåˆ°ï¼šæŠ“ä½ç”¨æˆ·çš„ç—›ç‚¹ã€ç—’ç‚¹ã€çˆ½ç‚¹(å»¶è¿Ÿæ»¡è¶³)</p>
</blockquote>
<blockquote>
<p>å‡¡äº‹æœ‰äº¤ä»£ï¼Œä»¶ä»¶æœ‰ç€è½ï¼Œäº‹äº‹æœ‰å›éŸ³</p>
</blockquote>
<blockquote>
<p>åšäº§å“æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯ä½ æƒ³è¦çš„ï¼Œä¸€ç§æ˜¯ç”¨æˆ·æƒ³è¦çš„ã€‚å¤šå¬å¬ç”¨æˆ·çš„æƒ³æ³•ã€‚</p>
</blockquote>
<blockquote>
<p>ä¸è¦åœ¨å†²åŠ¨çš„æ—¶å€™åšä»»ä½•å†³å®š</p>
</blockquote>
<blockquote>
<p>å°é—®é¢˜ä¸Šå±¡æ•™ä¸æ”¹çš„äººï¼Œå¦‚æœæ˜¯åœ¨é‡è¦å²—ä½ä¸Šï¼Œæ—©æ™šä¼šå‡ºé—®é¢˜ã€‚</p>
</blockquote>
<blockquote>
<p>å…ˆéªŒè¯å•†ä¸šæ¨¡å¼è¡Œä¸è¡Œ</p>
</blockquote>
<blockquote>
<p>æ‹¿åˆ°äº†Aè½®çš„ä¼ä¸šï¼Œå°±è¯æ˜äº†è¯¥å…¬å¸çš„å•†ä¸šæ¨¡å¼å¯è¡Œã€‚</p>
</blockquote>
<blockquote>
<p>çœ‹ä¸€ä¸ªå…¬å¸æ˜¯å¦æœ‰å‘å±•ï¼Œè¦çœ‹è¿™ä¸ªå…¬å¸æ‰€å¤„çš„è¡Œä¸šå’Œå›¢é˜Ÿã€‚</p>
</blockquote>
<blockquote>
<p>æŒ‘é€‰å›¢é˜Ÿæˆå‘˜ï¼Œè¦æ‰¾äº’è¡¥çš„äººã€‚</p>
</blockquote>
<blockquote>
<p>ä¼ä¸šæœ€å¤§çš„æ„¿æ™¯æ˜¯ â€œé£é™©å…±æ‹…ï¼Œåˆ©ç›Šå…±äº«â€ å…«ä¸ªå­—ã€‚</p>
</blockquote>
<blockquote>
<p>ç†Ÿæ‚‰ä¸šåŠ¡æ˜¯æœ€é‡è¦çš„ã€‚</p>
</blockquote>
<blockquote>
<p>åšäº§å“è¦çœ‹èƒ½åŠ›å’Œèµ„æºã€‚</p>
</blockquote>
<blockquote>
<p>ç¡®å®šå¼€å‘æœŸé™ï¼Œä¸è¦è¯´è¶Šå¿«è¶Šå¥½ï¼Œè¦ç»™å‡ºå…·ä½“çš„æ—¶é—´ç‚¹ã€‚</p>
</blockquote>
<blockquote>
<p>æ­£å„¿å…«ç»çš„æ€è€ƒï¼Œå¹¶ä¸ä¸€å®šè¦å»åšã€‚æ€è€ƒçš„æ˜¯ç”Ÿå­˜ï¼Œå¹»æƒ³çš„æ˜¯ç”Ÿæ´»ã€‚</p>
</blockquote>
<blockquote>
<p>å½“ä½ çŠ¹è±«ä¸çŸ¥é“è¯¥æ€ä¹ˆé€‰æ‹©çš„æ—¶å€™ï¼Œé€‰æ‹©å…¶ä¸­æœ€ä¿é™©æœ€å®‰å…¨çš„ä¸€æ¡ã€‚</p>
</blockquote>
<blockquote>
<p>ç”¨åšäº§å“çš„å¿ƒæ€å»å†™ä»£ç ã€‚</p>
</blockquote>
<blockquote>
<p>ä¸è¦ä»ä¸€ä¸ªäººçš„ä¸“ä¸šèƒ½åŠ›æ¥è¯„åˆ¤ä»–çš„é¢†å¯¼èƒ½åŠ›ã€‚</p>
</blockquote>
<blockquote>
<p>æŠ€æœ¯leaderçš„æ ¹æœ¬ï¼šæŠ€æœ¯ç®¡ç†ã€é¡¹ç›®ç®¡ç†ã€å›¢é˜Ÿç®¡ç†ã€‚</p>
</blockquote>
<blockquote>
<p>è£…ç¡çš„äººä½ æ°¸è¿œå«ä¸é†’ã€‚</p>
</blockquote>
<blockquote>
<p>åšäº§å“æ²¡åŠæ³•ä¸€æ­¥åˆ°ä½ï¼Œä½†è¦è§„åˆ’å¥½æ¯ä¸€æ­¥çš„å‘å±•ã€‚</p>
</blockquote>
<blockquote>
<p>å»å‚åŠ æŠ€æœ¯å¤§ä¼šï¼Œå¹¶ä¸æ˜¯è®©ä½ å»å­¦æŠ€æœ¯ï¼Œä½ èƒ½è®°ä½ä¸€åˆ°ä¸¤ä¸ªçŸ¥è¯†ç‚¹å°±å·²ç»å¾ˆä¸é”™äº†ã€‚è¦äº†è§£çš„æ˜¯æŠ€æœ¯å‘å±•è¶‹åŠ¿ï¼Œçœ‹çœ‹åˆ«äººéƒ½åœ¨åšä»€ä¹ˆï¼Œåˆ«äººéƒ½åœ¨å…³æ³¨ä»€ä¹ˆã€‚ï¼ˆå¤§æ„ï¼‰</p>
</blockquote>
<blockquote>
<p>äººæœ€éš¾çš„æ˜¯æ‰¾å¯¹æ–¹å‘ï¼Œæœ‰äº‹æƒ…åšã€‚</p>
</blockquote>
<blockquote>
<p>å·¥ä½œå¯ä»¥ä¸ä¸¥è‚ƒï¼Œä½†ä¸€å®šè¦ä¸¥è°¨ã€‚</p>
</blockquote>
<blockquote>
<p>è¦è®©å›¢é˜Ÿæˆå‘˜å¦‚å®å†™å‘¨æŠ¥ã€‚æ‰€è°“çš„å¦‚å®ï¼Œè¦åŒ…æ‹¬ï¼šåšçš„ä»€ä¹ˆï¼Ÿä»€ä¹ˆè¿›åº¦ï¼Ÿä»€ä¹ˆç»“æœï¼Ÿå¦‚æœä¸å¦‚å®ï¼Œä¼šè¯¯å¯¼ä¸Šçº§çš„åˆ¤æ–­ã€‚</p>
</blockquote>
<blockquote>
<p>å·¥ä½œè¦æœ‰ä¸»åŠ¨æ€§æ€ç»´ã€‚</p>
</blockquote>
<blockquote>
<p>ç»™è‡ªå·±å®šä¸€ä¸ªæ¸…æ™°çš„ç›®æ ‡ï¼Œå¹¶ä¸»åŠ¨çš„å»åšã€‚</p>
</blockquote>
<blockquote>
<p>äººæœ€ç—›è‹¦çš„æ—¶å€™æ˜¯æ²¡æœ‰æ–¹å‘çš„æ—¶å€™ï¼Œäººæœ€èˆ’æœçš„æ—¶å€™æ˜¯æœ‰æ–¹å‘æœ‰ç›®æ ‡çš„æ—¶å€™ã€‚</p>
</blockquote>
<hr>
]]></content>
      <tags>
        <tag>äººåœ¨å¸éƒ½</tag>
        <tag>äººç”Ÿæ„Ÿæ‚Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸´æ—¶åˆ†æ”¯æ³•è§£å†³gitæäº¤ä»£ç å†²çª</title>
    <url>/2019/10/20/how-to-merge-rejected-git-branch/</url>
    <content><![CDATA[<p>åœ¨æ”¹åŠ¨gitä»“åº“ä¸­çš„æ–‡ä»¶æ—¶ï¼Œæ²¡æœ‰åœ¨å˜æ›´å‰æ‰§è¡Œ <code>git pull</code> è€Œå¯¼è‡´æœ¬åœ°çš„ä»£ç åœ¨åç»­çš„æ”¹åŠ¨åå’Œçº¿ä¸Šçš„ä»£ç ä¸ä¸€è‡´ï¼Œè€Œåœ¨commitåå‡†å¤‡æäº¤æ—¶å†æ‰§è¡Œ <code>git pull</code> è·å–ä»£ç æ—¶å´æç¤º <code>rejected -- non-fast-forward</code> çš„é”™è¯¯ã€‚</p>
<h4 id="ç›¸å…³"><a href="#ç›¸å…³" class="headerlink" title="ç›¸å…³"></a>ç›¸å…³</h4><ul>
<li><a href="/2018/11/30/how-to-merge-when-main-branch-changed/">Gitä¸»åˆ†æ”¯æœ‰æ›´æ”¹åå¦‚ä½•åˆå¹¶æäº¤ | ITèŒƒå„¿</a></li>
<li><a href="/2019/10/20/how-to-merge-rejected-git-branch-md/">ä¸´æ—¶åˆ†æ”¯æ³•è§£å†³gitæäº¤ä»£ç å†²çª | ITèŒƒå„¿</a></li>
</ul>
<hr>
<h4 id="ä¸´æ—¶åˆ†æ”¯æ³•"><a href="#ä¸´æ—¶åˆ†æ”¯æ³•" class="headerlink" title="ä¸´æ—¶åˆ†æ”¯æ³•"></a>ä¸´æ—¶åˆ†æ”¯æ³•</h4><ol>
<li>åˆ›å»ºä¸€ä¸ªä¸´æ—¶åˆ†æ”¯</li>
<li>å°†è¿œç«¯å¾…æäº¤åˆ†æ”¯æ‹‰å–åˆ°æœ¬åœ°çš„ä¸´æ—¶åˆ†æ”¯</li>
<li>æ‰‹åŠ¨å°†æœ¬åœ°çš„å¾…æäº¤åˆ†æ”¯åˆå¹¶åˆ°ä¸´æ—¶åˆ†æ”¯ä¸Š</li>
<li>å°†åˆå¹¶åçš„ä¸´æ—¶åˆ†æ”¯æäº¤åˆ°è¿œç«¯çš„å¾…æäº¤åˆ†æ”¯</li>
<li>å°†è¿œç«¯åˆ†æ”¯æ‹‰å–åˆ°æœ¬åœ°ï¼Œå³å°†å†²çªåˆå¹¶åçš„ä»£ç æ›´æ–°åˆ°æœ¬åœ°åˆ†æ”¯</li>
<li>åˆ é™¤ä¸´æ—¶åˆ†æ”¯</li>
</ol>
<hr>
<h4 id="æ“ä½œè®°å½•"><a href="#æ“ä½œè®°å½•" class="headerlink" title="æ“ä½œè®°å½•"></a>æ“ä½œè®°å½•</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ git pull origin hexo:hexo</span><br><span class="line">From https:&#x2F;&#x2F;github.com&#x2F;leafney&#x2F;Leafney.github.io</span><br><span class="line"> ! [rejected]        hexo       -&gt; hexo  (non-fast-forward)</span><br><span class="line"></span><br><span class="line">âœ git branch</span><br><span class="line">* hexo</span><br><span class="line">master</span><br><span class="line"></span><br><span class="line">âœ git fetch origin hexo:tmp</span><br><span class="line">From https:&#x2F;&#x2F;github.com&#x2F;leafney&#x2F;Leafney.github.io</span><br><span class="line"> * [new branch]      hexo       -&gt; tmp</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">âœ git checkout tmp</span><br><span class="line">Switched to branch &#39;tmp&#39;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">âœ git merge hexo</span><br><span class="line">Updating 5b4d8c0..4431abb</span><br><span class="line">Fast-forward</span><br><span class="line"> .gitignore                                                                               |  2 +-</span><br><span class="line"> ...ent-environment-configuration.md &#x3D;&gt; flutter-development-environment-configuration.md&#125; | 10 ++++++----</span><br><span class="line"> 2 files changed, 7 insertions(+), 5 deletions(-)</span><br><span class="line"> rename source&#x2F;_posts&#x2F;&#123;flutter-devemopment-environment-configuration.md &#x3D;&gt; flutter-development-environment-configuration.md&#125; (97%)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">âœ git push origin tmp:hexo</span><br><span class="line">Enumerating objects: 10, done.</span><br><span class="line">Counting objects: 100% (10&#x2F;10), done.</span><br><span class="line">Delta compression using up to 8 threads</span><br><span class="line">Compressing objects: 100% (6&#x2F;6), done.</span><br><span class="line">Writing objects: 100% (6&#x2F;6), 10.98 KiB | 5.49 MiB&#x2F;s, done.</span><br><span class="line">Total 6 (delta 4), reused 0 (delta 0)</span><br><span class="line">remote: Resolving deltas: 100% (4&#x2F;4), completed with 4 local objects.</span><br><span class="line">To https:&#x2F;&#x2F;github.com&#x2F;leafney&#x2F;Leafney.github.io.git</span><br><span class="line">   5b4d8c0..4431abb  tmp -&gt; hexo</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">âœ git checkout hexo</span><br><span class="line">Switched to branch &#39;hexo&#39;</span><br><span class="line">Your branch is up to date with &#39;origin&#x2F;hexo&#39;.</span><br><span class="line"></span><br><span class="line">âœ git pull origin hexo:hexo</span><br><span class="line">Already up to date.</span><br><span class="line"></span><br><span class="line">âœ git branch -D tmp</span><br><span class="line">Deleted branch tmp (was 4431abb).</span><br><span class="line"></span><br><span class="line">âœ git branch</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="å‘½ä»¤æ•´ç†"><a href="#å‘½ä»¤æ•´ç†" class="headerlink" title="å‘½ä»¤æ•´ç†"></a>å‘½ä»¤æ•´ç†</h4><p>é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ git pull origin hexo:hexo</span><br><span class="line">From https:&#x2F;&#x2F;github.com&#x2F;leafney&#x2F;Leafney.github.io</span><br><span class="line"> ! [rejected]        hexo       -&gt; hexo  (non-fast-forward)</span><br></pre></td></tr></table></figure>

<p>è§£å†³ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># å°†è¿œç«¯å¾…æäº¤åˆ†æ”¯hexoæ‹‰å–åˆ°æœ¬åœ°çš„ä¸€ä¸ªä¸´æ—¶åˆ†æ”¯tmpä¸‹</span><br><span class="line">git fetch origin hexo:tmp</span><br><span class="line"></span><br><span class="line"># åˆ‡æ¢åˆ°ä¸´æ—¶åˆ†æ”¯tmp</span><br><span class="line">git checkout tmp</span><br><span class="line"></span><br><span class="line"># å°†æœ¬åœ°çš„å¾…æäº¤åˆ†æ”¯hexoåˆå¹¶åˆ°ä¸´æ—¶åˆ†æ”¯tmpï¼Œå¹¶è§£å†³å†²çª</span><br><span class="line">git merge hexo</span><br><span class="line"></span><br><span class="line"># å°†ä¸´æ—¶åˆ†æ”¯tmpæäº¤åˆ°è¿œç«¯çš„å¾…æäº¤åˆ†æ”¯hexo</span><br><span class="line">git push origin tmp:hexo</span><br><span class="line"></span><br><span class="line"># åˆ‡æ¢åˆ°æœ¬åœ°çš„å¾…æäº¤åˆ†æ”¯hexo</span><br><span class="line">git checkout hexo</span><br><span class="line"></span><br><span class="line"># æ‹‰å–è¿œç«¯çš„å¾…æäº¤åˆ†æ”¯hexoåˆ°æœ¬åœ°çš„å¾…æäº¤åˆ†æ”¯hexo</span><br><span class="line">git pull origin hexo:hexo</span><br><span class="line"></span><br><span class="line"># åˆ é™¤æœ¬åœ°çš„ä¸´æ—¶åˆ†æ”¯tmp</span><br><span class="line">git branch -D tmp</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Gitæ“ä½œç³»åˆ—</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>è½»é‡çº§Kuberneteså‘è¡Œç‰ˆk3sä¹‹éƒ¨ç½²metrics-server</title>
    <url>/2019/09/09/lightweight-kubernetes-release-k3s-hpa-metrics/</url>
    <content><![CDATA[<h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><p>ä»å®˜æ–¹ä»“åº“ä¸‹è½½é¡¹ç›®æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git clone https:&#x2F;&#x2F;github.com&#x2F;kubernetes-incubator&#x2F;metrics-server.git</span><br><span class="line"></span><br><span class="line">$ cd metrics-server&#x2F;deploy&#x2F;1.8+</span><br><span class="line"></span><br><span class="line">$ ls</span><br><span class="line">aggregated-metrics-reader.yaml  auth-reader.yaml         metrics-server-deployment.yaml  resource-reader.yaml</span><br><span class="line">auth-delegator.yaml             metrics-apiservice.yaml  metrics-server-service.yaml</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ä¸‹è½½é•œåƒ"><a href="#ä¸‹è½½é•œåƒ" class="headerlink" title="ä¸‹è½½é•œåƒ"></a>ä¸‹è½½é•œåƒ</h4><p>éœ€è¦ä½¿ç”¨çš„é•œåƒä¸º <code>k8s.gcr.io/metrics-server-amd64:v0.3.4</code> ã€‚</p>
<p>é€šè¿‡å¦‚ä¸‹çš„è„šæœ¬æ¥ä¸‹è½½ï¼š</p>
<p>åˆ›å»ºæ–‡ä»¶ <code>$ vim pull_images.sh</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">images&#x3D;(metrics-server-amd64:v0.3.4)</span><br><span class="line">for imageName in $&#123;images[@]&#125; ; do</span><br><span class="line">  docker pull gcr.azk8s.cn&#x2F;google_containers&#x2F;$imageName</span><br><span class="line">  docker tag gcr.azk8s.cn&#x2F;google_containers&#x2F;$imageName k8s.gcr.io&#x2F;$imageName</span><br><span class="line">  docker rmi gcr.azk8s.cn&#x2F;google_containers&#x2F;$imageName</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œ <code>$ bash ./pull_images.sh</code></p>
<p>æŸ¥çœ‹è¯¥é•œåƒï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ docker images</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ä¿®æ”¹yamlæ–‡ä»¶"><a href="#ä¿®æ”¹yamlæ–‡ä»¶" class="headerlink" title="ä¿®æ”¹yamlæ–‡ä»¶"></a>ä¿®æ”¹yamlæ–‡ä»¶</h4><p>ä¿®æ”¹ <code>metrics-server-deployment.yaml</code> å°†å…¶ä¸­ <code>Deployment</code> ä¸­é•œåƒçš„ <code>imagePullPolicy: Always</code> æ”¹æˆ <code>imagePullPolicy: IfNotPresent</code> ,ä»¥ä½¿ç”¨æœ¬åœ°ä¸‹è½½çš„é•œåƒã€‚</p>
<p>ç¼–è¾‘æ–‡ä»¶ <code>$ vim metrics-server-deployment.yaml</code></p>
<h4 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h4><h5 id="å®‰è£…-1"><a href="#å®‰è£…-1" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd ..&#x2F;..&#x2F;</span><br><span class="line"></span><br><span class="line">$ kubectl apply -f deploy&#x2F;1.8+</span><br><span class="line">clusterrole.rbac.authorization.k8s.io&#x2F;system:aggregated-metrics-reader created</span><br><span class="line">clusterrolebinding.rbac.authorization.k8s.io&#x2F;metrics-server:system:auth-delegator created</span><br><span class="line">rolebinding.rbac.authorization.k8s.io&#x2F;metrics-server-auth-reader created</span><br><span class="line">apiservice.apiregistration.k8s.io&#x2F;v1beta1.metrics.k8s.io created</span><br><span class="line">serviceaccount&#x2F;metrics-server created</span><br><span class="line">deployment.extensions&#x2F;metrics-server created</span><br><span class="line">service&#x2F;metrics-server created</span><br><span class="line">clusterrole.rbac.authorization.k8s.io&#x2F;system:metrics-server created</span><br><span class="line">clusterrolebinding.rbac.authorization.k8s.io&#x2F;system:metrics-server created</span><br></pre></td></tr></table></figure>

<h5 id="æŸ¥çœ‹å®¹å™¨è¿è¡ŒçŠ¶æ€"><a href="#æŸ¥çœ‹å®¹å™¨è¿è¡ŒçŠ¶æ€" class="headerlink" title="æŸ¥çœ‹å®¹å™¨è¿è¡ŒçŠ¶æ€"></a>æŸ¥çœ‹å®¹å™¨è¿è¡ŒçŠ¶æ€</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ kubectl get pods -n kube-system</span><br><span class="line">NAME                              READY   STATUS    RESTARTS   AGE</span><br><span class="line">metrics-server-5588fd886b-bcp7x   1&#x2F;1     Running   0          44s</span><br></pre></td></tr></table></figure>

<h4 id="æ•ˆæœæŸ¥çœ‹"><a href="#æ•ˆæœæŸ¥çœ‹" class="headerlink" title="æ•ˆæœæŸ¥çœ‹"></a>æ•ˆæœæŸ¥çœ‹</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ kubectl top nodes -n kube-system</span><br><span class="line">NAME         CPU(cores)   CPU%   MEMORY(bytes)   MEMORY%</span><br><span class="line">k3s-agent    20m          2%     202Mi           20%</span><br><span class="line">k3s-master   50m          5%     543Mi           54%</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ kubectl top pods -n kube-system</span><br><span class="line">NAME                              CPU(cores)   MEMORY(bytes)</span><br><span class="line">coredns-b7464766c-dbl29           3m           22Mi</span><br><span class="line">metrics-server-5588fd886b-bcp7x   1m           13Mi</span><br><span class="line">svclb-traefik-rmwcp               0m           1Mi</span><br><span class="line">svclb-traefik-t4gbn               0m           1Mi</span><br><span class="line">tiller-deploy-749f694975-f9rft    1m           9Mi</span><br><span class="line">traefik-5c79b789c5-8jsvg          3m           21Mi</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹æ‰€æœ‰Pods</span><br><span class="line">$ kubectl top pods --all-namespaces</span><br></pre></td></tr></table></figure>

<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="https://www.rancher.cn/docs/k3s/latest/en/configuration/#metrics-server" target="_blank" rel="noopener">Configuration Info</a></li>
<li><a href="https://github.com/kubernetes-incubator/metrics-server" target="_blank" rel="noopener">kubernetes-incubator/metrics-server</a></li>
</ul>
<p><strong>æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚</strong></p>
]]></content>
      <categories>
        <category>è½»é‡çº§äº‘åŸç”Ÿ</category>
      </categories>
      <tags>
        <tag>äº‘åŸç”Ÿ</tag>
        <tag>K3s</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoåšå®¢ç½®é¡¶åŠŸèƒ½ä¼˜åŒ–</title>
    <url>/2019/09/05/hexo-top-optimize/</url>
    <content><![CDATA[<p>ä»Šå¤©ä¸€ä¸ªæœ‹å‹å‘å¾®ä¿¡è·Ÿæˆ‘è¯´ï¼šâ€œä½ çš„åšå®¢è¯¥æ›´æ–°äº†ï¼Œéƒ½é•¿è‰äº†ï¼â€ æˆ‘ä¸€æƒ³ä¸å¯¹å‘€ï¼Œè¿™ä¸¤å¤©ä¸€ç›´éƒ½æœ‰æ›´æ–°æ–‡ç« çš„å‘€ï¼ç„¶åæˆ‘æ‰æç„¶æ˜ç™½åŸæ¥ä»–è¯´çš„æ˜¯æˆ‘åšå®¢çš„â€œç½®é¡¶â€åŠŸèƒ½ã€‚</p>
<p>ä¸è¿‡ç¡®å®ï¼ŒæŸäº›æ–‡ç« è®¾ç½®äº†ç½®é¡¶ååœ¨åšå®¢ä¸­ç»™äººçš„æ„Ÿè§‰å°±æ˜¯ï¼šä¸€çœ‹å‰é¢å‡ ç¯‡æ–‡ç« çš„å‘è¡¨æ—¶é—´è¿˜æ˜¯å¥½å‡ ä¸ªæœˆå‰çš„ç”šè‡³æ˜¯å‡ å¹´å‰çš„ï¼Œç¬¬ä¸€å°è±¡å°±æ˜¯ â€œè¿™ä¸ªåšå®¢å·²ç»å¥½ä¹…ä¸æ›´æ–°äº†å§ï¼â€ã€‚é‚£ç§æ„Ÿè§‰å°±åƒã€‚ã€‚ã€‚ä½ çº¦å¥³å­©å­è§é¢ç»“æœä¸‰å¤©æ²¡æ´—å¤´ä¸€æ ·ã€‚ã€‚ã€‚ä¸ä»…ä»…æ˜¯å°´å°¬</p>
<p>åœ¨æˆ‘ä¹‹å‰çš„æ–‡ç« ä¸­ä¹Ÿä»‹ç»è¿‡åœ¨Hexoåšå®¢ä¸­(nexTä¸»é¢˜)æ·»åŠ æ–‡ç« â€œç½®é¡¶â€åŠŸèƒ½çš„æ–¹æ³•ï¼š<a href="/2017/12/06/hexo-blog-optimization/">Hexoåšå®¢åŠŸèƒ½ä¼˜åŒ– | ITèŒƒå„¿</a> è™½ç„¶åªæ˜¯åœ¨å†™æ–‡ç« æ—¶æ·»åŠ äº†ä¸€ä¸ª <code>top: true</code> çš„æ ‡è®°ï¼Œä½†ç¡®å®å®ç°äº†ä¸€ä¸ªéå¸¸æ£’çš„åŠŸèƒ½ã€‚</p>
<p>å¯¹äºåšå®¢ä½œè€…æ¥è¯´ï¼ŒçŸ¥é“è¿™æ ·çš„æ–‡ç« æ˜¯â€œç½®é¡¶â€çš„ï¼Œä½†å¯¹äºåšå®¢æµè§ˆè€…æ¥è¯´ï¼Œä»–ä»¬å´å¹¶ä¸çŸ¥æƒ…ã€‚é‚£ä¹ˆæœ€å¥½çš„è§£å†³æ–¹æ³•å°±æ˜¯ä¸º â€œç½®é¡¶â€ çš„æ–‡ç« åŠ ä¸Šä¸€ä¸ªâ€œç½®é¡¶â€çš„æ ‡è®°ã€‚</p>
<hr>
<h4 id="ç½®é¡¶æ ‡è®°"><a href="#ç½®é¡¶æ ‡è®°" class="headerlink" title="ç½®é¡¶æ ‡è®°"></a>ç½®é¡¶æ ‡è®°</h4><p>ä»ç½‘ä¸Šç®€å•çš„æœç´¢äº†ä¸€ä¸‹ï¼Œæ‰¾åˆ°äº†å¦‚ä¸‹çš„ä»£ç æ®µã€‚ä¿®æ”¹åšå®¢æ–‡ä»¶ç›®å½•ä¸­çš„ <code>/themes/next/layout/_macro/post.swig</code> æ–‡ä»¶ï¼š</p>
<p>ç›´æ¥æœç´¢ <code>class=&quot;post-meta</code> åœ¨ <code>&lt;div class=&quot;post-meta&quot;&gt;</code> å’Œ <code>&lt;span class=&quot;post-time&quot;&gt;</code> ä¹‹é—´åŠ å…¥å¦‚ä¸‹çš„ä»£ç æ®µï¼š</p>
<p><strong>è¯¥å†™æ³•å·²è¿‡æ—¶ï¼Œå¯ä»¥æŸ¥çœ‹æ–‡ç« åº•éƒ¨çš„æ›´æ–°</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;post-meta&quot;&gt;</span><br><span class="line"> </span><br><span class="line"> &#123;% if post.top %&#125;</span><br><span class="line">    &lt;i class&#x3D;&quot;fa fa-thumb-tack&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">    &lt;font color&#x3D;7D26CD&gt;ç½®é¡¶&lt;&#x2F;font&gt;</span><br><span class="line">    &lt;span class&#x3D;&quot;post-meta-divider&quot;&gt;|&lt;&#x2F;span&gt;</span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line"></span><br><span class="line">  &lt;span class&#x3D;&quot;post-time&quot;&gt;</span><br></pre></td></tr></table></figure>

<p>ä¿å­˜ä¿®æ”¹ã€‚æ‰§è¡Œ <code>hexo s -g</code> æŸ¥çœ‹æ•ˆæœã€‚</p>
<hr>
<h4 id="é¢œè‰²ä¿®æ”¹"><a href="#é¢œè‰²ä¿®æ”¹" class="headerlink" title="é¢œè‰²ä¿®æ”¹"></a>é¢œè‰²ä¿®æ”¹</h4><p>å¯¹äºâ€œç½®é¡¶â€ä¸¤å­—çš„é¢œè‰²ï¼Œé»˜è®¤çš„é¢œè‰² <code>7D26CD</code> æˆ‘ä¸æ˜¯å¾ˆå–œæ¬¢ï¼Œæ‰€ä»¥æŠŠå®ƒæ”¹æˆäº†ç¨å¾®åçº¢çš„é¢œè‰² <code>#f05050</code> ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥éšæ„æ›´æ”¹ï¼Œçœ‹ä¸ªäººå–œå¥½äº†ã€‚</p>
<p><code>#</code> å·æœ‰æ²¡æœ‰æ— æ‰€è°“ï¼Œå¤§å°å†™éšæ„ä¸å½±å“ï¼Œä¸è¿‡ä¸ºäº†ç¬¦åˆæ ‡å‡†å»ºè®®å†™æˆè¿™æ ·ï¼š<code>color=&quot;#f05050&quot;</code>ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¿®æ”¹åå¿…é¡»é‡æ–°æ‰§è¡Œ <code>hexo s -g</code> å‘½ä»¤æ‰èƒ½çœ‹åˆ°æ•ˆæœï¼Œå¹¶ä¸æ˜¯åƒæ–‡ç« æ›´æ–°çš„é‚£æ ·åˆ·æ–°é¡µé¢å°±ç«‹å³ç”Ÿæ•ˆçš„ã€‚</p>
<hr>
<h4 id="å›¾æ ‡ä¿®æ”¹"><a href="#å›¾æ ‡ä¿®æ”¹" class="headerlink" title="å›¾æ ‡ä¿®æ”¹"></a>å›¾æ ‡ä¿®æ”¹</h4><p>å¯¹äºéœ€è¦çš„å›¾æ ‡ï¼Œå¯ä»¥ä»ç½‘ç«™ <a href="https://fontawesome.com/icons" target="_blank" rel="noopener">Icons | Font Awesome</a> ä¸­è·å–ã€‚ä¾‹å¦‚æˆ‘è¿™é‡Œå°±æ˜¯ä½¿ç”¨çš„ä¸€ä¸ª <code>å›¾é’‰</code> çš„Iconã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;i class&#x3D;&quot;fa fa-thumb-tack&quot;&gt;&lt;&#x2F;i&gt;</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="æ‰©å±•ä¼˜åŒ–"><a href="#æ‰©å±•ä¼˜åŒ–" class="headerlink" title="æ‰©å±•ä¼˜åŒ–"></a>æ‰©å±•ä¼˜åŒ–</h4><p>è™½ç„¶æŒ‰ç…§ä¸Šé¢çš„æ–¹æ³•åŠ ä¸Šäº† â€œç½®é¡¶â€ æ ‡è®°ï¼Œä¸è¿‡æ„Ÿè§‰å’Œè‡ªå·±æƒ³è±¡çš„ä¼¼ä¹æœ‰é‚£ä¹ˆç‚¹å·®è·ï¼Œä½†å·®è·åœ¨å“ªä¹Ÿä¸æ˜¯å¾ˆå¥½è¯´ã€‚ã€‚ã€‚</p>
<p>æ‰€ä»¥æˆ‘å°±ä¸Šç½‘å»æ‰¾äº†ä¸€ä¸‹ï¼Œå‘ç°äº†ä¸‹é¢çš„ä¸€ä¸ªç½‘ç«™çš„ç½®é¡¶æ•ˆæœï¼ˆå…¶ä¸­çš„æ–‡å­—æˆ‘åšäº†æ›¿æ¢ï¼‰ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190905125758.png" alt=""></p>
<p>æ©ï¼Œå°±æ˜¯è¿™æ ·ï¼â€œç½®é¡¶â€ ä¸¤ä¸ªå­—æ”¾åœ¨æ ‡é¢˜å‰é¢ï¼Œçº¢åº•ã€ç™½å­—ï¼Œéå¸¸é†’ç›®ã€‚</p>
<p>å½“ç„¶ï¼Œæ”¹èµ·æ¥å…¶å®ä¹Ÿå¾ˆç®€å•ã€‚ã€‚ã€‚</p>
<p>ä¸è¿‡å¯èƒ½æœ‰çš„æœ‹å‹è¯´äº†ï¼Œâ€œæˆ‘ä¹Ÿä¸ä¼šå†™ä»£ç å‘€ï¼Œè®©æˆ‘æ€ä¹ˆæ”¹ï¼Ÿâ€ï¼Œæˆ–è€… â€œæˆ‘ä¹Ÿä¸ä¼šnodejså‘€ï¼Ÿâ€ ã€‚ã€‚ã€‚</p>
<p>é‚£è¿™ä¸ªé—®é¢˜å…¶å®éå¸¸å¥½åŠï¼Œä¸ä¼šå†™ä½ è¿˜ä¸ä¼šæ”¹å—ï¼Ÿä¸ä¼šæ”¹ä½ è¿˜ä¸ä¼šæŠ„å—ï¼Ÿç…§è‘«èŠ¦ç”»ç“¢æ€»å¯ä»¥å§ï¼ï¼ï¼</p>
<p>é¦–å…ˆï¼ŒæŸ¥çœ‹ç½‘é¡µçš„æºä»£ç ï¼Œæ‰¾åˆ°æˆ‘ä»¬éœ€è¦æ·»åŠ ç½®é¡¶æ ‡è®°çš„æ–‡ç« æ ‡é¢˜ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;header class&#x3D;&quot;post-header&quot;&gt;</span><br><span class="line"></span><br><span class="line">       &lt;h2 class&#x3D;&quot;post-title&quot; itemprop&#x3D;&quot;name headline&quot;&gt;</span><br><span class="line">             </span><br><span class="line">             &lt;a class&#x3D;&quot;post-title-link&quot; href&#x3D;&quot;&#x2F;2019&#x2F;07&#x2F;11&#x2F;run-drone-cicd-on-kubernetes&#x2F;&quot; itemprop&#x3D;&quot;url&quot;&gt; åœ¨Kubernetesä¸Šæ‰§è¡ŒDrone CI&#x2F;CD&lt;&#x2F;a&gt;&lt;&#x2F;h2&gt;</span><br><span class="line">     </span><br><span class="line">     &lt;div class&#x3D;&quot;post-meta&quot;&gt;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°æ–‡ç« çš„æ ‡é¢˜æ˜¯åŒ…è£¹åœ¨ä¸€ä¸ªå¸¦æœ‰<code>class</code>æ ‡è®°çš„<code>a</code>é“¾æ¥ä¸­ï¼Œ<code>class</code>åç§°ä¸º<code>post-title-link</code>ã€‚</p>
<p>ç„¶åï¼Œæˆ‘ä»¬å†å›åˆ°ä¸Šé¢æ“ä½œçš„ <code>post.swig</code> æ–‡ä»¶ä¸­å»æœç´¢è¯¥<code>class</code> æ ‡è®°ï¼Œæ‰¾åˆ°äº†å¦‚ä¸‹çš„ä»£ç æ®µï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% endif %&#125;</span><br><span class="line">&lt;a class&#x3D;&quot;post-title-link&quot; href&#x3D;&quot;&#123;&#123; url_for(post.path) &#125;&#125;&quot; itemprop&#x3D;&quot;url&quot;&gt;&#123;#</span><br><span class="line">#&#125; &#123;&#123; post.title | default(__(&#39;post.untitled&#39;))&#125;&#125;&#123;#</span><br><span class="line">#&#125;&lt;&#x2F;a&gt;&#123;#</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡å•è¯å¯çŸ¥å…¶ä¸­çš„ <code>post.title</code> å°±æ˜¯æ–‡ç« çš„æ ‡é¢˜äº†ã€‚é‚£å…¶å®æˆ‘ä»¬åªéœ€è¦æŠŠ â€œç½®é¡¶â€ ä¸¤ä¸ªå­—åŠ åˆ°<code>a</code>æ ‡ç­¾ä¸­ï¼Œæ–‡ç« æ ‡é¢˜ä¹‹å‰å°±å¯ä»¥äº†å˜›ã€‚</p>
<p>ç„¶åï¼Œå›å»çœ‹æˆ‘ä»¬ä¸Šé¢çš„ â€œè‘«èŠ¦â€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;font color&#x3D;7D26CD&gt;ç½®é¡¶&lt;&#x2F;font&gt;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬åªéœ€ç¨å¾®æ”¹ä¸€ä¸‹ï¼ŒåŠ ä¸Šé¢œè‰²ï¼ŒåŠ ä¸Šç½®é¡¶æ¡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% if post.top %&#125;&lt;font color&#x3D;&quot;f05050&quot;&gt;[ç½®é¡¶] &lt;&#x2F;font&gt; &#123;% endif %&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åæ”¾è¿›å»å°±å¯ä»¥äº†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% endif %&#125;</span><br><span class="line">&lt;a class&#x3D;&quot;post-title-link&quot; href&#x3D;&quot;&#123;&#123; url_for(post.path) &#125;&#125;&quot; itemprop&#x3D;&quot;url&quot;&gt;&#123;#</span><br><span class="line">#&#125; &#123;% if post.top %&#125;&lt;font color&#x3D;&quot;f05050&quot;&gt;[ç½®é¡¶] &lt;&#x2F;font&gt; &#123;% endif %&#125; &#123;&#123; post.title | default(__(&#39;post.untitled&#39;))&#125;&#125;&#123;#</span><br><span class="line">#&#125;&lt;&#x2F;a&gt;&#123;#</span><br></pre></td></tr></table></figure>

<p>æœ€åçš„æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190905124633.png" alt=""></p>
<p>å½“ç„¶ï¼Œå‰ç«¯èƒ½åŠ›å¼ºçš„ï¼Œè¿˜å¯ä»¥å†ç¾åŒ–ä¸€ä¸‹ã€‚</p>
<hr>
<h4 id="è¯´ç‚¹åˆ«çš„"><a href="#è¯´ç‚¹åˆ«çš„" class="headerlink" title="è¯´ç‚¹åˆ«çš„"></a>è¯´ç‚¹åˆ«çš„</h4><p>åšå®¢å˜›ï¼Œçœ‹çš„å°±æ˜¯æ–‡ç« ã€‚é‡è¦çš„å°±æ˜¯æŠŠä½ åœ¨å·¥ä½œã€å­¦ä¹ æˆ–è€…ç”Ÿæ´»ä¸­é‡åˆ°çš„é—®é¢˜ã€è·å¾—çš„ç»éªŒã€å¾—åˆ°çš„æ”¶è·å»åˆ†äº«ç»™åˆ«äººï¼Œå¯èƒ½è¿™å°±æ˜¯æˆ‘å†™åšå®¢çš„åˆè¡·æ‰€åœ¨å§ã€‚</p>
<p>çœ‹åˆ°å¥½å¤šæœ‹å‹çš„åšå®¢æå¾—éå¸¸çš„â€œèŠ±å“¨â€ï¼Œä»€ä¹ˆåŠ¨æ€èƒŒæ™¯å•¦ï¼Œä»€ä¹ˆèŒèŒå“’å¡å“‡ä¼Šå•¦ã€‚æˆ‘ä¸€ç›´éƒ½ä¸æ˜¯å¾ˆæ„Ÿå†’ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190905122338.png" alt=""></p>
<p>å¯èƒ½æ›´å…³é”®çš„åŸå› æ˜¯ï¼šæ¯æ¬¡æˆ‘æ‰“å¼€å¸¦æœ‰â€œåŠ¨æ€èƒŒæ™¯â€çš„åšå®¢æ—¶ï¼Œæˆ‘çš„MacBookçš„é£æ‰‡å°±ä¼šè¿›å…¥ â€œç‹‚æµªâ€ æ¨¡å¼ï¼Œè™½ç„¶æˆ‘ä¸€ç›´è§‰å¾—è¿™å¯èƒ½æ˜¯Hexoçš„ä¸€ä¸ªè‡³ä»Šæœªè¢«ä¿®å¤çš„bugã€‚ã€‚ã€‚</p>
<p>ä½ å¬ï¼Œè€³è¾¹æƒ³èµ·äº†ï¼š</p>
<blockquote>
<p>ç‹‚æµªæ˜¯ä¸€ç§æ€åº¦ ç‹‚æµªåœ¨èµ·èµ·ä¼ä¼ ç‹‚æµª ç‹‚æµª ç‹‚æµª ç‹‚æµª</p>
</blockquote>
<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="http://wangwlj.com/2018/01/09/blog_pin_post/" target="_blank" rel="noopener">Hexoåšå®¢å½»åº•è§£å†³ç½®é¡¶é—®é¢˜ | wangwljâ€™s Blog</a></li>
</ul>
<hr>
<h4 id="ç½®é¡¶æ ‡è®°æ›´æ–°"><a href="#ç½®é¡¶æ ‡è®°æ›´æ–°" class="headerlink" title="ç½®é¡¶æ ‡è®°æ›´æ–°"></a>ç½®é¡¶æ ‡è®°æ›´æ–°</h4><p><strong>æ›´æ–°äºï¼š2021-04-10</strong></p>
<p>å¯¹äºä¸Šé¢æ·»åŠ çš„ <code>ç½®é¡¶æ ‡è®°</code> æç¤ºæ–‡å­—ï¼Œå…¶å®å¯ä»¥å‚è€ƒå·²æœ‰çš„ <code>å‘è¡¨äº</code> <code>æ›´æ–°äº</code> è¿™äº›å‰¯æ ‡é¢˜çš„æ ¼å¼æ¥å®ç°ã€‚æ­£å¥½æ˜¾ç¤ºåœ¨åŒä¸€è¡Œä¸Šï¼Œæ ¼å¼ä¹Ÿè¦ç»Ÿä¸€å˜›ï¼</p>
<p>æå– <code>å‘è¡¨äº</code> éƒ¨åˆ†çš„htmlä»£ç æ®µï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;span class&#x3D;&quot;post-meta-item&quot;&gt;</span><br><span class="line">    &lt;span class&#x3D;&quot;post-meta-item-icon&quot;&gt;</span><br><span class="line">    &lt;i class&#x3D;&quot;far fa-calendar&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">    &lt;&#x2F;span&gt;</span><br><span class="line">    &lt;span class&#x3D;&quot;post-meta-item-text&quot;&gt;å‘è¡¨äº&lt;&#x2F;span&gt;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    &lt;time title&#x3D;&quot;åˆ›å»ºæ—¶é—´ï¼š2021-02-28 11:18:43 &#x2F; ä¿®æ”¹æ—¶é—´ï¼š11:41:19&quot; itemprop&#x3D;&quot;dateCreated datePublished&quot; datetime&#x3D;&quot;2021-02-28T11:18:43+08:00&quot;&gt;2021-02-28&lt;&#x2F;time&gt;</span><br><span class="line">&lt;&#x2F;span&gt;</span><br></pre></td></tr></table></figure>


<p>å¯¹å…¶è¿›è¡Œä¼˜åŒ–ï¼Œæˆ‘ä»¬åªéœ€è¦æ˜¾ç¤ºæç¤ºæ–‡å­—ï¼Œä¸éœ€è¦åé¢çš„å¸¦ä¸‹åˆ’çº¿éƒ¨åˆ†ï¼Œæœ€ç»ˆå¾—åˆ°çš„å°±æ˜¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;span class&#x3D;&quot;post-meta-item&quot;&gt;</span><br><span class="line">  &lt;span class&#x3D;&quot;post-meta-item-icon&quot;&gt;</span><br><span class="line">      &lt;i class&#x3D;&quot;fas fa-thumbtack&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">  &lt;&#x2F;span&gt;</span><br><span class="line">  &lt;span class&#x3D;&quot;post-meta-item-text&quot;&gt;</span><br><span class="line">      &lt;font color&#x3D;&#39;#f05050&#39;&gt;[ç½®é¡¶]&lt;&#x2F;font&gt;</span><br><span class="line">  &lt;&#x2F;span&gt;</span><br><span class="line">&lt;&#x2F;span&gt;</span><br></pre></td></tr></table></figure>

<p>å®Œæ•´ä»£ç ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20210410164655.png" alt="20210410164655"></p>
<hr>
]]></content>
      <categories>
        <category>Hexoåšå®¢æ­å»º</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Chromeæµè§ˆå™¨é€šè¿‡SwitchyOmegaå®ç°è‡ªåŠ¨ä»£ç†åˆ‡æ¢</title>
    <url>/2019/09/04/autoproxy-by-shadowsocks-and-switchyomega/</url>
    <content><![CDATA[<p>åœ¨ä¹‹å‰ä½¿ç”¨ShadowSocksä»£ç†FQæ—¶ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æˆ‘å°±ä½¿ç”¨é»˜è®¤çš„ â€œè‡ªåŠ¨ä»£ç†æ¨¡å¼â€ï¼Œé‡åˆ°ä¸€äº›éœ€è¦FQçš„ç½‘ç«™æ—¶å†æ‰‹åŠ¨åˆ‡æ¢ä¸º â€œå…¨å±€æ¨¡å¼â€ã€‚è€Œæœ‰æ—¶å€™å¿˜äº†åˆ‡æ¢å›æ¥ï¼Œè®¿é—®å›½å†…çš„ç½‘ç«™å°±ç‰¹åˆ«çš„æ…¢ã€‚è€Œæ¯æ¬¡éƒ½éœ€è¦æ‰‹åŠ¨çš„åˆ‡æ¢ä¹Ÿæ˜¯éå¸¸ç¹çã€‚</p>
<p>ä¹‹å‰ä¹Ÿæ›¾ä½¿ç”¨è¿‡SwitchyOmegaå®ç°Chromeæµè§ˆå™¨çš„ä»£ç†åˆ‡æ¢ï¼Œä½†å½“æ—¶åªæ˜¯è¿›è¡Œäº†ç®€å•çš„è®¾ç½®ï¼Œæ²¡æœ‰æ·±å…¥çš„å»äº†è§£ã€‚æ‰€ä»¥é‡åˆ°ç‰¹æ®Šçš„æƒ…å†µå°±å¾ˆæ— å¥ˆï¼Œæœ€åä¹Ÿå°±å¼ƒç”¨äº†ã€‚</p>
<p>æœ€è¿‘èŠ±äº†ç‚¹æ—¶é—´çœ‹äº†çœ‹SwitchyOmegaçš„è®¾ç½®ï¼Œæ„Ÿè§‰æ˜¯æ—¶å€™å®ç°ä»£ç†çš„è‡ªåŠ¨åˆ‡æ¢äº†ã€‚</p>
<h4 id="ShadowSocks"><a href="#ShadowSocks" class="headerlink" title="ShadowSocks"></a>ShadowSocks</h4><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œssåœ¨è‡ªåŠ¨æ¨¡å¼ä¸‹æœ‰ä¸€ä¸ªPACæ–‡ä»¶ï¼Œè®°å½•ç€ä¸€äº›éœ€è¦FQæ‰èƒ½è®¿é—®çš„ç«™ç‚¹ã€‚ä¸è¿‡å¯¹äºè¯¥æ–‡ä»¶ä¸­æ²¡æœ‰è®°å½•çš„ç½‘ç«™ï¼Œåˆ™éœ€è¦æ‰‹åŠ¨çš„æ·»åŠ è¿›å»ã€‚åœ¨ä¹‹å‰çš„æ–‡ç«  <a href="https://www.itfanr.cc/2019/05/13/ss-add-urls-use-proxy/">å¦‚ä½•æ·»åŠ URLåˆ°shadowsocksçš„åˆ—è¡¨è®©å…¶ä½¿ç”¨ä»£ç†è®¿é—® | ITèŒƒå„¿</a> ä¸­æˆ‘ä¹Ÿä»‹ç»äº†ç›¸å…³çš„æ‰‹åŠ¨æ·»åŠ æ–¹æ³•ã€‚ä½†æ˜¯ï¼Œæ¯æ¬¡é‡åˆ°ä¸€ä¸ªæ–°çš„éœ€FQçš„ç«™ç‚¹éƒ½éœ€è¦è¿™æ ·æ¥æ“ä½œï¼Œä¹Ÿç¡®å®ç¹çäº†ä¸€äº›ã€‚</p>
<p>å…³äºssçš„ä¸€äº›é…ç½®ï¼Œè¿™é‡Œå°±ä¸è¯¦ç»†çš„ä»‹ç»äº†ã€‚æ‰€ä»¥åœ¨æ­¤ä¹‹å‰ï¼Œä½ åº”è¯¥æœ‰ä¸€ä¸ªæ­£å¸¸ä½¿ç”¨çš„sså®¢æˆ·ç«¯ã€‚</p>
<hr>
<h4 id="å®‰è£…Proxy-SwitchyOmega"><a href="#å®‰è£…Proxy-SwitchyOmega" class="headerlink" title="å®‰è£…Proxy SwitchyOmega"></a>å®‰è£…Proxy SwitchyOmega</h4><h5 id="åœ¨çº¿å®‰è£…"><a href="#åœ¨çº¿å®‰è£…" class="headerlink" title="åœ¨çº¿å®‰è£…"></a>åœ¨çº¿å®‰è£…</h5><p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œå¼€å¯äº†sså°±å¯ä»¥ç›´æ¥è®¿é—®Chromeåº”ç”¨å•†åº—æ¥å®‰è£…äº†ã€‚æœç´¢ â€œProxy SwitchyOmegaâ€ å®‰è£…å³å¯ã€‚</p>
<p>è¿™é‡Œæˆ‘ä¹Ÿç»™å‡ºäº† <code>Proxy SwitchyOmega</code> çš„åœ°å€ï¼š</p>
<ul>
<li><a href="https://chrome.google.com/webstore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif" target="_blank" rel="noopener">Proxy SwitchyOmega - Chrome ç½‘ä¸Šåº”ç”¨åº—</a></li>
</ul>
<h5 id="ç¦»çº¿å®‰è£…"><a href="#ç¦»çº¿å®‰è£…" class="headerlink" title="ç¦»çº¿å®‰è£…"></a>ç¦»çº¿å®‰è£…</h5><p>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç¦»çº¿çš„CRXåŒ…å®‰è£…ã€‚ä» Github ç›´æ¥ä¸‹è½½å®‰è£…åŒ…ï¼š</p>
<ul>
<li><a href="https://github.com/FelisCatus/SwitchyOmega/releases" target="_blank" rel="noopener">Releases Â· FelisCatus/SwitchyOmega</a></li>
</ul>
<p>åœ¨ Chrome åœ°å€æ è¾“å…¥ <code>chrome://extensions</code> æ‰“å¼€æ‰©å±•ç¨‹åºï¼Œæ‹–åŠ¨ <code>.crx</code> åç¼€çš„ <code>SwitchyOmega</code> å®‰è£…æ–‡ä»¶åˆ°æ‰©å±•ç¨‹åºä¸­æŒ‰æç¤ºè¿›è¡Œå®‰è£…ã€‚</p>
<hr>
<h4 id="Proxy-SwitchyOmegaé…ç½®"><a href="#Proxy-SwitchyOmegaé…ç½®" class="headerlink" title="Proxy SwitchyOmegaé…ç½®"></a>Proxy SwitchyOmegaé…ç½®</h4><p>åœ¨ <code>Proxy SwitchyOmega</code> å®‰è£…å®Œæˆåé»˜è®¤å·²è®¾ç½®å¥½ä¸¤ä¸ªæƒ…æ™¯æ¨¡å¼ï¼š<code>auto switch</code> å’Œ<code>proxy</code>ã€‚</p>
<p>æˆ‘ä¸‹é¢çš„æ“ä½œæ˜¯å°†åŸæ¥çš„é»˜è®¤è®¾ç½®åˆ é™¤åå¹¶é‡æ–°æ·»åŠ çš„ï¼ˆå› ä¸ºä¹‹å‰æœ‰ä¸€äº›å…¶ä»–çš„è®¾ç½®ï¼‰ï¼Œå½“ç„¶ä½ å¯ä»¥ç›´æ¥æŒ‰ç…§æˆ‘ä¸‹é¢çš„æ–¹æ³•æ¥ä¿®æ”¹é»˜è®¤å¸¦çš„è¿™ä¸¤ä¸ªæ¨¡å¼ã€‚</p>
<h5 id="æ–°å¢ä»£ç†æ¨¡å¼"><a href="#æ–°å¢ä»£ç†æ¨¡å¼" class="headerlink" title="æ–°å¢ä»£ç†æ¨¡å¼"></a>æ–°å¢ä»£ç†æ¨¡å¼</h5><p>å®‰è£…å®Œæˆåä¼šåœ¨ Chrome æµè§ˆå™¨å³ä¸Šè§’æ˜¾ç¤ºæ‰©å±•ç¨‹åºçš„å›¾æ ‡ï¼Œé€‰æ‹© â€œé€‰é¡¹â€ æ‰“å¼€ <code>SwitchyOmega</code> é€‰é¡¹è®¾ç½®ç•Œé¢ï¼Œç‚¹å‡» â€œæ–°å»ºæƒ…æ™¯æ¨¡å¼â€ï¼Œè¿™é‡Œæˆ‘è®¾ç½®åç§°ä¸º <code>ssä»£ç†</code>ï¼ˆåŒé»˜è®¤çš„proxyæ¨¡å¼ï¼‰ï¼Œæƒ…æ™¯ç±»å‹é€‰æ‹© â€œä»£ç†æœåŠ¡å™¨â€ï¼Œä¹‹åæ–°å¢ä¸€é¡¹ <code>SOCKS5</code>çš„ä»£ç†ä¿¡æ¯ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190904123229.png" alt=""></p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œssçš„ <code>SOCKS5</code> ä»£ç†ç«¯å£ä¸º <code>1080</code> ã€‚</p>
<p>å®Œæˆä¹‹åï¼Œç‚¹å‡» â€œåº”ç”¨é€‰é¡¹â€ ä¿å­˜è®¾ç½®ã€‚</p>
<h5 id="æ–°å¢æ™ºèƒ½åˆ‡æ¢æ¨¡å¼"><a href="#æ–°å¢æ™ºèƒ½åˆ‡æ¢æ¨¡å¼" class="headerlink" title="æ–°å¢æ™ºèƒ½åˆ‡æ¢æ¨¡å¼"></a>æ–°å¢æ™ºèƒ½åˆ‡æ¢æ¨¡å¼</h5><p>å†æ¬¡ç‚¹å‡» â€œæ–°å»ºæƒ…æ™¯æ¨¡å¼â€ï¼Œæˆ‘è®¾ç½®åç§°ä¸º â€œæ™ºèƒ½åˆ‡æ¢â€ï¼ˆåŒé»˜è®¤çš„auto switchæ¨¡å¼ï¼‰ï¼Œæƒ…æ™¯ç±»å‹é€‰æ‹© â€œè‡ªåŠ¨åˆ‡æ¢æ¨¡å¼â€ï¼Œç‚¹å‡» â€œåˆ›å»ºâ€ã€‚</p>
<p>åœ¨ â€œè§„åˆ™åˆ—è¡¨è®¾ç½®â€ ä¸­ï¼Œå¡«å†™ï¼š</p>
<blockquote>
<p>è§„åˆ™åˆ—è¡¨æ ¼å¼ï¼š <code>AutoProxy</code><br>è§„åˆ™åˆ—è¡¨ç½‘å€ï¼š <code>https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt</code></p>
</blockquote>
<p>ç„¶åç‚¹å‡» â€œç«‹å³æ›´æ–°æƒ…æ™¯æ¨¡å¼â€ï¼Œä¹‹åä¼šåœ¨ â€œè§„åˆ™åˆ—è¡¨æ­£æ–‡â€ ä¸­æ˜¾ç¤ºç›¸åº”çš„è§„åˆ™åˆ—è¡¨ã€‚</p>
<p>åœ¨ä¸Šé¢çš„ â€œåˆ‡æ¢è§„åˆ™â€ ä¸­ï¼Œå°† â€œè§„åˆ™åˆ—è¡¨è§„åˆ™â€ å‰é¢çš„æ¡†æ‰“<code>âˆš</code>ï¼Œåé¢é€‰æ‹©ä¸Šä¸€æ­¥è®¾ç½®çš„ â€œssä»£ç†â€(åŒé»˜è®¤çš„proxyæ¨¡å¼) ï¼Œä¸‹é¢çš„ â€œé»˜è®¤æƒ…æ™¯æ¨¡å¼â€ é€‰æ‹© â€œç›´æ¥è¿æ¥â€ ã€‚ç‚¹å‡»å·¦ä¾§ â€œåº”ç”¨é€‰é¡¹â€ ä¿å­˜è®¾ç½®å³å¯ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190904134646.png" alt=""></p>
<p>è¿™æ ·è®¾ç½®çš„æ„æ€è¡¨ç¤ºï¼šå¦‚æœç½‘å€åŒ¹é…åˆ°è§„åˆ™åˆ—è¡¨ä¸­çš„ç½‘å€è§„åˆ™ï¼Œåˆ™ä¼šèµ°ä»£ç†ï¼Œå¦‚æœæ²¡æœ‰åŒ¹é…åˆ°è§„åˆ™åŠé»˜è®¤çš„æƒ…å†µä¸‹ï¼Œåˆ™ä¼šç›´æ¥è®¿é—®ã€‚</p>
<h5 id="ä½“éªŒè‡ªåŠ¨ä»£ç†åˆ‡æ¢"><a href="#ä½“éªŒè‡ªåŠ¨ä»£ç†åˆ‡æ¢" class="headerlink" title="ä½“éªŒè‡ªåŠ¨ä»£ç†åˆ‡æ¢"></a>ä½“éªŒè‡ªåŠ¨ä»£ç†åˆ‡æ¢</h5><p>å°†ssçš„ä»£ç†æ¨¡å¼æ›´æ”¹ä¸º â€œè‡ªåŠ¨ä»£ç†æ¨¡å¼â€ï¼šç‚¹å‡» <code>SwitchyOmega</code> å›¾æ ‡é€‰æ‹© â€œæ™ºèƒ½åˆ‡æ¢â€ (åŒé»˜è®¤çš„proxyæ¨¡å¼) é€‰é¡¹å³å¯ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190904134924.png" alt=""></p>
<p>ç„¶ååœ¨Chromeæµè§ˆå™¨ä¸­æ‰“å¼€ <code>google.com</code> æŸ¥çœ‹æ˜¯å¦èƒ½æ­£å¸¸è®¿é—®ã€‚</p>
<hr>
<h4 id="è®¾ç½®æœ¬åœ°Ipä¸èµ°ä»£ç†"><a href="#è®¾ç½®æœ¬åœ°Ipä¸èµ°ä»£ç†" class="headerlink" title="è®¾ç½®æœ¬åœ°Ipä¸èµ°ä»£ç†"></a>è®¾ç½®æœ¬åœ°Ipä¸èµ°ä»£ç†</h4><p>æœ‰æ—¶å€™åœ¨æœ¬åœ°å¼€å‘ç½‘ç«™é¡¹ç›®æ—¶ï¼Œéƒ½ä¼šé€šè¿‡æœ¬åœ°çš„Ipæ¥è®¿é—®è°ƒè¯•ã€‚ä½†æŸäº›æƒ…å†µä¸‹æœ¬åœ°çš„Ipä¹Ÿä¼šå»èµ°SwitchyOmegaçš„ä»£ç†æ¨¡å¼ï¼Œæ‰€ä»¥éœ€è¦å°†æœ¬åœ°çš„Ipç»™å±è”½æ‰ã€‚</p>
<p>å¦‚ä¸Šé¢ â€œæ–°å¢ä»£ç†æ¨¡å¼â€ ä¸­çš„å›¾ç‰‡ï¼Œåœ¨ â€œä¸ä»£ç†åœ°å€åˆ—è¡¨â€ ä¸­å¡«å†™æœ¬åœ°çš„Ipåœ°å€ã€‚</p>
<p>æˆ‘æœ¬æœºçš„Ipä¸º <code>192.168.5.*</code>ï¼Œä¹‹åä¸è¦å¿˜äº† â€œåº”ç”¨é€‰é¡¹â€ æ¥ä¿å­˜è®¾ç½®ã€‚</p>
<hr>
<h4 id="æ–°å¢è‡ªå®šä¹‰ç«™ç‚¹"><a href="#æ–°å¢è‡ªå®šä¹‰ç«™ç‚¹" class="headerlink" title="æ–°å¢è‡ªå®šä¹‰ç«™ç‚¹"></a>æ–°å¢è‡ªå®šä¹‰ç«™ç‚¹</h4><p>å› ä¸ºæˆ‘ä»¬ä½¿ç”¨çš„è‡ªå®šä¹‰AutoProxyæ–‡ä»¶æ˜¯å…¬å…±çš„ï¼Œæ‰€ä»¥ä¸å¯èƒ½æŠŠæ‰€æœ‰éœ€è¦çš„ç½‘å€å…¨éƒ½åŠ è¿›å»ã€‚é‚£ä¹ˆå°±éœ€è¦æ¥è‡ªåŠ¨åˆ¤æ–­å“ªäº›ç½‘å€éœ€è¦æ·»åŠ è¿›è§„åˆ™åˆ—è¡¨ä¸­ã€‚</p>
<p>æ¯”å¦‚è®¿é—® <code>https://www.instagram.com/</code> ç½‘å€ï¼Œå¯ä»¥å‘ç°é€šè¿‡é»˜è®¤çš„ â€œæ™ºèƒ½åˆ‡æ¢â€ æ˜¯ä¸èƒ½æ­£å¸¸æµè§ˆçš„ã€‚</p>
<p>ä¸è¿‡ï¼Œå¯ä»¥çœ‹åˆ°æ­¤æ—¶ <code>SwitchyOmega</code> å›¾æ ‡å³ä¸‹è§’å¤šäº†ä¸€ä¸ªæ•°å­— <code>1</code>ã€‚</p>
<p>ä¾æ¬¡ç‚¹å‡» <code>SwitchyOmega</code> å›¾æ ‡ â€“ <code>1ä¸ªèµ„æºæœªåŠ è½½</code> ï¼Œåœ¨æ–°çš„çª—å£ä¸­é€‰æ‹©ç›¸åº”çš„æƒ…æ™¯æ¨¡å¼ <code>ssä»£ç†</code> å¹¶ç‚¹å‡» â€œæ·»åŠ æ¡ä»¶â€ã€‚</p>
<p>æ­¤æ—¶ï¼Œå¯ä»¥çœ‹åˆ°ç½‘ç«™åˆ·æ–°åé¡µé¢èƒ½å¤Ÿæ­£å¸¸çš„è®¿é—®äº†ã€‚</p>
<p>ä¹‹åï¼Œå†æ¬¡è®¿é—®ç½‘ç«™ <code>https://www.instagram.com/</code> æ—¶å°±ä¼šè‡ªåŠ¨ä½¿ç”¨ <code>ssä»£ç†</code> æ¨¡å¼æ¥å®ç°ç§‘å­¦ä¸Šç½‘äº†ã€‚</p>
<hr>
<h4 id="å¿«é€Ÿåˆ‡æ¢"><a href="#å¿«é€Ÿåˆ‡æ¢" class="headerlink" title="å¿«é€Ÿåˆ‡æ¢"></a>å¿«é€Ÿåˆ‡æ¢</h4><h5 id="åœºæ™¯"><a href="#åœºæ™¯" class="headerlink" title="åœºæ™¯"></a>åœºæ™¯</h5><p>é€šè¿‡ä¸Šé¢çš„è®¾ç½®åï¼Œåœ¨æµè§ˆç½‘é¡µæ—¶å·²ç»å¯ä»¥åšåˆ°æ™ºèƒ½åŒ–çš„ä»£ç†åˆ‡æ¢äº†ï¼šåœ¨è§„åˆ™åˆ—è¡¨ä¸­çš„èµ°ä»£ç†ï¼Œå…¶ä»–çš„ç›´æ¥è®¿é—®ã€‚æ²¡åœ¨è§„åˆ™åˆ—è¡¨ä¸­çš„æ‰‹åŠ¨æ·»åŠ ä¸€ä¸‹å³å¯ã€‚</p>
<p>ä¸è¿‡ï¼Œæ—¶é—´é•¿äº†ä¹‹åæˆ‘ä»¬ä¹Ÿä¼šæ„Ÿè§‰åˆ°åŒçƒ¦ã€‚å¦‚æœå°†æµè§ˆç½‘ç«™çš„éœ€æ±‚å‰¥ç¦»åˆ°æœ€ç®€å•ï¼š</p>
<p><strong>ä¸€ä¸ªç½‘å€ï¼Œè¦ä¹ˆæ˜¯æ­£å¸¸æµè§ˆæ¨¡å¼ï¼Œè¦ä¹ˆæ˜¯ç¿»å¢™æµè§ˆæ¨¡å¼ã€‚</strong> </p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨è¿™ä¸¤ç§æ¨¡å¼ä¹‹å‰åˆ‡æ¢å°±å¥½äº†å˜›ï¼Œæé‚£ä¹ˆå¤æ‚å¹²ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p><code>SwitchyOmega</code> ä¸­ä¹Ÿå·²ç»ä¸ºæˆ‘ä»¬æ·»åŠ äº†è¿™æ ·çš„é€‰é¡¹ â€“ â€œå¿«é€Ÿåˆ‡æ¢â€ æ¨¡å¼ã€‚</p>
<p>åœ¨ â€œå¿«é€Ÿåˆ‡æ¢â€ æ¨¡å¼ä¸‹ï¼Œå¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼æ¥åˆ‡æ¢æƒ…æ™¯æ¨¡å¼ï¼š</p>
<ol>
<li>é€šè¿‡ç‚¹å‡» <code>SwitchyOmega</code> çš„å›¾æ ‡æ¥å¾ªç¯åˆ‡æ¢</li>
<li>é€šè¿‡å¿«æ·é”® <code>Alt+Shift+O</code> æ¥å¾ªç¯åˆ‡æ¢</li>
</ol>
<h5 id="è®¾ç½®"><a href="#è®¾ç½®" class="headerlink" title="è®¾ç½®"></a>è®¾ç½®</h5><p>è¦å¯ç”¨ â€œå¿«é€Ÿåˆ‡æ¢â€ æ¨¡å¼ï¼Œç‚¹å‡»ï¼š</p>
<p>â€œé€‰é¡¹â€ â€“ â€œç•Œé¢â€ â€“ï¼ˆæœ€ä¸‹æ–¹ï¼‰â€œå¿«é€Ÿåˆ‡æ¢â€ï¼Œå‹¾é€‰å³å¯å¯ç”¨</p>
<p>åœ¨ â€œå¾ªç¯åˆ‡æ¢ä»¥ä¸‹æƒ…æ™¯æ¨¡å¼â€ ä¸­ï¼ŒåŠ å…¥ â€œç›´æ¥è¿æ¥â€ å’Œ â€œssä»£ç†â€ï¼ˆåŒé»˜è®¤çš„auto switchæ¨¡å¼ï¼‰ ä¸¤é¡¹ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190904155607.png" alt=""></p>
<p>æœ€åï¼Œç‚¹å‡»å·¦ä¾§çš„ â€åº”ç”¨é€‰é¡¹â€œ ä¿å­˜è®¾ç½®ã€‚</p>
<h5 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h5><p>åœ¨ â€å¿«é€Ÿåˆ‡æ¢â€œ æ¨¡å¼ä¸‹ï¼Œ<code>SwitchyOmega</code> å›¾æ ‡ç‚¹å‡»å°±ä¸ä¼šåƒä¹‹å‰ä¸€æ ·å¼¹å‡º <code>ä»£ç†åˆ—è¡¨èœå•</code> äº†ï¼Œè€Œæ˜¯åœ¨ â€œç›´è¿â€ å’Œ â€œä»£ç†â€ ä¹‹é—´å¾ªç¯åˆ‡æ¢ã€‚</p>
<p>å¦‚æœéœ€è¦æ‰“å¼€ <code>SwitchyOmega</code> çš„é€‰é¡¹ï¼Œå¯ä»¥<strong>å³å‡»</strong>è¯¥å›¾æ ‡ â€“ é€‰æ‹© â€œé€‰é¡¹â€ã€‚</p>
<p>å¦‚æœéœ€è¦æš‚æ—¶åœç”¨ â€œå¿«é€Ÿåˆ‡æ¢â€ æ¨¡å¼ï¼Œä¹Ÿå¯ä»¥<strong>å³å‡»</strong>è¯¥å›¾æ ‡ â€“ å°† â€œå¯ç”¨å¿«é€Ÿåˆ‡æ¢â€ å‰é¢çš„ <code>âˆš</code> å»æ‰å³å¯ã€‚</p>
<p>è¿™æ ·åœ¨æµè§ˆç½‘ç«™æ—¶ï¼Œå¦‚æœ â€œç›´è¿â€ æ— æ³•è®¿é—®ï¼Œç‚¹å‡»ä¸€ä¸‹å›¾æ ‡æˆ–è€…å¿«æ·é”®å°±å¯ä»¥ä½¿ç”¨ä»£ç†äº†ã€‚</p>
<p>ä¸è¿‡ï¼Œåœ¨ä¸€æ®µæ—¶é—´çš„ä½“éªŒåä¸ªäººæ„Ÿè§‰è¿™ç§æ–¹å¼å…¶å®æ²¡æœ‰ä¸Šé¢çš„ â€œè‡ªåŠ¨åˆ‡æ¢æ¨¡å¼â€ æ¥çš„æ–¹ä¾¿ã€‚</p>
<hr>
<h4 id="è™šæ‹Ÿæƒ…æ™¯æ¨¡å¼"><a href="#è™šæ‹Ÿæƒ…æ™¯æ¨¡å¼" class="headerlink" title="è™šæ‹Ÿæƒ…æ™¯æ¨¡å¼"></a>è™šæ‹Ÿæƒ…æ™¯æ¨¡å¼</h4><h5 id="å¦‚ä½•ç†è§£"><a href="#å¦‚ä½•ç†è§£" class="headerlink" title="å¦‚ä½•ç†è§£"></a>å¦‚ä½•ç†è§£</h5><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ªæƒ…æ™¯æ¨¡å¼ä¸­åªèƒ½æ·»åŠ ä¸€ä¸ªä»£ç†æœåŠ¡å™¨ã€‚å¦‚æœä½ æœ‰å¤šä¸ªä»£ç†æœåŠ¡å™¨å¯ç”¨ï¼Œé‚£ä¹ˆå°±éœ€è¦æ·»åŠ å¤šä¸ªä»£ç†æƒ…æ™¯æ¨¡å¼ã€‚</p>
<p>å‡å¦‚æˆ‘æœ‰Aã€Bã€Cä¸‰ä¸ªä»£ç†ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨ â€œè‡ªåŠ¨åˆ‡æ¢æ¨¡å¼â€ ä¸‹æˆ‘é€‰æ‹©çš„æ˜¯Aä»£ç†å’Œç›´è¿ã€‚çªç„¶æœ‰ä¸€å¤©ï¼ŒAä»£ç†æŒ‚æ‰äº†ï¼Œè¿ä¸ä¸Šäº†ï¼Œè¿™æ—¶æˆ‘å°±éœ€è¦åœ¨ â€œè‡ªåŠ¨åˆ‡æ¢æ¨¡å¼â€ ä¸­æ‰‹åŠ¨å°†Bä»£ç†æˆ–è€…Cä»£ç†è®¾ç½®ä¸ºé»˜è®¤çš„ä»£ç†æœåŠ¡å™¨ã€‚</p>
<p>è€Œ â€œè™šæ‹Ÿæƒ…æ™¯æ¨¡å¼â€ å°±æ˜¯é’ˆå¯¹äºè¿™ç§å¤šä¸ªä»£ç†çš„æƒ…å†µè€Œè¨€çš„ã€‚ä½ å¯ä»¥æŠŠå®ƒçœ‹æˆ â€œä»£ç†å·¥å…·çš„é›†åˆâ€ ï¼Œå¯ä»¥å¿«é€Ÿçš„ä½¿ç”¨å…¶ä¸­ä¸€ä¸ªä»£ç†æ¥è¿›è¡Œè¿æ¥ã€‚è€Œå¦‚æœå…¶ä¸­ä¸€ä¸ªä»£ç†æŒ‚æ‰ï¼Œåˆå¯ä»¥å¿«é€Ÿçš„åˆ‡æ¢åˆ°å¦ä¸€ä¸ªä»£ç†æ¥ä½¿ç”¨ã€‚</p>
<h5 id="å¦‚ä½•è®¾ç½®"><a href="#å¦‚ä½•è®¾ç½®" class="headerlink" title="å¦‚ä½•è®¾ç½®"></a>å¦‚ä½•è®¾ç½®</h5><h6 id="æ·»åŠ å¤šä¸ªä»£ç†"><a href="#æ·»åŠ å¤šä¸ªä»£ç†" class="headerlink" title="æ·»åŠ å¤šä¸ªä»£ç†"></a>æ·»åŠ å¤šä¸ªä»£ç†</h6><p>åœ¨å¼€å§‹è®¾ç½®ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ·»åŠ å¤šä¸ªä»£ç†ã€‚æ¯”å¦‚æˆ‘è¿™é‡Œæ·»åŠ äº†ä¸€ä¸ª â€Bä»£ç†â€œ å’Œä¸€ä¸ª â€Cä»£ç†â€œ ã€‚</p>
<h6 id="æ–°å¢è™šæƒ…æ™¯æ¨¡å¼"><a href="#æ–°å¢è™šæƒ…æ™¯æ¨¡å¼" class="headerlink" title="æ–°å¢è™šæƒ…æ™¯æ¨¡å¼"></a>æ–°å¢è™šæƒ…æ™¯æ¨¡å¼</h6><p>ç‚¹å‡» â€œæ–°å¢æƒ…æ™¯æ¨¡å¼â€ â€“ è®¾ç½®åç§°ï¼ˆæˆ‘è¿™é‡Œè®¾ç½®ä¸º â€œè™šæ‹Ÿä»£ç†â€ï¼‰ â€“ é€‰æ‹© â€œè™šæƒ…æ™¯æ¨¡å¼â€ â€“ åˆ›å»ºã€‚</p>
<p>åœ¨ â€è™šæƒ…æ™¯æ¨¡å¼â€œ çš„ â€ç›®æ ‡â€œ ä¸­ï¼Œé€‰æ‹©æ‰€æœ‰çš„ â€ä»£ç†â€œ æ¨¡å¼å…¶ä¸­çš„ä¸€é¡¹ï¼Œè¡¨ç¤ºé»˜è®¤ä½¿ç”¨çš„ä»£ç†ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190904153038.png" alt=""></p>
<p>æœ€åï¼Œåˆ«å¿˜äº†ç‚¹å‡»å·¦ä¾§çš„ â€åº”ç”¨é€‰é¡¹â€œ ä¿å­˜è®¾ç½®ã€‚</p>
<h6 id="ä½¿ç”¨è™šæƒ…æ™¯ä»£ç†"><a href="#ä½¿ç”¨è™šæƒ…æ™¯ä»£ç†" class="headerlink" title="ä½¿ç”¨è™šæƒ…æ™¯ä»£ç†"></a>ä½¿ç”¨è™šæƒ…æ™¯ä»£ç†</h6><p>é€‰æ‹© â€œè‡ªåŠ¨ä»£ç†æ¨¡å¼â€ ï¼šæˆ‘è¿™é‡Œæ˜¯ â€œæ™ºèƒ½åˆ‡æ¢â€ æ¨¡å¼ï¼ˆåŒé»˜è®¤çš„auto switchæ¨¡å¼ï¼‰ã€‚</p>
<p>å°† â€œè§„åˆ™åˆ—è¡¨è§„åˆ™â€ åé¢çš„æƒ…æ™¯æ¨¡å¼æ›´æ”¹ä¸ºæˆ‘ä»¬æ–°è®¾ç½®çš„ â€œè™šæ‹Ÿæƒ…æ™¯æ¨¡å¼â€ ä»£ç†ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190904153759.png" alt=""></p>
<p>æœ€åï¼Œç‚¹å‡»å·¦ä¾§çš„ â€åº”ç”¨é€‰é¡¹â€œ ä¿å­˜è®¾ç½®ã€‚</p>
<h6 id="ä½¿ç”¨-1"><a href="#ä½¿ç”¨-1" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h6><p>æ‰“å¼€ <code>google.com</code> é¡µé¢ï¼Œä¾æ—§é€‰æ‹© â€œæ™ºèƒ½åˆ‡æ¢â€ ï¼ˆåŒé»˜è®¤çš„auto switchæ¨¡å¼ï¼‰ä»£ç†ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190904154252.png" alt=""></p>
<p>åªæ˜¯è¿™æ—¶å¯ä»¥çœ‹åˆ°æ–°å¢çš„ â€œè™šæ‹Ÿä»£ç†â€ é€‰é¡¹åé¢å¤šäº†ä¸€ä¸ªä¸‹æ‹‰æ¡†ï¼Œå¯ä»¥è®©æˆ‘ä»¬åœ¨å¤šä¸ªä»£ç†ä¹‹é—´é€‰æ‹©å…¶ä¸­ä¸€ä¸ªæ¥ä½¿ç”¨ã€‚</p>
<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="https://proxy-switchyomega.com/" target="_blank" rel="noopener">Proxy SwitchyOmega - è½»æ¾å¿«æ·çš„ç®¡ç†å’Œåˆ‡æ¢å¤šä¸ªä»£ç†è®¾ç½®</a></li>
<li><a href="https://wall-guide.readthedocs.io/zh/latest/SwitchyOmega%E4%BB%A3%E7%90%86%E8%AE%BE%E7%BD%AE.html" target="_blank" rel="noopener">SwitchyOmegaä»£ç†è®¾ç½® â€” ç©¿å¢™æŒ‡å— 1.0.0 æ–‡æ¡£</a></li>
<li><a href="http://ip111.cn/" target="_blank" rel="noopener">æ˜¾ç¤ºæŸ¥è¯¢è‡ªå·±çš„IPåœ°å€</a></li>
<li><a href="https://github.com/feliscatus/switchyomega/issues/399" target="_blank" rel="noopener">å»ºè®®ï¼šæ¢å›proxyswitchçš„åˆ‡æ¢æ–¹å¼ Â· Issue #399 Â· FelisCatus/SwitchyOmega</a></li>
<li><a href="https://black1ce.com/skill/switchyomega-fic.html" target="_blank" rel="noopener">å¦‚ä½•é€šä¿—çš„ç†è§£ Switchy Omega è™šæ‹Ÿæƒ…æ™¯æ¨¡å¼ - é»‘å†°æŠ€æœ¯ç«™</a></li>
</ul>
]]></content>
      <tags>
        <tag>Shadowsocks</tag>
      </tags>
  </entry>
  <entry>
    <title>è½»é‡çº§Kuberneteså‘è¡Œç‰ˆk3sä¹‹Helmå®‰è£…åŠåº”ç”¨éƒ¨ç½²</title>
    <url>/2019/09/01/lightweight-kubernetes-release-k3s-helm/</url>
    <content><![CDATA[<h4 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h4><h5 id="helmä»‹ç»"><a href="#helmä»‹ç»" class="headerlink" title="helmä»‹ç»"></a>helmä»‹ç»</h5><p>Helmæ˜¯Kubernetesç”Ÿæ€ç³»ç»Ÿä¸­çš„ä¸€ä¸ªè½¯ä»¶åŒ…ç®¡ç†å·¥å…·ã€‚</p>
<p>ç±»ä¼¼äºUbuntuä¸‹çš„ap-getæˆ–è€…CentOSä¸‹çš„yumï¼ŒHelmæ˜¯ä¸€ä¸ªç”¨äºkubernetesçš„åŒ…ç®¡ç†å™¨ã€‚</p>
<p>é€šè¿‡Helmå¯ä»¥å¯¹åº”ç”¨ç¨‹åºç›¸å…³çš„Kubernetesèµ„æºæ–‡ä»¶è¿›è¡Œæ‰“åŒ…ï¼Œç®¡ç†ä¾èµ–åŠç®¡ç†åº”ç”¨ç¨‹åºç‰ˆæœ¬ç­‰åŠŸèƒ½ã€‚</p>
<h5 id="helmç»„ä»¶"><a href="#helmç»„ä»¶" class="headerlink" title="helmç»„ä»¶"></a>helmç»„ä»¶</h5><ul>
<li><code>Helm</code>: Kubernetesçš„åº”ç”¨æ‰“åŒ…å·¥å…·ï¼Œä¹Ÿæ˜¯å‘½ä»¤è¡Œå·¥å…·å®¢æˆ·ç«¯çš„åç§°</li>
<li><code>Tiller</code>: Helmçš„æœåŠ¡ç«¯ï¼Œéƒ¨ç½²åœ¨Kubernetesé›†ç¾¤ä¸­ï¼Œç”¨äºå¤„ç†Helmçš„ç›¸å…³å‘½ä»¤</li>
<li><code>Chart</code>: Helmçš„æ‰“åŒ…æ ¼å¼ï¼Œå†…éƒ¨åŒ…å«äº†ä¸€ç»„ç›¸å…³çš„kubernetesèµ„æº</li>
<li><code>Release</code>: ä½¿ç”¨Helm installå‘½ä»¤åœ¨Kubernetesé›†ç¾¤ä¸­å®‰è£…çš„Chartç§°ä¸ºRelease</li>
<li><code>Repoistory</code>: Helmçš„è½¯ä»¶ä»“åº“</li>
</ul>
<hr>
<h4 id="helmå®¢æˆ·ç«¯å®‰è£…"><a href="#helmå®¢æˆ·ç«¯å®‰è£…" class="headerlink" title="helmå®¢æˆ·ç«¯å®‰è£…"></a>helmå®¢æˆ·ç«¯å®‰è£…</h4><p>helmä½¿ç”¨çš„æ˜¯å’Œkubctlç›¸åŒçš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡å®˜æ–¹çš„è¯´æ˜äº†è§£ï¼š</p>
<blockquote>
<p>Helm will figure out where to install Tiller by reading your Kubernetes configuration file (usually <code>$HOME/.kube/config</code>). This is the same file that kubectl uses.</p>
</blockquote>
<p>åœ¨å®‰è£…æœ‰kubectlçš„æœåŠ¡å™¨ä¸Šå®‰è£…helmå®¢æˆ·ç«¯æˆ–è€…å°†k3sçš„é…ç½®æ–‡ä»¶ <code>/etc/rancher/k3s/k3s.yaml</code> æ‹·è´åˆ°æŒ‡å®šè®¾å¤‡çš„ <code>~/.kube/config</code></p>
<p>å¦‚æœæ˜¯å…¶ä»–æŒ‡å®šè®¾å¤‡ï¼Œéœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ <code>~/.kube/config</code> ï¼Œå°†å…¶ä¸­çš„ <code>https://localhost:6443</code> æ›¿æ¢ä¸ºk3sçš„masterèŠ‚ç‚¹çš„IPï¼Œå¦‚ <code>https://192.168.5.17:6443</code></p>
<p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œæµ‹è¯•kubectlæ˜¯å¦èƒ½æ­£å¸¸ç®¡ç†k3sé›†ç¾¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">kubectl get nodes</span><br></pre></td></tr></table></figure>

<p>ä» <a href="https://github.com/helm/helm/releases" target="_blank" rel="noopener">Releases Â· helm/helm</a> ä¸‹è½½ hemlçš„å®¢æˆ·ç«¯å®‰è£…åŒ…ï¼Œè§£å‹åå°†å…¶ä¸­çš„ <code>helm</code> ç¨‹åºç§»åŠ¨åˆ° <code>/usr/local/bin</code> ç›®å½•ä¸‹ã€‚</p>
<h4 id="helmå®¢æˆ·ç«¯éªŒè¯"><a href="#helmå®¢æˆ·ç«¯éªŒè¯" class="headerlink" title="helmå®¢æˆ·ç«¯éªŒè¯"></a>helmå®¢æˆ·ç«¯éªŒè¯</h4><p>å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹helmçš„ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ helm version</span><br><span class="line">Client: &amp;version.Version&#123;SemVer:&quot;v2.14.3&quot;, GitCommit:&quot;0e7f3b6637f7af8fcfddb3d2941fcc7cbebb0085&quot;, GitTreeState:&quot;clean&quot;&#125;</span><br><span class="line">Error: could not find tiller</span><br></pre></td></tr></table></figure>

<p>æ­¤å¤„å¯èƒ½ä¼šæŠ¥å‡º <code>dial tcp [::1]:8080: connect: connection refused</code> çš„é”™è¯¯ï¼Œè§£å†³æ–¹æ³•è§ä¸‹é¢ã€‚</p>
<h4 id="helmæœåŠ¡ç«¯å®‰è£…"><a href="#helmæœåŠ¡ç«¯å®‰è£…" class="headerlink" title="helmæœåŠ¡ç«¯å®‰è£…"></a>helmæœåŠ¡ç«¯å®‰è£…</h4><p>helmçš„æœåŠ¡ç«¯åä¸ºtillerï¼Œtilleréœ€è¦éƒ¨ç½²åœ¨Kubernetesé›†ç¾¤ä¸­å¹¶ä¸”éœ€è¦è®¾ç½®ç›¸åº”çš„æƒé™ã€‚</p>
<p>ç¬¬ä¸€æ­¥ï¼šä¸ºTilleråˆ›å»ºä¸€ä¸ªService Accountï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">kubectl -n kube-system create serviceaccount tiller</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒæ­¥ï¼šä¸ºTillerèµ‹äºˆcluster-adminæƒé™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">kubectl create clusterrolebinding tiller --clusterrole&#x3D;cluster-admin --serviceaccount&#x3D;kube-system:tiller</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥ç›´æ¥åˆ›å»ºä¸‹é¢çš„ <code>tiller-rbac-config.yaml</code> æ–‡ä»¶æ¥å®Œæˆä¸Šé¢ä¸¤æ­¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">apiVersion: v1</span><br><span class="line">kind: ServiceAccount</span><br><span class="line">metadata:</span><br><span class="line">  name: tiller</span><br><span class="line">  namespace: kube-system</span><br><span class="line">---</span><br><span class="line">apiVersion: rbac.authorization.k8s.io&#x2F;v1</span><br><span class="line">kind: ClusterRoleBinding</span><br><span class="line">metadata:</span><br><span class="line">  name: tiller</span><br><span class="line">roleRef:</span><br><span class="line">  apiGroup: rbac.authorization.k8s.io</span><br><span class="line">  kind: ClusterRole</span><br><span class="line">  name: cluster-admin</span><br><span class="line">subjects:</span><br><span class="line">  - kind: ServiceAccount</span><br><span class="line">    name: tiller</span><br><span class="line">    namespace: kube-system</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">kubectl create -f tiller-rbac-config.yaml</span><br></pre></td></tr></table></figure>

<p>å®‰è£…Tiller:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">helm init --service-account tiller</span><br></pre></td></tr></table></figure>

<p>tillerçš„é•œåƒé»˜è®¤ä¼šå» <code>gcr.io</code> é•œåƒä»“åº“ä¸­è·å–ï¼Œè€Œè¯¥åœ°å€åœ¨å›½å†…æ˜¯æ— æ³•è®¿é—®çš„ã€‚æ­¤æ—¶å¯ä»¥é€šè¿‡ <code>--tiller-image</code> æ¥æŒ‡å®šå›½å†…çš„é•œåƒä»“åº“æºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">helm init --service-account tiller \</span><br><span class="line">--tiller-image registry.cn-hangzhou.aliyuncs.com&#x2F;google_containers&#x2F;tiller:&lt;tag&gt;</span><br></pre></td></tr></table></figure>

<p>è¯¦ç»†çš„è§£å†³æ–¹æ³•è¯´æ˜è§ä¸‹é¢ã€‚</p>
<h4 id="éªŒè¯Tiller"><a href="#éªŒè¯Tiller" class="headerlink" title="éªŒè¯Tiller"></a>éªŒè¯Tiller</h4><p>é€šè¿‡å¦‚ä¸‹å‘½ä»¤æ¥éªŒè¯helmæœåŠ¡ç«¯Tilleræ˜¯å¦å®‰è£…æˆåŠŸï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ helm version</span><br><span class="line"></span><br><span class="line">Client: &amp;version.Version&#123;SemVer:&quot;v2.14.3&quot;, GitCommit:&quot;0e7f3b6637f7af8fcfddb3d2941fcc7cbebb0085&quot;, GitTreeState:&quot;clean&quot;&#125;</span><br><span class="line">Server: &amp;version.Version&#123;SemVer:&quot;v2.14.3&quot;, GitCommit:&quot;0e7f3b6637f7af8fcfddb3d2941fcc7cbebb0085&quot;, GitTreeState:&quot;clean&quot;&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœåŒæ—¶æ˜¾ç¤ºå‡ºäº†helmçš„clientå’Œserverçš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œåˆ™è¯´æ˜å®‰è£…æˆåŠŸã€‚</p>
<p>å¦‚æœæ˜¾ç¤ºä¸º <code>Error: could not find a ready tiller pod</code> åˆ™åªéœ€ç¨ç­‰ä¸€ä¸‹ï¼Œå¾…tillerçš„Podå®‰è£…å®Œæˆå³å¯ã€‚</p>
<p>ä¹Ÿå¯ä»¥é€šè¿‡ <code>kubectl</code> å‘½ä»¤æ¥éªŒè¯ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ kubectl get pods -n kube-system | grep tiller</span><br></pre></td></tr></table></figure>

<p>å¦‚æœçœ‹åˆ°ä¸€ä¸ªå‰ç¼€ä¸º <code>tiller-deploy</code> çš„Podå³è¯´æ˜Tillerå®‰è£…æˆåŠŸäº†ã€‚</p>
<h4 id="Tillerå‡çº§"><a href="#Tillerå‡çº§" class="headerlink" title="Tillerå‡çº§"></a>Tillerå‡çº§</h4><p>é€šè¿‡å¦‚ä¸‹å‘½ä»¤æ¥å‡çº§Tillerç‰ˆæœ¬ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">helm init --upgrade</span><br></pre></td></tr></table></figure>

<h4 id="Tillerå¸è½½"><a href="#Tillerå¸è½½" class="headerlink" title="Tillerå¸è½½"></a>Tillerå¸è½½</h4><p>ç”±äºTillerçš„æ•°æ®ä¿å­˜åœ¨ConfigMapsä¸­ï¼Œæ‰€ä»¥æ— éœ€æ‹…å¿ƒæ•°æ®ä¸¢å¤±çš„é—®é¢˜ã€‚å¸è½½Tilleræ¨èçš„æ–¹å¼æ˜¯æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">kubectl delete deployment tiller-deploy --namespace kube-system</span><br><span class="line"></span><br><span class="line">kubectl delete svc tiller-deploy --namespace kube-system</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">helm reset</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="é€šè¿‡Helm-Chartéƒ¨ç½²åº”ç”¨"><a href="#é€šè¿‡Helm-Chartéƒ¨ç½²åº”ç”¨" class="headerlink" title="é€šè¿‡Helm Chartéƒ¨ç½²åº”ç”¨"></a>é€šè¿‡Helm Chartéƒ¨ç½²åº”ç”¨</h4><p>è¿™é‡Œï¼Œæˆ‘é€šè¿‡ä¸€ä¸ªç®€å•çš„Chartæ¥æµ‹è¯•é€šè¿‡helméƒ¨ç½²åº”ç”¨ã€‚</p>
<h5 id="Chart"><a href="#Chart" class="headerlink" title="Chart"></a>Chart</h5><p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ¥åˆ›å»ºä¸€ä¸ªchartï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ helm create hello-chart</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹è¯¥chartç›®å½•ä¸‹çš„æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ ls hello-chart</span><br><span class="line">charts  Chart.yaml  templates  values.yaml</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼Œ<code>Chart.yaml</code> æ–‡ä»¶ç”¨äºæè¿°è¿™ä¸ªchartï¼Œå…¶ä¸­åŒ…æ‹¬chartçš„åç§°ã€æè¿°ä¿¡æ¯ä»¥åŠç‰ˆæœ¬ç­‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ cat Chart.yaml</span><br><span class="line">apiVersion: v1</span><br><span class="line">appVersion: &quot;1.0&quot;</span><br><span class="line">description: A Helm chart for Kubernetes</span><br><span class="line">name: hello-chart</span><br><span class="line">version: 0.1.0</span><br></pre></td></tr></table></figure>

<p><code>values.yaml</code> ç”¨äºå­˜å‚¨templatesç›®å½•ä¸­æ¨¡æ¿æ–‡ä»¶ä¸­ç”¨åˆ°çš„å˜é‡ã€‚æ¨¡æ¿æ–‡ä»¶å°±æ˜¯Goæ¨¡æ¿ï¼Œéœ€è¦å®‰è£…Goæ¨¡æ¿çš„è§„åˆ™æ¥ç¼–å†™ã€‚</p>
<p><code>templates</code> ç›®å½•ä¸‹åˆ™æ˜¯éƒ¨ç½²åº”ç”¨çš„ç›¸å…³æ¨¡æ¿æ–‡ä»¶ã€‚</p>
<h5 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h5><p>ä¿®æ”¹ <code>values.yaml</code> æ–‡ä»¶ä¸­ä¸‹é¢éƒ¨åˆ†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">image:</span><br><span class="line">  repository: nginx</span><br><span class="line">  tag: stable</span><br><span class="line">  pullPolicy: IfNotPresent</span><br><span class="line"></span><br><span class="line">imagePullSecrets: []</span><br><span class="line">nameOverride: &quot;&quot;</span><br><span class="line">fullnameOverride: &quot;&quot;</span><br><span class="line"></span><br><span class="line">service:</span><br><span class="line">  type: ClusterIP</span><br><span class="line">  port: 80</span><br></pre></td></tr></table></figure>

<p>å°†å…¶ä¸­çš„ <code>image.tag</code> ä¿®æ”¹ä¸º <code>alpine</code> ï¼Œå°† <code>service.type</code> ä¿®æ”¹ä¸º <code>NodePort</code> ã€‚å³ä½¿ç”¨ <code>nginx:alpine</code> é•œåƒï¼Œå¹¶è®¾ç½®serviceç±»å‹ä¸º <code>NodePort</code>ï¼Œä»¥ä¾¿äºè®¿é—®ã€‚</p>
<p>ä¿®æ”¹å®Œæˆåï¼Œåœ¨ <code>hello-chart</code> ç›®å½•åŒçº§ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ¥éƒ¨ç½²helmï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ helm install .&#x2F;hello-chart</span><br><span class="line">NAME:   truculent-wolverine</span><br><span class="line">LAST DEPLOYED: Sun Sep  1 23:51:47 2019</span><br><span class="line">NAMESPACE: default</span><br><span class="line">STATUS: DEPLOYED</span><br><span class="line"></span><br><span class="line">RESOURCES:</span><br><span class="line">&#x3D;&#x3D;&gt; v1&#x2F;Deployment</span><br><span class="line">NAME                             READY  UP-TO-DATE  AVAILABLE  AGE</span><br><span class="line">truculent-wolverine-hello-chart  0&#x2F;1    0           0          0s</span><br><span class="line"></span><br><span class="line">&#x3D;&#x3D;&gt; v1&#x2F;Pod(related)</span><br><span class="line">NAME                                              READY  STATUS   RESTARTS  AGE</span><br><span class="line">truculent-wolverine-hello-chart-655545d645-72xg9  0&#x2F;1    Pending  0         0s</span><br><span class="line"></span><br><span class="line">&#x3D;&#x3D;&gt; v1&#x2F;Service</span><br><span class="line">NAME                             TYPE      CLUSTER-IP     EXTERNAL-IP  PORT(S)       AGE</span><br><span class="line">truculent-wolverine-hello-chart  NodePort  10.43.199.183  &lt;none&gt;       80:31337&#x2F;TCP  0s</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">NOTES:</span><br><span class="line">1. Get the application URL by running these commands:</span><br><span class="line">  export NODE_PORT&#x3D;$(kubectl get --namespace default -o jsonpath&#x3D;&quot;&#123;.spec.ports[0].nodePort&#125;&quot; services truculent-wolverine-hello-chart)</span><br><span class="line">  export NODE_IP&#x3D;$(kubectl get nodes --namespace default -o jsonpath&#x3D;&quot;&#123;.items[0].status.addresses[0].address&#125;&quot;)</span><br><span class="line">  echo http:&#x2F;&#x2F;$NODE_IP:$NODE_PORT</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°é€šè¿‡helm chartåˆ›å»ºäº†ä¸€ä¸ªéšæœºåç§°çš„Releaseå®ä¾‹å¹¶è¾“å‡ºäº†ç›¸å…³çš„ <code>Deployment</code> <code>Pod</code> å’Œ <code>Service</code> ä¿¡æ¯ã€‚è€Œä¸”å¯ä»¥çœ‹åˆ°ç›¸åº”çš„Serviceç«¯å£ä¸º <code>31337</code> ã€‚é€šè¿‡æµè§ˆå™¨è®¿é—®k3sä¸»æœºIPåŠç«¯å£ <code>http://192.168.5.17:31337/</code> æŸ¥çœ‹æ˜¯å¦èƒ½æ­£å¸¸è®¿é—®ã€‚</p>
<p>æ­¤æ—¶ï¼Œå¯ä»¥é€šè¿‡ <code>helm list</code> å‘½ä»¤æŸ¥çœ‹å®‰è£…çš„Releaseä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ helm list</span><br><span class="line">NAME               	REVISION	UPDATED                 	STATUS  	CHART            	APP VERSION	NAMESPACE</span><br><span class="line">truculent-wolverine	1       	Sun Sep  1 23:51:47 2019	DEPLOYED	hello-chart-0.1.0	1.0        	default</span><br></pre></td></tr></table></figure>

<p>å¦‚æœéœ€è¦åˆ é™¤Releaseï¼Œåˆ™å¯ä»¥é€šè¿‡æŒ‡å®šReleaseçš„åç§°æ¥å®ç°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ helm delete truculent-wolverine</span><br><span class="line">release &quot;truculent-wolverine&quot; deleted</span><br></pre></td></tr></table></figure>

<p>å…³äºHelmçš„æ›´å¤šä¿¡æ¯å¯ä»¥å‚ç…§å®˜æ–¹æ–‡æ¡£äº†è§£ã€‚</p>
<h4 id="é—®é¢˜æ±‡æ€»"><a href="#é—®é¢˜æ±‡æ€»" class="headerlink" title="é—®é¢˜æ±‡æ€»"></a>é—®é¢˜æ±‡æ€»</h4><h5 id="Install-Tiller-ImagePullBackOff"><a href="#Install-Tiller-ImagePullBackOff" class="headerlink" title="Install Tiller ImagePullBackOff"></a>Install Tiller ImagePullBackOff</h5><p>åœ¨æ‰§è¡Œ <code>helm init --service-account tiller</code> å‘½ä»¤æ—¶å®‰è£…çš„Podä¼šä¸€ç›´å¡åœ¨ <code>ImagePullBackOff</code> é˜¶æ®µï¼Œè¿™æ˜¯å› ä¸ºTrillerçš„é•œåƒé»˜è®¤æ˜¯ä» <code>gcr.io</code> é•œåƒä»“åº“ä¸­æ‹‰å–çš„ï¼Œè€Œè¯¥é•œåƒåœ°å€åœ¨å›½å†…æ˜¯æ— æ³•è®¿é—®çš„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Events:</span><br><span class="line">  Type     Reason     Age                From                Message</span><br><span class="line">  ----     ------     ----               ----                -------</span><br><span class="line">  Normal   Scheduled  68s                default-scheduler   Successfully assigned kube-system&#x2F;tiller-deploy-7f4d76c4b6-xxlng to k3s-agent</span><br><span class="line">  Warning  Failed     26s (x2 over 52s)  kubelet, k3s-agent  Failed to pull image &quot;gcr.io&#x2F;kubernetes-helm&#x2F;tiller:v2.14.3&quot;: rpc error: code &#x3D; Unknown desc &#x3D; Error response from daemon: Get https:&#x2F;&#x2F;gcr.io&#x2F;v2&#x2F;: net&#x2F;http: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers)</span><br><span class="line">  Warning  Failed     26s (x2 over 52s)  kubelet, k3s-agent  Error: ErrImagePull</span><br><span class="line">  Normal   BackOff    14s (x2 over 52s)  kubelet, k3s-agent  Back-off pulling image &quot;gcr.io&#x2F;kubernetes-helm&#x2F;tiller:v2.14.3&quot;</span><br><span class="line">  Warning  Failed     14s (x2 over 52s)  kubelet, k3s-agent  Error: ImagePullBackOff</span><br><span class="line">  Normal   Pulling    0s (x3 over 67s)   kubelet, k3s-agent  Pulling image &quot;gcr.io&#x2F;kubernetes-helm&#x2F;tiller:v2.14.3&quot;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥é€šè¿‡ <code>--tiller-image</code> å‚æ•°æ¥æŒ‡å®šå®‰è£…çš„é•œåƒä»“åº“åœ°å€ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">helm init --service-account tiller \</span><br><span class="line">--tiller-image registry.cn-hangzhou.aliyuncs.com&#x2F;google_containers&#x2F;tiller:&lt;tag&gt;</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼ŒTiller é•œåƒç‰ˆæœ¬ä¸ helm ç‰ˆæœ¬ç›¸åŒã€‚</p>
<p>åœ¨æ‰§è¡Œè¯¥å‘½ä»¤ä¹‹å‰ï¼Œå¯é€šè¿‡ <code>kubectl delete deploy tiller-deploy -n kube-system</code> å‘½ä»¤æ¥åˆ é™¤ä¸Šä¸€æ­¥å‘½ä»¤å®‰è£…å¤±è´¥çš„Podã€‚</p>
<ul>
<li>å‚è€ƒè‡ª <a href="https://rancher.com/docs/rancher/v2.x/en/installation/ha/helm-init/" target="_blank" rel="noopener">3. Initialize Helm (Install Tiller)</a></li>
</ul>
<hr>
<h5 id="helm-æŠ¥é”™-connection-refused"><a href="#helm-æŠ¥é”™-connection-refused" class="headerlink" title="helm æŠ¥é”™ connection refused"></a>helm æŠ¥é”™ connection refused</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ helm version</span><br><span class="line">Client: &amp;version.Version&#123;SemVer:&quot;v2.14.3&quot;, GitCommit:&quot;0e7f3b6637f7af8fcfddb3d2941fcc7cbebb0085&quot;, GitTreeState:&quot;clean&quot;&#125;</span><br><span class="line">Error: Get http:&#x2F;&#x2F;localhost:8080&#x2F;api&#x2F;v1&#x2F;namespaces&#x2F;kube-system&#x2F;pods?labelSelector&#x3D;app%3Dhelm%2Cname%3Dtiller: dial tcp [::1]:8080: connect: connection refused</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½ ç›´æ¥åœ¨k3sçš„masterèŠ‚ç‚¹ä¸Šæ‰§è¡Œ <code>helm version</code> å‘½ä»¤çš„è¯ï¼Œå¾ˆå®¹æ˜“ä¼šå‡ºç°ä¸Šé¢çš„é”™è¯¯ä¿¡æ¯ã€‚</p>
<p>è¿™æ˜¯å› ä¸ºhelmé»˜è®¤ä¼šä» <code>~/.kube/config</code> ä¸­æ¥è½½å…¥kubernetes/k3sçš„é›†ç¾¤ä¿¡æ¯ï¼Œè€Œk3sçš„é»˜è®¤é…ç½®æ–‡ä»¶æ˜¯ <code>/etc/rancher/k3s/k3s.yaml</code> ï¼Œåœ¨k3sçš„masterèŠ‚ç‚¹ä¸Šçš„ <code>~/.kube</code> ç›®å½•ä¸‹å¹¶ä¸å­˜åœ¨ä¸€ä¸ª <code>config</code> æ–‡ä»¶ï¼Œä¹Ÿå°±å¯¼è‡´äº†helmè¿æ¥ä¸ä¸Šk3sé›†ç¾¤ï¼Œè€Œè·å–ä¸åˆ°é›†ç¾¤çš„ä¿¡æ¯ã€‚</p>
<p>è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥é€šè¿‡æŒ‡å®šé…ç½®æ–‡ä»¶çš„æ–¹å¼ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ KUBECONFIG&#x3D;&#x2F;etc&#x2F;rancher&#x2F;k3s&#x2F;k3s.yaml helm version</span><br><span class="line">Client: &amp;version.Version&#123;SemVer:&quot;v2.14.3&quot;, GitCommit:&quot;0e7f3b6637f7af8fcfddb3d2941fcc7cbebb0085&quot;, GitTreeState:&quot;clean&quot;&#125;</span><br><span class="line">Error: could not find tiller</span><br></pre></td></tr></table></figure>

<p>å³åœ¨ <code>helm version</code> å‘½ä»¤å‰æŒ‡å®šk3sé›†ç¾¤é…ç½®æ–‡ä»¶çš„åœ°å€ <code>KUBECONFIG=/etc/rancher/k3s/k3s.yaml</code>ï¼Œè¿™æ ·å°±èƒ½æ­£å¸¸æ‰§è¡Œäº†ã€‚</p>
<p>å½“ç„¶ï¼Œå¦‚æœè§‰å¾—æ¯æ¡helmå‘½ä»¤éƒ½åŠ ä¸€ä¸ª <code>KUBECONFIG</code> å‚æ•°å¤ªéº»çƒ¦ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼è§£å†³ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ export KUBECONFIG&#x3D;&#x2F;etc&#x2F;rancher&#x2F;k3s&#x2F;k3s.yaml</span><br><span class="line"></span><br><span class="line">âœ helm version</span><br><span class="line">Client: &amp;version.Version&#123;SemVer:&quot;v2.14.3&quot;, GitCommit:&quot;0e7f3b6637f7af8fcfddb3d2941fcc7cbebb0085&quot;, GitTreeState:&quot;clean&quot;&#125;</span><br><span class="line">Error: could not find tiller</span><br></pre></td></tr></table></figure>

<p>å¦‚æœè§‰å¾—è¿™ç§æ–¹æ³•ä¹Ÿå¾ˆéº»çƒ¦ï¼Œé‚£ä¹ˆå¯ä»¥å°†k3sçš„é…ç½®æ–‡ä»¶å¤åˆ¶ä¸€ä»½åˆ° <code>~/.kube/config</code> ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cp &#x2F;etc&#x2F;rancher&#x2F;k3s&#x2F;k3s.yaml ~&#x2F;.kube&#x2F;config</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="https://rancher.com/docs/rancher/v2.x/en/installation/ha/helm-init/" target="_blank" rel="noopener">3. Initialize Helm (Install Tiller)</a></li>
<li><a href="https://helm.sh/docs/using_helm/#quickstart-guide" target="_blank" rel="noopener">Helm</a></li>
<li><a href="https://github.com/helm/helm" target="_blank" rel="noopener">helm/helm: The Kubernetes Package Manager</a></li>
</ul>
]]></content>
      <categories>
        <category>è½»é‡çº§äº‘åŸç”Ÿ</category>
      </categories>
      <tags>
        <tag>äº‘åŸç”Ÿ</tag>
        <tag>K3s</tag>
        <tag>Helm</tag>
      </tags>
  </entry>
  <entry>
    <title>è½»é‡çº§Kuberneteså‘è¡Œç‰ˆk3sä¹‹é…ç½®é—®é¢˜æ±‡æ€»</title>
    <url>/2019/08/31/lightweight-kubernetes-release-k3s-issues/</url>
    <content><![CDATA[<p>è™½ç„¶ä¸Šç¯‡æ–‡ç« ä¸­æåˆ°k3så®‰è£…éå¸¸ç®€å•ï¼Œä½†ç”±äºç°åœ¨k3sçš„ç‰ˆæœ¬è¿˜æ˜¯ <code>v0.8.1</code>ï¼Œå¯èƒ½ä¼šå‡ºç°ä¸ç¨³å®šçš„æƒ…å†µä»¥åŠä¸€äº›é…ç½®ä¸Šçš„é—®é¢˜ï¼Œè¿˜ä¸æ¨èåœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ­£å¼ä½¿ç”¨ã€‚</p>
<p>ä¸‹é¢æˆ‘æ€»ç»“äº†ä¸€äº›æˆ‘åœ¨é…ç½®k3sé›†ç¾¤è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜åŠè§£å†³æ–¹æ³•ã€‚</p>
<h4 id="å…³äºå®¹å™¨å¼•æ“"><a href="#å…³äºå®¹å™¨å¼•æ“" class="headerlink" title="å…³äºå®¹å™¨å¼•æ“"></a>å…³äºå®¹å™¨å¼•æ“</h4><h5 id="containerd"><a href="#containerd" class="headerlink" title="containerd"></a>containerd</h5><p>k3sé»˜è®¤æ¨èä½¿ç”¨ <code>Containerd</code> ä½œä¸ºå®¹å™¨å¼•æ“ã€‚é€šè¿‡ç”¨containderdæ›¿æ¢Dockerï¼ŒK3sèƒ½å¤Ÿæ˜¾è‘—å‡å°‘è¿è¡Œæ—¶å ç”¨ç©ºé—´ï¼Œåˆ é™¤äº†libnetworkã€swarmã€Dockerå­˜å‚¨é©±åŠ¨ç¨‹åºå’Œå…¶ä»–æ’ä»¶ç­‰åŠŸèƒ½ã€‚</p>
<p>k3sæœåŠ¡åœ¨å®‰è£…æ—¶ä¹Ÿé»˜è®¤è®¾ç½®äº†containerdå®¹å™¨ç®¡ç†å·¥å…· <code>crictl</code>ã€‚</p>
<p>å…³äºcontainerdçš„è¯¦ç»†å†…å®¹ï¼Œè¿™é‡Œæš‚ä¸”ä¸ç»†è¯´ï¼Œåç»­æˆ‘ä¼šå•ç‹¬ç”¨ä¸€ç¯‡æ–‡ç« æ¥ä»‹ç»ã€‚</p>
<h5 id="docker"><a href="#docker" class="headerlink" title="docker"></a>docker</h5><p>k3s ä¹Ÿæ”¯æŒä½¿ç”¨dockeræ¥ä½œä¸ºå®¹å™¨å¼•æ“ã€‚åªéœ€è¦åœ¨æœåŠ¡å¯åŠ¨æ—¶æŒ‡å®šå‚æ•° <code>--docker</code> å³å¯ã€‚</p>
<p>å› ä¸ºæˆ‘å¹³æ—¶ä¹ æƒ¯äº†ä½¿ç”¨dockerï¼Œæ‰€ä»¥æˆ‘å°±é€‰æ‹©äº†dockerä½œä¸ºé»˜è®¤çš„å®¹å™¨å¼•æ“ã€‚å¯åŠ¨åå¦‚ä¸‹ï¼Œä¼šåœ¨ <code>CONTAINER-RUNTIME</code> ä¸€æ æ˜¾ç¤ºæ‰€ç”¨çš„å®¹å™¨å¼•æ“ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># kubectl get nodes -o wide</span><br><span class="line">NAME         STATUS   ROLES    AGE     VERSION         INTERNAL-IP    EXTERNAL-IP   OS-IMAGE                KERNEL-VERSION               CONTAINER-RUNTIME</span><br><span class="line">k3s-agent    Ready    worker   6m2s    v1.14.6-k3s.1   192.168.5.18   &lt;none&gt;        CentOS Linux 7 (Core)   3.10.0-957.10.1.el7.x86_64   docker:&#x2F;&#x2F;18.6.3</span><br><span class="line">k3s-master   Ready    master   4m38s   v1.14.6-k3s.1   192.168.5.17   &lt;none&gt;        CentOS Linux 7 (Core)   3.10.0-957.10.1.el7.x86_64   docker:&#x2F;&#x2F;18.6.3</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="dockerç‰ˆæœ¬"><a href="#dockerç‰ˆæœ¬" class="headerlink" title="dockerç‰ˆæœ¬"></a>dockerç‰ˆæœ¬</h4><p>æˆ‘å®‰è£…çš„k3sç‰ˆæœ¬ä¸º <code>v0.8.1</code>ï¼Œå¯¹åº”çš„kubernetesç‰ˆæœ¬ä¸º <code>v1.14.6</code>ã€‚å®‰è£…çš„dockerç‰ˆæœ¬ä¸º <code>v18.06</code>ã€‚</p>
<p>ä¸€å¼€å§‹æˆ‘ä½¿ç”¨çš„dockerç‰ˆæœ¬ä¸º <code>v18.09</code>ï¼Œé…ç½®k3sçš„masterå®¢æˆ·ç«¯æ—¶æœåŠ¡èƒ½æ­£å¸¸å¯åŠ¨ï¼Œä½†å½“å®‰è£…agentæœåŠ¡æ—¶ï¼Œæ·»åŠ äº† <code>--docker</code> å‚æ•°åk3sæœåŠ¡ä¸€ç›´æ— æ³•å¯åŠ¨ã€‚äºæ˜¯æˆ‘åªå¥½å°†dockerç‰ˆæœ¬ä» <code>v18.09</code> é™çº§åˆ°äº† <code>v18.06</code> ç‰ˆæœ¬æ‰æ­£å¸¸å¯åŠ¨ã€‚</p>
<p>æˆ‘å»æŸ¥çœ‹äº†ä¸€ä¸‹Kubernetesæ”¯æŒçš„dockerç‰ˆæœ¬ï¼Œå¯¹äºKubernetes <code>v1.14</code> ç‰ˆæœ¬æ”¯æŒçš„dockerç‰ˆæœ¬ä¸º 1.13.1, 17.03, 17.06, 17.09, 18.06, 18.09ã€‚</p>
<p>è‡³äºæˆ‘çš„ <code>v18.09</code> ä¸ºä»€ä¹ˆæ²¡æœ‰æ­£å¸¸å¯åŠ¨ï¼Œåæ¥æ¨æµ‹å¯èƒ½æ˜¯ä¸¤æ–¹é¢çš„é—®é¢˜ï¼š</p>
<ol>
<li>k3sä¸ç¨³å®šï¼ˆå¯ä»¥å°è¯•å¤šæ¬¡é‡å¯æœåŠ¡æˆ–è€…é‡å¯ç³»ç»Ÿè§£å†³ï¼‰</li>
<li>ç³»ç»Ÿç¯å¢ƒå½±å“ï¼ˆå¯ä»¥é€šè¿‡é‡æ–°æ­å»ºç³»ç»Ÿç¯å¢ƒæ¥è§£å†³ï¼‰</li>
</ol>
<hr>
<h4 id="pauseé•œåƒ"><a href="#pauseé•œåƒ" class="headerlink" title="pauseé•œåƒ"></a>pauseé•œåƒ</h4><p>Kubernetesé›†ç¾¤åœ¨è¿è¡Œæ—¶éœ€è¦è·å–ä¸€ä¸ªåŸºç¡€é•œåƒpauseï¼š<code>k8s.gcr.io/pause:3.1</code>ï¼Œk3sä¸­ä¹Ÿä¸ä¾‹å¤–ã€‚ä½†ç”±äºpauseé•œåƒçš„ä»“åº“ä¸º <code>k8s.gcr.io</code>ï¼Œåœ¨å›½å†…æ˜¯æ— æ³•æ­£å¸¸æ‹‰å–çš„ï¼Œä¹Ÿå°±å¯¼è‡´äº†ä½ åœ¨åˆ›å»ºPodæ—¶ä¸€ç›´å¤„äº <code>ImagePullBackOff</code> çŠ¶æ€ã€‚</p>
<p>ä¸€èˆ¬æˆ‘ä»¬å¯ä»¥é€šè¿‡æŠ˜ä¸­çš„æ–¹æ³•æ¥è·å–è¯¥é•œåƒã€‚</p>
<h5 id="ä½¿ç”¨dockerä½œä¸ºå®¹å™¨å¼•æ“æ—¶"><a href="#ä½¿ç”¨dockerä½œä¸ºå®¹å™¨å¼•æ“æ—¶" class="headerlink" title="ä½¿ç”¨dockerä½œä¸ºå®¹å™¨å¼•æ“æ—¶"></a>ä½¿ç”¨dockerä½œä¸ºå®¹å™¨å¼•æ“æ—¶</h5><p>è¿™ç§æ–¹æ³•æ˜¯ç›¸å¯¹æ¥è¯´æ¯”è¾ƒç®€å•çš„ï¼Œåªéœ€è¦åœ¨k3sæœåŠ¡å‘½ä»¤ä¸­æ·»åŠ  <code>--docker</code> å°±å¯ä»¥æŒ‡å®šk3sä½¿ç”¨Dockerå®¹å™¨å¼•æ“ã€‚pauseé•œåƒçš„è·å–å¯ä»¥æŒ‰ç…§ä¹‹å‰æ­å»ºKubernetesé›†ç¾¤ç¯å¢ƒæ—¶ <a href="https://www.itfanr.cc/2019/05/17/kubernetes-introduction-for-install-by-kubeadm/#%E4%B8%8B%E8%BD%BD%E9%95%9C%E5%83%8F">Kuberneteså…¥é—¨ â€“ ä¸€ä½¿ç”¨kubeadméƒ¨ç½²Kubernetesé›†ç¾¤v1.14.1 | ITèŒƒå„¿</a> ä¸­çš„æ­¥éª¤æ¥æ“ä½œã€‚</p>
<p>æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯ <code>azureä¸­å›½</code> çš„é•œåƒåœ°å€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ docker pull gcr.azk8s.cn&#x2F;google_containers&#x2F;pause:3.1</span><br><span class="line">$ docker tag gcr.azk8s.cn&#x2F;google_containers&#x2F;pause:3.1 k8s.gcr.io&#x2F;pause:3.1</span><br><span class="line">$ docker rmi gcr.azk8s.cn&#x2F;google_containers&#x2F;pause:3.1</span><br></pre></td></tr></table></figure>

<h5 id="ä½¿ç”¨containerdä½œä¸ºå®¹å™¨å¼•æ“æ—¶"><a href="#ä½¿ç”¨containerdä½œä¸ºå®¹å™¨å¼•æ“æ—¶" class="headerlink" title="ä½¿ç”¨containerdä½œä¸ºå®¹å™¨å¼•æ“æ—¶"></a>ä½¿ç”¨containerdä½œä¸ºå®¹å™¨å¼•æ“æ—¶</h5><p>k3sä¸­é»˜è®¤ä½¿ç”¨containerdä½œä¸ºå®¹å™¨å¼•æ“ï¼Œåœ¨è¿è¡ŒPodæ—¶ä¹Ÿä¼šå…ˆå»è·å–pauseé•œåƒã€‚</p>
<p>è¿™é‡Œæˆ‘æ€»ç»“äº†ä¸¤ç§æ–¹æ³•æ¥ä¸ºcontainerdæå‰ä¸‹è½½pauseé•œåƒã€‚</p>
<h6 id="é€šè¿‡dockeræ‹‰å–"><a href="#é€šè¿‡dockeræ‹‰å–" class="headerlink" title="é€šè¿‡dockeræ‹‰å–"></a>é€šè¿‡dockeræ‹‰å–</h6><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡dockeræŠŠpauseé•œåƒæ‹‰å–ä¸‹æ¥ï¼Œç„¶åè½¬æ¢æˆcontainerdå¯ä»¥ä½¿ç”¨çš„pauseé•œåƒï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># é€šè¿‡dockeræ‹‰å–é•œåƒ</span><br><span class="line">$ docker pull gcr.azk8s.cn&#x2F;google_containers&#x2F;pause:3.1</span><br><span class="line"></span><br><span class="line"># é€šè¿‡tagé‡å‘½åpauseé•œåƒ</span><br><span class="line">$ docker tag gcr.azk8s.cn&#x2F;google_containers&#x2F;pause:3.1 k8s.gcr.io&#x2F;pause:3.1</span><br><span class="line"></span><br><span class="line"># ä¿å­˜é•œåƒä¸ºtaråŒ…</span><br><span class="line">$ docker save k8s.gcr.io&#x2F;pause:3.1 -o pause.tar</span><br><span class="line"></span><br><span class="line"># è®©containerdåŠ è½½è¯¥taråŒ…</span><br><span class="line">$ ctr cri load pause.tar</span><br></pre></td></tr></table></figure>

<h6 id="é€šè¿‡air-gapå®‰è£…"><a href="#é€šè¿‡air-gapå®‰è£…" class="headerlink" title="é€šè¿‡air-gapå®‰è£…"></a>é€šè¿‡air-gapå®‰è£…</h6><p>k3sæ”¯æŒé¢„åŠ è½½containerdæ˜ åƒï¼Œæ–¹æ³•æ˜¯åœ¨å¯åŠ¨ä¹‹å‰å°†å®ƒä»¬æ”¾åœ¨ä»£ç†çš„imagesç›®å½•ä¸­ã€‚</p>
<p>å…ˆä» <a href="https://github.com/rancher/k3s/releases" target="_blank" rel="noopener">Releases Â· rancher/k3s</a> ä¸‹è½½å¯¹åº”çš„ <code>k3s-airgap-images-xxx.tar</code> å®‰è£…åŒ…ã€‚</p>
<p>ç„¶åé€šè¿‡å¦‚ä¸‹å‘½ä»¤æ“ä½œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo mkdir -p &#x2F;var&#x2F;lib&#x2F;rancher&#x2F;k3s&#x2F;agent&#x2F;images&#x2F;</span><br><span class="line">sudo cp .&#x2F;k3s-airgap-images-$ARCH.tar &#x2F;var&#x2F;lib&#x2F;rancher&#x2F;k3s&#x2F;agent&#x2F;images&#x2F;</span><br></pre></td></tr></table></figure>

<p>è¯¦è§å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://rancher.com/docs/k3s/latest/en/running/#air-gap-support" target="_blank" rel="noopener">Running K3S</a></p>
<hr>
<h4 id="å¯ç”¨ç«¯å£"><a href="#å¯ç”¨ç«¯å£" class="headerlink" title="å¯ç”¨ç«¯å£"></a>å¯ç”¨ç«¯å£</h4><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåœ¨å±€åŸŸç½‘å†…æµ‹è¯•k3sé›†ç¾¤ä¸ºäº†æµ‹è¯•æ–¹ä¾¿éƒ½ä¼šé€‰æ‹©å…³é—­é˜²ç«å¢™ <code>systemctl stop firewalld &amp;&amp; systemctl disable firewalld</code> ã€‚ä½†å¦‚æœæ˜¯åœ¨æ­£å¼çš„ç”Ÿäº§ç¯å¢ƒä¸­åˆ™éœ€è¦å¯ç”¨é˜²ç«å¢™å¹¶æ‰“å¼€ç›¸å…³çš„ç«¯å£ã€‚</p>
<p>æŒ‰ç…§k3sæ–‡æ¡£ä¸Šçš„è¯´æ˜ï¼Œéœ€è¦å¯ç”¨ <code>6443</code> å’Œ <code>8472</code> ç«¯å£ã€‚</p>
<p>ä½†æ˜¯ï¼Œä¸æ’é™¤è¿˜æœ‰ä¸€äº›å…¶ä»–çš„æ½œåœ¨ç«¯å£ã€‚è¿™é‡Œæˆ‘åªæ‰¾åˆ°äº†ä¸€ç¯‡ç›¸å…³çš„issuesï¼š<a href="https://github.com/rancher/k3s/issues/401" target="_blank" rel="noopener">k3s service cannot start in RHEL with firewall enabled Â· Issue #401 Â· rancher/k3s</a></p>
<p>æ‰©å±•ï¼š<a href="https://www.rancher.cn/docs/k3s/latest/en/configuration/#open-ports-network-security" target="_blank" rel="noopener">Configuration Info Open Ports / Network Security</a></p>
<hr>
<h4 id="å¸è½½k3s"><a href="#å¸è½½k3s" class="headerlink" title="å¸è½½k3s"></a>å¸è½½k3s</h4><p>å¦‚æœæ˜¯é€šè¿‡ <code>install.sh</code> è„šæœ¬å®‰è£…çš„k3sï¼Œé»˜è®¤ä¼šåœ¨æœåŠ¡ä¸­å®‰è£…ä¸€ä¸ªå¸è½½çš„è„šæœ¬æ–‡ä»¶ï¼š</p>
<p> <code>/usr/local/bin/k3s-uninstall.sh</code> (or as <code>k3s-agent-uninstall.sh</code>).</p>
<hr>
<h4 id="Running-in-Docker"><a href="#Running-in-Docker" class="headerlink" title="Running in Docker"></a>Running in Docker</h4><p>é™¤äº†é€šè¿‡äºŒè¿›åˆ¶çš„æ–¹å¼æ¥éƒ¨ç½²k3sï¼Œè¿˜å¯ä»¥ä½¿ç”¨æ›´ç®€å•çš„Dockerå®¹å™¨æ–¹å¼æ¥éƒ¨ç½²ã€‚k3så®˜æ–¹ä¹Ÿç»™å‡ºäº†ä¸¤ç§æ–¹æ³•æ¥é€šè¿‡Dockerå®¹å™¨å®‰è£…k3sã€‚</p>
<h5 id="docker-compose"><a href="#docker-compose" class="headerlink" title="docker-compose"></a>docker-compose</h5><p>å¯ä»¥ç›´æ¥ä»k3sçš„githubä»“åº“ä¸­è·å–è¯¥ <code>docker-compose.yaml</code> æ–‡ä»¶ï¼Œæˆ–æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ wget https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;rancher&#x2F;k3s&#x2F;master&#x2F;docker-compose.yml</span><br></pre></td></tr></table></figure>

<h5 id="k3d"><a href="#k3d" class="headerlink" title="k3d"></a>k3d</h5><p><code>k3d</code> å¯ä»¥ç†è§£æˆ <code>k3s in docker</code> ï¼Œæ˜¯ä¸€ä¸ªè®¾è®¡ç”¨äºåœ¨Dockerä¸­è½»æ¾è¿è¡Œk3sçš„å®ç”¨ç¨‹åºã€‚</p>
<p>è¯¦è§ï¼š<a href="https://github.com/rancher/k3d" target="_blank" rel="noopener">rancher/k3d: Little helper to run Rancher Labâ€™s k3s in Docker</a></p>
<hr>
<h4 id="å¼‚å¸¸å¤„ç†"><a href="#å¼‚å¸¸å¤„ç†" class="headerlink" title="å¼‚å¸¸å¤„ç†"></a>å¼‚å¸¸å¤„ç†</h4><h5 id="kube-config-permissions"><a href="#kube-config-permissions" class="headerlink" title="kube config permissions"></a>kube config permissions</h5><p>åœ¨é€šè¿‡érootè´¦æˆ·é…ç½®å¥½<code>k3s-master</code> æœåŠ¡åï¼Œæˆ‘æƒ³ç€é€šè¿‡ <code>kubectl get node</code> æŸ¥çœ‹ä¸€ä¸‹èŠ‚ç‚¹çš„è¿è¡ŒçŠ¶æ€ï¼Œç»“æœå´æŠ¥å‡ºäº†å¦‚ä¸‹çš„é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  ~ k3s kubectl get node</span><br><span class="line">WARN[2019-08-30T12:14:50.841714144+08:00] Unable to read &#x2F;etc&#x2F;rancher&#x2F;k3s&#x2F;k3s.yaml, please start server with --write-kubeconfig-mode to modify kube config permissions</span><br><span class="line">error: Error loading config file &quot;&#x2F;etc&#x2F;rancher&#x2F;k3s&#x2F;k3s.yaml&quot;: open &#x2F;etc&#x2F;rancher&#x2F;k3s&#x2F;k3s.yaml: permission denied</span><br></pre></td></tr></table></figure>

<p>é”™è¯¯ä¿¡æ¯æ˜¯ï¼šåœ¨åŠ è½½é…ç½®æ–‡ä»¶ <code>/etc/rancher/k3s/k3s.yaml</code> æ—¶æ²¡æœ‰æƒé™ã€‚</p>
<p>è®©äººæ¬£å–œçš„æ˜¯åœ¨é”™è¯¯ä¿¡æ¯ä¹Ÿç»™å‡ºäº†è§£å†³æ–¹æ³•ï¼Œé€šè¿‡è®¾ç½® <code>--write-kubeconfig-mode</code> å‚æ•°æ¥èµ‹äºˆæƒé™ã€‚</p>
<p>åªéœ€åœ¨ <code>k3s.service</code> ä¸­å°† <code>ExecStart</code> çš„å€¼ <code>ExecStart=/usr/local/bin/k3s server --docker</code> æ”¹æˆï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;usr&#x2F;local&#x2F;bin&#x2F;k3s server --docker --write-kubeconfig-mode 644</span><br></pre></td></tr></table></figure>

<p>ä¹‹åï¼Œé‡å¯æœåŠ¡å³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  ~ sudo systemctl daemon-reload</span><br><span class="line">âœ  ~ sudo systemctl restart k3s</span><br></pre></td></tr></table></figure>

<p>å…·ä½“å…³äºè¿™ä¸ªé—®é¢˜çš„è®¨è®ºå¯ä»¥å‚è€ƒï¼š<a href="https://github.com/rancher/k3s/issues/389" target="_blank" rel="noopener">/etc/rancher/k3s/k3s.yaml is world readable Â· Issue #389 Â· rancher/k3s</a> è¿™ä¸ªissueè®¨è®ºã€‚</p>
<h5 id="certificate-has-expired"><a href="#certificate-has-expired" class="headerlink" title="certificate has expired"></a>certificate has expired</h5><p>åœ¨å®‰è£… <code>k3s-agent</code> è¿‡ç¨‹ä¸­ï¼Œå‘ç°å¯åŠ¨æœåŠ¡åæ—¥å¿—ä¸­ä¸€ç›´æŠ¥å¦‚ä¸‹çš„é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">8æœˆ 30 17:07:00 node1 k3s[941]: time&#x3D;&quot;2019-08-30T17:07:00.542226362+08:00&quot; level&#x3D;error msg&#x3D;&quot;server https:&#x2F;&#x2F;127.0.0.1:35556&#x2F;cacerts is not trusted: Get https:&#x2F;&#x2F;127.0.0.1:35556&#x2F;cacerts: x509: certificate has expired or is not yet valid&quot;</span><br><span class="line">8æœˆ 30 17:07:02 node1 k3s[941]: time&#x3D;&quot;2019-08-30T17:07:02.547358146+08:00&quot; level&#x3D;error msg&#x3D;&quot;server https:&#x2F;&#x2F;127.0.0.1:35556&#x2F;cacerts is not trusted: Get https:&#x2F;&#x2F;127.0.0.1:35556&#x2F;cacerts: x509: certificate has expired or is not yet valid&quot;</span><br></pre></td></tr></table></figure>

<p>çœ‹é”™è¯¯ä¿¡æ¯ <code>x509: certificate has expired or is not yet valid&quot;</code> æç¤ºæ˜¯è¯ä¹¦è¿‡æœŸäº†ï¼Œä½†åˆšä¸€å®‰è£…è¯ä¹¦æ€ä¹ˆå°±è¿‡æœŸäº†å‘¢ï¼Ÿå¤šæ¬¡é‡å¯æœåŠ¡åå‘ç°ä¸€ç›´æŠ¥è¿™ä¸ªé”™è¯¯ã€‚</p>
<p>åæ¥æ‰å‘ç°åŸæ¥æ˜¯masteræœåŠ¡å™¨å’ŒagentæœåŠ¡å™¨ä¸¤ä¸ªä¸»æœºçš„<strong>ç³»ç»Ÿæ—¶é—´ä¸ä¸€è‡´</strong>å¯¼è‡´çš„ï¼Œæˆ‘å°†agentæœåŠ¡å™¨é‡å¯åå°±å¥½äº†ã€‚</p>
]]></content>
      <categories>
        <category>è½»é‡çº§äº‘åŸç”Ÿ</category>
      </categories>
      <tags>
        <tag>äº‘åŸç”Ÿ</tag>
        <tag>K3s</tag>
      </tags>
  </entry>
  <entry>
    <title>è½»é‡çº§Kuberneteså‘è¡Œç‰ˆk3sä¹‹ä»‹ç»</title>
    <url>/2019/08/30/lightweight-kubernetes-release-k3s-introduce/</url>
    <content><![CDATA[<p>k3s æ˜¯ä¸€ä¸ªè½»é‡çº§ Kubernetesï¼Œå®ƒæ˜“äºå®‰è£…ï¼ŒäºŒè¿›åˆ¶æ–‡ä»¶åŒ…å°äº 40 mbï¼Œåªéœ€è¦ 512MB RAM å³å¯è¿è¡Œã€‚</p>
<h4 id="k3sä»‹ç»"><a href="#k3sä»‹ç»" class="headerlink" title="k3sä»‹ç»"></a>k3sä»‹ç»</h4><p>k3s æ—¨åœ¨æˆä¸ºå®Œå…¨å…¼å®¹çš„ Kubernetes å‘è¡Œç‰ˆï¼Œç›¸æ¯” k8s ä¸»è¦æ›´æ”¹å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ—§çš„ã€Alpha ç‰ˆæœ¬çš„ã€éé»˜è®¤åŠŸèƒ½éƒ½å·²ç»åˆ é™¤ã€‚</li>
<li>åˆ é™¤äº†å¤§å¤šæ•°å†…éƒ¨äº‘æä¾›å•†å’Œå­˜å‚¨æ’ä»¶ï¼Œå¯ä»¥ç”¨æ’ä»¶æ›¿æ¢ã€‚</li>
<li>æ–°å¢ SQLite3 ä½œä¸ºé»˜è®¤å­˜å‚¨æœºåˆ¶ï¼Œetcd3 ä»ç„¶æœ‰æ•ˆï¼Œä½†æ˜¯ä¸å†æ˜¯é»˜è®¤é¡¹ã€‚</li>
<li>å°è£…åœ¨ç®€å•çš„å¯åŠ¨å™¨ä¸­ï¼Œå¯ä»¥å¤„ç†å¤§é‡ LTS å¤æ‚æ€§å’Œé€‰é¡¹ã€‚</li>
<li>æœ€å°åŒ–åˆ°æ²¡æœ‰æ“ä½œç³»ç»Ÿä¾èµ–ï¼Œåªéœ€è¦ä¸€ä¸ªå†…æ ¸å’Œ cgroup æŒ‚è½½ã€‚</li>
</ul>
<p>K3sæ”¯æŒx86_64ã€ARM64å’ŒARMv7æ¶æ„ï¼Œä½¿K3så¾—ä»¥æ›´åŠ çµæ´»åœ°è·¨ä»»ä½•è¾¹ç¼˜åŸºç¡€æ¶æ„å·¥ä½œã€‚</p>
<p>ä½¿ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>è¾¹ç¼˜è®¡ç®—</li>
<li>ä¸åº”ç”¨ç¨‹åºç»‘å®šä½¿ç”¨</li>
<li>åµŒå…¥å¼è®¾å¤‡</li>
<li>CIç¯å¢ƒ</li>
</ul>
<p>k3så·¥ä½œåŸç†ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190831220323.png" alt=""></p>
<h4 id="k3så®‰è£…"><a href="#k3så®‰è£…" class="headerlink" title="k3så®‰è£…"></a>k3så®‰è£…</h4><p>k3sçš„å®‰è£…éå¸¸ç®€å•ï¼Œå¯ä»¥ç›´æ¥æŒ‰ç…§å®˜æ–¹ç»™å‡ºçš„æ•™ç¨‹æ¥æ“ä½œã€‚</p>
<p>é€šè¿‡ <code>install.sh</code> è„šæœ¬æ¥å®‰è£…ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl -sfL https:&#x2F;&#x2F;get.k3s.io | sh -</span><br></pre></td></tr></table></figure>

<p>k3sçš„é…ç½®æ–‡ä»¶é»˜è®¤å­˜å‚¨åœ¨ <code>/etc/rancher/k3s/k3s.yaml</code> ä¸‹ã€‚å®‰è£…è„šæœ¬é»˜è®¤ä¼šå®‰è£…ç›¸å…³çš„å·¥å…·ï¼Œæ¯”å¦‚ <code>kubectl</code> å’Œå¸è½½æœåŠ¡ç›¸å…³çš„ <code>k3s-unstall.sh</code> è„šæœ¬ç­‰ã€‚</p>
<p>é…ç½®k3sé›†ç¾¤çš„tokenæ–‡ä»¶å­˜åœ¨äºserverèŠ‚ç‚¹çš„ <code>/var/lib/rancher/k3s/server/node-token</code> æ–‡ä»¶ä¸­ã€‚å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤æ¥å®‰è£…workerèŠ‚ç‚¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl -sfL https:&#x2F;&#x2F;get.k3s.io | K3S_URL&#x3D;https:&#x2F;&#x2F;myserver:6443 K3S_TOKEN&#x3D;XXX sh -</span><br></pre></td></tr></table></figure>

<p>ç»æµ‹è¯•ï¼Œé»˜è®¤æƒ…å†µä¸‹å®‰è£…çš„k3sæœåŠ¡ä¸ºmasterèŠ‚ç‚¹ï¼ŒæœåŠ¡åç§°ä¸º <code>k3s.service</code> ï¼Œåœ¨åŠ ä¸Š <code>K3S_URL</code> å’Œ <code>K3S_TOKEN</code> ä¸¤ä¸ªå‚æ•°åï¼Œå®‰è£…çš„æœåŠ¡åç§°ä¸º <code>k3s-agent.service</code> ï¼Œçœ‹æ¥å®˜æ–¹ä¹Ÿæ˜¯ç›´æ¥åšäº†åŒºåˆ†ã€‚</p>
<p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡ä¸€æ¡å‘½ä»¤ <code>curl -sfL https://get.k3s.io | sh -</code> æ¥å®‰è£…æ‰€æœ‰çš„masterèŠ‚ç‚¹å’ŒagentèŠ‚ç‚¹ï¼Œè¿™æ ·æœåŠ¡åç§°éƒ½ä¼šä¸º <code>k3s.service</code> ã€‚ç„¶ååœ¨é€šè¿‡ä¿®æ”¹å‘½ä»¤å‚æ•°çš„æ–¹å¼æ¥æŒ‡å®šæ˜¯masterèŠ‚ç‚¹è¿˜æ˜¯agentèŠ‚ç‚¹ï¼Œä»¥åŠä¸€äº›å…¶ä»–å‚æ•°ã€‚</p>
<p>æ€»è€Œè¨€ä¹‹ï¼Œk3sçš„å®‰è£…ç›¸æ¯”äºk8sæ¥è¯´ï¼Œè¿˜æ˜¯éå¸¸ç®€å•çš„ã€‚</p>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="https://github.com/rancher/k3s" target="_blank" rel="noopener">rancher/k3s: Lightweight Kubernetes. 5 less than k8s.</a></li>
<li><a href="https://rancher.com/docs/k3s/latest/en/quick-start/" target="_blank" rel="noopener">Quick-Start</a></li>
</ul>
<p>è¿™ç¯‡æ–‡ç« å¤šå°‘æœ‰ç‚¹æ°´ï¼Œå½“ç„¶ï¼Œç¡¬è´§è¿˜åœ¨åé¢ã€‚ã€‚ã€‚</p>
]]></content>
      <categories>
        <category>è½»é‡çº§äº‘åŸç”Ÿ</category>
      </categories>
      <tags>
        <tag>äº‘åŸç”Ÿ</tag>
        <tag>K3s</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoé‡åˆ°çš„ä¸€ä¸ªå…³äºnodejsç‰ˆæœ¬çš„é—®é¢˜</title>
    <url>/2019/08/24/hexo-of-nodejs-version/</url>
    <content><![CDATA[<p>è‡ªä»å‡çº§äº†nodejsçš„ç‰ˆæœ¬åˆ° <code>v10.15.3</code> ä¹‹åï¼Œæ¯æ¬¡æ‰§è¡Œ hexo çš„å‘½ä»¤éƒ½ä¼šæŠ¥å‡ºä¸€å¤§ä¸²çš„é”™è¯¯ä¿¡æ¯ã€‚å¼€å§‹å› ä¸ºè¿™ä¸ªé”™è¯¯å¹¶ä¸å½±å“åç»­çš„å‘½ä»¤æ‰§è¡Œï¼Œæ‰€ä»¥ä¹Ÿå°±ä¸€ç›´æ²¡æœ‰è§£å†³ã€‚ä½†æ˜¯æ¯æ¬¡çœ‹åˆ°è¿™ä¸ªé”™è¯¯å°±è§‰å¾—å¤´ç–¼ï¼Œæ‰€ä»¥èŠ±äº†ä¸€ç‚¹æ—¶é—´ç ”ç©¶äº†ä¸€ä¸‹ï¼Œæ²¡æƒ³åˆ°ã€‚ã€‚ã€‚é—®é¢˜çš„åŸå› è¿˜çœŸæŒºç®€å•çš„ã€‚</p>
<h4 id="é—®é¢˜ç°è±¡"><a href="#é—®é¢˜ç°è±¡" class="headerlink" title="é—®é¢˜ç°è±¡"></a>é—®é¢˜ç°è±¡</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ hexo new &quot;ssh-faster&quot;</span><br><span class="line">Error: The module &#39;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;node_modules&#x2F;hexo-cli&#x2F;node_modules&#x2F;dtrace-provider&#x2F;build&#x2F;Release&#x2F;DTraceProviderBindings.node&#39;</span><br><span class="line">was compiled against a different Node.js version using</span><br><span class="line">NODE_MODULE_VERSION 57. This version of Node.js requires</span><br><span class="line">NODE_MODULE_VERSION 64. Please try re-compiling or re-installing</span><br><span class="line">the module (for instance, using &#96;npm rebuild&#96; or &#96;npm install&#96;).</span><br><span class="line">    at Object.Module._extensions..node (internal&#x2F;modules&#x2F;cjs&#x2F;loader.js:730:18)</span><br><span class="line">    at Module.load (internal&#x2F;modules&#x2F;cjs&#x2F;loader.js:600:32)</span><br><span class="line">    at tryModuleLoad (internal&#x2F;modules&#x2F;cjs&#x2F;loader.js:539:12)</span><br><span class="line">    at Function.Module._load (internal&#x2F;modules&#x2F;cjs&#x2F;loader.js:531:3)</span><br><span class="line">    at Module.require (internal&#x2F;modules&#x2F;cjs&#x2F;loader.js:637:17)</span><br><span class="line">    at require (internal&#x2F;modules&#x2F;cjs&#x2F;helpers.js:22:18)</span><br><span class="line">    at Object.&lt;anonymous&gt; (&#x2F;usr&#x2F;local&#x2F;lib&#x2F;node_modules&#x2F;hexo-cli&#x2F;node_modules&#x2F;dtrace-provider&#x2F;dtrace-provider.js:18:23)</span><br><span class="line">    at Module._compile (internal&#x2F;modules&#x2F;cjs&#x2F;loader.js:701:30)</span><br><span class="line">    at Object.Module._extensions..js (internal&#x2F;modules&#x2F;cjs&#x2F;loader.js:712:10)</span><br><span class="line">    at Module.load (internal&#x2F;modules&#x2F;cjs&#x2F;loader.js:600:32)</span><br><span class="line">    at tryModuleLoad (internal&#x2F;modules&#x2F;cjs&#x2F;loader.js:539:12)</span><br><span class="line">    at Function.Module._load (internal&#x2F;modules&#x2F;cjs&#x2F;loader.js:531:3)</span><br><span class="line">    at Module.require (internal&#x2F;modules&#x2F;cjs&#x2F;loader.js:637:17)</span><br><span class="line">    at require (internal&#x2F;modules&#x2F;cjs&#x2F;helpers.js:22:18)</span><br><span class="line">    at Object.&lt;anonymous&gt; (&#x2F;usr&#x2F;local&#x2F;lib&#x2F;node_modules&#x2F;hexo-cli&#x2F;node_modules&#x2F;bunyan&#x2F;lib&#x2F;bunyan.js:79:18)</span><br><span class="line">    at Module._compile (internal&#x2F;modules&#x2F;cjs&#x2F;loader.js:701:30)</span><br><span class="line">INFO  Created: ~&#x2F;Project&#x2F;Leafney.github.io&#x2F;source&#x2F;_posts&#x2F;ssh-faster.md</span><br></pre></td></tr></table></figure>

<p>çœ‹ä¸Šé¢çš„é”™è¯¯ä¿¡æ¯å°±å¯ç®€å•çš„çŸ¥é“è¿™æ˜¯å…³äº <code>NODE_MODULE_VERSION</code> ç‰ˆæœ¬ä¸ä¸€è‡´çš„é—®é¢˜å¯¼è‡´çš„ã€‚</p>
<h4 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h4><p>å…ˆæŸ¥çœ‹ä¸€ä¸‹å½“å‰nodeåŠnpmç‰ˆæœ¬ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ node -v</span><br><span class="line">v10.15.3</span><br><span class="line"></span><br><span class="line">âœ npm -v</span><br><span class="line">6.4.1</span><br></pre></td></tr></table></figure>

<p>ç»æŸ¥è¯¢ï¼Œè¿™ä¸ªé—®é¢˜çš„åŸå› å°±æ˜¯ <code>hexo-cli</code> çš„ç‰ˆæœ¬å¤ªä½å¯¼è‡´çš„ã€‚</p>
<p>æ‰§è¡Œå‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ sudo npm i -g hexo-cli</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ° hexo-cliçš„ç‰ˆæœ¬è¿›è¡Œäº†æ›´æ–°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; New minor version of npm available! 6.4.1 â†’ 6.11.2</span><br></pre></td></tr></table></figure>

<p>Soï¼Œä¸€æ¡å‘½ä»¤è§£å†³é—®é¢˜ã€‚</p>
<p>å‚è€ƒï¼š<a href="https://kinm.github.io/2017/07/21/%E8%A7%A3%E5%86%B3NODEJS%E6%9B%B4%E6%96%B0%E5%88%B08-0-%E5%90%8EHEXO%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%8A%A5%E9%94%99/" target="_blank" rel="noopener">è§£å†³NODEJSæ›´æ–°åˆ°8.0+åHEXOå‘½ä»¤è¡ŒæŠ¥é”™ | å°æ˜</a></p>
]]></content>
      <categories>
        <category>Hexoåšå®¢æ­å»º</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Nodejs</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxä¸­åŠ é€ŸSSHè¿æ¥</title>
    <url>/2019/08/24/ssh-faster/</url>
    <content><![CDATA[<p>æœåŠ¡å™¨ç«¯ä¿®æ”¹é…ç½®æ–‡ä»¶ <code>/etc/ssh/sshd_config</code>ï¼Œå°†ä»¥ä¸‹ä¸¤é¡¹ <code>å–æ¶ˆæ³¨é‡Š</code> ä¸”å€¼å‡è®¾ç½®ä¸º <code>no</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># vim &#x2F;etc&#x2F;ssh&#x2F;sshd_config</span><br><span class="line"></span><br><span class="line">UseDNS no</span><br><span class="line">GSSAPIAuthentication no</span><br></pre></td></tr></table></figure>

<ul>
<li><code>UseDNS</code> ä¼šå¯¹å®¢æˆ·ç«¯è¿›è¡ŒDNSåå‘è§£æï¼Œç„¶ååœ¨æ¯”å¯¹æ­£å‘è§£æçš„ç»“æœæŸ¥çœ‹æ˜¯å¦ä¸€è‡´ã€‚</li>
<li><code>GSSAPIAuthentication</code> å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨å¯†ç éªŒè¯æˆ–è€…ç§˜é’¥éªŒè¯æ‰€ä»¥å…³é—­GSSAPIéªŒè¯å³å¯</li>
</ul>
<p>ä¹‹åï¼Œé‡å¯sshdå®ˆæŠ¤è¿›ç¨‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># systemctl restart sshd</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>MacOSåº”ç”¨è½¯ä»¶ç½‘ç«™æ¨è</title>
    <url>/2019/07/14/mac-software-website/</url>
    <content><![CDATA[<h4 id="ç½‘ç«™æ¨è"><a href="#ç½‘ç«™æ¨è" class="headerlink" title="ç½‘ç«™æ¨è"></a>ç½‘ç«™æ¨è</h4><ul>
<li><a href="https://xclient.info/" target="_blank" rel="noopener">ç²¾å“MACåº”ç”¨åˆ†äº«</a></li>
<li><a href="https://www.waitsun.com/" target="_blank" rel="noopener">éº¦æ°ªæ´¾(WaitsUn.com | çˆ±æƒ…å®ˆæœ›è€…)_ç²¾å“Macåº”ç”¨åˆ†äº«</a></li>
<li><a href="https://www.macenjoy.co/" target="_blank" rel="noopener">MacEnjoy-macOSç ´è§£èµ„æºåˆ†äº«ç«™</a> <strong>â­ï¸</strong></li>
<li><a href="https://www.macsky.net/" target="_blank" rel="noopener">è‹¹æœ/macç ´è§£è½¯ä»¶ä¸‹è½½-å¸¸ç”¨å¿…å¤‡è½¯ä»¶æ¨è-MacSKYè‹¹æœè½¯ä»¶å›­</a></li>
</ul>
<hr>
<h4 id="ä¿®å¤TNTç ´è§£çš„Macè½¯ä»¶é€€å‡ºé—®é¢˜"><a href="#ä¿®å¤TNTç ´è§£çš„Macè½¯ä»¶é€€å‡ºé—®é¢˜" class="headerlink" title="ä¿®å¤TNTç ´è§£çš„Macè½¯ä»¶é€€å‡ºé—®é¢˜"></a>ä¿®å¤TNTç ´è§£çš„Macè½¯ä»¶é€€å‡ºé—®é¢˜</h4><p>7æœˆ12æ—¥ï¼ŒAppleåˆ é™¤äº†TNTçš„è¯ä¹¦ï¼Œæ›´æ–°äº†T2èŠ¯ç‰‡çš„å®‰å…¨æ¨¡å¼ã€‚å› æ­¤å¾ˆå¤šç ´è§£çš„åº”ç”¨ç¨‹åºåœ¨7æœˆ12æ—¥ä¹‹åæ‰“å¼€ä¼šå´©æºƒã€‚ä¾‹å¦‚ï¼ŒCleanMyMac Xï¼ŒBetterZipï¼Œ1Passwordï¼ŒOne Switch ç­‰ï¼Œç›®å‰çš„è§£å†³æ–¹æ¡ˆæ˜¯éœ€è¦è‡ªå·±æ‰‹åŠ¨ç­¾åï¼Œèƒ½è§£å†³å¤§éƒ¨ä»½è½¯ä»¶å´©æºƒé—®é¢˜ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190713235952.png" alt=""></p>
<h5 id="å®‰è£…Xcode"><a href="#å®‰è£…Xcode" class="headerlink" title="å®‰è£…Xcode"></a>å®‰è£…Xcode</h5><p>å¯ä»¥åœ¨App Storeä¸­ä¸‹è½½å®‰è£…ï¼Œå¹¶ä¸”è‡³å°‘è¿è¡Œä¸€æ¬¡ã€‚</p>
<h5 id="å®‰è£…Command-Line-Tools-å·¥å…·"><a href="#å®‰è£…Command-Line-Tools-å·¥å…·" class="headerlink" title="å®‰è£…Command Line Tools å·¥å…·"></a>å®‰è£…Command Line Tools å·¥å…·</h5><p>æ‰“å¼€ç»ˆç«¯å·¥å…·è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">xcode-select install</span><br></pre></td></tr></table></figure>

<p>å¼¹å‡ºåé€‰æ‹©ç»§ç»­å®‰è£…ã€‚</p>
<h5 id="è½¯ä»¶ç­¾å"><a href="#è½¯ä»¶ç­¾å" class="headerlink" title="è½¯ä»¶ç­¾å"></a>è½¯ä»¶ç­¾å</h5><p>å®‰è£…å®Œæˆåå¯ä»¥åˆ©ç”¨ <code>codesign</code> è¿›è¡Œç­¾åï¼Œæ‰“å¼€ç»ˆç«¯è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">codesign --force --deep --sign - &#x2F;Applications&#x2F;name.app</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„åé¢çš„æ–‡ä»¶è·¯å¾„ï¼Œä½ å¯ä»¥æ‰“å¼€ <code>è®¿è¾¾</code>(<code>Finder</code>) æ‰¾åˆ° <code>åº”ç”¨ç¨‹åº</code>ï¼Œæ‰¾åˆ°è¦ç­¾åçš„è½¯ä»¶ï¼Œè¾“å…¥å‘½ä»¤ <code>codesign --force --deep --sign -</code> åæŠŠéœ€è¦ç­¾åçš„è½¯ä»¶æ‹–æ‹½åˆ°ç»ˆç«¯ç„¶åå›è½¦å³å¯ã€‚</p>
<h5 id="ä¸€é”®ç­¾ç½²å·¥å…·"><a href="#ä¸€é”®ç­¾ç½²å·¥å…·" class="headerlink" title="ä¸€é”®ç­¾ç½²å·¥å…·"></a>ä¸€é”®ç­¾ç½²å·¥å…·</h5><p>å¦‚æœå«Œä»¥ä¸Šçš„æ“ä½œå¤ªå¤æ‚ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€é”®ç­¾ç½²å·¥å…·ï¼š<a href="https://www.macenjoy.co/blog/codesigner" target="_blank" rel="noopener">CodeSigner For Macæ‰“å¼€æ—¶å´©æºƒç­¾ç½²å·¥å…· V0.9.3 beta 4 - ç‰¹åˆ«</a></p>
<h5 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h5><ul>
<li><a href="https://imac.hk/fix-tnt-crack-app-exit.html" target="_blank" rel="noopener">ä¿®å¤TNTç ´è§£çš„Macè½¯ä»¶é€€å‡ºé—®é¢˜ â€“ é»‘è‹¹æœä¹å›­</a></li>
<li><a href="https://www.macsky.net/32069.html" target="_blank" rel="noopener">é‡è¦æé†’ï¼š7æœˆ12å·ä»¥åæ‰“å¼€è½¯ä»¶æç¤ºå´©æºƒé—®é¢˜è§£å†³åŠæ³• - MacSKYè‹¹æœè½¯ä»¶å›­</a></li>
<li><a href="https://www.macenjoy.co/blog/support?categoryId=80178" target="_blank" rel="noopener">Mac è½¯ä»¶å®‰è£…é—®é¢˜è§£å†³ - æ”¯æŒ</a></li>
</ul>
<hr>
<p>æ³¨æ„ï¼š<strong>æ¨èç½‘ç«™ä¸­æ¶‰åŠåˆ°çš„èµ„æºå»ºè®®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œè¯·æ”¯æŒå¹¶è´­ä¹°æ­£ç‰ˆè½¯ä»¶ã€‚</strong></p>
]]></content>
      <tags>
        <tag>Mac</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨Kubernetesä¸Šæ‰§è¡ŒDrone CI/CD</title>
    <url>/2019/07/11/run-drone-cicd-on-kubernetes/</url>
    <content><![CDATA[<h4 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h4><p>ä¹‹å‰æ›¾ä½¿ç”¨ <code>docker run</code> å’Œ <code>docker-compose</code> çš„æ–¹å¼éƒ¨ç½²è¿‡DroneæœåŠ¡ï¼Œæ–¹æ³•æ¯”è¾ƒç®€å•ã€‚æœ€è¿‘ä¸€æ®µæ—¶é—´ä¸€ç›´åœ¨å­¦ä¹ Kubernetesï¼Œæ­£å¥½ç ”ç©¶ä¸€ä¸‹å¦‚ä½•åœ¨Kubernetesä¸Šéƒ¨ç½²Droneå®ç°CI/CDã€‚</p>
<p>ç›¸æ¯”ä¹‹å‰åœ¨Dockerä¸‹éƒ¨ç½²çš„Drone <code>server-agent</code> æ¨¡å¼ï¼Œåœ¨Kubernetesä¸Šè¿è¡ŒDroneå¯ä»¥ç®€åŒ–æˆ‘ä»¬çš„éƒ¨ç½²ï¼Œå…¶ä¸­æœ€å¤§çš„æ”¹è¿›å°±æ˜¯ä¸å†éœ€è¦å•ç‹¬çš„å»ç»´æŠ¤ <code>agent</code> æœåŠ¡äº†ï¼ŒDroneä¼šåˆ›å»ºä¸€ä¸ªKubernetes Jobæ¥æ‰§è¡Œç›¸åº”çš„Pipelineã€‚</p>
<p>è¿™ä¸ªKubernetes Jobä¼šç”Ÿæˆä¸€ä¸ªPipeline Controllerå®¹å™¨ã€‚æ¥è´Ÿè´£ç¼–æ’ç®¡é“æ­¥éª¤ã€æ”¶é›†ç»“æœã€å¹¶å‘DroneæœåŠ¡å™¨å›è°ƒé€šçŸ¥ã€‚</p>
<p>ä¸è¿‡ï¼Œç›®å‰åœ¨Kubernetesä¸Šè¿è¡ŒDroneæœåŠ¡ä»ç„¶æ˜¯å®éªŒæ€§çš„ï¼Œå®˜æ–¹å¹¶ä¸æ¨èåœ¨æ­£å¼çš„ç”Ÿäº§ç¯å¢ƒä¸­æ¥éƒ¨ç½²ã€‚</p>
<hr>
<h4 id="å®è·µ"><a href="#å®è·µ" class="headerlink" title="å®è·µ"></a>å®è·µ</h4><h5 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h5><p>æˆ‘é€šè¿‡ <code>Deployment</code> åœ¨VBoxè™šæ‹Ÿæœºä¸Šçš„Kubernetesç¯å¢ƒä¸­åˆ†åˆ«éƒ¨ç½²Giteaå’ŒDroneæœåŠ¡ã€‚å…¶ä¸­æœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š</p>
<ul>
<li>ä¸ºäº†ä¾¿äºæµ‹è¯•ï¼ŒæŒ‡å®š <code>Service</code> ä½¿ç”¨ <code>type: NodePort</code> æ¥ç»‘å®šä¸»æœºç«¯å£ï¼›</li>
<li>ç”±äºä½¿ç”¨æœ¬åœ°ç¯å¢ƒéƒ¨ç½²çš„åŸå› ï¼Œå¹¶æ²¡æœ‰ä½¿ç”¨ <code>traefik</code> + <code>host</code> çš„æ–¹å¼æ¥è®¾ç½®è™šæ‹ŸåŸŸåï¼Œå…³é”®æ˜¯åœ¨æœ¬åœ°ç¯å¢ƒä¸‹giteaçš„webhookæ— æ³•é€šè¿‡è™šæ‹ŸåŸŸåæ¥æ‰§è¡Œå›è°ƒè€Œè§¦å‘Droneçš„Pipelineï¼Œæ‰€ä»¥åªèƒ½ä½¿ç”¨IPæ–¹å¼ï¼›</li>
<li>å…ˆéƒ¨ç½²GiteaæœåŠ¡ï¼Œå…¶ä¸­çš„ <code>nodePort</code> ä¸éœ€è¦æ‰‹åŠ¨æŒ‡å®šï¼Œä½¿ç”¨éšæœºç«¯å£å·å³å¯ï¼›</li>
<li>éƒ¨ç½²DroneæœåŠ¡æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨æŒ‡å®š <code>nodePort</code> ä¸€é¡¹ï¼Œå› ä¸ºåœ¨è®¾ç½®ç¯å¢ƒå˜é‡ <code>DRONE_SERVER_HOST</code> æ—¶éœ€è¦è¯¥ç«¯å£ï¼›</li>
</ul>
<h5 id="æ‰§è¡Œ"><a href="#æ‰§è¡Œ" class="headerlink" title="æ‰§è¡Œ"></a>æ‰§è¡Œ</h5><p>giteaå®‰è£…é…ç½®é¡µé¢ï¼Œä»¥ä¸‹å‡ é¡¹éœ€è¦æ³¨æ„ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190710111150.png" alt=""></p>
<p>åˆ›å»ºä¸€ä¸ªç®€å•çš„ <code>.drone.yml</code> æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">kind: pipeline</span><br><span class="line">name: default</span><br><span class="line"></span><br><span class="line">clone:</span><br><span class="line">  disable: true</span><br><span class="line"></span><br><span class="line">steps:</span><br><span class="line">- name: test_drone</span><br><span class="line">  image: alpine:3.9</span><br><span class="line">  commands:</span><br><span class="line">  - echo &quot;show hello world by drone&quot;</span><br><span class="line">  - echo $(pwd)</span><br><span class="line">  - sleep 10</span><br></pre></td></tr></table></figure>

<p>å½“æ‰§è¡Œgitæäº¤åï¼ŒDroneå®¹å™¨ä¸­çš„éƒ¨åˆ†æ—¥å¿—è®°å½•å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;&quot;commit&quot;:&quot;6ef0d3355007823ab03c6c1a8ca7ba41bb7c304e&quot;,&quot;event&quot;:&quot;push&quot;,&quot;level&quot;:&quot;debug&quot;,&quot;msg&quot;:&quot;webhook parsed&quot;,&quot;name&quot;:&quot;hello&quot;,&quot;namespace&quot;:&quot;abc&quot;,&quot;time&quot;:&quot;2019-07-10T13:08:24Z&quot;&#125;</span><br><span class="line">&#123;&quot;commit&quot;:&quot;6ef0d3355007823ab03c6c1a8ca7ba41bb7c304e&quot;,&quot;event&quot;:&quot;push&quot;,&quot;level&quot;:&quot;debug&quot;,&quot;msg&quot;:&quot;trigger: received&quot;,&quot;ref&quot;:&quot;refs&#x2F;heads&#x2F;master&quot;,&quot;repo&quot;:&quot;abc&#x2F;hello&quot;,&quot;time&quot;:&quot;2019-07-10T13:08:24Z&quot;&#125;</span><br><span class="line">&#123;&quot;build-id&quot;:2,&quot;level&quot;:&quot;debug&quot;,&quot;msg&quot;:&quot;kubernetes: creating job&quot;,&quot;repo-id&quot;:1,&quot;stage-id&quot;:2,&quot;stage-name&quot;:&quot;default&quot;,&quot;stage-number&quot;:1,&quot;time&quot;:&quot;2019-07-10T13:08:24Z&quot;&#125;</span><br><span class="line">&#123;&quot;build-id&quot;:2,&quot;level&quot;:&quot;debug&quot;,&quot;msg&quot;:&quot;kubernetes: successfully created job&quot;,&quot;repo-id&quot;:1,&quot;stage-id&quot;:2,&quot;stage-name&quot;:&quot;default&quot;,&quot;stage-number&quot;:1,&quot;time&quot;:&quot;2019-07-10T13:08:25Z&quot;&#125;</span><br><span class="line">&#123;&quot;fields.time&quot;:&quot;2019-07-10T13:08:25Z&quot;,&quot;latency&quot;:351766213,&quot;level&quot;:&quot;debug&quot;,&quot;method&quot;:&quot;POST&quot;,&quot;msg&quot;:&quot;&quot;,&quot;remote&quot;:&quot;10.244.0.1:50176&quot;,&quot;request&quot;:&quot;&#x2F;hook?secret&#x3D;Gfz8OUgBscs2wySUiQZsTRdqDCqK6GBc&quot;,&quot;request-id&quot;:&quot;1Np3FAx2JZldpFOFBkNsnn2jgD1&quot;,&quot;time&quot;:&quot;2019-07-10T13:08:25Z&quot;&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°å…¶ä¸­å…³é”®çš„ä¸¤æ­¥ï¼š</p>
<ul>
<li><code>&quot;build-id&quot;:2 -- &quot;msg&quot;:&quot;kubernetes: creating job&quot;</code></li>
<li><code>&quot;build-id&quot;:2 -- &quot;msg&quot;:&quot;kubernetes: successfully created job&quot;</code></li>
</ul>
<p>æŸ¥çœ‹è‡ªåŠ¨åˆ›å»ºçš„Jobï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ kubectl -n cicd get job</span><br><span class="line">NAME                            COMPLETIONS   DURATION   AGE</span><br><span class="line">drone-job-2-cnbmdfdlov2wqkcsg   1&#x2F;1           43s        56s</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹ç›¸åº”çš„Pod:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ kubectl -n cicd get pods</span><br><span class="line">NAME                                  READY   STATUS      RESTARTS   AGE</span><br><span class="line">drone-deploy-77fb9ff86d-w8q9s         1&#x2F;1     Running     0          17m</span><br><span class="line">drone-job-2-cnbmdfdlov2wqkcsg-c8m56   0&#x2F;1     Completed   0          5m37s</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹Drone UIä¸­çš„æ„å»ºæƒ…å†µï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190710211502.png" alt=""></p>
<h5 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h5><p>æŸ¥çœ‹è¯¥Podçš„è¯¦ç»†æè¿°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ kubectl -n cicd describe pods drone-job-2-cnbmdfdlov2wqkcsg-c8m56</span><br><span class="line">Name:               drone-job-2-cnbmdfdlov2wqkcsg-c8m56</span><br><span class="line">Namespace:          cicd</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">Status:             Succeeded</span><br><span class="line">IP:                 10.244.1.121</span><br><span class="line">Controlled By:      Job&#x2F;drone-job-2-cnbmdfdlov2wqkcsg</span><br><span class="line">Containers:</span><br><span class="line">  drone-controller:</span><br><span class="line">    Container ID:   docker:&#x2F;&#x2F;8a2e413b84fe6d9dd361cc17b82881f888ff7376605c83bea0714cd5e439523c</span><br><span class="line">    Image:          drone&#x2F;controller:1.2.1</span><br><span class="line">    Image ID:       docker-pullable:&#x2F;&#x2F;drone&#x2F;controller@sha256:3a57ab277657525b1cfe464d8f38501a4454a5db3d20ca7e56052330df2ec523</span><br><span class="line">    Port:           &lt;none&gt;</span><br><span class="line">    Host Port:      &lt;none&gt;</span><br><span class="line">    State:          Terminated</span><br><span class="line">      Reason:       Completed</span><br><span class="line">      Exit Code:    0</span><br><span class="line">      Started:      Wed, 10 Jul 2019 02:14:44 +0800</span><br><span class="line">      Finished:     Wed, 10 Jul 2019 02:14:57 +0800</span><br><span class="line">...</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°åœ¨è¯¥Podå†…éƒ¨è‡ªåŠ¨åˆ›å»ºäº†ä¸€ä¸ªåŸºäº <code>drone/controller</code> é•œåƒçš„å®¹å™¨æ¥æ‰§è¡ŒPipelineã€‚</p>
<h5 id="è‡ªåŠ¨ç§»é™¤Jobs"><a href="#è‡ªåŠ¨ç§»é™¤Jobs" class="headerlink" title="è‡ªåŠ¨ç§»é™¤Jobs"></a>è‡ªåŠ¨ç§»é™¤Jobs</h5><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰§è¡Œå®Œæˆåçš„Kubernetes Jobsä¸ä¼šè‡ªåŠ¨ä»ç³»ç»Ÿä¸­æ¸…é™¤ï¼Œä¸»è¦æ˜¯ä¸ºäº†ä¾¿äºå¯¹Pipelineæ‰§è¡Œè¿‡ç¨‹ä¸­æŠ¥é”™çš„æ•…éšœæ’æŸ¥ã€‚</p>
<p>å¦‚æœéœ€è¦å®ç°è‡ªåŠ¨æ¸…ç†ï¼Œè¿™é‡Œæˆ‘æ‰¾åˆ°äº†ä¸¤ç§æ–¹å¼ï¼Œå¯ä»¥æ·±å…¥çš„å»äº†è§£ä¸€ä¸‹ï¼š</p>
<ol>
<li>è®¾ç½®Kubernetesçš„ <code>TTLAfterFinished</code> ç‰¹æ€§ï¼Œè¿™ä¹Ÿæ˜¯Droneå®˜æ–¹ç»™å‡ºçš„è§£å†³æ–¹æ³•</li>
<li>é€šè¿‡ç¬¬ä¸‰æ–¹çš„å·¥å…·æ¥å®ç°ï¼š<a href="https://github.com/lwolf/kube-cleanup-operator" target="_blank" rel="noopener">lwolf/kube-cleanup-operator: Kubernetes Operator to automatically delete completed Jobs and their Pods</a></li>
</ol>
<hr>
<h4 id="æ³¨æ„äº‹é¡¹-1"><a href="#æ³¨æ„äº‹é¡¹-1" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h4><p>éœ€è¦ä¸ºDroneåˆ›å»ºç›¸åº”çš„<code>ServiceAccount</code>æƒé™ã€‚å¦åˆ™ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">jobs.batch is forbidden: User &quot;system:serviceaccount:default:default&quot; cannot create resource &quot;jobs&quot; in API group &quot;batch&quot; in the namespace &quot;default&quot;</span><br></pre></td></tr></table></figure>

<p>é…ç½®æµç¨‹åˆ™ç›´æ¥æŒ‰ç…§Droneæ–‡æ¡£ä¸­çš„æ–¹æ³•æ“ä½œå³å¯ã€‚</p>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="https://docs.drone.io/installation/gitea/kubernetes/" target="_blank" rel="noopener">gitea-Kubernetes</a></li>
<li><a href="https://blog.drone.io/drone-goes-kubernetes-native/" target="_blank" rel="noopener">Drone CI/CD Goes Kubernetes-Native</a></li>
</ul>
]]></content>
      <categories>
        <category>CI/CDå®è·µ</category>
      </categories>
      <tags>
        <tag>Kubernetes</tag>
        <tag>Drone</tag>
      </tags>
  </entry>
  <entry>
    <title>Macä¸‹ä»å‘½ä»¤è¡Œå¿«é€Ÿæ‰“å¼€VSCode</title>
    <url>/2019/07/03/launching-vscode-from-command-line/</url>
    <content><![CDATA[<h4 id="è®¾ç½®"><a href="#è®¾ç½®" class="headerlink" title="è®¾ç½®"></a>è®¾ç½®</h4><p>æ‰“å¼€ VS Code</p>
<p>é€šè¿‡å¿«æ·é”® <code>Command + Shift + P</code> è°ƒå‡ºå‘½ä»¤é¢æ¿å¹¶è¾“å…¥ <code>shell command</code> ï¼Œé€‰æ‹© <code>Shell Command: Install &#39;code&#39; command in PATH</code> ä¸€é¡¹å³å¯ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190703154914.png" alt=""></p>
<p>é‡å¯ç»ˆç«¯çª—å£ï¼Œå¹¶è¾“å…¥ <code>code .</code> å³å¯åœ¨å½“å‰ç›®å½•ä¸‹æ‰“å¼€<code>VS Code</code>äº†ã€‚</p>
<p>ä¹Ÿå¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤åœ¨<code>VS Code</code>ä¸­æ‰“å¼€æŒ‡å®šçš„æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ code ~&#x2F;Project&#x2F;Leafney.github.io&#x2F;pubblog&#x2F;000Hexoæ¨¡æ¿.md</span><br></pre></td></tr></table></figure>

<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="https://code.visualstudio.com/docs/setup/setup-overview" target="_blank" rel="noopener">Setting up Visual Studio Code</a></li>
<li><a href="https://code.visualstudio.com/docs/setup/mac" target="_blank" rel="noopener">Running Visual Studio Code on macOS</a></li>
</ul>
]]></content>
      <categories>
        <category>å·¥å…·æŠ€å·§</category>
      </categories>
      <tags>
        <tag>Mac</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•´ç†å¸¸ç”¨å›½å†…é•œåƒè½¯ä»¶æº</title>
    <url>/2019/07/03/mirror-software-sources/</url>
    <content><![CDATA[<h4 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h4><ul>
<li>Alpine</li>
<li>Ubuntu/Debian</li>
<li>CentOS</li>
<li>Python/Pip</li>
<li>Golang</li>
<li>Docker</li>
<li>Kubernetes</li>
</ul>
<p><strong>æ²¡æœ‰æ¶‰åŠåˆ°çš„å¯ä»¥åœ¨è¯„è®ºå¤„è¡¥å……å®Œå–„ã€‚</strong></p>
<hr>
<h4 id="Alpine"><a href="#Alpine" class="headerlink" title="Alpine"></a>Alpine</h4><h5 id="è®¾ç½®å¤šä¸ªç¯å¢ƒ"><a href="#è®¾ç½®å¤šä¸ªç¯å¢ƒ" class="headerlink" title="è®¾ç½®å¤šä¸ªç¯å¢ƒ"></a>è®¾ç½®å¤šä¸ªç¯å¢ƒ</h5><p>æ³¨æ„ï¼šç¬¬ä¸€è¡Œä¸­ä½¿ç”¨çš„æ˜¯ <code>&gt;</code> ç¬¦å·ï¼Œè¿™æ ·ä¼šæŠŠåŸæœ‰çš„é»˜è®¤ä»“åº“æºä¿¡æ¯ç»™è¦†ç›–æ‰ï¼Œå¦‚æœéœ€è¦ä¿ç•™ï¼Œè¯·æ›´æ¢æˆ <code>&gt;&gt;</code> ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">echo &quot;https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;alpine&#x2F;v3.9&#x2F;main&#x2F;&quot; &gt; &#x2F;etc&#x2F;apk&#x2F;repositories &amp;&amp; \</span><br><span class="line">    echo &quot;https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;alpine&#x2F;v3.9&#x2F;community&#x2F;&quot; &gt;&gt; &#x2F;etc&#x2F;apk&#x2F;repositories &amp;&amp; \</span><br><span class="line">    echo &quot;https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;alpine&#x2F;edge&#x2F;testing&#x2F;&quot; &gt;&gt; &#x2F;etc&#x2F;apk&#x2F;repositories</span><br></pre></td></tr></table></figure>

<h5 id="å•ç‹¬è®¾ç½®"><a href="#å•ç‹¬è®¾ç½®" class="headerlink" title="å•ç‹¬è®¾ç½®"></a>å•ç‹¬è®¾ç½®</h5><p>æ³¨æ„ï¼šæ ¹æ®æ‰€ä½¿ç”¨çš„alpineç³»ç»Ÿç‰ˆæœ¬ï¼Œæ›´æ¢å…¶ä¸­çš„ç‰ˆæœ¬å·ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ echo &quot;http:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;alpine&#x2F;v3.9&#x2F;main&#x2F;&quot; &gt;&gt; &#x2F;etc&#x2F;apk&#x2F;repositories</span><br><span class="line"></span><br><span class="line">$ echo &quot;http:&#x2F;&#x2F;dl-4.alpinelinux.org&#x2F;alpine&#x2F;v3.4&#x2F;main&quot; &gt;&gt; &#x2F;etc&#x2F;apk&#x2F;repositories</span><br></pre></td></tr></table></figure>

<h4 id="Ubuntu-Debian"><a href="#Ubuntu-Debian" class="headerlink" title="Ubuntu/Debian"></a>Ubuntu/Debian</h4><h5 id="å¤‡ä»½åŸå§‹æ–‡ä»¶"><a href="#å¤‡ä»½åŸå§‹æ–‡ä»¶" class="headerlink" title="å¤‡ä»½åŸå§‹æ–‡ä»¶"></a>å¤‡ä»½åŸå§‹æ–‡ä»¶</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo cp &#x2F;etc&#x2F;apt&#x2F;sources.list &#x2F;etc&#x2F;apt&#x2F;sources.list.bak</span><br></pre></td></tr></table></figure>

<h5 id="è½¯ä»¶æº"><a href="#è½¯ä»¶æº" class="headerlink" title="è½¯ä»¶æº"></a>è½¯ä»¶æº</h5><p>ç¼–è¾‘å™¨æ‰“å¼€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;etc&#x2F;apt&#x2F;sources.list</span><br></pre></td></tr></table></figure>
<p>æ›¿æ¢é»˜è®¤çš„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http:&#x2F;&#x2F;archive.ubuntu.com&#x2F;</span><br></pre></td></tr></table></figure>
<p>ä¸º</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mirrors.aliyun.com</span><br></pre></td></tr></table></figure>

<p>é˜¿é‡Œäº‘ <code>http://mirrors.aliyun.com/ubuntu/</code></p>
<p>ç½‘æ˜“163 <code>http://mirrors.163.com/ubuntu/</code></p>
<p>å¼€æºç¤¾ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">deb http:&#x2F;&#x2F;azure.archive.ubuntu.com&#x2F;ubuntu&#x2F; bionic main restricted universe multiverse</span><br><span class="line">deb http:&#x2F;&#x2F;azure.archive.ubuntu.com&#x2F;ubuntu&#x2F; bionic-security main restricted universe multiverse</span><br><span class="line">deb http:&#x2F;&#x2F;azure.archive.ubuntu.com&#x2F;ubuntu&#x2F; bionic-updates main restricted universe multiverse</span><br><span class="line">deb http:&#x2F;&#x2F;azure.archive.ubuntu.com&#x2F;ubuntu&#x2F; bionic-proposed main restricted universe multiverse</span><br><span class="line">deb http:&#x2F;&#x2F;azure.archive.ubuntu.com&#x2F;ubuntu&#x2F; bionic-backports main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;azure.archive.ubuntu.com&#x2F;ubuntu&#x2F; bionic main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;azure.archive.ubuntu.com&#x2F;ubuntu&#x2F; bionic-security main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;azure.archive.ubuntu.com&#x2F;ubuntu&#x2F; bionic-updates main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;azure.archive.ubuntu.com&#x2F;ubuntu&#x2F; bionic-proposed main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;azure.archive.ubuntu.com&#x2F;ubuntu&#x2F; bionic-backports main restricted universe multiverse</span><br></pre></td></tr></table></figure>

<p>å¾…å®Œå–„ã€‚</p>
<h5 id="Debian"><a href="#Debian" class="headerlink" title="Debian"></a>Debian</h5><p>ç½‘æ˜“163 <code>http://mirrors.163.com/debian/</code></p>
<p>å¾…å®Œå–„ã€‚</p>
<hr>
<h4 id="CentOS"><a href="#CentOS" class="headerlink" title="CentOS"></a>CentOS</h4><p>å¾…å®Œå–„ã€‚</p>
<hr>
<h4 id="Python-Pip"><a href="#Python-Pip" class="headerlink" title="Python/Pip"></a>Python/Pip</h4><h5 id="é€‰æ‹©å›½å†…é•œåƒæº"><a href="#é€‰æ‹©å›½å†…é•œåƒæº" class="headerlink" title="é€‰æ‹©å›½å†…é•œåƒæº"></a>é€‰æ‹©å›½å†…é•œåƒæº</h5><p>ä» <a href="https://www.pypi-mirrors.org/" target="_blank" rel="noopener">PyPI Mirror Status</a> å¯ä»¥æ‰¾åˆ°å¯ç”¨çš„å›½å†…PypIé•œåƒæºï¼Œè¿™é‡Œæˆ‘é€‰æ‹©è±†ç“£çš„æºåœ°å€ <code>https://pypi.douban.com/</code> ã€‚</p>
<h5 id="å¸¸ç”¨çš„å›½å†…é•œåƒæº"><a href="#å¸¸ç”¨çš„å›½å†…é•œåƒæº" class="headerlink" title="å¸¸ç”¨çš„å›½å†…é•œåƒæº"></a>å¸¸ç”¨çš„å›½å†…é•œåƒæº</h5><ul>
<li><a href="https://pypi.douban.com/" target="_blank" rel="noopener">pypi.douban.com</a> è±†ç“£æºï¼ŒåŒ—äº¬</li>
<li><a href="https://pypi.tuna.tsinghua.edu.cn/" target="_blank" rel="noopener">pypi.tuna.tsinghua.edu.cn</a> æ¸…åæºï¼ŒåŒ—äº¬</li>
<li><a href="https://mirrors.aliyun.com/pypi" target="_blank" rel="noopener">mirrors.aliyun.com/pypi</a> é˜¿é‡Œæºï¼Œæ­å·</li>
</ul>
<h5 id="ä¸´æ—¶ä¿®æ”¹"><a href="#ä¸´æ—¶ä¿®æ”¹" class="headerlink" title="ä¸´æ—¶ä¿®æ”¹"></a>ä¸´æ—¶ä¿®æ”¹</h5><p>åœ¨å®‰è£…è½¯ä»¶æ—¶é€šè¿‡ <code>-i</code> æŒ‡ä»¤æŒ‡å®šè¦ä½¿ç”¨çš„é•œåƒæºï¼š</p>
<p>easy_installï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ easy_install -i https:&#x2F;&#x2F;&lt;mirror&gt;&#x2F;simple &lt;package&gt;</span><br></pre></td></tr></table></figure>

<p>pipï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ pip install -i https:&#x2F;&#x2F;&lt;mirror&gt;&#x2F;simple &lt;package&gt;</span><br></pre></td></tr></table></figure>

<p>å¦‚ï¼š<code>pip install -i https://pypi.douban.com/simple ansible</code></p>
<h5 id="å…¨å±€æ›´æ”¹"><a href="#å…¨å±€æ›´æ”¹" class="headerlink" title="å…¨å±€æ›´æ”¹"></a>å…¨å±€æ›´æ”¹</h5><p>é€šè¿‡åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šæ¥å®ç°å…¨å±€æ›´æ”¹ã€‚</p>
<h6 id="easy-install-æ›´æ”¹å…¨å±€é•œåƒæº"><a href="#easy-install-æ›´æ”¹å…¨å±€é•œåƒæº" class="headerlink" title="easy_install æ›´æ”¹å…¨å±€é•œåƒæº"></a>easy_install æ›´æ”¹å…¨å±€é•œåƒæº</h6><p>åœ¨Unixç³»ç»Ÿä¸‹ï¼Œé…ç½®æ–‡ä»¶ä½äº <code>~/.pydistutils.cfg</code> </p>
<p>åœ¨Windowsç³»ç»Ÿä¸‹ï¼Œé…ç½®æ–‡ä»¶ä½äº <code>ï¼Ÿï¼Ÿï¼Ÿ</code> (å¾…å®Œå–„)</p>
<p>å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œæ–°å»ºä¸€ä¸ªå°±å¯ä»¥ã€‚</p>
<p>ç„¶ååœ¨ç›¸åº”çš„é…ç½®æ–‡ä»¶ä¸­å†™å…¥å¦‚ä¸‹å†…å®¹(è¿™é‡Œä½¿ç”¨è±†ç“£çš„é•œåƒæºä¸ºä¾‹)ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[easy_install]</span><br><span class="line">index_url &#x3D; https:&#x2F;&#x2F;pypi.douban.com&#x2F;simple</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong> æºè·¯å¾„è¦åŒ…å« <code>/simple</code> éƒ¨åˆ†ã€‚</p>
<h6 id="pip-æ›´æ”¹å…¨å±€é•œåƒæº"><a href="#pip-æ›´æ”¹å…¨å±€é•œåƒæº" class="headerlink" title="pip æ›´æ”¹å…¨å±€é•œåƒæº"></a>pip æ›´æ”¹å…¨å±€é•œåƒæº</h6><p>åœ¨<code>Unix</code>å’Œ<code>Mac OS</code>ç³»ç»Ÿä¸‹ï¼Œå¯¹åº”çš„é…ç½®æ–‡ä»¶åº”è¯¥ä½äº <code>$HOME/.pip/pip.conf</code> ã€‚<br><code>$HOME</code> ä¸º <code>~</code> æ ¹ç›®å½•ã€‚å³ <code>~/.pip/pip.conf</code> ã€‚</p>
<p>åœ¨<code>Windows</code>ç³»ç»Ÿä¸‹ï¼Œé…ç½®æ–‡ä»¶åº”ä½äº <code>%HOME%\pip\pip.ini</code> ã€‚<br><code>%HOME%</code> ä¸º <code>C:\Users\&lt;your_name&gt;\</code> ç›®å½•ï¼Œå³ <code>C:\Users\&lt;your_name&gt;\pip\pip.ini</code> ã€‚</p>
<p>å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œæ–°å»ºä¸€ä¸ªå°±å¯ä»¥ã€‚</p>
<p>ç„¶ååœ¨ç›¸åº”çš„é…ç½®æ–‡ä»¶ä¸­å†™å…¥å¦‚ä¸‹å†…å®¹(è¿™é‡Œä½¿ç”¨è±†ç“£çš„é•œåƒæºä¸ºä¾‹)ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[global]</span><br><span class="line">index-url &#x3D; https:&#x2F;&#x2F;pypi.douban.com&#x2F;simple</span><br></pre></td></tr></table></figure>

<h6 id="å‡çº§pip"><a href="#å‡çº§pip" class="headerlink" title="å‡çº§pip"></a>å‡çº§pip</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ pip install --upgrade pip</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Golang"><a href="#Golang" class="headerlink" title="Golang"></a>Golang</h4><p>é€šè¿‡ <code>go module</code> ç®¡ç†çš„é¡¹ç›®è®¾ç½®ä»£ç†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export GO111MODULE&#x3D;on</span><br><span class="line"></span><br><span class="line">export GOPROXY&#x3D;https:&#x2F;&#x2F;athens.azurefd.net</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h4><p>è¯¦è§ï¼š<a href="/2019/05/29/setting-docker-mirror-2019/">é…ç½®Dockeré•œåƒåŠ é€Ÿå™¨2019 | ITèŒƒå„¿</a></p>
<hr>
<h4 id="Kubernetes"><a href="#Kubernetes" class="headerlink" title="Kubernetes"></a>Kubernetes</h4><h5 id="é˜¿é‡Œäº‘"><a href="#é˜¿é‡Œäº‘" class="headerlink" title="é˜¿é‡Œäº‘"></a>é˜¿é‡Œäº‘</h5><h6 id="Debian-Ubuntu"><a href="#Debian-Ubuntu" class="headerlink" title="Debian / Ubuntu"></a>Debian / Ubuntu</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">apt-get update &amp;&amp; apt-get install -y apt-transport-https</span><br><span class="line">curl https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;kubernetes&#x2F;apt&#x2F;doc&#x2F;apt-key.gpg | apt-key add - </span><br><span class="line">cat &lt;&lt;EOF &gt;&#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;kubernetes.list</span><br><span class="line">deb https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;kubernetes&#x2F;apt&#x2F; kubernetes-xenial main</span><br><span class="line">EOF  </span><br><span class="line">apt-get update</span><br><span class="line">apt-get install -y kubelet kubeadm kubectl</span><br></pre></td></tr></table></figure>

<h6 id="CentOS-RHEL-Fedora"><a href="#CentOS-RHEL-Fedora" class="headerlink" title="CentOS / RHEL / Fedora"></a>CentOS / RHEL / Fedora</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cat &lt;&lt;EOF &gt; &#x2F;etc&#x2F;yum.repos.d&#x2F;kubernetes.repo</span><br><span class="line">[kubernetes]</span><br><span class="line">name&#x3D;Kubernetes</span><br><span class="line">baseurl&#x3D;https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;kubernetes&#x2F;yum&#x2F;repos&#x2F;kubernetes-el7-x86_64&#x2F;</span><br><span class="line">enabled&#x3D;1</span><br><span class="line">gpgcheck&#x3D;1</span><br><span class="line">repo_gpgcheck&#x3D;1</span><br><span class="line">gpgkey&#x3D;https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;kubernetes&#x2F;yum&#x2F;doc&#x2F;yum-key.gpg https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;kubernetes&#x2F;yum&#x2F;doc&#x2F;rpm-package-key.gpg</span><br><span class="line">EOF</span><br><span class="line">setenforce 0</span><br><span class="line">yum install -y kubelet kubeadm kubectl</span><br><span class="line">systemctl enable kubelet &amp;&amp; systemctl start kubelet</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://opsx.alibaba.com/mirror" target="_blank" rel="noopener">é˜¿é‡Œå·´å·´å¼€æºé•œåƒç«™</a></li>
</ul>
<h5 id="Azure-China"><a href="#Azure-China" class="headerlink" title="Azure China"></a>Azure China</h5><p>ä½¿ç”¨GCR Proxy Cacheä»gcr.ioä¸‹è½½é•œåƒ:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">docker pull gcr.azk8s.cn&#x2F;google_containers&#x2F;&lt;imagename&gt;:&lt;version&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="http://mirror.azure.cn/help/gcr-proxy-cache.html" target="_blank" rel="noopener">GCR Proxy Cache</a></li>
</ul>
<p>è¯¦è§ï¼š<a href="/2019/05/17/kubernetes-introduction-for-install-by-kubeadm/">Kuberneteså…¥é—¨ â€“ ä¸€ä½¿ç”¨kubeadméƒ¨ç½²Kubernetesé›†ç¾¤v1.14.1 | ITèŒƒå„¿</a></p>
<hr>
]]></content>
      <tags>
        <tag>Golang</tag>
        <tag>Docker</tag>
        <tag>Python</tag>
        <tag>Alpine</tag>
      </tags>
  </entry>
  <entry>
    <title>go test ç¦ç”¨ç¼“å­˜</title>
    <url>/2019/06/27/go-test-disable-cached/</url>
    <content><![CDATA[<p>æ¯å½“æ‰§è¡Œ <code>go test</code> æ—¶ï¼Œå¦‚æœåŠŸèƒ½ä»£ç å’Œæµ‹è¯•ä»£ç æ²¡æœ‰å˜åŠ¨ï¼Œåˆ™åœ¨ä¸‹ä¸€æ¬¡æ‰§è¡Œæ—¶ï¼Œä¼šç›´æ¥è¯»å–ç¼“å­˜ä¸­çš„æµ‹è¯•ç»“æœï¼Œå¹¶é€šè¿‡ <code>(cached)</code> è¿›è¡Œæ ‡è®°ã€‚</p>
<p>è¦ç¦ç”¨æµ‹è¯•ç¼“å­˜ï¼Œå¯ä»¥é€šè¿‡ <code>-count=1</code> æ ‡å¿—æ¥å®ç°ã€‚</p>
<p>å¦‚ä¸‹ç¤ºä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># ~&#x2F;test&#x2F;hello-drone&#x2F;go_demo [master âœ— (fe95bec)] [13:45:16]</span><br><span class="line">âœ go test -v .&#x2F;...               </span><br><span class="line">?       go_demo [no test files]</span><br><span class="line">&#x3D;&#x3D;&#x3D; RUN   TestCreateUnixMillis</span><br><span class="line">--- PASS: TestCreateUnixMillis (0.00s)</span><br><span class="line">    utils_test.go:7: 1561614325740</span><br><span class="line">PASS</span><br><span class="line">ok      go_demo&#x2F;utils   0.006s</span><br><span class="line"></span><br><span class="line"># ~&#x2F;test&#x2F;hello-drone&#x2F;go_demo [master âœ— (fe95bec)] [13:45:32]</span><br><span class="line">âœ go test -v .&#x2F;...</span><br><span class="line">?       go_demo [no test files]</span><br><span class="line">&#x3D;&#x3D;&#x3D; RUN   TestCreateUnixMillis</span><br><span class="line">--- PASS: TestCreateUnixMillis (0.00s)</span><br><span class="line">    utils_test.go:7: 1561614325740</span><br><span class="line">PASS</span><br><span class="line">ok      go_demo&#x2F;utils   (cached)</span><br><span class="line"></span><br><span class="line"># ~&#x2F;test&#x2F;hello-drone&#x2F;go_demo [master âœ— (fe95bec)] [13:45:38]</span><br><span class="line">âœ go test -v .&#x2F;...</span><br><span class="line">?       go_demo [no test files]</span><br><span class="line">&#x3D;&#x3D;&#x3D; RUN   TestCreateUnixMillis</span><br><span class="line">--- PASS: TestCreateUnixMillis (0.00s)</span><br><span class="line">    utils_test.go:7: 1561614325740</span><br><span class="line">PASS</span><br><span class="line">ok      go_demo&#x2F;utils   (cached)</span><br><span class="line"></span><br><span class="line"># ~&#x2F;test&#x2F;hello-drone&#x2F;go_demo [master âœ— (fe95bec)] [13:45:59]</span><br><span class="line">âœ go test -v .&#x2F;... -count&#x3D;1</span><br><span class="line">?       go_demo [no test files]</span><br><span class="line">&#x3D;&#x3D;&#x3D; RUN   TestCreateUnixMillis</span><br><span class="line">--- PASS: TestCreateUnixMillis (0.00s)</span><br><span class="line">    utils_test.go:7: 1561614494115</span><br><span class="line">PASS</span><br><span class="line">ok      go_demo&#x2F;utils   0.006s</span><br><span class="line"></span><br><span class="line"># ~&#x2F;test&#x2F;hello-drone&#x2F;go_demo [master âœ— (fe95bec)] [13:48:14]</span><br><span class="line">âœ go test -v .&#x2F;... -count&#x3D;1</span><br><span class="line">?       go_demo [no test files]</span><br><span class="line">&#x3D;&#x3D;&#x3D; RUN   TestCreateUnixMillis</span><br><span class="line">--- PASS: TestCreateUnixMillis (0.00s)</span><br><span class="line">    utils_test.go:7: 1561614508408</span><br><span class="line">PASS</span><br><span class="line">ok      go_demo&#x2F;utils   0.006s</span><br><span class="line"></span><br><span class="line"># ~&#x2F;test&#x2F;hello-drone&#x2F;go_demo [master âœ— (fe95bec)] [13:48:32]</span><br><span class="line">âœ</span><br></pre></td></tr></table></figure>

<p>å…³äº <code>-count=1</code> çš„è§£é‡Šï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤ <code>go help testflag</code> æ¥æŸ¥çœ‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">When &#39;go test&#39; runs in package list mode, &#39;go test&#39; caches successful</span><br><span class="line">package test results to avoid unnecessary repeated running of tests. To</span><br><span class="line">disable test caching, use any test flag or argument other than the</span><br><span class="line">cacheable flags. The idiomatic way to disable test caching explicitly</span><br><span class="line">is to use -count&#x3D;1.</span><br></pre></td></tr></table></figure>

<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>åœ¨ <code>Go 1.11</code> ä¹‹å‰ï¼Œé€šè¿‡ <code>GOCACHE=off</code> çš„æ–¹å¼æ¥ç¦ç”¨æµ‹è¯•ç¼“å­˜ï¼š<code>GOCACHE=off go test ./...</code></p>
<p>åœ¨ <code>Go 1.11</code> ä¹‹åï¼Œé€šè¿‡ <code>-count=1</code> çš„æ–¹å¼æ¥ç¦ç”¨æµ‹è¯•ç¼“å­˜ï¼š<code>go test -count=1 ./...</code></p>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="https://github.com/golang/go/issues/24573" target="_blank" rel="noopener">cmd/go: how to disable (run test) Cached Â· Issue #24573 Â· golang/go</a></li>
<li><a href="https://stackoverflow.com/questions/48882691/force-retesting-or-disable-test-caching" target="_blank" rel="noopener">testing - Force retesting or disable test caching - Stack Overflow</a></li>
</ul>
]]></content>
      <categories>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>Golang</tag>
      </tags>
  </entry>
  <entry>
    <title>ç›‘æ§ç£ç›˜ç©ºé—´ä½¿ç”¨ç‡å¹¶å‘é€é’‰é’‰æé†’</title>
    <url>/2019/06/18/disk-monitor-send-dingtalk/</url>
    <content><![CDATA[<p>ä»Šå¤©åœ¨ä½¿ç”¨æµ‹è¯•æœåŠ¡å™¨æ—¶ï¼Œå‘ç°æœåŠ¡å™¨è¢«å¥½å¤šæµ‹è¯•çš„æ—¥å¿—æ–‡ä»¶å ç”¨æ‰äº†åå‡ ä¸ªGçš„ç£ç›˜ç©ºé—´ï¼Œé€šè¿‡ <code>du -ah --max-depth=1</code> å‘½ä»¤æ£€æŸ¥åˆ é™¤åï¼Œçªå‘å¥‡æƒ³çš„è§‰å¾—ä¸å¦‚é¡ºæ‰‹å†™ä¸ªshellè„šæœ¬æ¥å®šæ—¶æé†’è‡ªå·±ç£ç›˜ç©ºé—´çš„å ç”¨ç‡ã€‚å’Œ <code>Prometheus</code> è¿™ç§å¤§å‹çš„ç›‘æ§ç³»ç»Ÿæ¯”èµ·æ¥ï¼Œä¸€ä¸ªshellè„šæœ¬å¯è°“æ˜¯éå¸¸çš„ <code>è½»é‡çº§</code> äº†ã€‚</p>
<p>è¯´å¹²å°±å¹²ï¼Œé¡¹ç›®æºç å·²æ”¾åˆ° Github ä¸Šï¼ŒçŒ›æˆ³ <a href="https://github.com/leafney/disk-monitor-dingtalk" target="_blank" rel="noopener">leafney/disk-monitor-dingtalk: disk monitor ç›‘æ§ç£ç›˜ç©ºé—´ä½¿ç”¨ç‡å¹¶å‘é€é’‰é’‰æé†’</a> æŸ¥çœ‹ã€‚</p>
<h4 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h4><p>è„šæœ¬æ¯”è¾ƒç®€å•ï¼Œä¸€çœ‹å°±æ˜ç™½äº†ã€‚é€šè¿‡ <code>df</code> å‘½ä»¤æ¥æŸ¥çœ‹ç£ç›˜å„ä¸ªåˆ†åŒºçš„å ç”¨ç‡å¹¶è®¾ç½®é˜ˆå€¼ï¼Œå½“åˆ°è¾¾æŒ‡å®šé˜ˆå€¼æ—¶å°±å‘é€é’‰é’‰æ¶ˆæ¯è¿›è¡Œæé†’ã€‚</p>
<p>è®¾ç½®äº†å››ä¸ªå¯é€‰å‚æ•°ï¼š</p>
<ul>
<li><code>-t</code> â€“ é’‰é’‰çš„tokenï¼Œ<strong>å¿…å¡«é¡¹</strong></li>
<li><code>-p</code> â€“ ç£ç›˜å ç”¨ç‡ç™¾åˆ†æ¯”é˜ˆå€¼ï¼Œé»˜è®¤ä¸º<code>80%</code></li>
<li><code>-h</code> â€“ é»˜è®¤æƒ…å†µä¸‹è·å–æœåŠ¡å™¨ä¸»æœºçš„ <code>hostname</code> ï¼Œå¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªæœåŠ¡å™¨åç§°</li>
<li><code>-n</code> â€“ å½“ç£ç›˜çš„å ç”¨ç‡åœ¨æ­£å¸¸é˜ˆå€¼å†…æ˜¯å¦ä¹Ÿå‘é€æé†’ï¼Œé»˜è®¤æ˜¯ä¸å‘é€</li>
</ul>
<h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><p>é¦–å…ˆï¼Œä¸ºshellè„šæœ¬èµ‹äºˆå¯æ‰§è¡Œæƒé™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ chmod +x .&#x2F;disk-monitor.sh</span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼Œé€šè¿‡ <code>crontab</code> æ¥å®šæ—¶æ‰§è¡Œã€‚æˆ‘è®¾ç½®çš„æ˜¯æ¯å¤©çš„9ç‚¹æ£€æŸ¥ä¸€æ¬¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ crontab -l</span><br><span class="line">0 9 * * * &#x2F;home&#x2F;tiger&#x2F;disk-monitor.sh -t fbbdf72e581f3bcc9469d49708857d2fa93a684 &gt; &#x2F;dev&#x2F;null 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>

<h4 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h4><p>ç›¸åº”çš„æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190618204000.png" alt=""></p>
<h4 id="èµ„æ–™"><a href="#èµ„æ–™" class="headerlink" title="èµ„æ–™"></a>èµ„æ–™</h4><ul>
<li><a href="https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/crontab.html" target="_blank" rel="noopener">crontab å®šæ—¶ä»»åŠ¡ â€” Linux Tools Quick Tutorial</a></li>
</ul>
]]></content>
      <tags>
        <tag>Tools</tag>
      </tags>
  </entry>
  <entry>
    <title>é…ç½®Dockeré•œåƒåŠ é€Ÿå™¨2019</title>
    <url>/2019/05/29/setting-docker-mirror-2019/</url>
    <content><![CDATA[<p>æœ‹å‹æé†’åšå®¢ä¸­çš„ä¸€ç¯‡è®¾ç½®Dockeré•œåƒåŠ é€Ÿå™¨çš„æ–‡ç«  <a href="/2016/12/26/setting-docker-mirror-image-accelerator/">é…ç½®Dockeré•œåƒåŠ é€Ÿå™¨ | ITèŒƒå„¿</a> ä¸­ä»‹ç»çš„æ–¹æ³•å¤ªè¿‡æ—¶äº†ï¼Œçœ‹è¿‡ä¹‹åæ‰å‘ç°é‚£ç¯‡æ–‡ç« æ˜¯2016å¹´çš„æ—¶å€™å†™çš„ã€‚æ‰€ä»¥èµ¶ç´§æ›´æ–°ä¸€ä¸‹ã€‚</p>
<p>åºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šå¹²è´§ã€‚</p>
<h4 id="å®‰è£…ï¼å‡çº§Dockerå®¢æˆ·ç«¯"><a href="#å®‰è£…ï¼å‡çº§Dockerå®¢æˆ·ç«¯" class="headerlink" title="å®‰è£…ï¼å‡çº§Dockerå®¢æˆ·ç«¯"></a>å®‰è£…ï¼å‡çº§Dockerå®¢æˆ·ç«¯</h4><p>æ¨èå®‰è£… <code>1.10.0</code> ä»¥ä¸Šç‰ˆæœ¬çš„Dockerå®¢æˆ·ç«¯ï¼Œå‚è€ƒDockerå®˜æ–¹æ–‡æ¡£ <a href="https://docs.docker.com/install/" target="_blank" rel="noopener">About Docker CE | Docker Documentation</a> æˆ–æˆ‘çš„æ–‡ç«  <a href="/2017/08/25/ubuntu-install-docker-ce-and-configure-mirror-accelerator/">Ubuntu16.04ä¸‹å®‰è£…Docker-CEç¤¾åŒºç‰ˆ | ITèŒƒå„¿</a></p>
<hr>
<h4 id="é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿå™¨"><a href="#é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿå™¨" class="headerlink" title="é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿå™¨"></a>é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿå™¨</h4><p>æ‰“å¼€ <a href="https://homenew.console.aliyun.com/" target="_blank" rel="noopener">é˜¿é‡Œäº‘æ§åˆ¶å°</a> â€“ å·¦ä¾§å¯¼èˆªèœå• <code>äº§å“ä¸æœåŠ¡</code> â€“ <code>å¼¹æ€§è®¡ç®—</code> â€“  <code>å®¹å™¨é•œåƒæœåŠ¡</code> â€“ å·¦ä¾§å¯¼èˆªèœå• <code>é•œåƒä¸­å¿ƒ</code> â€“ <code>é•œåƒåŠ é€Ÿå™¨</code> ã€‚å¯ä»¥çœ‹åˆ° â€œæ‚¨çš„åŠ é€Ÿå™¨åœ°å€â€ å³ <code>https://xxxxxxx.mirror.aliyuncs.com</code> ã€‚</p>
<p>æˆ–è€…ç›´æ¥æ‰“å¼€ <a href="https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors" target="_blank" rel="noopener">é•œåƒåŠ é€Ÿå™¨é¡µé¢</a> ã€‚</p>
<p><strong>æ³¨æ„ï¼Œéœ€è¦ç™»å½•é˜¿é‡Œäº‘è´¦å·</strong></p>
<h5 id="é…ç½®é•œåƒåŠ é€Ÿå™¨"><a href="#é…ç½®é•œåƒåŠ é€Ÿå™¨" class="headerlink" title="é…ç½®é•œåƒåŠ é€Ÿå™¨"></a>é…ç½®é•œåƒåŠ é€Ÿå™¨</h5><p>è¿™é‡Œè¿˜æ˜¯ä»¥ <code>Linux</code> ç³»ç»Ÿä¸ºä¾‹ï¼Œå…¶ä»–ç³»ç»Ÿå¯ç›´æ¥å‚è€ƒä¸Šé¢åŠ é€Ÿå™¨é¡µé¢ä¸­çš„é…ç½®æ–¹æ³•ã€‚</p>
<p>é’ˆå¯¹Dockerå®¢æˆ·ç«¯ç‰ˆæœ¬å¤§äº <code>1.10.0</code> çš„ç”¨æˆ·</p>
<p>æ‚¨å¯ä»¥é€šè¿‡ä¿®æ”¹daemoné…ç½®æ–‡ä»¶ <code>/etc/docker/daemon.json</code> æ¥ä½¿ç”¨åŠ é€Ÿå™¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo mkdir -p &#x2F;etc&#x2F;docker</span><br><span class="line">sudo tee &#x2F;etc&#x2F;docker&#x2F;daemon.json &lt;&lt;-&#39;EOF&#39;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [&quot;https:&#x2F;&#x2F;xxxxxxx.mirror.aliyuncs.com&quot;]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„å°†å…¶ä¸­çš„ <code>xxxxxxx</code> ä¿®æ”¹ä¸ºè‡ªå·±é˜¿é‡Œäº‘è´¦æˆ·çš„ç»™å®šåœ°å€ã€‚</strong></p>
<hr>
<h4 id="DaoCloadé•œåƒåŠ é€Ÿå™¨"><a href="#DaoCloadé•œåƒåŠ é€Ÿå™¨" class="headerlink" title="DaoCloadé•œåƒåŠ é€Ÿå™¨"></a>DaoCloadé•œåƒåŠ é€Ÿå™¨</h4><p>è®¿é—®DaoCloudå®˜æ–¹é•œåƒé¡µé¢ <a href="https://www.daocloud.io/mirror" target="_blank" rel="noopener">DaoCloud â€“ ä¼ä¸šçº§äº‘è®¡ç®—é¢†åŸŸçš„åˆ›æ–°é¢†å¯¼è€…</a> ã€‚</p>
<p><strong>DaoCloudçš„é•œåƒåŠ é€Ÿåœ°å€ï¼Œä¸éœ€è¦æ³¨å†Œå°±å¯ä»¥ä½¿ç”¨</strong></p>
<h5 id="é…ç½®é•œåƒåŠ é€Ÿå™¨-1"><a href="#é…ç½®é•œåƒåŠ é€Ÿå™¨-1" class="headerlink" title="é…ç½®é•œåƒåŠ é€Ÿå™¨"></a>é…ç½®é•œåƒåŠ é€Ÿå™¨</h5><h6 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl -sSL https:&#x2F;&#x2F;get.daocloud.io&#x2F;daotools&#x2F;set_mirror.sh | sh -s http:&#x2F;&#x2F;f1361db2.m.daocloud.io</span><br></pre></td></tr></table></figure>

<p>ç„¶åé‡å¯dockeræœåŠ¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>

<h6 id="macOS"><a href="#macOS" class="headerlink" title="macOS"></a>macOS</h6><p>Docker For Mac</p>
<p>å³é”®ç‚¹å‡»æ¡Œé¢é¡¶æ çš„ docker å›¾æ ‡ï¼Œé€‰æ‹© <code>Preferences</code> ï¼Œåœ¨ Daemon æ ‡ç­¾ï¼ˆDocker 17.03 ä¹‹å‰ç‰ˆæœ¬ä¸º Advanced æ ‡ç­¾ï¼‰ä¸‹çš„ Registry mirrors åˆ—è¡¨ä¸­åŠ å…¥ä¸‹é¢çš„é•œåƒåœ°å€:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http:&#x2F;&#x2F;f1361db2.m.daocloud.io</span><br></pre></td></tr></table></figure>
<p>ç‚¹å‡» <code>Apply &amp; Restart</code> æŒ‰é’®ä½¿è®¾ç½®ç”Ÿæ•ˆã€‚</p>
<h6 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h6><p>Docker For Windows</p>
<p>åœ¨æ¡Œé¢å³ä¸‹è§’çŠ¶æ€æ ä¸­å³é”® docker å›¾æ ‡ï¼Œä¿®æ”¹åœ¨ Docker Daemon æ ‡ç­¾é¡µä¸­çš„ json ï¼ŒæŠŠä¸‹é¢çš„åœ°å€:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http:&#x2F;&#x2F;f1361db2.m.daocloud.io</span><br></pre></td></tr></table></figure>

<p>åŠ åˆ°â€ registry-mirrorsâ€çš„æ•°ç»„é‡Œã€‚ç‚¹å‡» <code>Apply</code> ã€‚</p>
<hr>
<p>ä»¥ä¸Šä¸¤ç§æ–¹æ³•ï¼Œçœ‹è‡ªå·±çš„éœ€æ±‚ä»»é€‰å…¶ä¸€é…ç½®ã€‚</p>
]]></content>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>Kuberneteså…¥é—¨ -- äºŒä¼˜åŒ–ä¸è¿›é˜¶</title>
    <url>/2019/05/17/kubernetes-introduction-for-optimization-and-advancement/</url>
    <content><![CDATA[<p>ä¸Šä¸€ç¯‡æ–‡ç« ä»‹ç»äº†é€šè¿‡kubeadmæ¥é…ç½®Kubernetesé›†ç¾¤è¿è¡Œç¯å¢ƒã€‚é‚£åœ¨å¼€å§‹è¿è¡Œæˆ‘ä»¬çš„é¡¹ç›®ä¹‹å‰ï¼Œè¿˜æ˜¯æ¥äº†è§£ä¸€äº›èƒ½å¤Ÿæé«˜æˆ‘ä»¬æ‰§è¡Œæ•ˆç‡çš„æŠ€å·§å§ï¼</p>
<h4 id="kubectlå‘½ä»¤è‡ªåŠ¨è¡¥å…¨"><a href="#kubectlå‘½ä»¤è‡ªåŠ¨è¡¥å…¨" class="headerlink" title="kubectlå‘½ä»¤è‡ªåŠ¨è¡¥å…¨"></a>kubectlå‘½ä»¤è‡ªåŠ¨è¡¥å…¨</h4><h5 id="kubectl-completion"><a href="#kubectl-completion" class="headerlink" title="kubectl completion"></a>kubectl completion</h5><p>åœ¨ Master èŠ‚ç‚¹ä¸Šï¼Œæ‰§è¡Œ kubectl å‘½ä»¤æ—¶ï¼Œé»˜è®¤æ˜¯æ— æ³•ä½¿ç”¨è‡ªåŠ¨æç¤ºçš„åŠŸèƒ½ã€‚ä¹Ÿå°±å¯¼è‡´äº†æˆ‘ä»¬éœ€è¦æŠŠå‘½ä»¤æ•²å®Œæ•´æ‰å¯ä»¥ã€‚kubectl å·¥å…·æœ¬èº«å°±æ”¯æŒè‡ªåŠ¨è¡¥å…¨ï¼Œåªä¸è¿‡éœ€è¦è®¾ç½®ä¸€ä¸‹ã€‚</p>
<p>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ <code>bash</code>, åˆ™æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ echo &quot;source &lt;(kubectl completion bash)&quot; &gt;&gt; ~&#x2F;.bashrc</span><br><span class="line">$ source ~&#x2F;.bashrc</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ <code>zsh</code>,åˆ™æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ echo &quot;source &lt;(kubectl completion zsh)&quot; &gt;&gt; ~&#x2F;.zshrc</span><br><span class="line">$ source ~&#x2F;.zshrc</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ç›´æ¥ç¼–è¾‘ <code>~/.zshrc</code> åŠ ä¸Š <code>source &lt;(kubectl completion zsh)</code> ä¸€è¡Œã€‚</p>
<h5 id="Kube-promptï¼šäº¤äº’å¼-Kubernetes-å®¢æˆ·ç«¯"><a href="#Kube-promptï¼šäº¤äº’å¼-Kubernetes-å®¢æˆ·ç«¯" class="headerlink" title="Kube-promptï¼šäº¤äº’å¼ Kubernetes å®¢æˆ·ç«¯"></a>Kube-promptï¼šäº¤äº’å¼ Kubernetes å®¢æˆ·ç«¯</h5><p><code>Kube-prompt</code> å¯ä»¥è®©ä½ åœ¨å‘½ä»¤è¡Œä¸‹æ¥å—ä¸ Kubectl ç›¸åŒçš„å‘½ä»¤ï¼Œå¹¶ä¸”ä¸éœ€è¦æä¾› Kubectl å‰ç¼€ã€‚<code>Kube-prompt</code> è¿˜æäº†äº¤äº’å¼ä¼šè¯ä¸‹çš„å‘½ä»¤æç¤ºã€è‡ªåŠ¨è¡¥å…¨ç­‰åŠŸèƒ½ã€‚</p>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/c-bata/kube-prompt" target="_blank" rel="noopener">c-bata/kube-prompt: An interactive kubernetes client featuring auto-complete.</a></p>
<p>å®‰è£…ï¼š</p>
<p>ç›´æ¥è®¿é—®åœ°å€ <a href="https://github.com/c-bata/kube-prompt/releases" target="_blank" rel="noopener">Releases Â· c-bata/kube-prompt</a> ä¸‹è½½ç›¸åº”æ–‡ä»¶å¹¶è§£å‹åˆ°æœ¬åœ°ã€‚ç„¶åç»™ <code>kube-prompt</code> åŠ ä¸Šæ‰§è¡Œæƒé™å¹¶ç§»æ‡‚åˆ°ç³»ç»Ÿç›®å½•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ chmod +x kube-prompt</span><br><span class="line">$ sudo mv .&#x2F;kube-prompt &#x2F;usr&#x2F;local&#x2F;bin&#x2F;kube-prompt</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://www.hi-linux.com/posts/44953.html" target="_blank" rel="noopener">æ‰‹æŠŠæ‰‹æ•™ä½ æ‰“é€ é«˜æ•ˆçš„ Kubernetes å‘½ä»¤è¡Œç»ˆç«¯ - è¿ç»´ä¹‹ç¾</a></li>
<li><a href="https://jimmysong.io/posts/configuring-efficient-kubernetes-cli-terminal/" target="_blank" rel="noopener">æ‰“é€ é«˜æ•ˆçš„Kuberneteså‘½ä»¤è¡Œç»ˆç«¯ - å®‹å‡€è¶…çš„åšå®¢|Cloud Native|äº‘åŸç”Ÿå¸ƒé“å¸ˆ</a></li>
</ul>
<hr>
<h4 id="é‡ç½®-kubernetes-init"><a href="#é‡ç½®-kubernetes-init" class="headerlink" title="é‡ç½® kubernetes init"></a>é‡ç½® <code>kubernetes init</code></h4><p>å¦‚æœéœ€è¦åœ¨ <code>kubeadm init</code> ä¸­åŠ å…¥ä¸€äº›å…¶ä»–çš„å‚æ•°é…ç½®ï¼Œé‚£ä¹ˆå¦‚ä½•é‡ç½®åˆšæ‰çš„æ“ä½œå‘¢ï¼Ÿ</p>
<p>æ‰§è¡Œ <code>kubeadm reset</code> å‘½ä»¤å³å¯ï¼Œè¯¥å‘½ä»¤ä¼šå°†ä¸»æœºæ¢å¤åŸçŠ¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@master ~]# kubeadm reset</span><br><span class="line">[reset] WARNING: changes made to this host by &#39;kubeadm init&#39; or &#39;kubeadm join&#39; will be reverted.</span><br><span class="line">[reset] are you sure you want to proceed? [y&#x2F;N]:</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="å¦‚ä½•ä»é›†ç¾¤ä¸­ç§»é™¤NodeèŠ‚ç‚¹"><a href="#å¦‚ä½•ä»é›†ç¾¤ä¸­ç§»é™¤NodeèŠ‚ç‚¹" class="headerlink" title="å¦‚ä½•ä»é›†ç¾¤ä¸­ç§»é™¤NodeèŠ‚ç‚¹"></a>å¦‚ä½•ä»é›†ç¾¤ä¸­ç§»é™¤NodeèŠ‚ç‚¹</h4><p>å¦‚æœéœ€è¦ä»é›†ç¾¤ä¸­ç§»é™¤ <code>node1</code> è¿™ä¸ªNodeæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š</p>
<p>åœ¨masterèŠ‚ç‚¹ä¸Šæ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># kubectl drain &lt;node1&gt; --delete-local-data --force --ignore-daemonsets</span><br><span class="line"># kubectl delete node &lt;node1&gt;</span><br></pre></td></tr></table></figure>

<p>åœ¨ <code>node1</code> ä¸Šæ‰§è¡Œä»¥ä¸‹å‡ æ¡å‘½ä»¤:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># kubeadm reset</span><br><span class="line"># ifconfig cni0 down</span><br><span class="line"># ip link delete cni0</span><br><span class="line"># ifconfig flannel.1 down</span><br><span class="line"># ip link delete flannel.1</span><br><span class="line"># rm -rf &#x2F;var&#x2F;lib&#x2F;cni&#x2F;</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="æ–°å¢NodeèŠ‚ç‚¹ä½†tokenè¿‡æœŸäº†"><a href="#æ–°å¢NodeèŠ‚ç‚¹ä½†tokenè¿‡æœŸäº†" class="headerlink" title="æ–°å¢NodeèŠ‚ç‚¹ä½†tokenè¿‡æœŸäº†"></a>æ–°å¢NodeèŠ‚ç‚¹ä½†tokenè¿‡æœŸäº†</h4><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒKubernetesç”Ÿæˆçš„tokenè¿‡æœŸæ—¶é—´æ˜¯24å°æ—¶ã€‚å¯ä»¥é€šè¿‡ <code>kubeadm token list</code> å‘½ä»¤æ¥æŸ¥çœ‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  ~ kubeadm token list</span><br><span class="line">TOKEN                     TTL       EXPIRES                     USAGES                   DESCRIPTION                                                EXTRA GROUPS</span><br><span class="line">runell.pdp1y28g1dsayy1o   20h       2019-05-18T08:03:41+08:00   authentication,signing   The default bootstrap token generated by &#39;kubeadm init&#39;.   system:bootstrappers:kubeadm:default-node-token</span><br></pre></td></tr></table></figure>

<p>åœ¨ token è¿‡æœŸä¹‹åï¼Œå¦‚æœæƒ³è¦å¢åŠ æ–°çš„èŠ‚ç‚¹ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤ç”Ÿæˆæ–°çš„ token å€¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">kubeadm token create</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹å¯†é’¥çš„ hash å€¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">openssl x509 -pubkey -in &#x2F;etc&#x2F;kubernetes&#x2F;pki&#x2F;ca.crt | openssl rsa -pubin -outform der 2&gt;&#x2F;dev&#x2F;null |  openssl dgst -sha256 -hex | sed &#39;s&#x2F;^.* &#x2F;&#x2F;&#39;</span><br></pre></td></tr></table></figure>

<p>åœ¨è¦æ–°å¢çš„èŠ‚ç‚¹ä¸Šæ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">kubeadm join --token &lt;token&gt; &lt;master-ip&gt;:&lt;master-port&gt; --discovery-token-ca-cert-hash sha256:&lt;hash&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://kubernetes.io/docs/setup/independent/create-cluster-kubeadm/#join-nodes" target="_blank" rel="noopener">Creating a single master cluster with kubeadm - Kubernetes</a></li>
</ul>
<hr>
<h4 id="åœ¨å…¶ä»–ç”µè„‘ä¸Šä½¿ç”¨kubectlè¿œç¨‹ç®¡ç†"><a href="#åœ¨å…¶ä»–ç”µè„‘ä¸Šä½¿ç”¨kubectlè¿œç¨‹ç®¡ç†" class="headerlink" title="åœ¨å…¶ä»–ç”µè„‘ä¸Šä½¿ç”¨kubectlè¿œç¨‹ç®¡ç†"></a>åœ¨å…¶ä»–ç”µè„‘ä¸Šä½¿ç”¨kubectlè¿œç¨‹ç®¡ç†</h4><p>åœ¨ç®¡ç†Kubernetesé›†ç¾¤æ—¶ï¼Œæˆ‘ä»¬æ¯æ¬¡æ‰§è¡Œkubectlå‘½ä»¤éƒ½è¦ç™»å½•åˆ° Master èŠ‚ç‚¹ä¸Šæ“ä½œï¼Œæœ‰ä¸€äº›éº»çƒ¦ã€‚æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨è‡ªå·±çš„å¼€å‘ç”µè„‘ä¸Šé€šè¿‡å®‰è£…å•ç‹¬çš„ kubectl æ–‡ä»¶æ¥è¿›è¡Œè¿œç¨‹ç®¡ç†ã€‚</p>
<h5 id="å®‰è£…kubectl"><a href="#å®‰è£…kubectl" class="headerlink" title="å®‰è£…kubectl"></a>å®‰è£…kubectl</h5><p>ä»¥MacOSä¸ºä¾‹ã€‚</p>
<h6 id="äºŒè¿›åˆ¶æ–¹å¼å®‰è£…"><a href="#äºŒè¿›åˆ¶æ–¹å¼å®‰è£…" class="headerlink" title="äºŒè¿›åˆ¶æ–¹å¼å®‰è£…"></a>äºŒè¿›åˆ¶æ–¹å¼å®‰è£…</h6><p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„kubectl:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl -LO https:&#x2F;&#x2F;storage.googleapis.com&#x2F;kubernetes-release&#x2F;release&#x2F;$(curl -s https:&#x2F;&#x2F;storage.googleapis.com&#x2F;kubernetes-release&#x2F;release&#x2F;stable.txt)&#x2F;bin&#x2F;darwin&#x2F;amd64&#x2F;kubectl</span><br></pre></td></tr></table></figure>

<p>è¦ä¸‹è½½ç‰¹å®šç‰ˆæœ¬ï¼Œå¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥è¯¢å¯ç”¨ç‰ˆæœ¬ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl -s https:&#x2F;&#x2F;storage.googleapis.com&#x2F;kubernetes-release&#x2F;release&#x2F;stable.txt</span><br></pre></td></tr></table></figure>

<p>ç„¶åé€šè¿‡ä¸‹é¢çš„å‘½ä»¤ä¸‹è½½ï¼Œä»¥ <code>v1.14.0</code> ç‰ˆæœ¬ä¸ºä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl -LO https:&#x2F;&#x2F;storage.googleapis.com&#x2F;kubernetes-release&#x2F;release&#x2F;v1.14.0&#x2F;bin&#x2F;darwin&#x2F;amd64&#x2F;kubectl</span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼Œä¸ºå…¶èµ‹äºˆå¯æ‰§è¡Œæƒé™å¹¶æ”¾åˆ°ç³»ç»Ÿç›®å½•ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chmod +x .&#x2F;kubectl</span><br><span class="line"></span><br><span class="line">sudo mv .&#x2F;kubectl &#x2F;usr&#x2F;local&#x2F;bin&#x2F;kubectl</span><br></pre></td></tr></table></figure>

<p>éªŒè¯æ˜¯å¦å¯ç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">kubectl version</span><br></pre></td></tr></table></figure>

<p>ä¸è¿‡ç”±äºâ€œç½‘ç»œåŸå› â€ï¼Œåœ°å€ <code>https://storage.googleapis.com</code> å¯èƒ½è®¿é—®ä¸åˆ°ã€‚ä¹Ÿå°±å¯¼è‡´ä¸Šé¢çš„ä¸‹è½½å‘½ä»¤ä¼šä¸€ç›´å¡ç€ä¸åŠ¨ã€‚</p>
<p>æˆ‘ä»¬åªèƒ½é€šè¿‡å»æŒ‡å®šçš„äºŒè¿›åˆ¶æ–‡ä»¶ä¸‹è½½åœ°å€äº†ã€‚</p>
<hr>
<p>æ‰¾åˆ° Kubernetesåœ¨ GitHubä¸Šçš„ä»“åº“åœ°å€å…¶ä¸­çš„ <code>CHANGELOG.md</code> æ–‡ä»¶ï¼š<a href="https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG.md#client-binaries-1" target="_blank" rel="noopener">kubernetes/CHANGELOG.md at master Â· kubernetes/kubernetes</a></p>
<p>é€‰æ‹©æŒ‡å®šç‰ˆæœ¬ä¸‹çš„ <code>Client Binaries</code> ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190517123850.png" alt=""></p>
<p>é€‰æ‹©æŒ‡å®šçš„æ–‡ä»¶ä¸‹è½½ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190517124031.png" alt=""></p>
<p>ä¸‹è½½åˆ°æœ¬åœ°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ wget https:&#x2F;&#x2F;dl.k8s.io&#x2F;v1.14.1&#x2F;kubernetes-client-darwin-amd64.tar.gz</span><br></pre></td></tr></table></figure>

<p>æ³¨ï¼š<code>https://dl.k8s.io</code> è¿™ä¸ªç½‘å€å¯èƒ½ä¹Ÿè®¿é—®ä¸åˆ°ï¼Œå»ºè®®è¿˜æ˜¯ä½¿ç”¨ <code>FQ</code> å·¥å…·åæ“ä½œã€‚</p>
<p>å®‰è£…å¥½åè¿›è¡ŒéªŒè¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ kubectl version</span><br><span class="line">Client Version: version.Info&#123;Major:&quot;1&quot;, Minor:&quot;14&quot;, GitVersion:&quot;v1.14.1&quot;, GitCommit:&quot;b7394102d6ef778017f2ca4046abbaa23b88c290&quot;, GitTreeState:&quot;clean&quot;, BuildDate:&quot;2019-04-08T17:11:31Z&quot;, GoVersion:&quot;go1.12.1&quot;, Compiler:&quot;gc&quot;, Platform:&quot;darwin&#x2F;amd64&quot;&#125;</span><br><span class="line">The connection to the server localhost:8080 was refused - did you specify the right host or port?</span><br></pre></td></tr></table></figure>

<p>æ­£å¸¸æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚</p>
<h6 id="é€šè¿‡homebrewå®‰è£…"><a href="#é€šè¿‡homebrewå®‰è£…" class="headerlink" title="é€šè¿‡homebrewå®‰è£…"></a>é€šè¿‡homebrewå®‰è£…</h6><p>å¦‚æœè§‰å¾—ä¸Šé¢çš„æ–¹å¼å¤ªç¹çï¼Œè¿˜å¯ä»¥é€‰æ‹©ä½¿ç”¨ <code>Homebrew</code> æ¥å®‰è£…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">brew install kubernetes-cli</span><br><span class="line"></span><br><span class="line">kubectl version</span><br></pre></td></tr></table></figure>

<h6 id="å…¶ä»–ç³»ç»Ÿ"><a href="#å…¶ä»–ç³»ç»Ÿ" class="headerlink" title="å…¶ä»–ç³»ç»Ÿ"></a>å…¶ä»–ç³»ç»Ÿ</h6><p>å…¶ä»–ç³»ç»Ÿå¯ç”¨çš„ kubectl é™¤äº†ä¸Šé¢çš„äºŒè¿›åˆ¶æ–¹å¼ï¼Œè¿˜å¯ä»¥åœ¨è¿™ä¸ªåœ°å€ä¸­ä¸‹è½½ï¼ˆæ— éœ€FQï¼‰ï¼š</p>
<ul>
<li><a href="http://mirror.azure.cn/kubernetes/" target="_blank" rel="noopener">Index of /kubernetes/</a></li>
</ul>
<hr>
<h5 id="è·å–æˆæƒæ–‡ä»¶"><a href="#è·å–æˆæƒæ–‡ä»¶" class="headerlink" title="è·å–æˆæƒæ–‡ä»¶"></a>è·å–æˆæƒæ–‡ä»¶</h5><p>è¦è¿æ¥åˆ°Kubernetesé›†ç¾¤ï¼Œè¿˜éœ€è¦æŒ‡å®šæˆæƒæ–‡ä»¶ã€‚åªéœ€å°† Master èŠ‚ç‚¹ä¸Šçš„æˆæƒæ–‡ä»¶æ‹·è´åˆ°æœ¬åœ°çš„é»˜è®¤è·¯å¾„ <code>$HOME/.kube</code> ä¸­ã€‚</p>
<p>åˆ›å»º <code>$HOME/.kube</code> ç›®å½•:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ mkdir -p $HOME&#x2F;.kube</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œ <code>scp</code> å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ scp root@192.168.5.28:&#x2F;etc&#x2F;kubernetes&#x2F;admin.conf ~&#x2F;.kube&#x2F;config</span><br></pre></td></tr></table></figure>

<p>éªŒè¯èƒ½å¦æ­£å¸¸è¿æ¥åˆ°é›†ç¾¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ kubectl get nodes</span><br><span class="line">NAME     STATUS   ROLES    AGE     VERSION</span><br><span class="line">master   Ready    master   5h52m   v1.14.1</span><br><span class="line">node1    Ready    &lt;none&gt;   4h48m   v1.14.1</span><br></pre></td></tr></table></figure>

<p>å› ä¸º kubectlé»˜è®¤çš„é…ç½®æ–‡ä»¶è·¯å¾„æ˜¯ <code>$HOME/.kube/config</code> ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥è®¾ç½®æˆè¿™ä¸ªã€‚å¦‚æœæ˜¯å…¶ä»–è·¯å¾„ï¼Œåˆ™éœ€è¦é€šè¿‡ <code>--kubeconfig</code> å‚æ•°æŒ‡å®šé…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">kubectl --kubeconfig .&#x2F;admin.conf get nodes</span><br></pre></td></tr></table></figure>

<h5 id="å¯ç”¨è‡ªåŠ¨è¡¥å…¨"><a href="#å¯ç”¨è‡ªåŠ¨è¡¥å…¨" class="headerlink" title="å¯ç”¨è‡ªåŠ¨è¡¥å…¨"></a>å¯ç”¨è‡ªåŠ¨è¡¥å…¨</h5><p>è¿™é‡Œï¼Œä¾ç„¶éœ€è¦è®¾ç½®ä¸€ä¸‹ <code>kubectl</code> å‘½ä»¤çš„è‡ªåŠ¨è¡¥å…¨ï¼ˆzshï¼‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ echo &quot;source &lt;(kubectl completion zsh)&quot; &gt;&gt; ~&#x2F;.zshrc</span><br><span class="line">$ source ~&#x2F;.zshrc</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://kubernetes.io/docs/setup/independent/create-cluster-kubeadm/#optional-controlling-your-cluster-from-machines-other-than-the-master" target="_blank" rel="noopener">Creating a single master cluster with kubeadm - Kubernetes</a></li>
</ul>
<hr>
<h4 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h4><h5 id="æŸ¥çœ‹é›†ç¾¤ä¿¡æ¯"><a href="#æŸ¥çœ‹é›†ç¾¤ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹é›†ç¾¤ä¿¡æ¯"></a>æŸ¥çœ‹é›†ç¾¤ä¿¡æ¯</h5><p>å‘½ä»¤ï¼š<code>kubectl cluster-info</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  ~ kubectl cluster-info</span><br><span class="line">Kubernetes master is running at https:&#x2F;&#x2F;192.168.5.28:6443</span><br><span class="line">KubeDNS is running at https:&#x2F;&#x2F;192.168.5.28:6443&#x2F;api&#x2F;v1&#x2F;namespaces&#x2F;kube-system&#x2F;services&#x2F;kube-dns:dns&#x2F;proxy</span><br><span class="line"></span><br><span class="line">To further debug and diagnose cluster problems, use &#39;kubectl cluster-info dump&#39;.</span><br></pre></td></tr></table></figure>

<h5 id="æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯"><a href="#æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯"></a>æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯</h5><p>å‘½ä»¤ï¼š<code>kubectl version</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  ~ kubectl version</span><br><span class="line">Client Version: version.Info&#123;Major:&quot;1&quot;, Minor:&quot;14&quot;, GitVersion:&quot;v1.14.1&quot;, GitCommit:&quot;b7394102d6ef778017f2ca4046abbaa23b88c290&quot;, GitTreeState:&quot;clean&quot;, BuildDate:&quot;2019-04-08T17:11:31Z&quot;, GoVersion:&quot;go1.12.1&quot;, Compiler:&quot;gc&quot;, Platform:&quot;linux&#x2F;amd64&quot;&#125;</span><br><span class="line">Server Version: version.Info&#123;Major:&quot;1&quot;, Minor:&quot;14&quot;, GitVersion:&quot;v1.14.1&quot;, GitCommit:&quot;b7394102d6ef778017f2ca4046abbaa23b88c290&quot;, GitTreeState:&quot;clean&quot;, BuildDate:&quot;2019-04-08T17:02:58Z&quot;, GoVersion:&quot;go1.12.1&quot;, Compiler:&quot;gc&quot;, Platform:&quot;linux&#x2F;amd64&quot;&#125;</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹é›†ç¾¤æ‰€æœ‰Podä¿¡æ¯: <code>kubectl get pod --all-namespaces</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  ~ kubectl get pod --all-namespaces</span><br><span class="line">NAMESPACE     NAME                             READY   STATUS    RESTARTS   AGE</span><br><span class="line">kube-system   coredns-fb8b8dccf-cm28l          1&#x2F;1     Running   1          3h48m</span><br><span class="line">kube-system   coredns-fb8b8dccf-lqh8n          1&#x2F;1     Running   1          3h48m</span><br><span class="line">kube-system   etcd-master                      1&#x2F;1     Running   1          3h47m</span><br><span class="line">kube-system   kube-apiserver-master            1&#x2F;1     Running   1          3h47m</span><br><span class="line">kube-system   kube-controller-manager-master   1&#x2F;1     Running   1          3h47m</span><br><span class="line">kube-system   kube-flannel-ds-amd64-2rzqc      1&#x2F;1     Running   1          3h16m</span><br><span class="line">kube-system   kube-flannel-ds-amd64-thg6z      1&#x2F;1     Running   1          165m</span><br><span class="line">kube-system   kube-proxy-8x8f6                 1&#x2F;1     Running   1          108m</span><br><span class="line">kube-system   kube-proxy-k54d5                 1&#x2F;1     Running   1          108m</span><br><span class="line">kube-system   kube-scheduler-master            1&#x2F;1     Running   1          3h48m</span><br><span class="line">âœ  ~</span><br></pre></td></tr></table></figure>

<p>æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚</p>
]]></content>
      <categories>
        <category>äº‘åŸç”Ÿç³»åˆ—</category>
      </categories>
      <tags>
        <tag>Kubernetes</tag>
        <tag>äº‘åŸç”Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>Kuberneteså…¥é—¨ -- ä¸€ä½¿ç”¨kubeadméƒ¨ç½²Kubernetesé›†ç¾¤v1.14.1</title>
    <url>/2019/05/17/kubernetes-introduction-for-install-by-kubeadm/</url>
    <content><![CDATA[<p>ä¸Šä¸€æ¬¡é€šè¿‡kubeadmæ¥é…ç½®Kubernetesçš„ç¯å¢ƒä½¿ç”¨çš„è¿˜æ˜¯ <code>v1.13</code> çš„ç‰ˆæœ¬ï¼Œæœ€è¿‘çœ‹åˆ°Kubernetesçš„ç¨³å®šç‰ˆæœ¬å·²ç»æ›´æ–°åˆ°äº† <code>v1.14.1</code> ï¼Œæ‰€ä»¥å†³å®šé‡æ–°å®‰è£…ä¸€æ¬¡ï¼Œå¹¶æŠŠé…ç½®è¿‡ç¨‹å’Œé‡åˆ°çš„é—®é¢˜åŒæ—¶æ•´ç†ä¸€ä¸‹ã€‚</p>
<p>kubeadmæ˜¯Kuberneteså®˜æ–¹æä¾›çš„ç”¨äºå¿«é€Ÿå®‰è£…Kubernetesé›†ç¾¤çš„å·¥å…·ï¼Œä¼´éšKubernetesæ¯ä¸ªç‰ˆæœ¬çš„å‘å¸ƒéƒ½ä¼šåŒæ­¥æ›´æ–°ï¼Œkubeadmä¼šå¯¹é›†ç¾¤é…ç½®æ–¹é¢çš„ä¸€äº›å®è·µåšè°ƒæ•´ï¼Œé€šè¿‡å®éªŒkubeadmå¯ä»¥å­¦ä¹ åˆ°Kuberneteså®˜æ–¹åœ¨é›†ç¾¤é…ç½®ä¸Šä¸€äº›æ–°çš„æœ€ä½³å®è·µã€‚</p>
<h4 id="ç³»ç»Ÿä¿¡æ¯"><a href="#ç³»ç»Ÿä¿¡æ¯" class="headerlink" title="ç³»ç»Ÿä¿¡æ¯"></a>ç³»ç»Ÿä¿¡æ¯</h4><ul>
<li>master ip : <code>192.168.5.28</code></li>
<li>node1 ip : <code>192.168.5.29</code></li>
<li>é…ç½®å‡ä¸ºï¼š2æ ¸2G</li>
</ul>
<hr>
<h4 id="ç³»ç»Ÿç¯å¢ƒé…ç½®"><a href="#ç³»ç»Ÿç¯å¢ƒé…ç½®" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒé…ç½®"></a>ç³»ç»Ÿç¯å¢ƒé…ç½®</h4><p><strong>æ³¨æ„ï¼šåœ¨ Master å’Œ Node èŠ‚ç‚¹å‡æ“ä½œ</strong></p>
<h5 id="åˆ‡æ¢åˆ°-root-æƒé™"><a href="#åˆ‡æ¢åˆ°-root-æƒé™" class="headerlink" title="åˆ‡æ¢åˆ° root æƒé™"></a>åˆ‡æ¢åˆ° root æƒé™</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ su - root</span><br></pre></td></tr></table></figure>

<h5 id="æ›´æ”¹hostname"><a href="#æ›´æ”¹hostname" class="headerlink" title="æ›´æ”¹hostname"></a>æ›´æ”¹hostname</h5><h6 id="master"><a href="#master" class="headerlink" title="master"></a>master</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># hostname</span><br><span class="line"># hostnamectl set-hostname master</span><br><span class="line"># hostname</span><br></pre></td></tr></table></figure>

<h6 id="node1"><a href="#node1" class="headerlink" title="node1"></a>node1</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># hostname</span><br><span class="line"># hostnamectl set-hostname node1</span><br><span class="line"># hostname</span><br></pre></td></tr></table></figure>

<h5 id="ä¿®æ”¹-hosts"><a href="#ä¿®æ”¹-hosts" class="headerlink" title="ä¿®æ”¹ hosts"></a>ä¿®æ”¹ hosts</h5><h6 id="master-1"><a href="#master-1" class="headerlink" title="master"></a>master</h6><p>ç¼–è¾‘ <code>/etc/hosts</code> æ–‡ä»¶ï¼Œåœ¨åº•éƒ¨æ–°å¢ä¸‹é¢ä¸¤è¡Œï¼Œç„¶åé‡å¯ç³»ç»Ÿï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># vim &#x2F;etc&#x2F;hosts</span><br><span class="line"></span><br><span class="line">192.168.5.28 master</span><br><span class="line">192.168.5.29 node1</span><br><span class="line"></span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>

<h5 id="ç¦ç”¨é˜²ç«å¢™"><a href="#ç¦ç”¨é˜²ç«å¢™" class="headerlink" title="ç¦ç”¨é˜²ç«å¢™"></a>ç¦ç”¨é˜²ç«å¢™</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># systemctl disable firewalld &amp;&amp; systemctl stop firewalld</span><br><span class="line"># systemctl status firewalld</span><br></pre></td></tr></table></figure>

<h5 id="ç¦ç”¨SELinux"><a href="#ç¦ç”¨SELinux" class="headerlink" title="ç¦ç”¨SELinux"></a>ç¦ç”¨SELinux</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># setenforce 0</span><br><span class="line"></span><br><span class="line"># vim &#x2F;etc&#x2F;selinux&#x2F;config</span><br><span class="line">#SELINUX&#x3D;enforcing</span><br><span class="line">SELINUX&#x3D;disabled</span><br></pre></td></tr></table></figure>

<h5 id="ç¦ç”¨swap"><a href="#ç¦ç”¨swap" class="headerlink" title="ç¦ç”¨swap"></a>ç¦ç”¨swap</h5><p>æŸ¥çœ‹å½“å‰swapçŠ¶æ€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># free -m</span><br><span class="line">              total        used        free      shared  buff&#x2F;cache   available</span><br><span class="line">Mem:           1466         142        1063           8         260        1151</span><br><span class="line">Swap:          3071           0        3071</span><br></pre></td></tr></table></figure>

<p>ç¦ç”¨swap:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># swapoff -a</span><br></pre></td></tr></table></figure>

<p>ç¼–è¾‘ <code>/etc/fstab</code> æ–‡ä»¶ï¼Œæ³¨é‡Šæ‰å¸¦æœ‰ <code>swap</code> çš„é‚£ä¸€è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># vim &#x2F;etc&#x2F;fstab</span><br><span class="line"></span><br><span class="line">#&#x2F;dev&#x2F;mapper&#x2F;centos-swap swap                    swap    defaults        0 0</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># free -m</span><br><span class="line">              total        used        free      shared  buff&#x2F;cache   available</span><br><span class="line">Mem:           1466         142        1063           8         260        1152</span><br><span class="line">Swap:             0           0           0</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="ä¿®æ”¹iptablesé…ç½®"><a href="#ä¿®æ”¹iptablesé…ç½®" class="headerlink" title="ä¿®æ”¹iptablesé…ç½®"></a>ä¿®æ”¹iptablesé…ç½®</h5><p>åˆ›å»º <code>/etc/sysctl.d/k8s.conf</code> æ–‡ä»¶ï¼ŒåŠ å…¥å¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">net.bridge.bridge-nf-call-ip6tables &#x3D; 1</span><br><span class="line">net.bridge.bridge-nf-call-iptables &#x3D; 1</span><br><span class="line">net.ipv4.ip_forward &#x3D; 1</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œå‘½ä»¤ä½¿ä¿®æ”¹ç”Ÿæ•ˆ:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># modprobe br_netfilter</span><br><span class="line"># sysctl -p &#x2F;etc&#x2F;sysctl.d&#x2F;k8s.conf</span><br></pre></td></tr></table></figure>

<h5 id="kube-proxyå¼€å¯ipvsçš„å‰ç½®æ¡ä»¶"><a href="#kube-proxyå¼€å¯ipvsçš„å‰ç½®æ¡ä»¶" class="headerlink" title="kube-proxyå¼€å¯ipvsçš„å‰ç½®æ¡ä»¶"></a>kube-proxyå¼€å¯ipvsçš„å‰ç½®æ¡ä»¶</h5><p>ç”±äºipvså·²ç»åŠ å…¥åˆ°äº†å†…æ ¸çš„ä¸»å¹²ï¼Œæ‰€ä»¥ä¸ºkube-proxyå¼€å¯ipvsçš„å‰æéœ€è¦åŠ è½½ä»¥ä¸‹çš„å†…æ ¸æ¨¡å—ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ip_vs</span><br><span class="line">ip_vs_rr</span><br><span class="line">ip_vs_wrr</span><br><span class="line">ip_vs_sh</span><br><span class="line">nf_conntrack_ipv4</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œä»¥ä¸‹è„šæœ¬æ¥é…ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cat &gt; &#x2F;etc&#x2F;sysconfig&#x2F;modules&#x2F;ipvs.modules &lt;&lt;EOF</span><br><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">modprobe -- ip_vs</span><br><span class="line">modprobe -- ip_vs_rr</span><br><span class="line">modprobe -- ip_vs_wrr</span><br><span class="line">modprobe -- ip_vs_sh</span><br><span class="line">modprobe -- nf_conntrack_ipv4</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">chmod 755 &#x2F;etc&#x2F;sysconfig&#x2F;modules&#x2F;ipvs.modules &amp;&amp; bash &#x2F;etc&#x2F;sysconfig&#x2F;modules&#x2F;ipvs.modules &amp;&amp; lsmod | grep -e ip_vs -e nf_conntrack_ipv4</span><br></pre></td></tr></table></figure>

<p>ä¿è¯ <code>ipset</code> å·²å®‰è£…ï¼ŒåŒæ—¶è¦ç®¡ç†ipvsï¼Œéœ€è¦å®‰è£…ipvsadm:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># yum install ipset ipvsadm</span><br></pre></td></tr></table></figure>


<hr>
<h5 id="å®‰è£…docker"><a href="#å®‰è£…docker" class="headerlink" title="å®‰è£…docker"></a>å®‰è£…docker</h5><p>çœç•¥ã€‚</p>
<h5 id="ä¿®æ”¹docker-cgroup-driverä¸ºsystemd"><a href="#ä¿®æ”¹docker-cgroup-driverä¸ºsystemd" class="headerlink" title="ä¿®æ”¹docker cgroup driverä¸ºsystemd"></a>ä¿®æ”¹docker cgroup driverä¸ºsystemd</h5><p>æ ¹æ®æ–‡æ¡£CRI installationä¸­çš„å†…å®¹ï¼Œå¯¹äºä½¿ç”¨systemdä½œä¸ºinit systemçš„Linuxçš„å‘è¡Œç‰ˆï¼Œä½¿ç”¨systemdä½œä¸ºdockerçš„cgroup driverå¯ä»¥ç¡®ä¿æœåŠ¡å™¨èŠ‚ç‚¹åœ¨èµ„æºç´§å¼ çš„æƒ…å†µæ›´åŠ ç¨³å®šï¼Œå› æ­¤è¿™é‡Œä¿®æ”¹å„ä¸ªèŠ‚ç‚¹ä¸Šdockerçš„cgroup driverä¸ºsystemdã€‚</p>
<p>æŸ¥çœ‹docerçš„cgroup:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># docker info |grep -i cgroup</span><br><span class="line">Cgroup Driver: cgroupfs</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºæˆ–ä¿®æ”¹ <code>/etc/docker/daemon.json</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;exec-opts&quot;:[&quot;native.cgroupdriver&#x3D;systemd&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é‡å¯docker:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># systemctl restart docker</span><br></pre></td></tr></table></figure>

<p>å†æ¬¡æŸ¥çœ‹cgroup:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># docker info |grep -i cgroup</span><br><span class="line">Cgroup Driver: systemd</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ä½¿ç”¨kubeadméƒ¨ç½²Kubernetes"><a href="#ä½¿ç”¨kubeadméƒ¨ç½²Kubernetes" class="headerlink" title="ä½¿ç”¨kubeadméƒ¨ç½²Kubernetes"></a>ä½¿ç”¨kubeadméƒ¨ç½²Kubernetes</h4><h5 id="å®‰è£…kubeadmå’Œkubelet"><a href="#å®‰è£…kubeadmå’Œkubelet" class="headerlink" title="å®‰è£…kubeadmå’Œkubelet"></a>å®‰è£…kubeadmå’Œkubelet</h5><h6 id="éœ€è¦åœ¨å„ä¸ªèŠ‚ç‚¹åˆ†åˆ«é…ç½®åœ°å€æº"><a href="#éœ€è¦åœ¨å„ä¸ªèŠ‚ç‚¹åˆ†åˆ«é…ç½®åœ°å€æº" class="headerlink" title="éœ€è¦åœ¨å„ä¸ªèŠ‚ç‚¹åˆ†åˆ«é…ç½®åœ°å€æº"></a>éœ€è¦åœ¨å„ä¸ªèŠ‚ç‚¹åˆ†åˆ«é…ç½®åœ°å€æº</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cat &lt;&lt;EOF &gt; &#x2F;etc&#x2F;yum.repos.d&#x2F;kubernetes.repo</span><br><span class="line">[kubernetes]</span><br><span class="line">name&#x3D;Kubernetes</span><br><span class="line">baseurl&#x3D;https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;kubernetes&#x2F;yum&#x2F;repos&#x2F;kubernetes-el7-x86_64&#x2F;</span><br><span class="line">enabled&#x3D;1</span><br><span class="line">gpgcheck&#x3D;1</span><br><span class="line">repo_gpgcheck&#x3D;1</span><br><span class="line">gpgkey&#x3D;https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;kubernetes&#x2F;yum&#x2F;doc&#x2F;yum-key.gpg https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;kubernetes&#x2F;yum&#x2F;doc&#x2F;rpm-package-key.gpg</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure>

<p>æ›´æ–°ç¼“å­˜ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># yum makecache fast</span><br></pre></td></tr></table></figure>

<h5 id="MasterèŠ‚ç‚¹å®‰è£…"><a href="#MasterèŠ‚ç‚¹å®‰è£…" class="headerlink" title="MasterèŠ‚ç‚¹å®‰è£…"></a>MasterèŠ‚ç‚¹å®‰è£…</h5><p>åœ¨ Master èŠ‚ç‚¹ä¸Šå®‰è£… kubelet kubeadm kubectl:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># yum install -y kubelet kubeadm kubectl</span><br><span class="line"></span><br><span class="line">Installing:</span><br><span class="line"> kubeadm              1.14.1-0  </span><br><span class="line"> kubectl              1.14.1-0</span><br><span class="line"> kubelet              1.14.1-0</span><br></pre></td></tr></table></figure>

<h6 id="NodeèŠ‚ç‚¹å®‰è£…"><a href="#NodeèŠ‚ç‚¹å®‰è£…" class="headerlink" title="NodeèŠ‚ç‚¹å®‰è£…"></a>NodeèŠ‚ç‚¹å®‰è£…</h6><p>åœ¨ Node1 èŠ‚ç‚¹ä¸Šå®‰è£… kubelet kubeadm:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># yum install -y kubelet kubeadm</span><br></pre></td></tr></table></figure>

<p><code>kubectl</code> åœ¨ node èŠ‚ç‚¹ä¸Šæ˜¯éå¿…éœ€çš„ã€‚</p>
<h6 id="è®¾ç½®-kubelet-å¼€æœºå¯åŠ¨"><a href="#è®¾ç½®-kubelet-å¼€æœºå¯åŠ¨" class="headerlink" title="è®¾ç½® kubelet å¼€æœºå¯åŠ¨"></a>è®¾ç½® kubelet å¼€æœºå¯åŠ¨</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># systemctl enable kubelet &amp;&amp; systemctl start kubelet</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶å¦‚æœæŸ¥çœ‹ kubelet çš„çŠ¶æ€ï¼Œä¼šå‘ç° å¤„äº <code>loaded</code> çŠ¶æ€ï¼Œé”™è¯¯ç æ˜¯ <code>255</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># systemctl status kubelet</span><br><span class="line">â— kubelet.service - kubelet: The Kubernetes Node Agent</span><br><span class="line">   Loaded: loaded (&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;kubelet.service; enabled; vendor preset: disabled)</span><br><span class="line">  Drop-In: &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;kubelet.service.d</span><br><span class="line">           â””â”€10-kubeadm.conf</span><br><span class="line">   Active: activating (auto-restart) (Result: exit-code) since Thu 2019-05-16 23:51:36 CST; 808ms ago</span><br><span class="line">     Docs: https:&#x2F;&#x2F;kubernetes.io&#x2F;docs&#x2F;</span><br><span class="line">  Process: 4317 ExecStart&#x3D;&#x2F;usr&#x2F;bin&#x2F;kubelet $KUBELET_KUBECONFIG_ARGS $KUBELET_CONFIG_ARGS $KUBELET_KUBEADM_ARGS $KUBELET_EXTRA_ARGS (code&#x3D;exited, status&#x3D;255)</span><br><span class="line"> Main PID: 4317 (code&#x3D;exited, status&#x3D;255)</span><br></pre></td></tr></table></figure>

<h5 id="æå‰è·å–é•œåƒ"><a href="#æå‰è·å–é•œåƒ" class="headerlink" title="æå‰è·å–é•œåƒ"></a>æå‰è·å–é•œåƒ</h5><p>å¯ä»¥é€šè¿‡å‘½ä»¤ <code>kubeadm config images list</code> æŸ¥çœ‹å½“å‰å¯ç”¨çš„æœ€æ–°é•œåƒç‰ˆæœ¬ä¿¡æ¯ã€‚</p>
<p>Kuberneteså¯åŠ¨æ—¶é»˜è®¤ä¼šä» <code>k8s.gcr.io</code> å»æ‹‰å–æ‰€éœ€çš„é•œåƒï¼Œä½†è¯¥åœ°å€åœ¨å›½å†…æ— æ³•è®¿é—®ï¼Œéœ€è¦æ›´æ¢ä¸ºå›½å†…å¯ç”¨çš„åœ°å€ã€‚</p>
<p>Azure ä¸­å›½ æä¾›äº† <code>gcr.io</code> åŠ <code>k8s.gcr.io</code> å®¹å™¨ä»“åº“çš„é•œåƒä»£ç†æœåŠ¡ã€‚</p>
<p>é•œåƒåœ°å€ï¼š<code>docker pull gcr.azk8s.cn/google_containers/&lt;imagename&gt;:&lt;version&gt;</code></p>
<p>é»˜è®¤æƒ…å†µä¸‹æ— æ³•è®¿é—®è·å–æœ€æ–°çš„ç‰ˆæœ¬ï¼Œä¼šæ ¹æ®ä½¿ç”¨çš„ <code>kubeadm</code> çš„ç‰ˆæœ¬ç»™å‡ºç›¸åº”ç‰ˆæœ¬ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># kubeadm config images list</span><br><span class="line">I0517 00:03:01.427109    4857 version.go:96] could not fetch a Kubernetes version from the internet: unable to get URL &quot;https:&#x2F;&#x2F;dl.k8s.io&#x2F;release&#x2F;stable-1.txt&quot;: Get https:&#x2F;&#x2F;dl.k8s.io&#x2F;release&#x2F;stable-1.txt: net&#x2F;http: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers)</span><br><span class="line">I0517 00:03:01.427382    4857 version.go:97] falling back to the local client version: v1.14.1</span><br><span class="line">k8s.gcr.io&#x2F;kube-apiserver:v1.14.1</span><br><span class="line">k8s.gcr.io&#x2F;kube-controller-manager:v1.14.1</span><br><span class="line">k8s.gcr.io&#x2F;kube-scheduler:v1.14.1</span><br><span class="line">k8s.gcr.io&#x2F;kube-proxy:v1.14.1</span><br><span class="line">k8s.gcr.io&#x2F;pause:3.1</span><br><span class="line">k8s.gcr.io&#x2F;etcd:3.3.10</span><br><span class="line">k8s.gcr.io&#x2F;coredns:1.3.1</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥ç›´æ¥æŒ‡å®šç‰ˆæœ¬ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">kubeadm config images list --kubernetes-version&#x3D;v1.14.1</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="ä¸‹è½½é•œåƒ"><a href="#ä¸‹è½½é•œåƒ" class="headerlink" title="ä¸‹è½½é•œåƒ"></a>ä¸‹è½½é•œåƒ</h5><p><strong>åœ¨ Master å’Œ Node èŠ‚ç‚¹å‡æ‰§è¡Œ</strong></p>
<p>åˆ›å»ºä¸€ä¸ªåä¸º <code>kubeadm_pull.sh</code> è„šæœ¬æ–‡ä»¶:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># kubeadm_pull.sh</span><br><span class="line"></span><br><span class="line">for i in &#96;kubeadm config images list&#96;; do </span><br><span class="line">  imageName&#x3D;$&#123;i#k8s.gcr.io&#x2F;&#125;</span><br><span class="line">  docker pull gcr.azk8s.cn&#x2F;google_containers&#x2F;$imageName</span><br><span class="line">  docker tag gcr.azk8s.cn&#x2F;google_containers&#x2F;$imageName k8s.gcr.io&#x2F;$imageName</span><br><span class="line">  docker rmi gcr.azk8s.cn&#x2F;google_containers&#x2F;$imageName</span><br><span class="line">done;</span><br></pre></td></tr></table></figure>

<p>åœ¨ç½‘ä¸Šä¹Ÿæ‰¾åˆ°ä¸€ä¸ªé˜¿é‡Œäº‘çš„åœ°å€æº <code>registry.aliyuncs.com/google_containers</code>ï¼Œæ›¿æ¢è„šæœ¬ä¸­çš„ <code>gcr.azk8s.cn/google_containers</code> éƒ¨åˆ†å³å¯ã€‚</p>
<p>å¦å¤–ï¼Œå¦‚æœæƒ³ä¸‹è½½æŒ‡å®šç‰ˆæœ¬ï¼Œå¯ä»¥å°†ç¬¬ä¸€è¡Œæ”¹ä¸º <code>kubeadm config images list --kubernetes-version=v1.14.1</code> å³åŠ ä¸Šç‰ˆæœ¬çš„é™åˆ¶:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">--kubernetes-version&#x3D;v1.14.1</span><br></pre></td></tr></table></figure>

<p>ç„¶åæ‰§è¡Œï¼Œç­‰å¾…ä¸‹è½½ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># vim .&#x2F;kubeadm_pull.sh</span><br><span class="line"></span><br><span class="line"># chmod +x .&#x2F;kubeadm_pull.sh</span><br><span class="line"># .&#x2F;kubeadm_pull.sh</span><br></pre></td></tr></table></figure>



<h4 id="ä½¿ç”¨kubeadm-initåˆå§‹åŒ–é›†ç¾¤"><a href="#ä½¿ç”¨kubeadm-initåˆå§‹åŒ–é›†ç¾¤" class="headerlink" title="ä½¿ç”¨kubeadm initåˆå§‹åŒ–é›†ç¾¤"></a>ä½¿ç”¨kubeadm initåˆå§‹åŒ–é›†ç¾¤</h4><h5 id="kubeadm-init"><a href="#kubeadm-init" class="headerlink" title="kubeadm init"></a>kubeadm init</h5><p><strong>åœ¨ Master èŠ‚ç‚¹æ‰§è¡Œ</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># kubeadm init --kubernetes-version&#x3D;v1.14.1 --apiserver-advertise-address&#x3D;192.168.5.28 --pod-network-cidr&#x3D;10.244.0.0&#x2F;16</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼Œâ€“apiserver-advertise-address<br>è¿™æ˜¯ API server ç”¨æ¥å‘ŠçŸ¥é›†ç¾¤ä¸­å…¶å®ƒæˆå‘˜çš„åœ°å€ï¼Œè¿™ä¹Ÿæ˜¯åœ¨ init æµç¨‹çš„æ—¶å€™ç”¨æ¥æ„å»º kubeadm join å‘½ä»¤è¡Œçš„åœ°å€ã€‚</p>
<p>æ›´å¤šçš„é…ç½®å‚æ•°è¯´æ˜å¯è§ï¼š<a href="https://k8smeetup.github.io/docs/admin/kubeadm/" target="_blank" rel="noopener">kubeadm è®¾ç½®å·¥å…·å‚è€ƒæŒ‡å— | Kubernetes</a></p>
<p>å½“çœ‹åˆ°è¾“å‡ºä¿¡æ¯ä¸­çš„ <code>Your Kubernetes control-plane has initialized successfully!</code> è¯´æ˜Kubernetesåˆå§‹åŒ–æˆåŠŸäº†ã€‚</p>
<p>åé¢çš„å‡ æ®µè¾“å‡ºæ¯”è¾ƒé‡è¦ã€‚</p>
<p>è¦ç®¡ç†é›†ç¾¤ï¼Œæˆ‘ä»¬éœ€è¦æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">To start using your cluster, you need to run the following as a regular user:</span><br><span class="line"></span><br><span class="line">  mkdir -p $HOME&#x2F;.kube</span><br><span class="line">  sudo cp -i &#x2F;etc&#x2F;kubernetes&#x2F;admin.conf $HOME&#x2F;.kube&#x2F;config</span><br><span class="line">  sudo chown $(id -u):$(id -g) $HOME&#x2F;.kube&#x2F;config</span><br></pre></td></tr></table></figure>

<p>å®‰è£…æ”¯æŒçš„Podç½‘ç«™ç»„ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">You should now deploy a pod network to the cluster.</span><br><span class="line">Run &quot;kubectl apply -f [podnetwork].yaml&quot; with one of the options listed at:</span><br><span class="line">  https:&#x2F;&#x2F;kubernetes.io&#x2F;docs&#x2F;concepts&#x2F;cluster-administration&#x2F;addons&#x2F;</span><br></pre></td></tr></table></figure>

<p>è¦å°†å…¶ä»–NodeèŠ‚ç‚¹åŠ å…¥åˆ°å½“å‰MasterèŠ‚ç‚¹çš„é›†ç¾¤ä¸­ï¼Œéœ€è¦æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Then you can join any number of worker nodes by running the following on each as root:</span><br><span class="line"></span><br><span class="line">kubeadm join 192.168.5.28:6443 --token runell.pdp1y28g1dsayy1o \</span><br><span class="line">    --discovery-token-ca-cert-hash sha256:349ee7b8a8f8a255065ebdbd1de2a98127f45fd190716af6a7a780e025f8cdfd</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä¸‰æ­¥ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åˆå§‹åŒ–é›†ç¾¤è¦åšçš„ã€‚</p>
<h5 id="æˆæƒç®¡ç†é›†ç¾¤"><a href="#æˆæƒç®¡ç†é›†ç¾¤" class="headerlink" title="æˆæƒç®¡ç†é›†ç¾¤"></a>æˆæƒç®¡ç†é›†ç¾¤</h5><p>å¦‚æœéœ€è¦ä½¿ç”¨Kubernetesé›†ç¾¤ï¼Œåˆ™é¦–å…ˆè¦æ‰§è¡Œä¸Šé¢çš„æˆæƒæ“ä½œï¼Œå¦åˆ™ä½ çœ‹åˆ°çš„å°±æ˜¯ä¸‹é¢è¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># kubectl get nodes</span><br><span class="line">The connection to the server localhost:8080 was refused - did you specify the right host or port?</span><br></pre></td></tr></table></figure>

<p><strong>åœ¨ Master èŠ‚ç‚¹ä¸Šæ“ä½œ</strong></p>
<p>å› ä¸ºæˆ‘å¸¸ç”¨çš„æ˜¯érootç”¨æˆ·ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘é€€å‡ºrootç”¨æˆ·æƒé™æ¥æ“ä½œã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨å…¶ä»–çš„ç³»ç»Ÿä¸Šæ¥ç®¡ç†é›†ç¾¤ï¼Œåªéœ€è¦å°† <code>/etc/kubernetes/admin.conf</code> æ‹·è´åˆ° <code>$HOME/.kube/config</code> ç›®å½•ä¸­å³å¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@master ~]# exit</span><br><span class="line">logout</span><br><span class="line">âœ  ~ pwd</span><br><span class="line">&#x2F;home&#x2F;tiger</span><br><span class="line"></span><br><span class="line">âœ  ~ mkdir -p $HOME&#x2F;.kube</span><br><span class="line">âœ  ~ sudo cp -i &#x2F;etc&#x2F;kubernetes&#x2F;admin.conf $HOME&#x2F;.kube&#x2F;config</span><br><span class="line">[sudo] tiger çš„å¯†ç ï¼š</span><br><span class="line">âœ  ~ sudo chown $(id -u):$(id -g) $HOME&#x2F;.kube&#x2F;config</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>kubectl get nodes</code> æŸ¥çœ‹èŠ‚ç‚¹çš„çŠ¶æ€:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  ~ kubectl get nodes</span><br><span class="line">NAME     STATUS     ROLES    AGE   VERSION</span><br><span class="line">master   NotReady   master   14m   v1.14.1</span><br></pre></td></tr></table></figure>

<p>master èŠ‚ç‚¹ å¤„äº <code>NotReady</code> çŠ¶æ€ï¼Œè¿˜éœ€è¦é…ç½®ç½‘ç»œã€‚</p>
<h5 id="å®‰è£…ç½‘ç»œç»„ä»¶"><a href="#å®‰è£…ç½‘ç»œç»„ä»¶" class="headerlink" title="å®‰è£…ç½‘ç»œç»„ä»¶"></a>å®‰è£…ç½‘ç»œç»„ä»¶</h5><p>Kubernetesç³»ç»Ÿä¸ŠPodç½‘ç»œçš„å®ç°ä¾èµ–äºç¬¬ä¸‰æ–¹æ’ä»¶è¿›è¡Œï¼Œç®€å•æ˜“ç”¨çš„å®ç°æ˜¯ä¸ºCoreOSæä¾›çš„flannelé¡¹ç›®ã€‚</p>
<p>å®‰è£…æ–‡æ¡£ <a href="https://kubernetes.io/docs/setup/independent/create-cluster-kubeadm/" target="_blank" rel="noopener">Creating a single master cluster with kubeadm - Kubernetes</a> ä¸­çš„ä»‹ç»ï¼Œç›´æ¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">kubectl apply -f https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;coreos&#x2F;flannel&#x2F;a70459be0084506e4ec919aa1c114638878db11b&#x2F;Documentation&#x2F;kube-flannel.yml</span><br></pre></td></tr></table></figure>

<p>ç”±äºä¸Šé¢æˆ‘æ˜¯åœ¨ <code>tiger</code> ç”¨æˆ·ä¸‹è®¾ç½®äº†æˆæƒï¼Œæ‰€ä»¥è¿™é‡Œå®‰è£… <code>flannel</code> å°±éœ€è¦åœ¨ <code>tiger</code> ç”¨æˆ·ä¸‹æ¥æ“ä½œï¼ˆä¸éœ€è¦sudoï¼‰ï¼Œæ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  ~ kubectl apply -f https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;coreos&#x2F;flannel&#x2F;a70459be0084506e4ec919aa1c114638878db11b&#x2F;Documentation&#x2F;kube-flannel.yml</span><br><span class="line">clusterrole.rbac.authorization.k8s.io&#x2F;flannel created</span><br><span class="line">clusterrolebinding.rbac.authorization.k8s.io&#x2F;flannel created</span><br><span class="line">serviceaccount&#x2F;flannel created</span><br><span class="line">configmap&#x2F;kube-flannel-cfg created</span><br><span class="line">daemonset.extensions&#x2F;kube-flannel-ds-amd64 created</span><br><span class="line">daemonset.extensions&#x2F;kube-flannel-ds-arm64 created</span><br><span class="line">daemonset.extensions&#x2F;kube-flannel-ds-arm created</span><br><span class="line">daemonset.extensions&#x2F;kube-flannel-ds-ppc64le created</span><br><span class="line">daemonset.extensions&#x2F;kube-flannel-ds-s390x created</span><br></pre></td></tr></table></figure>

<p>ä¹‹åï¼Œå†æ¬¡æŸ¥çœ‹èŠ‚ç‚¹çŠ¶æ€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  ~ kubectl get nodes</span><br><span class="line">NAME     STATUS   ROLES    AGE   VERSION</span><br><span class="line">master   Ready    master   35m   v1.14.1</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨æ˜¯ <code>Ready</code> çŠ¶æ€äº†ã€‚</p>
<p>å¦‚æœæ˜¯ç”¨rootæƒé™æ“ä½œï¼Œç”±äºä¸Šé¢æ²¡æœ‰ä¸ºrootè´¦æˆ·æˆæƒï¼Œä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">unable to recognize &quot;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;coreos&#x2F;flannel&#x2F;a70459be0084506e4ec919aa1c114638878db11b&#x2F;Documentation&#x2F;kube-flannel.yml&quot;: Get http:&#x2F;&#x2F;localhost:8080&#x2F;api?timeout&#x3D;32s: dial tcp [::1]:8080: connect: connection refused</span><br><span class="line">unable to recognize &quot;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;coreos&#x2F;flannel&#x2F;a70459be0084506e4ec919aa1c114638878db11b&#x2F;Documentation&#x2F;kube-flannel.yml&quot;: Get http:&#x2F;&#x2F;localhost:8080&#x2F;api?timeout&#x3D;32s: dial tcp [::1]:8080: connect: connection refused</span><br></pre></td></tr></table></figure>

<p>æ£€æŸ¥ Flannel çš„podçŠ¶æ€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  ~ kubectl get pods -n kube-system -l app&#x3D;flannel</span><br><span class="line">NAME                          READY   STATUS    RESTARTS   AGE</span><br><span class="line">kube-flannel-ds-amd64-2rzqc   1&#x2F;1     Running   0          6m51s</span><br></pre></td></tr></table></figure>

<h6 id="éªŒè¯MasterèŠ‚ç‚¹ä¸Šç›¸å…³Podæ˜¯å¦æ­£å¸¸"><a href="#éªŒè¯MasterèŠ‚ç‚¹ä¸Šç›¸å…³Podæ˜¯å¦æ­£å¸¸" class="headerlink" title="éªŒè¯MasterèŠ‚ç‚¹ä¸Šç›¸å…³Podæ˜¯å¦æ­£å¸¸"></a>éªŒè¯MasterèŠ‚ç‚¹ä¸Šç›¸å…³Podæ˜¯å¦æ­£å¸¸</h6><p>é€šè¿‡å‘½ä»¤ <code>kubectl get pods --all-namespaces</code> éªŒè¯masterèŠ‚ç‚¹ä¸Škubernetesé›†ç¾¤çš„ç›¸å…³Podæ˜¯å¦éƒ½æ­£å¸¸åˆ›å»ºå¹¶è¿è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  ~ kubectl get pods --all-namespaces</span><br><span class="line">NAMESPACE     NAME                             READY   STATUS    RESTARTS   AGE</span><br><span class="line">kube-system   coredns-fb8b8dccf-cm28l          1&#x2F;1     Running   0          40m</span><br><span class="line">kube-system   coredns-fb8b8dccf-lqh8n          1&#x2F;1     Running   0          40m</span><br><span class="line">kube-system   etcd-master                      1&#x2F;1     Running   0          39m</span><br><span class="line">kube-system   kube-apiserver-master            1&#x2F;1     Running   0          39m</span><br><span class="line">kube-system   kube-controller-manager-master   1&#x2F;1     Running   0          39m</span><br><span class="line">kube-system   kube-flannel-ds-amd64-2rzqc      1&#x2F;1     Running   0          8m10s</span><br><span class="line">kube-system   kube-proxy-mb87m                 1&#x2F;1     Running   0          40m</span><br><span class="line">kube-system   kube-scheduler-master            1&#x2F;1     Running   0          40m</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå‘ç°æœ‰çŠ¶æ€é”™è¯¯çš„Podï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤ <code>kubectl --namespace=kube-system describe pod &lt;pod_name&gt;</code> æ¥æŸ¥çœ‹å…·ä½“é”™è¯¯åŸå› ã€‚</p>
<p>æŸ¥çœ‹é›†ç¾¤ä¸­å„ä¸ªç»„ä»¶çš„çŠ¶æ€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  ~ kubectl get cs</span><br><span class="line">NAME                 STATUS    MESSAGE             ERROR</span><br><span class="line">scheduler            Healthy   ok</span><br><span class="line">controller-manager   Healthy   ok</span><br><span class="line">etcd-0               Healthy   &#123;&quot;health&quot;:&quot;true&quot;&#125;</span><br></pre></td></tr></table></figure>

<h6 id="è®¾ç½®MasterèŠ‚ç‚¹è°ƒåº¦Pod"><a href="#è®¾ç½®MasterèŠ‚ç‚¹è°ƒåº¦Pod" class="headerlink" title="è®¾ç½®MasterèŠ‚ç‚¹è°ƒåº¦Pod"></a>è®¾ç½®MasterèŠ‚ç‚¹è°ƒåº¦Pod</h6><p>Kubeadm åœ¨ masterèŠ‚ç‚¹ä¸Šä¹Ÿå®‰è£…äº† <code>kubelet</code>ï¼Œå‡ºäºå®‰å…¨è€ƒè™‘Podä¸ä¼šè¢«è°ƒåº¦åˆ°Master Nodeä¸Šï¼Œä¹Ÿå°±æ˜¯è¯´Master Nodeä¸å‚ä¸å·¥ä½œè´Ÿè½½ã€‚è¿™æ˜¯å› ä¸ºmasterèŠ‚ç‚¹è¢«æ‰“ä¸Šäº† <code>node-role.kubernetes.io/master:NoSchedule</code> çš„æ ‡è®°ï¼š</p>
<p>æŸ¥çœ‹MasterèŠ‚ç‚¹çš„ Taint <code>kubectl describe node &lt;host_name&gt; | grep Taint</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  ~ kubectl describe node master | grep Taint</span><br><span class="line">Taints:             node-role.kubernetes.io&#x2F;master:NoSchedule</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå¸Œæœ›åœ¨ Master èŠ‚ç‚¹ä¸Šä¹Ÿå¯ä»¥è¿è¡Œ Podï¼Œå¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼ˆåˆ é™¤ Node çš„ Label â€œnode-role.kubernetes.io/masterâ€ï¼Œè®©MasterèŠ‚ç‚¹æˆä¸ºNodeèŠ‚ç‚¹ï¼‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># å½“å‰åªæœ‰ä¸€ä¸ªmasterèŠ‚ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨ --all æ¥æ‰§è¡Œ</span><br><span class="line">kubectl taint nodes --all node-role.kubernetes.io&#x2F;master-</span><br><span class="line"># æˆ–è€…æŒ‡å®šèŠ‚ç‚¹åç§°</span><br><span class="line">kubectl taint nodes &lt;host_name&gt; node-role.kubernetes.io&#x2F;master-</span><br></pre></td></tr></table></figure>

<p>ç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  ~ kubectl taint nodes --all node-role.kubernetes.io&#x2F;master-</span><br><span class="line">node&#x2F;master untainted</span><br></pre></td></tr></table></figure>

<p>å¦å¤–ï¼Œå¦‚æœè¦æ¢å¤ç¦æ­¢masteréƒ¨ç½²Podï¼Œå¯ä»¥æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">kubectl taint nodes &lt;host_name&gt; node-role.kubernetes.io&#x2F;master:NoSchedule</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="å‘Kubernetesé›†ç¾¤ä¸­æ·»åŠ NodeèŠ‚ç‚¹"><a href="#å‘Kubernetesé›†ç¾¤ä¸­æ·»åŠ NodeèŠ‚ç‚¹" class="headerlink" title="å‘Kubernetesé›†ç¾¤ä¸­æ·»åŠ NodeèŠ‚ç‚¹"></a>å‘Kubernetesé›†ç¾¤ä¸­æ·»åŠ NodeèŠ‚ç‚¹</h5><p><strong>æ³¨æ„ï¼šåœ¨ Node èŠ‚ç‚¹ä¸Šæ“ä½œ</strong></p>
<p>æŒ‰ç…§ä¸Šé¢çš„ç¬¬ä¸‰æ­¥æ“ä½œï¼Œç›´æ¥åœ¨ Node èŠ‚ç‚¹ä¸Šæ‰§è¡Œï¼Œè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯å¿…é¡»ä»¥rootæƒé™æ¥æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">kubeadm join 192.168.5.28:6443 --token runell.pdp1y28g1dsayy1o \</span><br><span class="line">    --discovery-token-ca-cert-hash sha256:349ee7b8a8f8a255065ebdbd1de2a98127f45fd190716af6a7a780e025f8cdfd</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@node1 ~]# kubeadm join 192.168.5.28:6443 --token runell.pdp1y28g1dsayy1o \</span><br><span class="line">&gt;     --discovery-token-ca-cert-hash sha256:349ee7b8a8f8a255065ebdbd1de2a98127f45fd190716af6a7a780e025f8cdfd</span><br><span class="line">[preflight] Running pre-flight checks</span><br><span class="line">[preflight] Reading configuration from the cluster...</span><br><span class="line">[preflight] FYI: You can look at this config file with &#39;kubectl -n kube-system get cm kubeadm-config -oyaml&#39;</span><br><span class="line">[kubelet-start] Downloading configuration for the kubelet from the &quot;kubelet-config-1.14&quot; ConfigMap in the kube-system namespace</span><br><span class="line">[kubelet-start] Writing kubelet configuration to file &quot;&#x2F;var&#x2F;lib&#x2F;kubelet&#x2F;config.yaml&quot;</span><br><span class="line">[kubelet-start] Writing kubelet environment file with flags to file &quot;&#x2F;var&#x2F;lib&#x2F;kubelet&#x2F;kubeadm-flags.env&quot;</span><br><span class="line">[kubelet-start] Activating the kubelet service</span><br><span class="line">[kubelet-start] Waiting for the kubelet to perform the TLS Bootstrap...</span><br><span class="line"></span><br><span class="line">This node has joined the cluster:</span><br><span class="line">* Certificate signing request was sent to apiserver and a response was received.</span><br><span class="line">* The Kubelet was informed of the new secure connection details.</span><br><span class="line"></span><br><span class="line">Run &#39;kubectl get nodes&#39; on the control-plane to see this node join the cluster.</span><br></pre></td></tr></table></figure>

<h6 id="æŸ¥çœ‹é›†ç¾¤èŠ‚ç‚¹çŠ¶æ€"><a href="#æŸ¥çœ‹é›†ç¾¤èŠ‚ç‚¹çŠ¶æ€" class="headerlink" title="æŸ¥çœ‹é›†ç¾¤èŠ‚ç‚¹çŠ¶æ€"></a>æŸ¥çœ‹é›†ç¾¤èŠ‚ç‚¹çŠ¶æ€</h6><p>å›åˆ°ä¸»èŠ‚ç‚¹masterä¸Šï¼ŒæŸ¥çœ‹é›†ç¾¤èŠ‚ç‚¹çŠ¶æ€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  ~ kubectl get nodes</span><br><span class="line">NAME     STATUS   ROLES    AGE   VERSION</span><br><span class="line">master   Ready    master   65m   v1.14.1</span><br><span class="line">node1    Ready    &lt;none&gt;   77s   v1.14.1</span><br></pre></td></tr></table></figure>

<p>è‡³æ­¤ï¼Œ<code>node1</code> èŠ‚ç‚¹é¡ºåˆ©æ·»åŠ åˆ°äº†é›†ç¾¤ä¸­ã€‚</p>
<hr>
<h4 id="kube-proxyå¼€å¯ipvs"><a href="#kube-proxyå¼€å¯ipvs" class="headerlink" title="kube-proxyå¼€å¯ipvs"></a>kube-proxyå¼€å¯ipvs</h4><p><strong>æ³¨æ„ï¼šåœ¨ Master èŠ‚ç‚¹ä¸‹æ“ä½œ</strong></p>
<p>é€šè¿‡å‘½ä»¤ <code>ipvsadm -L -n</code> æŸ¥çœ‹å½“å‰ipvsçŠ¶æ€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  ~ sudo ipvsadm -L -n</span><br><span class="line">IP Virtual Server version 1.2.1 (size&#x3D;4096)</span><br><span class="line">Prot LocalAddress:Port Scheduler Flags</span><br><span class="line">  -&gt; RemoteAddress:Port           Forward Weight ActiveConn InActConn</span><br></pre></td></tr></table></figure>

<p>å‘ç°å¹¶æ²¡æœ‰ä½¿ç”¨ipvsã€‚</p>
<p>ä¿®æ”¹ <code>ConfigMapçš„kube-system/kube-proxy</code> ä¸­çš„ <code>config.conf</code>ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  ~ kubectl edit cm kube-proxy -n kube-system</span><br></pre></td></tr></table></figure>

<p>æ‰¾åˆ°å…¶ä¸­çš„å¦‚ä¸‹éƒ¨åˆ†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">    kind: KubeProxyConfiguration</span><br><span class="line">    metricsBindAddress: 127.0.0.1:10249</span><br><span class="line">    mode: &quot;&quot;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>å°† <code>mode: &quot;&quot;</code> æ”¹ä¸º <code>mode: &quot;ipvs&quot;</code>ã€‚</p>
<p>ä¹‹åé‡å¯å„ä¸ªèŠ‚ç‚¹ä¸Šçš„kube-proxy Pod:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">kubectl get pod -n kube-system | grep kube-proxy | awk &#39;&#123;system(&quot;kubectl delete pod &quot;$1&quot; -n kube-system&quot;)&#125;&#39;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„å‘½ä»¤æ˜¯å°†åŸæœ‰ kube-proxy çš„ Pod åˆ é™¤ï¼Œç„¶åé‡æ–°åˆ›å»ºçš„ã€‚æ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  ~ kubectl get pod -n kube-system | grep kube-proxy</span><br><span class="line">kube-proxy-d78m2                 1&#x2F;1     Running   0          55m</span><br><span class="line">kube-proxy-mb87m                 1&#x2F;1     Running   0          119m</span><br><span class="line">âœ  ~ kubectl get pod -n kube-system | grep kube-proxy | awk &#39;&#123;system(&quot;kubectl delete pod &quot;$1&quot; -n kube-system&quot;)&#125;&#39;</span><br><span class="line">pod &quot;kube-proxy-d78m2&quot; deleted</span><br><span class="line">pod &quot;kube-proxy-mb87m&quot; deleted</span><br><span class="line">âœ  ~ kubectl get pod -n kube-system | grep kube-proxy</span><br><span class="line">kube-proxy-8x8f6                 1&#x2F;1     Running   0          10s</span><br><span class="line">kube-proxy-k54d5                 1&#x2F;1     Running   0          3s</span><br><span class="line">âœ  ~</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹å…¶ä¸­ä¸€ä¸ª kube-proxy Pod çš„æ—¥å¿—è¾“å‡ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  ~ kubectl logs kube-proxy-k54d5 -n kube-system</span><br><span class="line">I0517 02:04:00.609209       1 server_others.go:177] Using ipvs Proxier.</span><br><span class="line">W0517 02:04:00.609514       1 proxier.go:381] IPVS scheduler not specified, use rr by default</span><br><span class="line">I0517 02:04:00.609660       1 server.go:555] Version: v1.14.1</span><br><span class="line">I0517 02:04:00.619582       1 conntrack.go:52] Setting nf_conntrack_max to 131072</span><br><span class="line">I0517 02:04:00.620296       1 config.go:202] Starting service config controller</span><br><span class="line">I0517 02:04:00.620318       1 controller_utils.go:1027] Waiting for caches to sync for service config controller</span><br><span class="line">I0517 02:04:00.620338       1 config.go:102] Starting endpoints config controller</span><br><span class="line">I0517 02:04:00.621083       1 controller_utils.go:1027] Waiting for caches to sync for endpoints config controller</span><br><span class="line">I0517 02:04:00.720469       1 controller_utils.go:1034] Caches are synced for service config controller</span><br><span class="line">I0517 02:04:00.721541       1 controller_utils.go:1034] Caches are synced for endpoints config controller</span><br><span class="line">âœ  ~</span><br></pre></td></tr></table></figure>

<p>æ—¥å¿—ä¸­æ‰“å°å‡ºäº† <code>Using ipvs Proxier</code> ï¼Œè¯´æ˜ipvsæ¨¡å¼å·²ç»å¼€å¯ã€‚</p>
<p>å†æ¬¡é€šè¿‡ <code>ipvsadm -L -n</code> å‘½ä»¤æŸ¥çœ‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  ~ sudo ipvsadm -L -n</span><br><span class="line">[sudo] password for tiger:</span><br><span class="line">IP Virtual Server version 1.2.1 (size&#x3D;4096)</span><br><span class="line">Prot LocalAddress:Port Scheduler Flags</span><br><span class="line">  -&gt; RemoteAddress:Port           Forward Weight ActiveConn InActConn</span><br><span class="line">TCP  10.96.0.1:443 rr</span><br><span class="line">  -&gt; 192.168.5.28:6443            Masq    1      0          0</span><br><span class="line">TCP  10.96.0.10:53 rr</span><br><span class="line">  -&gt; 10.244.0.2:53                Masq    1      0          0</span><br><span class="line">  -&gt; 10.244.0.3:53                Masq    1      0          0</span><br><span class="line">TCP  10.96.0.10:9153 rr</span><br><span class="line">  -&gt; 10.244.0.2:9153              Masq    1      0          0</span><br><span class="line">  -&gt; 10.244.0.3:9153              Masq    1      0          0</span><br><span class="line">UDP  10.96.0.10:53 rr</span><br><span class="line">  -&gt; 10.244.0.2:53                Masq    1      0          0</span><br><span class="line">  -&gt; 10.244.0.3:53                Masq    1      0          0</span><br><span class="line">âœ  ~</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿæ˜¾ç¤ºå‡ºäº†ç›¸åº”çš„é…ç½®ä¿¡æ¯ã€‚</p>
<hr>
<p>è‡³æ­¤ï¼Œkubeadmé…ç½®Kubernetesé›†ç¾¤çš„æ“ä½œå°±å®Œæˆäº†ã€‚</p>
<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="https://blog.frognew.com/2019/04/kubeadm-install-kubernetes-1.14.html#2-6-%E5%90%91kubernetes%E9%9B%86%E7%BE%A4%E4%B8%AD%E6%B7%BB%E5%8A%A0node%E8%8A%82%E7%82%B9" target="_blank" rel="noopener">ä½¿ç”¨kubeadmå®‰è£…Kubernetes 1.14 - é’è›™å°ç™½</a></li>
<li><a href="https://blog.51cto.com/nhylovezyh/2377982" target="_blank" rel="noopener">centos7.4 kubeadmå®‰è£…Kubernetes 1.14.1 é›†ç¾¤-éšè®°åƒç§‹-51CTOåšå®¢</a></li>
<li><a href="https://kubernetes.io/docs/setup/independent/create-cluster-kubeadm/#control-plane-node-isolation" target="_blank" rel="noopener">Creating a single master cluster with kubeadm - Kubernetes</a></li>
</ul>
]]></content>
      <categories>
        <category>äº‘åŸç”Ÿç³»åˆ—</category>
      </categories>
      <tags>
        <tag>Kubernetes</tag>
        <tag>äº‘åŸç”Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>zshæ— æ³•æ›´æ¢ä¸»é¢˜</title>
    <url>/2019/05/15/zsh-cannot-change-themes/</url>
    <content><![CDATA[<p>ä»Šå¤©åœ¨çŸ¥ä¹ä¸Šå‘ç°ä¸€æ¬¾zshçš„ä¸»é¢˜ï¼Œæ„Ÿè§‰æ¯”è¾ƒå¥½çœ‹ï¼Œæ¨èç»™å¤§å®¶ã€‚</p>
<p>å¯èƒ½å¾ˆå¤šäººéƒ½ç”¨è¿‡ <code>ys</code> è¿™æ¬¾ä¸»é¢˜ï¼Œæ˜¾ç¤ºçš„ä¿¡æ¯å¾ˆå…¨ä¹Ÿå¾ˆæ¸…çˆ½ã€‚ä½†æ˜¯å¯¹äºæˆ‘æ¥è¯´ï¼Œä¸å¤ªå–œæ¬¢å®ƒçš„ä¸€ç‚¹å°±æ˜¯å‰é¢çš„ <code># user @ hostname in</code> éƒ¨åˆ†ï¼Œæ„Ÿè§‰è¿™éƒ¨åˆ†å®Œå…¨æ²¡æœ‰æ˜¾ç¤ºçš„å¿…è¦ï¼ŒåŒæ—¶å¦‚æœè¿›å…¥çš„ç›®å½•æ¯”è¾ƒæ·±çš„è¯ï¼Œè¿˜ä¼šå¯¼è‡´æ˜¾ç¤ºçš„æç¤ºä¿¡æ¯å¾ˆé•¿ã€‚æ‰€ä»¥æˆ‘å°±ä¸€ç›´æ²¡æœ‰é€‰æ‹©è¿™æ¬¾ä¸»é¢˜ã€‚</p>
<p>å¶ç„¶çœ‹åˆ°ä¸€ä¸ªåä¸º <code>astro</code> çš„zshä¸»é¢˜ <a href="https://github.com/iplaces/astro-zsh-theme" target="_blank" rel="noopener">iplaces/astro-zsh-theme: Astro Theme for Oh My ZSH</a>ï¼Œæ˜¯åŸºäº <code>ys</code> ä¿®æ”¹è€Œæ¥çš„ã€‚æ²¡æƒ³åˆ°ä¹Ÿé‡åˆ°äº†å’Œæˆ‘æœ‰åŒæ ·æƒ³æ³•çš„åŒå­¦ï¼ˆps: åªä¸è¿‡äººå®¶å·²ç»æŠŠæƒ³æ³•å˜æˆäº†ç°å®ï¼Œè€Œæˆ‘å´â€¦ï¼‰</p>
<blockquote>
<p>å› ä¸ºåŠ ä¸Šç”¨æˆ·åå’Œ machine ä¿¡æ¯ä¹‹åå¾ˆå®¹æ˜“åœ¨æ–‡ä»¶è·¯å¾„è¾ƒé•¿æ—¶å€™äº§ç”Ÿæ¢è¡Œï¼Œè€Œä¸”ç”¨æˆ·åå’Œ machine ä¿¡æ¯åœ¨æˆ‘ä»¬ä½¿ç”¨ iTerm çš„æ—¶å€™åŸºæœ¬ä¸Šç”¨å¤„å¾ˆå°æ‰€ä»¥æˆ‘ç›´æ¥æŠŠä»–ä»¬çœç•¥æ‰äº†ï¼Œçœ‹ç€æ¸…çˆ½ã€‚</p>
<p>ä¸»è¦çš„éƒ¨åˆ†å°±æ˜¯æ–‡ä»¶è·¯å¾„ã€git çŠ¶æ€ã€git hash å’Œæ—¶é—´</p>
</blockquote>
<p><code>Astro</code> ä¸»é¢˜çš„å®‰è£…æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œç›´æ¥æŒ‰ç…§ç»™å‡ºçš„å‘½ä»¤æ“ä½œå³å¯ã€‚</p>
<hr>
<p>æˆ‘ä¹‹å‰ä¸€ç›´ä½¿ç”¨çš„æ˜¯ <code>spaceship</code> è¿™æ¬¾ä¸»é¢˜ã€‚</p>
<p>è¦æƒ³ä¿®æ”¹zshçš„ä¸»é¢˜è®¾ç½®ï¼Œåªéœ€è¦å°† <code>~/.zshrc</code> æ–‡ä»¶ä¸­çš„ <code>ZSH_THEME=&quot;spaceship&quot;</code> éƒ¨åˆ†ï¼Œæ”¹æˆç›¸åº”ä¸»é¢˜çš„åå­—å³å¯ã€‚</p>
<p>ä½†å½“æˆ‘å°†å…¶æ”¹æˆ <code>ZSH_THEME=&quot;astro&quot;</code> ä¹‹åï¼Œå´å‘ç° <code>source ~/.zshrc</code> æ— æ³•åˆ‡æ¢åˆ°æ–°çš„ä¸»é¢˜ï¼Œæ˜¾ç¤ºçš„è¿˜æ˜¯ä¹‹å‰çš„ <code>spaceship</code> çš„ä¸»é¢˜æ ·å¼ï¼š</p>
<p><code>spaceship theme</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Leafney.github.io on î‚  hexo [â‡¡] is ğŸ“¦ v0.0.0</span><br><span class="line">3.7.1 via â¬¢ v10.15.3</span><br><span class="line">âœ</span><br></pre></td></tr></table></figure>

<p>ç„¶åæˆ‘å» <code>zsh</code> çš„ github ä¸­æŸ¥è¯¢æ˜¯å¦æœ‰ç›¸å…³çš„ issuesã€‚å‘ç°å…¶ä¸­ä¸€ç§æ–¹æ³•æ˜¯å°†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plugins&#x3D;(</span><br><span class="line">  git</span><br><span class="line">  zsh-autosuggestions</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>æ”¹æˆåœ¨ä¸€è¡Œçš„æ–¹å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plugins&#x3D;(git zsh-autosuggestions)</span><br></pre></td></tr></table></figure>

<p>ä¸è¿‡è¿™ä¸ªæ–¹æ³•åœ¨æµ‹è¯•åæ— æ•ˆã€‚</p>
<hr>
<p>ç„¶åæˆ‘åˆå°†å…¶å°è¯•æ›´æ”¹æˆå…¶ä»–çš„ä¸»é¢˜æ ·å¼ï¼Œå¦‚é»˜è®¤çš„ <code>robbyrussell</code>ï¼Œç»“æœå‘ç°è¿˜æ˜¯ <code>spaceship</code> çš„ä¸»é¢˜æ ·å¼ã€‚é‚£ä¹ˆåˆ°è¿™é‡Œï¼ŒåŸºæœ¬ä¸Šå¯ä»¥ç¡®å®šæ˜¯ <code>spaceship</code> è¿™ä¸ªä¸»é¢˜çš„é—®é¢˜äº†ï¼Œå¯èƒ½æ˜¯å½“åˆæˆ‘åœ¨é…ç½® <code>spaceship</code> ä¸»é¢˜æ—¶æœ‰ä»€ä¹ˆå…¨å±€è®¾ç½®ï¼Œå¯¼è‡´å®ƒæ¯æ¬¡ <code>source</code> æ—¶éƒ½ä¼šè¦†ç›–æ›´æ”¹çš„ä¸»é¢˜ã€‚</p>
<p>éšåï¼Œæˆ‘å» <code>spaceship</code> ä¸»é¢˜çš„å®˜æ–¹ç½‘ç«™ <a href="https://denysdovhan.com/spaceship-prompt/#example" target="_blank" rel="noopener">Home Â· Spaceship ZSH</a> æŸ¥æ‰¾æ˜¯å¦æœ‰ç›¸å…³çš„å…¨å±€è®¾ç½®ã€‚å‘ç°äº†ä¸‹é¢çš„ä¸€æ®µï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Set Spaceship ZSH as a prompt</span><br><span class="line">autoload -U promptinit; promptinit</span><br><span class="line">prompt spaceship</span><br></pre></td></tr></table></figure>

<p>å½“æˆ‘æŠŠ <code>~/.zshrc</code> ä¸­è¿™éƒ¨åˆ†æ³¨é‡Šæ‰ä¹‹åå†æ¬¡ <code>source</code>ï¼Œå‘ç°æ–°çš„ä¸»é¢˜å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ï¼š</p>
<p><code>astro theme</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># ~&#x2F;Project&#x2F;Leafney.github.io [hexo â— (0673186)] [11:53:36]</span><br><span class="line">âœ hexo s -g</span><br></pre></td></tr></table></figure>

<p>æ›´æ¢æˆå…¶ä»–çš„ä¸»é¢˜ï¼Œä¹Ÿä¸€æ ·å¯ä»¥æ­£å¸¸åˆ‡æ¢ï¼š<br><code>robbyrussell theme</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  Leafney.github.io git:(hexo) hexo s -g</span><br></pre></td></tr></table></figure>

<p>è‡³äºä¸Šé¢è¿™æ®µå…³äº <code>prompt</code> çš„é…ç½®ï¼Œ<strong>â€œå’±ä¹Ÿä¸çŸ¥é“ä¸ºå•¥ï¼Œå’±ä¹Ÿä¸æ•¢é—®â€</strong>ã€‚</p>
<hr>
<ul>
<li><a href="https://www.zhihu.com/question/33277508/answer/205705091" target="_blank" rel="noopener">oh my zsh å“ªäº›ä¸»é¢˜æ¯”è¾ƒå¥½çœ‹ã€æœ‰ç‰¹ç‚¹ï¼Ÿ - æœ¨ç«¥çš„å›ç­” - çŸ¥ä¹</a></li>
<li><a href="https://github.com/iplaces/astro-zsh-theme" target="_blank" rel="noopener">iplaces/astro-zsh-theme: Astro Theme for Oh My ZSH</a></li>
<li><a href="https://stackoverflow.com/questions/43402753/oh-my-zsh-not-applying-themes?answertab=active#tab-top" target="_blank" rel="noopener">oh my zsh - oh-my-zsh not applying themes - Stack Overflow</a></li>
<li><a href="https://denysdovhan.com/spaceship-prompt/#example" target="_blank" rel="noopener">Home Â· Spaceship ZSH</a></li>
</ul>
]]></content>
      <tags>
        <tag>zsh</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•æ·»åŠ URLåˆ°shadowsocksçš„åˆ—è¡¨è®©å…¶ä½¿ç”¨ä»£ç†è®¿é—®</title>
    <url>/2019/05/13/ss-add-urls-use-proxy/</url>
    <content><![CDATA[<h4 id="æ·»åŠ è‡ªå®šä¹‰ç½‘å€"><a href="#æ·»åŠ è‡ªå®šä¹‰ç½‘å€" class="headerlink" title="æ·»åŠ è‡ªå®šä¹‰ç½‘å€"></a>æ·»åŠ è‡ªå®šä¹‰ç½‘å€</h4><p>å¼€å¯ <code>Shadowsockets</code> çš„ <code>è‡ªåŠ¨ä»£ç†æ¨¡å¼</code> ä¸€èˆ¬æƒ…å†µä¸‹å¹¶ä¸èƒ½æ­£å¸¸è®¿é—®åˆ° <code>medium.com</code> çš„ç«™ç‚¹ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190411162943.png" alt=""></p>
<p>é€‰æ‹© <code>ç¼–è¾‘è‡ªåŠ¨æ¨¡å¼çš„PAC...</code> é€‰é¡¹ï¼Œä¼šæ‰“å¼€ä¸€ä¸ªåä¸º <code>gfwlist.js</code> çš„é…ç½®æ–‡ä»¶ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190411163111.png" alt=""></p>
<p>æŒ‰ç…§è¯¥æ–‡ä»¶ä¸­å·²æœ‰URLçš„æ ¼å¼ï¼Œå°†æˆ‘ä»¬çš„ <code>medium.com</code> æ·»åŠ åˆ°æ–‡ä»¶ä¸­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var rules &#x3D; [</span><br><span class="line">  &quot;||medium.com&quot;,</span><br><span class="line">  &quot;||altrec.com&quot;, </span><br><span class="line">  &quot;||darpa.mil&quot;, </span><br><span class="line">  ...</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¿å­˜ä¿®æ”¹ã€‚</p>
<p>ä¹‹åç›´æ¥åˆ·æ–°é¡µé¢å³å¯ï¼Œæ— éœ€é‡å¯ <code>ss</code> ï¼Œç«‹å³ç”Ÿæ•ˆäº†ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190411163429.png" alt=""></p>
<hr>
<h4 id="MAC-ä¸‹ç‚¹å‡»â€œä»-GFWList-æ›´æ–°-PACâ€ï¼Œæç¤ºâ€œ404â€é”™è¯¯"><a href="#MAC-ä¸‹ç‚¹å‡»â€œä»-GFWList-æ›´æ–°-PACâ€ï¼Œæç¤ºâ€œ404â€é”™è¯¯" class="headerlink" title="MAC ä¸‹ç‚¹å‡»â€œä» GFWList æ›´æ–° PACâ€ï¼Œæç¤ºâ€œ404â€é”™è¯¯"></a>MAC ä¸‹ç‚¹å‡»â€œä» GFWList æ›´æ–° PACâ€ï¼Œæç¤ºâ€œ404â€é”™è¯¯</h4><blockquote>
<p>ç”±äºå¤ªä¹…æ²¡æ›´æ–°ï¼Œä¸” gfwlist.txt æ˜¯ hard code åœ¨ä»£ç é‡Œé¢çš„ï¼Œæ‰€ä»¥å‡çº§ GFWList ä¼šæŠ¥ 404 é”™è¯¯ã€‚ä¸»è¦æ˜¯å› ä¸ºåŸæ¥çš„ GFWList æ‰˜ç®¡åœ¨ Google Code ä¸Šï¼Œç°åœ¨æ‰˜ç®¡åœ¨ GitHub ä¸Šã€‚</p>
</blockquote>
<p>æ‰€ä»¥ï¼Œå°±ä¸è¦å»ç®¡è¿™ä¸€é¡¹äº†ã€‚</p>
<ul>
<li><a href="https://github.com/shadowsocks/shadowsocks-iOS/issues/212" target="_blank" rel="noopener">ä¸èƒ½æ›´æ–° PAC æ–‡ä»¶ Â· Issue #212 Â· shadowsocks/shadowsocks-iOS</a></li>
<li><a href="https://gist.github.com/rambolee/ba7e2d5e0e340c5a1070bf543ad28b7b" target="_blank" rel="noopener">shadowSocks ä» gwflistæ›´æ–° PAC æ—¶404</a></li>
</ul>
<hr>
<h4 id="ä¸æ”¯æŒGoogle-PlayæœåŠ¡ï¼Œæ— æ³•è¿è¡Œ"><a href="#ä¸æ”¯æŒGoogle-PlayæœåŠ¡ï¼Œæ— æ³•è¿è¡Œ" class="headerlink" title="ä¸æ”¯æŒGoogle PlayæœåŠ¡ï¼Œæ— æ³•è¿è¡Œ"></a>ä¸æ”¯æŒGoogle PlayæœåŠ¡ï¼Œæ— æ³•è¿è¡Œ</h4><p>ä½¿ç”¨ss-androidçš„æ‰«ç æ–¹å¼æ·»åŠ ssé…ç½®æ—¶ï¼Œæç¤ºè®¾å¤‡ä¸æ”¯æŒGoogle PlayæœåŠ¡ï¼Œæ— æ³•è¿è¡Œ</p>
<blockquote>
<p>ä¸è¦ä½¿ç”¨æ‰«ç åŠŸèƒ½ï¼Œæ‰‹åŠ¨è®¾ç½®æ·»åŠ å®Œç¾è§£å†³è¿™ä¸ªé—®é¢˜</p>
</blockquote>
<ul>
<li><a href="https://github.com/shadowsocks/shadowsocks-android/issues/2171" target="_blank" rel="noopener">è®¾å¤‡ä¸æ”¯æŒGoogle PlayæœåŠ¡ï¼Œæ— æ³•è¿è¡Œ Â· Issue #2171 Â· shadowsocks/shadowsocks-android</a></li>
</ul>
<hr>
]]></content>
      <tags>
        <tag>Shadowsocks</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoåšå®¢æ·»åŠ Gitalkè¯„è®ºç³»ç»Ÿ</title>
    <url>/2019/04/30/hexo-add-gitalk-comment/</url>
    <content><![CDATA[<p>ç»æœ‹å‹çš„æé†’ï¼Œæˆ‘å‘ç°æˆ‘çš„åšå®¢ä¸­çš„è¯„è®ºæ’ä»¶Gitmentå·²ç»ä¸èƒ½æ­£å¸¸ä½¿ç”¨äº†ã€‚ç®€å•çš„åˆ†æäº†ä¸€ä¸‹ï¼šå‘å¸ƒè¯„è®ºå†…å®¹å <code>Gitment</code> åŒºåŸŸå°±ä¼šä¸€ç›´æ˜¾ç¤º <code>Logging in...</code> çš„åŠ è½½é”™è¯¯ä¿¡æ¯ï¼ŒæŸ¥çœ‹ç½‘ç»œè¯·æ±‚ï¼Œå‘ç°æ˜¯Gitmentæ’ä»¶ä¸­ä½¿ç”¨çš„ä¸€ä¸ªåŸŸå <code>https://gh-oauth.imsun.net</code> çš„Httpsè¯ä¹¦å·²ç»è¿‡æœŸäº†ã€‚</p>
<p>æŸ¥çœ‹äº†ä¸€ä¸‹è¯¥åŸŸåçš„è¯ä¹¦ï¼Œå‘ç°æ—©åœ¨ <code>2018å¹´9æœˆ14æ—¥</code> å°±åˆ°æœŸäº†ï¼Œå“ï¼Œæˆ‘è¯´ä¸ºä»€ä¹ˆæˆ‘çš„åšå®¢ä¸€ç›´æ²¡æœ‰äººè¯„è®ºå‘¢ï¼ŒåŸæ¥æ˜¯è¿™ä¸ªåŸå› ã€‚</p>
<p>é—®é¢˜æ˜¯æ‰¾åˆ°äº†ï¼Œä½†åšå®¢è¯„è®ºçš„åŠŸèƒ½å¯ä¸èƒ½å»æ‰ï¼Œæ¯•ç«Ÿè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„äº¤æµé—®é¢˜çš„åœ°æ–¹ã€‚</p>
<p>åœ¨ç½‘ä¸Šæœç´¢äº†ä¸€ä¸‹ï¼Œå‘ç°äº†ä¸€æ¬¾åä¸º <code>Gitalk</code> çš„è¯„è®ºæ’ä»¶ï¼Œå’Œ <code>Gitment</code> åŠŸèƒ½å®ç°å·®ä¸å¤šã€‚çœ‹äº†çœ‹githubä¸­çš„issuesä¿¡æ¯ï¼Œå‘ç° <code>Gitalk</code> çš„æ´»è·ƒåº¦è¿˜æ˜¯å¾ˆé«˜çš„ã€‚</p>
<p>å› ä¸ºæˆ‘ç”¨çš„æ˜¯ <code>Hexo</code> çš„ <code>Next</code> ä¸»é¢˜ï¼Œå» <code>Next</code> çš„å®˜ç½‘ä¸­æ‰¾äº†ä¸€ä¸‹æ–‡æ¡£ï¼Œå‘ç°å¹¶æ²¡æœ‰ç›´æ¥é›†æˆ  <code>Gitalk</code> è¯„è®ºæ’ä»¶ã€‚é‚£çœ‹æ¥åªèƒ½è‡ªå·±æ”¹é€ äº†ã€‚</p>
<p>æƒ³æƒ³å½“æ—¶æˆ‘åŠ å…¥ <code>Gitment</code> è¯„è®ºæ’ä»¶æ—¶ï¼ŒNextä¸»é¢˜å·²ç»é›†æˆå¥½äº†ï¼Œæ‰€ä»¥åªè¦æ‰“å¼€å¹¶æ·»åŠ å¥½è‡ªå·±çš„ <code>GitHub token</code> ä¿¡æ¯ä¹‹åï¼Œå°±èƒ½æ­£å¸¸ä½¿ç”¨äº†ã€‚è€Œ <code>Gitment</code> å’Œ <code>Gitalk</code> éƒ½æ˜¯è¯„è®ºæ’ä»¶ï¼Œæ‰€ä»¥åªè¦æŒ‰ç…§ <code>Gitment</code>çš„æ–¹å¼æ¥ä¿®æ”¹å³å¯ï¼Œä¹Ÿæ˜¯å¾ˆç®€å•çš„ã€‚</p>
<p>åºŸè¯ä¸å¤šè¯´ï¼Œ<code>Gitalk</code> ç”¨èµ·æ¥ã€‚</p>
<p><strong>æç¤ºï¼šå»ºè®®å’Œæˆ‘ä¹‹å‰çš„æ–‡ç«  <a href="/2018/09/17/hexo-add-gitment-review-system/">Hexoåšå®¢æ·»åŠ Gitmentè¯„è®ºç³»ç»Ÿ | ITèŒƒå„¿</a> ä¸€èµ·é£Ÿç”¨ï¼Œä½“éªŒæ›´å¥½å“Ÿï¼ï¼ï¼</strong></p>
<hr>
<h4 id="ç¦ç”¨Gitment"><a href="#ç¦ç”¨Gitment" class="headerlink" title="ç¦ç”¨Gitment"></a>ç¦ç”¨Gitment</h4><p>å°† <code>themes/next/_config.yml</code> æ–‡ä»¶ä¸­çš„ <code>gitment: enable:true</code> æ”¹ä¸º <code>false</code>ã€‚å…³é—­ Gitment çš„è¯„è®ºæ’ä»¶ã€‚</p>
<hr>
<h4 id="ä½¿ç”¨Gitalk"><a href="#ä½¿ç”¨Gitalk" class="headerlink" title="ä½¿ç”¨Gitalk"></a>ä½¿ç”¨Gitalk</h4><p>å…ˆç®€å•è¿‡ä¸€ä¸‹ Gitalk çš„æ–‡æ¡£ï¼š<a href="https://github.com/gitalk/gitalk" target="_blank" rel="noopener">gitalk/gitalk: Gitalk is a modern comment component based on Github Issue and Preact.</a></p>
<p><code>Gitalk</code> çš„ä½¿ç”¨éå¸¸ç®€å•ï¼š</p>
<ol>
<li>å¯¼å…¥é“¾æ¥</li>
<li>æ·»åŠ å ä½æ ‡ç­¾</li>
<li>åˆå§‹åŒ–æ’ä»¶</li>
<li>è‡ªå®šä¹‰è®¾ç½®</li>
</ol>
<h5 id="æ·»åŠ åˆå§‹åŒ–ä»£ç "><a href="#æ·»åŠ åˆå§‹åŒ–ä»£ç " class="headerlink" title="æ·»åŠ åˆå§‹åŒ–ä»£ç "></a>æ·»åŠ åˆå§‹åŒ–ä»£ç </h5><p>åœ¨ <code>Next</code> ä¸»é¢˜ä¸­ï¼Œç¬¬ä¸‰æ–¹çš„æ’ä»¶éƒ½æ”¾åœ¨äº† <code>_third-party</code> ç›®å½•ä¸‹ã€‚</p>
<p>åœ¨ <code>themes/next/layout/third-party/comments</code> ä¸­æ–°å»º <code>gitalk.swig</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% if page.comments &amp;&amp; theme.gitalk.enable %&#125;</span><br><span class="line"></span><br><span class="line">  &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;https:&#x2F;&#x2F;unpkg.com&#x2F;gitalk&#x2F;dist&#x2F;gitalk.css&quot;&gt;</span><br><span class="line">  &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;unpkg.com&#x2F;gitalk&#x2F;dist&#x2F;gitalk.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">   &lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line">        var gitalk &#x3D; new Gitalk(&#123;</span><br><span class="line">          clientID: &#39;&#123;&#123; theme.gitalk.ClientID &#125;&#125;&#39;,</span><br><span class="line">          clientSecret: &#39;&#123;&#123; theme.gitalk.ClientSecret &#125;&#125;&#39;,</span><br><span class="line">          repo: &#39;&#123;&#123; theme.gitalk.repo &#125;&#125;&#39;,</span><br><span class="line">          owner: &#39;&#123;&#123; theme.gitalk.owner &#125;&#125;&#39;,</span><br><span class="line">          admin: [&#39;&#123;&#123; theme.gitalk.adminUser &#125;&#125;&#39;],</span><br><span class="line">          id:&#39;&#123;&#123; theme.gitalk.IdPrefix || gitalk &#125;&#125;_&#123;&#123; date(page.date, &quot;YYYYMMDDHHmmss&quot;) &#125;&#125;&#39;,</span><br><span class="line">          labels: &#39;&#123;&#123; theme.gitalk.labels &#125;&#125;&#39;,</span><br><span class="line">          perPage: &#123;&#123; theme.gitalk.perPage &#125;&#125;,</span><br><span class="line">          pagerDirection: &#39;&#123;&#123; theme.gitalk.pagerDirection &#125;&#125;&#39;,</span><br><span class="line">          createIssueManually: &#123;&#123; theme.gitalk.createIssueManually &#125;&#125;,</span><br><span class="line">          distractionFreeMode: &#123;&#123; theme.gitalk.distractionFreeMode &#125;&#125;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        gitalk.render(&#39;gitalk-container&#39;)           </span><br><span class="line">       &lt;&#x2F;script&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>

<h5 id="è½½å…¥æ’ä»¶"><a href="#è½½å…¥æ’ä»¶" class="headerlink" title="è½½å…¥æ’ä»¶"></a>è½½å…¥æ’ä»¶</h5><p>åœ¨ <code>themes/next/layout/third-party/comments</code> ä¸­æ‰¾åˆ° <code>index.swig</code> æ–‡ä»¶ï¼Œæ–°å¢ <code>gitalk.swig</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% include &#39;gitalk.swig&#39; %&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æ·»åŠ å ä½æ ‡ç­¾"><a href="#æ·»åŠ å ä½æ ‡ç­¾" class="headerlink" title="æ·»åŠ å ä½æ ‡ç­¾"></a>æ·»åŠ å ä½æ ‡ç­¾</h5><p>åœ¨ <code>themes/next/layout/_partials</code> ä¸­ï¼Œæ‰¾åˆ° <code>comments.swig</code> æ–‡ä»¶ï¼Œè¿™é‡Œé¢æ˜¯æ‰€æœ‰æ”¯æŒçš„è¯„è®ºæ’ä»¶çš„å ä½ç¬¦æ‰€æ”¾çš„ä½ç½®ã€‚å°±æ‹¿ä¹‹å‰ä½¿ç”¨çš„ <code>gitment</code> æ¥è¯´ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹çš„ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% elseif theme.gitment.enable %&#125;</span><br><span class="line">  &lt;div class&#x3D;&quot;comments&quot; id&#x3D;&quot;comments&quot;&gt;</span><br><span class="line">    &#123;% if theme.gitment.lazy %&#125;</span><br><span class="line">      &lt;div onclick&#x3D;&quot;showGitment()&quot; id&#x3D;&quot;gitment-display-button&quot;&gt;&#123;&#123; __(&#39;gitmentbutton&#39;) &#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div id&#x3D;&quot;gitment-container&quot; style&#x3D;&quot;display:none&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &#123;% else %&#125;</span><br><span class="line">      &lt;div id&#x3D;&quot;gitment-container&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­çš„æ¯ä¸€ä¸ª</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% elseif theme.xxxxx.enable %&#125;</span><br></pre></td></tr></table></figure>

<p>éƒ¨åˆ†ï¼Œè¡¨ç¤ºçš„å°±æ˜¯ä¸€ä¸ªè¯„è®ºæ’ä»¶åŠŸèƒ½ã€‚</p>
<p>å°†ä¸Šé¢ä»£ç æ®µç²¾ç®€ä¸€ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% elseif theme.gitment.enable %&#125;</span><br><span class="line">  &lt;div class&#x3D;&quot;comments&quot; id&#x3D;&quot;comments&quot;&gt;</span><br><span class="line">      &lt;div id&#x3D;&quot;gitment-container&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥å‘ç°ï¼š<code>&lt;div id=&quot;gitment-container&quot;&gt;&lt;/div&gt;</code> å°±æ˜¯è¯„è®ºæ¡†çš„å ä½æ ‡ç­¾äº†ã€‚</p>
<p>é‚£ä¹ˆä¾è‘«èŠ¦ç”»ç“¢ï¼Œæˆ‘ä»¬å°†ä¸Šé¢çš„ä»£ç ç¨å¾®ä¿®æ”¹æˆ <code>gitealk</code> çš„å ä½æ ‡ç­¾ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% elseif theme.gitalk.enable %&#125;</span><br><span class="line">  &lt;div class&#x3D;&quot;comments&quot; id&#x3D;&quot;comments&quot;&gt;</span><br><span class="line">      &lt;div id&#x3D;&quot;gitalk-container&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>ç„¶åå°†å…¶åŠ å…¥åˆ°ä»»æ„ä¸¤ä¸ª</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% elseif theme.xxxxx.enable %&#125;</span><br></pre></td></tr></table></figure>
<p>ä»£ç æ®µä¹‹é—´å³å¯ã€‚</p>
<h5 id="è‡ªå®šä¹‰é…ç½®"><a href="#è‡ªå®šä¹‰é…ç½®" class="headerlink" title="è‡ªå®šä¹‰é…ç½®"></a>è‡ªå®šä¹‰é…ç½®</h5><p>æ‰“å¼€ <code>Next</code> ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ <code>themes/next/_config.yml</code> ï¼ŒåŠ ä¸Šå¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">gitalk:</span><br><span class="line">  enable: true</span><br><span class="line">  ClientID: xxxxxx</span><br><span class="line">  ClientSecret: xxxxxxxxxxxx</span><br><span class="line">  repo: gitalk</span><br><span class="line">  owner: xxxxx</span><br><span class="line">  adminUser: xxxxx</span><br><span class="line">  IdPrefix: gitalk</span><br><span class="line">  labels: gitalk</span><br><span class="line">  perPage: 10</span><br><span class="line">  pagerDirection: last</span><br><span class="line">  createIssueManually: true</span><br><span class="line">  distractionFreeMode: false</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼š<code>repo</code> è¡¨ç¤ºå°† issues æäº¤åˆ°å“ªä¸ªä»“åº“ã€‚ <code>IdPrefix</code> æ˜¯æˆ‘è‡ªå®šä¹‰æ·»åŠ çš„å‚æ•°ï¼Œè¡¨ç¤º<code>ID</code> å€¼çš„å‰ç¼€ã€‚å…¶ä»–é¡¹å¯ç›´æ¥å‚è€ƒå®˜æ–¹çš„æ–‡æ¡£æ¥è¿›è¡Œä¿®æ”¹ï¼š<a href="https://github.com/gitalk/gitalk/blob/master/readme-cn.md#%E8%AE%BE%E7%BD%AE" target="_blank" rel="noopener">gitalk/readme-cn.md at master Â· gitalk/gitalk</a></p>
<hr>
<h4 id="é—®é¢˜è§£å†³"><a href="#é—®é¢˜è§£å†³" class="headerlink" title="é—®é¢˜è§£å†³"></a>é—®é¢˜è§£å†³</h4><h5 id="i-concat-â€¦-join-is-not-a-function"><a href="#i-concat-â€¦-join-is-not-a-function" class="headerlink" title="i.concat(â€¦).join is not a function"></a>i.concat(â€¦).join is not a function</h5><p>æ‰§è¡Œ <code>hexo s -g</code> é¢„è§ˆåšå®¢ï¼Œå‘ç°è¯„è®ºéƒ¨åˆ†æŠ¥é”™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Error: i.concat(...).join is not a function</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªé—®é¢˜æ˜¯ <code>labels</code> éƒ¨åˆ†çš„é—®é¢˜ï¼Œé€šè¿‡å¦‚ä¸‹æ–¹å¼å¤„ç†ï¼Œå°† <code>labels</code> ä¿®æ”¹ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   labels: &#39;&#123;&#123; theme.gitalk.labels &#125;&#125;&#39;.split(&#39;,&#39;).filter(l &#x3D;&gt; l),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://github.com/gitalk/gitalk/issues/114" target="_blank" rel="noopener">Error: u.concat(â€¦).join is not a function! Â· Issue #114 Â· gitalk/gitalk</a></li>
</ul>
<h5 id="æœªæ‰¾åˆ°ç›¸å…³çš„-Issues-è¿›è¡Œè¯„è®º"><a href="#æœªæ‰¾åˆ°ç›¸å…³çš„-Issues-è¿›è¡Œè¯„è®º" class="headerlink" title="æœªæ‰¾åˆ°ç›¸å…³çš„ Issues è¿›è¡Œè¯„è®º"></a>æœªæ‰¾åˆ°ç›¸å…³çš„ Issues è¿›è¡Œè¯„è®º</h5><p>æ›´æ”¹ä¸º <code>Gitalk</code> ä¹‹åï¼Œå‘ç°ä¹‹å‰ä½¿ç”¨ <code>Gitment</code> å·²ç»åˆ›å»ºäº† <code>issues</code> çš„æ–‡ç« å´æç¤º <code>æœªæ‰¾åˆ°ç›¸å…³çš„ Issues è¿›è¡Œè¯„è®º</code> :</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190430111233.png" alt=""></p>
<p>åŸå› æ˜¯ï¼š</p>
<p><code>Gitalk</code> è¯„è®ºæ’ä»¶æ˜¯é€šè¿‡ <code>issues</code> çš„ <code>labels</code> æ¥æ ‡è¯†ä¸€ç¯‡æ–‡ç« çš„ã€‚å¦‚æœ <code>labels</code> ä¸­å­˜åœ¨ç›¸åº”æ–‡ç« çš„ <code>label</code> æ ‡ç­¾ï¼Œé‚£å°±è¯´æ˜è¯¥æ–‡ç« å·²ç»åˆå§‹åŒ–è¿‡äº†ã€‚</p>
<p>æ¯”å¦‚ æˆ‘ä¸€ç¯‡æ–‡ç« è®¾ç½®çš„ <code>ID</code> ä¸º <code>itfanr_blog_20190426225702</code> ï¼Œé»˜è®¤çš„ <code>labels</code> ä¸º <code>gitalk</code>ï¼Œé‚£ä¹ˆç›¸åº”çš„issueså¦‚ä¸‹ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190430115237.png" alt=""></p>
<p>è¿™ä¸¤ä¸ªlabelä¸€èµ·æ¥æ ‡è¯†ä¸€ç¯‡æ–‡ç« ã€‚</p>
<p>å› ä¸ºä¸Šé¢æˆ‘å°†IDå€¼çš„æ ¼å¼è¿›è¡Œäº†ä¿®æ”¹ï¼š</p>
<p>åŸæ¥:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">id: &#39;itfanr_blog_&#123;&#123; date(page.date, &quot;YYYYMMDDhhmmss&quot;) &#125;&#125;&#39;,</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">id:&#39;&#123;&#123; theme.gitalk.IdPrefix || gitalk &#125;&#125;_&#123;&#123; date(page.date, &quot;YYYYMMDDHHmmss&quot;) &#125;&#125;&#39;,</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­çš„æ—¶é—´æˆ³æ ¼å¼è¿›è¡Œäº†æ›´æ”¹ï¼Œä¹Ÿå°±å¯¼è‡´äº† <code>labels</code> ä¸åŒ¹é…è€Œæ‰¾ä¸åˆ°äº†ã€‚</p>
<p>ç”±äºæš‚æ—¶æ²¡æœ‰æ‰¾åˆ°å¦‚ä½•æ‰¹é‡æ›´æ–° <code>labels</code> çš„æ–¹æ³•ï¼Œè€Œä¸€ä¸ªä¸€ä¸ªçš„æ‰‹åŠ¨æ›´æ”¹åˆå¤ªéº»çƒ¦äº†ã€‚æ‰€ä»¥æˆ‘å°±åˆ é™¤åŸæ¥çš„ <code>issues</code>ï¼Œé‡æ–°è¿›è¡Œåˆ›å»ºã€‚æ­¤æ—¶ï¼Œæˆ‘å‘ç° <code>Gitalk</code> ä¸€ä¸ªå¥½ç”¨çš„åœ°æ–¹æ˜¯ï¼Œå½“å°†é…ç½®é¡¹ <code>createIssueManually</code> è®¾ç½®ä¸º <code>false</code> æ—¶ï¼Œå¦‚æœå‘ç°æ˜¯ç®¡ç†å‘˜æµè§ˆæ–‡ç« ï¼Œä¼šè‡ªåŠ¨ä¸ºè¯¥æ–‡ç« åˆå§‹åŒ–è¯„è®ºåŠŸèƒ½ï¼Œéå¸¸æ–¹ä¾¿ã€‚</p>
<p>å¦å¤–ä¸€ä¸ªä¸»è¦çš„åŸå› æ˜¯ï¼šè¿™å‡ ä¸ªæœˆæˆ‘çš„åšå®¢ä¸€ç›´æ²¡æœ‰è¯„è®ºï¼Œæ‰€ä»¥å¥½å¤šéƒ½æ˜¯ç©ºçš„ <code>issues</code>ï¼Œåˆ é™¤é‡å»ºä¹Ÿå°±æ²¡æœ‰ä»€ä¹ˆçŠ¹è±«äº†ã€‚</p>
<h5 id="å…³äºæ–‡ç« ID"><a href="#å…³äºæ–‡ç« ID" class="headerlink" title="å…³äºæ–‡ç« ID"></a>å…³äºæ–‡ç« ID</h5><p>è¿™é‡Œéœ€è¦è¯´æ˜çš„æ˜¯ <code>ID</code> è¿™ä¸€é¡¹ã€‚</p>
<p>ä¾ç…§gitalkæ–‡æ¡£ä¸­çš„è§£é‡Šï¼Œè¯¥å€¼è¡¨ç¤ºå½“å‰é¡µé¢çš„å”¯ä¸€idï¼Œä¸”é•¿åº¦ä¸èƒ½è¶…è¿‡50ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">The unique id of the page. Length must less than 50.</span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥ï¼Œæˆ‘è¿™é‡Œè®¾ç½®ä¸ºäº† <code>å‰ç¼€+æ–‡ç« createæ—¶é—´æˆ³</code>çš„æ–¹å¼æ¥å®ç°å”¯ä¸€æ€§ã€‚</p>
<p>é€šè¿‡åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®š <code>IdPrefix</code> æ¥è¡¨ç¤ºå‰ç¼€ï¼Œé»˜è®¤å€¼ä¸º <code>gitalk</code>ã€‚</p>
<p>å¦‚æœä½ ä¸æƒ³ç”¨æ—¶é—´æˆ³çš„æ–¹å¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ–‡ç« é“¾æ¥çš„MD5å€¼æ¥å®ç°å”¯ä¸€IDï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š</p>
<p>åœ¨ä¸Šé¢ <code>themes/next/layout/third-party/comments/gitalk.swig</code> ä¸­æ·»åŠ å¯¹ <code>md5.js</code>çš„å¼•ç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.bootcss.com&#x2F;blueimp-md5&#x2F;2.10.0&#x2F;js&#x2F;md5.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹IDéƒ¨åˆ†ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">id: md5(location.pathname),</span><br></pre></td></tr></table></figure>

<p>å³å¯ã€‚</p>
<p>ä½†æ˜¯ï¼Œä¸å»ºè®®ç›´æ¥ä½¿ç”¨é»˜è®¤çš„ <code>id: location.pathname,</code> å³ æ–‡ç« é“¾æ¥ã€‚æœ‰æ—¶å€™æ–‡ç« æ ‡é¢˜å¯èƒ½ä¼šå¾ˆé•¿ï¼Œå½“è¶…è¿‡50ä¸ªå­—ç¬¦ä¹‹åå°±ä¼šæäº¤å¤±è´¥ï¼Œè¿™ä¸ªæ˜¯ç”± GitHubä¸­çš„ <code>Issues labels</code> é™åˆ¶çš„ã€‚</p>
<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="https://github.com/gitalk/gitalk" target="_blank" rel="noopener">gitalk/gitalk: Gitalk is a modern comment component based on Github Issue and Preact.</a></li>
<li><a href="https://iochen.com/2018/01/06/use-gitalk-in-hexo/" target="_blank" rel="noopener">Hexoä¸­Gitalké…ç½®ä½¿ç”¨æ•™ç¨‹-å¯èƒ½æ˜¯ç›®å‰æœ€è¯¦ç»†çš„æ•™ç¨‹ | ioChenâ€™s Blog</a></li>
</ul>
]]></content>
      <categories>
        <category>Hexoåšå®¢æ­å»º</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>CentOSä¸­å®‰è£…pip</title>
    <url>/2019/04/26/centos-install-pip/</url>
    <content><![CDATA[<p>ç›´æ¥æ‰§è¡Œ <code>yum install python-pip</code> ä¼šæŠ¥é”™:æ‰¾ä¸åˆ° <code>python-pip</code> å®‰è£…åŒ…</p>
<p>éœ€è¦å…ˆå®‰è£… <code>epel-release</code> :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo yum -y install epel-release</span><br></pre></td></tr></table></figure>

<p>å†å®‰è£…:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo yum -y install python-pip</span><br></pre></td></tr></table></figure>

<p>å°†pipæ›´æ–°åˆ°æœ€æ–°:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo pip install --upgrade pip</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Shellå‘½ä»¤è‡ªåŠ¨è¡¥å…¨æ’ä»¶zsh-autosuggestions</title>
    <url>/2019/04/26/shell-command-auto-completion-plug-in-zsh-autosuggestions/</url>
    <content><![CDATA[<p>Talk is cheep , show you the code.</p>
<h4 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h4><p>Clone this repository into <code>$ZSH_CUSTOM/plugins</code> (by default <code>~/.oh-my-zsh/custom/plugins</code>):</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;zsh-users&#x2F;zsh-autosuggestions $&#123;ZSH_CUSTOM:-~&#x2F;.oh-my-zsh&#x2F;custom&#125;&#x2F;plugins&#x2F;zsh-autosuggestions</span><br></pre></td></tr></table></figure>

<p>Add the plugin to the list of plugins for Oh My Zsh to load (inside <code>~/.zshrc</code>):</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plugins&#x3D;(zsh-autosuggestions)</span><br></pre></td></tr></table></figure>

<p>Start a new terminal session or run <code>source ~/.zshrc</code>.</p>
<p>More: <a href="https://github.com/zsh-users/zsh-autosuggestions/blob/master/INSTALL.md" target="_blank" rel="noopener">zsh-autosuggestions/INSTALL.md at master Â· zsh-users/zsh-autosuggestions</a></p>
<hr>
<h4 id="Change-default-color"><a href="#Change-default-color" class="headerlink" title="Change default color"></a>Change default color</h4><p>This color can be changed by setting the <code>ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE</code> variable. </p>
<p>For Example:</p>
<p>You can edit your <code>~/.zshrc</code> and change/add the variable  <code>ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE=&#39;fg=value&#39;</code> like <code>ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE=&#39;fg=66&#39;</code>.</p>
<p>The number of colors is in any case limited to 256(i.e. the range 0 to 255).</p>
<p>You can view the detailed colors from here:</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190426214758.png" alt=""></p>
<p>When the auto prompt appears, press <code>â†’</code> key or <code>Ctrl(Control) + f</code> to enter the auto prompt command into the current terminal.</p>
<ul>
<li><a href="https://stackoverflow.com/questions/47310537/how-to-change-zsh-autosuggestions-color" target="_blank" rel="noopener">linux - How to change zsh-autosuggestions color - Stack Overflow</a></li>
<li><a href="https://coderwall.com/p/pb1uzq/z-shell-colors" target="_blank" rel="noopener">Z Shell colors! (Example)</a></li>
</ul>
]]></content>
      <tags>
        <tag>zsh</tag>
      </tags>
  </entry>
  <entry>
    <title>Puppeteeré…ç½®å°è®°</title>
    <url>/2019/04/10/configuration-development-of-puppeteer/</url>
    <content><![CDATA[<p>æœ€è¿‘é¡¹ç›®ä¸­éœ€è¦å®ç°åŠ¨æ€æ•°æ®çš„æŠ“å–ï¼Œä¹‹å‰åœ¨æŠ“å–åŠ¨æ€é¡µé¢çš„æ—¶å€™éƒ½æ˜¯é€šè¿‡ <code>Phantomjs</code> ã€<code>Selenium</code> ã€Chrome æˆ– Firefoxçš„ <code>Headless</code> æ¨¡å¼ç­‰æ–¹æ³•æ¥å®ç°ï¼Œè‡ªä» Google Chrome å›¢é˜Ÿæ¨å‡ºå®˜æ–¹çš„ <code>Headless Chrome</code> å·¥å…· <code>Puppeteer</code> ä¹‹åï¼Œä¼¼ä¹ä¹‹å‰ä½¿ç”¨çš„é‚£äº›å·¥å…·ä¸€ä¸‹éƒ½é»¯æ·¡äº†ã€‚</p>
<p><code>Puppeteer</code> æ˜¯ä¸€ä¸ª <code>Node</code> ä»£ç åº“ï¼ŒåŸºäº <code>DevTools</code> åè®®ï¼Œæä¾›é«˜çº§ API è‡ªåŠ¨åŒ–æ§åˆ¶è°·æ­Œ Chrome æˆ– Chromium  æµè§ˆå™¨ã€‚<code>Puppeteer</code> é»˜è®¤ä»¥ <code>æ— ç•Œé¢æ–¹å¼</code> è¿è¡Œã€‚</p>
<p>å®‰è£… Puppeteer è¿‡ç¨‹ä¸­ä¼šä¸‹è½½å®Œæ•´ç‰ˆçš„è°·æ­ŒChromiumæµè§ˆå™¨åˆ° <code>node_modules</code> ç›®å½•ã€‚</p>
<p>ä» <code>1.7.0</code> ç‰ˆåï¼Œè°·æ­Œå‘å¸ƒäº†æ–°çš„ <code>puppeteer-core</code> å®‰è£…åŒ…ï¼Œé»˜è®¤ä¸å†è‡ªåŠ¨ä¸‹è½½è°·æ­ŒChromiumæµè§ˆå™¨ã€‚</p>
<p><code>puppeteer-core</code> æ˜¯ <code>Puppeteer</code> çš„è½»é‡çº§ç‰ˆæœ¬ï¼Œå¤ç”¨æœ¬åœ°å·²å®‰è£…çš„æµè§ˆå™¨ï¼Œæˆ–è€…è¿æ¥åˆ°è¿œç¨‹æµè§ˆå™¨ã€‚</p>
<hr>
<h4 id="å®‰è£…yarn"><a href="#å®‰è£…yarn" class="headerlink" title="å®‰è£…yarn"></a>å®‰è£…yarn</h4><p>è¿™é‡Œæˆ‘ä½¿ç”¨ <code>yarn</code> æ¥ç®¡ç†ä¾èµ–åŒ…ã€‚</p>
<h5 id="Mac"><a href="#Mac" class="headerlink" title="Mac"></a>Mac</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ brew install yarn</span><br><span class="line"># ç”±äºåœ°å€æºçš„é—®é¢˜ï¼Œè¯¥å‘½ä»¤æ‰§è¡Œå¤±è´¥</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo npm install -g yarn</span><br><span class="line"># ä½¿ç”¨è¿™æ¡å‘½ä»¤å®‰è£…æˆåŠŸ</span><br></pre></td></tr></table></figure>

<h5 id="Win"><a href="#Win" class="headerlink" title="Win"></a>Win</h5><p><code>Chocolatey</code> æ˜¯ä¸€ä¸ªwindowsä¸‹çš„åŒ…ç®¡ç†å™¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">choco install yarn</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://chocolatey.org/" target="_blank" rel="noopener">Chocolatey - The package manager for Windows</a></li>
</ul>
<hr>
<h4 id="ä½¿ç”¨yarn"><a href="#ä½¿ç”¨yarn" class="headerlink" title="ä½¿ç”¨yarn"></a>ä½¿ç”¨yarn</h4><h5 id="æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯"><a href="#æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯"></a>æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ yarn -v</span><br><span class="line">1.15.2</span><br></pre></td></tr></table></figure>

<h5 id="åˆå§‹åŒ–é¡¹ç›®"><a href="#åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="åˆå§‹åŒ–é¡¹ç›®"></a>åˆå§‹åŒ–é¡¹ç›®</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ yarn init</span><br></pre></td></tr></table></figure>

<h5 id="æ·»åŠ ä¸€ä¸ªä¾èµ–"><a href="#æ·»åŠ ä¸€ä¸ªä¾èµ–" class="headerlink" title="æ·»åŠ ä¸€ä¸ªä¾èµ–"></a>æ·»åŠ ä¸€ä¸ªä¾èµ–</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ yarn add [package]</span><br><span class="line">$ yarn add [package]@[version]</span><br><span class="line">$ yarn add [package]@[tag]</span><br></pre></td></tr></table></figure>

<h5 id="å…¨å±€å®‰è£…ä¾èµ–"><a href="#å…¨å±€å®‰è£…ä¾èµ–" class="headerlink" title="å…¨å±€å®‰è£…ä¾èµ–"></a>å…¨å±€å®‰è£…ä¾èµ–</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ yarn global add [package]</span><br></pre></td></tr></table></figure>

<h5 id="æ›´æ–°ä¸€ä¸ªä¾èµ–"><a href="#æ›´æ–°ä¸€ä¸ªä¾èµ–" class="headerlink" title="æ›´æ–°ä¸€ä¸ªä¾èµ–"></a>æ›´æ–°ä¸€ä¸ªä¾èµ–</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ yarn upgrade [package]</span><br><span class="line">$ yarn upgrade [package]@[version]</span><br><span class="line">$ yarn upgrade [package]@[tag]</span><br></pre></td></tr></table></figure>

<h5 id="ç§»é™¤ä¸€ä¸ªä¾èµ–"><a href="#ç§»é™¤ä¸€ä¸ªä¾èµ–" class="headerlink" title="ç§»é™¤ä¸€ä¸ªä¾èµ–"></a>ç§»é™¤ä¸€ä¸ªä¾èµ–</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ yarn remove [package]</span><br></pre></td></tr></table></figure>

<h5 id="å®‰è£…package-jsonä¸­æ‰€æœ‰çš„ä¾èµ–é¡¹"><a href="#å®‰è£…package-jsonä¸­æ‰€æœ‰çš„ä¾èµ–é¡¹" class="headerlink" title="å®‰è£…package.jsonä¸­æ‰€æœ‰çš„ä¾èµ–é¡¹"></a>å®‰è£…package.jsonä¸­æ‰€æœ‰çš„ä¾èµ–é¡¹</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ yarn</span><br><span class="line"># or:</span><br><span class="line">$ yarn install</span><br></pre></td></tr></table></figure>

<h5 id="æŸ¥çœ‹yarné…ç½®"><a href="#æŸ¥çœ‹yarné…ç½®" class="headerlink" title="æŸ¥çœ‹yarné…ç½®"></a>æŸ¥çœ‹yarné…ç½®</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ yarn config list</span><br></pre></td></tr></table></figure>

<h5 id="æ›´æ”¹-registry"><a href="#æ›´æ”¹-registry" class="headerlink" title="æ›´æ”¹ registry"></a>æ›´æ”¹ registry</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#å®‰è£…æ·˜å®é•œåƒ</span><br><span class="line">$ yarn config set registry &quot;https:&#x2F;&#x2F;registry.npm.taobao.org&quot;</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="å®‰è£…Puppeteer"><a href="#å®‰è£…Puppeteer" class="headerlink" title="å®‰è£…Puppeteer"></a>å®‰è£…Puppeteer</h4><h5 id="ä¿®æ”¹åœ°å€æº"><a href="#ä¿®æ”¹åœ°å€æº" class="headerlink" title="ä¿®æ”¹åœ°å€æº"></a>ä¿®æ”¹åœ°å€æº</h5><p>è¿™é‡Œæˆ‘é‡‡ç”¨çš„æ˜¯ <code>puppeteer-core</code>ã€‚ç”±äºå›½å†…ç½‘ç»œåŸå› ï¼Œéœ€è¦ä¿®æ”¹ä»“åº“æºåœ°å€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ npm config set registry &quot;https:&#x2F;&#x2F;registry.npm.taobao.org&quot;</span><br><span class="line"></span><br><span class="line">$ yarn config set registry &quot;https:&#x2F;&#x2F;registry.npm.taobao.org&quot;</span><br><span class="line"></span><br><span class="line">$ yarn add puppeteer-core</span><br></pre></td></tr></table></figure>

<h5 id="é…ç½®Chromeè·¯å¾„"><a href="#é…ç½®Chromeè·¯å¾„" class="headerlink" title="é…ç½®Chromeè·¯å¾„"></a>é…ç½®Chromeè·¯å¾„</h5><p>ä½¿ç”¨ <code>puppeteer-core</code>ï¼Œéœ€è¦æ‰‹åŠ¨æŒ‡å®šå·²å®‰è£…çš„Chromeæµè§ˆå™¨çš„å®‰è£…è·¯å¾„ã€‚</p>
<p>Macç”µè„‘ä¸ŠChromeæµè§ˆå™¨çš„çš„å®‰è£…è·¯å¾„ï¼Œå¯ä»¥é€šè¿‡åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ <code>chrome:\\version</code> æ¥æŸ¥çœ‹ã€‚</p>
<p>æˆ‘çš„ç”µè„‘ä¸Šçš„è·¯å¾„ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;Applications&#x2F;Google\ Chrome.app&#x2F;Contents&#x2F;MacOS&#x2F;Google\ Chrome</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Puppeteeré…ç½®"><a href="#Puppeteeré…ç½®" class="headerlink" title="Puppeteeré…ç½®"></a>Puppeteeré…ç½®</h4><h5 id="æ— ç•Œé¢æ¨¡å¼"><a href="#æ— ç•Œé¢æ¨¡å¼" class="headerlink" title="æ— ç•Œé¢æ¨¡å¼"></a>æ— ç•Œé¢æ¨¡å¼</h5><p>Puppeteer é»˜è®¤ä½¿ç”¨ <code>headless</code> æ¨¡å¼è¿è¡Œï¼Œé€šè¿‡è®¾ç½® <code>headless:false</code> æ¥æ˜¾ç¤ºGUIç•Œé¢ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const browser &#x3D; await puppeteer.launch(&#123;</span><br><span class="line">  headless: false</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h5 id="å…¶ä»–é…ç½®å‚æ•°"><a href="#å…¶ä»–é…ç½®å‚æ•°" class="headerlink" title="å…¶ä»–é…ç½®å‚æ•°"></a>å…¶ä»–é…ç½®å‚æ•°</h5><p>å…¶ä»– <code>puppeteer.launch()</code> é…ç½®é¡¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">     &#x2F;&#x2F; è‹¥æ˜¯æ‰‹åŠ¨ä¸‹è½½çš„chromiuméœ€è¦æŒ‡å®šchromiumåœ°å€, é»˜è®¤å¼•ç”¨åœ°å€ä¸º &#96;&#x2F;é¡¹ç›®ç›®å½•&#x2F;node_modules&#x2F;puppeteer&#x2F;.local-chromium&#x2F;&#96;</span><br><span class="line">    executablePath: &#39;&#x2F;Applications&#x2F;Google\ Chrome.app&#x2F;Contents&#x2F;MacOS&#x2F;Google\ Chrome&#39;,</span><br><span class="line">    &#x2F;&#x2F;è®¾ç½®è¶…æ—¶æ—¶é—´</span><br><span class="line">    timeout: 15000,</span><br><span class="line">    &#x2F;&#x2F;å¦‚æœæ˜¯è®¿é—®httpsé¡µé¢ æ­¤å±æ€§ä¼šå¿½ç•¥httpsé”™è¯¯</span><br><span class="line">    ignoreHTTPSErrors: true,</span><br><span class="line">    &#x2F;&#x2F; æ‰“å¼€å¼€å‘è€…å·¥å…·, å½“æ­¤å€¼ä¸ºtrueæ—¶, headlessæ€»ä¸ºfalse</span><br><span class="line">    devtools: false,</span><br><span class="line">    &#x2F;&#x2F; å…³é—­headlessæ¨¡å¼, ä¸ä¼šæ‰“å¼€æµè§ˆå™¨</span><br><span class="line">    headless: false,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æ²™ç®±ã€å…±äº«å†…å­˜"><a href="#æ²™ç®±ã€å…±äº«å†…å­˜" class="headerlink" title="æ²™ç®±ã€å…±äº«å†…å­˜"></a>æ²™ç®±ã€å…±äº«å†…å­˜</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const browser &#x3D; await puppeteer.launch(&#123;</span><br><span class="line">  args: [&#39;--no-sandbox&#39;, &#39;--disable-dev-shm-usage&#39;]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li><code>--no-sandbox</code>: å»æ²™ç®±è¿è¡Œ</li>
<li><code>--disable-dev-shm-usage</code>: é»˜è®¤æƒ…å†µä¸‹ï¼ŒDockerè¿è¡Œä¸€ä¸ª <code>/dev/shm</code> å…±äº«å†…å­˜ç©ºé—´ä¸º64MB çš„å®¹å™¨ã€‚è¿™é€šå¸¸å¯¹Chromeæ¥è¯´å¤ªå°ï¼Œå¹¶ä¸”ä¼šå¯¼è‡´Chromeåœ¨æ¸²æŸ“å¤§é¡µé¢æ—¶å´©æºƒã€‚è¦ä¿®å¤ï¼Œå¿…é¡»è¿è¡Œå®¹å™¨ <code>docker run --shm-size=1gb</code> ä»¥å¢åŠ  <code>/dev/shm</code> çš„å®¹é‡ã€‚ä»Chrome 65å¼€å§‹ï¼Œä½¿ç”¨ <code>--disable-dev-shm-usage</code> æ ‡å¿—å¯åŠ¨æµè§ˆå™¨å³å¯ï¼Œè¿™å°†ä¼šå†™å…¥å…±äº«å†…å­˜æ–‡ä»¶ <code>/tmp</code> è€Œä¸æ˜¯ <code>/dev/shm</code> .</li>
</ul>
<p>Linuxæ²™ç®±ï¼šåœ¨è®¡ç®—æœºå®‰å…¨é¢†åŸŸï¼Œæ²™ç®±(Sandbox)æ˜¯ä¸€ç§ç¨‹åºçš„éš”ç¦»è¿è¡Œæœºåˆ¶ï¼Œå…¶ç›®çš„æ˜¯é™åˆ¶ä¸å¯ä¿¡è¿›ç¨‹çš„æƒé™ã€‚æ²™ç®±æŠ€æœ¯ç»å¸¸è¢«ç”¨äºæ‰§è¡Œæœªç»æµ‹è¯•çš„æˆ–ä¸å¯ä¿¡çš„å®¢æˆ·ç¨‹åºã€‚ä¸ºäº†é¿å…ä¸å¯ä¿¡ç¨‹åºå¯èƒ½ç ´åå…¶å®ƒç¨‹åºçš„è¿è¡Œã€‚</p>
<ul>
<li>å‚è€ƒ <a href="https://juejin.im/post/5bbc96785188255c72286403" target="_blank" rel="noopener">æˆªå›¾çš„è¯±æƒ‘ï¼šDockeréƒ¨ç½²Puppeteeré¡¹ç›® - æ˜é‡‘</a></li>
</ul>
<h5 id="è·³è½¬åˆ°æŒ‡å®šé¡µ"><a href="#è·³è½¬åˆ°æŒ‡å®šé¡µ" class="headerlink" title="è·³è½¬åˆ°æŒ‡å®šé¡µ"></a>è·³è½¬åˆ°æŒ‡å®šé¡µ</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">await page.goto(&#39;https:&#x2F;&#x2F;github.com&#x2F;login&#39;);</span><br></pre></td></tr></table></figure>

<h5 id="ç­‰å¾…"><a href="#ç­‰å¾…" class="headerlink" title="ç­‰å¾…"></a>ç­‰å¾…</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># ç­‰å¾…æŒ‡å®šæ—¶é—´ ï¼Œsecond</span><br><span class="line">await page.waitFor(2*1000);</span><br><span class="line"></span><br><span class="line"># ç­‰å¾…æŸå…ƒç´ æ˜¾ç¤º</span><br><span class="line">await page.waitForSelector(&#39;body.blog&#39;);</span><br></pre></td></tr></table></figure>

<h5 id="è®¾ç½®è§†å›¾å¤§å°"><a href="#è®¾ç½®è§†å›¾å¤§å°" class="headerlink" title="è®¾ç½®è§†å›¾å¤§å°"></a>è®¾ç½®è§†å›¾å¤§å°</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">await page.setViewport(&#123;width: 1280, height: 600&#125;)</span><br></pre></td></tr></table></figure>

<p>è¦æ³¨æ„ï¼šè¿™é‡Œçš„è§†å›¾å¤§å°æŒ‡çš„æ˜¯ç½‘é¡µé¡µé¢æ˜¾ç¤ºçš„å¤§å°ï¼Œå’Œæµè§ˆå™¨ç•Œé¢çš„å¤§å°æ˜¯ä¸¤ä¸ªæ¦‚å¿µã€‚</p>
<h5 id="æˆªå±"><a href="#æˆªå±" class="headerlink" title="æˆªå±"></a>æˆªå±</h5><p><code>fullPage</code> å¯ä»¥æ§åˆ¶æ˜¯å¦æˆªå–æ•´ä¸ªé¡µé¢:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">await page.screenshot(&#123;</span><br><span class="line">  path: &#39;jd.png&#39;,</span><br><span class="line">  fullPage: true</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h5 id="è®¾ç½®UserAgent"><a href="#è®¾ç½®UserAgent" class="headerlink" title="è®¾ç½®UserAgent"></a>è®¾ç½®UserAgent</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">await page.setUserAgent(&#39;Mozilla&#x2F;5.0 (iPhone; CPU iPhone OS 9_0_1 like Mac OS X) AppleWebKit&#x2F;601.1.46 (KHTML, like Gecko) Version&#x2F;9.0 Mobile&#x2F;13A404 Safari&#x2F;601.1&#39;)</span><br></pre></td></tr></table></figure>

<h5 id="è·å–é¡µé¢å†…å®¹"><a href="#è·å–é¡µé¢å†…å®¹" class="headerlink" title="è·å–é¡µé¢å†…å®¹"></a>è·å–é¡µé¢å†…å®¹</h5><p>è¿”å›é¡µé¢çš„å®Œæ•´ <code>html</code> ä»£ç ï¼ŒåŒ…æ‹¬ <code>doctype</code> ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">page.content();</span><br></pre></td></tr></table></figure>

<h5 id="æ‹¦æˆªè¯·æ±‚é¡µé¢ä¸­çš„å›¾ç‰‡"><a href="#æ‹¦æˆªè¯·æ±‚é¡µé¢ä¸­çš„å›¾ç‰‡" class="headerlink" title="æ‹¦æˆªè¯·æ±‚é¡µé¢ä¸­çš„å›¾ç‰‡"></a>æ‹¦æˆªè¯·æ±‚é¡µé¢ä¸­çš„å›¾ç‰‡</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; æ‹¦æˆªè¯·æ±‚é¡µé¢ä¸­çš„å›¾ç‰‡</span><br><span class="line">await page.setRequestInterception(true);</span><br><span class="line">page.on(&#39;request&#39;, interceptedRequest &#x3D;&gt; &#123;</span><br><span class="line">    let url &#x3D; interceptedRequest.url();</span><br><span class="line">    if (url.indexOf(&#39;.png&#39;) &gt; -1 || url.indexOf(&#39;.jpg&#39;) &gt; -1) &#123;</span><br><span class="line">        interceptedRequest.abort();</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        interceptedRequest.continue();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>å‚è€ƒ <a href="https://github.com/chenxiaochun/blog/issues/38" target="_blank" rel="noopener">Puppeteerï¼šæ¨¡æ‹Ÿæµè§ˆå™¨æ“ä½œè¡Œä¸ºçš„åˆ©å™¨ Â· Issue #38 Â· chenxiaochun/blog</a></li>
</ul>
<h5 id="è·³è½¬ç­‰å¾…é¡µé¢åŠ è½½å®Œæ¯•"><a href="#è·³è½¬ç­‰å¾…é¡µé¢åŠ è½½å®Œæ¯•" class="headerlink" title="è·³è½¬ç­‰å¾…é¡µé¢åŠ è½½å®Œæ¯•"></a>è·³è½¬ç­‰å¾…é¡µé¢åŠ è½½å®Œæ¯•</h5><p>æœ‰æ—¶å€™ä½¿ç”¨ <code>timeout:3000</code> è¿™æ ·çš„æ–¹å¼ï¼Œå¹¶ä¸èƒ½å®Œå…¨ç¡®å®šé¡µé¢èƒ½åœ¨ç›¸åº”çš„æ—¶é—´èŒƒå›´å†…åŠ è½½å®Œè€Œå¯¼è‡´å¼‚å¸¸ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹çš„å‚æ•°æ¥å®ç°ï¼Œè€Œå°½é‡å°‘ç”¨ <code>timeout</code> è¿™ç§é™å®šæ€§çš„æ–¹å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">await page.goto(&#39;https:&#x2F;&#x2F;discordbots.org&#39;, &#123;waitUntil: &#39;domcontentloaded&#39;&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>å‚è€ƒ <a href="https://github.com/GoogleChrome/puppeteer/issues/2482" target="_blank" rel="noopener">UnhandledPromiseRejectionWarning on Navigation Timeout Exceeded Â· Issue #2482 Â· GoogleChrome/puppeteer</a></li>
</ul>
<h5 id="getBoundingClientRect"><a href="#getBoundingClientRect" class="headerlink" title="getBoundingClientRect()"></a>getBoundingClientRect()</h5><p>getBoundingClientRect()ç”¨äºè·å¾—é¡µé¢ä¸­æŸä¸ªå…ƒç´ çš„å·¦ï¼Œä¸Šï¼Œå³å’Œä¸‹åˆ†åˆ«ç›¸å¯¹æµè§ˆå™¨è§†çª—çš„ä½ç½®ã€‚</p>
<hr>
<h4 id="ä¸€ä¸ªä¾‹å­"><a href="#ä¸€ä¸ªä¾‹å­" class="headerlink" title="ä¸€ä¸ªä¾‹å­"></a>ä¸€ä¸ªä¾‹å­</h4><p>è¿™é‡Œï¼Œå®ç°äº†ä¸€ä¸ªç®€å•çš„é¡µé¢æˆªå±çš„åŠŸèƒ½ï¼š</p>
<p><code>get_png.js</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const puppeteer &#x3D; require(&#39;puppeteer-core&#39;);</span><br><span class="line">const execPath &#x3D; &#39;&#x2F;Applications&#x2F;Google\ Chrome.app&#x2F;Contents&#x2F;MacOS&#x2F;Google\ Chrome&#39;;</span><br><span class="line"></span><br><span class="line">(async () &#x3D;&gt; &#123;</span><br><span class="line">    const browser &#x3D; await puppeteer.launch(&#123;</span><br><span class="line">        &#x2F;&#x2F; å…³é—­headlessæ¨¡å¼, ä¼šæ‰“å¼€æµè§ˆå™¨</span><br><span class="line">        headless: false,</span><br><span class="line">        executablePath: execPath,</span><br><span class="line">        args: [&#39;--no-sandbox&#39;, &#39;--disable-dev-shm-usage&#39;],</span><br><span class="line">        &#x2F;&#x2F; è¶…æ—¶æ—¶é—´</span><br><span class="line">        timeout: 30000,</span><br><span class="line">    &#125;);</span><br><span class="line">    const page &#x3D; await browser.newPage();</span><br><span class="line">    await page.setViewport(&#123;</span><br><span class="line">        width: 1280,</span><br><span class="line">        height: 800,</span><br><span class="line">        &#x2F;&#x2F; deviceScaleFactor: 1,</span><br><span class="line">        &#x2F;&#x2F; isMobile: true</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    await page.goto(&#39;https:&#x2F;&#x2F;www.cnblogs.com&#x2F;&#39;, &#123; waitUntil: &#39;domcontentloaded&#39; &#125;);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; wait for some seconds</span><br><span class="line">    await page.waitFor(3000);</span><br><span class="line"></span><br><span class="line">    let title &#x3D; await page.title();</span><br><span class="line">    console.log(title);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; æˆªå±</span><br><span class="line">    await page.screenshot(&#123; path: &#39;test.png&#39;, fullPage: true &#125;);</span><br><span class="line"></span><br><span class="line">    await browser.close();</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œ <code>node get_png.js</code> çœ‹æ•ˆæœã€‚</p>
<hr>
<h4 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h4><h5 id="ERR-NAME-RESOLUTION-FAILED"><a href="#ERR-NAME-RESOLUTION-FAILED" class="headerlink" title="ERR_NAME_RESOLUTION_FAILED"></a>ERR_NAME_RESOLUTION_FAILED</h5><p>ä½¿ç”¨ <code>puppeteer</code> æµ‹è¯•æ—¶æŠ¥é”™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">2019-04-07 19:41:50: received 12260073</span><br><span class="line">2019-04-07 19:41:50: https:&#x2F;&#x2F;item.jd.com&#x2F;12260073.html</span><br><span class="line">2019-04-07 19:41:56: the task data for 12260073 get result error:  Error: net::ERR_NAME_RESOLUTION_FAILED at https:&#x2F;&#x2F;item.jd.com&#x2F;12260073.html</span><br><span class="line">2019-04-07 19:41:56:     at navigate (&#x2F;app&#x2F;node_modules&#x2F;puppeteer-core&#x2F;lib&#x2F;FrameManager.js:101:37)</span><br><span class="line">2019-04-07 19:41:56:     at processTicksAndRejections (internal&#x2F;process&#x2F;task_queues.js:86:5)</span><br><span class="line">2019-04-07 19:41:56:   -- ASYNC --</span><br><span class="line">2019-04-07 19:41:56:     at Frame.&lt;anonymous&gt; (&#x2F;app&#x2F;node_modules&#x2F;puppeteer-core&#x2F;lib&#x2F;helper.js:110:27)</span><br><span class="line">2019-04-07 19:41:56:     at Page.goto (&#x2F;app&#x2F;node_modules&#x2F;puppeteer-core&#x2F;lib&#x2F;Page.js:656:49)</span><br><span class="line">2019-04-07 19:41:56:     at Page.&lt;anonymous&gt; (&#x2F;app&#x2F;node_modules&#x2F;puppeteer-core&#x2F;lib&#x2F;helper.js:111:23)</span><br><span class="line">2019-04-07 19:41:56:     at Object.runPuppet (&#x2F;app&#x2F;src&#x2F;puppet.js:51:16)</span><br><span class="line">2019-04-07 19:41:56:     at processTicksAndRejections (internal&#x2F;process&#x2F;task_queues.js:86:5)</span><br></pre></td></tr></table></figure>

<p>æ‰¾åˆ°ä¸€ç§è¯´æ³•ï¼šè®¾ç½® <code>UserAgent</code> ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(async function main() &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">        const browser &#x3D; await puppeteer.launch(&#123;headless: true&#125;);</span><br><span class="line">        const page &#x3D; await browser.newPage();</span><br><span class="line">        await page.setUserAgent(&#39;Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;68.0.3419.0 Safari&#x2F;537.36&#39;);</span><br><span class="line">        await page.goto(&#39;http:&#x2F;&#x2F;example.com&#39;);</span><br><span class="line">         &#x2F;&#x2F;your code</span><br><span class="line">         await browser.close();</span><br><span class="line">    &#125;</span><br><span class="line">    catch(e)&#123;</span><br><span class="line">        console.log(e);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<ul>
<li>å‚è€ƒ <a href="https://github.com/GoogleChrome/puppeteer/issues/1477#issuecomment-437568281" target="_blank" rel="noopener">page.goto() method generates <code>Error: net::ERR_CONNECTION_RESET</code> error Â· Issue #1477 Â· GoogleChrome/puppeteer</a></li>
</ul>
<p>ç»æµ‹è¯•è§‚å¯Ÿï¼Œæ·»åŠ äº† <code>UserAgent</code> è®¾ç½®åç¡®å®ä¸ä¼šæŠ¥é”™äº†ã€‚</p>
<h5 id="Promiseä¸­çš„console-log"><a href="#Promiseä¸­çš„console-log" class="headerlink" title="Promiseä¸­çš„console.log"></a>Promiseä¸­çš„console.log</h5><p>åœ¨å‡½æ•°å†…æœ‰ <code>console.log(&#39;æŒ‰f12,æˆ‘å‡ºç°åœ¨æµè§ˆå™¨çš„consoleä¸­ï¼Œå¹¶ä¸åœ¨nodeå‘½ä»¤è¡Œ&#39;)</code></p>
<p>ä½ ä¼šå‘ç°nodeå‘½ä»¤è¡Œçœ‹ä¸åˆ°è¿™å¥è¯ï¼Œè€Œåœ¨Chromiumçš„consoleä¸­çœ‹è§ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const result &#x3D; await page.$eval(selector, el &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F;å¦‚æœéœ€è¦èµ‹å€¼è¦è¿”å›Promise</span><br><span class="line">    return new Promise(resolve &#x3D;&gt; &#123;</span><br><span class="line">        &#x2F;&#x2F;...ä¸€æ³¢éªšæ“ä½œ</span><br><span class="line">        &#x2F;&#x2F;å¯ä»¥ç”¨Dom apiå•¦</span><br><span class="line">        reslove(obj)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br><span class="line">await iframe.$$eval(selector, el &#x3D;&gt; &#123;...&#125;);</span><br></pre></td></tr></table></figure>

<p>åœ¨page.evaluateä¸­ç”¨consoleæ˜¯ä¸èƒ½åœ¨nodeå‘½ä»¤è¡Œæ‰“å°å‡ºæ¥çš„ï¼Œä¸è¿‡æœ‰äº†ç›‘å¬äº‹ä»¶å°±å¯ä»¥æ”¹å˜è¿™ä¸ªè§„åˆ™äº†ã€‚ä¹Ÿå¯ä»¥åœ¨ç›‘å¬äº‹ä»¶é‡Œé¢åšå®¹é”™å¤„ç†ã€‚</p>
<p>å¦‚ä¸‹çš„æ–¹å¼å®ç°ç›‘å¬äº‹ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">page.on(&#39;console&#39;, msg &#x3D;&gt; &#123;</span><br><span class="line">    console.log(msg);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>å‚è€ƒ <a href="https://juejin.im/post/5af6876b518825426726218f" target="_blank" rel="noopener">æˆ‘å¸¸ç”¨çš„puppeteerçˆ¬è™«api - æ˜é‡‘</a></li>
</ul>
<hr>
<h4 id="Dockeré•œåƒ"><a href="#Dockeré•œåƒ" class="headerlink" title="Dockeré•œåƒ"></a>Dockeré•œåƒ</h4><p>ä¸ºäº†éƒ¨ç½²çš„æ–¹ä¾¿ï¼Œæˆ‘å®ç°äº† <code>puppeteer</code> ç¯å¢ƒçš„Dockeré•œåƒï¼Œå…·ä½“å¯æŸ¥çœ‹ï¼š</p>
<ul>
<li><a href="https://github.com/leafney/alpine-puppeteer" target="_blank" rel="noopener">leafney/alpine-puppeteer: Alpine Docker Puppeteer Environment</a></li>
</ul>
<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="https://zhaoqize.github.io/puppeteer-api-zh_CN/" target="_blank" rel="noopener">Puppeteer v1.14.0</a></li>
<li><a href="https://juejin.im/post/5bbc96785188255c72286403#heading-4" target="_blank" rel="noopener">æˆªå›¾çš„è¯±æƒ‘ï¼šDockeréƒ¨ç½²Puppeteeré¡¹ç›® - æ˜é‡‘</a> <strong>å€¼çš„å‚è€ƒ</strong></li>
<li><a href="https://juejin.im/post/5a506682f265da3e474435d9" target="_blank" rel="noopener">çˆ¬è™«åˆ©å™¨ Puppeteer å®æˆ˜ - æ˜é‡‘</a></li>
<li><a href="https://juejin.im/post/5ac20c9c5188255c620f3f88" target="_blank" rel="noopener">puppeteeråˆä½“éªŒ - æ˜é‡‘</a></li>
<li><a href="https://juejin.im/post/5b7a8e796fb9a01a0717b2b9" target="_blank" rel="noopener">ã€Œè¯‘ã€å¦‚ä½•ç”¨ Node.Js å’Œ Puppeteer çˆ¬å–ç½‘é¡µ - æ˜é‡‘</a></li>
<li><a href="https://www.jianshu.com/p/873f0bb2c3e5" target="_blank" rel="noopener">æ‰‹åŠ¨ä¸‹è½½ Chromeï¼Œè§£å†³ puppeteer æ— æ³•ä½¿ç”¨é—®é¢˜ - ç®€ä¹¦</a></li>
</ul>
]]></content>
      <tags>
        <tag>æ•°æ®æŠ“å–</tag>
        <tag>Puppeteer</tag>
      </tags>
  </entry>
  <entry>
    <title>é€šè¿‡Dockeréƒ¨ç½²Nodejsé¡¹ç›®äº§ç”Ÿçš„ä¸€äº›æ€è€ƒ</title>
    <url>/2019/04/08/deploying-nodejs-applications-with-docker/</url>
    <content><![CDATA[<p>æœ€è¿‘é‡åˆ°åŠ¨æ€é¡µé¢æ•°æ®æŠ“å–çš„éœ€æ±‚ï¼Œæ‰€ä»¥æœ‰åœ¨ç ”ç©¶ <code>Puppeteer</code> çš„ä½¿ç”¨æ–¹æ³•ã€‚ä¸è¿‡ä¹‹å‰æ²¡æœ‰æ¥è§¦è¿‡ Nodejsï¼Œæ‰€ä»¥ä¹Ÿæ˜¯é€šè¿‡ç½‘ä¸Šçš„å‡ ç¯‡æ•™ç¨‹åœ¨ä¸æ–­çš„æ‘¸ç´¢å’Œæµ‹è¯•ä¸­ä¸€ç‚¹ç‚¹äº†è§£ã€‚</p>
<p>ä¹Ÿå¯ä»¥è¯´æ˜¯è‡ªå·±ä¹ æƒ¯äº†ä½†å‡¡é‡åˆ°ä¸€ä¸ªé¡¹ç›®éƒ½æƒ³è¦æŠŠå®ƒDockerå®¹å™¨åŒ–æ¥ä¾¿äºåç»­çš„æ“ä½œï¼Œä¹Ÿå°±é¡ºä¾¿ç ”ç©¶äº†ä¸€ä¸‹Nodejsé¡¹ç›®çš„DockeråŒ–éƒ¨ç½²ã€‚</p>
<p>æœŸé—´ä¸€äº›å°çš„æ€è€ƒï¼Œéšæ‰‹è®°å½•ä¸€ä¸‹ã€‚</p>
<h4 id="ç¬¬ä¸€ç‰ˆDockerfile"><a href="#ç¬¬ä¸€ç‰ˆDockerfile" class="headerlink" title="ç¬¬ä¸€ç‰ˆDockerfile"></a>ç¬¬ä¸€ç‰ˆDockerfile</h4><p>ä»ç½‘ä¸Šæœç´¢äº†ä¸€äº›é€šè¿‡dockeréƒ¨ç½²nodejsé¡¹ç›®çš„æ–‡ç« ï¼Œå…¶ä¸­å¤§éƒ¨åˆ†çš„ <code>Dockerfile</code> æ–‡ä»¶å†™æ³•éƒ½å¦‚ä¸‹é¢çš„æ–¹å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">FROM node:11-alpine</span><br><span class="line">LABEL maintainer&#x3D;&quot;leafney &lt;babycoolzx@126.com&gt;&quot;</span><br><span class="line"></span><br><span class="line"># è®¾ç½®å›½å†…é˜¿é‡Œäº‘é•œåƒç«™ã€å®‰è£…chromium 68ã€æ–‡æ³‰é©¿å…è´¹ä¸­æ–‡å­—ä½“ç­‰ä¾èµ–åº“</span><br><span class="line">RUN echo &quot;https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;alpine&#x2F;v3.9&#x2F;main&#x2F;&quot; &gt; &#x2F;etc&#x2F;apk&#x2F;repositories &amp;&amp; \</span><br><span class="line">    echo &quot;https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;alpine&#x2F;v3.9&#x2F;community&#x2F;&quot; &gt;&gt; &#x2F;etc&#x2F;apk&#x2F;repositories &amp;&amp; \</span><br><span class="line">    echo &quot;https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;alpine&#x2F;edge&#x2F;testing&#x2F;&quot; &gt;&gt; &#x2F;etc&#x2F;apk&#x2F;repositories &amp;&amp; \</span><br><span class="line">    apk -U --no-cache update &amp;&amp; \</span><br><span class="line">    apk -U --no-cache --allow-untrusted add tzdata chromium ttf-freefont wqy-zenhei ca-certificates &amp;&amp; \</span><br><span class="line">    ln -sf &#x2F;usr&#x2F;share&#x2F;zoneinfo&#x2F;Asia&#x2F;Shanghai &#x2F;etc&#x2F;localtime &amp;&amp; \</span><br><span class="line">    echo &quot;Asia&#x2F;Shanghai&quot; &gt; &#x2F;etc&#x2F;timezone &amp;&amp; \</span><br><span class="line">    mkdir -p &#x2F;logs &amp;&amp; \</span><br><span class="line">    rm -rf &#x2F;var&#x2F;cache&#x2F;apk&#x2F;*</span><br><span class="line"></span><br><span class="line">WORKDIR &#x2F;app</span><br><span class="line"></span><br><span class="line"># å¤åˆ¶å®¿ä¸»æœºå½“å‰è·¯å¾„ä¸‹æ‰€æœ‰æ–‡ä»¶åˆ°dockerçš„å·¥ä½œç›®å½•</span><br><span class="line">COPY . &#x2F;app</span><br><span class="line"></span><br><span class="line">RUN npm config set registry &#39;https:&#x2F;&#x2F;registry.npm.taobao.org&#39; &amp;&amp; \</span><br><span class="line">    yarn config set registry &#39;https:&#x2F;&#x2F;registry.npm.taobao.org&#39; &amp;&amp; \</span><br><span class="line">    yarn global add pm2 &amp;&amp; \</span><br><span class="line">    yarn install &amp;&amp; \</span><br><span class="line">    yarn cache clean</span><br><span class="line"></span><br><span class="line">VOLUME [&quot;&#x2F;logs&quot;]</span><br><span class="line"></span><br><span class="line"># Start pm2.json process file</span><br><span class="line">CMD [&quot;pm2-runtime&quot;, &quot;start&quot;, &quot;ecosystem.config.js&quot;]</span><br></pre></td></tr></table></figure>

<p>ä¸€èˆ¬çš„é¡¹ç›®ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">|-- node_app</span><br><span class="line">    -- src</span><br><span class="line">        -- index.js</span><br><span class="line">    -- package.json</span><br><span class="line">    -- ecosystem.config.js</span><br><span class="line">    -- Dockerfile</span><br></pre></td></tr></table></figure>

<p>æŒ‰ç…§ä¸Šé¢çš„ <code>Dockerfile</code> æ–‡ä»¶æ“ä½œæ­¥éª¤ï¼Œå…¶ä¸­å…³é”®çš„ä¸€æ­¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># å¤åˆ¶å®¿ä¸»æœºå½“å‰è·¯å¾„ä¸‹æ‰€æœ‰æ–‡ä»¶åˆ°dockerçš„å·¥ä½œç›®å½•</span><br><span class="line">COPY . &#x2F;app</span><br></pre></td></tr></table></figure>

<p>è¡¨ç¤ºå°† <code>node_app</code> é¡¹ç›®ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶æ‹·è´åˆ°äº†Dockeré•œåƒä¸­ï¼Œç„¶åæ‰§è¡Œ <code>yarn install</code> æ¥å®‰è£…æ‰€æœ‰ä¾èµ–åŒ…ï¼Œæœ€åé€šè¿‡ <code>pm2</code> å¯åŠ¨é¡¹ç›®ã€‚ä¹‹ååŸºäºè¯¥é•œåƒæ¥æ„å»ºå®¹å™¨ç›´æ¥è¿è¡Œå³å¯ã€‚</p>
<p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå½“æˆ‘çš„é¡¹ç›®ä»£ç æœ‰æ›´æ–°åéœ€è¦é‡æ–°ä¸Šçº¿æ–°ç‰ˆæœ¬æ—¶ï¼Œè¦å¦‚ä½•æ“ä½œå‘¢ï¼Ÿ</p>
<p>æŒ‰ç…§ä¸Šé¢çš„ <code>Dockerfile</code> ï¼Œæ“ä½œæ­¥éª¤åº”è¯¥æ˜¯ï¼š</p>
<ol>
<li>åœæ­¢å®¹å™¨ï¼Œåˆ é™¤å®¹å™¨</li>
<li>ä»gitæ‹‰å–æœ€æ–°é¡¹ç›®ä»£ç </li>
<li>é‡æ–° <code>docker build</code> é•œåƒï¼ŒåŒæ—¶æŠŠä»£ç æ‰“åŒ…åˆ°é•œåƒä¸­</li>
<li>é€šè¿‡æ–°é•œåƒåˆ›å»ºå®¹å™¨ï¼Œå¹¶å¯åŠ¨å®¹å™¨è¿è¡Œ</li>
</ol>
<p>è¿‡ç¨‹ä¼¼ä¹å¾ˆç®€å•ï¼Œä½†ç»†æƒ³ä¸€ä¸‹ï¼Œæ¯æ¬¡ä¸€æœ‰ä»£ç æ›´æ–°ï¼Œéƒ½éœ€è¦é‡æ–°æ¥æ„å»ºé•œåƒã€‚é‚£å¦‚æœæ¯æ¬¡çš„æ›´æ–°éƒ½æ˜¯ä¸€äº›æ¯”è¾ƒå°çš„æ”¹åŠ¨å‘¢ï¼Ÿç›¸æ¯”ä¹‹ä¸‹é‡æ–°æ„å»ºé•œåƒæ‰€è€—è´¹çš„æ—¶é—´å°±æ¯”è¾ƒé•¿äº†ã€‚</p>
<p>æ›´ä¸¥é‡çš„æ˜¯ï¼Œæ¯ä¸€æ¬¡é‡æ–°æ„å»ºé•œåƒï¼Œä¹‹å‰å¯ç”¨çš„é•œåƒå°±ç›´æ¥ä½œåºŸäº†ï¼Œå¦‚æœä¸åŠæ—¶åˆ é™¤ï¼Œä¼šå ç”¨å¾ˆå¤§çš„ç¡¬ç›˜ç©ºé—´ã€‚</p>
<p>åŸºäºä»¥ä¸Šè¯¸å¤šçš„é—®é¢˜ï¼Œæˆ‘ä»¬æ¥è€ƒè™‘å¦‚ä½•ä¼˜åŒ–ï¼Ÿ</p>
<hr>
<h4 id="ç¬¬äºŒç‰ˆDockerfile"><a href="#ç¬¬äºŒç‰ˆDockerfile" class="headerlink" title="ç¬¬äºŒç‰ˆDockerfile"></a>ç¬¬äºŒç‰ˆDockerfile</h4><p>é‚£ä¹ˆï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œç†æƒ³çŠ¶æ€çš„æ“ä½œåº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p>
<ol>
<li>åœæ­¢å®¹å™¨</li>
<li>ä»gitæ‹‰å–æœ€æ–°é¡¹ç›®ä»£ç </li>
<li>é‡å¯å®¹å™¨</li>
</ol>
<p>Thatâ€™t all! å°±æ˜¯è¿™ä¹ˆç®€å•ã€‚</p>
<p>æ“ä½œéå¸¸çš„ç®€å•æ˜äº†ï¼Œé‚£çœ‹ä¸€ä¸‹å¦‚ä½•ä¿®æ”¹ä¸Šé¢ç¬¬ä¸€ç‰ˆçš„ <code>Dockerfile</code> æ–‡ä»¶å§ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">FROM node:11-alpine</span><br><span class="line">LABEL maintainer&#x3D;&quot;leafney &lt;babycoolzx@126.com&gt;&quot;</span><br><span class="line"></span><br><span class="line"># åœ¨å›½å†…ç”±äºç½‘ç»œåŸå› ï¼Œè½¯ä»¶ä¸‹è½½æ¯”è¾ƒæ…¢ï¼Œæ‰€ä»¥åŠ å…¥äº†å›½å†…çš„è½¯ä»¶æºä»¥åŠ é€Ÿæ„å»º</span><br><span class="line"># è®¾ç½®å›½å†…é˜¿é‡Œäº‘é•œåƒç«™ï¼Œå®‰è£…chromiumã€æ–‡æ³‰é©¿å…è´¹ä¸­æ–‡å­—ä½“ç­‰ä¾èµ–åº“ï¼Œé…ç½®npmå’Œyarnçš„taobaoä»“åº“</span><br><span class="line"></span><br><span class="line">RUN echo &quot;https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;alpine&#x2F;v3.9&#x2F;main&#x2F;&quot; &gt; &#x2F;etc&#x2F;apk&#x2F;repositories &amp;&amp; \</span><br><span class="line">    echo &quot;https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;alpine&#x2F;v3.9&#x2F;community&#x2F;&quot; &gt;&gt; &#x2F;etc&#x2F;apk&#x2F;repositories &amp;&amp; \</span><br><span class="line">    echo &quot;https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;alpine&#x2F;edge&#x2F;testing&#x2F;&quot; &gt;&gt; &#x2F;etc&#x2F;apk&#x2F;repositories &amp;&amp; \</span><br><span class="line">    apk add -U --no-cache --allow-untrusted tzdata chromium ttf-freefont wqy-zenhei ca-certificates &amp;&amp; \</span><br><span class="line">    mkdir -p &#x2F;app &#x2F;logs &amp;&amp; \</span><br><span class="line">    npm config set registry &#39;https:&#x2F;&#x2F;registry.npm.taobao.org&#39; &amp;&amp; \</span><br><span class="line">    yarn config set registry &#39;https:&#x2F;&#x2F;registry.npm.taobao.org&#39; &amp;&amp; \</span><br><span class="line">    yarn global add pm2 &amp;&amp; \</span><br><span class="line">    yarn cache clean &amp;&amp; \</span><br><span class="line">    rm -rf &#x2F;var&#x2F;cache&#x2F;apk&#x2F;*</span><br><span class="line"></span><br><span class="line">COPY .&#x2F;startup.sh &#x2F;usr&#x2F;local&#x2F;bin&#x2F;</span><br><span class="line">RUN chmod +x usr&#x2F;local&#x2F;bin&#x2F;startup.sh</span><br><span class="line"></span><br><span class="line">WORKDIR &#x2F;app</span><br><span class="line">VOLUME [&quot;&#x2F;app&quot;]</span><br><span class="line"></span><br><span class="line">EXPOSE 8000</span><br><span class="line">CMD [ &quot;startup.sh&quot; ]</span><br></pre></td></tr></table></figure>

<p><code>startup.sh</code> :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;sh</span><br><span class="line">set -e</span><br><span class="line"></span><br><span class="line">WDir&#x3D;&#x2F;app</span><br><span class="line"></span><br><span class="line">if [ &quot;$(ls -A $&#123;WDir&#125;)&quot; ]; then</span><br><span class="line">    echo &quot;[i] ***** dir &#x2F;app have files,so start init. *****&quot;</span><br><span class="line"></span><br><span class="line">    echo &quot;[i] ***** yarn install *****&quot;</span><br><span class="line">    yarn install</span><br><span class="line">    </span><br><span class="line">    echo &quot;[i] ***** pm2 start *****&quot;</span><br><span class="line">    pm2-runtime start ecosystem.config.js</span><br><span class="line">else</span><br><span class="line">    echo &quot;[e] ***** dir &#x2F;app is empty,so can not run. *****&quot;</span><br><span class="line"></span><br><span class="line">    echo &quot;[i] ***** Please copy project files to VOLUME for &#x2F;app and then restart docker container *****&quot;</span><br><span class="line">    node</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<p>æ€»ä½“æ¥è¯´ï¼Œæ”¹åŠ¨çš„æ€è·¯å°±æ˜¯ï¼šå°†ä¸éœ€è¦å˜åŒ–çš„é‚£äº›æ“ä½œæ‰“åŒ…è¿›dockeré•œåƒä¸­ï¼Œè€Œéœ€è¦ç»å¸¸æ”¹åŠ¨çš„æ“ä½œå¦‚ æ›´æ–°é¡¹ç›®ä»£ç ï¼Œæ‰§è¡Œ <code>yarn install</code> å®‰è£…æ–°çš„ä¾èµ–åŒ…ç­‰ï¼Œéƒ½æ”¾åˆ° <code>startup.sh</code> ä¸­ã€‚è€Œå¯¹äºæ›´å¤æ‚çš„æ“ä½œï¼Œåç»­å¯ä»¥åŸºäºè¯¥é•œåƒç›´æ¥åšæ‰©å±•ã€‚</p>
<p>å¦å¤–ï¼Œè¿™é‡Œä½¿ç”¨ <code>yarn install</code> è€Œæ²¡æœ‰ç”¨ <code>npm install</code> çš„ä¸€ä¸ªä¼˜åŠ¿æ˜¯ å¦‚æœä½ çš„ <code>package.json</code> æ–‡ä»¶åœ¨æ›´æ–°æ—¶æ²¡æœ‰å˜åŒ–ï¼Œ<code>yarn install</code> ä¹Ÿåªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œåç»­çš„æ“ä½œéƒ½æ˜¯è¯»å–cacheç¼“å­˜äº†ï¼Œæ‰€ä»¥åç»­çš„ä»£ç æ›´æ–°æ“ä½œä¹Ÿå°±éå¸¸å¿«é€Ÿäº†ã€‚</p>
<p>å…·ä½“å…³äº <code>yarn</code> å’Œ <code>npm</code> çš„åŒºåˆ«ï¼Œè¿™é‡Œä¸å†è¯¦ç»†å±•å¼€è¯´æ˜ã€‚</p>
<hr>
<h4 id="è¿›ä¸€æ­¥ä¼˜åŒ–"><a href="#è¿›ä¸€æ­¥ä¼˜åŒ–" class="headerlink" title="è¿›ä¸€æ­¥ä¼˜åŒ–"></a>è¿›ä¸€æ­¥ä¼˜åŒ–</h4><p>ä¸Šé¢çš„æ“ä½œè™½è¯´å·²ç»å¾ˆç®€ä¾¿äº†ï¼Œä½†æ¯æ¬¡æ›´æ–°ä»£ç çš„æ—¶å€™è¿˜æ˜¯éœ€è¦é‡å¯ä¸€ä¸‹å®¹å™¨æ‰èƒ½åº”ç”¨ä¸Šæœ€æ–°çš„æ”¹åŠ¨ã€‚é‚£è¿˜æœ‰æ²¡æœ‰ä¼˜åŒ–çš„ç©ºé—´å‘¢ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯ å½“ç„¶ã€‚</p>
<p>ä¸€èˆ¬çš„Nodejsé¡¹ç›®æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>pm2</code> æ¥ç®¡ç†å’Œç›‘æ§è¿›ç¨‹ï¼Œä¿è¯nodeè¿›ç¨‹æŒç»­è¿è¡Œæˆ–å´©æºƒæ—¶è‡ªåŠ¨é‡å¯ã€‚è€Œ <code>pm2</code> çš„ <code>watch</code> å‚æ•°å¯ä»¥ç›‘å¬åº”ç”¨ç›®å½•çš„å˜åŒ–ï¼Œä¸€æ—¦å‘ç”Ÿå˜åŒ–ï¼Œå°±ä¼šè‡ªåŠ¨é‡å¯ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªåŠŸèƒ½æ¥å®ç°æ”¹åŠ¨ä»£ç çš„è‡ªåŠ¨æ›´æ–°æ•ˆæœã€‚</p>
<p>åœ¨ <code>pm2</code> çš„é…ç½®æ–‡ä»¶ä¸­å¢åŠ å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;watch&quot;: [&quot;server&quot;, &quot;client&quot;],</span><br><span class="line">  &quot;ignore_watch&quot; : [&quot;node_modules&quot;, &quot;client&#x2F;img&quot;],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>watch</code> å‚æ•°é»˜è®¤æƒ…å†µä¸‹ä¸º <code>false</code> ,å¯ä»¥è®¾ç½®éœ€è¦ç›‘å¬æ”¹åŠ¨çš„æ–‡ä»¶æˆ–ç›®å½•ã€‚åœ¨ <code>ignore_watch</code> å‚æ•°ä¸­è®¾ç½®æ’é™¤ç›‘å¬æ”¹åŠ¨çš„æ–‡ä»¶æˆ–ç›®å½•ã€‚</p>
<p>è¿™æ ·ï¼Œåªè¦ç›‘å¬åˆ°ä»£ç æœ‰æ”¹åŠ¨ï¼Œ<code>pm2</code> å°±ä¼šè‡ªåŠ¨é‡å¯ã€‚å¯¹äºé¡¹ç›®æ›´æ–°çš„æ“ä½œæˆ‘ä»¬éœ€è¦åšçš„ä¹Ÿå°±åªæœ‰ä¸€é¡¹ <strong>ä»gitæ‹‰å–æœ€æ–°é¡¹ç›®ä»£ç </strong> è€Œå·²äº†ã€‚</p>
<hr>
<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>å…¶å®æ— è®ºæ˜¯ç¬¬ä¸€ç§çš„æ¯æ¬¡ç”Ÿæˆé•œåƒè¿˜æ˜¯ç¬¬ä¸‰ç§æ›´åŠ çµæ´»çš„è‡ªåŠ¨é‡å¯ï¼Œå…·ä½“å¦‚ä½•åº”ç”¨è¿˜æ˜¯éœ€è¦çœ‹æ‰€å¯¹åº”çš„éœ€æ±‚è€Œè¨€çš„ï¼Œå¹¶ä¸èƒ½ä¸€å‘³çš„è¯„åˆ¤å­°ä¼˜å­°åŠ£ã€‚</p>
<p>æˆ‘å®ç°çš„Dockeré•œåƒåœ°å€ï¼š<a href="https://hub.docker.com/r/leafney/alpine-nodejs" target="_blank" rel="noopener">leafney/alpine-nodejs - Docker Hub</a></p>
<p>ç®€å•çš„å®ç°äº†ä¸€ä¸ªNodejsé¡¹ç›®çš„Dockeré•œåƒï¼Œå¦‚æœ‰è€ƒè™‘ä¸åˆ°çš„åœ°æ–¹ï¼Œæ¬¢è¿å¤§å®¶æå‡ºå»ºè®®å’Œè®¨è®ºã€‚</p>
<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="http://pm2.keymetrics.io/docs/usage/watch-and-restart/" target="_blank" rel="noopener">PM2 - Watch &amp; Restart</a></li>
</ul>
]]></content>
      <tags>
        <tag>Docker</tag>
        <tag>Nodejs</tag>
      </tags>
  </entry>
  <entry>
    <title>å…³äºPythonä¾èµ–åŒ…æ–‡ä»¶requirements</title>
    <url>/2019/03/22/requirements-for-python/</url>
    <content><![CDATA[<p>Pythoné¡¹ç›®ä¸­çš„ä¾èµ–åŒ…ä¸€èˆ¬é€šè¿‡ <code>requirements.txt</code> æ¥è®°å½•ã€‚</p>
<h4 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h4><p>ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬éƒ½æ˜¯é€šè¿‡å‘½ä»¤ <code>pip freeze &gt; requirements.txt</code> æ¥ç”Ÿæˆé¡¹ç›®ä¾èµ–æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">amqp&#x3D;&#x3D;2.4.2</span><br><span class="line">aniso8601&#x3D;&#x3D;6.0.0</span><br><span class="line">billiard&#x3D;&#x3D;3.5.0.5</span><br><span class="line">celery&#x3D;&#x3D;4.2.2</span><br><span class="line">certifi&#x3D;&#x3D;2019.3.9</span><br><span class="line">chardet&#x3D;&#x3D;3.0.4</span><br><span class="line">Click&#x3D;&#x3D;7.0</span><br><span class="line">Flask&#x3D;&#x3D;1.0.2</span><br><span class="line">Flask-RESTful&#x3D;&#x3D;0.3.7</span><br><span class="line">Flask-Script&#x3D;&#x3D;2.0.6</span><br><span class="line">idna&#x3D;&#x3D;2.8</span><br><span class="line">itsdangerous&#x3D;&#x3D;1.1.0</span><br><span class="line">Jinja2&#x3D;&#x3D;2.10</span><br><span class="line">kombu&#x3D;&#x3D;4.3.0</span><br><span class="line">MarkupSafe&#x3D;&#x3D;1.1.1</span><br><span class="line">pytz&#x3D;&#x3D;2018.9</span><br><span class="line">requests&#x3D;&#x3D;2.21.0</span><br><span class="line">six&#x3D;&#x3D;1.12.0</span><br><span class="line">urllib3&#x3D;&#x3D;1.24.1</span><br><span class="line">vine&#x3D;&#x3D;1.3.0</span><br><span class="line">Werkzeug&#x3D;&#x3D;0.15.0</span><br></pre></td></tr></table></figure>

<p>ä½†çœ‹åˆ°è¿™ä¹ˆå¤šçš„ä¾èµ–åŒ…ä¸ç¦è¦äº§ç”Ÿä¸€äº›ç–‘é—®äº†ï¼š<strong>éš¾é“è¿™äº›éƒ½æ˜¯æˆ‘è¿™ä¸ªé¡¹ç›®éœ€è¦çš„ä¾èµ–åŒ…å—ï¼Ÿï¼Ÿï¼Ÿ</strong></p>
<p>æŸ¥çœ‹å½“å‰ç¯å¢ƒä¸‹å®‰è£…çš„æ‰€æœ‰ä¾èµ–åŒ…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ pip list</span><br><span class="line">Package       Version </span><br><span class="line">------------- --------</span><br><span class="line">amqp          2.4.2   </span><br><span class="line">aniso8601     6.0.0   </span><br><span class="line">billiard      3.5.0.5 </span><br><span class="line">celery        4.2.2   </span><br><span class="line">certifi       2019.3.9</span><br><span class="line">chardet       3.0.4   </span><br><span class="line">Click         7.0     </span><br><span class="line">Flask         1.0.2   </span><br><span class="line">Flask-RESTful 0.3.7   </span><br><span class="line">Flask-Script  2.0.6   </span><br><span class="line">idna          2.8     </span><br><span class="line">itsdangerous  1.1.0   </span><br><span class="line">Jinja2        2.10    </span><br><span class="line">kombu         4.3.0   </span><br><span class="line">MarkupSafe    1.1.1   </span><br><span class="line">pip           19.0.3  </span><br><span class="line">pytz          2018.9  </span><br><span class="line">requests      2.21.0  </span><br><span class="line">setuptools    18.1    </span><br><span class="line">six           1.12.0  </span><br><span class="line">urllib3       1.24.1  </span><br><span class="line">vine          1.3.0   </span><br><span class="line">Werkzeug      0.15.0</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°æ˜¯ä¸€æ ·çš„ã€‚ä¹Ÿå°±æ˜¯è¯´é€šè¿‡ <code>pip freeze</code> ç”Ÿæˆçš„æ˜¯å½“å‰ç¯å¢ƒä¸‹çš„æ‰€æœ‰ä¾èµ–åŒ…ï¼Œè€Œä¸æ˜¯å½“å‰é¡¹ç›®æ‰€éœ€çš„ä¾èµ–åŒ…ã€‚</p>
<h4 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h4><p>è¦æƒ³ç”Ÿæˆå½“å‰é¡¹ç›®æ‰€éœ€çš„ä¾èµ–åŒ…æ–‡ä»¶åˆ—è¡¨ï¼Œå¯ä»¥é€šè¿‡ <code>pipreqs</code> æ¥å®ç°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ pip install pipreqs</span><br></pre></td></tr></table></figure>

<h5 id="å‘½ä»¤ä»‹ç»"><a href="#å‘½ä»¤ä»‹ç»" class="headerlink" title="å‘½ä»¤ä»‹ç»"></a>å‘½ä»¤ä»‹ç»</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ pipreqs --help</span><br><span class="line">pipreqs - Generate pip requirements.txt file based on imports</span><br><span class="line"></span><br><span class="line">Usage:</span><br><span class="line">    pipreqs [options] &lt;path&gt;</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">    --use-local           Use ONLY local package info instead of querying PyPI</span><br><span class="line">    --pypi-server &lt;url&gt;   Use custom PyPi server</span><br><span class="line">    --proxy &lt;url&gt;         Use Proxy, parameter will be passed to requests library. You can also just set the</span><br><span class="line">                          environments parameter in your terminal:</span><br><span class="line">                          $ export HTTP_PROXY&#x3D;&quot;http:&#x2F;&#x2F;10.10.1.10:3128&quot;</span><br><span class="line">                          $ export HTTPS_PROXY&#x3D;&quot;https:&#x2F;&#x2F;10.10.1.10:1080&quot;</span><br><span class="line">    --debug               Print debug information</span><br><span class="line">    --ignore &lt;dirs&gt;...    Ignore extra directories, each separated by a comma</span><br><span class="line">    --encoding &lt;charset&gt;  Use encoding parameter for file open</span><br><span class="line">    --savepath &lt;file&gt;     Save the list of requirements in the given file</span><br><span class="line">    --print               Output the list of requirements in the standard output</span><br><span class="line">    --force               Overwrite existing requirements.txt</span><br><span class="line">    --diff &lt;file&gt;         Compare modules in requirements.txt to project imports.</span><br><span class="line">    --clean &lt;file&gt;        Clean up requirements.txt by removing modules that are not imported in project.</span><br></pre></td></tr></table></figure>

<h5 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æŸ¥çœ‹å½“å‰é¡¹ç›®æ‰€æœ‰çš„ä¾èµ–åŒ…</span><br><span class="line">$ pipreqs --print .&#x2F;</span><br><span class="line"></span><br><span class="line"># è·å–å½“å‰é¡¹ç›®æ‰€éœ€çš„ä¾èµ–åŒ…å¹¶ä¿å­˜åˆ°é»˜è®¤çš„ requirements.txt </span><br><span class="line">$ pipreqs .&#x2F;</span><br><span class="line"></span><br><span class="line"># è·å–å½“å‰é¡¹ç›®æ‰€éœ€çš„ä¾èµ–åŒ…å¹¶ä¿å­˜åˆ°é»˜è®¤çš„ requirements.txt ï¼Œå¦‚æœå·²å­˜åœ¨åˆ™è¦†ç›–</span><br><span class="line">$ pipreqs --force .&#x2F;</span><br></pre></td></tr></table></figure>

<h4 id="ç»“æœ"><a href="#ç»“æœ" class="headerlink" title="ç»“æœ"></a>ç»“æœ</h4><p>ç”±äºæˆ‘çš„é¡¹ç›®ä¸‹å·²ç»é€šè¿‡ <code>freeze</code> å‘½ä»¤ç”Ÿæˆäº† <code>requirements.txt</code> æ–‡ä»¶ï¼Œæ‰€ä»¥éœ€è¦æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ pipreqs --force .&#x2F;</span><br></pre></td></tr></table></figure>

<p>ä¹‹åï¼Œå†æŸ¥çœ‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Flask_Script&#x3D;&#x3D;2.0.6</span><br><span class="line">Flask_RESTful&#x3D;&#x3D;0.3.7</span><br><span class="line">Flask&#x3D;&#x3D;1.0.2</span><br><span class="line">celery&#x3D;&#x3D;4.2.2</span><br></pre></td></tr></table></figure>

<p>è¿™æ‰æ˜¯å½“å‰é¡¹ç›®çœŸæ­£éœ€è¦çš„ä¾èµ–åŒ…ã€‚</p>
<h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ pip install -r requirements.txt</span><br></pre></td></tr></table></figure>

<hr>
<p>è¿™ç®—æ˜¯ä¸€ä¸ªå°çš„æ³¨æ„äº‹é¡¹å§ï¼</p>
]]></content>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>ç£¨åˆ€ä¸è¯¯ç æŸ´å·¥ -- Flutterå¼€å‘æŠ€å·§</title>
    <url>/2019/03/11/flutter-development-skills/</url>
    <content><![CDATA[<p>ä¸Šä¸€ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬é…ç½®å¥½äº†Flutterçš„å¼€å‘ç¯å¢ƒï¼Œå¯ä»¥é€‰æ‹© <code>VS Code</code>(ä»¥ä¸‹ç®€ç§°<code>VS</code>) æˆ– <code>Android Studio</code>(ä»¥ä¸‹ç®€ç§°<code>AS</code>) å…¶ä¸­ä»»æ„ä¸€æ¬¾å·¥å…·æ¥å¼€å‘ã€‚</p>
<p>ä¸‹é¢ï¼Œæˆ‘æ•´ç†äº†è¿™ä¸¤æ¬¾å·¥å…·ä¸­å¸¸ç”¨çš„å¿«æ·é”®åŠä¸€äº›æŠ€å·§ï¼Œä»¥å¸®åŠ©å¤§å®¶åœ¨å¼€å‘è¿‡ç¨‹ä¸­æé«˜æ•ˆç‡ã€‚</p>
<hr>
<h4 id="StatelessWidgetå’ŒStatefulWidget"><a href="#StatelessWidgetå’ŒStatefulWidget" class="headerlink" title="StatelessWidgetå’ŒStatefulWidget"></a>StatelessWidgetå’ŒStatefulWidget</h4><h5 id="å¿«é€Ÿåˆ›å»ºåŸºäºStatelessWidgetå’ŒStatefulWidgetçš„ç»„ä»¶"><a href="#å¿«é€Ÿåˆ›å»ºåŸºäºStatelessWidgetå’ŒStatefulWidgetçš„ç»„ä»¶" class="headerlink" title="å¿«é€Ÿåˆ›å»ºåŸºäºStatelessWidgetå’ŒStatefulWidgetçš„ç»„ä»¶"></a>å¿«é€Ÿåˆ›å»ºåŸºäºStatelessWidgetå’ŒStatefulWidgetçš„ç»„ä»¶</h5><p>åªéœ€è¦è¾“å…¥ <code>stless</code> å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªStatelessWidgetã€‚</p>
<p>åªéœ€è¦è¾“å…¥ <code>stful</code> å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªStatefulWidgetã€‚</p>
<table>
<thead>
<tr>
<th>åŠŸèƒ½</th>
<th>VS Code</th>
<th>Android Studio</th>
</tr>
</thead>
<tbody><tr>
<td>StatelessWidget</td>
<td><code>stless</code> + Tab</td>
<td><code>stless</code> + Tab / <code>stless</code> + Enter</td>
</tr>
<tr>
<td>StatefulWidget</td>
<td><code>stful</code> + Tab</td>
<td><code>stful</code> + Tab / <code>stful</code> + Enter</td>
</tr>
</tbody></table>
<h5 id="å°†-StatelessWidget-æ”¹æˆ-StatefulWidget"><a href="#å°†-StatelessWidget-æ”¹æˆ-StatefulWidget" class="headerlink" title="å°† StatelessWidget æ”¹æˆ StatefulWidget"></a>å°† StatelessWidget æ”¹æˆ StatefulWidget</h5><p>åœ¨ <code>AS</code> ä¸­ï¼Œå°†å…‰æ ‡æ”¾åœ¨ <code>StatelessWidget</code> ä¸Šï¼ŒæŒ‰ä½ <code>Alt+Enter</code> (in Mac is <code>Option+Enter</code>) ï¼Œç„¶åå•å‡» <code>Convert to StatefulWidget</code> å°†è‡ªåŠ¨è¿›è¡Œè½¬æ¢ã€‚</p>
<p>åœ¨ <code>VS Code</code> ä¸­ï¼Œå°†å…‰æ ‡æ”¾åœ¨ <code>StatelessWidget</code> ä¸Šï¼ŒæŒ‰ä½ <code>Ctrl + .</code> (in Mac is <code>Cmd + .</code>) ï¼Œç„¶åå•å‡» <code>Convert to StatefulWidget</code> å°†è‡ªåŠ¨è¿›è¡Œè½¬æ¢ã€‚</p>
<hr>
<h4 id="Alt-Enter-æ‰©å±•é€‰é¡¹"><a href="#Alt-Enter-æ‰©å±•é€‰é¡¹" class="headerlink" title="Alt+Enter æ‰©å±•é€‰é¡¹"></a>Alt+Enter æ‰©å±•é€‰é¡¹</h4><h5 id="AS"><a href="#AS" class="headerlink" title="AS"></a>AS</h5><ul>
<li>Win: <code>å•å‡»ä»»æ„ç»„ä»¶åç§° + Alt + Enter</code></li>
<li>Mac: <code>å•å‡»ä»»æ„ç»„ä»¶åç§° + Option + Enter</code></li>
</ul>
<h5 id="VS-Code"><a href="#VS-Code" class="headerlink" title="VS Code"></a>VS Code</h5><ul>
<li>Win: <code>å•å‡»ä»»æ„ç»„ä»¶åç§° + Ctrl + .</code></li>
<li>Mac: <code>å•å‡»ä»»æ„ç»„ä»¶åç§° + Command + .</code></li>
</ul>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190225205422.png" alt=""></p>
<hr>
<h4 id="å°†ä»£ç å—æå–åˆ°æ–¹æ³•ä¸­-Extract-Method"><a href="#å°†ä»£ç å—æå–åˆ°æ–¹æ³•ä¸­-Extract-Method" class="headerlink" title="å°†ä»£ç å—æå–åˆ°æ–¹æ³•ä¸­ Extract Method"></a>å°†ä»£ç å—æå–åˆ°æ–¹æ³•ä¸­ Extract Method</h4><p>æå–ä¸€æ®µä»£ç å—ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„æ–¹æ³•ã€‚å½“ä½ å‘ç°æŸä¸ªæ–¹æ³•é‡Œé¢è¿‡äºå¤æ‚ï¼Œéœ€è¦å°†æŸä¸€æ®µä»£ç æå–æˆå•ç‹¬çš„æ–¹æ³•æ—¶ï¼Œè¯¥æŠ€å·§æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚</p>
<h5 id="AS-1"><a href="#AS-1" class="headerlink" title="AS"></a>AS</h5><p>åœ¨ <code>AS</code> ä¸­ï¼Œ<code>é€‰ä¸­ä»£ç æ®µ</code> â€“ <code>Menu</code> â€“ <code>Refactor</code> â€“ <code>Extract</code> â€“ <code>Method...</code> ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190226122412.png" alt=""></p>
<p>å¯¹åº”çš„å¿«æ·é”®æ˜¯ï¼š<br>    * Win: <code>é€‰ä¸­ä»£ç æ®µ</code> + <code>Ctrl + Alt + M</code><br>    * Mac: <code>é€‰ä¸­ä»£ç æ®µ</code> + <code>Command + Option + M</code></p>
<ul>
<li><a href="https://blog.51cto.com/31329846/1845347" target="_blank" rel="noopener">æœ€å¼º Android Studio ä½¿ç”¨å°æŠ€å·§å’Œå¿«æ·é”®-è®¾è®¡å¸ˆ-51CTOåšå®¢</a></li>
</ul>
<hr>
<h5 id="VS-Code-1"><a href="#VS-Code-1" class="headerlink" title="VS Code"></a>VS Code</h5><p>åœ¨ <code>VS Code</code> ä¸­ï¼Œ<code>é€‰ä¸­ä»£ç æ®µ</code> â€“ <code>å³é”®èœå•</code> â€“ <code>é‡æ„...</code> â€“ <code>Extract Method</code> :</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190226120402.png" alt=""></p>
<p>å¯¹åº”çš„å¿«æ·é”®ï¼š<br>    * Win: <code>é€‰ä¸­ä»£ç æ®µ</code> + <code>Ctrl + .</code> + é€‰æ‹© <code>Extract Method</code><br>    * Mac: <code>é€‰ä¸­ä»£ç æ®µ</code> + <code>Command + .</code> + é€‰æ‹© <code>Extract Method</code></p>
<p>å‚è€ƒï¼š</p>
<ul>
<li><a href="https://dartcode.org/releases/v2-12/#extract-method-refactor" target="_blank" rel="noopener">v2.12 - Dart Code - Dart &amp; Flutter support for Visual Studio Code</a></li>
<li><a href="https://code.visualstudio.com/docs/editor/refactoring" target="_blank" rel="noopener">Refactoring source code in Visual Studio Code</a></li>
</ul>
<hr>
<h4 id="åŒ¹é…æ‹¬å·é«˜äº®"><a href="#åŒ¹é…æ‹¬å·é«˜äº®" class="headerlink" title="åŒ¹é…æ‹¬å·é«˜äº®"></a>åŒ¹é…æ‹¬å·é«˜äº®</h4><p>å½“ä»£ç é‡å¤šäº†ä¹‹åï¼Œæƒ³è¦æ‰¾åˆ°æŸä¸€éƒ¨åˆ†ä»£ç æ—¶ï¼Œé€šè¿‡åŒ¹é…çš„æ‹¬å·æ¥æ‰¾æ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ã€‚</p>
<h5 id="AS-2"><a href="#AS-2" class="headerlink" title="AS"></a>AS</h5><p>åœ¨ <code>AS</code> ä¸­ï¼Œé»˜è®¤æ”¯æŒåŒ¹é…æ‹¬å·é«˜äº®ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190226103153.png" alt=""></p>
<h5 id="VS-Code-2"><a href="#VS-Code-2" class="headerlink" title="VS Code"></a>VS Code</h5><p>åœ¨ VS Code ä¸­ï¼Œé»˜è®¤çš„æ‹¬å·åŒ¹é…æ¯”è¾ƒç®€å•ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190226104555.png" alt=""></p>
<p>å½“ä»£ç é‡å¤šäº†ä¹‹åï¼Œæ‰¾èµ·æ¥è®©äººçœ‹ç€æœ‰äº›çœ¼æ™•ã€‚</p>
<p>è¿™é‡Œï¼Œæ¨èä¸€ä¸ªæ¯”è¾ƒå¥½ç”¨çš„æ’ä»¶ï¼š<code>Bracket Pair Colorizer 2</code> :</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190226104555.png" alt=""></p>
<p>å®‰è£…ä¹‹åï¼Œç›¸é‚»çš„æ‹¬å·é¢œè‰²ä¸åŒï¼ŒåŒºåˆ†èµ·æ¥å¾ˆæ˜æ˜¾ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190226105411.png" alt=""></p>
<p>ä¸è¿‡ï¼Œè¿™é‡Œæˆ‘ä¸å¤ªå–œæ¬¢è‡ªå¸¦çš„è¿™ä¸ªåŒ¹é…çº¿ï¼Œæ‰€ä»¥æˆ‘å°±æŠŠå®ƒå»æ‰äº†ã€‚åœ¨è¯¥æ’ä»¶çš„å®˜æ–¹ä»‹ç»ä¸­ï¼Œå¯ä»¥çœ‹åˆ°æ˜¯é€šè¿‡ <code>&quot;bracket-pair-colorizer-2.showHorizontalScopeLine&quot;</code> ç±»ä¼¼çš„é€‰é¡¹å®šä¹‰çš„ï¼Œåœ¨ <code>ç”¨æˆ·è®¾ç½®</code> ä¸­å¯ä»¥å…³é—­è¿™äº›ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190226110223.png" alt=""></p>
<hr>
<h4 id="å¿«æ·é”®"><a href="#å¿«æ·é”®" class="headerlink" title="å¿«æ·é”®"></a>å¿«æ·é”®</h4><h5 id="AS-ä¸­å¿«æ·é”®"><a href="#AS-ä¸­å¿«æ·é”®" class="headerlink" title="AS ä¸­å¿«æ·é”®"></a>AS ä¸­å¿«æ·é”®</h5><p>æ ¼å¼åŒ–ä»£ç ï¼š<br>    * Win: <code>Ctrl +Alt + L</code><br>    * Mac: <code>Command + Option + L</code></p>
<p>å¿«é€Ÿé€‰ä¸­æ•´ä¸ªå°éƒ¨ä»¶ï¼š<br>    * Win: <code>åŒå‡»é€‰ä¸­éƒ¨ä»¶åç§° + Ctrl + W</code><br>    * Mac: <code>åŒå‡»é€‰ä¸­éƒ¨ä»¶åç§° + Option + Up</code></p>
<p>éƒ¨ä»¶æ“ä½œï¼ˆAlt + Enterï¼‰ï¼š<br>    * Win: <code>å•å‡»ä»»æ„ç»„ä»¶åç§° + Alt + Enter</code><br>    * Mac: <code>å•å‡»ä»»æ„ç»„ä»¶åç§° + Option + Enter</code></p>
<p>é‡å‘½åï¼š<br>    * <code>ç‚¹å‡»é€‰ä¸­ä»»æ„ç»„ä»¶åç§° + Shift + F6</code></p>
<p>æŸ¥çœ‹ç»„ä»¶æºç :<br>    * Win:<br>        * <code>Ctrl + Click</code><br>        * <code>Ctrl + B</code><br>        * <code>F4</code><br>        * <code>Ctrl + Enter</code><br>    * Mac:<br>        * <code>Command + Click</code><br>        * <code>Command + B</code><br>        * <code>F4</code><br>        * <code>Command + Down</code></p>
<p>æ³¨æ„ï¼šæˆ‘åªæ‰¾åˆ°äº†è·³è½¬è¿‡å»çš„å¿«æ·é”®ï¼Œä½†æ²¡æ‰¾åˆ°è·³è½¬å›æ¥çš„å¿«æ·é”®ã€‚</p>
<p>æŸ¥çœ‹ Widget åŒ…å«çš„å±æ€§ï¼š<br>    * Win: <code>å•å‡»ä»»æ„ç»„ä»¶åç§° + Ctrl + Shift + I</code><br>    * Mac: <code>å•å‡»ä»»æ„ç»„ä»¶åç§° + Command + Y</code></p>
<p>ç§»é™¤æ²¡ç”¨çš„ imports:<br>    * Win: <code>Ctrl + Alt + O</code><br>    * Mac: <code>Command + Option + O</code></p>
<p>ä¸Šä¸‹ç§»åŠ¨è¡Œï¼š<br>    * Win: <code>å•å‡»ä»»æ„è¡Œ + Alt + Shift + Up/Down</code><br>    * Mac: <code>å•å‡»ä»»æ„è¡Œ + Option + Shift + Up/Down</code></p>
<p>ä¸Šä¸‹ç§»åŠ¨æ–¹æ³•ï¼š<br>    * Win: <code>å•å‡»ä»»æ„æ–¹æ³•åç§° + Ctrl + Shift + Up/Down</code><br>    * Mac: <code>å•å‡»ä»»æ„æ–¹æ³•åç§° + Command + Shift + Up/Down</code></p>
<ul>
<li><a href="https://juejin.im/post/5c5d970e6fb9a049af6db7cd" target="_blank" rel="noopener">Flutterå¼€å‘ä¸­å¸¸ç”¨çš„å¿«æ·é”® - æ˜é‡‘</a></li>
<li><a href="http://w4mxl.github.io/2019/02/12/flutter-ide-shortcuts-for-fast-development/" target="_blank" rel="noopener">æå‡ Flutter å¼€å‘æ•ˆç‡çš„å¿«æ·é”® | Wmlâ€™Blog</a></li>
<li><a href="https://blog.51cto.com/31329846/1845347" target="_blank" rel="noopener">æœ€å¼º Android Studio ä½¿ç”¨å°æŠ€å·§å’Œå¿«æ·é”®-è®¾è®¡å¸ˆ-51CTOåšå®¢</a> <strong>â­ï¸â­ï¸â­ï¸</strong></li>
</ul>
<h5 id="VS-Code-ä¸­å¿«æ·é”®"><a href="#VS-Code-ä¸­å¿«æ·é”®" class="headerlink" title="VS Code ä¸­å¿«æ·é”®"></a>VS Code ä¸­å¿«æ·é”®</h5><p>æˆ‘ä»¬çŸ¥é“ VS Code çš„æ’ä»¶éå¸¸ä¸°å¯Œã€‚å…¶ä¸­ä¸€æ¬¾åä¸º <code>Awesome Flutter Snippets</code> ä¸ºæˆ‘ä»¬æ•´ç†äº†å¸¸ç”¨çš„æ–¹æ³•å’Œç»„ä»¶çš„å¿«æ·é”®æ“ä½œã€‚</p>
<hr>
<h4 id="VS-Code-è°ƒè¯•-Flutter"><a href="#VS-Code-è°ƒè¯•-Flutter" class="headerlink" title="VS Code è°ƒè¯• Flutter"></a>VS Code è°ƒè¯• Flutter</h4><h5 id="è°ƒè¯•"><a href="#è°ƒè¯•" class="headerlink" title="è°ƒè¯•"></a>è°ƒè¯•</h5><p>ç‚¹å‡» <code>F5</code> è¿›å…¥è°ƒè¯•æ¨¡å¼ã€‚<br>ç‚¹å‡» <code>Shift + F5</code> é€€å‡ºè°ƒè¯•æ¨¡å¼ã€‚</p>
<hr>
<h5 id="â€œHot-Reloadâ€-and-â€œHot-Restartâ€"><a href="#â€œHot-Reloadâ€-and-â€œHot-Restartâ€" class="headerlink" title="â€œHot Reloadâ€ and â€œHot Restartâ€"></a>â€œHot Reloadâ€ and â€œHot Restartâ€</h5><h6 id="è°ƒè¯•æ¨¡å¼ä¸‹"><a href="#è°ƒè¯•æ¨¡å¼ä¸‹" class="headerlink" title="è°ƒè¯•æ¨¡å¼ä¸‹"></a>è°ƒè¯•æ¨¡å¼ä¸‹</h6><p>Hot Reload:</p>
<p>ä¿å­˜åè‡ªåŠ¨é‡è½½<br>    * Win: <code>Ctrl + S</code><br>    * Mac: <code>Command + S</code></p>
<p>ç‚¹å‡»è°ƒè¯•èœå•ä¸­çš„ <code>é‡è½½æŒ‰é’®</code> æˆ–ä½¿ç”¨å¿«æ·é”®ï¼š<br>    * Win: <code>Ctrl + Shift + F5</code><br>    * Mac: <code>Command + Shift + F5</code></p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190225140010.png" alt=""></p>
<p>Hot Restart:<br>    * Win: <code>Ctrl + F5</code><br>    * Mac: <code>Control + F5</code></p>
<ul>
<li><a href="https://github.com/Dart-Code/Dart-Code/issues/754" target="_blank" rel="noopener">How to do full reload? Â· Issue #754 Â· Dart-Code/Dart-Code</a></li>
<li><a href="https://dartcode.org/docs/key-bindings/#debug-key-bindings" target="_blank" rel="noopener">Key Bindings - Dart Code - Dart &amp; Flutter support for Visual Studio Code</a></li>
</ul>
<hr>
<h6 id="å‘½ä»¤æ¨¡å¼ä¸‹"><a href="#å‘½ä»¤æ¨¡å¼ä¸‹" class="headerlink" title="å‘½ä»¤æ¨¡å¼ä¸‹"></a>å‘½ä»¤æ¨¡å¼ä¸‹</h6><p>Hot Reload:<br>    * åœ¨å‘½ä»¤çª—å£è¾“å…¥ <code>r</code></p>
<p>Hot Restart:<br>    * åœ¨å‘½ä»¤çª—å£è¾“å…¥ <code>R</code></p>
<hr>
<h4 id="ä»£ç è‡ªåŠ¨æ ¼å¼åŒ–"><a href="#ä»£ç è‡ªåŠ¨æ ¼å¼åŒ–" class="headerlink" title="ä»£ç è‡ªåŠ¨æ ¼å¼åŒ–"></a>ä»£ç è‡ªåŠ¨æ ¼å¼åŒ–</h4><h5 id="AS-æˆ–-IntelliJ-IDE"><a href="#AS-æˆ–-IntelliJ-IDE" class="headerlink" title="AS æˆ– IntelliJ IDE"></a>AS æˆ– IntelliJ IDE</h5><h6 id="æ‰‹åŠ¨æ‰§è¡Œ"><a href="#æ‰‹åŠ¨æ‰§è¡Œ" class="headerlink" title="æ‰‹åŠ¨æ‰§è¡Œ"></a>æ‰‹åŠ¨æ‰§è¡Œ</h6><p>åœ¨ä»£ç çª—å£ä¸­ï¼Œå³é”®å•å‡»ä»£ç çª—å£å¹¶é€‰æ‹© <code>Reformat code with dartfmt</code> èœå•ï¼Œå®ç°è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç ã€‚</p>
<p>ç›¸åº”çš„å¿«æ·é”®ï¼š<br>    * Win: <code>Ctrl + Alt + L</code><br>    * Mac: <code>Command + Option + L</code></p>
<h6 id="è‡ªåŠ¨æ‰§è¡Œ"><a href="#è‡ªåŠ¨æ‰§è¡Œ" class="headerlink" title="è‡ªåŠ¨æ‰§è¡Œ"></a>è‡ªåŠ¨æ‰§è¡Œ</h6><p>é€‰æ‹©èœå• <code>Android Studio</code> â€“ <code>Preferences</code> â€“ æœç´¢ <code>flutter</code> â€“ åœ¨ <code>Languages &amp; Frameworks</code> ä¸­çš„ <code>Flutter</code> å³ä¾§ç•Œé¢ä¸­ï¼Œæ‰¾åˆ° <code>General</code> é€‰é¡¹ã€‚</p>
<p>å‹¾é€‰ <code>Format code on save</code> ä¸€é¡¹ã€‚ä¹Ÿå¯ä»¥å°†å­é¡¹ <code>Organize imports on save</code> åŒæ—¶é€‰ä¸­ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190225202632.png" alt=""></p>
<p>è¿™é‡Œæˆ‘ä½¿ç”¨çš„ <code>Android Studio</code> ç‰ˆæœ¬ä¸º <code>Android Studio 3.3.1</code> ã€‚å…¶ä»–ç‰ˆæœ¬å¯èƒ½ä½ç½®æœ‰å˜åŒ–ã€‚</p>
<hr>
<h5 id="VS-Code-3"><a href="#VS-Code-3" class="headerlink" title="VS Code"></a>VS Code</h5><h6 id="æ‰‹åŠ¨æ‰§è¡Œ-1"><a href="#æ‰‹åŠ¨æ‰§è¡Œ-1" class="headerlink" title="æ‰‹åŠ¨æ‰§è¡Œ"></a>æ‰‹åŠ¨æ‰§è¡Œ</h6><p>åœ¨ <code>VS Code</code> ä»£ç ç•Œé¢ä¸­ï¼Œå³é”®å•å‡»ä»£ç çª—å£å¹¶é€‰æ‹© <code>Format Documentï¼ˆæ ¼å¼åŒ–æ–‡æ¡£ï¼‰</code> èœå•ï¼Œå®ç°è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç ã€‚</p>
<p>ç›¸åº”çš„å¿«æ·é”®ï¼š<br>    * Win: <code>Alt + Shift + F</code><br>    * Mac: <code>Option + Shift + F</code></p>
<h6 id="è‡ªåŠ¨æ‰§è¡Œ-1"><a href="#è‡ªåŠ¨æ‰§è¡Œ-1" class="headerlink" title="è‡ªåŠ¨æ‰§è¡Œ"></a>è‡ªåŠ¨æ‰§è¡Œ</h6><p>ç›¸æ¯”èµ·æ‰‹åŠ¨æ‰§è¡Œçš„æ–¹å¼ï¼Œæ›´å¤šäººéƒ½ä¼šé€‰æ‹©é€šè¿‡åœ¨ä¿å­˜æ–‡æ¡£æ—¶æ¥å®ç°ä»£ç çš„è‡ªåŠ¨æ ¼å¼åŒ–ã€‚</p>
<p>åœ¨ <code>VS Code</code> ç•Œé¢ä¸­ï¼Œé€šè¿‡å¿«æ·é”® <code>Ctrl + ,</code> ( <code>Command + ,</code> in Mac) æ‰“å¼€ <code>è®¾ç½®</code> çª—å£ï¼Œæˆ–è€…é€šè¿‡ <code>æ–‡ä»¶</code> â€“ <code>é¦–é€‰é¡¹</code> â€“ <code>è®¾ç½®</code>ï¼ˆ <code>Code</code> â€“ <code>é¦–é€‰é¡¹</code> â€“ <code>è®¾ç½®</code> in Macï¼‰ æ‰“å¼€ <code>è®¾ç½®</code> çª—å£ã€‚åœ¨æœç´¢æ ä¸­è¾“å…¥ <code>edit:formatonsave</code> æ‰“å¼€è®¾ç½®ç•Œé¢ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190225194726.png" alt=""></p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨ä¿å­˜æ–‡ä»¶æ—¶ä¸ä¼šè‡ªåŠ¨æ ¼å¼åŒ–æ–‡ä»¶ã€‚</p>
<p>å½“å‹¾é€‰è¿™ä¸€é¡¹åï¼Œè¡¨ç¤ºåœ¨æ ¼å¼åŒ–ç¨‹åºå¯ç”¨çš„å‰æä¸‹ï¼Œä¿å­˜æ–‡ä»¶æ—¶ä¼šè‡ªåŠ¨æ ¼å¼åŒ–ã€‚</p>
<p>ä¹Ÿå¯ä»¥é€‰æ‹©ä¸‹é¢çš„ <code>åœ¨ settings.json ä¸­ç¼–è¾‘</code> ä¸€é¡¹ï¼Œæ¥è‡ªå®šä¹‰è¯¥é¡¹ã€‚</p>
<p>å½“å‹¾é€‰ä¸Šé¢çš„é€‰é¡¹åï¼Œé»˜è®¤æ˜¯åœ¨ <code>settings.json</code> ä¸­æ·»åŠ äº†ä¸€è¡Œ:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;editor.formatOnSave&quot;: true,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é»˜è®¤ä¸º <code>false</code>ã€‚</p>
<h6 id="ä¸ªæ€§åŒ–è®¾ç½®"><a href="#ä¸ªæ€§åŒ–è®¾ç½®" class="headerlink" title="ä¸ªæ€§åŒ–è®¾ç½®"></a>ä¸ªæ€§åŒ–è®¾ç½®</h6><p>æ¯”å¦‚ï¼Œæˆ‘æƒ³åªåœ¨ <code>Dart</code> ä»£ç ä¸­å®ç°ä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–çš„æ“ä½œï¼Œé‚£ä¹ˆå¯ä»¥è¿™æ ·æ¥è®¾ç½®ï¼šç¼–è¾‘ <code>settings.json</code> æ–‡ä»¶ï¼Œå¢åŠ å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;editor.formatOnSave&quot;: false,</span><br><span class="line">    &quot;[dart]&quot;:&#123;</span><br><span class="line">        &quot;editor.formatOnSave&quot;: true,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å†æ¯”å¦‚ï¼Œæˆ‘æƒ³åœ¨æ‰€æœ‰è¯­è¨€ä¸‹éƒ½æ”¯æŒä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–çš„æ“ä½œï¼Œä½†åªåœ¨ <code>javascript</code> ä»£ç ä¸­ä¸æ”¯æŒä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–çš„åŠŸèƒ½ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡å¦‚ä¸‹çš„æ–¹å¼æ¥è®¾ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;editor.formatOnSave&quot;: true,</span><br><span class="line">    &quot;[javascript]&quot;: &#123;</span><br><span class="line">        &quot;editor.formatOnSave&quot;: false,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯è§ï¼Œ<code>VS Code</code> çš„è®¾ç½®æ˜¯éå¸¸çµæ´»çš„ã€‚</p>
<h5 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h5><ul>
<li><a href="https://flutterchina.club/formatting/" target="_blank" rel="noopener">æ ¼å¼åŒ–Flutterä»£ç  - Flutterä¸­æ–‡ç½‘</a></li>
</ul>
<hr>
<p>è‡³æ­¤ï¼Œå…³äºå·¥å…·çš„ä¸€äº›ä½¿ç”¨æŠ€å·§ä¹Ÿå°±ä»‹ç»å®Œäº†ã€‚</p>
]]></content>
      <categories>
        <category>Flutterä¹‹æ—…</category>
      </categories>
      <tags>
        <tag>Flutter</tag>
      </tags>
  </entry>
  <entry>
    <title>å…µé©¬æœªåŠ¨ï¼Œç²®è‰å…ˆè¡Œ -- Flutterå¼€å‘ç¯å¢ƒé…ç½®</title>
    <url>/2019/03/08/flutter-development-environment-configuration/</url>
    <content><![CDATA[<p>å¯¹äºFlutterå¼€å‘ç¯å¢ƒçš„é…ç½®ï¼Œå®˜æ–¹ç½‘ç«™ <a href="https://flutter.dev/docs/get-started/install" target="_blank" rel="noopener">Install - Flutter</a> ä¸­å·²ç»ä»‹ç»çš„éå¸¸è¯¦ç»†äº†ï¼Œåªè¦æŒ‰ç…§æ­¥éª¤æ¥æ“ä½œå³å¯ã€‚</p>
<p>æˆ‘ä¹Ÿæ˜¯æŒ‰ç…§å®˜æ–¹çš„æ•™ç¨‹æ¥æ“ä½œçš„ï¼Œè¿™é‡Œåªæ˜¯åšä¸€ä¸ªè®°å½•ã€‚å¦å¤–ï¼Œæˆ‘çš„æ“ä½œå¹¶ä¸æ˜¯å®Œå…¨æŒ‰ç…§å®˜æ–¹çš„æµç¨‹æ¥çš„ï¼Œè¿™é‡Œä¹Ÿä»…ä»…æ˜¯ç»™å„ä½åšä¸€ä¸ªå‚è€ƒã€‚</p>
<hr>
<h4 id="å…³äºç³»ç»Ÿ"><a href="#å…³äºç³»ç»Ÿ" class="headerlink" title="å…³äºç³»ç»Ÿ"></a>å…³äºç³»ç»Ÿ</h4><p>æˆ‘çš„ç”µè„‘æ˜¯ Macï¼Œç³»ç»Ÿç‰ˆæœ¬ä¸º <code>macOS Mojave 10.14.3</code>ã€‚</p>
<h4 id="é…ç½®Flutter-SDK"><a href="#é…ç½®Flutter-SDK" class="headerlink" title="é…ç½®Flutter SDK"></a>é…ç½®Flutter SDK</h4><p>æˆ‘å®‰è£…çš„æ—¶å€™Flutterçš„ç‰ˆæœ¬è¿˜æ˜¯ <code>v1.0.0</code> ï¼Œä»Šå¤©çœ‹å·²ç»æ›´æ–°åˆ° <code>v1.2.1</code> äº†ã€‚ä¸å¾—ä¸è¯´Flutterçš„æ›´æ–°æ˜¯çœŸç»™åŠ›ã€‚</p>
<h5 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h5><p>ä»ç½‘ç«™åœ°å€ <a href="https://flutter.dev/docs/get-started/install/macos" target="_blank" rel="noopener">MacOS install - Flutter</a> ä¸‹è½½ <code>Flutter SDK</code> å®‰è£…åŒ…ã€‚</p>
<p>æˆ‘å°† <code>flutter sdk</code> å®‰è£…åœ¨ <code>~/sdk</code> (æˆ–è€…å†™æˆ <code>$HOME/sdk</code>) ç›®å½•ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd ~&#x2F;sdk</span><br><span class="line">$ unzip ~&#x2F;Downloads&#x2F;flutter_macos_v1.0.0-stable.zip</span><br></pre></td></tr></table></figure>

<h5 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h5><p>æ·»åŠ  <code>flutter</code> ç›¸å…³å·¥å…·åˆ°ç¯å¢ƒå˜é‡ <code>path</code> ä¸­:</p>
<p>ç¼–è¾‘ <code>$HOME/.bash_profile</code> æ–‡ä»¶ï¼Œåœ¨åº•éƒ¨æ·»åŠ å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export PATH&#x3D;&quot;$PATH:[PATH_TO_FLUTTER_GIT_DIRECTORY]&#x2F;flutter&#x2F;bin&quot;</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­çš„ <code>[PATH_TO_FLUTTER_GIT_DIRECTORY]</code> è¡¨ç¤ºä½ è§£å‹ <code>flutter sdk</code> çš„ç›®å½•ï¼Œæˆ‘è¿™é‡Œå°±æ˜¯ <code>~/sdk</code>ã€‚å³ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export PATH&#x3D;&quot;$PATH:~&#x2F;sdk&#x2F;flutter&#x2F;bin&quot;</span><br></pre></td></tr></table></figure>

<hr>
<p>å¦å¤–ï¼Œåœ¨å›½å†…ç”±äº <code>ä¼—æ‰€å‘¨çŸ¥</code> çš„åŸå› ï¼Œè¿˜éœ€è¦è®¾ç½®ä¸€ä¸‹pubæºï¼Œç”¨ä»¥ä¸‹è½½ç›¸å…³çš„ä¾èµ–æ–‡ä»¶ã€‚å…¶ä¸­ <code>PUB_HOSTED_URL</code> å’Œ <code>FLUTTER_STORAGE_BASE_URL</code> æ˜¯googleä¸ºå›½å†…å¼€å‘è€…æ­å»ºçš„ä¸´æ—¶é•œåƒã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export PUB_HOSTED_URL&#x3D;https:&#x2F;&#x2F;pub.flutter-io.cn</span><br><span class="line">export FLUTTER_STORAGE_BASE_URL&#x3D;https:&#x2F;&#x2F;storage.flutter-io.cn</span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥ï¼Œéœ€è¦æ·»åŠ çš„å°±æ˜¯ä¸Šé¢çš„ä¸‰æ¡å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export PUB_HOSTED_URL&#x3D;https:&#x2F;&#x2F;pub.flutter-io.cn</span><br><span class="line">export FLUTTER_STORAGE_BASE_URL&#x3D;https:&#x2F;&#x2F;storage.flutter-io.cn</span><br><span class="line">export PATH&#x3D;[PATH_TO_FLUTTER_GIT_DIRECTORY]&#x2F;flutter&#x2F;bin:$PATH</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ <code>PATH_TO_FLUTTER_GIT_DIRECTORY</code> ä¸ºä½  <code>flutter sdk</code> çš„è·¯å¾„ã€‚å¦‚æˆ‘è¿™é‡Œå°±æ˜¯æ”¹æˆ(æ¨èç”¨è¿™ç§æ–¹å¼)ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export PATH&#x3D;$HOME&#x2F;sdk&#x2F;flutter&#x2F;bin:$PATH</span><br></pre></td></tr></table></figure>

<p>åˆ·æ–°bash:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ source $HOME&#x2F;.bash_profile</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½¿ç”¨çš„æ˜¯ <code>zsh</code> ï¼Œåˆ™æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ source $HOME&#x2F;.zshrc</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">echo $PATH</span><br></pre></td></tr></table></figure>

<p>éªŒè¯æ˜¯å¦é…ç½®æˆåŠŸï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">flutter -h</span><br></pre></td></tr></table></figure>

<p><strong>2019-10-20 æ›´æ–°</strong>ï¼šæœ€è¿‘åœ¨å®‰è£…æœ€æ–°çš„ <code>flutter_1.9.1</code> ç‰ˆæœ¬æ—¶å‘ç°ï¼Œé…ç½®å¥½ä¸Šé¢çš„ç¯å¢ƒå˜é‡åï¼Œç¬¬ä¸€æ¬¡è¿è¡Œ <code>flutter -h</code> ä¸ä¼šç«‹å³æ˜¾ç¤ºå‡ºä¸‹é¢çš„ç»“æœï¼Œå°±æ˜¯æˆ‘ä»¬é€šå¸¸æ‰€è¯´çš„ <code>å¡ä½äº†</code> ã€‚è§‚å¯Ÿå‘ç°åœ¨ç¬¬ä¸€æ¬¡æ‰§è¡Œ <code>flutter -h</code> å‘½ä»¤çš„æ—¶å€™ä¼šå»æ‰§è¡Œä¸€äº›åå°çš„æ“ä½œ(æ¯”å¦‚git)ï¼Œæ‰€ä»¥<strong>ç¬¬ä¸€æ¬¡</strong>æ‰§è¡Œçš„æ—¶å€™ä¼šéœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´ã€‚</p>
<p>è¿™ä¸ªæ—¶å€™åº”è¯¥èƒ½å±•ç¤ºflutterçš„å‘½ä»¤å¸®åŠ©ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190223120927.png" alt=""></p>
<hr>
<h4 id="æ£€æŸ¥flutterç¯å¢ƒ"><a href="#æ£€æŸ¥flutterç¯å¢ƒ" class="headerlink" title="æ£€æŸ¥flutterç¯å¢ƒ"></a>æ£€æŸ¥flutterç¯å¢ƒ</h4><p>åœ¨å®‰è£…ç¯å¢ƒçš„è¿‡ç¨‹ä¸­ï¼ŒFlutterå®˜æ–¹æä¾›äº†ä¸€ä¸ªä¾èµ–æ£€æŸ¥çš„å‘½ä»¤ <code>flutter doctor</code> ï¼Œå¯ä»¥æŸ¥çœ‹åˆ°å“ªäº›ä¾èµ–é¡¹æˆ–ç¨‹åºæ²¡æœ‰å®‰è£…æˆåŠŸã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ flutter doctor</span><br></pre></td></tr></table></figure>

<p>å¦å¤–ï¼Œè¯¥å‘½ä»¤çš„ <code>-v</code> é€‰é¡¹åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¹Ÿéå¸¸æœ‰å¸®åŠ©ï¼Œæ‰§è¡Œ <code>flutter doctor -v</code> æŸ¥çœ‹ã€‚</p>
<p><strong>ç¬¬ä¸€æ¬¡è¿è¡Œæ—¶é—´ä¼šæœ‰ç‚¹é•¿</strong>(æ‰€ä»¥ã€‚ã€‚ã€‚å¦‚æœçœ‹åˆ°æ²¡ååº”çš„è¯åƒä¸‡åˆ«æ…Œï¼Œç­‰ç­‰å°±å¥½äº†ï¼›å¦å¤–ï¼Œå¦‚æœä½ æ˜¯å®‰è£…æœ€æ–°çš„flutterç‰ˆæœ¬ï¼Œåœ¨æ‰§è¡Œ <code>flutter -h</code> æ—¶<code>å¡ä½äº†</code>ï¼Œé‚£ä¹ˆåœ¨æ‰§è¡Œ <code>flutter doctor</code> æ—¶åˆ™ä¸ä¼šäº†)ï¼Œå®ƒä¼šå»ä¸‹è½½ç›¸å…³çš„ä¾èµ–é¡¹å¹¶è‡ªè¡Œç¼–è¯‘ã€‚æ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ flutter doctor</span><br><span class="line">Doctor summary (to see all details, run flutter doctor -v):</span><br><span class="line">[âœ“] Flutter (Channel stable, v1.0.0, on Mac OS X 10.14.3 18D109, locale zh-Hans-CN)</span><br><span class="line">[!] Android toolchain - develop for Android devices</span><br><span class="line">    âœ— No valid Android SDK platforms found in &#x2F;usr&#x2F;local&#x2F;Caskroom&#x2F;android-platform-tools&#x2F;latest&#x2F;platforms. Directory was</span><br><span class="line">      empty.</span><br><span class="line">[!] iOS toolchain - develop for iOS devices (Xcode 10.1)</span><br><span class="line">    âœ— Xcode requires additional components to be installed in order to run.</span><br><span class="line">      Launch Xcode and install additional required components when prompted.</span><br><span class="line">    âœ— libimobiledevice and ideviceinstaller are not installed. To install with Brew, run:</span><br><span class="line">        brew update</span><br><span class="line">        brew install --HEAD usbmuxd</span><br><span class="line">        brew link usbmuxd</span><br><span class="line">        brew install --HEAD libimobiledevice</span><br><span class="line">        brew install ideviceinstaller</span><br><span class="line">    âœ— ios-deploy not installed. To install with Brew:</span><br><span class="line">        brew install ios-deploy</span><br><span class="line">    âœ— CocoaPods not installed.</span><br><span class="line">        CocoaPods is used to retrieve the iOS platform side&#39;s plugin code that responds to your plugin usage on the Dart</span><br><span class="line">        side.</span><br><span class="line">        Without resolving iOS dependencies with CocoaPods, plugins will not work on iOS.</span><br><span class="line">        For more info, see https:&#x2F;&#x2F;flutter.io&#x2F;platform-plugins</span><br><span class="line">      To install:</span><br><span class="line">        brew install cocoapods</span><br><span class="line">        pod setup</span><br><span class="line">[!] Android Studio (not installed)</span><br><span class="line">[!] VS Code (version 1.31.1)</span><br><span class="line">[!] Connected device</span><br><span class="line">    ! No devices available</span><br><span class="line"></span><br><span class="line">! Doctor found issues in 5 categories.</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä¸Šé¢çš„æç¤ºä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ° <code>Android toolchain</code> æˆ– <code>iOS toolchain</code> æ˜¯å¿…é¡»å®‰è£…å…¶ä¸€çš„ã€‚è¿™é‡Œæˆ‘æ˜¯éƒ½è¦å®‰è£…ï¼Œæ¯•ç«Ÿä¸¤ä¸ªå¹³å°éƒ½æƒ³è¦ä½“éªŒä¸€ä¸‹çš„ã€‚</p>
<p>å¼€å‘å·¥å…·å‘¢é™¤äº†ä¹‹å‰ <code>å®˜æ–¹</code> çš„ <code>Android Studio</code> å’Œ <code>XCode</code> ä¹‹å‰ï¼ŒFlutteréå¸¸æ¨èé€šè¿‡è½»é‡çº§çš„ <code>VS Code</code> æ¥è¿›è¡Œå¼€å‘ã€‚</p>
<hr>
<h4 id="é…ç½®VS-Code"><a href="#é…ç½®VS-Code" class="headerlink" title="é…ç½®VS Code"></a>é…ç½®VS Code</h4><p>å®‰è£…VS Code ,å®‰è£…1.20.1æˆ–æ›´é«˜ç‰ˆæœ¬.</p>
<h5 id="å®‰è£…Flutteræ’ä»¶"><a href="#å®‰è£…Flutteræ’ä»¶" class="headerlink" title="å®‰è£…Flutteræ’ä»¶"></a>å®‰è£…Flutteræ’ä»¶</h5><ol>
<li>å¯åŠ¨ <code>VS Code</code></li>
<li>è°ƒç”¨ <code>View &gt; Command Paletteâ€¦</code></li>
<li>è¾“å…¥ <code>install</code>, ç„¶åé€‰æ‹© <code>Extensions: Install Extension action</code></li>
<li>åœ¨æœç´¢æ¡†è¾“å…¥ <code>flutter</code> , åœ¨æœç´¢ç»“æœåˆ—è¡¨ä¸­é€‰æ‹© <code>Flutter</code>, ç„¶åç‚¹å‡» <code>Install</code>(ä¼šè‡ªåŠ¨é™„å¸¦å®‰è£…å¥½ <code>Dart</code> æ’ä»¶)</li>
<li>é€‰æ‹© <code>OK</code> é‡æ–°å¯åŠ¨ <code>VS Code</code></li>
</ol>
<h5 id="é€šè¿‡Flutter-DoctoréªŒè¯æ‚¨çš„è®¾ç½®"><a href="#é€šè¿‡Flutter-DoctoréªŒè¯æ‚¨çš„è®¾ç½®" class="headerlink" title="é€šè¿‡Flutter DoctoréªŒè¯æ‚¨çš„è®¾ç½®"></a>é€šè¿‡Flutter DoctoréªŒè¯æ‚¨çš„è®¾ç½®</h5><ol>
<li>è°ƒç”¨ <code>View &gt; Command Paletteâ€¦</code></li>
<li>è¾“å…¥ <code>doctor</code>, ç„¶åé€‰æ‹© <code>Flutter: Run Flutter Doctor</code> é€‰é¡¹</li>
<li>æŸ¥çœ‹ â€œOUTPUTâ€ çª—å£ä¸­çš„è¾“å‡ºæ˜¯å¦æœ‰é—®é¢˜</li>
</ol>
<p>è¿è¡Œ <code>flutter doctor</code> æŸ¥çœ‹ç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ flutter doctor</span><br><span class="line">Doctor summary (to see all details, run flutter doctor -v):</span><br><span class="line">[âœ“] Flutter (Channel stable, v1.0.0, on Mac OS X 10.14.3 18D109, locale zh-Hans-CN)</span><br><span class="line">[!] Android toolchain - develop for Android devices</span><br><span class="line">    âœ— No valid Android SDK platforms found in &#x2F;usr&#x2F;local&#x2F;Caskroom&#x2F;android-platform-tools&#x2F;latest&#x2F;platforms. Directory was</span><br><span class="line">      empty.</span><br><span class="line">[!] iOS toolchain - develop for iOS devices (Xcode 10.1)</span><br><span class="line">    âœ— libimobiledevice and ideviceinstaller are not installed. To install with Brew, run:</span><br><span class="line">        brew update</span><br><span class="line">        brew install --HEAD usbmuxd</span><br><span class="line">        brew link usbmuxd</span><br><span class="line">        brew install --HEAD libimobiledevice</span><br><span class="line">        brew install ideviceinstaller</span><br><span class="line">    âœ— ios-deploy not installed. To install with Brew:</span><br><span class="line">        brew install ios-deploy</span><br><span class="line">    âœ— CocoaPods not installed.</span><br><span class="line">        CocoaPods is used to retrieve the iOS platform side&#39;s plugin code that responds to your plugin usage on the Dart</span><br><span class="line">        side.</span><br><span class="line">        Without resolving iOS dependencies with CocoaPods, plugins will not work on iOS.</span><br><span class="line">        For more info, see https:&#x2F;&#x2F;flutter.io&#x2F;platform-plugins</span><br><span class="line">      To install:</span><br><span class="line">        brew install cocoapods</span><br><span class="line">        pod setup</span><br><span class="line">[!] Android Studio (not installed)</span><br><span class="line">[âœ“] VS Code (version 1.31.1)</span><br><span class="line">[âœ“] Connected device (1 available)</span><br><span class="line"></span><br><span class="line">! Doctor found issues in 3 categories.</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ° <code>[âœ“] VS Code (version 1.31.1)</code> ä¸€é¡¹å·²ç»æ‰“é’©äº†ã€‚</p>
<ul>
<li><a href="https://flutterchina.club/get-started/editor/#vscode" target="_blank" rel="noopener">èµ·æ­¥: é…ç½®ç¼–è¾‘å™¨ - Flutterä¸­æ–‡ç½‘</a></li>
</ul>
<h5 id="åˆ›å»ºFlutteré¡¹ç›®"><a href="#åˆ›å»ºFlutteré¡¹ç›®" class="headerlink" title="åˆ›å»ºFlutteré¡¹ç›®"></a>åˆ›å»ºFlutteré¡¹ç›®</h5><p>é€šè¿‡ VS Code åˆ›å»ºFlutteré¡¹ç›®éå¸¸ç®€å•ã€‚ç›´æ¥è°ƒå‡ºVS Codeçš„å‘½ä»¤æ¨¡å¼ <code>Cmd(Control) + Shift + P</code> æˆ–è€…é€‰æ‹©èœå• <code>View &gt; Command Paletteâ€¦</code> è¾“å…¥ <code>flutter new</code> é€‰æ‹© <code>Flutter: New Project</code> é€‰é¡¹ï¼Œå›è½¦ï¼Œè¾“å…¥é¡¹ç›®ç›®å½•åç§°ï¼Œä¼šè®©ä½ é€‰æ‹©é¡¹ç›®ä¿å­˜ç›®å½•ï¼Œç„¶åç­‰å¾…è‡ªåŠ¨åˆå§‹åŒ–é¡¹ç›®ã€‚</p>
<hr>
<h4 id="Androidç¯å¢ƒé…ç½®"><a href="#Androidç¯å¢ƒé…ç½®" class="headerlink" title="Androidç¯å¢ƒé…ç½®"></a>Androidç¯å¢ƒé…ç½®</h4><p><code>Android toolchain</code> ä¸­è¦æ±‚å¿…é¡»å®‰è£…å¥½ <code>Android SDK</code> ï¼Œè€Œ <code>Android SDK</code> çš„å®‰è£…æ–¹æ³•å¸¸è§çš„æœ‰ä¸¤ç§ï¼š</p>
<ol>
<li>é€šè¿‡å®‰è£… <code>Android Studio</code> ä¼šè‡ªåŠ¨ç»™å®‰è£…å¥½ <code>Android SDK</code> ,è¿™ç§æ–¹æ³•æ“ä½œèµ·æ¥æ¯”è¾ƒç®€å•ï¼ŒåŸºæœ¬ä¸Š <code>Android Studio</code> éƒ½å¸®ä½ é…ç½®å¥½äº†ï¼›</li>
<li>ç›´æ¥ä¸‹è½½ <code>Android SDK</code> å®‰è£…åŒ…ï¼Œä½†éœ€è¦è‡ªå·±å»æ‰‹åŠ¨é…ç½®ï¼Œè€Œè¯¥é…ç½®è¿‡ç¨‹ç¨æ˜¾å¤æ‚ï¼›</li>
</ol>
<p>è™½ç„¶å¼€å‘å·¥å…·ä¸Šé¢å·²ç»é…ç½®äº† <code>VS Code</code>ä¹Ÿå°±æ²¡å¿…è¦å†å®‰è£… <code>Android Studio</code> äº†ï¼Œä¸è¿‡ä¸ºäº†æ–¹ä¾¿å¿«æ·ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©é‡‡ç”¨ç¬¬ä¸€ç§æ–¹å¼æ¥å®‰è£…ã€‚</p>
<p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼šæœ€å¥½è‡ªå¤‡ <code>æ¢¯å­</code> ï¼Œæœ‰äº›Androidä¾èµ–åŒ…ä¸‹è½½çš„è¿‡ç¨‹ä¸­å¯èƒ½ä¼šç”±äºç½‘ç»œåŸå› éœ€è¦å¤šæ¬¡é‡è¯•ã€‚</p>
<h5 id="å®‰è£…-Android-Studio-åŠé…ç½®"><a href="#å®‰è£…-Android-Studio-åŠé…ç½®" class="headerlink" title="å®‰è£… Android Studio åŠé…ç½®"></a>å®‰è£… Android Studio åŠé…ç½®</h5><p>æ‰“å¼€å®˜ç½‘ <a href="https://developer.android.com/studio/" target="_blank" rel="noopener"></a> ï¼Œä¼šç›´æ¥æ ¹æ®å½“å‰ç³»ç»Ÿæ˜¾ç¤ºæ¨èä¸‹è½½ç‰ˆæœ¬ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181222203818.png" alt=""></p>
<p>ç›´æ¥ç‚¹å¼€å®‰è£…å³å¯ã€‚ç»“æœå¼¹å‡ºäº†ä¸€ä¸ªé”™è¯¯é¡µé¢ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190223153756.png" alt=""></p>
<p>å‡ºç°è¿™ä¸ªé”™è¯¯çš„åŸå› æ˜¯ï¼šåœ¨ç¬¬ä¸€æ¬¡å®‰è£…ASï¼Œå¯åŠ¨åï¼Œæ£€æµ‹åˆ°ç”µè„‘æ²¡æœ‰å®‰è£… Android SDKã€‚</p>
<p>ç›¸åº”çš„è§£å†³æ–¹æ³•æ˜¯ç›´æ¥ç‚¹å‡» <code>Cancel</code> é€‰é¡¹ï¼Œåœ¨åç»­çš„ç•Œé¢ä¸­å†å®‰è£…SDKã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190223155254.png" alt=""></p>
<p>ç‚¹å‡» <code>Next</code> åï¼Œæˆ‘è¿™é‡Œé€‰æ‹©çš„æ˜¯ <code>Custom</code> ï¼ˆè‡ªå®šä¹‰ï¼‰é€‰é¡¹ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190223155655.png" alt=""></p>
<p>å¯ä»¥çœ‹åˆ° <code>Android SDK</code> æ˜¯é»˜è®¤å‹¾é€‰çš„ã€‚å¦å¤–ä¸¤é¡¹æˆ‘è¿™é‡Œå…¨éƒ¨å‹¾é€‰ä¸Šäº†ã€‚è¿˜å¯ä»¥åœ¨è¿™é‡Œé€‰æ‹©è‡ªå®šä¹‰å®‰è£…ç›®å½•ã€‚</p>
<p>ä¸‹ä¸€é¡µæ˜¯Androidæ¨¡æ‹Ÿå™¨çš„å†…å­˜è®¾ç½®ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190223155931.png" alt=""></p>
<p>SDK Path é»˜è®¤ä¸º <code>/Users/xyz/Library/Android/sdk</code> ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190223160142.png" alt=""></p>
<p>ç„¶åå°±æ˜¯ç­‰å¾…ä¸‹è½½å®‰è£…çš„è¿‡ç¨‹ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190223160710.png" alt=""></p>
<p>ç”±äºæŸäº›èµ„æºåŒ…æ˜¯è®¿é—®çš„ <code>google.com</code> ç½‘å€ï¼Œå¦‚æœæ²¡æœ‰ <code>æ¢¯å­</code> ï¼Œæ˜¯éœ€è¦ç­‰å¾…å¾ˆä¹…ã€‚ã€‚ã€‚å¾ˆä¹…ã€‚ã€‚ã€‚çš„ã€‚</p>
<p>ç­‰å¾…å®‰è£…å®Œæˆåï¼Œå†æ¬¡æŸ¥çœ‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ flutter doctor</span><br><span class="line">Doctor summary (to see all details, run flutter doctor -v):</span><br><span class="line">[âœ“] Flutter (Channel stable, v1.0.0, on Mac OS X 10.14.3 18D109, locale zh-Hans-CN)</span><br><span class="line">[!] Android toolchain - develop for Android devices (Android SDK 28.0.3)</span><br><span class="line">    âœ— Android licenses not accepted.  To resolve this, run: flutter doctor --android-licenses</span><br><span class="line">[!] iOS toolchain - develop for iOS devices (Xcode 10.1)</span><br><span class="line">    âœ— libimobiledevice and ideviceinstaller are not installed. To install with Brew, run:</span><br><span class="line">        brew update</span><br><span class="line">        brew install --HEAD usbmuxd</span><br><span class="line">        brew link usbmuxd</span><br><span class="line">        brew install --HEAD libimobiledevice</span><br><span class="line">        brew install ideviceinstaller</span><br><span class="line">    âœ— ios-deploy not installed. To install with Brew:</span><br><span class="line">        brew install ios-deploy</span><br><span class="line">    âœ— CocoaPods not installed.</span><br><span class="line">        CocoaPods is used to retrieve the iOS platform side&#39;s plugin code that responds to your plugin usage on the Dart</span><br><span class="line">        side.</span><br><span class="line">        Without resolving iOS dependencies with CocoaPods, plugins will not work on iOS.</span><br><span class="line">        For more info, see https:&#x2F;&#x2F;flutter.io&#x2F;platform-plugins</span><br><span class="line">      To install:</span><br><span class="line">        brew install cocoapods</span><br><span class="line">        pod setup</span><br><span class="line">[âœ“] Android Studio (version 3.3)</span><br><span class="line">    âœ— Flutter plugin not installed; this adds Flutter specific functionality.</span><br><span class="line">    âœ— Dart plugin not installed; this adds Dart specific functionality.</span><br><span class="line">[âœ“] VS Code (version 1.31.1)</span><br><span class="line">[!] Connected device</span><br><span class="line">    ! No devices available</span><br><span class="line"></span><br><span class="line">! Doctor found issues in 3 categories.</span><br></pre></td></tr></table></figure>

<h5 id="è§£å†³-Android-licenses-é—®é¢˜"><a href="#è§£å†³-Android-licenses-é—®é¢˜" class="headerlink" title="è§£å†³ Android licenses é—®é¢˜"></a>è§£å†³ Android licenses é—®é¢˜</h5><p>çœ‹ä¸Šé¢çš„æç¤ºï¼Œè¿™é‡Œä¸å¾—ä¸å¤¸èµä¸€ä¸‹Flutterå·¥å…·çš„ğŸ‚ğŸºäº†ã€‚æœ‰ä»€ä¹ˆé—®é¢˜ç›´æ¥åœ¨ä¸‹é¢æ˜¾ç¤ºå¹¶ç»™å‡ºè§£å†³æ–¹æ³•ï¼Œä¸ä¼šè®©ä¸€äº›å°ç™½å†éœ€è¦å»ç½‘ä¸Šæœç´¢äº†ã€‚</p>
<p>çœ‹ä¸Šé¢çš„é”™è¯¯æç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[!] Android toolchain - develop for Android devices (Android SDK 28.0.3)</span><br><span class="line">    âœ— Android licenses not accepted.  To resolve this, run: flutter doctor --android-licenses</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥æ‰§è¡Œå‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ flutter doctor --android-licenses</span><br><span class="line">Warning: File &#x2F;Users&#x2F;xyz&#x2F;.android&#x2F;repositories.cfg could not be loaded..</span><br><span class="line">6 of 6 SDK package licenses not accepted. 100% Computing updates...</span><br><span class="line">Review licenses that have not been accepted (y&#x2F;N)?</span><br><span class="line">...</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>æŒ‰ç…§æç¤ºï¼Œä¸€ç›´è¾“å…¥ <code>y</code> å³å¯ã€‚ç›´åˆ°çœ‹åˆ°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">All SDK package licenses accepted</span><br></pre></td></tr></table></figure>

<p>å°±è¯´æ˜é…ç½®æˆåŠŸäº†ã€‚å†æ¬¡æŸ¥çœ‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ flutter doctor</span><br><span class="line">Doctor summary (to see all details, run flutter doctor -v):</span><br><span class="line">[âœ“] Flutter (Channel stable, v1.0.0, on Mac OS X 10.14.3 18D109, locale zh-Hans-CN)</span><br><span class="line">[âœ“] Android toolchain - develop for Android devices (Android SDK 28.0.3)</span><br><span class="line">[!] iOS toolchain - develop for iOS devices (Xcode 10.1)</span><br><span class="line">    âœ— libimobiledevice and ideviceinstaller are not installed. To install with Brew, run:</span><br><span class="line">        brew update</span><br><span class="line">        brew install --HEAD usbmuxd</span><br><span class="line">        brew link usbmuxd</span><br><span class="line">        brew install --HEAD libimobiledevice</span><br><span class="line">        brew install ideviceinstaller</span><br><span class="line">    âœ— ios-deploy not installed. To install with Brew:</span><br><span class="line">        brew install ios-deploy</span><br><span class="line">    âœ— CocoaPods not installed.</span><br><span class="line">        CocoaPods is used to retrieve the iOS platform side&#39;s plugin code that responds to your plugin usage on the Dart</span><br><span class="line">        side.</span><br><span class="line">        Without resolving iOS dependencies with CocoaPods, plugins will not work on iOS.</span><br><span class="line">        For more info, see https:&#x2F;&#x2F;flutter.io&#x2F;platform-plugins</span><br><span class="line">      To install:</span><br><span class="line">        brew install cocoapods</span><br><span class="line">        pod setup</span><br><span class="line">[âœ“] Android Studio (version 3.3)</span><br><span class="line">    âœ— Flutter plugin not installed; this adds Flutter specific functionality.</span><br><span class="line">    âœ— Dart plugin not installed; this adds Dart specific functionality.</span><br><span class="line">[âœ“] VS Code (version 1.31.1)</span><br><span class="line">[!] Connected device</span><br><span class="line">    ! No devices available</span><br><span class="line"></span><br><span class="line">! Doctor found issues in 2 categories.</span><br></pre></td></tr></table></figure>

<p>å‘ç° <code>[âœ“] Android toolchain</code> é…ç½®æˆåŠŸäº†ã€‚</p>
<h5 id="å®‰è£…Flutteræ’ä»¶-1"><a href="#å®‰è£…Flutteræ’ä»¶-1" class="headerlink" title="å®‰è£…Flutteræ’ä»¶"></a>å®‰è£…Flutteræ’ä»¶</h5><p>çœ‹ä¸Šé¢çš„é”™è¯¯æç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[âœ“] Android Studio (version 3.3)</span><br><span class="line">    âœ— Flutter plugin not installed; this adds Flutter specific functionality.</span><br><span class="line">    âœ— Dart plugin not installed; this adds Dart specific functionality.</span><br></pre></td></tr></table></figure>

<p>çœ‹æç¤ºï¼Œéœ€è¦åœ¨ <code>Android Studio</code> ä¸­å®‰è£…ä¸¤ä¸ªå¿…è¦çš„æ’ä»¶ï¼š<code>Flutter plugin</code> å’Œ <code>Dart plugin</code></p>
<p>æ‰“å¼€ Android Studioï¼Œå¯ä»¥ä¸ç”¨æ–°å»ºé¡¹ç›®ï¼Œç›´æ¥é€‰æ‹©èœå•æ ä¸­çš„ <code>Android Studio</code> â€“ <code>Preferences</code> â€“ é€‰æ‹©æˆ–è€…æœç´¢ <code>Plugins</code> èœå• â€“ ç„¶åæœç´¢ <code>Flutter</code> æ’ä»¶ï¼Œå¯ä»¥çœ‹åˆ°ä¼šè‡ªåŠ¨æç¤ºå®‰è£…ä¾èµ–çš„ <code>Dart</code> æ’ä»¶ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190223183743.png" alt=""></p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190223184006.png" alt=""></p>
<p>ä¹‹åï¼Œéœ€è¦é‡å¯ã€‚</p>
<p>å†æ¬¡æŸ¥çœ‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ flutter doctor</span><br><span class="line">Doctor summary (to see all details, run flutter doctor -v):</span><br><span class="line">[âœ“] Flutter (Channel stable, v1.0.0, on Mac OS X 10.14.3 18D109, locale zh-Hans-CN)</span><br><span class="line">[âœ“] Android toolchain - develop for Android devices (Android SDK 28.0.3)</span><br><span class="line">[!] iOS toolchain - develop for iOS devices (Xcode 10.1)</span><br><span class="line">    âœ— libimobiledevice and ideviceinstaller are not installed. To install with Brew, run:</span><br><span class="line">        brew update</span><br><span class="line">        brew install --HEAD usbmuxd</span><br><span class="line">        brew link usbmuxd</span><br><span class="line">        brew install --HEAD libimobiledevice</span><br><span class="line">        brew install ideviceinstaller</span><br><span class="line">    âœ— ios-deploy not installed. To install with Brew:</span><br><span class="line">        brew install ios-deploy</span><br><span class="line">    âœ— CocoaPods not installed.</span><br><span class="line">        CocoaPods is used to retrieve the iOS platform side&#39;s plugin code that responds to your plugin usage on the Dart</span><br><span class="line">        side.</span><br><span class="line">        Without resolving iOS dependencies with CocoaPods, plugins will not work on iOS.</span><br><span class="line">        For more info, see https:&#x2F;&#x2F;flutter.io&#x2F;platform-plugins</span><br><span class="line">      To install:</span><br><span class="line">        brew install cocoapods</span><br><span class="line">        pod setup</span><br><span class="line">[âœ“] Android Studio (version 3.3)</span><br><span class="line">[âœ“] VS Code (version 1.31.1)</span><br><span class="line">[!] Connected device</span><br><span class="line">    ! No devices available</span><br><span class="line"></span><br><span class="line">! Doctor found issues in 2 categories.</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://blog.csdn.net/xx326664162/article/details/50563122" target="_blank" rel="noopener">unable to access android sdk add-on list - è–›ç‘„çš„åšå®¢ - CSDNåšå®¢</a></li>
</ul>
<h5 id="åˆ›å»ºFlutteré¡¹ç›®-1"><a href="#åˆ›å»ºFlutteré¡¹ç›®-1" class="headerlink" title="åˆ›å»ºFlutteré¡¹ç›®"></a>åˆ›å»ºFlutteré¡¹ç›®</h5><p>ä½¿ç”¨ Android Studio åˆ›å»º Flutter é¡¹ç›®ä¹Ÿéå¸¸ä¾¿æ·ã€‚ç›´æ¥é€‰æ‹©å¯åŠ¨é¡µä¸­çš„ <code>Start a new Flutter project</code> èœå•ï¼Œç„¶åé€‰æ‹© <code>Flutter Application</code> â€“ <code>Next</code> â€“ è¾“å…¥ <code>Project name</code> åŠä¿å­˜ç›®å½•åï¼Œå³å¯åˆå§‹åŒ–ä¸€ä¸ª Flutter é¡¹ç›®ã€‚</p>
<hr>
<h4 id="è¿æ¥AndroidçœŸæœºè¿è¡Œ"><a href="#è¿æ¥AndroidçœŸæœºè¿è¡Œ" class="headerlink" title="è¿æ¥AndroidçœŸæœºè¿è¡Œ"></a>è¿æ¥AndroidçœŸæœºè¿è¡Œ</h4><p>ä¸Šé¢ <code>Android</code> çš„ç¯å¢ƒå·²ç»é…ç½®å¥½äº†ï¼Œæˆ‘å°±æœ‰äº›è¿«ä¸åŠå¾…çš„æƒ³è¦åœ¨æ‰‹æœºä¸Šè¿è¡Œäº†ã€‚</p>
<h5 id="è·‘èµ·æ¥"><a href="#è·‘èµ·æ¥" class="headerlink" title="è·‘èµ·æ¥"></a>è·‘èµ·æ¥</h5><p>è¿æ¥ä¸Šå®‰å“æ‰‹æœºï¼Œå¼€å§‹è¿è¡Œ <code>flutter run</code> å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ flutter run   </span><br><span class="line">No connected devices.</span><br><span class="line"></span><br><span class="line">Run &#39;flutter emulators&#39; to list and start any available device emulators.</span><br><span class="line"></span><br><span class="line">If you expected your device to be detected, please run &quot;flutter doctor&quot; to diagnose</span><br><span class="line">potential issues, or visit https:&#x2F;&#x2F;flutter.io&#x2F;setup&#x2F; for troubleshooting tips.</span><br></pre></td></tr></table></figure>

<p>ç»“æœå´æç¤º <code>No connected devices</code> ã€‚æ ¹æ®æç¤ºï¼Œæ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ flutter emulators</span><br><span class="line">2 available emulators:</span><br><span class="line"></span><br><span class="line">Nexus_5X_API_28_x86 â€¢ Nexus 5X      â€¢ Google â€¢ Nexus 5X API 28 x86</span><br><span class="line">apple_ios_simulator â€¢ iOS Simulator â€¢ Apple</span><br><span class="line"></span><br><span class="line">To run an emulator, run &#39;flutter emulators --launch &lt;emulator id&gt;&#39;.</span><br><span class="line">To create a new emulator, run &#39;flutter emulators --create [--name xyz]&#39;.</span><br><span class="line"></span><br><span class="line">You can find more information on managing emulators at the links below:</span><br><span class="line">  https:&#x2F;&#x2F;developer.android.com&#x2F;studio&#x2F;run&#x2F;managing-avds</span><br><span class="line">  https:&#x2F;&#x2F;developer.android.com&#x2F;studio&#x2F;command-line&#x2F;avdmanager</span><br></pre></td></tr></table></figure>

<p>æŒ‰ç…§æç¤ºï¼Œæ‰§è¡Œ <code>flutter emulators --launch &lt;emulator id&gt;</code> å‘½ä»¤:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ flutter run -d Nexus_5X</span><br><span class="line">No devices found with name or id matching &#39;Nexus_5X&#39;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">âœ flutter run -d Nexus_5X_API_28_x86</span><br><span class="line">No devices found with name or id matching &#39;Nexus_5X_API_28_x86&#39;</span><br></pre></td></tr></table></figure>

<p>ç»“æœä»ç„¶æ˜¯ <code>æ‰¾ä¸åˆ°è®¾å¤‡</code>ã€‚</p>
<ul>
<li><a href="https://stackoverflow.com/questions/52573901/flutter-command-line-emulator-device-not-found" target="_blank" rel="noopener">dart - Flutter - Command line - Emulator- Device not found - Stack Overflow</a></li>
</ul>
<p>åˆ°è¿™é‡Œçš„ç»“æœå°±æ˜¯ï¼š</p>
<ul>
<li>å®‰å“æ‰‹æœºå‘ç°ä¸äº†è®¾å¤‡ã€‚</li>
<li>Androidæ¨¡æ‹Ÿå™¨ä¸€ç›´è¿æ¥å¤±è´¥ï¼Œå³ä½¿è¿æ¥ä¸Šäº†ï¼Œåœ¨å®‰è£…appçš„æ—¶å€™ä¹Ÿä¼šæç¤º <code>no devices</code> çš„ä¿¡æ¯ã€‚å¥½ä¸å®¹æ˜“å®‰è£…æˆåŠŸåï¼Œå‘ç°ç½‘ä¸Šæåˆ°çš„ <code>hot reload</code> çš„åŠŸèƒ½å´ç”¨ä¸äº†ã€‚<code>Android Studio</code> ä¸Šçš„çƒ­åŠ è½½ âš¡ï¸ æŒ‰é’®ä¹Ÿæ˜¯ç°è‰²çš„ã€‚</li>
<li>iosæ¨¡æ‹Ÿå™¨å®‰è£…å¯åŠ¨æ­£å¸¸ï¼Œè€Œä¸”çƒ­æ›´æ–°çš„åŠŸèƒ½ä¹Ÿèƒ½æ­£å¸¸ä½¿ç”¨ã€‚</li>
</ul>
<p>åæ¥å†æ¬¡æŸ¥çœ‹äº†å®˜æ–¹çš„å®‰è£…æ–‡æ¡£ï¼Œæç„¶å¤§æ‚Ÿä¹‹é—´ï¼Œæ‰å‘ç°æˆ‘å¿˜è®°æ“ä½œäº†ä¸€æ­¥ï¼šæˆ‘åªå®‰è£…äº† <code>Android Studio</code> ï¼Œ<strong>ä½†å¹¶æ²¡æœ‰é…ç½® <code>ANDROID_HOME</code> ç¯å¢ƒå˜é‡</strong>ï¼Œè€Œæ˜¯ç›´æ¥å°±å¼€å§‹å®‰è£…Appäº†ã€‚</p>
<p>è§å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://flutter.dev/docs/get-started/install/macos#set-up-your-android-device" target="_blank" rel="noopener">Set up your Android device - Flutter</a></p>
<h5 id="é…ç½®-ANDROID-HOME-ç¯å¢ƒå˜é‡"><a href="#é…ç½®-ANDROID-HOME-ç¯å¢ƒå˜é‡" class="headerlink" title="é…ç½® ANDROID_HOME ç¯å¢ƒå˜é‡"></a>é…ç½® ANDROID_HOME ç¯å¢ƒå˜é‡</h5><p>æŸ¥çœ‹å½“å‰ç¯å¢ƒå˜é‡ï¼š</p>
<p>æ‰“å¼€ AS ï¼Œæ‰¾åˆ° <code>Preferences</code> â€“ <code>Appearance &amp; Behavior</code> â€“ <code>System Settings</code> â€“ <code>Android SDK</code> â€“ åœ¨å³ä¾§æ‰¾åˆ° <code>Android SDK Location</code> â€“ å¤åˆ¶</p>
<p>åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ <code>echo $ANDROID_HOME</code>ï¼Œå‘ç°å½“å‰å€¼ç¡®å®ä¸ºç©ºã€‚</p>
<p>ç„¶ååœ¨ <code>$HOME/.bash_profile</code> ä¸­åŠ å…¥ä¸‹åˆ—ä»£ç :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export ANDROID_HOME&#x3D;$HOME&#x2F;Library&#x2F;Android&#x2F;sdk</span><br><span class="line">export PATH&#x3D;$&#123;PATH&#125;:$&#123;ANDROID_HOME&#125;&#x2F;tools</span><br><span class="line">export PATH&#x3D;$&#123;PATH&#125;:$&#123;ANDROID_HOME&#125;&#x2F;platform-tools</span><br></pre></td></tr></table></figure>

<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190311150318.png" alt=""></p>
<p>é‡å¯å‘½ä»¤è¡Œçª—å£æˆ–è€…æ‰§è¡Œ <code>source $HOME/.bash_profile</code> or <code>source $HOME/.zshrc</code> åˆ·æ–°é…ç½®ã€‚</p>
<h5 id="é…ç½®Androidæ¨¡æ‹Ÿå™¨"><a href="#é…ç½®Androidæ¨¡æ‹Ÿå™¨" class="headerlink" title="é…ç½®Androidæ¨¡æ‹Ÿå™¨"></a>é…ç½®Androidæ¨¡æ‹Ÿå™¨</h5><p>æ‰“å¼€ AS, <code>Android Studio</code> &gt; <code>Tools</code> &gt; <code>Android</code> &gt; <code>AVD Manager and select Create Virtual Device</code> . ï¼ˆæ›´å¤šçš„å»å‚è€ƒä¸€ä¸‹æ–‡æ¡£å»å§ï¼‰&gt; <a href="https://flutter.dev/docs/get-started/install/macos#set-up-the-android-emulator" target="_blank" rel="noopener">Set up the Android emulator - Flutter</a></p>
<p>åæ¥å‘ç°ï¼Œå¦‚æœæ²¡æœ‰é…ç½®ï¼Œæ˜¯ä¼šå¯åŠ¨ä¸€ä¸ªé»˜è®¤çš„æ¨¡æ‹Ÿå™¨ã€‚</p>
<p>åœ¨ä¸Šé¢çš„æ“ä½œä¸­ï¼Œç”±äºæˆ‘å¤ªç€æ€¥ï¼Œç›´æ¥å°±è¿è¡Œç¨‹åºäº†ï¼Œæ‰€ä»¥é»˜è®¤ç»™æˆ‘åˆ›å»ºäº†ä¸€ä¸ª <code>Nexus 5X</code> çš„æ¨¡æ‹Ÿå™¨ã€‚</p>
<hr>
<h5 id="ADB-server-didnâ€™t-ACK"><a href="#ADB-server-didnâ€™t-ACK" class="headerlink" title="ADB server didnâ€™t ACK"></a>ADB server didnâ€™t ACK</h5><p>å°†æ‰‹æœºé€šè¿‡usbè¿æ¥ï¼Œé€šè¿‡ <code>adb devices</code> å‘½ä»¤æ¥æŸ¥çœ‹è®¾å¤‡è¿æ¥çŠ¶æ€:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ adb devices</span><br><span class="line">List of devices attached</span><br><span class="line">adb server version (40) doesn&#39;t match this client (39); killing...</span><br><span class="line">ADB server didn&#39;t ACK</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>ç»“æœå´æŠ¥äº† <code>ADB server didn&#39;t ACK</code> çš„é”™è¯¯ã€‚</p>
<p>ç›¸åº”çš„è§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<ol>
<li>æŸ¥çœ‹ç«¯å£è¢«å ç”¨æƒ…å†µï¼šåœ¨ç»ˆç«¯è¾“å…¥ <code>lsof -i tcp:5037</code> æŸ¥çœ‹å ç”¨ <code>5037</code> ç«¯å£çš„pidå·</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ lsof -i tcp:5037</span><br><span class="line">COMMAND   PID USER   FD   TYPE             DEVICE SIZE&#x2F;OFF NODE NAME</span><br><span class="line">adb     38752  xyz    3u  IPv4 0xec93d79cdb5a9d91      0t0  TCP localhost:49653-&gt;localhost:5037 (CLOSED)</span><br><span class="line">adb     38752  xyz   11u  IPv4 0xec93x80a5492d411      0t0  TCP localhost:5037 (LISTEN)</span><br></pre></td></tr></table></figure>

<p>2.å»ä»»åŠ¡ç®¡ç†å™¨ï¼ˆåº”ç”¨ç¨‹åº-å…¶ä»–-æ´»åŠ¨ç›‘è§†å™¨ï¼‰æ‰¾åˆ°å¯¹åº”pidå·(è¿™é‡Œæ˜¯38752)çš„è¿›ç¨‹ï¼Œå¹¶å…³é—­ </p>
<ol start="3">
<li>å†æ¬¡æŸ¥çœ‹ï¼š</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ adb devices</span><br><span class="line">List of devices attached</span><br><span class="line">adb server version (40) doesn&#39;t match this client (39); killing...</span><br><span class="line">* daemon started successfully</span><br><span class="line">FA6AB0311758    device</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ï¼Œè®¾å¤‡å·²ç»æ­£å¸¸è¿æ¥äº†ã€‚</p>
<ul>
<li><a href="https://blog.csdn.net/XieYupeng520/article/details/46660517" target="_blank" rel="noopener">ã€MACç‰ˆã€‘Android ADB server didnâ€™t ACK failed to start daemon è§£å†³åŠæ³• - AZZçš„åšå®¢ - CSDNåšå®¢</a></li>
</ul>
<hr>
<h5 id="Android-license-status-unknown"><a href="#Android-license-status-unknown" class="headerlink" title="Android license status unknown"></a>Android license status unknown</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ flutter doctor</span><br><span class="line">Doctor summary (to see all details, run flutter doctor -v):</span><br><span class="line">[âœ“] Flutter (Channel stable, v1.0.0, on Mac OS X 10.14.3 18D109, locale zh-Hans-CN)</span><br><span class="line">[!] Android toolchain - develop for Android devices (Android SDK 28.0.3)</span><br><span class="line">    âœ— Android license status unknown.</span><br><span class="line">[âœ“] Android Studio (version 3.3)</span><br><span class="line">ã€‚ã€‚ã€‚</span><br><span class="line">ã€‚ã€‚ã€‚</span><br></pre></td></tr></table></figure>

<p>è§£å†³æ–¹æ³•æ˜¯ï¼šå†æ‰§è¡Œä¸€æ¬¡ <code>flutter doctor --android-licenses</code> å‘½ä»¤ï¼Œåœ¨æç¤ºåè¾“å…¥ <code>y</code> ç¡®è®¤ï¼Œç„¶åå†é€šè¿‡ <code>flutter doctor</code> æŸ¥çœ‹ã€‚</p>
<ul>
<li><a href="https://github.com/flutter/flutter/issues/16025" target="_blank" rel="noopener">âœ— Android license status unknown. Â· Issue #16025 Â· flutter/flutter</a></li>
<li><a href="https://my.oschina.net/falcon10086/blog/1827718" target="_blank" rel="noopener">Android license status unknown - Code is Poetry - å¼€æºä¸­å›½</a></li>
</ul>
<hr>
<h5 id="æŸäº›å®‰å“æ‰‹æœºéœ€è¦è§£é”"><a href="#æŸäº›å®‰å“æ‰‹æœºéœ€è¦è§£é”" class="headerlink" title="æŸäº›å®‰å“æ‰‹æœºéœ€è¦è§£é”"></a>æŸäº›å®‰å“æ‰‹æœºéœ€è¦è§£é”</h5><p>å¯¹äºæŸäº›å®‰å“è®¾å¤‡é»˜è®¤æƒ…å†µä¸‹éƒ½æ²¡æœ‰å¯ç”¨å¼€å‘è€…è°ƒè¯•çš„åŠŸèƒ½ï¼Œè¿™æ¬¡æˆ‘æ¢ç”¨ä¸€å°å°ç±³æ‰‹æœºæ¥è¿›è¡ŒçœŸæœºè°ƒè¯•ã€‚</p>
<p>å½“æœ‰å¤šä¸ªè®¾å¤‡è¿æ¥æ—¶ï¼Œå¯ä»¥é€šè¿‡ <code>-d &lt;deviceId&gt;</code> è¿æ¥æŒ‡å®šè®¾å¤‡ï¼Œæˆ–è€…ä½¿ç”¨ <code>-d all</code> è¿æ¥æ‰€æœ‰è®¾å¤‡æ¥è°ƒè¯•ã€‚å…¶ä¸­ <code>&lt;deviceId&gt;</code> æ”¯æŒæ¨¡ç³ŠåŒ¹é…è®¾å¤‡åç§°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ flutter run</span><br><span class="line">More than one device connected; please specify a device with the &#39;-d &lt;deviceId&gt;&#39; flag, or use &#39;-d all&#39; to act</span><br><span class="line">on all devices.</span><br><span class="line"></span><br><span class="line">Redmi Note 4X             â€¢ a1529b418604  â€¢ android-arm64 â€¢ Android 7.0 (API 24)</span><br><span class="line">Android SDK built for x86 â€¢ emulator-5554 â€¢ android-x86   â€¢ Android 9 (API 28) (emulator)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">âœ flutter run -d Redmi</span><br><span class="line">Launching lib&#x2F;main.dart on Redmi Note 4X in debug mode...</span><br><span class="line">Initializing gradle...                                       1.0s</span><br><span class="line">Resolving dependencies...                                    7.7s</span><br><span class="line">Gradle task &#39;assembleDebug&#39;...                                   </span><br><span class="line">Gradle task &#39;assembleDebug&#39;... Done                         10.4s</span><br><span class="line">Built build&#x2F;app&#x2F;outputs&#x2F;apk&#x2F;debug&#x2F;app-debug.apk.</span><br><span class="line">Installing build&#x2F;app&#x2F;outputs&#x2F;apk&#x2F;app.apk...                  8.1s</span><br><span class="line">Error: ADB exited with exit code 1</span><br><span class="line">adb: failed to install &#x2F;Users&#x2F;xyz&#x2F;Learn&#x2F;flutter&#x2F;hello_world&#x2F;build&#x2F;app&#x2F;outputs&#x2F;apk&#x2F;app.apk: Failure</span><br><span class="line">[INSTALL_FAILED_USER_RESTRICTED: Install canceled by user]</span><br><span class="line">Error launching application on Redmi Note 4X.</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘è¿™é‡Œè®¾å¤‡é€‰æ‹©æˆåŠŸäº†ï¼Œä½†å½“è¿è¡Œåˆ° <code>Install</code> é˜¶æ®µæŠ¥é”™äº†ã€‚</p>
<p>è¿™é‡Œï¼Œéœ€è¦æ›´æ”¹ä¸€ä¸‹æ‰‹æœºè®¾ç½®ï¼Œä»¥å°ç±³æ‰‹æœºä¸ºä¾‹ï¼š</p>
<ol>
<li>æ‰“å¼€æ‰‹æœºçš„å¼€å‘è€…æ¨¡å¼: <code>è®¾ç½®</code> â€“ <code>æˆ‘çš„è®¾å¤‡</code> â€“ <code>å…¨éƒ¨å‚æ•°</code> â€“ <code>MIUIç‰ˆæœ¬</code> â€“ è¿ç»­ç‚¹å‡»7ä¸‹å³å¯</li>
<li>å†æ¬¡ç‚¹å‡» <code>è®¾ç½®</code> â€“ <code>æ›´å¤šè®¾ç½®</code> â€“ <code>å¼€å‘è€…é€‰é¡¹</code> â€“ å°† <code>å¼€å¯å¼€å‘è€…é€‰é¡¹</code> å¯ç”¨ ã€ <code>USBè°ƒè¯•</code> å¯ç”¨ ã€ <code>USBå®‰è£…</code> å¯ç”¨</li>
<li>å†æ¬¡æ‰§è¡Œ <code>flutter run</code> å‘½ä»¤è¿›è¡Œå®‰è£…ï¼Œæ­¤æ—¶æ‰‹æœºä¸Šä¼šå¼¹å‡º <code>USBå®‰è£…æç¤º</code> çš„å‘½ä»¤ï¼Œé€‰æ‹© <code>å…è®¸</code> å³å¯</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ flutter run</span><br><span class="line">Launching lib&#x2F;main.dart on Redmi Note 4X in debug mode...</span><br><span class="line">Initializing gradle...                                       0.8s</span><br><span class="line">Resolving dependencies...                                    1.5s</span><br><span class="line">Gradle task &#39;assembleDebug&#39;...                                   </span><br><span class="line">Gradle task &#39;assembleDebug&#39;... Done                          1.5s</span><br><span class="line">Built build&#x2F;app&#x2F;outputs&#x2F;apk&#x2F;debug&#x2F;app-debug.apk.</span><br><span class="line">Installing build&#x2F;app&#x2F;outputs&#x2F;apk&#x2F;app.apk...                 14.6s</span><br><span class="line">Syncing files to device Redmi Note 4X...                     1.6s</span><br><span class="line"></span><br><span class="line">ğŸ”¥  To hot reload changes while running, press &quot;r&quot;. To hot restart (and rebuild state), press &quot;R&quot;.</span><br><span class="line">An Observatory debugger and profiler on Redmi Note 4X is available at: http:&#x2F;&#x2F;127.0.0.1:61766&#x2F;</span><br><span class="line">For a more detailed help message, press &quot;h&quot;. To detach, press &quot;d&quot;; to quit, press &quot;q&quot;.</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://stackoverflow.com/a/54127898/6246673" target="_blank" rel="noopener">INSTALL_FAILED_USER_RESTRICTED : android studio using redmi 4 device
</a></li>
</ul>
<hr>
<h5 id="æœ€ç»ˆè¿è¡Œ"><a href="#æœ€ç»ˆè¿è¡Œ" class="headerlink" title="æœ€ç»ˆè¿è¡Œ"></a>æœ€ç»ˆè¿è¡Œ</h5><p>å†æ¬¡æ£€æŸ¥çŠ¶æ€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ flutter doctor</span><br><span class="line">Doctor summary (to see all details, run flutter doctor -v):</span><br><span class="line">[âœ“] Flutter (Channel stable, v1.0.0, on Mac OS X 10.14.3 18D109, locale zh-Hans-CN)</span><br><span class="line">[âœ“] Android toolchain - develop for Android devices (Android SDK 28.0.3)</span><br><span class="line">[!] iOS toolchain - develop for iOS devices (Xcode 10.1)</span><br><span class="line">    âœ— libimobiledevice and ideviceinstaller are not installed. To install with Brew, run:</span><br><span class="line">        brew update</span><br><span class="line">        brew install --HEAD usbmuxd</span><br><span class="line">        brew link usbmuxd</span><br><span class="line">        brew install --HEAD libimobiledevice</span><br><span class="line">        brew install ideviceinstaller</span><br><span class="line">    âœ— ios-deploy not installed. To install with Brew:</span><br><span class="line">        brew install ios-deploy</span><br><span class="line">    âœ— CocoaPods not installed.</span><br><span class="line">        CocoaPods is used to retrieve the iOS platform side&#39;s plugin code that responds to your plugin usage on the Dart</span><br><span class="line">        side.</span><br><span class="line">        Without resolving iOS dependencies with CocoaPods, plugins will not work on iOS.</span><br><span class="line">        For more info, see https:&#x2F;&#x2F;flutter.io&#x2F;platform-plugins</span><br><span class="line">      To install:</span><br><span class="line">        brew install cocoapods</span><br><span class="line">        pod setup</span><br><span class="line">[âœ“] Android Studio (version 3.3)</span><br><span class="line">[âœ“] VS Code (version 1.31.1)</span><br><span class="line">[âœ“] Connected device (1 available)</span><br><span class="line"></span><br><span class="line">! Doctor found issues in 1 category.</span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€ <code>VS Code</code>, åœ¨ç»ˆç«¯ä¸­è¿è¡Œ <code>flutter run</code> å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ flutter run</span><br><span class="line">Launching lib&#x2F;main.dart on Pixel in debug mode...</span><br><span class="line">Initializing gradle...                                       1.1s</span><br><span class="line">Resolving dependencies...                                    8.2s</span><br><span class="line">Gradle task &#39;assembleDebug&#39;...                                   </span><br><span class="line">Gradle task &#39;assembleDebug&#39;... Done                         12.4s</span><br><span class="line">Built build&#x2F;app&#x2F;outputs&#x2F;apk&#x2F;debug&#x2F;app-debug.apk.</span><br><span class="line">Installing build&#x2F;app&#x2F;outputs&#x2F;apk&#x2F;app.apk...                  3.4s</span><br><span class="line">Syncing files to device Pixel...                             1.5s</span><br><span class="line"></span><br><span class="line">ğŸ”¥  To hot reload changes while running, press &quot;r&quot;. To hot restart (and rebuild state), press &quot;R&quot;.</span><br><span class="line">An Observatory debugger and profiler on Pixel is available at: http:&#x2F;&#x2F;127.0.0.1:49724&#x2F;</span><br><span class="line">For a more detailed help message, press &quot;h&quot;. To detach, press &quot;d&quot;; to quit, press &quot;q&quot;.</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œç°åœ¨æ‰æ˜¯æ­£å¸¸è¿è¡Œçš„çŠ¶æ€ã€‚å·²ç»æˆåŠŸçš„è¿æ¥ä¸Šäº†æˆ‘çš„ <code>Pixel</code> æ‰‹æœºï¼ŒåŒæ—¶åœ¨æ‰‹æœºç«¯ï¼Œå·²ç»æ‰“å¼€äº†ç¤ºä¾‹appçš„ç•Œé¢ã€‚è¾“å…¥ <code>r</code> æ¥å®ç°çƒ­æ›´æ–°ã€‚</p>
<hr>
<h4 id="IOSç¯å¢ƒé…ç½®"><a href="#IOSç¯å¢ƒé…ç½®" class="headerlink" title="IOSç¯å¢ƒé…ç½®"></a>IOSç¯å¢ƒé…ç½®</h4><p>æŸ¥çœ‹å½“å‰çš„çŠ¶æ€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ flutter doctor</span><br><span class="line">Doctor summary (to see all details, run flutter doctor -v):</span><br><span class="line">[âœ“] Flutter (Channel stable, v1.0.0, on Mac OS X 10.14.3 18D109, locale zh-Hans-CN)</span><br><span class="line">[âœ“] Android toolchain - develop for Android devices (Android SDK 28.0.3)</span><br><span class="line">[!] iOS toolchain - develop for iOS devices (Xcode 10.1)</span><br><span class="line">    âœ— libimobiledevice and ideviceinstaller are not installed. To install with Brew, run:</span><br><span class="line">        brew update</span><br><span class="line">        brew install --HEAD usbmuxd</span><br><span class="line">        brew link usbmuxd</span><br><span class="line">        brew install --HEAD libimobiledevice</span><br><span class="line">        brew install ideviceinstaller</span><br><span class="line">    âœ— ios-deploy not installed. To install with Brew:</span><br><span class="line">        brew install ios-deploy</span><br><span class="line">    âœ— CocoaPods not installed.</span><br><span class="line">        CocoaPods is used to retrieve the iOS platform side&#39;s plugin code that responds to your plugin usage on the Dart</span><br><span class="line">        side.</span><br><span class="line">        Without resolving iOS dependencies with CocoaPods, plugins will not work on iOS.</span><br><span class="line">        For more info, see https:&#x2F;&#x2F;flutter.io&#x2F;platform-plugins</span><br><span class="line">      To install:</span><br><span class="line">        brew install cocoapods</span><br><span class="line">        pod setup</span><br><span class="line">[âœ“] Android Studio (version 3.3)</span><br><span class="line">[âœ“] VS Code (version 1.31.1)</span><br><span class="line">[âœ“] Connected device (1 available)</span><br><span class="line"></span><br><span class="line">! Doctor found issues in 1 category.</span><br></pre></td></tr></table></figure>

<p>ä¾ç…§ä¸Šé¢çš„æç¤ºä¿¡æ¯ï¼Œä¾æ¬¡æ‰§è¡Œï¼Œå®‰è£… <code>iOS toolchain</code> æ‰€æœ‰ç›¸å…³ä¾èµ–ã€‚</p>
<h4 id="è¿æ¥IPhoneçœŸæœºè¿è¡Œ"><a href="#è¿æ¥IPhoneçœŸæœºè¿è¡Œ" class="headerlink" title="è¿æ¥IPhoneçœŸæœºè¿è¡Œ"></a>è¿æ¥IPhoneçœŸæœºè¿è¡Œ</h4><h5 id="No-valid-code-signing-certificates-were-found"><a href="#No-valid-code-signing-certificates-were-found" class="headerlink" title="No valid code signing certificates were found"></a>No valid code signing certificates were found</h5><p>æ²¡æƒ³åˆ°ç¬¬ä¸€æ¬¡è¿è¡Œå´æŠ¥é”™äº†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ flutter run</span><br><span class="line">Launching lib&#x2F;main.dart on xyzçš„iPhone in debug mode...</span><br><span class="line">â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br><span class="line">No valid code signing certificates were found</span><br><span class="line">You can connect to your Apple Developer account by signing in with your Apple ID</span><br><span class="line">in Xcode and create an iOS Development Certificate as well as a Provisioning </span><br><span class="line">Profile for your project by:</span><br><span class="line">  1- Open the Flutter project&#39;s Xcode target with</span><br><span class="line">       open ios&#x2F;Runner.xcworkspace</span><br><span class="line">  2- Select the &#39;Runner&#39; project in the navigator then the &#39;Runner&#39; target</span><br><span class="line">     in the project settings</span><br><span class="line">  3- In the &#39;General&#39; tab, make sure a &#39;Development Team&#39; is selected. </span><br><span class="line">     You may need to:</span><br><span class="line">         - Log in with your Apple ID in Xcode first</span><br><span class="line">         - Ensure you have a valid unique Bundle ID</span><br><span class="line">         - Register your device with your Apple Developer Account</span><br><span class="line">         - Let Xcode automatically provision a profile for your app</span><br><span class="line">  4- Build or run your project again</span><br><span class="line">  5- Trust your newly created Development Certificate on your iOS device</span><br><span class="line">     via Settings &gt; General &gt; Device Management &gt; [your new certificate] &gt; Trust</span><br><span class="line"></span><br><span class="line">For more information, please visit:</span><br><span class="line">  https:&#x2F;&#x2F;developer.apple.com&#x2F;library&#x2F;content&#x2F;documentation&#x2F;IDEs&#x2F;Conceptual&#x2F;</span><br><span class="line">  AppDistributionGuide&#x2F;MaintainingCertificates&#x2F;MaintainingCertificates.html</span><br><span class="line"></span><br><span class="line">Or run on an iOS simulator without code signing</span><br><span class="line">â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br><span class="line">No development certificates available to code sign app for device deployment</span><br></pre></td></tr></table></figure>


<p>æŒ‰ç…§ä¸Šé¢çš„æç¤ºï¼Œç”¨ Xcode æ‰“å¼€ç¤ºä¾‹é¡¹ç›®ä¸­çš„ <code>ios/Runner.xcworkspace</code> è¿™ä¸ªæ–‡ä»¶ï¼Œ</p>
<p>é€‰æ‹©é¡¹ç›®èœå• <code>Runner</code> â€“ General é€‰é¡¹ ï¼Œå¯ä»¥çœ‹åˆ° <code>Signing</code> ä¸­çš„ <code>Status</code> æç¤ºé”™è¯¯ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Signing for &quot;Runner&quot; requires a development team.</span><br><span class="line">Select a development team in the projct editor.</span><br></pre></td></tr></table></figure>

<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190224163145.png" alt=""></p>
<p>ç‚¹å‡» <code>Team</code> é€‰é¡¹çš„ <code>Add Account...</code> æŒ‰é’®ï¼Œç™»å½• <code>Apple ID</code> ï¼Œæ²¡æœ‰åˆ™éœ€è¦åˆ›å»ºä¸€ä¸ªã€‚å›åˆ° <code>General</code> ç•Œé¢ï¼Œé€‰æ‹© <code>Team</code> åç§°ã€‚ç­‰å¾…éªŒè¯ã€‚</p>
<h5 id="No-profiles-for-xxx-were-found"><a href="#No-profiles-for-xxx-were-found" class="headerlink" title="No profiles for xxx were found"></a>No profiles for xxx were found</h5><p>ç°åœ¨åˆæç¤ºä¸‹é¢çš„é”™è¯¯ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190224165204.png" alt=""></p>
<p>åœ¨ VSCodeä¸­æ‰§è¡Œ <code>flutter run</code> å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ flutter run</span><br><span class="line">Launching lib&#x2F;main.dart on xyzçš„iPhone in debug mode...</span><br><span class="line">Automatically signing iOS for device deployment using specified development team in Xcode project:</span><br><span class="line">9Y41Q9PF28</span><br><span class="line">Starting Xcode build...                                          </span><br><span class="line">Xcode build done.                                            1.3s</span><br><span class="line">Failed to build iOS app</span><br><span class="line">Error output from Xcode build:</span><br><span class="line">â†³</span><br><span class="line">    ** BUILD FAILED **</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Xcode&#39;s output:</span><br><span class="line">â†³</span><br><span class="line">    &#x3D;&#x3D;&#x3D; BUILD TARGET Runner OF PROJECT Runner WITH CONFIGURATION Debug &#x3D;&#x3D;&#x3D;</span><br><span class="line">    Code Signing Error: No profiles for &#39;com.example.helloWorld&#39; were found:  Xcode couldn&#39;t find any</span><br><span class="line">    iOS App Development provisioning profiles matching &#39;com.example.helloWorld&#39;. Automatic signing is</span><br><span class="line">    disabled and unable to generate a profile. To enable automatic signing, pass</span><br><span class="line">    -allowProvisioningUpdates to xcodebuild.</span><br><span class="line">    Code Signing Error: Code signing is required for product type &#39;Application&#39; in SDK &#39;iOS 12.1&#39;</span><br><span class="line">    Code Signing Error: Code signing is required for product type &#39;Application&#39; in SDK &#39;iOS 12.1&#39;</span><br><span class="line">    Code Signing Error: Code signing is required for product type &#39;Application&#39; in SDK &#39;iOS 12.1&#39;</span><br><span class="line"></span><br><span class="line">Could not build the precompiled application for the device.</span><br><span class="line"></span><br><span class="line">It appears that your application still contains the default signing identifier.</span><br><span class="line">Try replacing &#39;com.example&#39; with your signing id in Xcode:</span><br><span class="line">  open ios&#x2F;Runner.xcworkspace</span><br><span class="line"></span><br><span class="line">Error launching application on xyzçš„iPhone.</span><br></pre></td></tr></table></figure>

<p>åœ¨ XCodeä¸­ç¼–è¯‘ï¼Œæç¤ºå¦‚ä¸‹é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Failed to create provisioning profile. The app ID &quot;com.example.helloWorld&quot; cannot be registered to your development team. Change your bundle identifier to a unique string to try again.</span><br><span class="line"></span><br><span class="line">No profiles for &#39;com.example.helloWorld&#39; were found:  Xcode couldn&#39;t find any iOS App Development provisioning profiles matching &#39;com.example.helloWorld&#39;.</span><br><span class="line"></span><br><span class="line">Code signing is required for product type &#39;Application&#39; in SDK &#39;iOS 12.1&#39;</span><br><span class="line">Code signing is required for product type &#39;Application&#39; in SDK &#39;iOS 12.1&#39;</span><br><span class="line">Code signing is required for product type &#39;Application&#39; in SDK &#39;iOS 12.1&#39;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä¸€ç•ªæŸ¥æ‰¾ï¼Œåœ¨ Stack Overflow ä¸Šæ‰¾åˆ°äº†ä¸€ä¸ªè§£å†³æ–¹æ³•ï¼š</p>
<p><strong>å°† <code>Bundle Identifier</code> çš„å€¼æ”¹å˜ä¸€ä¸‹ï¼Œæ¯”å¦‚åœ¨ç»“å°¾éšæœºåŠ ä¸Šå‡ ä¸ªæ•°å­—ã€‚</strong></p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190224171103.png" alt=""></p>
<ul>
<li><a href="https://stackoverflow.com/a/43687946/6246673" target="_blank" rel="noopener">Failed to create provisioning profile</a></li>
</ul>
<p>å†æ¬¡åœ¨ <code>VS Code</code> ä¸­è¿è¡Œï¼š</p>
<p>æœŸé—´éœ€è¦è¾“å…¥å¯†ç ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ flutter run </span><br><span class="line">Launching lib&#x2F;main.dart on xyzçš„iPhone in debug mode...</span><br><span class="line">Automatically signing iOS for device deployment using specified development team in Xcode project:</span><br><span class="line">9Y41Q9PF28</span><br><span class="line">Starting Xcode build...                                          </span><br><span class="line"> â”œâ”€Assembling Flutter resources...                    1.3s</span><br><span class="line"> </span><br><span class="line"> â””â”€Compiling, linking and signing...                  3.4s</span><br><span class="line"> </span><br><span class="line">Xcode build done.                                            6.2s</span><br><span class="line">Installing and launching...                                  4.6s</span><br><span class="line">â¢¿2019-02-24 17:17:33.270 ios-deploy[15328:80609] [ !! ] Unable to locate DeviceSupport directory with suffix &#39;Symbols&#39;. This probably means you don&#39;t have Xcode installed, you will need to launch the app manually and logging output will not be shown!</span><br><span class="line"> 6.8s</span><br><span class="line">Could not install build&#x2F;ios&#x2F;iphoneos&#x2F;Runner.app on f1b5b10369882093413772c363995b5cda163c34.</span><br><span class="line">Try launching Xcode and selecting &quot;Product &gt; Run&quot; to fix the problem:</span><br><span class="line">  open ios&#x2F;Runner.xcworkspace</span><br><span class="line"></span><br><span class="line">Error launching application on xyzçš„iPhone.</span><br></pre></td></tr></table></figure>

<h5 id="Device-is-locked"><a href="#Device-is-locked" class="headerlink" title="Device is locked"></a>Device is locked</h5><p>ä½¿ç”¨ XCodeç¼–è¯‘ï¼Œæç¤ºå¦‚ä¸‹é”™è¯¯ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190224172722.png" alt=""></p>
<p>è¿™ä¸ªé—®é¢˜æ˜¯éœ€è¦åœ¨æ‰‹æœºç«¯å¼€å¯å…è®¸è°ƒè¯•ã€‚</p>
<p>ä¾æ¬¡ç‚¹å‡» <code>é€šç”¨</code> â€“ <code>è®¾å¤‡ç®¡ç†</code> â€“ <code>å¼€å‘è€…åº”ç”¨</code> â€“ ç‚¹å‡»å¼€å‘è€…è´¦å· â€“ ç‚¹å‡» <code>ä¿¡ä»»åº”ç”¨</code> </p>
<p>å†æ¬¡åœ¨ VS Code ä¸­è¿è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ flutter run </span><br><span class="line">Launching lib&#x2F;main.dart on xyzçš„iPhone in debug mode...</span><br><span class="line">Automatically signing iOS for device deployment using specified development team in Xcode project:</span><br><span class="line">9Y41Q9PF28</span><br><span class="line">Starting Xcode build...                                          </span><br><span class="line"> â”œâ”€Assembling Flutter resources...                    1.4s</span><br><span class="line"> </span><br><span class="line"> â””â”€Compiling, linking and signing...                  4.6s</span><br><span class="line"> </span><br><span class="line">Xcode build done.                                            7.7s</span><br><span class="line">Installing and launching...                                  6.1s</span><br><span class="line">12.0s</span><br><span class="line">Syncing files to device xyzçš„iPhone...                        1.7s</span><br><span class="line"></span><br><span class="line">ğŸ”¥  To hot reload changes while running, press &quot;r&quot;. To hot restart (and rebuild state), press &quot;R&quot;.</span><br><span class="line">An Observatory debugger and profiler on xyzçš„iPhone is available at: http:&#x2F;&#x2F;127.0.0.1:1024&#x2F;</span><br><span class="line">For a more detailed help message, press &quot;h&quot;. To detach, press &quot;d&quot;; to quit, press &quot;q&quot;.</span><br></pre></td></tr></table></figure>

<p>è¿™æ¬¡èƒ½å¤Ÿæ­£å¸¸è¿è¡Œäº†ï¼Œä¹Ÿæ”¯æŒçƒ­åŠ è½½è°ƒè¯•ã€‚</p>
<hr>
<h4 id="Flutterç‰ˆæœ¬æ›´æ–°"><a href="#Flutterç‰ˆæœ¬æ›´æ–°" class="headerlink" title="Flutterç‰ˆæœ¬æ›´æ–°"></a>Flutterç‰ˆæœ¬æ›´æ–°</h4><p>å¯¹äºFlutterçš„ç‰ˆæœ¬æ›´æ–°ï¼Œçœ‹æœ€è¿‘çš„å½¢åŠ¿è¿­ä»£é¢‘ç‡è¶Šæ¥è¶Šå¿«ï¼Œè€Œæ›´æ–°æ“ä½œä¹Ÿå¾ˆç®€å•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ flutter doctor</span><br><span class="line">  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—</span><br><span class="line">  â•‘ A new version of Flutter is available!                                     â•‘</span><br><span class="line">  â•‘                                                                            â•‘</span><br><span class="line">  â•‘ To update to the latest version, run &quot;flutter upgrade&quot;.                    â•‘</span><br><span class="line">  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Doctor summary (to see all details, run flutter doctor -v):</span><br><span class="line">[âœ“] Flutter (Channel stable, v1.0.0, on Mac OS X 10.14.3 18D109, locale zh-Hans-CN)</span><br><span class="line">[âœ“] Android toolchain - develop for Android devices (Android SDK 28.0.3)</span><br><span class="line">[âœ“] iOS toolchain - develop for iOS devices (Xcode 10.1)</span><br><span class="line">[âœ“] Android Studio (version 3.3)</span><br><span class="line">[âœ“] VS Code (version 1.31.1)</span><br><span class="line">[!] Connected device</span><br><span class="line">    ! No devices available</span><br><span class="line"></span><br><span class="line">! Doctor found issues in 1 category.</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥æŒ‰ç…§å®˜æ–¹ç»™å‡ºçš„æç¤ºæ‰§è¡Œ <code>flutter upgrade</code> å³å¯ã€‚</p>
<hr>
<p>è‡³æ­¤ï¼ŒAndroidå’ŒiOSçš„å¼€å‘ç¯å¢ƒé…ç½®åŸºæœ¬okäº†ã€‚</p>
]]></content>
      <categories>
        <category>Flutterä¹‹æ—…</category>
      </categories>
      <tags>
        <tag>Flutter</tag>
      </tags>
  </entry>
  <entry>
    <title>æ‰“å¼€æ–°ä¸–ç•Œçš„å¤§é—¨ -- Flutterä»‹ç»</title>
    <url>/2019/03/08/flutter-get-start/</url>
    <content><![CDATA[<p>Flutteræ˜¯ä¸€ä¸ªç”±è°·æ­Œå¼€å‘çš„å¼€æºç§»åŠ¨åº”ç”¨è½¯ä»¶å¼€å‘å·¥å…·åŒ…ï¼Œç”¨äºä¸ºAndroidå’ŒiOSå¼€å‘åº”ç”¨ï¼ŒåŒæ—¶ä¹Ÿå°†æ˜¯Google Fuchsiaä¸‹å¼€å‘åº”ç”¨çš„ä¸»è¦å·¥å…·ã€‚</p>
<h4 id="ç³»åˆ—æ–‡ç« åˆ—è¡¨"><a href="#ç³»åˆ—æ–‡ç« åˆ—è¡¨" class="headerlink" title="ç³»åˆ—æ–‡ç« åˆ—è¡¨"></a>ç³»åˆ—æ–‡ç« åˆ—è¡¨</h4><ol>
<li><a href="/2019/03/08/flutter-get-start/">æ‰“å¼€æ–°ä¸–ç•Œçš„å¤§é—¨ â€“ Flutterä»‹ç» | ITèŒƒå„¿</a></li>
<li><a href="/2019/03/08/flutter-development-environment-configuration/">å…µé©¬æœªåŠ¨ï¼Œç²®è‰å…ˆè¡Œ â€“ Flutterå¼€å‘ç¯å¢ƒé…ç½® | ITèŒƒå„¿</a></li>
<li><a href="/2019/03/11/flutter-development-skills/">ç£¨åˆ€ä¸è¯¯ç æŸ´å·¥ â€“ Flutterå¼€å‘æŠ€å·§ | ITèŒƒå„¿</a></li>
</ol>
]]></content>
      <categories>
        <category>Flutterä¹‹æ—…</category>
      </categories>
      <tags>
        <tag>Flutter</tag>
      </tags>
  </entry>
  <entry>
    <title>è§£å†³Golangä¸‹json.Marshalé»˜è®¤å¯¹htmlæ ‡ç­¾è½¬ä¹‰é—®é¢˜</title>
    <url>/2018/12/27/golang-json-marshal-for-html/</url>
    <content><![CDATA[<p>æœ€è¿‘åœ¨ç”¨Golangä¸‹çš„jsonå¯¹å«æœ‰htmlæ ‡ç­¾çš„Objectåºåˆ—åŒ–çš„æ—¶å€™ï¼Œå‘ç°Golangä¼šé»˜è®¤å¯¹htmlæ ‡ç­¾åšè½¬ä¹‰å¤„ç†ã€‚æ¯”å¦‚æˆ‘çš„ä¸€æ®µhtmlä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;choose-results&quot; class&#x3D;&quot;li&quot; style&#x3D;&quot;display:none&quot;&gt;&lt;div class&#x3D;&quot;dt&quot;&gt;å·²é€‰æ‹©&lt;&#x2F;div&gt;&lt;div class&#x3D;&quot;dd&quot;&gt;&lt;&#x2F;div&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;choose-luodipei&quot; class&#x3D;&quot;choose-luodipei li&quot; style&#x3D;&quot;display&lt;div class&#x3D;&quot;dt&quot;&gt;é€è£…æœåŠ¡&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;dd&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;choose-suits&quot; class&#x3D;&quot;li choose-suits&quot; style&#x3D;&quot;display:none&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;dt&quot;&gt;å¥—&amp;#x3000;&amp;#x3000;è£…&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;dd clearfix&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">                &lt;&#x2F;div&gt;</span><br><span class="line">                                &lt;div id&#x3D;&quot;choose-gift&quot; class&#x3D;&quot;choose-gift li&quot;  style&#x3D;&quot;display: none;&quot;&gt;</span><br><span class="line">                    &lt;div class&#x3D;&quot;dt&quot;&gt;æ­é…èµ å“&lt;&#x2F;div&gt;</span><br><span class="line">                    &lt;div class&#x3D;&quot;dd clearfix&quot;&gt;</span><br><span class="line">                        &lt;div class&#x3D;&quot;gift J-gift&quot; clstag&#x3D;&quot;shangpin|keycount|product|dapeizengpin&quot;&gt;</span><br><span class="line">                            &lt;i class&#x3D;&quot;sprite-gift J-popup&quot;&gt;&lt;&#x2F;i&gt;&lt;span class&#x3D;&quot;gift-tips&quot;&gt;é€‰æ‹©æ­é…èµ å“(å…±&lt;em&gt;0&lt;&#x2F;em&gt;ä¸ª)&lt;&#x2F;span&gt;</span><br><span class="line">                        &lt;&#x2F;div&gt;</span><br><span class="line">                        &lt;!--choosed--&gt;</span><br><span class="line">                        &lt;div class&#x3D;&quot;J-gift-selected hide&quot;&gt;</span><br><span class="line">                            &lt;div class&#x3D;&quot;gift choosed J-gift-choosed&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">                            &lt;a href&#x3D;&quot;#none&quot; class&#x3D;&quot;gift-modify J-popup&quot; clstag&#x3D;&quot;shangpin|keycount|product|zengpin-genggai&quot;&gt;æ›´æ”¹&lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure>

<p>åœ¨ç»è¿‡ <code>json.Marshal()</code> å¤„ç†ä¹‹åå°±å˜æˆäº†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">\u003cdiv id&#x3D;\&quot;choose-results\&quot; class&#x3D;\&quot;li\&quot; style&#x3D;\&quot;display:none\&quot;\u003e\u003cdiv class&#x3D;\&quot;dt\&quot;\u003eå·²é€‰æ‹©\u003c&#x2F;div\u003e\u003cdiv class&#x3D;\&quot;dd\&quot;\u003e\u003c&#x2F;div\u003e\u003c&#x2F;div\u003e\n                                    \u003c&#x2F;div\u003e\n\n                                                \n                                                                                                \u003cdiv id&#x3D;\&quot;choose-luodipei\&quot; class&#x3D;\&quot;choose-luodipei li\&quot; style&#x3D;\&quot;display:none\&quot;\u003e\n                    \u003cdiv class&#x3D;\&quot;dt\&quot;\u003eé€è£…æœåŠ¡\u003c&#x2F;div\u003e\n                    \u003cdiv class&#x3D;\&quot;dd\&quot;\u003e\u003c&#x2F;div\u003e\n                \u003c&#x2F;div\u003e\n                                                                \u003cdiv id&#x3D;\&quot;choose-suits\&quot; class&#x3D;\&quot;li choose-suits\&quot; style&#x3D;\&quot;display:none\&quot;\u003e\n                    \u003cdiv class&#x3D;\&quot;dt\&quot;\u003eå¥—\u0026#x3000;\u0026#x3000;è£…\u003c&#x2F;div\u003e\n                    \u003cdiv class&#x3D;\&quot;dd clearfix\&quot;\u003e\u003c&#x2F;div\u003e\n                \u003c&#x2F;div\u003e\n                                \u003cdiv id&#x3D;\&quot;choose-gift\&quot; class&#x3D;\&quot;choose-gift li\&quot;  style&#x3D;\&quot;display: none;\&quot;\u003e\n                    \u003cdiv class&#x3D;\&quot;dt\&quot;\u003eæ­é…èµ å“\u003c&#x2F;div\u003e\n                    \u003cdiv class&#x3D;\&quot;dd clearfix\&quot;\u003e\n                        \u003cdiv class&#x3D;\&quot;gift J-gift\&quot; clstag&#x3D;\&quot;shangpin|keycount|product|dapeizengpin\&quot;\u003e\n                            \u003ci class&#x3D;\&quot;sprite-gift J-popup\&quot;\u003e\u003c&#x2F;i\u003e\u003cspan class&#x3D;\&quot;gift-tips\&quot;\u003eé€‰æ‹©æ­é…èµ å“(å…±\u003cem\u003e0\u003c&#x2F;em\u003eä¸ª)\u003c&#x2F;span\u003e\n                        \u003c&#x2F;div\u003e\n                        \u003c!--choosed--\u003e\n                        \u003cdiv class&#x3D;\&quot;J-gift-selected hide\&quot;\u003e\n                            \u003cdiv class&#x3D;\&quot;gift choosed J-gift-choosed\&quot;\u003e\u003c&#x2F;div\u003e\n                            \u003ca href&#x3D;\&quot;#none\&quot; class&#x3D;\&quot;gift-modify J-popup\&quot; clstag&#x3D;\&quot;shangpin|keycount|product|zengpin-genggai\&quot;\u003eæ›´æ”¹\u003c&#x2F;a\u003e\n</span><br></pre></td></tr></table></figure>

<hr>
<p>é€šè¿‡ä¸Šç½‘æœç´¢ï¼Œå‘ç°Golangä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ª <code>SetEscapeHTML()</code> æ–¹æ³•ï¼Œé»˜è®¤æƒ…å†µä¸‹è¯¥å€¼ä¸º <code>true</code> ï¼Œæˆ‘ä»¬åªè¦å°†å…¶è®¾ç½®ä¸º <code>false</code> å³å¯å®ç°ä¸å¯¹htmlæ ‡ç­¾è½¬ä¹‰ã€‚</p>
<p>æˆ‘çš„å°è£…æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package utils</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    &quot;bytes&quot;</span><br><span class="line">    &quot;encoding&#x2F;json&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; json.Marshalæ–¹æ³•ä¼˜åŒ–ï¼Œä¸å¯¹htmlåšè½¬ä¹‰å¤„ç†</span><br><span class="line">func MarshalHTML(v interface&#123;&#125;) ([]byte, error) &#123;</span><br><span class="line">    var buf bytes.Buffer</span><br><span class="line">    enc :&#x3D; json.NewEncoder(&amp;buf)</span><br><span class="line">    enc.SetEscapeHTML(false)</span><br><span class="line">    err :&#x3D; enc.Encode(v)</span><br><span class="line">    if err !&#x3D; nil &#123;</span><br><span class="line">        return nil, err</span><br><span class="line">    &#125;</span><br><span class="line">    return buf.Bytes(), nil</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<ul>
<li><a href="https://stackoverflow.com/questions/28595664/how-to-stop-json-marshal-from-escaping-and" target="_blank" rel="noopener">go - How to stop json.Marshal from escaping &lt; and &gt;? - Stack Overflow</a></li>
</ul>
]]></content>
      <categories>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>Golang</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸ºä»€ä¹ˆæˆ‘è¦æ”¾å¼ƒPythonè€Œè½¬æŠ•Golang</title>
    <url>/2018/12/21/why-me-give-up-python-to-golang/</url>
    <content><![CDATA[<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181221160022.png" alt=""></p>
<p><strong>æ‰å¿ƒäº†ï¼Œè€é“ï¼ï¼ï¼</strong></p>
]]></content>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>FiddleræŠ“åŒ…æ—¶HTTPSè¯ä¹¦æŠ¥é”™é—®é¢˜</title>
    <url>/2018/12/13/fiddler-cannot-create-the-key-of-the-subject-joesoft-failed/</url>
    <content><![CDATA[<p>ä»Šå¤©é¡¹ç›®ä¸­é€šè¿‡FiddleræŠ“åŒ…çš„æ—¶å€™ï¼Œå‘ç°é‡åˆ° <code>https</code> çš„è¯·æ±‚æ— æ³•æŠ“å–åˆ°ï¼Œåœ¨<code>Host</code>ä¸€æ æ˜¾ç¤ºçš„æ˜¯ <code>Tunnel to</code> ã€‚æˆ‘çš„ç¬¬ä¸€æ„Ÿè§‰æ¨æµ‹æ˜¯Fiddlerçš„è¯ä¹¦å‡ºé—®é¢˜äº†ã€‚</p>
<p>å½“åœ¨Fiddlerä¸­é€‰æ‹© <code>Tools</code> â€“ <code>Fiddler Options</code> â€“ <code>HTTPS</code> ä¸­çš„é€‰é¡¹ç§»é™¤è¯ä¹¦çš„æ—¶å€™ï¼Œå´å‘ç°æŠ¥é”™äº†ã€‚</p>
<p>é”™è¯¯ä¿¡æ¯ä¸ºï¼š <code>Can&#39;t create the key of the subject (&#39;JoeSoft&#39;) Failed</code> </p>
<p>å¦‚ä¸‹é¢çš„å½¢å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">--------------------------- </span><br><span class="line">Unable to Generate Certificate </span><br><span class="line">--------------------------- </span><br><span class="line">Creation of the interception certificate failed. </span><br><span class="line">makecert.exe returned -1. </span><br><span class="line">Results from C:\Program Files\Fiddler2\MakeCert.exe -ss my -n </span><br><span class="line">&quot;CN&#x3D;DO_NOT_TRUST_FiddlerRoot, O&#x3D;DO_NOT_TRUST, OU&#x3D;Created by </span><br><span class="line">http:&#x2F;&#x2F;www.fiddler2.com&quot; -eku 1.3.6.1.5.5.7.3.1 -r -cy authority -a </span><br><span class="line">sha1 </span><br><span class="line">Error: Can&#39;t create the key of the subject (&#39;JoeSoft&#39;) </span><br><span class="line">Failed </span><br><span class="line">-------------------------------------------</span><br></pre></td></tr></table></figure>

<p>æœ‰æ—¶å€™ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸‹é¢çš„é”™è¯¯ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190107192103.png" alt=""></p>
<hr>
<h4 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h4><p>åœ¨ç½‘ä¸Šæœç´¢ï¼Œæ‰¾åˆ°ä¸€ç§ç®€å•ç²—æš´çš„æ–¹å¼ï¼Œç»æµ‹è¯•åç¡®å®æœ‰æ•ˆã€‚</p>
<ol>
<li>åœ¨Fiddlerçš„é€‰é¡¹ä¸­æ“ä½œç§»é™¤ç°æœ‰è¯ä¹¦â€“è§ä¸‹é¢çš„ <code>ç§»é™¤è¯ä¹¦</code> æ–¹æ³•ã€‚</li>
<li>é€€å‡ºFiddlerã€‚</li>
<li>æ‰“å¼€windowsèµ„æºç®¡ç†å™¨ï¼Œè¾“å…¥ <code>%userprofile%\AppData\Roaming\Microsoft\Crypto\RSA</code> ï¼Œå›è½¦æ‰“å¼€ï¼›</li>
<li>å°†è¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶å¤¹åˆ é™¤å³å¯ï¼ˆåˆ é™¤ä¹‹å‰ä»¥é˜²å‡ºé—®é¢˜å¯ä»¥å¤‡ä»½ä¸€ä¸‹ï¼‰ã€‚</li>
</ol>
<p>ç„¶åï¼Œå°±å¯ä»¥ä¸ºFiddleré‡æ–°æ·»åŠ è¯ä¹¦äº†â€“è§ä¸‹é¢çš„ <code>å®‰è£…è¯ä¹¦</code> æ–¹æ³•ã€‚</p>
<hr>
<h4 id="ç§»é™¤è¯ä¹¦"><a href="#ç§»é™¤è¯ä¹¦" class="headerlink" title="ç§»é™¤è¯ä¹¦"></a>ç§»é™¤è¯ä¹¦</h4><p>æ‰“å¼€Fiddlerï¼Œé€‰æ‹© <code>Tools</code> â€“ <code>Fiddler Options</code> â€“ <code>HTTPS</code> é€‰é¡¹ï¼Œ</p>
<p>å»æ‰å‹¾é€‰ <code>Capture HTTPS CONNECTs</code> çš„å¯¹å‹¾ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190107191528.png" alt=""></p>
<p>æ­¤æ—¶ï¼Œçª—å£ä¸­å³ä¸‹è§’çš„ <code>Remove Interception Certificates</code> æŒ‰é’®å°±å¯ä»¥ç‚¹å‡»äº†ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190107191642.png" alt=""></p>
<p>ç‚¹å‡»ç§»é™¤å³å¯ã€‚</p>
<p>å¦å¤–éœ€è¦è¯´æ˜ä¸€ç‚¹çš„æ˜¯ï¼Œå³ä½¿ä½ çš„è¯ä¹¦ç§»é™¤å¤±è´¥äº†ï¼Œä¹Ÿè¦æŠŠ <code>Capture HTTPS CONNECTs</code> ä¸€é¡¹å‰é¢çš„å¯¹å‹¾å–æ¶ˆæ‰ï¼Œ<strong>è¿™å¾ˆå…³é”®</strong>ã€‚</p>
<hr>
<h4 id="å®‰è£…è¯ä¹¦"><a href="#å®‰è£…è¯ä¹¦" class="headerlink" title="å®‰è£…è¯ä¹¦"></a>å®‰è£…è¯ä¹¦</h4><p>æ‰“å¼€Fiddlerï¼Œé€‰æ‹© <code>Tools</code> â€“ <code>Fiddler Options</code> â€“ <code>HTTPS</code> é€‰é¡¹ï¼Œ</p>
<p>å‹¾é€‰ <code>Capture HTTPS CONNECTs</code> <code>Decrypt HTTPS traffic</code> é€‰é¡¹ï¼Œä¼šå¼¹å‡ºå®‰è£…è¯ä¹¦æ–‡ä»¶çš„æç¤ºï¼Œç‚¹å‡»ç¡®å®šå³å¯å®‰è£…ã€‚</p>
<p>ç‚¹åˆ° <code>ç¬¬2æ­¥</code> çš„æ—¶å€™å°±ä¼šå¼¹å‡ºå®‰è£…è¯ä¹¦çš„å¼¹çª—ï¼Œé€‰æ‹© <code>Yes</code>ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20190107190523.png" alt=""></p>
<p>å®Œæˆåç‚¹å‡»æœ€ä¸‹é¢çš„ <code>OK</code> é€‰é¡¹ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181213122350.png" alt=""></p>
<p><strong>ç„¶åå°†Fiddlerå…³é—­ï¼Œå†é‡æ–°æ‰“å¼€ã€‚</strong></p>
<p>ä¹‹åï¼Œå°±å¯ä»¥å¯¹HTTPSçš„è¯·æ±‚è¿›è¡ŒæŠ“åŒ…äº†ã€‚</p>
<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="https://www.telerik.com/forums/creation-of-the-interception-certificate-failed" target="_blank" rel="noopener">Creation of the interception certificate failed. - Fiddler on PCs - Fiddler Forum</a></li>
</ul>
]]></content>
      <tags>
        <tag>æ•°æ®æŠ“å–</tag>
      </tags>
  </entry>
  <entry>
    <title>Golangé€šè¿‡Channelå®ç°Nä¸ªä»»åŠ¡å¹¶å‘æ‰§è¡Œå¹¶ç»Ÿä¸€è¿”å›ç»“æœ</title>
    <url>/2018/12/12/golang-task-concurrent-execution-through-channel/</url>
    <content><![CDATA[<p>æœ€è¿‘åœ¨é¡¹ç›®ä¸­æƒ³è¦å®ç°ä¸€ä¸ªéœ€æ±‚ï¼š</p>
<ol>
<li>åœ¨ä¸€ä¸ªè¿‡ç¨‹ä¸­ï¼Œå¯ä»¥å®ç°å¤šä¸ªä»»åŠ¡å¹¶å‘æ‰§è¡Œï¼Œå¹¶åŒæ—¶è¿”å›ç»“æœ</li>
<li>å¤šä¸ªä»»åŠ¡çš„å…¥å‚ç›¸åŒæˆ–å…¥å‚ç±»å‹ç›¸åŒï¼Œè¿”å›ç»“æœç±»å‹ç›¸åŒ</li>
<li>è®¾ç½®é»˜è®¤çš„è¶…æ—¶æ—¶é—´ï¼Œå½“æŸä¸€ä»»åŠ¡æ‰§è¡Œè¶…æ—¶ï¼Œåˆ™è¿”å›é»˜è®¤å€¼</li>
</ol>
<p>ä¸¾ä¸€ä¸ªä¾‹å­å¦‚ï¼šæ ¹æ®ä¸€ä¸ªç”¨æˆ·çš„ <code>userId</code>ï¼Œ<code>ä»»åŠ¡1</code> æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ï¼›<code>ä»»åŠ¡2</code> æŸ¥è¯¢ç”¨æˆ·æ‰€æœ‰è®¢å•ä¿¡æ¯ï¼›<code>ä»»åŠ¡3</code> æŸ¥è¯¢ç”¨æˆ·å…³æ³¨çš„å•†å“ä¿¡æ¯ï¼›ä¸‰ä¸ªä»»åŠ¡å¹¶å‘æ‰§è¡Œï¼Œå¹¶å°†ä¸‰ä¸ªä»»åŠ¡çš„æ‰§è¡Œç»“æœç»Ÿä¸€è¿”å›ã€‚</p>
<hr>
<h4 id="ä¸€ä¸ªğŸŒ°"><a href="#ä¸€ä¸ªğŸŒ°" class="headerlink" title="ä¸€ä¸ªğŸŒ°"></a>ä¸€ä¸ªğŸŒ°</h4><p>å‚è€ƒè‡ªï¼š<a href="https://www.jianshu.com/p/42e89de33065" target="_blank" rel="noopener">Golang ä¸­çš„å¹¶å‘é™åˆ¶ä¸è¶…æ—¶æ§åˆ¶ - ç®€ä¹¦</a> ä¸­çš„ â€œè¶…æ—¶æ§åˆ¶â€ ç¤ºä¾‹:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func main()&#123;</span><br><span class="line">    Test()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">func Run(task_id, sleeptime, timeout int, ch chan string) &#123;</span><br><span class="line">    ch_run :&#x3D; make(chan string)</span><br><span class="line">    go run(task_id, sleeptime, ch_run)</span><br><span class="line">    select &#123;</span><br><span class="line">    case re :&#x3D; &lt;-ch_run:</span><br><span class="line">        ch &lt;- re</span><br><span class="line">    case &lt;-time.After(time.Duration(timeout) * time.Second):</span><br><span class="line">        re :&#x3D; fmt.Sprintf(&quot;task id %d, timeout &quot;, task_id)</span><br><span class="line">        ch &lt;- re</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func run(task_id, sleeptime int, ch chan string) &#123;</span><br><span class="line">    time.Sleep(time.Duration(sleeptime) * time.Second)</span><br><span class="line">    ch &lt;- fmt.Sprintf(&quot;task id %d,sleep %d second&quot;, task_id, sleeptime)</span><br><span class="line">    return</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func Test() &#123;</span><br><span class="line">    input :&#x3D; []int&#123;3, 5, 8&#125;</span><br><span class="line">    timeout :&#x3D; 8</span><br><span class="line">    &#x2F;&#x2F; åˆ›å»ºNä¸ªä»»åŠ¡ç®¡é“ï¼Œç”¨æ¥æ¥æ”¶å„ä¸ªå¹¶å‘ä»»åŠ¡çš„å®Œæˆç»“æœ</span><br><span class="line">    chs :&#x3D; make([]chan string, len(input))</span><br><span class="line">    sTime :&#x3D; time.Now()</span><br><span class="line">    fmt.Println(&quot;start&quot;)</span><br><span class="line"></span><br><span class="line">    for i, sleeptime :&#x3D; range input &#123;</span><br><span class="line">        chs[i] &#x3D; make(chan string)</span><br><span class="line">        go Run(i, sleeptime, timeout, chs[i])</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; è·å–ç»“æœ</span><br><span class="line">    for _, ch :&#x3D; range chs &#123;</span><br><span class="line">        fmt.Println(&lt;-ch)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    eTime :&#x3D; time.Now()</span><br><span class="line">    fmt.Printf(&quot;finished,Process time %s. Number of task is %d \n&quot;, eTime.Sub(sTime), len(input))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="æˆ‘çš„æ”¹é€ "><a href="#æˆ‘çš„æ”¹é€ " class="headerlink" title="æˆ‘çš„æ”¹é€ "></a>æˆ‘çš„æ”¹é€ </h4><p>æˆ‘å°†ä¸Šé¢çš„ç¤ºä¾‹æ”¹é€ æˆäº†ï¼šå°†è¦æ‰§è¡Œçš„æ–¹æ³•ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œè¿™æ ·å°±å¯ä»¥éšæ„ä¼ å…¥ä¸åŒçš„ä»»åŠ¡äº†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func main()&#123;</span><br><span class="line">    Test()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">func Run(f func(s string, ch chan string), s string, timeout int, cOut chan string) &#123;</span><br><span class="line">    ch_run :&#x3D; make(chan string)</span><br><span class="line">    &#x2F;&#x2F; go run(s, ch_run)</span><br><span class="line">    go f(s, ch_run)</span><br><span class="line"></span><br><span class="line">    select &#123;</span><br><span class="line">    case re :&#x3D; &lt;-ch_run:</span><br><span class="line">        cOut &lt;- re</span><br><span class="line">    case &lt;-time.After(time.Duration(timeout) * time.Second):</span><br><span class="line">        re :&#x3D; fmt.Sprintf(&quot;task timeout &quot;)</span><br><span class="line">        cOut &lt;- re</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; func run(s string, ch chan string) &#123;</span><br><span class="line">&#x2F;&#x2F;  time.Sleep(time.Duration(3) * time.Second)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;  ch &lt;- fmt.Sprintf(&quot;task input %s,sleep %d second&quot;, s, 3)</span><br><span class="line">&#x2F;&#x2F;  return</span><br><span class="line">&#x2F;&#x2F; &#125;</span><br><span class="line"></span><br><span class="line">func aa1(s string, ch chan string) &#123;</span><br><span class="line">    time.Sleep(time.Duration(3) * time.Second)</span><br><span class="line">    ch &lt;- fmt.Sprintf(&quot;task1 input %s,sleep %d second&quot;, s, 3)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func aa2(s string, ch chan string) &#123;</span><br><span class="line">    time.Sleep(time.Duration(5) * time.Second)</span><br><span class="line">    ch &lt;- fmt.Sprintf(&quot;task2 input %s,sleep %d second&quot;, s, 5)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func aa3(s string, ch chan string) &#123;</span><br><span class="line">    time.Sleep(time.Duration(10) * time.Second)</span><br><span class="line">    ch &lt;- fmt.Sprintf(&quot;task3 input %s,sleep %d second&quot;, s, 10)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func Test() &#123;</span><br><span class="line">    a :&#x3D; synchron(20, &quot;aaa&quot;, aa1, aa2, aa3)</span><br><span class="line">    fmt.Printf(&quot;result: %v \n&quot;, a)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; timeout: è¶…æ—¶æ—¶é—´</span><br><span class="line">&#x2F;&#x2F; input: ç»Ÿä¸€å…¥å‚</span><br><span class="line">&#x2F;&#x2F; args: æ–¹æ³•</span><br><span class="line">func synchron(timeout int, input string, args ...func(s string, ch chan string)) []string &#123;</span><br><span class="line">    &#x2F;&#x2F; input :&#x3D; []string&#123;&quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;&#125;</span><br><span class="line">    &#x2F;&#x2F; timeout :&#x3D; 8</span><br><span class="line">    &#x2F;&#x2F; åˆ›å»ºNä¸ªä»»åŠ¡ç®¡é“ï¼Œç”¨æ¥æ¥æ”¶å„ä¸ªå¹¶å‘ä»»åŠ¡çš„å®Œæˆç»“æœ</span><br><span class="line">    chs :&#x3D; make([]chan string, len(args))</span><br><span class="line"></span><br><span class="line">    defer func() &#123;</span><br><span class="line">        for _, c :&#x3D; range chs &#123;</span><br><span class="line">            if c !&#x3D; nil &#123;</span><br><span class="line">                close(c)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;()</span><br><span class="line"></span><br><span class="line">    sTime :&#x3D; time.Now()</span><br><span class="line">    fmt.Println(&quot;start&quot;)</span><br><span class="line"></span><br><span class="line">    for i, f :&#x3D; range args &#123;</span><br><span class="line">        chs[i] &#x3D; make(chan string)</span><br><span class="line">        go Run(f, input, timeout, chs[i])</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    resList :&#x3D; []string&#123;&#125;</span><br><span class="line">    &#x2F;&#x2F; è·å–ç»“æœ</span><br><span class="line">    for _, ch :&#x3D; range chs &#123;</span><br><span class="line">        v :&#x3D; &lt;-ch</span><br><span class="line">        fmt.Println(v)</span><br><span class="line">        resList &#x3D; append(resList, v)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    eTime :&#x3D; time.Now()</span><br><span class="line">    fmt.Printf(&quot;finished,Process time %s. Number of task is %d \n&quot;, eTime.Sub(sTime), len(args))</span><br><span class="line">    &#x2F;&#x2F; å°†å¤šä¸ªå¼‚æ­¥ä»»åŠ¡åŒæ—¶è¿”å›</span><br><span class="line">    return resList</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># timeout 20 input &quot;aaa&quot;</span><br><span class="line">âœ go run main.go</span><br><span class="line">start</span><br><span class="line">task1 input aaa,sleep 3 second</span><br><span class="line">task2 input aaa,sleep 5 second</span><br><span class="line">task3 input aaa,sleep 10 second</span><br><span class="line">finished,Process time 10.0028964s. Number of task is 3</span><br><span class="line">result: [task1 input aaa,sleep 3 second task2 input aaa,sleep 5 second task3 input aaa,sleep 10 second]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># timeout 7 input &quot;aaa&quot;</span><br><span class="line">âœ go run main.go</span><br><span class="line">start</span><br><span class="line">task1 input aaa,sleep 3 second</span><br><span class="line">task2 input aaa,sleep 5 second</span><br><span class="line">task timeout</span><br><span class="line">finished,Process time 7.001273493s. Number of task is 3</span><br><span class="line">result: [task1 input aaa,sleep 3 second task2 input aaa,sleep 5 second task timeout ]</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ä½ çš„æ‰©å±•"><a href="#ä½ çš„æ‰©å±•" class="headerlink" title="ä½ çš„æ‰©å±•"></a>ä½ çš„æ‰©å±•</h4><p>å½“ç„¶ï¼Œæˆ‘ä¸Šé¢åªæ˜¯å®ç°äº†ä¸€ç§æƒ…å†µï¼Œè¿˜å¯ä»¥ä¿®æ”¹æˆä¸ºä¸åŒçš„æ–¹æ³•ä¼ å…¥ç›¸åº”ç±»å‹çš„å‚æ•°ç­‰ç­‰ã€‚</p>
<p>ç›®å‰æˆ‘å¯¹Golangçš„Channeläº†è§£çš„ä¸æ·±ï¼Œåªæ˜¯æƒ³è¦å®ç°ç±»ä¼¼çš„æ•ˆæœå°±åœ¨ç½‘ä¸Šæ‰¾äº†ä¸€ä¸‹ï¼ŒåæœŸä¼šå†æ·±å…¥å»å­¦ä¹ ã€‚</p>
<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li>è¿™ä¸ªè®²çš„æŒºå…¨çš„:</li>
<li><a href="https://www.jianshu.com/p/42e89de33065" target="_blank" rel="noopener">Golang ä¸­çš„å¹¶å‘é™åˆ¶ä¸è¶…æ—¶æ§åˆ¶ - ç®€ä¹¦</a></li>
<li>ä½ å¯ä»¥ä»ä¸€ä¸ªç®€å•çš„ä¾‹å­å…¥æ‰‹:</li>
<li><a href="https://blog.csdn.net/lanyang123456/article/details/79250015" target="_blank" rel="noopener">golang å¤šä¸ªroutineä¹‹é—´çš„åŒæ­¥ - ç¿”äº‘ - CSDNåšå®¢</a></li>
<li>å°è¯•å°è£…ä¸€ä¸ªå¹¶å‘æ‰§è¡Œå™¨:</li>
<li><a href="https://blog.csdn.net/love_gaohz/article/details/79659518" target="_blank" rel="noopener">golang å¹¶å‘ä¹‹ååŒæ­¥ - @å¥® é¬¥@çš„ä¸“æ  - CSDNåšå®¢</a></li>
<li>Channelè¯¦è§£:</li>
<li><a href="https://colobu.com/2016/04/14/Golang-Channels/" target="_blank" rel="noopener">Go Channel è¯¦è§£ | é¸Ÿçª</a></li>
</ul>
<hr>
]]></content>
      <categories>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>Golang</tag>
      </tags>
  </entry>
  <entry>
    <title>Gitä¸»åˆ†æ”¯æœ‰æ›´æ”¹åå¦‚ä½•åˆå¹¶æäº¤</title>
    <url>/2018/11/30/how-to-merge-when-main-branch-changed/</url>
    <content><![CDATA[<p>å…¬å¸é‡Œçš„é¡¹ç›®éƒ¨ç½²åœ¨ç§æœ‰çš„GitLabç«™ç‚¹ä¸Šï¼Œé¡¹ç›®çš„ <code>master</code> åˆ†æ”¯ä¸èƒ½ç›´æ¥è¿›è¡Œ <code>git push</code> æ“ä½œï¼Œåªèƒ½é€šè¿‡å°†å…¶ä»–åˆ†æ”¯åˆå¹¶åˆ° <code>master</code> åˆ†æ”¯æ¥ä¸Šçº¿æ–°åŠŸèƒ½ã€‚</p>
<p>æ¯”å¦‚æˆ‘åŸºäº <code>master</code> åˆ†æ”¯åˆ›å»ºäº†ä¸€ä¸ªåä¸º <code>dev-1130</code> çš„åˆ†æ”¯åšåŠŸèƒ½å¼€å‘ã€‚å½“åŠŸèƒ½å¼€å‘å®Œæˆåéœ€è¦åˆå¹¶åˆ° <code>master</code> åˆ†æ”¯ï¼Œå´å‘ç° <code>master</code> åˆ†æ”¯ä¸Šå·²ç»æœ‰åŒäº‹æäº¤äº†è‡ªå·±çš„åˆ†æ”¯ï¼Œæç¤ºæœ‰ä»£ç åˆå¹¶å†²çªï¼Œä¸èƒ½è‡ªåŠ¨åˆå¹¶ã€‚</p>
<p>é‚£ä¹ˆè¿™ç§æƒ…å†µä¸‹è¯¥å¦‚ä½•åˆå¹¶å½“å‰çš„åˆ†æ”¯å‘¢ï¼Ÿ</p>
<p>å…¶å®è§£å†³æ–¹æ³•æœ‰å¾ˆå¤šï¼Œä¸‹é¢è¯´ä¸€ç§ã€‚å…¶ä»–çš„æ–¹æ³•åç»­è¡¥å……ã€‚</p>
<hr>
<h4 id="ç›¸å…³"><a href="#ç›¸å…³" class="headerlink" title="ç›¸å…³"></a>ç›¸å…³</h4><p>2019-10-21 æ›´æ–°ï¼š</p>
<ul>
<li><a href="/2018/11/30/how-to-merge-when-main-branch-changed/">Gitä¸»åˆ†æ”¯æœ‰æ›´æ”¹åå¦‚ä½•åˆå¹¶æäº¤ | ITèŒƒå„¿</a></li>
<li><a href="/2019/10/20/how-to-merge-rejected-git-branch-md/">ä¸´æ—¶åˆ†æ”¯æ³•è§£å†³gitæäº¤ä»£ç å†²çª | ITèŒƒå„¿</a></li>
</ul>
<hr>
<h4 id="åˆ†ä¹‹åˆå¹¶æ³•"><a href="#åˆ†ä¹‹åˆå¹¶æ³•" class="headerlink" title="åˆ†ä¹‹åˆå¹¶æ³•"></a>åˆ†ä¹‹åˆå¹¶æ³•</h4><h5 id="æŸ¥çœ‹å½“å‰åˆ†æ”¯çŠ¶æ€"><a href="#æŸ¥çœ‹å½“å‰åˆ†æ”¯çŠ¶æ€" class="headerlink" title="æŸ¥çœ‹å½“å‰åˆ†æ”¯çŠ¶æ€"></a>æŸ¥çœ‹å½“å‰åˆ†æ”¯çŠ¶æ€</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ git status</span><br><span class="line">On branch dev-1130</span><br><span class="line">nothing to commit, working tree clean</span><br></pre></td></tr></table></figure>

<h5 id="æ‹‰å–å½“å‰åˆ†æ”¯æœ€æ–°ä»£ç "><a href="#æ‹‰å–å½“å‰åˆ†æ”¯æœ€æ–°ä»£ç " class="headerlink" title="æ‹‰å–å½“å‰åˆ†æ”¯æœ€æ–°ä»£ç "></a>æ‹‰å–å½“å‰åˆ†æ”¯æœ€æ–°ä»£ç </h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ git pull origin dev-1130:dev-1130</span><br><span class="line">Already up to date.</span><br></pre></td></tr></table></figure>

<h5 id="åˆ‡æ¢åˆ°masteråˆ†æ”¯"><a href="#åˆ‡æ¢åˆ°masteråˆ†æ”¯" class="headerlink" title="åˆ‡æ¢åˆ°masteråˆ†æ”¯"></a>åˆ‡æ¢åˆ°masteråˆ†æ”¯</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ git checkout master</span><br><span class="line">Switched to branch &#39;master&#39;</span><br><span class="line">Your branch is up to date with &#39;origin&#x2F;master&#39;.</span><br></pre></td></tr></table></figure>

<h5 id="æ‹‰å–masteråˆ†æ”¯æœ€æ–°ä»£ç "><a href="#æ‹‰å–masteråˆ†æ”¯æœ€æ–°ä»£ç " class="headerlink" title="æ‹‰å–masteråˆ†æ”¯æœ€æ–°ä»£ç "></a>æ‹‰å–masteråˆ†æ”¯æœ€æ–°ä»£ç </h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ git pull origin master:master</span><br><span class="line">Already up to date.</span><br></pre></td></tr></table></figure>

<h5 id="æ‰‹åŠ¨åˆå¹¶dev-1130åˆ°masteråˆ†æ”¯"><a href="#æ‰‹åŠ¨åˆå¹¶dev-1130åˆ°masteråˆ†æ”¯" class="headerlink" title="æ‰‹åŠ¨åˆå¹¶dev-1130åˆ°masteråˆ†æ”¯"></a>æ‰‹åŠ¨åˆå¹¶dev-1130åˆ°masteråˆ†æ”¯</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ git merge dev-1130</span><br><span class="line">Auto-merging hello_world&#x2F;hello.py</span><br><span class="line">CONFLICT (content): Merge conflict in hello_world&#x2F;hello.py</span><br><span class="line">Automatic merge failed; fix conflicts and then commit the result.</span><br></pre></td></tr></table></figure>

<h5 id="æç¤ºä»£ç å†²çªï¼Œæ‰‹åŠ¨è§£å†³"><a href="#æç¤ºä»£ç å†²çªï¼Œæ‰‹åŠ¨è§£å†³" class="headerlink" title="æç¤ºä»£ç å†²çªï¼Œæ‰‹åŠ¨è§£å†³"></a>æç¤ºä»£ç å†²çªï¼Œæ‰‹åŠ¨è§£å†³</h5><h5 id="æäº¤æ›´æ”¹"><a href="#æäº¤æ›´æ”¹" class="headerlink" title="æäº¤æ›´æ”¹"></a>æäº¤æ›´æ”¹</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ git add .</span><br><span class="line"></span><br><span class="line">âœ git commit -m &quot;è§£å†³å†²çª&quot;</span><br><span class="line">[master 9c7471f] è§£å†³å†²çª</span><br></pre></td></tr></table></figure>

<h5 id="æŸ¥çœ‹å½“å‰åˆ†æ”¯çŠ¶æ€-1"><a href="#æŸ¥çœ‹å½“å‰åˆ†æ”¯çŠ¶æ€-1" class="headerlink" title="æŸ¥çœ‹å½“å‰åˆ†æ”¯çŠ¶æ€"></a>æŸ¥çœ‹å½“å‰åˆ†æ”¯çŠ¶æ€</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ git status</span><br><span class="line">On branch master</span><br><span class="line">Your branch is ahead of &#39;origin&#x2F;master&#39; by 3 commits.</span><br><span class="line">  (use &quot;git push&quot; to publish your local commits)</span><br></pre></td></tr></table></figure>

<h5 id="å°†å½“å‰masteråˆ†æ”¯æäº¤åˆ°è¿œç«¯çš„dev-1130åˆ†æ”¯"><a href="#å°†å½“å‰masteråˆ†æ”¯æäº¤åˆ°è¿œç«¯çš„dev-1130åˆ†æ”¯" class="headerlink" title="å°†å½“å‰masteråˆ†æ”¯æäº¤åˆ°è¿œç«¯çš„dev-1130åˆ†æ”¯"></a>å°†å½“å‰masteråˆ†æ”¯æäº¤åˆ°è¿œç«¯çš„dev-1130åˆ†æ”¯</h5><p>æ³¨æ„è¿™é‡Œï¼Œæ˜¯å°†æœ¬åœ°æˆ‘ä»¬è§£å†³å†²çªåˆå¹¶ä¹‹åçš„ <code>master</code> åˆ†æ”¯ä»£ç æäº¤åˆ°è¿œç«¯çš„ <code>dev-1130</code> åˆ†æ”¯ä¸Šã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ git push origin master:dev-1130</span><br><span class="line">Counting objects: 4, done.</span><br><span class="line">Delta compression using up to 8 threads.</span><br><span class="line">Compressing objects: 100% (4&#x2F;4), done.</span><br><span class="line">Writing objects: 100% (4&#x2F;4), 548 bytes | 548.00 KiB&#x2F;s, done.</span><br><span class="line">Total 4 (delta 2), reused 0 (delta 0)</span><br><span class="line">To mycompany_gitlab:Leafney&#x2F;hello_world.git</span><br><span class="line">   49c7684..9c7471f  master -&gt; dev-1130</span><br></pre></td></tr></table></figure>

<h5 id="æ‹‰å–è¿œç«¯çš„dev-1130åˆ†æ”¯åˆ°æœ¬åœ°çš„dev-1130åˆ†æ”¯"><a href="#æ‹‰å–è¿œç«¯çš„dev-1130åˆ†æ”¯åˆ°æœ¬åœ°çš„dev-1130åˆ†æ”¯" class="headerlink" title="æ‹‰å–è¿œç«¯çš„dev-1130åˆ†æ”¯åˆ°æœ¬åœ°çš„dev-1130åˆ†æ”¯"></a>æ‹‰å–è¿œç«¯çš„dev-1130åˆ†æ”¯åˆ°æœ¬åœ°çš„dev-1130åˆ†æ”¯</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ git pull origin dev-1130:dev-1130</span><br><span class="line">From mycompany_gitlab:Leafney&#x2F;hello_world</span><br><span class="line">   49c7684..9c7471f  dev-1130    -&gt; dev-1130</span><br><span class="line">Already up to date.</span><br></pre></td></tr></table></figure>

<p>è‡³æ­¤ï¼Œæ“ä½œå®Œæ¯•ã€‚</p>
<hr>
]]></content>
      <categories>
        <category>Gitæ“ä½œç³»åˆ—</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>Forkåˆ«äººçš„é¡¹ç›®æºä½œè€…æ›´æ–°åå¦‚ä½•åŒæ­¥æ›´æ–°</title>
    <url>/2018/11/29/synchronize-project-updated-after-fork/</url>
    <content><![CDATA[<h4 id="forké¡¹ç›®åŒæ­¥æ›´æ–°"><a href="#forké¡¹ç›®åŒæ­¥æ›´æ–°" class="headerlink" title="forké¡¹ç›®åŒæ­¥æ›´æ–°"></a>forké¡¹ç›®åŒæ­¥æ›´æ–°</h4><p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181103172652.png" alt=""></p>
<p>æˆ‘ä¹‹å‰ fork äº† <a href="https://github.com/imroc/req" target="_blank" rel="noopener">https://github.com/imroc/req</a> è¿™ä¸ªé¡¹ç›®ï¼Œä»Šå¤©çœ‹åˆ°è¿™ä¸ªé¡¹ç›®è¿›è¡Œäº†ä¸€äº›æ›´æ–°æ“ä½œã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181103172619.png" alt=""></p>
<p>è¯¥é¡¹ç›®çš„æœ€æ–°æ›´æ–°ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181103172803.png" alt=""></p>
<p>æˆ‘çš„æ›´æ–°ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181103172830.png" alt=""></p>
<hr>
<p>æ›´æ–°æ“ä½œå¦‚ä¸‹ï¼š</p>
<p>å›åˆ°æˆ‘forkè¿‡æ¥çš„é¡¹ç›®ä¸»é¡µé¢ï¼Œç‚¹å‡» <code>New pull request</code> æŒ‰é’®ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181103173029.png" alt=""></p>
<p>åœ¨è¿›å…¥çš„ç•Œé¢ä¸­ï¼Œå°†å·¦ä¾§çš„ <code>base fork</code> é€‰ä¸ºè‡ªå·±çš„ä»“åº“ï¼Œæºforké¡¹ç›®ä½œä¸ºå³è¾¹çš„ <code>head fork</code> ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181103173340.png" alt=""></p>
<p>å½“é€‰æ‹©å®Œå·¦ä¾§ <code>base fork</code> åï¼Œç•Œé¢ä¼šå˜æˆå¦‚ä¸‹ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181103173519.png" alt=""></p>
<p>æ­¤æ—¶ï¼Œç‚¹å‡»å³ä¸Šè§’çš„ <code>compare across forks</code> ï¼Œä¸‹é¢å°±ä¼šå‡ºç°å¯é€‰æ‹©çš„é€‰æ¡†ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181103173811.png" alt=""></p>
<p>è¿™æ—¶ï¼Œå†å°†å·¦ä¾§é€‰æ‹©ä¸ºè‡ªå·±çš„ä»“åº“ï¼Œå³ä¾§é€‰æ‹©ä¸ºæºforké¡¹ç›®ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181103174331.png" alt=""></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œä¸‹é¢å·²ç»æ˜¾ç¤ºå‡ºäº†æºä½œè€…çš„å˜æ›´æ“ä½œã€‚</p>
<p>ç‚¹å‡» <code>Create pull request</code> æŒ‰é’®ï¼Œå¡«å†™æäº¤çš„ä¿¡æ¯ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181103174810.png" alt=""></p>
<p>ä¹‹åï¼Œç‚¹å‡» <code>Create pull request</code> å³å¯ã€‚</p>
<p>è‡³æ­¤ï¼Œå°±å°†æºé¡¹ç›®çš„å˜æ›´åœ¨è‡ªå·±çš„é¡¹ç›®ä¸‹ä½œäº†ä¸€ä¸ª <code>Pull requests</code> çš„åˆå¹¶è¯·æ±‚ã€‚ç‚¹å‡»ä¸‹é¢çš„ <code>Merge pull request</code> ,å®Œæˆåˆå¹¶ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181103175235.png" alt=""></p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181103175315.png" alt=""></p>
<hr>
<h4 id="ä¿®æ”¹äº†é¡¹ç›®æäº¤æ›´æ–°"><a href="#ä¿®æ”¹äº†é¡¹ç›®æäº¤æ›´æ–°" class="headerlink" title="ä¿®æ”¹äº†é¡¹ç›®æäº¤æ›´æ–°"></a>ä¿®æ”¹äº†é¡¹ç›®æäº¤æ›´æ–°</h4><p>æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚</p>
<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="https://blog.csdn.net/qq_26787115/article/details/52133008" target="_blank" rel="noopener">Githubä¸Šæ€ä¹ˆä¿®æ”¹åˆ«äººçš„é¡¹ç›®å¹¶ä¸”æäº¤ç»™åŸä½œè€…ï¼å›¾æ–‡å¹¶èŒ‚ï¼ - åˆ˜æ¡‚æ—çš„åšå®¢ - CSDNåšå®¢</a></li>
<li><a href="https://blog.csdn.net/zhongzunfa/article/details/80344585" target="_blank" rel="noopener">github fork åˆ«äººçš„é¡¹ç›®æºä½œè€…æ›´æ–°åå¦‚ä½•åŒæ­¥æ›´æ–° - zhongzunfaçš„ä¸“æ  - CSDNåšå®¢</a></li>
</ul>
]]></content>
      <categories>
        <category>Gitæ“ä½œç³»åˆ—</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>GitHub</tag>
      </tags>
  </entry>
  <entry>
    <title>Golang http malformed HTTP response æ¢ç©¶</title>
    <url>/2018/11/28/golang-http-error-malformed-http-response/</url>
    <content><![CDATA[<h4 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h4><p>å¤„ç†è¯·æ±‚è¿”å›å†…å®¹çš„æ—¶å€™ï¼Œ é‡åˆ° <code>error malformed HTTP response &quot;&lt;html&gt;&quot;</code> å¼‚å¸¸ä¿¡æ¯</p>
<h4 id="æ¢ç©¶"><a href="#æ¢ç©¶" class="headerlink" title="æ¢ç©¶"></a>æ¢ç©¶</h4><p>æ ¹æ®ç›®å‰çš„æµ‹è¯•æƒ…å†µï¼Œå¾—å‡ºçš„ç»“è®ºæ˜¯ï¼š</p>
<ol>
<li>åœ¨è¯·æ±‚è¿”å›ç»“æœä¸º <code>html</code> é¡µé¢æ—¶ï¼Œproxy éœ€è¦å¸¦ä¸Š <code>http://</code> å‰ç¼€ã€‚</li>
<li>åœ¨è¯·æ±‚è¿”å›ç»“æœä¸º <code>api</code> æ¥å£æ—¶ï¼Œproxy éœ€è¦å»æ‰ <code>http://</code> å‰ç¼€ã€‚</li>
</ol>
<p>å¾…åç»­å¤šæ¬¡éªŒè¯ã€‚</p>
<p><strong>ç»éªŒè¯ï¼š</strong> ä»¥ä¸Šç»“è®º <strong>é”™è¯¯</strong>ã€‚</p>
<table>
<thead>
<tr>
<th>è¯·æ±‚ç½‘å€</th>
<th>è¿”å›ç»“æœç±»å‹</th>
<th>proxyæ ¼å¼</th>
<th>proxyæ˜¯å¦å¸¦http</th>
<th>è¯·æ±‚ç»“æœ</th>
</tr>
</thead>
<tbody><tr>
<td><code>http://ip38.com/</code></td>
<td><code>html</code></td>
<td><code>http://27.203.219.181:8060</code></td>
<td>æ˜¯</td>
<td>okï¼Œå·²éªŒè¯</td>
</tr>
<tr>
<td><code>http://ip38.com/</code></td>
<td><code>html</code></td>
<td><code>27.203.219.181:8060</code></td>
<td>å¦</td>
<td>è¯·æ±‚æ­£å¸¸ï¼Œä»£ç†æœªç”Ÿæ•ˆ,å·²éªŒè¯</td>
</tr>
<tr>
<td><code>https://www.cnblogs.com/</code></td>
<td><code>html</code></td>
<td><code>http://27.203.219.181:8060</code></td>
<td>æ˜¯</td>
<td><code>error,malformed HTTP response &quot;&lt;html&gt;&quot;</code>,å·²éªŒè¯</td>
</tr>
<tr>
<td><code>https://www.cnblogs.com/</code></td>
<td><code>html</code></td>
<td><code>27.203.219.181:8060</code></td>
<td>å¦</td>
<td>okï¼Œå·²éªŒè¯</td>
</tr>
<tr>
<td><code>https://p.3.cn/prices/mgets</code></td>
<td><code>json</code></td>
<td><code>http://27.203.219.181:8060</code></td>
<td>æ˜¯</td>
<td><code>error,malformed HTTP response &quot;&lt;html&gt;&quot;</code>,å·²éªŒè¯</td>
</tr>
<tr>
<td><code>https://p.3.cn/prices/mgets</code></td>
<td><code>json</code></td>
<td><code>27.203.219.181:8060</code></td>
<td>å¦</td>
<td>ok,å·²éªŒè¯</td>
</tr>
</tbody></table>
<p>å³ï¼š</p>
<ul>
<li>è¯·æ±‚ <code>http://ip38.com/</code> æ—¶ï¼Œéœ€è¦ä½¿ç”¨ proxyæ ¼å¼ä¸º <code>http://27.203.219.181:8060</code> æ‰èƒ½è®¿é—®æˆåŠŸã€‚</li>
<li>è¯·æ±‚ <code>https://www.cnblogs.com/</code> æ—¶ï¼Œéœ€è¦ä½¿ç”¨proxyæ ¼å¼ä¸º <code>27.203.219.181:8060</code> æ‰èƒ½è®¿é—®æˆåŠŸã€‚</li>
<li>è¯·æ±‚ <code>https://p.3.cn/prices/mgets</code> æ—¶ï¼Œéœ€è¦ä½¿ç”¨proxyæ ¼å¼ä¸º <code>27.203.219.181:8060</code> æ‰èƒ½è®¿é—®æˆåŠŸã€‚</li>
</ul>
<hr>
<h4 id="æˆ‘çš„ä¸€ç§è§£æ³•"><a href="#æˆ‘çš„ä¸€ç§è§£æ³•" class="headerlink" title="æˆ‘çš„ä¸€ç§è§£æ³•"></a>æˆ‘çš„ä¸€ç§è§£æ³•</h4><p>é¡¹ç›®ä¸­åœ¨æµ‹è¯•ä½¿ç”¨ä»£ç†çš„ä»£ç æ®µï¼š</p>
<p>ä»£ç ä¸­çš„ <code>req.XReq()</code> æ˜¯å¯¹ <a href="https://github.com/imroc/req" target="_blank" rel="noopener">imroc/req: a golang http request library for humans</a> çš„å°è£…ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">    &#x2F;&#x2F; ä½¿ç”¨äº†ä»£ç†ip</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;ä¸ºé˜²æ­¢ä½¿ç”¨ä»£ç†ipè¯·æ±‚è¶…æ—¶å¤ªé•¿ï¼Œè®¾ç½®é»˜è®¤è¶…æ—¶æ—¶é—´ä¸º30s</span><br><span class="line">    if _, ok :&#x3D; rh[&quot;time-out&quot;]; !ok &#123;</span><br><span class="line">        &#x2F;&#x2F; è¯·æ±‚å¤´ä¸­ time-out å‚æ•°ä¸å­˜åœ¨</span><br><span class="line">        rh[&quot;time-out&quot;] &#x3D; 30</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    is_malformedHttp :&#x3D; false</span><br><span class="line"></span><br><span class="line">HandleProxy:</span><br><span class="line">    for _, ag :&#x3D; range rAgents &#123;</span><br><span class="line">        &#x2F;&#x2F; è¡¨ç¤ºåœ¨ä½¿ç”¨proxy ipæ—¶ï¼Œæ˜¯å¦é‡åˆ°è¿”å›é”™è¯¯ä¿¡æ¯ä¸º malformed HTTP response &quot;&lt;html&gt;&quot; çš„æƒ…å†µ</span><br><span class="line"></span><br><span class="line">        if is_malformedHttp &#123;</span><br><span class="line">            &#x2F;&#x2F; å°†ä»£ç†ipçš„ http:&#x2F;&#x2F; å»æ‰</span><br><span class="line">            ag &#x3D; GetHostAndPort(ag)</span><br><span class="line">            fmt.Printf(&quot;[info] remove http for proxy ip: %s .\n&quot;, ag)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        rh[&quot;proxy&quot;] &#x3D; ag</span><br><span class="line">        fmt.Printf(&quot;[info] use proxy to request: %s .\n&quot;, ag)</span><br><span class="line"></span><br><span class="line">        resData, errMsg &#x3D; req.XReq(rUrl, rh, rp)</span><br><span class="line">        if errMsg !&#x3D; nil &#123;</span><br><span class="line">            fmt.Printf(&quot;[info] the proxy result error: %s .\n&quot;, errMsg.Error())</span><br><span class="line"></span><br><span class="line">            if !is_malformedHttp &#123;</span><br><span class="line">                &#x2F;&#x2F; å½“ is_malf ä¸º falseæ—¶ï¼Œæ‰å¯¹ mailformed http response å¤„ç†</span><br><span class="line">                if strings.Contains(errMsg.Error(), &quot;malformed HTTP response&quot;) &#123;</span><br><span class="line">                    fmt.Printf(&quot;[error] the proxy ip format error: %s .\n&quot;, errMsg.Error())</span><br><span class="line">                    is_malformedHttp &#x3D; true</span><br><span class="line">                    time.Sleep(1 * time.Second)</span><br><span class="line">                    goto HandleProxy</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            continue</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            fmt.Printf(&quot;[info] the proxy ok %s .\n&quot;, ag)</span><br><span class="line">            break</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>å®ç°é€»è¾‘æ˜¯ï¼š</p>
<p>å½“ä¼ å…¥çš„ä»£ç†ipæ ¼å¼ä¸º <code>http://27.203.219.181:8060</code> ï¼Œå…ˆå‘èµ·è¯·æ±‚ï¼Œå¦‚æœè¯·æ±‚æŠ¥é”™ï¼Œåˆ¤æ–­é”™è¯¯ä¿¡æ¯æ˜¯å¦åŒ…å« <code>malformed HTTP response</code> ï¼Œå¦‚æœåŒ…å«ï¼Œåˆ™è®¤ä¸ºæ˜¯ä»£ç†ipçš„æ ¼å¼é”™è¯¯ï¼Œéœ€è¦å¯¹ä»£ç†ipå¤„ç†ã€‚</p>
<p>é€šè¿‡ <code>goto</code> è¯­å¥ï¼Œç›´æ¥è·³å›åˆ° <code>for</code> å¾ªç¯ä¹‹å¤–ï¼Œå¯¹ä»£ç†ipåšæ ¼å¼åŒ–å¤„ç†ï¼Œæˆªå–åˆ° <code>host:port</code> çš„æ ¼å¼å†æ¬¡å»è¯·æ±‚ã€‚</p>
<p>ä¸ºäº†é˜²æ­¢ç¬¬äºŒæ¬¡è¯·æ±‚æ—¶å†é‡åˆ° <code>malformed HTTP response</code> é”™è¯¯çš„è¯ï¼Œåˆä¼š <code>goto</code> åˆ° <code>for</code> å¾ªç¯ä¹‹å¤–ï¼Œæ‰€ä»¥è¿™é‡ŒåŠ ä¸€ä¸ªæ ‡è®° <code>is_malformedHttp</code> ï¼Œæ ‡æ˜ä»£ç†ipå‡ºç°æ ¼å¼é—®é¢˜æ—¶æ˜¯å¦è¢«å¤„ç†è¿‡ã€‚</p>
<p>åç»æµ‹è¯•éªŒè¯ï¼Œè¿™ç§æ–¹æ³•æ— æ•ˆã€‚</p>
<hr>
<p>éªŒè¯ç»“æœï¼š</p>
<ol>
<li>å½“ä»£ç†æ ¼å¼ä¸º <code>[&quot;http://192.168.1.100:8080&quot;,&quot;192.168.1.120:8080&quot;]</code> æ—¶ï¼Œproxy1ç¬¬ä¸€æ¬¡è¯·æ±‚å¼‚å¸¸ï¼Œç»â€œå¤„ç†â€åè¯·æ±‚ä»å¼‚å¸¸ï¼Œproxy2ç¬¬ä¸€æ¬¡è¯·æ±‚å¼‚å¸¸ã€‚è¯·æ±‚ç»“æŸã€‚</li>
<li>å½“ä»£ç†æ ¼å¼ä¸º <code>[&quot;192.168.1.100:8080&quot;,&quot;192.168.1.120:8080&quot;]</code> æ—¶ï¼Œproxy1ç¬¬ä¸€æ¬¡è¯·æ±‚æ­£å¸¸ã€‚è¯·æ±‚ç»“æŸã€‚</li>
</ol>
<hr>
<h4 id="çŒœæµ‹"><a href="#çŒœæµ‹" class="headerlink" title="çŒœæµ‹"></a>çŒœæµ‹</h4><p>ä¸ºä»€ä¹ˆåœ¨ä»£ç†Ipç»å¤„ç†åçš„è¯·æ±‚ï¼Œä»ç„¶ä¼šå‡ºé”™å‘¢ï¼Ÿ</p>
<p>ä¸ªäººæ€€ç–‘æ˜¯ <code>defer</code> å¯¼è‡´çš„ã€‚</p>
<blockquote>
<p>deferè¯­å¥è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ‰§è¡Œä¼šæ¨è¿Ÿï¼Œç›´åˆ°å¤–å›´çš„å‡½æ•°è¿”å›ï¼Œæˆ–è€…å¤–å›´å‡½æ•°è¿è¡Œåˆ°æœ€åï¼Œæˆ–è€…ç›¸åº”çš„goroutine panic.</p>
</blockquote>
<p>åœ¨è¯·æ±‚ä¹‹åï¼Œéœ€è¦ <code>defer</code> å» <code>close</code> è¯·æ±‚ã€‚è€Œ <code>defer</code> åˆæœ‰å»¶åæ€§ï¼Œä¹Ÿå°±å¯¼è‡´äº†åœ¨ <code>for</code> å¾ªç¯ä¸­çš„å¤šæ¬¡è¯·æ±‚ä¹‹é—´éƒ½æ˜¯æœ‰å…³è”çš„ï¼Œç¬¬ä¸€æ¬¡çš„è¯·æ±‚å¯¹è±¡å¹¶æ²¡æœ‰è¢«å…³é—­å°±ç»§ç»­è¿›è¡Œäº†åç»­çš„è¯·æ±‚ï¼Œç›´åˆ°å‡½æ•°ç»“æŸï¼Œè¯·æ±‚æ‰è¢«å…³é—­æ‰ã€‚</p>
<p>ä¹Ÿå°±å¯¼è‡´äº†ï¼Œå³ä½¿ç¬¬äºŒæ¬¡è¯·æ±‚æ—¶çš„ä»£ç†ipå»æ‰äº† <code>http://</code> ï¼Œè¯·æ±‚ä»ç„¶ä¼šå¤±è´¥ã€‚</p>
<hr>
<h4 id="ä¹‹åå¦‚ä½•å¤„ç†"><a href="#ä¹‹åå¦‚ä½•å¤„ç†" class="headerlink" title="ä¹‹åå¦‚ä½•å¤„ç†"></a>ä¹‹åå¦‚ä½•å¤„ç†</h4><ol>
<li>å…ˆç”¨ <code>http://27.203.219.181:8060</code> çš„ä»£ç†æ ¼å¼å»è¯·æ±‚ï¼Œå½“é‡åˆ° <code>malformed HTTP response</code> é”™è¯¯æ—¶ï¼Œç›´æ¥æŠ›å‡ºå¼‚å¸¸ï¼Œç­‰å¾…ä¸‹æ¬¡è¯·æ±‚ã€‚</li>
<li>åœ¨ç¬¬äºŒæ¬¡è¯·æ±‚æ—¶ï¼Œå°†ä»£ç†ipçš„æ ¼å¼æ›´æ”¹ä¸º <code>27.203.219.181:8060</code> ä¼ å…¥ï¼Œå†å»æ‰§è¡Œè¯·æ±‚æ“ä½œã€‚</li>
</ol>
<h4 id="ç›¸å…³"><a href="#ç›¸å…³" class="headerlink" title="ç›¸å…³"></a>ç›¸å…³</h4><ul>
<li><a href="https://github.com/golang/go/blob/master/src/net/http/response.go#L168" target="_blank" rel="noopener">https://github.com/golang/go/blob/master/src/net/http/response.go#L168</a></li>
<li><a href="http://holys.im/2015/06/28/debug-http/" target="_blank" rel="noopener">HTTP Method | holysâ€™</a></li>
</ul>
<h4 id="æ¨è"><a href="#æ¨è" class="headerlink" title="æ¨è"></a>æ¨è</h4><p>æ¨èä¸¤ä¸ªè¯·æ±‚ç±»ï¼š</p>
<ul>
<li>req: <a href="https://github.com/imroc/req" target="_blank" rel="noopener">imroc/req: a golang http request library for humans</a></li>
<li>gorequest: <a href="https://github.com/parnurzeal/gorequest" target="_blank" rel="noopener">parnurzeal/gorequest: GoRequest â€“ Simplified HTTP client ( inspired by nodejs SuperAgent )</a></li>
</ul>
<hr>
<p>ä»¥ä¸Šï¼Œä»…åšè®°å½•ã€‚ç”±äºæš‚æœªæŸ¥è¯¢åˆ°é—®é¢˜åŸå› ï¼Œåç»­æŒç»­æ›´æ–°ã€‚</p>
]]></content>
      <categories>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>Golang</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoåšå®¢Nextä¸»é¢˜è§£å†³ä¸è’œå­ç»Ÿè®¡ä¸æ˜¾ç¤ºé—®é¢˜</title>
    <url>/2018/11/12/busuanzi-counter-error/</url>
    <content><![CDATA[<p>ä»Šå¤©åœ¨æŸ¥çœ‹åšå®¢ä¸­æ–‡ç« çš„æ—¶å€™ï¼Œå‘ç°é¡µé¢ä¸­çš„ç»Ÿè®¡éƒ½ä¸æ˜¾ç¤ºäº†ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181112154409.png" alt=""></p>
<p>çœ‹äº†ä¸€ä¸‹Chromeçš„æ§åˆ¶å°ï¼Œå‘ç°æ˜¯ <code>ä¸è’œå­</code> ç»Ÿè®¡çš„jsæ–‡ä»¶æ‰¾ä¸åˆ°è€ŒæŠ¥é”™äº†ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181112154303.png" alt=""></p>
<p>æ‰“å¼€ <code>ä¸è’œå­</code> çš„å®˜æ–¹ç½‘ç«™ <a href="http://ibruce.info/2015/04/04/busuanzi/" target="_blank" rel="noopener">ä¸è’œå­ | ä¸å¦‚</a> å±…ç„¶çœ‹åˆ°äº†å¦‚ä¸‹çš„æç¤ºï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181112154539.png" alt=""></p>
<p>ç«Ÿç„¶æ˜¯åŸæ¥çš„åŸŸåä¸å¯ç”¨äº†ã€‚</p>
<p>é¢ã€‚ã€‚ã€‚çœ‹å®Œæˆ‘åªæƒ³è¯´ï¼šä¸ƒç‰›ç¡®å®å‘å•Šã€‚ã€‚ã€‚</p>
<hr>
<p>è§£å†³æ–¹æ³•ï¼š</p>
<p>å®˜æ–¹ä¹Ÿç»™å‡ºäº†ç›¸åº”çš„æ–¹æ³•ï¼Œå³åªéœ€è¦æ›´æ”¹ <code>next</code> ä¸»é¢˜ä¸‹çš„ <code>ä¸è’œå­</code> æ’ä»¶çš„jså¼•ç”¨é“¾æ¥å³å¯ã€‚</p>
<p>è¿›å…¥ hexo åšå®¢é¡¹ç›®çš„ <code>themes</code> ç›®å½•ä¸‹ï¼Œåœ¨ <code>next</code> ä¸»é¢˜ç›®å½•ä¸­çš„ <code>layout/_third-party/analytics/</code> ä¸‹æ‰¾åˆ° <code>busuanzi-counter.swig</code> æ–‡ä»¶ï¼Œ</p>
<p>å°†:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script async src&#x3D;&quot;https:&#x2F;&#x2F;dn-lbstatics.qbox.me&#x2F;busuanzi&#x2F;2.3&#x2F;busuanzi.pure.mini.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>æ¢æˆï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script async src&#x3D;&quot;&#x2F;&#x2F;busuanzi.ibruce.info&#x2F;busuanzi&#x2F;2.3&#x2F;busuanzi.pure.mini.js&quot;&gt;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>å³å¯ã€‚</p>
<hr>
<p>å½“ç„¶ï¼Œæ”¹èµ·æ¥å¹¶ä¸éº»çƒ¦ã€‚å…³é”®æ˜¯ä½ å¾—çŸ¥é“æ”¹å“ªé‡Œã€‚</p>
]]></content>
      <categories>
        <category>Hexoåšå®¢æ­å»º</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Google Pixelè§£é”BLã€åˆ·å…¥TwrpåŠRootæŠ˜è…¾å°è®°</title>
    <url>/2018/10/16/google-pixel-unlock-bl-and-root/</url>
    <content><![CDATA[<p>å› ä¸ºä¸ªäººé¡¹ç›®ä¸Šçš„éœ€è¦ï¼Œæˆ‘ä»æŸå®å…¥æ‰‹äº†ä¸€æ¬¾äºŒæ‰‹çš„Google Pixel æ¬§ç‰ˆæ‰‹æœºã€‚å½“åˆé€‰æ‹©æ—¶ä¸»è¦æ˜¯è€ƒè™‘åˆ°å®ƒçš„å¤§å†…å­˜â€“4Gå†…å­˜ï¼Œå¯ä»¥æµç•…è¿è¡Œå¸¸ç”¨çš„ç¨‹åºã€‚ï¼ˆä¸è¿‡å…¥æ‰‹ä¹‹åçš„æ„Ÿè§‰å°±æ˜¯ï¼Œè¦æƒ³ç”¨å¥½Googleçš„æ‰‹æœºï¼Œã€Œç§‘å­¦ä¸Šç½‘ã€æ˜¯å¿…å¤‡çš„æŠ€èƒ½ï¼Œå¦åˆ™çš„è¯ï¼Œè¿˜æ˜¯ç”¨å›½å†…çš„æ‰‹æœºå§ï¼ï¼‰</p>
<p>å› ä¸ºéœ€è¦åœ¨æ‰‹æœºä¸Šå®‰è£…æŒ‰é”®ç²¾çµçš„æ‰‹æœºç‰ˆappï¼Œè€Œè°ƒè¯•æŒ‰é”®ç²¾çµçš„è„šæœ¬åˆéœ€è¦è·å–æ‰‹æœºçš„Rootæƒé™ï¼Œæ‰€ä»¥å°±å¼€å§‹äº†æˆ‘çš„Pixelåˆ·æœºä¹‹æ—…ã€‚</p>
<hr>
<h4 id="å‡†å¤‡å·¥å…·"><a href="#å‡†å¤‡å·¥å…·" class="headerlink" title="å‡†å¤‡å·¥å…·"></a>å‡†å¤‡å·¥å…·</h4><ol>
<li>Google Pixelæ‰‹æœº æ¬§ç‰ˆï¼ˆå›½é™…ç‰ˆï¼‰</li>
<li>Android 8.1.0</li>
<li>Windowsæˆ–Mac</li>
<li>twrp</li>
<li>Magisk</li>
<li>ss</li>
</ol>
<hr>
<h4 id="æ¬§ç‰ˆåˆ¤æ–­"><a href="#æ¬§ç‰ˆåˆ¤æ–­" class="headerlink" title="æ¬§ç‰ˆåˆ¤æ–­"></a>æ¬§ç‰ˆåˆ¤æ–­</h4><p>ç‚¹å‡»Settings(è®¾ç½®) -&gt; System(ç³»ç»Ÿ) -&gt; About phone(å…³äºæ‰‹æœº) -&gt; Regulatory labels(ç›‘ç®¡æ ‡ç­¾) æŸ¥çœ‹ã€‚</p>
<p>MODEL: G-2PW4200 ï¼Œå…¶ä¸­ <code>4200</code> è¡¨ç¤ºæ¬§ç‰ˆï¼Œ<code>4100</code> è¡¨ç¤ºç¾ç‰ˆã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181016195733.png" alt=""></p>
<hr>
<h4 id="è§£é”Bootloader"><a href="#è§£é”Bootloader" class="headerlink" title="è§£é”Bootloader"></a>è§£é”Bootloader</h4><p>ï¼ˆæ³¨æ„ï¼šè§£é” Bootloader é‡ç½®è®¾å¤‡æ•°æ®ï¼Œè¯·æ³¨æ„å¤‡ä»½ã€‚ä¸€å®šä¸è¦å¿˜è®°é€€å‡ºä½ çš„Googleè´¦å·å’Œå–æ¶ˆæŒ‡çº¹è¯†åˆ«åŠé”å±è®¾ç½®ã€‚ï¼‰</p>
<p>ç”±äºæˆ‘çš„æ‰‹æœºæ˜¯æ–°ä¹°çš„ï¼Œæ‰€ä»¥è¿™äº›æ“ä½œå°±å…äº†ã€‚</p>
<hr>
<h5 id="å¼€å¯USBè°ƒè¯•å’ŒOEMè§£é”"><a href="#å¼€å¯USBè°ƒè¯•å’ŒOEMè§£é”" class="headerlink" title="å¼€å¯USBè°ƒè¯•å’ŒOEMè§£é”"></a>å¼€å¯USBè°ƒè¯•å’ŒOEMè§£é”</h5><p>å®‰è£…ã€Œç§‘å­¦ä¸Šç½‘ã€å·¥å…·ï¼Œå¹¶æˆåŠŸæ¥å…¥äº’è”ç½‘ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181016143933.png" alt=""></p>
<p>é€‰æ‹© ã€Œè®¾ç½®-ç³»ç»Ÿ-å…³äºæ‰‹æœº-ç‰ˆæœ¬å·ã€ï¼ŒçŒ›å‡»ã€Œç‰ˆæœ¬å·ã€7æ¬¡å¼€å¯ ã€Œå¼€å‘è€…é€‰é¡¹ã€ã€‚</p>
<p>è¿”å›ã€Œä¸Šä¸€é¡µã€ï¼Œåœ¨ã€Œå¼€å‘è€…é€‰é¡¹ã€ä¸­å¼€å¯ã€ŒUSBè°ƒè¯•ã€å’Œã€ŒOEMè§£é”ã€ä¸¤ä¸ªé€‰é¡¹ã€‚å¦‚æœã€ŒOEMè§£é”ã€é€‰é¡¹æ˜¾ç¤ºä¸ºç°è‰²ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181016144134.png" alt=""></p>
<p>é€šè¿‡æ•°æ®çº¿å°†æ‰‹æœºè¿æ¥è‡³ç”µè„‘ï¼Œæ­¤æ—¶ï¼Œæ‰‹æœºç«¯ä¼šå¼¹å‡º USB è°ƒè¯•ç”³è¯·ï¼Œç‚¹å‡»ã€Œå…è®¸ã€ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181016144340.png" alt=""></p>
<p>å¯ä»¥é€šè¿‡å‘½ä»¤ <code>adb devices</code> æ¥éªŒè¯æ˜¯å¦å…è®¸adbè°ƒè¯•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ adb devices</span><br><span class="line">List of devices attached</span><br><span class="line">FA6XXXXXXX53    device</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="è¿›å…¥-Bootloaderæ¨¡å¼"><a href="#è¿›å…¥-Bootloaderæ¨¡å¼" class="headerlink" title="è¿›å…¥ Bootloaderæ¨¡å¼"></a>è¿›å…¥ Bootloaderæ¨¡å¼</h5><p>è¿›å…¥bootloaderé»˜è®¤æœ‰ä¸¤ç§æ–¹å¼ï¼Œç¬¬ä¸€ç§æ˜¯é€šè¿‡åœ¨å…³æœºçŠ¶æ€ä¸‹ã€ŒæŒ‰ä½ç”µæºé”®+éŸ³é‡å‡å°‘é”®ã€ï¼›ç¬¬äºŒç§æ˜¯é€šè¿‡ã€ŒADBå‘½ä»¤ã€è¿›å…¥ã€‚</p>
<p>è¿™é‡Œæˆ‘é‡‡ç”¨ã€Œadbå‘½ä»¤ã€æ¥æ“ä½œã€‚</p>
<p>å›åˆ°å‘½ä»¤æç¤ºç¬¦çª—å£ï¼Œé”®å…¥ <code>adb reboot bootloader</code> å¹¶å›è½¦ï¼Œæ‰‹æœºä¼šç«‹å³é‡å¯è‡³ Bootloader æ¨¡å¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">~&#x2F;test&#x2F;pixel</span><br><span class="line">âœ adb reboot bootloader</span><br></pre></td></tr></table></figure>

<p>ä¹‹åï¼Œé€šè¿‡ <code>fastboot devices</code> å‘½ä»¤éªŒè¯ fastboot æ˜¯å¦æˆåŠŸï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ fastboot devices</span><br><span class="line">FA6AB0311758    fastboot</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="è§£é”-Bootloader"><a href="#è§£é”-Bootloader" class="headerlink" title="è§£é” Bootloader"></a>è§£é” Bootloader</h5><p>ä¸Šä¸€æ­¥è¿›å…¥Bootloaderé¡µé¢åï¼Œæ‰‹æœºç•Œé¢åº”è¯¥æ˜¯å¦‚ä¸‹å›¾ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181016211926.png" alt=""></p>
<p>åœ¨å‘½ä»¤æç¤ºç¬¦çª—å£é”®å…¥ <code>fastboot flashing unlock</code> å¹¶å›è½¦ï¼Œæ‰‹æœºè¿›å…¥ Bootloader è§£é”ç•Œé¢ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ fastboot flashing unlock</span><br><span class="line">...</span><br><span class="line">OKAY [  0.049s]</span><br><span class="line">finished. total time: 0.049s</span><br></pre></td></tr></table></figure>

<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181016212056.png" alt=""></p>
<p>å¯¹äº <code>Pixel 2 XL</code> æœºå‹ï¼Œè¦ç”¨å¦‚ä¸‹çš„å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">fastboot flashing unlock_critical</span><br></pre></td></tr></table></figure>

<p>è¯¦æƒ…æŸ¥çœ‹ï¼š<a href="https://developers.google.com/android/images" target="_blank" rel="noopener">Factory Images for Nexus and Pixel Devices  |  Google APIs for Android  |  Google Developers</a></p>
<p>åœ¨ Bootloader è§£é”ç•Œé¢ä¸­ï¼Œä½¿ç”¨éŸ³é‡é”® <code>+/-</code> æ¥æ§åˆ¶å…‰æ ‡ï¼Œé€‰æ‹©ã€ŒYesã€å¹¶æŒ‰ä¸‹ç”µæºé”®æ¥è¿›è¡Œ Bootloader è§£é”ã€‚</p>
<p>ç¡®è®¤å®Œæ¯•å,ç¨ä½œç­‰å¾…ã€‚é€šè¿‡ <code>fastboot reboot</code> å‘½ä»¤é‡å¯æ‰‹æœºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ fastboot reboot</span><br><span class="line">rebooting...</span><br><span class="line"></span><br><span class="line">finished. total time: 0.050s</span><br></pre></td></tr></table></figure>

<p>ç¨ç­‰ç‰‡åˆ»ä¹‹åï¼Œä½ çš„è®¾å¤‡ä¼šè‡ªåŠ¨é‡å¯ã€‚</p>
<hr>
<h5 id="åˆ¤æ–­è§£é”æˆåŠŸ"><a href="#åˆ¤æ–­è§£é”æˆåŠŸ" class="headerlink" title="åˆ¤æ–­è§£é”æˆåŠŸ"></a>åˆ¤æ–­è§£é”æˆåŠŸ</h5><p>å½“æ‰‹æœºé‡å¯æ—¶å‡ºç°é»‘åº•ç™½å­—çš„è‹±æ–‡è­¦å‘Šé¡µä»¥åŠå±å¹•ä¸‹æ–¹å‡ºç°ä¸€æŠŠæ‰“å¼€çš„å°é”ï¼Œé‚£ Bootloader å°±è§£é”æˆåŠŸå•¦ã€‚</p>
<p>é‡å¯æ‰‹æœºï¼Œå‡ºç°å¦‚ä¸‹ä¸¤ä¸ªç•Œé¢å°±ç®—è§£é”æˆåŠŸï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181016191327.png" alt=""></p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181016191719.png" alt=""></p>
<p>å½“ç„¶ï¼Œè¿˜æœ‰ä¸€ç§æ›´ç®€å•çš„æ–¹æ³•ï¼Œå°±æ˜¯å†æ¬¡è¿›å…¥ <code>fastboot</code> æ¨¡å¼ï¼ŒæŸ¥çœ‹ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181017110509.png" alt=""></p>
<hr>
<h4 id="è§£é”Bootloaderåçš„ä¸¤ä¸ªé—®é¢˜"><a href="#è§£é”Bootloaderåçš„ä¸¤ä¸ªé—®é¢˜" class="headerlink" title="è§£é”Bootloaderåçš„ä¸¤ä¸ªé—®é¢˜"></a>è§£é”Bootloaderåçš„ä¸¤ä¸ªé—®é¢˜</h4><h5 id="æ¢å¤åˆå§‹"><a href="#æ¢å¤åˆå§‹" class="headerlink" title="æ¢å¤åˆå§‹"></a>æ¢å¤åˆå§‹</h5><p>åœ¨è§£é” Bootloader ä¹‹åï¼Œå¯ä»¥çœ‹åˆ°æ‰‹æœºç³»ç»Ÿå·²ç»æ˜¯å®Œå…¨åˆå§‹åŒ–çš„çŠ¶æ€äº†ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181016212322.png" alt=""></p>
<p>åœ¨è¿›å…¥ ã€Œå…³äºæ‰‹æœºã€ ç•Œé¢åï¼Œå¯ä»¥å‘ç°ä¹‹å‰å¼€å¯çš„ã€Œå¼€å‘è€…é€‰é¡¹ã€ä¹Ÿæ˜¯é»˜è®¤å…³é—­äº†ï¼Œéœ€è¦å†æ¬¡ç‚¹å‡»7æ¬¡ã€Œç‰ˆæœ¬å·ã€å¼€å¯ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181016212428.png" alt=""></p>
<p>é‚£ä¹ˆï¼Œåœ¨æ‰§è¡Œåé¢çš„æ“ä½œæ—¶æ˜¯å¦ä»éœ€è¦å†æ¬¡å°†ã€ŒOEMè§£é”ã€æ‰“å¼€å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼š<strong>ä¸éœ€è¦</strong>ã€‚</p>
<p>ç„¶è€Œï¼Œå› ä¸ºåé¢éœ€è¦ç”¨åˆ° <code>adb</code> å‘½ä»¤å»æ“ä½œæ‰‹æœºï¼Œæ‰€ä»¥ã€ŒUSBè°ƒè¯•ã€é€‰é¡¹è¿˜æ˜¯éœ€è¦æ‰“å¼€çš„ã€‚</p>
<p>å…³äºã€ŒOEMé”ä¸bootloaderé”çš„å…³ç³»ã€ï¼Œå¯ä»¥çœ‹ä¸‹é¢çš„ <a href="#OEMé”ä¸bootloaderé”çš„å…³ç³»">ç–‘éš¾è§£ç­”</a> ã€‚</p>
<hr>
<h5 id="é”™è¯¯æç¤º"><a href="#é”™è¯¯æç¤º" class="headerlink" title="é”™è¯¯æç¤º"></a>é”™è¯¯æç¤º</h5><p>æˆåŠŸè§£é”Bootloaderåï¼Œæ¯æ¬¡æ‰‹æœºå¯åŠ¨æˆ–é‡å¯æ—¶ï¼Œéƒ½ä¼šå‡ºç°é»‘åº•ç™½å­—çš„è‹±æ–‡è­¦å‘Šé¡µï¼Œæç¤º â€œYour device software canâ€™t be checked for corruption. Please lock the bootloaderâ€ã€‚ </p>
<p><strong>è¿™æ²¡æœ‰ä»€ä¹ˆå¯æ‹…å¿ƒçš„ï¼Œè¿™æ˜¯æ­£å¸¸çš„ï¼</strong></p>
<p>è¿™ä»…ä»…æ˜¯æç¤ºä½  Bootloader è¢«è§£é”äº†ï¼Œç›´æ¥å¿½è§†å³å¯ã€‚</p>
<hr>
<h4 id="åˆ·å…¥ç¬¬ä¸‰æ–¹Recovery-TWRPåŠRoot"><a href="#åˆ·å…¥ç¬¬ä¸‰æ–¹Recovery-TWRPåŠRoot" class="headerlink" title="åˆ·å…¥ç¬¬ä¸‰æ–¹Recovery:TWRPåŠRoot"></a>åˆ·å…¥ç¬¬ä¸‰æ–¹Recovery:TWRPåŠRoot</h4><p>ç”±äºPixelåŠPixel XLéƒ½é‡‡ç”¨A/Bå‡çº§ç³»ç»Ÿï¼Œå› è€Œå¯ä»¥ç†è§£ä¸ºæ‰‹æœºé‡Œæœ‰2ä¸ªç³»ç»Ÿï¼Œå¦‚æœä½ æŒ‰ç…§ä¼ ç»Ÿåˆ·å…¥Twrpçš„æ–¹æ³•åˆ·å…¥çš„è¯ï¼Œé‚£ä¹ˆä½ å¹¶ä¸ä¼šè·å¾—ä¸€ä¸ªæ°¸ä¹…çš„Twrpã€‚æ‰€ä»¥éœ€è¦å…ˆåˆ·å…¥ä¸€ä¸ªä¸´æ—¶çš„Twrpï¼Œåœ¨é€šè¿‡ä¸´æ—¶çš„Twrpæ¥åˆ·å…¥æ°¸ä¹…çš„Twrpä»è€Œæ¥è·å–Rootæƒé™ã€‚</p>
<h5 id="ä¸‹è½½å¿…è¦è½¯ä»¶"><a href="#ä¸‹è½½å¿…è¦è½¯ä»¶" class="headerlink" title="ä¸‹è½½å¿…è¦è½¯ä»¶"></a>ä¸‹è½½å¿…è¦è½¯ä»¶</h5><p>éœ€è¦ä¸‹è½½ä¸´æ—¶çš„Twrpã€æ°¸ä¹…TwrpåŠMagiskä¸‰ä¸ªæ–‡ä»¶ã€‚</p>
<p>é¦–å…ˆï¼Œå‰å¾€ TWRP å®˜ç½‘ <a href="https://twrp.me/Devices/" target="_blank" rel="noopener">Devices</a> ä¸‹è½½æœ€æ–°ç‰ˆ TWRP å‹ç¼©åŒ…ï¼ˆ.zipï¼‰å’Œä¸´æ—¶ TWRP é•œåƒæ–‡ä»¶ï¼ˆ.imgï¼‰ã€‚</p>
<p>æˆ‘çš„Pixelå¯¹åº”é€‰æ‹©ä»è¿™ä¸ªé¡µé¢ <a href="https://dl.twrp.me/sailfish/" target="_blank" rel="noopener">Download TWRP for sailfish</a> ä¸‹è½½çš„ <code>3.2.3-1</code> ç‰ˆæœ¬ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">twrp-pixel-installer-sailfish-3.2.3-1.zip ï¼ˆæ°¸ä¹…twrpï¼‰</span><br><span class="line">twrp-3.2.3-1-sailfish.img (ä¸´æ—¶twrp)</span><br></pre></td></tr></table></figure>

<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181016155219.png" alt=""></p>
<p>ä»github <a href="https://github.com/topjohnwu/Magisk/releases" target="_blank" rel="noopener">Releases Â· topjohnwu/Magisk</a> ä¸‹è½½æœ€æ–°çš„ Magisk åŒ…ã€‚ è¿™é‡Œæˆ‘ä¸‹è½½çš„æ˜¯ <code>17.2</code> ç‰ˆæœ¬ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Magisk-v17.2.zip</span><br></pre></td></tr></table></figure>

<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181016161659.png" alt=""></p>
<hr>
<h5 id="æ‹·è´æ–‡ä»¶åˆ°æ‰‹æœº"><a href="#æ‹·è´æ–‡ä»¶åˆ°æ‰‹æœº" class="headerlink" title="æ‹·è´æ–‡ä»¶åˆ°æ‰‹æœº"></a>æ‹·è´æ–‡ä»¶åˆ°æ‰‹æœº</h5><p>å‡è®¾æˆ‘ç”µè„‘ä¸Šçš„æ“ä½œç›®å½•ä¸º: <code>~/test/pixel</code> ã€‚</p>
<p>å°† <code>twrp-3.2.3-1-sailfish.img</code> æ‹·è´åˆ°è¯¥ç›®å½•ä¸‹ã€‚</p>
<p>å°† <code>twrp-pixel-installer-sailfish-3.2.3-1.zip</code> å’Œ <code>Magisk-v17.2.zip</code> æ‹·è´åˆ°æ‰‹æœºä¸­ã€‚</p>
<p>åœ¨å°†æ–‡ä»¶æ‹·è´åˆ°æ‰‹æœºä¸­æ—¶ï¼Œæˆ‘å‘ç°é€šè¿‡æ•°æ®çº¿è¿æ¥åˆ°ç”µè„‘æ—¶ï¼Œé€‰æ‹© <code>ä¼ è¾“æ–‡ä»¶</code> ç”µè„‘ä¸­å¹¶æ²¡æœ‰å‡ºç°æ‰‹æœºå­˜å‚¨çš„ç›˜ç¬¦ï¼Œä¹Ÿå°±æ— æ³•ç›´æ¥å°†æ–‡ä»¶æ‹–æ‹½åˆ°æ‰‹æœºä¸­ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181016183455.png" alt=""></p>
<p>åœ¨ç»è¿‡ä¸€ç•ªæ‘†å¼„ä¹‹åï¼Œæˆ‘è§‰å¾—æœ€é è°±çš„è¿˜æ˜¯é€šè¿‡ <code>adb</code> çš„æ–¹å¼æ¥ä¸Šä¼ æ–‡ä»¶ã€‚</p>
<p>è¿æ¥æ‰‹æœºï¼Œåœ¨æ‰‹æœºç«¯å¼¹å‡ºã€ŒUSBè°ƒè¯•ã€ç‚¹å‡»ç¡®å®šï¼Œæ‰“å¼€item2ï¼Œåˆ‡æ¢åˆ°ç›®å½• <code>~/test/pixel</code> ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">~&#x2F;test&#x2F;pixel</span><br><span class="line">âœ ls</span><br><span class="line">Magisk-v17.2.zip                          twrp-3.2.3-1-sailfish.img                 twrp-pixel-installer-sailfish-3.2.3-1.zip</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹adbè¿æ¥çŠ¶æ€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">~&#x2F;test&#x2F;pixel</span><br><span class="line">âœ adb devices</span><br><span class="line">List of devices attached</span><br><span class="line">FA6XXXXXXX53    device</span><br></pre></td></tr></table></figure>

<hr>
<p>å…ˆé€šè¿‡ <code>adb shell</code> å‘½ä»¤è¿›å…¥æ‰‹æœºçš„bashå‘½ä»¤ä¸‹ï¼Œåœ¨ <code>/sdcard</code> ç›®å½•ä¸‹åˆ›å»ºä¸´æ—¶æ–‡ä»¶å¤¹ <code>tmp</code> :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">~&#x2F;test&#x2F;pixel</span><br><span class="line">âœ adb shell</span><br><span class="line">sailfish:&#x2F; $ cd sdcard&#x2F;</span><br><span class="line">sailfish:&#x2F;sdcard $ mkdir tmp</span><br><span class="line">sailfish:&#x2F;sdcard $ ls</span><br><span class="line">Alarms Android DCIM Download Movies Music Notifications Pictures Podcasts Ringtones tmp</span><br><span class="line">sailfish:&#x2F;sdcard $ ls -al</span><br><span class="line">total 100</span><br><span class="line">drwxrwx--x 13 root sdcard_rw 4096 2018-10-16 17:27 .</span><br><span class="line">drwx--x--x  4 root sdcard_rw 4096 2009-01-01 16:02 ..</span><br><span class="line">drwxrwx--x  2 root sdcard_rw 4096 2009-01-01 16:02 Alarms</span><br><span class="line">drwxrwx--x  3 root sdcard_rw 4096 2009-01-01 16:02 Android</span><br><span class="line">drwxrwx--x  2 root sdcard_rw 4096 2009-01-01 16:02 DCIM</span><br><span class="line">drwxrwx--x  2 root sdcard_rw 4096 2009-01-01 16:02 Download</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">drwxrwx--x  2 root sdcard_rw 4096 2018-10-16 17:27 tmp</span><br><span class="line">sailfish:&#x2F;sdcard $</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ <code>adb push &lt;local&gt; &lt;remote&gt;</code> å‘½ä»¤å°†æ–‡ä»¶ä¸Šä¼ åˆ°æ‰‹æœºçš„ <code>/sdcard/tmp/</code> ç›®å½•ä¸­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">~&#x2F;test&#x2F;pixel</span><br><span class="line">âœ adb push twrp-pixel-installer-sailfish-3.2.3-1.zip &#x2F;sdcard&#x2F;tmp&#x2F;</span><br><span class="line">twrp-pixel-installer-sailfish-3.2.3-1.zip: 1 file pushed. 14.6 MB&#x2F;s (11492088 bytes in 0.753s)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">~&#x2F;test&#x2F;pixel</span><br><span class="line">âœ adb push Magisk-v17.2.zip &#x2F;sdcard&#x2F;tmp&#x2F;</span><br><span class="line">Magisk-v17.2.zip: 1 file pushed. 16.3 MB&#x2F;s (4174026 bytes in 0.245s)</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹æ‰‹æœºä¸­æ–‡ä»¶åˆ—è¡¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">~&#x2F;test&#x2F;pixel</span><br><span class="line">âœ adb shell ls -al &#x2F;sdcard&#x2F;tmp&#x2F;</span><br><span class="line">total 15328</span><br><span class="line">drwxrwx--x  2 root sdcard_rw     4096 2018-10-16 17:32 .</span><br><span class="line">drwxrwx--x 13 root sdcard_rw     4096 2018-10-16 17:27 ..</span><br><span class="line">-rw-rw----  1 root sdcard_rw  4174026 2018-10-16 16:07 Magisk-v17.2.zip</span><br><span class="line">-rw-rw----  1 root sdcard_rw 11492088 2018-10-16 15:56 twrp-pixel-installer-sailfish-3.2.3-1.zip</span><br></pre></td></tr></table></figure>

<p>æ³¨ï¼šå¯¹äºä¸ºä»€ä¹ˆå°†æ–‡ä»¶æ‹·è´åˆ°æ‰‹æœºçš„ <code>/sdcard</code> ç›®å½•ï¼Œå¯ä»¥çœ‹ä¸‹é¢çš„ <a href="#adbpushæ–‡ä»¶æ—¶æƒé™ä¸å¤Ÿ">ç–‘éš¾è§£ç­”</a></p>
<hr>
<h5 id="åˆ·ä¸´æ—¶Twrp"><a href="#åˆ·ä¸´æ—¶Twrp" class="headerlink" title="åˆ·ä¸´æ—¶Twrp"></a>åˆ·ä¸´æ—¶Twrp</h5><h6 id="å¼•å¯¼è¿›å…¥-Bootloader"><a href="#å¼•å¯¼è¿›å…¥-Bootloader" class="headerlink" title="å¼•å¯¼è¿›å…¥ Bootloader"></a>å¼•å¯¼è¿›å…¥ Bootloader</h6><p>æ‰§è¡Œå‘½ä»¤ <code>adb reboot bootloader</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">~&#x2F;test&#x2F;pixel</span><br><span class="line">âœ adb reboot bootloader</span><br></pre></td></tr></table></figure>

<hr>
<h6 id="åˆ·å…¥ä¸´æ—¶Twrp"><a href="#åˆ·å…¥ä¸´æ—¶Twrp" class="headerlink" title="åˆ·å…¥ä¸´æ—¶Twrp"></a>åˆ·å…¥ä¸´æ—¶Twrp</h6><p>æ‰§è¡Œå‘½ä»¤ <code>fastboot boot *.img</code> æ¥å¯åŠ¨ä¸´æ—¶Twrpï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">~&#x2F;test&#x2F;pixel took 5s</span><br><span class="line">âœ fastboot boot twrp-3.2.3-1-sailfish.img</span><br><span class="line">downloading &#39;boot.img&#39;...</span><br><span class="line">OKAY [  0.712s]</span><br><span class="line">booting...</span><br><span class="line">OKAY [  0.903s]</span><br><span class="line">finished. total time: 1.615s</span><br></pre></td></tr></table></figure>

<p>ä¹‹åï¼Œæ‰‹æœºä¼šè¿›å…¥åˆ°ä¸´æ—¶çš„Twrpä¸­ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181016184210.png" alt=""></p>
<p>æ»‘åŠ¨ä¸‹é¢çš„ <code>Swipe to Allow Modifications</code> æ»‘æ¡ï¼Œè¿›å…¥Twrpæ“ä½œé¡µé¢ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181016184312.png" alt=""></p>
<hr>
<h5 id="åˆ·å…¥æ°¸ä¹…Twrp"><a href="#åˆ·å…¥æ°¸ä¹…Twrp" class="headerlink" title="åˆ·å…¥æ°¸ä¹…Twrp"></a>åˆ·å…¥æ°¸ä¹…Twrp</h5><p>é€‰æ‹© <code>Install</code> â€“ æ‰¾åˆ°ç›®å½• <code>/sdcard/tmp/</code> â€“ é€‰æ‹© <code>twrp*.zip</code> æ–‡ä»¶ â€“ å¼¹å‡ºå®‰è£…ç•Œé¢ â€“ ç›´æ¥æ»‘åŠ¨åº•éƒ¨çš„æ»‘æ¡ <code>Swipe to confirm Flash</code> å®‰è£…ï¼š</p>
<blockquote>
<p>è¿™é‡Œä¹Ÿé—´æ¥éªŒè¯äº†ä¸ºä»€ä¹ˆè¦é€‰æ‹© <code>/sdcard</code> ç›®å½•ï¼šç‚¹å‡» <code>Install</code> æŒ‰é’®åï¼Œç›´æ¥è¿›å…¥çš„å°±æ˜¯ <code>/sdcard</code> ç›®å½•ï¼Œå³åªèƒ½æ“ä½œè¿™ä¸ªç›®å½•ã€‚</p>
</blockquote>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181016184418.png" alt=""></p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181016184615.png" alt=""></p>
<p>ç­‰å¾…è¿›åº¦æ¡æ‰§è¡Œå®Œæ¯•ï¼Œæœ€åä¼šæ˜¾ç¤º <code>...done</code> çš„æç¤ºã€‚è¯´æ˜è¿™ä¸€æ­¥æ‰§è¡Œå®Œæˆã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181016184814.png" alt=""></p>
<hr>
<h5 id="åˆ·å…¥Magisk"><a href="#åˆ·å…¥Magisk" class="headerlink" title="åˆ·å…¥Magisk"></a>åˆ·å…¥Magisk</h5><p>ä¸Šä¸€æ­¥å®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬å‘ç°ç•Œé¢ä¸­åªæœ‰ä¸¤ä¸ªæŒ‰é’®ï¼š<code>Wipe cache/dalvik</code> å’Œ <code>Reboot System</code> ã€‚åä¸€é¡¹è‚¯å®šä¸èƒ½é€‰ï¼Œå¦‚æœé€‰æ‹©é‡å¯ï¼Œé‚£è¿˜æœ‰ä¸€ä¸ª <code>Magisk</code> æ–‡ä»¶æ²¡æœ‰åˆ·å…¥ï¼Œå¦åˆ™çš„è¯è¿˜éœ€è¦èµ°ä¸€éä¸Šé¢çš„ <code>åˆ·å…¥ä¸´æ—¶Twrp</code> çš„æ“ä½œï¼›è€Œç¬¬ä¸€é¡¹ æ¸…é™¤ä¸´æ—¶ç¼“å­˜æ–‡ä»¶ï¼Œåªæ˜¯æˆ‘ä¸æ¸…æ¥šè¯¥æ–‡ä»¶å…·ä½“æ˜¯å¹²ä»€ä¹ˆç”¨çš„ï¼Œæ‰€ä»¥ä¹Ÿæ€•ç‚¹äº†ä¹‹åä¼šå‡ºé—®é¢˜ã€‚</p>
<p>è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘åªå¥½ä¸Šç½‘å»æŸ¥è¯¢çœ‹çœ‹æ˜¯å¦æœ‰ç›¸å…³çš„æ“ä½œä»‹ç»ï¼Œå¯æƒ³è€ŒçŸ¥ï¼Œè¿™ä¸ªé—®é¢˜å¯èƒ½å¤ªç®€å•äº†ï¼Œå¾ˆéš¾æ‰¾åˆ°ç›¸å…³çš„ä»‹ç»ã€‚</p>
<p>æ­£å½“æˆ‘ä¸€è„¸è¿·è’™æ—¶ï¼Œæˆ‘çš„æ‰‹è¯¯æŒ‰äº†é¡¶éƒ¨çš„ â€œè“è‰²æ¡â€ éƒ¨åˆ†ï¼Œå‘ç°â€¦ ç•Œé¢è¿”å›äº† <code>Install</code> é¡µé¢ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181016184312.png" alt=""></p>
<p>æˆ‘åªæƒ³è¯´ï¼Œè¿™æ“ä½œç®€ç›´æ˜¯ <code>666</code> å•Šï¼ï¼ï¼</p>
<p>ç»è¿‡éªŒè¯ï¼Œåªè¦ç‚¹å‡»é¡¶éƒ¨çš„ã€Œinstall Zipã€ è“è‰²æ¡éƒ¨åˆ†å·¦ä¾§çš„ã€Œå›¾æ ‡ã€å¤„ï¼Œå°±ä¼šè¿”å› <code>Team Win Recovery Project</code> ç•Œé¢ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181016184919.png" alt=""></p>
<p>ä¾ç…§ä¸Šé¢çš„å®‰è£…æ­¥éª¤ï¼Œç»§ç»­å®‰è£… <code>Magisk-v17.2.zip</code> æ–‡ä»¶ã€‚ç›´åˆ°ç•Œé¢ä¸­æç¤º <code>...done</code> æ—¶ï¼Œè¯´æ˜å®‰è£…å®Œæˆã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181016185120.png" alt=""></p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181016185217.png" alt=""></p>
<p>å®‰è£…å®Œæˆåï¼Œç‚¹å‡»ä¸‹é¢çš„ <code>Reboot System</code> æŒ‰é’®ï¼Œé‡å¯ç³»ç»Ÿã€‚</p>
<p>ä¸è¿‡ï¼Œè¿™æ—¶å€™å‘ç°ç•Œé¢ä¼šæç¤ºè¯¢é—®æ˜¯å¦å®‰è£… <code>TWRP App</code> ï¼Ÿ</p>
<p>è¿™é‡Œï¼Œ<strong>åƒä¸‡ä¸è¦å®‰è£…</strong>ã€‚ç›´æ¥ç‚¹å‡»ä¸­é—´çš„ <strong><code>Do Not Install</code></strong> å³å¯ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181016185342.png" alt=""></p>
<p>å¾…æ‰‹æœºé‡å¯è¿›å…¥ç³»ç»Ÿåï¼Œå¯ä»¥å‘ç°æ‰‹æœºAPPä¸­å¤šäº†ä¸€ä¸ª <code>Magisk</code> çš„è„¸è°±Logoå›¾æ ‡ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181016185438.png" alt=""></p>
<p>è‡³æ­¤ï¼Œæ•´ä¸ªåˆ·æœºè¿‡ç¨‹å°±ç»“æŸäº†ã€‚</p>
<hr>
<h4 id="éªŒè¯æ˜¯å¦æˆåŠŸRoot"><a href="#éªŒè¯æ˜¯å¦æˆåŠŸRoot" class="headerlink" title="éªŒè¯æ˜¯å¦æˆåŠŸRoot"></a>éªŒè¯æ˜¯å¦æˆåŠŸRoot</h4><p>è‡³äºå¦‚ä½•éªŒè¯æ˜¯å¦æˆåŠŸRootï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯å®‰è£…å‡ ä¸ªéœ€è¦è·å–Rootæƒé™çš„è½¯ä»¶å°±å¯ä»¥äº†ã€‚</p>
<p>å¯ä»¥åœ¨ã€Œè„¸è°±Logoã€çš„èœå•ä¸­é€‰æ‹©ã€Œè¶…çº§ç”¨æˆ·ã€ï¼Œä¸ºç›¸åº”çš„è½¯ä»¶å¼€å¯Rootæƒé™ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181017101716.png" alt=""></p>
<hr>
<h4 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h4><h5 id="å»æ‰wifiå‰å·æ ‡è®°"><a href="#å»æ‰wifiå‰å·æ ‡è®°" class="headerlink" title="å»æ‰wifiå‰å·æ ‡è®°"></a>å»æ‰wifiå‰å·æ ‡è®°</h5><p>åœ¨å›½å†…çš„ç½‘ç»œç¯å¢ƒä¸‹ï¼Œé€šè¿‡wifiè”ç½‘ä¹‹åï¼ŒPixelçš„wifiå›¾æ ‡ä¸Šä¼šé»˜è®¤æ˜¾ç¤ºä¸€ä¸ªã€Œå‰å·ã€ã€‚è™½ç„¶èƒ½å¤Ÿæ­£å¸¸è”ç½‘ï¼Œä½†å¯¹äºå¼ºè¿«ç—‡æ¥è¯´ï¼Œè¿˜æ˜¯è§‰å¾—å¾ˆç¢çœ¼ã€‚</p>
<p>å¯¹äºè¿™ä¸ªé—®é¢˜ï¼ŒåŸç†æ€§çš„è§£é‡Šæ˜¯ï¼š</p>
<blockquote>
<p>è°·æ­ŒåŸç”Ÿå®‰å“ç³»ç»Ÿå½“è¿æ¥åˆ°ç§»åŠ¨æ•°æ®ç½‘ç»œæˆ–è€…WIFIç½‘ç»œçš„æ—¶å€™ï¼Œå…¶NetworkMonitoræ¨¡å—ä¼šå‘ç‰¹å®šçš„æœåŠ¡å™¨å‘èµ·ä¸€ä¸ªhttpçš„è¯·æ±‚å¹¶åˆ©ç”¨æ”¶åˆ°çš„å“åº”è¿›è¡Œç½‘ç»œçŠ¶æ€åˆ¤æ–­ã€‚ç”±äºè°·æ­Œçš„æœåŠ¡å™¨è¢«GFWå±è”½ï¼Œæ‰€ä»¥å¯¼è‡´æ²¡æœ‰è¿”å›å€¼ï¼Œè¿™ä¸ªæ—¶å€™è°·æ­Œå®‰å“ç³»ç»Ÿå°±ä¼šåœ¨ä¿¡å·æˆ–è€…wifiä¸Šæ‰“ä¸€ä¸ªæ„Ÿå¹å·æˆ–å‰å·ã€‚</p>
</blockquote>
<p>å¯ä»¥é€šè¿‡æ¢æˆv2exçš„éªŒè¯æ–¹å¼æ¥è§£å†³ã€‚åœ¨å‘½ä»¤æç¤ºç¬¦ä¸­æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">adb shell settings put global captive_portal_https_url https:&#x2F;&#x2F;www.google.cn&#x2F;generate_204</span><br></pre></td></tr></table></figure>

<p>ç„¶åå¼€å¯é£è¡Œæ¨¡å¼ï¼Œå†å…³é—­é£è¡Œæ¨¡å¼å³è§£å†³ï¼</p>
<p>æ“ä½œå‰ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181017104902.png" alt=""></p>
<p>æ‰§è¡Œå‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">~&#x2F;test&#x2F;pixel</span><br><span class="line">âœ adb shell settings put global captive_portal_https_url https:&#x2F;&#x2F;www.google.cn&#x2F;generate_204</span><br><span class="line"></span><br><span class="line">~&#x2F;test&#x2F;pixel</span><br><span class="line">âœ</span><br></pre></td></tr></table></figure>

<p>æ“ä½œåï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181017105009.png" alt=""></p>
<p>å¦‚æœä½ æƒ³æ¢å¤çš„è¯ï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼šï¼ˆæœªäº²æµ‹ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">adb shell settings delete global captive_portal_server  </span><br><span class="line">adb shell settings put global captive_portal_detection_enabled 1</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ç–‘éš¾è§£ç­”"><a href="#ç–‘éš¾è§£ç­”" class="headerlink" title="ç–‘éš¾è§£ç­”"></a>ç–‘éš¾è§£ç­”</h4><h5 id="fastboot-oem-unlock-or-fastboot-flashing-unlock"><a href="#fastboot-oem-unlock-or-fastboot-flashing-unlock" class="headerlink" title="fastboot oem unlock or fastboot flashing unlock"></a><code>fastboot oem unlock</code> or <code>fastboot flashing unlock</code></h5><p>åœ¨ç½‘ä¸Šæœç´¢åˆ°çš„ä¸€äº›æ•™ç¨‹ä¸­ï¼Œæœ‰çš„è¯´æ˜¯ä½¿ç”¨ <code>fastboot oem unlock</code> æ¥è§£BLï¼Œæœ‰çš„è¯´æ˜¯é€šè¿‡ <code>fastboot flashing unlock</code> æ¥è§£BLã€‚</p>
<p>æœ€ç»ˆåœ¨googleçš„å®˜ç½‘ä¸­ï¼Œæˆ‘æ‰¾åˆ°äº†å¦‚ä¸‹çš„ä»‹ç»ï¼š</p>
<blockquote>
<p>If necessary, unlock the deviceâ€™s bootloader using one of the following methods:</p>
<p>If you are updating a Nexus or Pixel device that is manufactured in 2015 or later (for example, a Nexus 5X, Nexus 6P, Pixel, Pixel XL, Pixel 2 or Pixel 2 XL device), run this command:</p>
<p>fastboot flashing unlock</p>
<p>If you are updating an older device, run this command:</p>
<p>fastboot oem unlock</p>
</blockquote>
<p>æ›´å¤šä»‹ç»ï¼Œè¯·çœ‹ï¼š <a href="https://developers.google.com/android/images" target="_blank" rel="noopener">Factory Images for Nexus and Pixel Devices  |  Google APIs for Android  |  Google Developers</a></p>
<hr>
<h5 id="OEMé”ä¸bootloaderé”çš„å…³ç³»"><a href="#OEMé”ä¸bootloaderé”çš„å…³ç³»" class="headerlink" title="OEMé”ä¸bootloaderé”çš„å…³ç³»"></a>OEMé”ä¸bootloaderé”çš„å…³ç³»</h5><p>OEMé”æ˜¯é™åˆ¶äº†bootloaderé”ï¼ŒOEMé”ç³»ç»Ÿé»˜è®¤æ˜¯å…³é—­çš„ï¼Œå¿…é¡»åœ¨å¼€å‘è€…ä¸­æ‰‹åŠ¨æ‰“å¼€ã€‚ä¹‹å bootloaderé”æ‰èƒ½è¿›è¡Œè§£é”ã€‚</p>
<p>é€šä¿—ä¸€ç‚¹çš„è¯´ï¼ŒOEMé”åªè·Ÿbootloaderé”æœ‰å…³ç³»ï¼Œå’Œä¹‹åçš„Rootæ“ä½œæ²¡æœ‰å…³ç³»ã€‚æ‰€ä»¥å½“è§£é”Bootloaderåç³»ç»Ÿé…ç½®è¢«é‡ç½®äº†ï¼Œå³ä½¿ ã€Œå¼€å‘è€…é€‰é¡¹ã€ä¸­çš„ ã€ŒOEMè§£é”ã€æ˜¾ç¤ºä¸ºç°è‰²ä¸èƒ½æ“ä½œï¼Œä¹Ÿæ— å…³ç´§è¦äº†ã€‚</p>
<p>å‚è€ƒï¼š<a href="http://bbs.zhiyoo.com/thread-13220001-1-1.html" target="_blank" rel="noopener">å…³äºè§£é”bootloaderçš„é‡è¦æ€§.æœºå‹ä»¬åŠ¡å¿…ç»†è¯»,ç”Ÿæ­»é—®é¢˜,è¯·å‹¿å¿½è§†! - Pixel | Pixel XL è®ºå› - æ™ºå‹è®ºå›</a></p>
<hr>
<h5 id="è§£é”bootloaderçš„å¥½å¤„"><a href="#è§£é”bootloaderçš„å¥½å¤„" class="headerlink" title="è§£é”bootloaderçš„å¥½å¤„"></a>è§£é”bootloaderçš„å¥½å¤„</h5><ol>
<li>æœ€é‡è¦æ˜¯ä¸ºè‡ªå·±çš„æ‰‹æœºä¹°äº†ä»½ä¿é™©,ç•™äº†æ¡ç”Ÿè·¯.å¡æ­» ç³»ç»ŸæŠ½é£æˆ–å˜ç –å,<br>å¯åœ¨bootloaderç•Œé¢ä¸‹çº¿åˆ·åŸå‚é•œåƒæ¢å¤ç³»ç»Ÿã€‚(ä¸è§£é”çš„æ— æ³•åˆ·æœºæ•‘å›)</li>
<li>ä½œä¸ºäº²å„¿å­æœºå‹ï¼ŒXDAä¸Šå¾ˆå¤šèµ„æºï¼Œæœ‰å¤§é‡ç¬¬ä¸‰æ–¹ROMã€ä¼˜åŒ–è¡¥ä¸ã€Recooveryã€ROOT</li>
<li>è§£é”bootloaderåï¼Œä¸ROOTå’Œä¿®æ”¹ç³»ç»Ÿæ–‡ä»¶ï¼Œä¸å½±å“åœ¨çº¿OTAå‡çº§ã€‚</li>
</ol>
<p>è§£é”å å¼€æœºGoogle logoä¸‹æœ‰ä¸ªå°é”å’Œä¸¤ç§’é’Ÿçš„è­¦ç¤ºè¯­è¯´ä½ çš„æ‰‹æœºå·²ç»è§£äº†bootloaderé”,<br>æœºå‹ä»¬å¯ä»¥æ— è§†ä¹‹ï¼Œä¸å½±å“ä½¿ç”¨ã€‚</p>
<hr>
<h5 id="adbpushæ–‡ä»¶æ—¶æƒé™ä¸å¤Ÿ"><a href="#adbpushæ–‡ä»¶æ—¶æƒé™ä¸å¤Ÿ" class="headerlink" title="adbpushæ–‡ä»¶æ—¶æƒé™ä¸å¤Ÿ"></a>adbpushæ–‡ä»¶æ—¶æƒé™ä¸å¤Ÿ</h5><p>åœ¨ä½¿ç”¨å‘½ä»¤ <code>adb push</code> å°†æ–‡ä»¶ <code>twrp-pixel-installer-sailfish-3.2.3-1.zip</code> ä¸Šä¼ åˆ°æ‰‹æœºæ—¶ï¼Œå¯èƒ½ç”±äºæƒé™é—®é¢˜è€ŒæŠ¥é”™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">~&#x2F;test&#x2F;pixel</span><br><span class="line">âœ adb push twrp-pixel-installer-sailfish-3.2.3-1.zip &#x2F;</span><br><span class="line">adb: error: failed to copy &#39;twrp-pixel-installer-sailfish-3.2.3-1.zip&#39; to &#39;&#x2F;twrp-pixel-installer-sailfish-3.2.3-1.zip&#39;: remote couldn&#39;t create file: Read-only file system</span><br><span class="line">twrp-pixel-installer-sailfish-3.2.3-1.zip: 0 files pushed. 22.7 MB&#x2F;s (1048448 bytes in 0.044s)</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>adb shell</code> å‘½ä»¤æ¥è¿›å…¥åˆ°æ‰‹æœºçš„bashå‘½ä»¤ä¸‹ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨åé¢è·Ÿä¸Šbashå‘½ä»¤æ¥æ‰§è¡Œã€‚è¿›è¡ŒéªŒè¯ï¼š</p>
<p><code>adb shell</code> :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">~&#x2F;test&#x2F;pixel</span><br><span class="line">âœ adb shell</span><br><span class="line">sailfish:&#x2F; $ </span><br><span class="line">sailfish:&#x2F; $ ls</span><br><span class="line">ls: .&#x2F;verity_key: Permission denied</span><br><span class="line">ls: .&#x2F;init.rc: Permission denied</span><br><span class="line">ls: .&#x2F;postinstall: Permission denied</span><br><span class="line">ls: .&#x2F;init.usb.configfs.rc: Permission denied</span><br><span class="line">ls: .&#x2F;init.zygote64_32.rc: Permission denied</span><br><span class="line">...</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…</p>
<p><code>adb shell mkdir tmp</code> :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">~&#x2F;test&#x2F;pixel</span><br><span class="line">âœ adb shell mkdir tmp</span><br><span class="line">mkdir: &#39;tmp&#39;: Read-only file system</span><br></pre></td></tr></table></figure>

<p>å‘ç°ï¼Œæœç„¶æ˜¯å½“å‰ç”¨æˆ·çš„æƒé™ä¸å¤Ÿã€‚</p>
<p>ç»è¿‡éªŒè¯ï¼Œå‘ç°å½“å‰ç”¨æˆ·å¯¹ <code>/sdcard</code> ç›®å½•æ˜¯æœ‰æƒé™è¿›è¡Œæ–‡ä»¶æˆ–ç›®å½•çš„æ“ä½œçš„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">~&#x2F;test&#x2F;pixel</span><br><span class="line">âœ adb shell</span><br><span class="line">sailfish:&#x2F; $ cd sdcard&#x2F;</span><br><span class="line">sailfish:&#x2F;sdcard $ ls</span><br><span class="line">Alarms Android DCIM Download Movies Music Notifications Pictures Podcasts Ringtones</span><br><span class="line">sailfish:&#x2F;sdcard $ mkdir tmp</span><br><span class="line">sailfish:&#x2F;sdcard $ ls</span><br><span class="line">Alarms Android DCIM Download Movies Music Notifications Pictures Podcasts Ringtones tmp</span><br><span class="line"></span><br><span class="line">sailfish:&#x2F;sdcard $ rm -rf tmp</span><br><span class="line">sailfish:&#x2F;sdcard $ ls</span><br><span class="line">Alarms Android DCIM Download Movies Music Notifications Pictures Podcasts Ringtones</span><br><span class="line">sailfish:&#x2F;sdcard $ exit</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>ç å­—ä¸æ˜“ï¼Œä»¥ä¸Šæ“ä½œå‡ä¸ºæœ¬äººå®é™…æ“ä½œå¹¶éªŒè¯ã€‚å¦‚æœè¯¥æ–‡ç« å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ï¼Œå¯ä»¥èµ é€ä¸€æ¯å’–å•¡ï¼ï¼ï¼</strong></p>
<hr>
<h4 id="ç›¸å…³é“¾æ¥"><a href="#ç›¸å…³é“¾æ¥" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h4><h5 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h5><ul>
<li><a href="https://github.com/shadowsocks/shadowsocks-android/releases" target="_blank" rel="noopener">Releases Â· shadowsocks/shadowsocks-android</a></li>
<li><a href="https://dl.twrp.me/sailfish/" target="_blank" rel="noopener">Download TWRP for sailfish</a></li>
<li><a href="https://github.com/topjohnwu/Magisk/releases" target="_blank" rel="noopener">Releases Â· topjohnwu/Magisk</a></li>
</ul>
<h5 id="æ•™ç¨‹"><a href="#æ•™ç¨‹" class="headerlink" title="æ•™ç¨‹"></a>æ•™ç¨‹</h5><ul>
<li><a href="https://www.xzymoe.com/pixel-xl-unlockbl-root/" target="_blank" rel="noopener">Pixel XLè§£é”BLã€åˆ·å…¥TwrpåŠRootæ•™ç¨‹ | XZYMOEâ€™S BLOG</a> <strong>â˜†</strong></li>
<li><a href="https://sspai.com/post/38319" target="_blank" rel="noopener">ä» Bootloader è§£é”åˆ°å¿…å¤‡åº”ç”¨æ¨èï¼šæˆ‘çš„ Google Pixel æŠ˜è…¾æ‰‹è®° - å°‘æ•°æ´¾</a></li>
<li><a href="https://blog.csdn.net/ekeuy/article/details/43112645" target="_blank" rel="noopener">Android ADBå‘½ä»¤å¤§å…¨(é€šè¿‡ADBå‘½ä»¤æŸ¥çœ‹wifiå¯†ç ã€MACåœ°å€ã€è®¾å¤‡ä¿¡æ¯ã€æ“ä½œæ–‡ä»¶ã€æŸ¥çœ‹æ–‡ä»¶ã€æ—¥å¿—ä¿¡æ¯ã€å¸è½½ã€å¯åŠ¨å’Œå®‰è£…APKç­‰) - mingyçš„ä¸“æ  - CSDNåšå®¢</a></li>
</ul>
<hr>
<p><strong>2019å¹´08æœˆ27æ—¥ Update</strong></p>
<h4 id="Magiskæ›´æ–°"><a href="#Magiskæ›´æ–°" class="headerlink" title="Magiskæ›´æ–°"></a>Magiskæ›´æ–°</h4><p>å°† Magisk ä» <code>v17.2</code> ç‰ˆæœ¬å‡çº§åˆ° <code>v19.3</code> ç‰ˆæœ¬ã€‚</p>
<p>å¯ä»¥ä» <a href="https://github.com/topjohnwu/Magisk/releases" target="_blank" rel="noopener">Magisk</a> ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„Magiskçš„zipå‹ç¼©åŒ…ã€‚</p>
<h5 id="ç¬¬ä¸€æ­¥-adbè¿æ¥"><a href="#ç¬¬ä¸€æ­¥-adbè¿æ¥" class="headerlink" title="ç¬¬ä¸€æ­¥ adbè¿æ¥"></a>ç¬¬ä¸€æ­¥ adbè¿æ¥</h5><p>è¦ç¡®ä¿æ‰‹æœºè®¾å¤‡é€šè¿‡adbæ­£ç¡®è¿æ¥ã€‚å¦‚æœæç¤ºä¸º <code>offline</code> åˆ™éœ€è¦é‡æ–°è®¾ç½®æ‰‹æœºçš„è¿æ¥ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ adb devices</span><br><span class="line">List of devices attached</span><br><span class="line">FA6XXXXXXX53	offline</span><br></pre></td></tr></table></figure>

<p>ç›´åˆ°å‡ºç° <code>device</code> æ—¶ï¼Œè¯´æ˜æ‰‹æœºæ­£ç¡®è¿æ¥äº†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ adb devices</span><br><span class="line">List of devices attached</span><br><span class="line">FA6XXXXXXX53	device</span><br></pre></td></tr></table></figure>

<p>ä¸€èˆ¬å‡ºç° <code>offline</code> çš„æƒ…å†µå¯èƒ½æ˜¯usbæ•°æ®çº¿çš„é—®é¢˜ï¼Œæˆ–è€…è¿æ¥è®¾ç½®çš„é—®é¢˜ã€‚</p>
<p>è¿™é‡Œæˆ‘çš„è§£å†³æ–¹æ³•æ˜¯ï¼š</p>
<ol>
<li>æ–­å¼€usbè®¾å¤‡è¿æ¥</li>
<li>æ‰§è¡Œå‘½ä»¤ <code>adb kill-server</code> æ¥åœæ­¢adbæœåŠ¡</li>
<li>æ‰§è¡Œå‘½ä»¤ <code>adb start-server</code> æ¥é‡æ–°è¿è¡ŒadbæœåŠ¡</li>
<li>é‡æ–°é€šè¿‡usbè¿æ¥æ‰‹æœºè®¾å¤‡</li>
<li>æ‰“å¼€ <code>å¼€å‘è€…é€‰é¡¹</code> ï¼Œé‡æ–°å‹¾é€‰ <code>usbè°ƒè¯•</code>ï¼Œåœ¨å¼¹å‡ºçš„çª—å£é€‰æ‹© <code>ç¡®å®š</code></li>
<li>å†æ¬¡æ‰§è¡Œå‘½ä»¤ <code>adb devices</code>ï¼Œå‘ç°æ˜¾ç¤º <code>device</code> äº†</li>
</ol>
<h5 id="ç¬¬äºŒæ­¥-æ‹·è´Magiskæ–‡ä»¶"><a href="#ç¬¬äºŒæ­¥-æ‹·è´Magiskæ–‡ä»¶" class="headerlink" title="ç¬¬äºŒæ­¥ æ‹·è´Magiskæ–‡ä»¶"></a>ç¬¬äºŒæ­¥ æ‹·è´Magiskæ–‡ä»¶</h5><p>é€šè¿‡ <code>adb push</code> å‘½ä»¤å°†æ–°ç‰ˆçš„Magiskæ–‡ä»¶æ‹·è´åˆ°æ‰‹æœºè®¾å¤‡ä¸­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ adb push Magisk-v19.3.zip &#x2F;sdcard&#x2F;tmp&#x2F;</span><br><span class="line">Magisk-v19.3.zip: 1 file pushed. 21.0 MB&#x2F;s (5348187 bytes in 0.243s)</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæˆ‘ä¹‹å‰ä½¿ç”¨çš„æ˜¯ <code>Magisk-v17.2.zip</code> ç‰ˆæœ¬ï¼Œç°åœ¨è¦æ›´æ–°åˆ° <code>Magisk-v19.3.zip</code> ç‰ˆæœ¬ã€‚</p>
<h5 id="ç¬¬ä¸‰æ­¥-è¿›å…¥Bootloader"><a href="#ç¬¬ä¸‰æ­¥-è¿›å…¥Bootloader" class="headerlink" title="ç¬¬ä¸‰æ­¥ è¿›å…¥Bootloader"></a>ç¬¬ä¸‰æ­¥ è¿›å…¥Bootloader</h5><p>æ‰§è¡Œ <code>adb reboot bootloader</code> è¿›å…¥ <code>Bootloader</code> ç•Œé¢ã€‚</p>
<h5 id="ç¬¬å››æ­¥-è¿›å…¥ä¸´æ—¶Twrp"><a href="#ç¬¬å››æ­¥-è¿›å…¥ä¸´æ—¶Twrp" class="headerlink" title="ç¬¬å››æ­¥ è¿›å…¥ä¸´æ—¶Twrp"></a>ç¬¬å››æ­¥ è¿›å…¥ä¸´æ—¶Twrp</h5><p>é€šè¿‡ <code>twrp*.img</code> æ–‡ä»¶ï¼Œå¯åŠ¨è¿›å…¥ä¸´æ—¶Twrpï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ fastboot boot twrp-3.2.3-1-sailfish.img</span><br><span class="line">ERROR: Couldn&#39;t create a device interface iterator: (e00002bd)</span><br><span class="line">downloading &#39;boot.img&#39;...</span><br><span class="line">OKAY [  0.712s]</span><br><span class="line">booting...</span><br><span class="line">OKAY [  0.893s]</span><br><span class="line">finished. total time: 1.605s</span><br></pre></td></tr></table></figure>

<h5 id="ç¬¬äº”æ­¥-å®‰è£…Magisk"><a href="#ç¬¬äº”æ­¥-å®‰è£…Magisk" class="headerlink" title="ç¬¬äº”æ­¥ å®‰è£…Magisk"></a>ç¬¬äº”æ­¥ å®‰è£…Magisk</h5><p>è¿›å…¥ <code>Twrp</code> é¡µé¢åï¼Œæ»‘åŠ¨ä¸‹é¢çš„ <code>Swipe to Allow Modifications</code> æ»‘æ¡ï¼Œè¿›å…¥Twrpæ“ä½œé¡µé¢ã€‚</p>
<p>é€‰æ‹© <code>Install</code> â€“ æ‰¾åˆ°ç›®å½• <code>/sdcard/tmp/</code> â€“ é€‰æ‹© <code>Magisk-v19.3.zip</code> æ–‡ä»¶ï¼Œæ»‘åŠ¨ <code>Swipe to confirm Flash</code> æ¥å®‰è£…ã€‚</p>
<p>å®‰è£…å®Œæˆåï¼Œç‚¹å‡»ä¸‹é¢çš„ <code>Reboot System</code> æŒ‰é’®ï¼Œè¿›å…¥ä¸‹ä¸€æ­¥ã€‚</p>
<p>ä¹‹åï¼Œç›´æ¥ç‚¹å‡»ä¸­é—´çš„ <code>Do Not Install</code> ç­‰å¾…æ‰‹æœºé‡å¯è¿›å…¥ç³»ç»Ÿå³å¯ã€‚</p>
<hr>
]]></content>
      <tags>
        <tag>Skill</tag>
      </tags>
  </entry>
  <entry>
    <title>OmniGraffleå¸¸ç”¨å¿«æ·é”®</title>
    <url>/2018/10/10/omnigraffle-shortcut-keys/</url>
    <content><![CDATA[<p>OmniGraffle æ˜¯ Mac ä¸Šçš„ç»˜å›¾åˆ©å™¨ã€‚Graffle åœ¨å¾ˆå¤šæ–¹é¢å¯¹æ ‡ Windows ç³»ç»Ÿä¸Šçš„ Microsoft Visioï¼Œæ˜¯åˆ¶ä½œå„ç§æ–‡æ¡£çš„ç»å¦™å·¥å…·ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181010134917.png" alt=""></p>
<hr>
<h4 id="å˜æ¢ç§»åŠ¨"><a href="#å˜æ¢ç§»åŠ¨" class="headerlink" title="å˜æ¢ç§»åŠ¨"></a>å˜æ¢ç§»åŠ¨</h4><p>æ”¾å¤§ï¼š<code>Cmd+Shift+.</code> æˆ– <code>z+ç‚¹å‡»</code></p>
<p>ç¼©å°ï¼š<code>Cmd+Shift+,</code> æˆ– <code>z+Option+ç‚¹å‡»</code></p>
<p>ç¼©æ”¾ï¼š<code>æŒ‰ä½Cmd+åŒæŒ‡æ¨ç§»</code></p>
<p>ä¸­å¿ƒç¼©æ”¾ï¼š<code>æŒ‰ä½Cmd + æŒ‰ä½Option + åŒæŒ‡æ¨ç§»</code></p>
<p>æ—‹è½¬å¯¹è±¡ï¼š<code>ç‚¹å‡»å¯¹è±¡ + é€‰æ‹©å®šä½å— + æ—‹è½¬</code></p>
<hr>
<h4 id="å¸¸ç”¨å·¥å…·"><a href="#å¸¸ç”¨å·¥å…·" class="headerlink" title="å¸¸ç”¨å·¥å…·"></a>å¸¸ç”¨å·¥å…·</h4><p>é€‰å–å·¥å…·ï¼š<code>æŒ‰ä½ v ä¸æ”¾å¹¶æ‹–æ‹½å¯¹è±¡</code> æˆ– <code>æŒ‰ 1 åˆ‡æ¢ï¼šæŒ‰ä¸€æ¬¡é€‰ä¸­ ï¼›æŒ‰äºŒæ¬¡ä¿æŒé€‰ä¸­</code></p>
<p>å½¢çŠ¶å·¥å…·ï¼š<code>æŒ‰ä½ s ä¸æ”¾å¹¶åœ¨ç©ºç™½å¤„æ‹–æ‹½</code> æˆ– <code>æŒ‰ 2 åˆ‡æ¢ï¼šæŒ‰ä¸€æ¬¡é€‰ä¸­ ï¼›æŒ‰äºŒæ¬¡ä¿æŒé€‰ä¸­</code></p>
<p>çº¿æ¡å·¥å…·ï¼š<code>æŒ‰ä½ c ä¸æ”¾å…ˆåç‚¹å‡»ç›®æ ‡å½¢çŠ¶è¿æ¥</code> æˆ– <code>æŒ‰ 3 åˆ‡æ¢ï¼šæŒ‰ä¸€æ¬¡é€‰ä¸­ ï¼›æŒ‰äºŒæ¬¡ä¿æŒé€‰ä¸­</code></p>
<p>æ–‡å­—å·¥å…·ï¼š<code>æŒ‰ä½ t å¹¶å•å‡»åè¾“å…¥æ–‡å­—</code> æˆ– <code>æŒ‰ 4 åˆ‡æ¢ï¼šæŒ‰ä¸€æ¬¡é€‰ä¸­ ï¼›æŒ‰äºŒæ¬¡ä¿æŒé€‰ä¸­</code></p>
<p>ç£åŒ–å·¥å…·ï¼š<code>æŒ‰ä½ m ä¸æ”¾å¹¶ç‚¹å‡»å½¢çŠ¶å†…ä»»æ„ä½ç½®</code> æˆ– <code>æŒ‰ 9 åˆ‡æ¢ï¼šæŒ‰ä¸€æ¬¡é€‰ä¸­ ï¼›æŒ‰äºŒæ¬¡ä¿æŒé€‰ä¸­</code></p>
<p>å…¶ä»–ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20181010135036.png" alt=""></p>
<hr>
<h4 id="å¤åˆ¶"><a href="#å¤åˆ¶" class="headerlink" title="å¤åˆ¶"></a>å¤åˆ¶</h4><p>å¤åˆ¶å¯¹è±¡ï¼š<code>é€‰ä¸­å¯¹è±¡ + Cmd+d</code></p>
<hr>
<h4 id="ç£åŒ–ç‚¹"><a href="#ç£åŒ–ç‚¹" class="headerlink" title="ç£åŒ–ç‚¹"></a>ç£åŒ–ç‚¹</h4><p>æ·»åŠ ç£åŒ–ç‚¹ï¼š<code>æŒ‰ä½ m ä¸æ”¾å¹¶ç‚¹å‡»å½¢çŠ¶å†…ä»»æ„ä½ç½®</code> æˆ– <code>æŒ‰ 9 åˆ‡æ¢ï¼šæŒ‰ä¸€æ¬¡é€‰ä¸­ ï¼›æŒ‰äºŒæ¬¡ä¿æŒé€‰ä¸­</code></p>
<p>åˆ é™¤ç£åŒ–ç‚¹ï¼š<code>åœ¨ç£åŒ–æŒ‰é’®ä¿æŒé€‰ä¸­çŠ¶æ€ä¸‹ + Option + ç‚¹å‡»ç£åŒ–ç‚¹</code></p>
<hr>
<h4 id="æ£€æŸ¥å™¨é¢æ¿"><a href="#æ£€æŸ¥å™¨é¢æ¿" class="headerlink" title="æ£€æŸ¥å™¨é¢æ¿"></a>æ£€æŸ¥å™¨é¢æ¿</h4><p>åˆ‡æ¢æ£€æŸ¥å™¨é¢æ¿ï¼š<code>Cmd+1/2/3/4/5</code></p>
<p>å¯¹è±¡æ£€æŸ¥å™¨ï¼š<code>Cmd+1</code></p>
<p>ç±»å‹æ£€æŸ¥å™¨ï¼š<code>Cmd+2</code></p>
<p>â€¦ä»¥æ­¤ç±»æ¨ã€‚</p>
<hr>
<h4 id="å±‚çº§"><a href="#å±‚çº§" class="headerlink" title="å±‚çº§"></a>å±‚çº§</h4><p>å‰ç§»å¯¹è±¡ï¼š<code>Cmd+Option+F</code></p>
<p>åç§»å¯¹è±¡ï¼š<code>Cmd+Option+B</code></p>
<p>ç½®äºæœ€å‰ï¼š<code>Cmd+Shift+F</code></p>
<p>ç½®äºæœ€åï¼š<code>Cmd+Shift+B</code></p>
<p>é”å®šï¼š<code>é€‰ä¸­å¯¹è±¡ + Cmd+L</code></p>
<p>è§£é”ï¼š<code>é€‰ä¸­å¯¹è±¡ + Cmd+Option+L</code></p>
<p>åˆ›å»ºç¾¤ç»„ï¼š<code>Cmd+Shift+G</code> (Group)</p>
<p>è§£æ•£ç¾¤ç»„ï¼š<code>Cmd+Shift+U</code> (Ungroup)</p>
<hr>
<h4 id="å¯¼å‡º"><a href="#å¯¼å‡º" class="headerlink" title="å¯¼å‡º"></a>å¯¼å‡º</h4><p>åœ¨å°†å®Œæˆåçš„æµç¨‹å›¾å¯¼å‡ºæˆjpgç­‰å…¶ä»–æ ¼å¼æ—¶ï¼Œæœ‰ä¸€ä¸ªã€Œå¯¼å‡ºåŒºåŸŸã€çš„é€‰é¡¹ã€‚é»˜è®¤æƒ…å†µä¸‹æ˜¯ã€Œæ‰€æœ‰å¯¹è±¡ã€ï¼Œä½†é€‰æ‹©è¿™ç§åå¯¼å‡ºçš„å›¾ç‰‡ä¸­å¯èƒ½å‡ºç°å…ƒç´ æ˜¾ç¤ºçš„ä¸å®Œæ•´çš„æƒ…å†µã€‚</p>
<p>è¦æƒ³å°†æ‰€æœ‰å…ƒç´ éƒ½æ˜¾ç¤ºï¼Œé‚£ä¹ˆéœ€è¦é€‰æ‹©ã€Œå½“å‰ç‰ˆé¢ã€é€‰é¡¹ã€‚</p>
<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="https://www.cnblogs.com/huangshiyu13/p/7169600.html" target="_blank" rel="noopener">Omnigraffleå¿«æ·é”® - Shiyu_Huang - åšå®¢å›­</a></li>
<li><a href="https://sspai.com/post/41950" target="_blank" rel="noopener">OmniGraffle åŸºç¡€å…¥é—¨ï¼ˆä¸€ï¼‰ï¼šä»å·¥å…·æ å¼€å§‹ - å°‘æ•°æ´¾</a></li>
</ul>
]]></content>
      <tags>
        <tag>Skill</tag>
        <tag>Tools</tag>
      </tags>
  </entry>
  <entry>
    <title>Dockerå›¾å½¢åŒ–ç®¡ç†å·¥å…·Portainer</title>
    <url>/2018/09/30/docker-management-tool-portainer/</url>
    <content><![CDATA[<p><code>Portainer</code> æ˜¯ä¸€ä¸ªè½»é‡çº§çš„Dockerå®¹å™¨ç®¡ç†ç•Œé¢ï¼Œå¯è®©æ‚¨è½»æ¾ç®¡ç† <code>Docker</code> ä¸»æœº æˆ– <code>Swarm</code> é›†ç¾¤ã€‚</p>
<p>åœ¨æœåŠ¡å™¨ä¸Šéƒ¨ç½²äº†å¾ˆå¤šDockerå®¹å™¨åï¼Œæ€»è§‰å¾—è¿˜å·®ç‚¹ä»€ä¹ˆã€‚æ„Ÿè§‰ç¡®å®éœ€è¦ä¸€ä¸ªå›¾å½¢åŒ–çš„å®¹å™¨ç®¡ç†å·¥å…·ï¼Œä¾¿äºç›´è§‚çš„æŸ¥çœ‹ç›®å‰æœåŠ¡å™¨ä¸­å®¹å™¨çš„çŠ¶æ€ç­‰ã€‚</p>
<p>é€šè¿‡å¯¹å„ç§ç®¡ç†å·¥å…·çš„æ¯”è¾ƒï¼Œæœ€åç¡®å®šä½¿ç”¨ <code>Portainer</code> è¿™æ¬¾è½»é‡çº§çš„ã€‚æ¯•ç«Ÿæ˜¯ä¸ªäººæœåŠ¡å™¨ï¼Œä¹Ÿç”¨ä¸åˆ°ç‰¹åˆ«å¤§çš„é‡çº§ã€‚</p>
<h4 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h4><p>è¿™é‡Œæˆ‘ç›´æ¥ä½¿ç”¨å®˜ç½‘æä¾›çš„ <code>docker-compose.yml</code> æ¥å¯åŠ¨portainerå®¹å™¨ã€‚ä¸‹è½½è¯¥æ–‡ä»¶: <a href="https://portainer.io/download/docker-compose.yml" target="_blank" rel="noopener">Download the Compose file</a> ï¼Œæ›´å¤šçš„å®‰è£…ä¿¡æ¯å¯è§å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://portainer.readthedocs.io/en/stable/deployment.html" target="_blank" rel="noopener">Deployment â€” Portainer 1.20.1 documentation</a> ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">version: &#39;2&#39;</span><br><span class="line"></span><br><span class="line">services:</span><br><span class="line">  portainer:</span><br><span class="line">    image: portainer&#x2F;portainer</span><br><span class="line">    ports:</span><br><span class="line">      - &quot;9000:9000&quot;</span><br><span class="line">    command: -H unix:&#x2F;&#x2F;&#x2F;var&#x2F;run&#x2F;docker.sock</span><br><span class="line">    volumes:</span><br><span class="line">      - &#x2F;var&#x2F;run&#x2F;docker.sock:&#x2F;var&#x2F;run&#x2F;docker.sock</span><br><span class="line">      - portainer_data:&#x2F;data</span><br><span class="line"></span><br><span class="line">volumes:</span><br><span class="line">  portainer_data:</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸€æ¬¡ç™»å½•ï¼Œéœ€è¦è¾“å…¥ç®¡ç†å‘˜çš„å¯†ç ã€‚</p>
<p>ç®¡ç†ç•Œé¢ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20180930185744.png" alt=""></p>
<hr>
<p>æ›´å¤šå†…å®¹å¯ä»¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ã€‚</p>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="https://portainer.readthedocs.io/en/stable/deployment.html" target="_blank" rel="noopener">Deployment â€” Portainer 1.20.1 documentation</a></li>
</ul>
]]></content>
      <categories>
        <category>Dockerå®¹å™¨æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>HTTPSæ³›åŸŸåè¯ä¹¦ç”³è¯·ä¹‹ä¸‰-ä¸ƒç‰›äº‘å›¾ç‰‡é“¾æ¥å‡çº§https</title>
    <url>/2018/09/24/https-certificate-three-of-qiniu-https/</url>
    <content><![CDATA[<p>ä¸Šç¯‡æ–‡ç«  <a href="/2018/09/24/https-certificate-two-of-nginx-settings/">HTTPSæ³›åŸŸåè¯ä¹¦ç”³è¯·ä¹‹äºŒ-Nginxé…ç½®</a> è¯´é“ï¼Œè¦è®©æˆ‘çš„åšå®¢ <code>https://www.itfanr.cc</code> ç”¨ä¸Šå…¨ç«™çš„HTTPSå®‰å…¨æ¨¡å¼ï¼Œå¿…é¡»è§£å†³ä¸ƒç‰›äº‘å›¾ç‰‡é“¾æ¥httpçš„é—®é¢˜ã€‚</p>
<p>è€Œä¸ƒç‰›äº‘å®˜æ–¹æ¨èçš„httpsæ–¹æ¡ˆï¼Œè´¹ç”¨æ¯”ä»·é«˜ã€‚é‚£æœ‰æ²¡æœ‰ä»€ä¹ˆå…è´¹çš„æ–¹æ³•å‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯é€šè¿‡ <code>è‡ªå®šä¹‰åŸŸå</code> æ¥è®¾ç½®ã€‚</p>
<p>ä¹Ÿå°±æ˜¯åŸŸåæˆ‘ä»¬è‡ªå®šä¹‰ï¼Œè¯ä¹¦ä½¿ç”¨ä¹‹å‰è®¾ç½®çš„æ³›åŸŸåè¯ä¹¦ï¼Œé‚£ä¹ˆé—®é¢˜å°±æå®šäº†ã€‚</p>
<h4 id="åœ¨ä¸ƒç‰›äº‘ä¸­æ·»åŠ è‡ªå®šä¹‰åŸŸå"><a href="#åœ¨ä¸ƒç‰›äº‘ä¸­æ·»åŠ è‡ªå®šä¹‰åŸŸå" class="headerlink" title="åœ¨ä¸ƒç‰›äº‘ä¸­æ·»åŠ è‡ªå®šä¹‰åŸŸå"></a>åœ¨ä¸ƒç‰›äº‘ä¸­æ·»åŠ è‡ªå®šä¹‰åŸŸå</h4><p>åœ¨ä¸ªäººçš„ â€œå­˜å‚¨ç©ºé—´â€ è®¾ç½®èœå•ä¸­é€‰æ‹© â€œç»‘å®šåŸŸåâ€ ï¼ŒåŸŸåç±»å‹ä¸­é€‰æ‹© â€œæ™®é€šåŸŸåâ€ å³å¯ã€‚</p>
<p>åœ¨ â€œåŠ é€ŸåŸŸåâ€ å¤„è®¾ç½®ä¸€ä¸ªè‡ªå®šä¹‰çš„åŸŸåï¼Œæ¯”å¦‚æˆ‘è®¾ç½®çš„æ˜¯ <code>qiniu.itfanr.cc</code> ã€‚</p>
<p>â€œé€šä¿¡åè®®â€ é€‰æ‹© <code>HTTPS</code> æ–¹å¼ã€‚</p>
<p>ç”±äºè¦ä¸ºè‡ªå®šä¹‰åŸŸåæ·»åŠ è¯ä¹¦æ–‡ä»¶ï¼Œè€Œä¹‹å‰ä¹Ÿæ²¡æœ‰æ·»åŠ è¿‡ï¼Œæ‰€ä»¥è¿™é‡Œé€‰æ‹© â€œSSL è¯ä¹¦ç®¡ç†â€ æ¥è®¾ç½®ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20180924112100.png" alt=""></p>
<p>åœ¨ â€œSSLè¯ä¹¦æœåŠ¡ &gt; è¯ä¹¦ç®¡ç†â€ ç•Œé¢ä¸­ï¼Œé€‰æ‹© â€œä¸Šä¼ è‡ªæœ‰è¯ä¹¦â€ æ¥æ·»åŠ ä¹‹å‰ç”³è¯·åˆ°çš„è¯ä¹¦æ–‡ä»¶ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20180920204113.png" alt=""></p>
<p>è®¾ç½®å®Œæˆåï¼Œç­‰å¾…ä¸ƒç‰›äº‘å¤„ç†ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20180920203520.png" alt=""></p>
<p>å¤„ç†å®Œæˆåï¼Œä¼šç»™å‡ºå¦‚ä¸‹æç¤ºï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20180920203108.png" alt=""></p>
<h4 id="åœ¨é˜¿é‡Œäº‘è®¾ç½®åŸŸåCNAME"><a href="#åœ¨é˜¿é‡Œäº‘è®¾ç½®åŸŸåCNAME" class="headerlink" title="åœ¨é˜¿é‡Œäº‘è®¾ç½®åŸŸåCNAME"></a>åœ¨é˜¿é‡Œäº‘è®¾ç½®åŸŸåCNAME</h4><p>ä¸ƒç‰›äº‘è‡ªå®šä¹‰åŸŸåæ·»åŠ æˆåŠŸåï¼Œè¿˜è¦æ·»åŠ åŸŸåçš„è§£æã€‚ä¹Ÿå°±æ˜¯éœ€è¦åœ¨åŸŸåæœåŠ¡å•†å¤„æ·»åŠ ä¸€æ¡ <code>CNAME</code> è®°å½•ã€‚</p>
<p>ä»¥ä¸‹æ˜¯æˆ‘åœ¨é˜¿é‡Œäº‘ä¸­æ·»åŠ çš„é…ç½®ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20180920203411.png" alt=""></p>
<p>ç¨ç­‰ç‰‡åˆ»ï¼Œç­‰å¾…ç”Ÿæ•ˆã€‚</p>
<h4 id="è®¾ç½®ä¸ƒç‰›äº‘å›¾ç‰‡å¤–é“¾é»˜è®¤åŸŸå"><a href="#è®¾ç½®ä¸ƒç‰›äº‘å›¾ç‰‡å¤–é“¾é»˜è®¤åŸŸå" class="headerlink" title="è®¾ç½®ä¸ƒç‰›äº‘å›¾ç‰‡å¤–é“¾é»˜è®¤åŸŸå"></a>è®¾ç½®ä¸ƒç‰›äº‘å›¾ç‰‡å¤–é“¾é»˜è®¤åŸŸå</h4><p>åŸŸåè§£ææˆåŠŸåï¼Œè¿˜è¦åœ¨ä¸ƒç‰›äº‘ä¸­æ·»åŠ å›¾ç‰‡çš„é»˜è®¤åŸŸåã€‚</p>
<p>æ‰“å¼€ä¸ƒç‰›äº‘ â€œå­˜å‚¨ç©ºé—´â€ è®¾ç½®ï¼Œåœ¨ â€œå†…å®¹ç®¡ç†â€ ä¸­çš„ â€œå¤–é“¾é»˜è®¤åŸŸåâ€ å¤„é€‰æ‹©åˆšåˆšæ·»åŠ çš„ è‡ªå®šä¹‰åŸŸåï¼Œä¹‹å â€œä¿å­˜é»˜è®¤åŸŸåâ€ å³å¯ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20180924113506.png" alt=""></p>
<p>é€‰æ‹©ä¸€å¼ å›¾ç‰‡ï¼Œé€šè¿‡è‡ªå®šä¹‰åŸŸåè®¿é—®ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20180920204430.png" alt=""></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå·²ç»èƒ½æ­£å¸¸æ”¯æŒhttpsäº†ã€‚</p>
<h4 id="å›¾ç‰‡ä¼˜åŒ–"><a href="#å›¾ç‰‡ä¼˜åŒ–" class="headerlink" title="å›¾ç‰‡ä¼˜åŒ–"></a>å›¾ç‰‡ä¼˜åŒ–</h4><p>ä¸€èˆ¬ç›´æ¥æˆªå›¾æˆ–è€…ä¸Šä¼ æœ¬åœ°çš„å›¾ç‰‡åˆ°ä¸ƒç‰›äº‘åï¼Œé€šè¿‡é“¾æ¥ç›´æ¥è®¿é—®ï¼Œå›¾ç‰‡ä½“ç§¯éƒ½ä¼šå¾ˆå¤§ï¼ŒåŠ è½½æ—¶é—´ä¹Ÿä¼šå¾ˆé•¿ã€‚</p>
<p>è€Œä¸ƒç‰›äº‘ä¸­ä¹Ÿæœ‰ç›¸å…³çš„å›¾ç‰‡ä¼˜åŒ–è®¾ç½®ã€‚æ‰“å¼€ â€œå­˜å‚¨ç©ºé—´è®¾ç½®â€ â€“ â€œå›¾ç‰‡æ ·å¼â€ é€‰é¡¹ï¼Œåœ¨è¿™é‡Œå¯ä»¥æ·»åŠ è‡ªå®šä¹‰çš„å›¾ç‰‡ä¼˜åŒ–æ–¹æ¡ˆã€‚</p>
<p>åœ¨ â€œæ ·å¼åˆ†éš”ç¬¦è®¾ç½®â€ ä¸­ï¼Œå¯ä»¥è®¾ç½®åˆ†éš”ç¬¦ã€‚</p>
<p>é‚£ä¹ˆï¼Œæ·»åŠ ä¸Šå›¾ç‰‡ä¼˜åŒ–çš„é“¾æ¥å°±å¦‚ä¸‹ï¼šæˆ‘çš„å›¾ç‰‡æ ·å¼å®šä¹‰ä¸º<code>blog</code>ï¼Œåˆ†éš”ç¬¦ä¸º <code>-</code> </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">https:&#x2F;&#x2F;qiniu.itfanr.cc&#x2F;blog&#x2F;170809&#x2F;26B1D9j4eI.jpg-blog</span><br></pre></td></tr></table></figure>

<h4 id="æ›¿æ¢Hexoåšå®¢ä¸­å·²æœ‰çš„å›¾ç‰‡é“¾æ¥"><a href="#æ›¿æ¢Hexoåšå®¢ä¸­å·²æœ‰çš„å›¾ç‰‡é“¾æ¥" class="headerlink" title="æ›¿æ¢Hexoåšå®¢ä¸­å·²æœ‰çš„å›¾ç‰‡é“¾æ¥"></a>æ›¿æ¢Hexoåšå®¢ä¸­å·²æœ‰çš„å›¾ç‰‡é“¾æ¥</h4><p>å› ä¸ºä¹‹å‰çš„æ–‡ç« ä¸­ä¹Ÿæœ‰æ·»åŠ å¾ˆå¤šçš„ä¸ƒç‰›äº‘å›¾ç‰‡é“¾æ¥ï¼Œä½†éƒ½æ˜¯<code>http</code> çš„ï¼Œæƒ³è¦ä¸€ç¯‡æ–‡ç« ä¸€ç¯‡æ–‡ç« çš„æ›¿æ¢ä¹Ÿå¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥æˆ‘å°±å†™äº†ä¸€ä¸ªPyè„šæœ¬æ¥åšæ›¿æ¢çš„äº‹ã€‚</p>
<p>Pyè„šæœ¬ä¸»è¦å†…å®¹å¦‚ä¸‹ï¼šå®Œæ•´ä»£ç æŸ¥çœ‹ï¼š<a href="https://github.com/Leafney/md-qiniu-imges-replace" target="_blank" rel="noopener">Leafney/md-qiniu-imges-replace: markdownæ–‡ä»¶ä¸­ä¸ƒç‰›äº‘å›¾ç‰‡é“¾æ¥æ›¿æ¢</a>  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def md_img_replace(md_file):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    æ›¿æ¢mdæ–‡ä»¶ä¸­çš„å›¾ç‰‡é“¾æ¥</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    result&#x3D;False</span><br><span class="line">    post&#x3D;md_read(md_file)</span><br><span class="line">    matches &#x3D; re.compile(</span><br><span class="line">        &#39;!\\[.*?\\]\\((.*?)\\)|&lt;img.*?src&#x3D;[\&#39;\&quot;](.*?)[\&#39;\&quot;].*?&gt;&#39;).findall(post)</span><br><span class="line">    </span><br><span class="line">    if matches and len(matches)&gt;0:</span><br><span class="line">        # è¯¥mdæ–‡ä»¶ä¸­æœ‰å›¾ç‰‡</span><br><span class="line"></span><br><span class="line">        # è¾“å‡ºæ–‡ä»¶åç§°</span><br><span class="line">        print(&#39;æ–‡ä»¶ï¼š[&#123;0&#125;] ä¸­å«æœ‰å›¾ç‰‡&#39;.format(md_file))</span><br><span class="line">        new_post&#x3D;post</span><br><span class="line">        for sub_match in matches: # æ­£åˆ™é‡ŒåŒ…å«æˆ–ï¼Œæ‰€ä»¥è¿™é‡Œsub_matthæ˜¯å…ƒç»„</span><br><span class="line">            # print(sub_match)</span><br><span class="line">            for match in sub_match:</span><br><span class="line">                if match and len(match)&gt;0:</span><br><span class="line">                    # å¾—åˆ°å•å¼ å›¾ç‰‡é“¾æ¥</span><br><span class="line">                    print(&#39;æ‰¾åˆ°å›¾ç‰‡é“¾æ¥ï¼š[&#123;0&#125;]&#39;.format(match))</span><br><span class="line">                    # åœ¨è¿™é‡Œéå†ä¸€éåï¼Œå‘ç°æˆ‘çš„æ–‡ç« ä¸­å›¾ç‰‡é“¾æ¥çš„ç‰¹ç‚¹ä¸»è¦æœ‰ä¸‰ç§æ ¼å¼ï¼š</span><br><span class="line">                    &quot;&quot;&quot;</span><br><span class="line">                    https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;leafney&#x2F;blog-images@main&#x2F;blog&#x2F;20180924112100.png  -- å·²ç»ç¬¦åˆè¦æ±‚çš„</span><br><span class="line">                    http:&#x2F;&#x2F;ouej55gp9.bkt.clouddn.com&#x2F;blog&#x2F;20180920204113.png   -- åªæœ‰æ—§ç‰ˆé“¾æ¥çš„</span><br><span class="line">                    http:&#x2F;&#x2F;ouej55gp9.bkt.clouddn.com&#x2F;blog&#x2F;180116&#x2F;B2c2Deah5B.png?imageslim -- æ—§ç‰ˆé“¾æ¥å¸¦ä¼˜åŒ–å‚æ•°çš„</span><br><span class="line">                    æ‰€ä»¥ï¼Œä¸‹é¢çš„æ“ä½œä¸»è¦é’ˆå¯¹äºä¸Šé¢çš„ä¸‰ç§æƒ…å†µæ¥å¤„ç†</span><br><span class="line"></span><br><span class="line">                    ***** æ‰€ä»¥ï¼Œè¿™é‡Œè¦æ”¹æˆé’ˆå¯¹äºä½ è‡ªå·±çš„æ–‡ç« å›¾ç‰‡é“¾æ¥æ¥å¤„ç† *****</span><br><span class="line">                    </span><br><span class="line">                    &quot;&quot;&quot;</span><br><span class="line">                    # print(&#39;----------------&#39;)</span><br><span class="line"></span><br><span class="line">                    # åˆ¤æ–­å›¾ç‰‡åŸŸåæ˜¯å¦ä¸º http:&#x2F;&#x2F;ouej55gp9.bkt.clouddn.com&#x2F; æ˜¯çš„è¯ï¼Œåˆ™æ›¿æ¢ä¸º https:&#x2F;&#x2F;qiniu.itfanr.cc</span><br><span class="line">                    if match.startswith(&#39;http:&#x2F;&#x2F;ouej55gp9.bkt.clouddn.com&#39;):</span><br><span class="line">                        # è®°å½•ä¸‹æ›¿æ¢å‰çš„é“¾æ¥</span><br><span class="line">                        old_url&#x3D;match</span><br><span class="line">                        new_url &#x3D; match.replace(</span><br><span class="line">                            &#39;http:&#x2F;&#x2F;ouej55gp9.bkt.clouddn.com&#39;, &#39;https:&#x2F;&#x2F;qiniu.itfanr.cc&#39;)</span><br><span class="line">                        # print(&#39;step_1_new_url:[&#123;0&#125;]&#39;.format(new_url))</span><br><span class="line"></span><br><span class="line">                        # åˆ¤æ–­æ˜¯å¦ä»¥ ?imageslim ç»“å°¾</span><br><span class="line">                        if not match.endswith(&#39;imageslim&#39;):</span><br><span class="line">                            # ä¸æ˜¯ï¼Œåœ¨ç»“å°¾æ·»åŠ </span><br><span class="line">                            new_url +&#x3D; &#39;?imageslim&#39;</span><br><span class="line">                        </span><br><span class="line">                        print(&#39;step_2_new_url:[&#123;0&#125;]&#39;.format(new_url))</span><br><span class="line">                        # æ›¿æ¢ post ä¸­çš„ old_urlä¸º new_urlï¼Œå¹¶å°†æ–°å†…å®¹å†™å›æ–‡ä»¶</span><br><span class="line">                        new_post &#x3D; new_post.replace(old_url, new_url)</span><br><span class="line">                        result &#x3D; True</span><br><span class="line">                    </span><br><span class="line">                    print(&#39;----------------&#39;)</span><br><span class="line">        if result:</span><br><span class="line">            # å°†å†…å®¹é‡æ–°å†™å›æ–‡ä»¶</span><br><span class="line">            # print(new_post)</span><br><span class="line">            md_write(md_file,new_post)</span><br><span class="line">            print(&#39;ok-ä¿®æ”¹æˆåŠŸ&#39;)</span><br><span class="line">        print(&#39;****************&#39;)</span><br><span class="line">    </span><br><span class="line">    return result</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œè¿‡ç¨‹è®°å½•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æ–‡ä»¶ï¼š[.&#x2F;_posts&#x2F;https-certificate-two-of-nginx-settings.md] ä¸­å«æœ‰å›¾ç‰‡</span><br><span class="line">æ‰¾åˆ°å›¾ç‰‡é“¾æ¥ï¼š[http:&#x2F;&#x2F;ouej55gp9.bkt.clouddn.com&#x2F;blog&#x2F;20180919001532.png]</span><br><span class="line">step_2_new_url:[https:&#x2F;&#x2F;qiniu.itfanr.cc&#x2F;blog&#x2F;20180919001532.png?imageslim]</span><br><span class="line">----------------</span><br><span class="line">æ‰¾åˆ°å›¾ç‰‡é“¾æ¥ï¼š[http:&#x2F;&#x2F;ouej55gp9.bkt.clouddn.com&#x2F;blog&#x2F;20180919180924.png]</span><br><span class="line">step_2_new_url:[https:&#x2F;&#x2F;qiniu.itfanr.cc&#x2F;blog&#x2F;20180919180924.png?imageslim]</span><br><span class="line">----------------</span><br><span class="line">æ‰¾åˆ°å›¾ç‰‡é“¾æ¥ï¼š[http:&#x2F;&#x2F;ouej55gp9.bkt.clouddn.com&#x2F;blog&#x2F;20180919171901.png]</span><br><span class="line">step_2_new_url:[https:&#x2F;&#x2F;qiniu.itfanr.cc&#x2F;blog&#x2F;20180919171901.png?imageslim]</span><br><span class="line">----------------</span><br><span class="line">æ‰¾åˆ°å›¾ç‰‡é“¾æ¥ï¼š[https:&#x2F;&#x2F;qiniu.itfanr.cc&#x2F;blog&#x2F;20180924000202.png?imageslim]</span><br><span class="line">----------------</span><br><span class="line">æ‰¾åˆ°å›¾ç‰‡é“¾æ¥ï¼š[https:&#x2F;&#x2F;qiniu.itfanr.cc&#x2F;blog&#x2F;20180924000229.png?imageslim]</span><br><span class="line">----------------</span><br><span class="line">æ‰¾åˆ°å›¾ç‰‡é“¾æ¥ï¼š[http:&#x2F;&#x2F;ouej55gp9.bkt.clouddn.com&#x2F;blog&#x2F;20180919165205.png]</span><br><span class="line">step_2_new_url:[https:&#x2F;&#x2F;qiniu.itfanr.cc&#x2F;blog&#x2F;20180919165205.png?imageslim]</span><br><span class="line">----------------</span><br><span class="line">æ‰¾åˆ°å›¾ç‰‡é“¾æ¥ï¼š[http:&#x2F;&#x2F;ouej55gp9.bkt.clouddn.com&#x2F;blog&#x2F;20180919170111.png]</span><br><span class="line">step_2_new_url:[https:&#x2F;&#x2F;qiniu.itfanr.cc&#x2F;blog&#x2F;20180919170111.png?imageslim]</span><br><span class="line">----------------</span><br><span class="line">æ‰¾åˆ°å›¾ç‰‡é“¾æ¥ï¼š[http:&#x2F;&#x2F;ouej55gp9.bkt.clouddn.com&#x2F;blog&#x2F;20180919173643.png]</span><br><span class="line">step_2_new_url:[https:&#x2F;&#x2F;qiniu.itfanr.cc&#x2F;blog&#x2F;20180919173643.png?imageslim]</span><br><span class="line">----------------</span><br><span class="line">æ‰¾åˆ°å›¾ç‰‡é“¾æ¥ï¼š[http:&#x2F;&#x2F;ouej55gp9.bkt.clouddn.com&#x2F;blog&#x2F;20180919180924.png]</span><br><span class="line">step_2_new_url:[https:&#x2F;&#x2F;qiniu.itfanr.cc&#x2F;blog&#x2F;20180919180924.png?imageslim]</span><br><span class="line">----------------</span><br><span class="line">æ‰¾åˆ°å›¾ç‰‡é“¾æ¥ï¼š[http:&#x2F;&#x2F;ouej55gp9.bkt.clouddn.com&#x2F;blog&#x2F;20180919180907.png]</span><br><span class="line">step_2_new_url:[https:&#x2F;&#x2F;qiniu.itfanr.cc&#x2F;blog&#x2F;20180919180907.png?imageslim]</span><br><span class="line">----------------</span><br><span class="line">ok-ä¿®æ”¹æˆåŠŸ</span><br><span class="line">****************</span><br><span class="line">æ–‡ä»¶ï¼š[.&#x2F;_posts&#x2F;https-certificate-one-of-application.md] ä¸­å«æœ‰å›¾ç‰‡</span><br><span class="line">æ‰¾åˆ°å›¾ç‰‡é“¾æ¥ï¼š[https:&#x2F;&#x2F;qiniu.itfanr.cc&#x2F;blog&#x2F;20180921175821.png?imageslim]</span><br><span class="line">----------------</span><br><span class="line">æ‰¾åˆ°å›¾ç‰‡é“¾æ¥ï¼š[http:&#x2F;&#x2F;ouej55gp9.bkt.clouddn.com&#x2F;blog&#x2F;20180918225700.png]</span><br><span class="line">step_2_new_url:[https:&#x2F;&#x2F;qiniu.itfanr.cc&#x2F;blog&#x2F;20180918225700.png?imageslim]</span><br><span class="line">----------------</span><br><span class="line">æ‰¾åˆ°å›¾ç‰‡é“¾æ¥ï¼š[http:&#x2F;&#x2F;ouej55gp9.bkt.clouddn.com&#x2F;blog&#x2F;20180918232923.png]</span><br><span class="line">step_2_new_url:[https:&#x2F;&#x2F;qiniu.itfanr.cc&#x2F;blog&#x2F;20180918232923.png?imageslim]</span><br><span class="line">----------------</span><br><span class="line">ok-ä¿®æ”¹æˆåŠŸ</span><br><span class="line">****************</span><br></pre></td></tr></table></figure>


]]></content>
      <categories>
        <category>HTTPS</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>HTTPS</tag>
      </tags>
  </entry>
  <entry>
    <title>HTTPSæ³›åŸŸåè¯ä¹¦ç”³è¯·ä¹‹äºŒ-Nginxé…ç½®</title>
    <url>/2018/09/24/https-certificate-two-of-nginx-settings/</url>
    <content><![CDATA[<p>åœ¨ç”³è¯·æˆåŠŸhttpsçš„æ³›åŸŸåè¯ä¹¦è´¦å·ï¼Œæ¥ä¸‹æ¥å°±æ˜¯ä¸ºä¸»åŸŸåä»¥åŠäºŒçº§åŸŸåé…ç½®æ·»åŠ è¯ä¹¦æ–‡ä»¶ï¼Œä»¥è®©â€œå°ç»¿é”â€ æ˜¾ç¤ºå‡ºæ¥ã€‚</p>
<h4 id="æ˜¾ç¤ºå°ç»¿é”å´æç¤º404NotFound"><a href="#æ˜¾ç¤ºå°ç»¿é”å´æç¤º404NotFound" class="headerlink" title="æ˜¾ç¤ºå°ç»¿é”å´æç¤º404NotFound"></a>æ˜¾ç¤ºå°ç»¿é”å´æç¤º404NotFound</h4><p>ä¸Šç¯‡æ–‡ç« æœ«å°¾ï¼Œæˆ‘ä¸ºäºŒçº§åŸŸå <code>gogit.itfanr.cc</code> çš„Nginxé…ç½®ä¸­æŒ‡å®šäº†è¯ä¹¦ç›®å½•ï¼Œç½‘ç«™ä¹Ÿæ­£å¸¸åº”ç”¨ä¸Šäº†httpsï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 443 ssl;</span><br><span class="line">    server_name gogit.itfanr.cc;</span><br><span class="line"></span><br><span class="line">    ssl_certificate &#x2F;etc&#x2F;acme.sh&#x2F;itfanr.cc&#x2F;fullchain.cer;</span><br><span class="line">    ssl_certificate_key &#x2F;etc&#x2F;acme.sh&#x2F;itfanr.cc&#x2F;itfanr.cc.key;</span><br><span class="line">    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span><br><span class="line"></span><br><span class="line">    proxy_set_header Host $host;</span><br><span class="line">    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">    proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">    proxy_set_header X-Forwarded-Proto $scheme;</span><br><span class="line"></span><br><span class="line">    location &#x2F; &#123;</span><br><span class="line">        proxy_pass http:&#x2F;&#x2F;127.0.0.1:3000&#x2F;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">        listen 80;</span><br><span class="line">        server_name gogit.itfanr.cc;</span><br><span class="line">        return 301 https:&#x2F;&#x2F;$server_name$request_uri;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†å½“æˆ‘æŒ‰ç…§ä¸Šé¢çš„é…ç½®ä¸ºä¸»åŸŸå <code>www.itfanr.cc</code> ä¹ŸæŒ‡å®šhttpsè¯ä¹¦åï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 443 ssl;</span><br><span class="line">    server_name www.itfanr.cc;</span><br><span class="line"></span><br><span class="line">    ssl_certificate &#x2F;etc&#x2F;acme.sh&#x2F;itfanr.cc&#x2F;fullchain.cer;</span><br><span class="line">    ssl_certificate_key &#x2F;etc&#x2F;acme.sh&#x2F;itfanr.cc&#x2F;itfanr.cc.key;</span><br><span class="line">    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span><br><span class="line"></span><br><span class="line">    proxy_set_header Host $host;</span><br><span class="line">    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">    proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">    proxy_set_header X-Forwarded-Proto $scheme;</span><br><span class="line"></span><br><span class="line">    location &#x2F; &#123;</span><br><span class="line">        proxy_pass http:&#x2F;&#x2F;localhost:8080&#x2F;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">        listen 80;</span><br><span class="line">        server_name www.itfanr.cc;</span><br><span class="line">        return 301 https:&#x2F;&#x2F;$server_name$request_uri;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»“æœï¼Œé¡µé¢å´æ˜¾ç¤ºäº† <code>404 Not Found</code> çš„é”™è¯¯ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20180919001532.png" alt=""></p>
<h4 id="è§£å†³å¤šåŸŸåä¸‹è®¾ç½®è¯ä¹¦"><a href="#è§£å†³å¤šåŸŸåä¸‹è®¾ç½®è¯ä¹¦" class="headerlink" title="è§£å†³å¤šåŸŸåä¸‹è®¾ç½®è¯ä¹¦"></a>è§£å†³å¤šåŸŸåä¸‹è®¾ç½®è¯ä¹¦</h4><p>é€šè¿‡ç›¸å…³é—®é¢˜çš„æœç´¢ï¼Œç»“æœå´æ²¡æœ‰æ‰¾åˆ°ä»€ä¹ˆæœ‰æ•ˆçš„è§£å†³æ–¹æ³•ã€‚å¦å¤–ç”±äºæˆ‘å¯¹Nginxçš„é…ç½®ä¹Ÿä¸æ˜¯ç‰¹åˆ«ç²¾é€šï¼Œæ‰€ä»¥ä¸€ä¸‹å­é™·å…¥äº†è¿·èŒ«ä¸­ã€‚</p>
<p>åæ¥ï¼Œåœ¨ä¸€ç¯‡ç›¸å…³æ–‡ç«  <a href="https://godruoyi.com/posts/let-s-encrypt-generic-domain-name-certificate-application-and-configuration" target="_blank" rel="noopener">Letâ€™s Encrypt æ³›åŸŸåè¯ä¹¦ç”³è¯·åŠé…ç½®</a> ä¸­æ‰¾åˆ°äº†ä¸€ç§æ–¹æ³•ã€‚</p>
<h5 id="ç¬¬ä¸€æ­¥"><a href="#ç¬¬ä¸€æ­¥" class="headerlink" title="ç¬¬ä¸€æ­¥"></a>ç¬¬ä¸€æ­¥</h5><p>åœ¨Nginxçš„ <code>snippets</code> ç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œæˆ‘è¿™é‡Œå‘½åä¸º <code>ssl-itfanr.conf</code>ï¼Œå†…å®¹ç”¨æ¥è®¾ç½®SSLç›¸å…³çš„é…ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># &#x2F;etc&#x2F;nginx&#x2F;snippets&#x2F;ssl-itfanr.conf</span><br><span class="line"></span><br><span class="line">server_tokens   off;</span><br><span class="line"></span><br><span class="line">ssl_session_cache        shared:SSL:10m;</span><br><span class="line">ssl_session_timeout      60m;</span><br><span class="line"></span><br><span class="line">ssl_session_tickets      on;</span><br><span class="line"></span><br><span class="line">ssl_stapling             on;</span><br><span class="line">ssl_stapling_verify      on;</span><br><span class="line"></span><br><span class="line">resolver                 8.8.4.4 8.8.8.8  valid&#x3D;300s;</span><br><span class="line">resolver_timeout         10s;</span><br><span class="line">ssl_prefer_server_ciphers on;</span><br><span class="line"></span><br><span class="line"># è¯ä¹¦è·¯å¾„ ç»å¯¹åœ°å€</span><br><span class="line">ssl_certificate         &#x2F;etc&#x2F;acme.sh&#x2F;itfanr.cc&#x2F;fullchain.cer;</span><br><span class="line">ssl_certificate_key     &#x2F;etc&#x2F;acme.sh&#x2F;itfanr.cc&#x2F;itfanr.cc.key;</span><br><span class="line"></span><br><span class="line">ssl_protocols            TLSv1 TLSv1.1 TLSv1.2;</span><br><span class="line"></span><br><span class="line">ssl_ciphers &quot;EECDH+AESGCM:EDH+AESGCM:ECDHE-RSA-AES128-GCM-SHA256:AES256+EECDH:DHE-RSA-AES128-GCM-SHA256:AES256+EDH:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES128-SHA256:ECDHE-RSA-AES256-SHA:ECDHE-RSA-AES128-SHA:DHE-RSA-AES256-SHA256:DHE-RSA-AES128-SHA256:DHE-RSA-AES256-SHA:DHE-RSA-AES128-SHA:ECDHE-RSA-DES-CBC3-SHA:EDH-RSA-DES-CBC3-SHA:AES256-GCM-SHA384:AES128-GCM-SHA256:AES256-SHA256:AES128-SHA256:AES256-SHA:AES128-SHA:DES-CBC3-SHA:HIGH:!aNULL:!eNULL:!EXPORT:!DES:!MD5:!PSK:!RC4&quot;;</span><br><span class="line"></span><br><span class="line">add_header Strict-Transport-Security &quot;max-age&#x3D;31536000;includeSubDomains;preload&quot;;</span><br><span class="line">add_header  X-Frame-Options  deny;</span><br><span class="line">add_header  X-Content-Type-Options  nosniff;</span><br><span class="line">add_header x-xss-protection &quot;1; mode&#x3D;block&quot;;</span><br><span class="line">add_header Content-Security-Policy &quot;default-src &#39;self&#39;; script-src &#39;self&#39; &#39;unsafe-inline&#39; &#39;unsafe-eval&#39; blob: https:; connect-src &#39;self&#39; https:; img-src &#39;self&#39; data: https: blob:; style-src &#39;unsafe-inline&#39; https:; font-src https:&quot;;</span><br></pre></td></tr></table></figure>

<h5 id="ç¬¬äºŒæ­¥"><a href="#ç¬¬äºŒæ­¥" class="headerlink" title="ç¬¬äºŒæ­¥"></a>ç¬¬äºŒæ­¥</h5><p>ç„¶ååœ¨ <code>Nginx</code> ä¸»é…ç½®æ–‡ä»¶ä¸­å¼€å¯ <code>SSL</code> æ”¯æŒï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># &#x2F;etc&#x2F;nginx&#x2F;nginx.conf</span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    ...</span><br><span class="line">    ...</span><br><span class="line">    ##</span><br><span class="line">    # SSL Settings</span><br><span class="line">    ##</span><br><span class="line"></span><br><span class="line">    ssl_protocols TLSv1 TLSv1.1 TLSv1.2; # Dropping SSLv3, ref: POODLE</span><br><span class="line">    ssl_prefer_server_ciphers on;</span><br><span class="line">    ...</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘çš„é…ç½®æ–‡ä»¶ä¸­ <code>SSLé…ç½®</code> è¿™é‡Œé»˜è®¤æ˜¯å¯ç”¨çŠ¶æ€ï¼Œæ‰€ä»¥ä¿æŒé»˜è®¤å³å¯ã€‚</p>
<h5 id="ç¬¬ä¸‰æ­¥"><a href="#ç¬¬ä¸‰æ­¥" class="headerlink" title="ç¬¬ä¸‰æ­¥"></a>ç¬¬ä¸‰æ­¥</h5><p>ä¿®æ”¹åŸŸåçš„é…ç½®æ–‡ä»¶ã€‚</p>
<p>æ¯”å¦‚ï¼Œä¿®æ”¹æˆ‘çš„ç½‘ç«™ä¸»åŸŸå <code>itfanr.cc</code> é…ç½®æ–‡ä»¶å¦‚ä¸‹:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># &#x2F;etc&#x2F;nginx&#x2F;conf.d&#x2F;itfanr.conf</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">        listen 80;</span><br><span class="line">        listen [::]:80;</span><br><span class="line"></span><br><span class="line">        server_name itfanr.cc www.itfanr.cc;</span><br><span class="line">        return 301 https:&#x2F;&#x2F;$server_name$request_uri;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">        listen 443 default_server;</span><br><span class="line">        listen [::]:443 default_server;</span><br><span class="line">        server_name itfanr.cc www.itfanr.cc;</span><br><span class="line"></span><br><span class="line">        include snippets&#x2F;ssl-itfanr.conf;</span><br><span class="line"></span><br><span class="line">        location &#x2F; &#123;</span><br><span class="line">                proxy_pass http:&#x2F;&#x2F;localhost:8080&#x2F;;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åŒæ—¶ï¼Œä¿®æ”¹äºŒçº§åŸŸå <code>gogit.itfanr.cc</code> çš„é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># &#x2F;etc&#x2F;nginx&#x2F;conf.d&#x2F;gogit.conf</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">        listen 80;</span><br><span class="line">        server_name gogit.itfanr.cc;</span><br><span class="line">        return 301 https:&#x2F;&#x2F;$server_name$request_uri;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">        listen 443 ssl;</span><br><span class="line">        listen [::]:443 ssl;</span><br><span class="line">        server_name gogit.itfanr.cc;</span><br><span class="line"></span><br><span class="line">        include snippets&#x2F;ssl-itfanr.conf;</span><br><span class="line"></span><br><span class="line">        location &#x2F; &#123;</span><br><span class="line">                proxy_pass http:&#x2F;&#x2F;127.0.0.1:3000&#x2F;;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼Œå…³é”®çš„ä¸€ç‚¹å°±æ˜¯åœ¨é…ç½®æ–‡ä»¶ä¸­åŒ…å«SSLçš„é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">include snippets&#x2F;ssl-itfanr.conf;</span><br></pre></td></tr></table></figure>

<h5 id="ç¬¬å››æ­¥"><a href="#ç¬¬å››æ­¥" class="headerlink" title="ç¬¬å››æ­¥"></a>ç¬¬å››æ­¥</h5><p>å¦‚æœè¿˜æœ‰å…¶ä»–çš„äºŒçº§åŸŸåï¼ŒåŒæ ·ä¾ç…§ä¸Šé¢çš„æ–¹æ³•è¿›è¡Œé…ç½®ï¼Œç„¶åé‡æ–°è½½å…¥Nginxé…ç½®æ–‡ä»¶ã€‚</p>
<p>åœ¨é‡è½½ä¹‹å‰ï¼Œå¯ä»¥å…ˆéªŒè¯ä¸€ä¸‹åˆšåˆšä¿®æ”¹çš„é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo nginx -t</span><br><span class="line">nginx: the configuration file &#x2F;etc&#x2F;nginx&#x2F;nginx.conf syntax is ok</span><br><span class="line">nginx: configuration file &#x2F;etc&#x2F;nginx&#x2F;nginx.conf test is successful</span><br></pre></td></tr></table></figure>

<p>æ— è¯¯åï¼Œå†æ‰§è¡Œé‡è½½æ“ä½œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo nginx -s reload</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ï¼Œå†æ¬¡è®¿é—®ä¸¤ä¸ªåŸŸååœ°å€ï¼Œå¯ä»¥å‘ç°éƒ½èƒ½å¤Ÿæ­£å¸¸è®¿é—®ä¸”éƒ½æ˜¯httpså®‰å…¨è¿æ¥äº†ã€‚</p>
<p>itfanr.cc:</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20180919180924.png" alt=""></p>
<p>gogit.itfanr.cc:</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20180919171901.png" alt=""></p>
<h4 id="è®¾ç½®é»˜è®¤ç«™ç‚¹"><a href="#è®¾ç½®é»˜è®¤ç«™ç‚¹" class="headerlink" title="è®¾ç½®é»˜è®¤ç«™ç‚¹"></a>è®¾ç½®é»˜è®¤ç«™ç‚¹</h4><p>å› ä¸ºæˆ‘çš„åŸŸåè®¾ç½®äº†æ”¯æŒæ³›åŸŸåï¼Œæ‰€ä»¥æ”¯æŒçš„äºŒçº§åŸŸåéƒ½ä¼šè·³è½¬åˆ°æˆ‘çš„æœåŠ¡å™¨çš„IPåœ°å€ã€‚</p>
<p>é‚£ä¹ˆï¼Œå¯¹äºä¸€äº›æˆ‘ä»¬æ²¡æœ‰æ·»åŠ åˆ°äºŒçº§åŸŸååœ¨æ²¡æœ‰è¿›è¡Œå®šä¹‰æ—¶ï¼Œä¼šè¿”å›ä»€ä¹ˆå‘¢ï¼Ÿè¿™å°±éœ€è¦è®¾ç½® <code>é»˜è®¤ç«™ç‚¹</code> äº†ã€‚</p>
<p>ä¹Ÿå°±æ˜¯é€šè¿‡å‚æ•° <code>default_server</code> æ¥æŒ‡å®šã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ä¸€ä¸‹ <code>/etc/nginx/sites-available/default</code> æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">        listen 80 default_server;</span><br><span class="line">        listen [::]:80 default_server;</span><br><span class="line">        ...</span><br><span class="line">        ...</span><br><span class="line">        root &#x2F;var&#x2F;www&#x2F;html;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„è®¾ç½®è¯´æ˜ï¼Œå½“è®¿é—®åŸŸåæ˜¯æ²¡æœ‰åŒ¹é…åˆ°æˆ‘ä»¬æ·»åŠ çš„åŸŸåï¼Œé‚£ä¹ˆå°±ä¼šè¿”å›é»˜è®¤çš„åœ°å€ã€‚ä¹Ÿå°±æ˜¯è¿™é‡Œçš„ Nginxé»˜è®¤çš„é¡µé¢ã€‚</p>
<p>æ¯”å¦‚ï¼Œæˆ‘è®¿é—® <code>http://abc.itfanr.cc</code> æ—¶ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20180924000202.png" alt=""></p>
<p>è€Œè¯¥æ–‡ä»¶ä¸­å¹¶æ²¡æœ‰é…ç½®å½“ä½¿ç”¨ <code>https</code> æ–¹å¼è®¿é—®æ—¶ï¼Œè¦è¿”å›ä»€ä¹ˆé»˜è®¤é¡µé¢ã€‚æ‰€ä»¥æˆ‘åœ¨ä¸Šé¢çš„ <code>itfanr.conf</code>é…ç½®ä¸­æ·»åŠ äº†ä¸€é¡¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">listen 443 default_server;</span><br><span class="line">listen [::]:443 default_server;</span><br><span class="line">server_name itfanr.cc www.itfanr.cc;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>é»˜è®¤è¿”å›æˆ‘çš„åšå®¢åœ°å€ã€‚æ¯”å¦‚è®¿é—® <code>https://abc.itfanr.cc</code> æ—¶ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20180924000229.png" alt=""></p>
<p>å¦å¤–ï¼Œè¦æ³¨æ„çš„æ˜¯ï¼šåªèƒ½è®¾ç½®ä¸€ä¸ªç½‘å€ä¸ºé»˜è®¤åœ°å€ï¼Œå½“è®¾ç½®äº†å¤šä¸ªæ—¶ä¼šæç¤ºé”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo nginx -t</span><br><span class="line">nginx: [emerg] a duplicate default server for 0.0.0.0:80 in &#x2F;etc&#x2F;nginx&#x2F;sites-enabled&#x2F;default:17</span><br><span class="line">nginx: configuration file &#x2F;etc&#x2F;nginx&#x2F;nginx.conf test failed</span><br></pre></td></tr></table></figure>

<h4 id="è§£å†³ç½‘ç«™ä¸­çš„-data-ç±»å‹å­—ä½“å›¾ç‰‡æ— æ³•è½½å…¥é—®é¢˜"><a href="#è§£å†³ç½‘ç«™ä¸­çš„-data-ç±»å‹å­—ä½“å›¾ç‰‡æ— æ³•è½½å…¥é—®é¢˜" class="headerlink" title="è§£å†³ç½‘ç«™ä¸­çš„ data ç±»å‹å­—ä½“å›¾ç‰‡æ— æ³•è½½å…¥é—®é¢˜"></a>è§£å†³ç½‘ç«™ä¸­çš„ <code>data</code> ç±»å‹å­—ä½“å›¾ç‰‡æ— æ³•è½½å…¥é—®é¢˜</h4><p>é…ç½®å¥½Nginxçš„ <code>https</code> é…ç½®åï¼Œå†æ¬¡è¯·æ±‚ç½‘å€ <code>https://gogit.itfanr.cc</code>ï¼Œå‘ç°æµè§ˆå™¨åœ°å€æ ä¸­å·²ç»æ˜¾ç¤ºäº†å®‰å…¨çš„ â€œå°ç»¿é”â€ æ ‡å¿—ã€‚ä½†æ˜¯ä¸€æ‰“å¼€Chromeæµè§ˆå™¨çš„F12è°ƒè¯•å·¥å…·ï¼Œå‘ç°æœ‰ä¸€äº›è¯·æ±‚æ˜¯æŠ¥é”™çš„ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20180919165205.png" alt=""></p>
<p>å¯ä»¥å‘ç°ï¼ŒæŠ¥é”™çš„åŸºæœ¬éƒ½æ˜¯å‰ç¼€ä¸º <code>data:application</code> ç±»å‹çš„å­—ä½“å›¾ç‰‡æ–‡ä»¶ã€‚</p>
<p>é€šè¿‡æŸ¥è¯¢ï¼Œåœ¨ <code>Content-Security-Policy</code> æ®µä¸­åº”è¯¥åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">font-src &#39;self&#39; data:;</span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥åªéœ€è¦åœ¨ <code>font-src</code> å’Œ <code>https</code> ä¹‹é—´æ·»åŠ  ï¼š<code>&#39;self&#39; data:</code> å³å¯ã€‚æ³¨æ„å‰åä¹‹é—´è¦ç”¨ç©ºæ ¼åˆ†éš”ã€‚</p>
<p>åŸï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># &#x2F;etc&#x2F;nginx&#x2F;snippets&#x2F;ssl-itfanr.conf</span><br><span class="line"></span><br><span class="line">add_header Content-Security-Policy &quot;default-src &#39;self&#39;; script-src &#39;self&#39; &#39;unsafe-inline&#39; &#39;unsafe-eval&#39; blob: https:; connect-src &#39;self&#39; https:; img-src &#39;self&#39; data: https: blob:; style-src &#39;unsafe-inline&#39; https:; font-src https:&quot;;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹åï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># &#x2F;etc&#x2F;nginx&#x2F;snippets&#x2F;ssl-itfanr.conf</span><br><span class="line"></span><br><span class="line">add_header Content-Security-Policy &quot;default-src &#39;self&#39;; script-src &#39;self&#39; &#39;unsafe-inline&#39; &#39;unsafe-eval&#39; blob: https:; connect-src &#39;self&#39; https:; img-src &#39;self&#39; data: https: blob:; style-src &#39;unsafe-inline&#39; https:; font-src &#39;self&#39; data: https:&quot;;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹å®Œæˆåï¼Œé‡æ–°è½½å…¥Nginxé…ç½®ï¼Œå†æ¬¡åˆ·æ–°ç½‘ç«™ï¼Œå‘ç°å·²ç»æ²¡æœ‰ <code>data:application</code> çº¢è‰²çš„é”™è¯¯è¯·æ±‚é“¾æ¥äº†ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20180919170111.png" alt=""></p>
<ul>
<li><a href="https://stackoverflow.com/questions/45366744/refused-to-load-the-font-datafont-woff-it-violates-the-following-content" target="_blank" rel="noopener">javascript - Refused to load the font â€˜data:font/woffâ€¦..â€™it violates the following Content Security Policy directive: â€œdefault-src â€˜selfâ€™â€. Note that â€˜font-srcâ€™ - Stack Overflow</a></li>
</ul>
<hr>
<h4 id="è§£å†³ä¸ƒç‰›äº‘å›¾ç‰‡å¤–é“¾httpæ— æ³•è½½å…¥çš„é—®é¢˜"><a href="#è§£å†³ä¸ƒç‰›äº‘å›¾ç‰‡å¤–é“¾httpæ— æ³•è½½å…¥çš„é—®é¢˜" class="headerlink" title="è§£å†³ä¸ƒç‰›äº‘å›¾ç‰‡å¤–é“¾httpæ— æ³•è½½å…¥çš„é—®é¢˜"></a>è§£å†³ä¸ƒç‰›äº‘å›¾ç‰‡å¤–é“¾httpæ— æ³•è½½å…¥çš„é—®é¢˜</h4><p>è®¿é—®æˆ‘çš„åšå®¢ç½‘å€ <code>https://www.itfanr.cc</code> ï¼Œå‘ç°æœ‰äº›æ–‡ç« ä¸­çš„ä¸ƒç‰›äº‘å¤–é“¾å›¾ç‰‡éƒ½ä¸æ˜¾ç¤ºäº†ã€‚æŸ¥çœ‹F12è°ƒè¯•å·¥å…·ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20180919173643.png" alt=""></p>
<p>å‘ç°æ‰€æœ‰çš„ä¸ƒç‰›äº‘ <code>http</code> å¤–é“¾å›¾ç‰‡å‡ä¸åŠ è½½ã€‚</p>
<p>ç„¶åæˆ‘åˆå»ä¸ƒç‰›äº‘çš„ç½‘ç«™ä¸­æŸ¥çœ‹äº†ä¸€ä¸‹é…ç½®ï¼Œå‘ç°å¦‚æœæŒ‰ç…§å®˜æ–¹çš„æ–¹æ³•åˆ‡æ¢æˆ <code>https</code> çš„é“¾æ¥ï¼Œæ˜¯éœ€è¦æ”¶è´¹çš„ï¼Œæ­¤æ—¶å¿ƒé‡Œæ˜¯ä¸€ä¸‡å¤´è‰æ³¥é©¬ç‹‚å¥”çš„æ™¯è±¡â€¦</p>
<p>æ— å¥ˆåªèƒ½æ‰¾å¯»å…¶ä»–çš„è§£å†³æ–¹æ³•äº†ã€‚</p>
<p>æŸ¥çœ‹F12çš„Consoleä¸­çš„é”™è¯¯ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Refused to load the image &#39;http:&#x2F;&#x2F;ouej55gp9.bkt.clouddn.com&#x2F;blog&#x2F;20180917193602.png&#39; because it violates the following Content Security Policy directive: &quot;img-src &#39;self&#39; data: https: blob:&quot;.</span><br></pre></td></tr></table></figure>

<p>æœç´¢åˆ° <code>Content-Security-Policy</code> ä»‹ç»é¡µé¢ï¼š<a href="https://content-security-policy.com/" target="_blank" rel="noopener">Content Security Policy CSP Reference &amp; Examples</a></p>
<p>å‚ç…§é‡Œé¢çš„ä»‹ç»ï¼Œå°è¯•æŠŠä¸ƒç‰›äº‘å›¾ç‰‡çš„åŸŸååŠ åˆ° <code>img-src</code> ä¸­ï¼Œæ›´æ”¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">img-src &#39;self&#39; data: https: blob:;</span><br><span class="line"></span><br><span class="line"># æ›´æ”¹ä¸ºï¼š</span><br><span class="line"></span><br><span class="line">img-src &#39;self&#39; ouej55gp9.bkt.clouddn.com data: https: blob:;</span><br></pre></td></tr></table></figure>

<p>å†æ¬¡åˆ·æ–°é¡µé¢åï¼Œå‘ç°å¦‚æœé¡µé¢ä¸­æ²¡æœ‰å¼•ç”¨åˆ°ä¸ƒç‰›äº‘çš„å›¾ç‰‡é“¾æ¥ï¼Œåœ°å€æ ä¸­æ˜¯æ˜¾ç¤ºâ€œå°ç»¿é”â€çš„ï¼Œæ¯”å¦‚é¦–é¡µï¼›è€Œåˆ°äº†æ–‡ç« è¯¦æƒ…é¡µä¸­ï¼Œå¼•ç”¨äº†ä¸ƒç‰›äº‘çš„å›¾ç‰‡é“¾æ¥åï¼Œåœ°å€æ ä¸­å°±ä¼šæ˜¾ç¤ºâ€œå¹å·â€çš„ä¸å®‰å…¨æ ‡å¿—ã€‚</p>
<p>è®¿é—®é¦–é¡µï¼Œæç¤ºâ€œå®‰å…¨è¿æ¥â€ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20180919180924.png" alt=""></p>
<p>è®¿é—®å¸¦æœ‰httpå¤–é“¾å›¾ç‰‡çš„æ–‡ç« è¯¦æƒ…ï¼Œæç¤ºâ€œè¿æ¥å¹¶éå®Œå…¨å®‰å…¨â€ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20180919180907.png" alt=""></p>
<p>æ ¹æ®ä¸Šé¢çš„éªŒè¯å‘ç°ï¼Œå¿…é¡»å¾—æ•´ç«™çš„é“¾æ¥éƒ½æ˜¯ <code>https</code> çš„æƒ…å†µä¸‹ï¼Œæ‰ä¼šæ˜¯ä¸€ç›´å¤„äºâ€œå°ç»¿é”â€çš„å®‰å…¨æ¨¡å¼ä¸‹ã€‚é‚£ä¹ˆæ¥ä¸‹æ¥å°±æ˜¯è§£å†³æ•´ç«™<code>https</code>çš„é—®é¢˜äº†ã€‚ç›®å‰æ¥çœ‹ï¼Œä¹Ÿå°±æ˜¯è§£å†³ä¸ƒç‰›äº‘å›¾ç‰‡é“¾æ¥å¦‚ä½•ä» <code>http</code> åˆ° <code>https</code> çš„é—®é¢˜ã€‚</p>
<h4 id="é—ç•™çš„é—®é¢˜"><a href="#é—ç•™çš„é—®é¢˜" class="headerlink" title="é—ç•™çš„é—®é¢˜"></a>é—ç•™çš„é—®é¢˜</h4><p>è™½ç„¶é€šè¿‡ç‹¬ç«‹å‡ºSSLé…ç½®ï¼Œç„¶ååœ¨éœ€è¦å¯ç”¨ <code>https</code> çš„åŸŸåé…ç½®æ–‡ä»¶ <code>server{}</code> ä¸­ <code>include</code> çš„æ–¹å¼èƒ½å¤Ÿæ­£å¸¸è¿è¡Œï¼Œä½†æˆ‘å¿ƒé‡Œä¸€ç›´è¿˜æ˜¯æœ‰ä¸ªç–‘é—®çš„ï¼šä¸ºä»€ä¹ˆåˆ†åˆ«æŒ‡å®šè¯ä¹¦æ–‡ä»¶åœ°å€æ—¶é…ç½®å´ä¸ç”Ÿæ•ˆï¼Ÿ</p>
<p>ç”±äºç›®å‰è¿˜æœªæ‰¾åˆ°åŸå› ï¼Œè¿™ä¸ªé—®é¢˜æš‚ç•™ï¼Œä»¥å¾…åç»­è§£ç­”ã€‚</p>
]]></content>
      <categories>
        <category>HTTPS</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>HTTPS</tag>
      </tags>
  </entry>
  <entry>
    <title>HTTPSæ³›åŸŸåè¯ä¹¦ç”³è¯·ä¹‹ä¸€-ç”³è¯·æµç¨‹</title>
    <url>/2018/09/24/https-certificate-one-of-application/</url>
    <content><![CDATA[<p>è‡ªä» <code>Let&#39;s Encrypt</code> æ”¯æŒæ³›åŸŸåä¹‹åï¼Œä¸ºç½‘ç«™è®¾ç½®httpså°±å˜å¾—éå¸¸ç®€å•äº†ã€‚ä¹‹å‰éœ€è¦ç»´æŠ¤å¤šä¸ªå­åŸŸåçš„è¯ä¹¦æ›´æ–°ï¼Œæ“ä½œèµ·æ¥ä¹Ÿæ˜¯å¾ˆéº»çƒ¦çš„ã€‚</p>
<p>å› ä¸ºæœ€è¿‘æˆ‘çš„ <code>gogit.itfanr.cc</code> çš„httpsè¯ä¹¦åˆ°æœŸï¼Œæ‰€ä»¥å°±ç ”ç©¶äº†ä¸€ä¸‹æ³›åŸŸåçš„ç”³è¯·è¿‡ç¨‹ï¼Œæƒ³è¦å°†æˆ‘æ‰€æœ‰ <code>itfanr.cc</code> ä¸‹çš„äºŒçº§åŸŸåéƒ½è®¾ç½®æˆhttpsçš„è¯·æ±‚æ–¹å¼ã€‚</p>
<p>ç›®å‰æ¯”è¾ƒå¸¸ç”¨çš„ä¸º <code>Let&#39;s Encrypt</code> ç”Ÿæˆè¯ä¹¦çš„å·¥å…·æ¯”è¾ƒå¤šï¼Œæ¯”å¦‚ <code>certbot</code> å’Œ <code>acme.sh</code> æ˜¯æˆ‘ä¹‹å‰æ¥è§¦è¿‡çš„ä¸¤æ¬¾ã€‚è¿™é‡Œæˆ‘è¦ä½¿ç”¨ <code>acme.sh</code> è¿™ä¸ªå·¥å…·æ¥å®‰è£… <code>Let&#39;s Encrypt</code> è¯ä¹¦ã€‚</p>
<h4 id="acme-sh"><a href="#acme-sh" class="headerlink" title="acme.sh"></a>acme.sh</h4><p><code>acme.sh</code> æ˜¯ç”±å›½äººåˆ©ç”¨ <code>shell</code> è„šæœ¬å¼€å‘çš„ï¼Œå…¼å®¹å„ç§ <code>Linux</code> ç³»ç»Ÿã€‚ä»…ä»…ä¾èµ– <code>curl</code>ã€‚ <code>acme.sh</code> å®ç°äº† <code>acme</code> åè®®, å¯ä»¥ä» <code>letsencrypt</code> ç”Ÿæˆå…è´¹çš„è¯ä¹¦ã€‚</p>
<p>acme.sh æ”¯æŒ <code>--webroot</code>, <code>--standalone</code>, <code>--apache</code>, <code>--nginx</code> and <code>--dns</code> 5ç§è¯ä¹¦ç”³è¯·æ¨¡å¼ã€‚</p>
<h5 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h5><p>å¯ä»¥ç›´æ¥é€šè¿‡ä¸‹é¢çš„è„šæœ¬æ¥å®‰è£… <code>acme.sh</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl https:&#x2F;&#x2F;get.acme.sh | sh</span><br></pre></td></tr></table></figure>

<p>å®‰è£…è¿‡ç¨‹ä¸ä¼šæ±¡æŸ“å·²æœ‰çš„ç³»ç»Ÿä»»ä½•åŠŸèƒ½å’Œæ–‡ä»¶ï¼Œ<code>acme.sh</code> ä¼šè¢«è‡ªåŠ¨å®‰è£…åˆ° <code>~/.acme.sh/</code> ä¸­ã€‚</p>
<p>å¹¶ä¸”ï¼Œè¿˜é»˜è®¤åˆ›å»ºä¸€ä¸ª <code>bash</code> çš„ <code>alias</code>, æ–¹ä¾¿ä½ çš„ä½¿ç”¨: <code>alias acme.sh=~/.acme.sh/acme.sh</code> ã€‚</p>
<p>æ­¤å¤–ï¼Œ<code>acme.sh</code> è¿˜è‡ªåŠ¨åˆ›å»ºäº† <code>cronjob</code>ä»»åŠ¡, æ¯å¤© <code>0:00</code> ç‚¹è‡ªåŠ¨æ£€æµ‹æ‰€æœ‰çš„è¯ä¹¦, å¦‚æœå¿«è¿‡æœŸäº†, éœ€è¦æ›´æ–°, åˆ™ä¼šè‡ªåŠ¨æ›´æ–°è¯ä¹¦.</p>
<h5 id="å•åŸŸåç”³è¯·"><a href="#å•åŸŸåç”³è¯·" class="headerlink" title="å•åŸŸåç”³è¯·"></a>å•åŸŸåç”³è¯·</h5><p>å½“ä½ åªæƒ³è¦ä¸ºä¸€ä¸ªåŸŸåè®¾ç½® <code>https</code> æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>--standalone</code> æ¨¡å¼æ¥ç”³è¯·ã€‚</p>
<p>æ¯”å¦‚æˆ‘ä¹‹å‰åœ¨ä¸º <code>gogit.itfanr.cc</code> è®¾ç½®æ—¶ï¼Œæˆ‘çš„ç½‘ç«™ç¨‹åºæ˜¯è·‘åœ¨Dockerå®¹å™¨ä¸‹çš„ï¼Œå¤–é¢ç”¨ <code>Nginx</code> æ¥åšè·³è½¬ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘éœ€è¦å…ˆå°†å ç”¨ <code>80</code> ç«¯å£çš„ <code>Nginx</code> æœåŠ¡åœæ‰ï¼Œç„¶åå†è®¾ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo service nginx stop</span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼Œç”Ÿæˆhttpsè¯ä¹¦ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ acme.sh --issue -d gogit.itfanr.cc --standalone</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼Œ<code>gogit.itfanr.cc</code> è¯·æ¢æˆè‡ªå·±çš„ç«™ç‚¹åŸŸåã€‚</p>
<p>Standalone æ¨¡å¼é»˜è®¤ä½¿ç”¨çš„æ˜¯ <code>80</code> ç«¯å£ï¼Œå¦‚æœä½ çš„ <code>80</code> ç«¯å£æ— æ³•ä½¿ç”¨çš„è¯ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šç›¸åº”çš„ç«¯å£ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ acme.sh --issue -d gogit.itfanr.cc --standalone --httpport 88</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="è·å–AccessKeys"><a href="#è·å–AccessKeys" class="headerlink" title="è·å–AccessKeys"></a>è·å–AccessKeys</h5><p>å› ä¸ºæˆ‘è¦å°† <code>itfanr.cc</code> åŸŸåä¸‹æ‰€æœ‰çš„äºŒçº§åŸŸåéƒ½è®¾ç½®æˆ <code>https</code> ï¼Œé‚£ä¹ˆä¸Šé¢ä¸€ä¸ªåŸŸåä¸€ä¸ªåŸŸåçš„è®¾ç½®æ–¹æ³•å°±ä¸è¡Œäº†ã€‚</p>
<p>æ³›åŸŸåå°±æ˜¯ç±»ä¼¼äº <code>*.example.com</code> è¿™æ ·çš„åŸŸåã€‚</p>
<p><code>acme.sh</code> ç›®å‰æ”¯æŒæ•°åç§åŸŸåè§£æå•†çš„APIï¼Œå¯ä»¥è‡ªåŠ¨æ·»åŠ  <code>TXT</code> è®°å½•æ¥éªŒè¯ã€‚</p>
<p>è¿™é‡Œæˆ‘ä»¥é˜¿é‡Œäº‘DNSä¸ºä¾‹ï¼Œå…¶ä»–æ”¯æŒçš„åŸŸåéªŒè¯æ–¹å¼ï¼Œå¯ä»¥<a href="https://github.com/Neilpang/acme.sh#7-automatic-dns-api-integration" target="_blank" rel="noopener">æŸ¥çœ‹è¿™é‡Œäº†è§£</a> ä»¥åŠ<a href="https://github.com/Neilpang/acme.sh/blob/master/dnsapi/README.md" target="_blank" rel="noopener">ç›¸åº”çš„è®¾ç½®æ–¹æ³•</a></p>
<p><code>acme.sh</code> è®¿é—®é˜¿é‡Œäº‘ DNS æ˜¯é€šè¿‡é˜¿é‡Œäº‘ DNS å…¬å¼€çš„ API ä»¥åŠç”¨æˆ·çš„ <code>AccessKeys</code> æ¥è¿›è¡Œäº¤äº’çš„ã€‚</p>
<p>ä¸ºäº†ä¿è¯å®‰å…¨ï¼Œé˜¿é‡Œäº‘ <code>AccessKeys</code> æ˜¯ä½¿ç”¨ <code>é˜¿é‡Œäº‘å­è´¦æˆ·</code> æ¥æ·»åŠ çš„ã€‚</p>
<p>ç™»å½• <code>[é˜¿é‡Œäº‘ç®¡ç†æ§åˆ¶å°](https://home.console.aliyun.com/)</code> â€“ ç‚¹å‡»å¤´åƒä¸­çš„ <code>accesskeys</code> â€“ é€‰æ‹© <code>å¼€å§‹ä½¿ç”¨å­ç”¨æˆ·AccessKeys</code> {æˆ–è€…ç›´æ¥ç‚¹å‡»è¯¥<a href="https://ak-console.aliyun.com/#/accesskey" target="_blank" rel="noopener">ç½‘å€</a>} â€“ è®¾ç½® <code>ç”¨æˆ·å</code> â€“ é€‰æ‹©æƒé™ä¸­è¾“å…¥â€œDNSâ€ï¼Œé€‰æ‹© <code>AliyunDNSFullAccess(ç®¡ç†å‘˜è§£æï¼ˆDNSï¼‰çš„æƒé™)</code> è¿™é¡¹ â€“ ä¹‹åå­è´¦æˆ·å’ŒAKéƒ½åˆ›å»ºæˆåŠŸäº†ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20180921175821.png" alt=""></p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20180918225700.png" alt=""></p>
<p><code>AliyunDNSFullAccess</code> è¡¨ç¤º â€œç®¡ç†å‘˜è§£æï¼ˆDNSï¼‰çš„æƒé™â€ï¼Œæ—¢è¯¥è´¦æˆ·å°±æœ‰äº†æ·»åŠ DNSè®°å½•å’Œåˆ é™¤DNSè®°å½•çš„æƒé™ï¼Œä½†æ²¡æœ‰å…¶ä»–æƒé™ã€‚</p>
<p>ä¸€å®šè¦åœ¨è¿™ä¸€æ­¥è®°å½•ä¸‹è¿™ä¸ª <code>AccessKey</code> ä¿¡æ¯ï¼Œä¹‹åå°±æ— æ³•çœ‹åˆ°äº†ã€‚</p>
<hr>
<h5 id="æ·»åŠ é…ç½®"><a href="#æ·»åŠ é…ç½®" class="headerlink" title="æ·»åŠ é…ç½®"></a>æ·»åŠ é…ç½®</h5><p>åœ¨ <code>bash</code> ä¸­æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå°†å‚æ•°æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export Ali_Key&#x3D;&quot;AccessKeyId&quot;</span><br><span class="line">export Ali_Secret&#x3D;&quot;AccessKeySecret&quot;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼Œè¿™é‡Œçš„ <code>Ali_Key</code> å’Œ <code>Ali_Secret</code> æ˜¯å’Œä½ æ‰€ä½¿ç”¨çš„åŸŸåæä¾›å•†ä¸€ä¸€å¯¹åº”çš„ã€‚å…·ä½“çš„å¯åœ¨è¿™é‡ŒæŸ¥æ‰¾ï¼š<a href="https://github.com/Neilpang/acme.sh/blob/master/dnsapi/README.md" target="_blank" rel="noopener">ç›¸åº”çš„è®¾ç½®æ–¹æ³•</a></p>
<p>å¦å¤–ï¼Œè¿™ä¸ªä¸´æ—¶ç¯å¢ƒå˜é‡åªéœ€é…ç½®è¿™ä¸€æ¬¡ï¼Œå½“æˆåŠŸç”³è¯·è¯ä¹¦åï¼ŒAPIä¿¡æ¯ä¼šè¢«è‡ªåŠ¨ä¿å­˜åœ¨ <code>~/.acme.sh/account.conf</code> ï¼Œä¸‹æ¬¡ä½ ä½¿ç”¨ <code>acme.sh</code> çš„æ—¶å€™ä¼šè¢«è‡ªåŠ¨ä½¿ç”¨ã€‚</p>
<hr>
<h5 id="ç”Ÿæˆæ³›åŸŸåè¯ä¹¦"><a href="#ç”Ÿæˆæ³›åŸŸåè¯ä¹¦" class="headerlink" title="ç”Ÿæˆæ³›åŸŸåè¯ä¹¦"></a>ç”Ÿæˆæ³›åŸŸåè¯ä¹¦</h5><p>æ¥ä¸‹æ¥æ­£å¼å¼€å§‹ç”³è¯·æ³›åŸŸåè¯ä¹¦ï¼Œå°† <code>example.com</code> æ¢æˆä½ è‡ªå·±çš„åŸŸåï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ acme.sh --issue --dns dns_ali -d example.com -d &#39;*.example.com&#39;</span><br></pre></td></tr></table></figure>

<p>ç”³è¯·å®Œæˆåå¯ä»¥åœ¨ <code>~/.acme.sh/example.com</code> ä¸‹çœ‹åˆ°è¯ä¹¦æ–‡ä»¶ï¼š</p>
<p>è¯ä¹¦æ–‡ä»¶æ˜¯ <code>fullchain.cer</code><br>å¯†é’¥æ–‡ä»¶æ˜¯ <code>example.com.key</code></p>
<hr>
<h5 id="è¯ä¹¦ç»­æœŸ"><a href="#è¯ä¹¦ç»­æœŸ" class="headerlink" title="è¯ä¹¦ç»­æœŸ"></a>è¯ä¹¦ç»­æœŸ</h5><p>Letâ€™s Encrypt è¯ä¹¦çš„æœ‰æ•ˆæœŸä¸ºä¸‰ä¸ªæœˆï¼Œacme.shä¼šæ¯éš”60å¤©è‡ªåŠ¨å¸®ä½ ç»­æœŸã€‚åœ¨ä»¥ä¸Šå‘½ä»¤æ‰§è¡Œåï¼Œä¼šåœ¨ <code>crontab</code> é‡Œæ·»åŠ è®¡åˆ’ï¼Œé€šè¿‡å‘½ä»¤æŸ¥çœ‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ crontab -l</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="å°†è¯ä¹¦é…ç½®åˆ°Nginx"><a href="#å°†è¯ä¹¦é…ç½®åˆ°Nginx" class="headerlink" title="å°†è¯ä¹¦é…ç½®åˆ°Nginx"></a>å°†è¯ä¹¦é…ç½®åˆ°Nginx</h5><p>æ”¾åœ¨ <code>~/.acme.sh/example.com</code> ç›®å½•ä¸‹çš„è¯ä¹¦æ–‡ä»¶ä¸èƒ½ç›´æ¥æ‹¿æ¥ä½¿ç”¨ï¼Œéœ€è¦æ‹·è´åˆ°ä¸€ä¸ªè‡ªå®šä¹‰çš„ç›®å½•ä¸‹ï¼Œå†é…ç½®åˆ°Nginxä¸­æ‰èƒ½æ­£å¸¸çš„ä½¿ç”¨ã€‚</p>
<hr>
<h4 id="Dockerä½¿ç”¨acme-sh"><a href="#Dockerä½¿ç”¨acme-sh" class="headerlink" title="Dockerä½¿ç”¨acme.sh"></a>Dockerä½¿ç”¨acme.sh</h4><p>ä¸Šé¢çš„æ–¹æ³•å®‰è£…èµ·æ¥è™½è¯´å·²ç»å¾ˆç®€å•äº†ï¼Œä½†æ˜¯å¯¹äºåƒæˆ‘è¿™ç§ä½†å‡¡èƒ½ç”¨Dockeræ¥è§£å†³çš„é—®é¢˜ç»å¯¹ä¸ç”¨å…¶ä»–æ–¹å¼ã€‚</p>
<h5 id="è·å–é•œåƒ"><a href="#è·å–é•œåƒ" class="headerlink" title="è·å–é•œåƒ"></a>è·å–é•œåƒ</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ docker pull neilpang&#x2F;acme.sh</span><br></pre></td></tr></table></figure>

<h5 id="åˆ›å»ºacme-shè¯ä¹¦ä¿å­˜ç›®å½•"><a href="#åˆ›å»ºacme-shè¯ä¹¦ä¿å­˜ç›®å½•" class="headerlink" title="åˆ›å»ºacme.shè¯ä¹¦ä¿å­˜ç›®å½•"></a>åˆ›å»ºacme.shè¯ä¹¦ä¿å­˜ç›®å½•</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ mkdir &#x2F;etc&#x2F;acme.sh</span><br></pre></td></tr></table></figure>

<h5 id="è¿è¡Œ-acme-sh-å®¹å™¨"><a href="#è¿è¡Œ-acme-sh-å®¹å™¨" class="headerlink" title="è¿è¡Œ acme.sh å®¹å™¨"></a>è¿è¡Œ acme.sh å®¹å™¨</h5><p>è¿™é‡Œä¾ç„¶éœ€è¦ä»åŸŸåæœåŠ¡å•†å¤„è·å¾—çš„IDå’ŒSecretï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ docker run --rm \</span><br><span class="line">-v &#x2F;etc&#x2F;acme.sh:&#x2F;acme.sh \</span><br><span class="line">-e Ali_Key&#x3D;&quot;sdfsdfsdfljlbjkljlkjsdfoiwje&quot; \</span><br><span class="line">-e Ali_Secret&#x3D;&quot;jlsdflanljkljlfdsaklkjflsa&quot; \</span><br><span class="line">neilpang&#x2F;acme.sh --issue --dns dns_ali -d example.com -d &#39;*.example.com&#39;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„è¿™é‡Œç¬¬ä¸€ä¸ªåŸŸåä¸ºé¡¶çº§åŸŸåï¼Œåé¢ä¸€ä¸ªä¸ºæ³›åŸŸåã€‚</p>
<p>è¿™ç§æ–¹å¼å°†è‡ªåŠ¨ä¸ºä½ çš„åŸŸåæ·»åŠ ä¸€æ¡ <code>txt</code> è§£æï¼ŒéªŒè¯æˆåŠŸåï¼Œè¿™æ¡è§£æè®°å½•ä¼šè¢«åˆ é™¤ï¼Œæ‰€ä»¥å¯¹ä½ æ¥è¯´æ˜¯æ— æ„Ÿçš„ï¼Œå°±æ˜¯è¦ç­‰å¾… <code>120</code> ç§’ã€‚</p>
<p>è¯ä¹¦ç”ŸæˆæˆåŠŸåï¼Œé»˜è®¤ä¿å­˜åœ¨ <code>.acme.sh/example.com</code> ä¸­ã€‚</p>
<h5 id="å®¹å™¨åŒ–è‡ªåŠ¨ç»­æœŸ"><a href="#å®¹å™¨åŒ–è‡ªåŠ¨ç»­æœŸ" class="headerlink" title="å®¹å™¨åŒ–è‡ªåŠ¨ç»­æœŸ"></a>å®¹å™¨åŒ–è‡ªåŠ¨ç»­æœŸ</h5><p>å¯ä»¥ä»¥åå°è¿›ç¨‹çš„æ–¹å¼è¿è¡Œä¸€ä¸ªå®¹å™¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ docker run --name acme.sh \</span><br><span class="line">-d --restart unless-stopped \</span><br><span class="line">-v &#x2F;etc&#x2F;acme.sh:&#x2F;acme.sh \</span><br><span class="line">neilpang&#x2F;acme.sh daemon</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ï¼Œ<code>acme.sh</code> è¯ä¹¦åˆ°60å¤©å°±ä¼šè‡ªåŠ¨æ›´æ–°ã€‚</p>
<hr>
<h5 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h5><p>å½“æˆ‘æŒ‰ç…§å¦‚ä¸Šæ–¹æ³•ç”ŸæˆåŸŸåè¯ä¹¦æ—¶ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ docker run --rm \</span><br><span class="line">-v &#x2F;etc&#x2F;acme.sh:&#x2F;acme.sh \</span><br><span class="line">-e Ali_Key&#x3D;&quot;sdfsdfsdfljlbjkljlkjsdfoiwje&quot; \</span><br><span class="line">-e Ali_Secret&#x3D;&quot;jlsdflanljkljlfdsaklkjflsa&quot; \</span><br><span class="line">neilpang&#x2F;acme.sh --issue --dns dns_ali -d itfanr.cc -d *.itfanr.cc</span><br></pre></td></tr></table></figure>

<p>å‘ç°ä¼šæç¤ºå¦‚ä¸‹é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  acme.sh docker run --rm \</span><br><span class="line">-v &#x2F;etc&#x2F;acme.sh:&#x2F;acme.sh \</span><br><span class="line">-e Ali_Key&#x3D;&quot;sdfsdfsdfljlbjkljlkjsdfoiwje&quot; \</span><br><span class="line">-e Ali_Secret&#x3D;&quot;jlsdflanljkljlfdsaklkjflsa&quot; \</span><br><span class="line">neilpang&#x2F;acme.sh --issue --dns dns_ali -d itfanr.cc -d *.itfanr.cc</span><br><span class="line">zsh: no matches found: *.itfanr.cc</span><br><span class="line">âœ  acme.sh</span><br></pre></td></tr></table></figure>

<p>ç»æŸ¥è¯ï¼Œå…¶ä¸­çš„æ³›åŸŸå <code>*.example.com</code> ä¸­ç”±äºå¸¦æœ‰ <code>*</code> å·ï¼Œä¼šæŠ¥é”™ã€‚ç›¸åº”çš„è§£å†³æ–¹æ³•æ˜¯æ·»åŠ å¼•å·ï¼š<code>-d &#39;*.example.com&#39;</code></p>
<ul>
<li><a href="https://github.com/Neilpang/acme.sh/issues/1334" target="_blank" rel="noopener">Issue Wildcard certificate with zsh failed Â· Issue #1334 Â· Neilpang/acme.sh</a></li>
</ul>
<hr>
<h5 id="æˆ‘çš„æ“ä½œè®°å½•"><a href="#æˆ‘çš„æ“ä½œè®°å½•" class="headerlink" title="æˆ‘çš„æ“ä½œè®°å½•"></a>æˆ‘çš„æ“ä½œè®°å½•</h5><p>åˆ›å»ºæœ¬åœ°è¯ä¹¦ä¿å­˜ç›®å½•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ mkdir &#x2F;etc&#x2F;acme.sh</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  acme.sh docker run --rm \</span><br><span class="line">-v &#x2F;etc&#x2F;acme.sh:&#x2F;acme.sh \</span><br><span class="line">-e Ali_Key&#x3D;&quot;sdfsdfsdfljlbjkljlkjsdfoiwje&quot; \</span><br><span class="line">-e Ali_Secret&#x3D;&quot;jlsdflanljkljlfdsaklkjflsa&quot; \</span><br><span class="line">neilpang&#x2F;acme.sh --issue --dns dns_ali -d itfanr.cc -d &#39;*.itfanr.cc&#39;</span><br><span class="line">[Tue Sep 18 15:11:27 UTC 2018] Registering account</span><br><span class="line">[Tue Sep 18 15:11:28 UTC 2018] Registered</span><br><span class="line">[Tue Sep 18 15:11:28 UTC 2018] ACCOUNT_THUMBPRINT&#x3D;&#39;AR2Gc73349sl32z_kw-kY9nP7qqesQqFlK8&#39;</span><br><span class="line">[Tue Sep 18 15:11:28 UTC 2018] Creating domain key</span><br><span class="line">[Tue Sep 18 15:11:29 UTC 2018] The domain key is here: &#x2F;acme.sh&#x2F;itfanr.cc&#x2F;itfanr.cc.key</span><br><span class="line">[Tue Sep 18 15:11:29 UTC 2018] Multi domain&#x3D;&#39;DNS:itfanr.cc,DNS:*.itfanr.cc&#39;</span><br><span class="line">[Tue Sep 18 15:11:29 UTC 2018] Getting domain auth token for each domain</span><br><span class="line">[Tue Sep 18 15:11:30 UTC 2018] Getting webroot for domain&#x3D;&#39;itfanr.cc&#39;</span><br><span class="line">[Tue Sep 18 15:11:30 UTC 2018] Getting webroot for domain&#x3D;&#39;*.itfanr.cc&#39;</span><br><span class="line">[Tue Sep 18 15:11:30 UTC 2018] Found domain api file: &#x2F;root&#x2F;.acme.sh&#x2F;dnsapi&#x2F;dns_ali.sh</span><br><span class="line">[Tue Sep 18 15:11:31 UTC 2018] Found domain api file: &#x2F;root&#x2F;.acme.sh&#x2F;dnsapi&#x2F;dns_ali.sh</span><br><span class="line">[Tue Sep 18 15:11:32 UTC 2018] Sleep 120 seconds for the txt records to take effect</span><br></pre></td></tr></table></figure>

<p>å‘ç°ï¼Œå½“æœ€åä¸€è¡Œæç¤ºä¿¡æ¯ä¸º <code>Sleep 120 seconds for the txt records to take effect</code> æ—¶ï¼Œè¯´æ˜æ­£åœ¨è‡ªåŠ¨æ‰§è¡ŒDNSç»‘å®šçš„æ“ä½œã€‚</p>
<p>å½“æ—¥å¿—ç»§ç»­è¾“å‡ºæ—¶ï¼Œå¯ä»¥çœ‹åˆ°æœ€åæç¤ºæ‰§è¡ŒæˆåŠŸäº† <code>Cert success.</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[Tue Sep 18 15:11:32 UTC 2018] Sleep 120 seconds for the txt records to take effect</span><br><span class="line">[Tue Sep 18 15:13:32 UTC 2018] Verifying:itfanr.cc</span><br><span class="line">[Tue Sep 18 15:13:35 UTC 2018] Success</span><br><span class="line">[Tue Sep 18 15:13:35 UTC 2018] Verifying:*.itfanr.cc</span><br><span class="line">[Tue Sep 18 15:13:38 UTC 2018] Success</span><br><span class="line">[Tue Sep 18 15:13:38 UTC 2018] Removing DNS records.</span><br><span class="line">[Tue Sep 18 15:13:42 UTC 2018] Verify finished, start to sign.</span><br><span class="line">[Tue Sep 18 15:13:44 UTC 2018] Cert success.</span><br><span class="line">-----BEGIN CERTIFICATE-----</span><br><span class="line">MIIGCjCCBPKgAwIBAgISA95TIaF4XRlosoA&#x2F;zwdEbLRaMA0GCSqGSIb3DQEBCwUA</span><br><span class="line">MEoxCzAJBgNVBAYTAlVTMR34dcvKEw1MZXQncyBFbmNyeXB0MSMwIQYDVQQD</span><br><span class="line">ExpMZXQncyBFbmNyeXB0IEF1dGhvcml0eSBYMzAeFw0xODA5MTgxNDEzNDJaFw0x</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">A6l0KWm2&#x2F;jjYcf5YPGIoK3jMzNm17B88yoPYoDwecxWC59t5+DQjpQo7iM7tyTV+</span><br><span class="line">q4UZMY9jlrbaCJVSdrM&#x3D;</span><br><span class="line">-----END CERTIFICATE-----</span><br><span class="line">[Tue Sep 18 15:13:44 UTC 2018] Your cert is in  &#x2F;acme.sh&#x2F;itfanr.cc&#x2F;itfanr.cc.cer</span><br><span class="line">[Tue Sep 18 15:13:44 UTC 2018] Your cert key is in  &#x2F;acme.sh&#x2F;itfanr.cc&#x2F;itfanr.cc.key</span><br><span class="line">[Tue Sep 18 15:13:44 UTC 2018] The intermediate CA cert is in  &#x2F;acme.sh&#x2F;itfanr.cc&#x2F;ca.cer</span><br><span class="line">[Tue Sep 18 15:13:44 UTC 2018] And the full chain certs is there:  &#x2F;acme.sh&#x2F;itfanr.cc&#x2F;fullchain.cer</span><br><span class="line">âœ  acme.sh</span><br></pre></td></tr></table></figure>


<p>æŸ¥çœ‹ <code>/etc/acme.sh</code> ç›®å½•ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  acme.sh ls</span><br><span class="line">account.conf  ca  http.header  itfanr.cc</span><br><span class="line">âœ  acme.sh ls itfanr.cc</span><br><span class="line">ca.cer  fullchain.cer  itfanr.cc.cer  itfanr.cc.conf  itfanr.cc.csr  itfanr.cc.csr.conf  itfanr.cc.key</span><br><span class="line">âœ  acme.sh</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼Œ è¯ä¹¦æ–‡ä»¶æ˜¯ <code>fullchain.cer</code> ï¼Œå¯†é’¥æ–‡ä»¶æ˜¯ <code>itfanr.cc.key</code> ã€‚</p>
<hr>
<h4 id="é…ç½®Nginx"><a href="#é…ç½®Nginx" class="headerlink" title="é…ç½®Nginx"></a>é…ç½®Nginx</h4><p>åœ¨åŸŸåçš„nginxé…ç½®æ–‡ä»¶ä¸­æ–°å¢è¯ä¹¦é…ç½®ï¼Œä¾‹å¦‚æˆ‘çš„ <code>gogit.itfanr.cc</code> åŸŸåçš„é…ç½®æ–‡ä»¶ <code>gogit.conf</code> å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 443 ssl;</span><br><span class="line">    server_name gogit.itfanr.cc;</span><br><span class="line"></span><br><span class="line">    ssl_certificate &#x2F;etc&#x2F;acme.sh&#x2F;itfanr.cc&#x2F;fullchain.cer;</span><br><span class="line">    ssl_certificate_key &#x2F;etc&#x2F;acme.sh&#x2F;itfanr.cc&#x2F;itfanr.cc.key;</span><br><span class="line">    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span><br><span class="line"></span><br><span class="line">    proxy_set_header Host $host;</span><br><span class="line">    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">    proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">    proxy_set_header X-Forwarded-Proto $scheme;</span><br><span class="line"></span><br><span class="line">    location &#x2F; &#123;</span><br><span class="line">        proxy_pass http:&#x2F;&#x2F;127.0.0.1:3000&#x2F;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">        listen 80;</span><br><span class="line">        server_name gogit.itfanr.cc;</span><br><span class="line">        return 301 https:&#x2F;&#x2F;$server_name$request_uri;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åæ›´æ–°nginxï¼Œé‡æ–°è½½å…¥é…ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo nginx -s reload</span><br></pre></td></tr></table></figure>

<p>åœ¨æµè§ˆå™¨ä¸­è®¿é—®åŸŸåï¼Œå¯ä»¥çœ‹åˆ°åœ°å€æ ä¸­çš„å°ç»¿é”å·²ç»å‡ºç°äº†ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20180918232923.png" alt=""></p>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="https://github.com/Neilpang/acme.sh/wiki/%E8%AF%B4%E6%98%8E" target="_blank" rel="noopener">è¯´æ˜ Â· Neilpang/acme.sh Wiki</a></li>
<li><a href="https://github.com/Neilpang/acme.sh/wiki/How-to-issue-a-cert" target="_blank" rel="noopener">How to issue a cert Â· Neilpang/acme.sh Wiki</a></li>
<li><a href="https://github.com/Neilpang/acme.sh/blob/master/dnsapi/README.md" target="_blank" rel="noopener">acme.sh/README.md at master Â· Neilpang/acme.sh</a></li>
<li><a href="https://blog.neroxps.cn/2018/03/17/acme/" target="_blank" rel="noopener">åˆ©ç”¨acme.shç”³è¯· Letsencrypt å…è´¹ SSL è¯ä¹¦ | Nero Blog</a></li>
</ul>
]]></content>
      <categories>
        <category>HTTPS</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>HTTPS</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoåšå®¢æ·»åŠ Gitmentè¯„è®ºç³»ç»Ÿ</title>
    <url>/2018/09/17/hexo-add-gitment-review-system/</url>
    <content><![CDATA[<p>ä¹‹å‰æˆ‘çš„Hexoåšå®¢ä¸­ä½¿ç”¨çš„æ˜¯ <code>å¤šè¯´</code> çš„è¯„è®ºæ’ä»¶ï¼Œåæ¥å¤šè¯´åœæ­¢è¿è¥äº†ä¹‹åå°±ç›´æ¥æŠŠè¯„è®ºåŠŸèƒ½å»æ‰äº†ï¼Œè€Œåä¸€ç›´ä½¿ç”¨çš„æ˜¯é‚®ä»¶çš„æ–¹å¼ã€‚ä½†é‚®ä»¶ä¹Ÿæ˜¯å¾ˆä¸æ–¹ä¾¿çš„ï¼Œæ˜¯ä¸€ç§ä¸å¾—å·²çš„é€‰æ‹©ã€‚</p>
<p>æœ€è¿‘ï¼Œçœ‹åˆ°å¥½å¤šåšå®¢ä¸­éƒ½æ·»åŠ äº†ä¸€ä¸ªåä¸º <code>Gitment</code> çš„è¯„è®ºæ’ä»¶ï¼Œç›´æ¥ä½¿ç”¨GitHubçš„ <code>Issues</code> ä½œä¸ºè¯„è®ºå†…å®¹çš„å­˜å‚¨ä½ç½®ï¼Œä¹Ÿæ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚</p>
<p><strong>Update:2019-04-30</strong></p>
<p><strong><code>Gitment</code> è¯„è®ºæ’ä»¶å·²ç»é•¿æ—¶é—´ä¸æ›´æ–°äº†ï¼Œå¦å¤–ç”±äºæ’ä»¶å†…å¼•ç”¨çš„åŸŸåHttpsè¯ä¹¦å·²ç»è¿‡æœŸï¼Œå¯¼è‡´æ— æ³•æäº¤è¯„è®ºã€‚å»ºè®®æ›´æ¢ä¸ºæ›´å¥½ç”¨çš„ <code>Gitalk</code> è¯„è®ºæ’ä»¶ã€‚</strong></p>
<p><strong>é…ç½®æ–¹æ³•è§ï¼š<a href="/2019/04/30/hexo-add-gitalk-comment/">Hexoåšå®¢æ·»åŠ Gitalkè¯„è®ºç³»ç»Ÿ | ITèŒƒå„¿</a></strong></p>
<hr>
<h4 id="Nextä¸»é¢˜ç‰ˆæœ¬"><a href="#Nextä¸»é¢˜ç‰ˆæœ¬" class="headerlink" title="Nextä¸»é¢˜ç‰ˆæœ¬"></a>Nextä¸»é¢˜ç‰ˆæœ¬</h4><p>æˆ‘çš„hexoä¸»é¢˜ä½¿ç”¨çš„æ˜¯ <code>Next</code> ä¸»é¢˜,å½“å‰ç‰ˆæœ¬ä¸º <code>v5.1.3</code> ã€‚è¿™ä¸€ç‰ˆæ˜¯ç›´æ¥å†…ç½®æ”¯æŒ <code>gitment</code> åŠŸèƒ½çš„ã€‚å…³äºå¦‚ä½•å‡çº§ <code>Next</code> ä¸»é¢˜ï¼Œå¯ä»¥çœ‹æˆ‘ä¹‹å‰çš„æ–‡ç« ï¼š<a href="/2017/10/27/add-search-function-to-hexo-blog/">Hexoåšå®¢æ·»åŠ æœç´¢åŠŸèƒ½</a></p>
<p>å¦å¤–æˆ‘å‘ç°ï¼Œå½“å‰ <code>Next</code> ä¸»é¢˜çš„æœ€æ–°ç‰ˆæœ¬ä¸º <code>v6.4.1</code>ï¼Œè€Œ <code>v6.x.x</code> ç‰ˆæœ¬å’Œ <code>v5.x.x</code> ç‰ˆæœ¬åˆæœ‰æ‰€ä¸åŒï¼Œä¸èƒ½å¹³æ»‘çš„å‡çº§ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘å°±æ²¡æœ‰å‡çº§ <code>Next</code> åˆ°æœ€æ–°ï¼Œç›´æ¥ä½¿ç”¨çš„ <code>v5.1.3</code> ç‰ˆæœ¬ã€‚</p>
<h4 id="æ·»åŠ Gitmentè¯„è®º"><a href="#æ·»åŠ Gitmentè¯„è®º" class="headerlink" title="æ·»åŠ Gitmentè¯„è®º"></a>æ·»åŠ Gitmentè¯„è®º</h4><h5 id="åˆ›å»ºGitHub-OAuth-Apps"><a href="#åˆ›å»ºGitHub-OAuth-Apps" class="headerlink" title="åˆ›å»ºGitHub OAuth Apps"></a>åˆ›å»ºGitHub OAuth Apps</h5><p>æ‰“å¼€é“¾æ¥ <a href="https://github.com/settings/developers" target="_blank" rel="noopener">OAuth Apps</a> â€“ <code>New OAuth App</code> ã€‚æŒ‰è¦æ±‚å¡«å†™ç›¸åº”å†…å®¹å³å¯ã€‚</p>
<p>å…¶ä¸­ï¼Œ<code>Homepage URL</code> è¡¨ç¤ºç«™ç‚¹çš„ç½‘å€ã€‚<code>Authorization callback URL</code> ä¸ºç«™ç‚¹çš„å›è°ƒåœ°å€ï¼Œä¸€èˆ¬ä¹Ÿé»˜è®¤ä¸ºç«™ç‚¹çš„ç½‘å€ã€‚</p>
<p>æœ€åï¼Œå¾—åˆ° <code>Client ID</code> å’Œ <code>Client Secret</code> å¤‡ç”¨ã€‚</p>
<h5 id="ä¿®æ”¹é…ç½®"><a href="#ä¿®æ”¹é…ç½®" class="headerlink" title="ä¿®æ”¹é…ç½®"></a>ä¿®æ”¹é…ç½®</h5><p><del>åœ¨ <code>themes/next</code> ç›®å½•ä¸‹ï¼Œæ‰¾åˆ° <code>_config.yml</code> é…ç½®æ–‡ä»¶ï¼Œæ‰¾åˆ° <code>gitment</code> é…ç½®æ®µï¼š</del></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Gitment</span><br><span class="line"># Introduction: https:&#x2F;&#x2F;imsun.net&#x2F;posts&#x2F;gitment-introduction&#x2F;</span><br><span class="line">gitment:</span><br><span class="line">  enable: false</span><br><span class="line">  mint: true # RECOMMEND, A mint on Gitment, to support count, language and proxy_gateway</span><br><span class="line">  count: true # Show comments count in post meta area</span><br><span class="line">  lazy: false # Comments lazy loading with a button</span><br><span class="line">  cleanly: false # Hide &#39;Powered by ...&#39; on footer, and more</span><br><span class="line">  language: # Force language, or auto switch by theme</span><br><span class="line">  github_user: # MUST HAVE, Your Github Username</span><br><span class="line">  github_repo: # MUST HAVE, The name of the repo you use to store Gitment comments</span><br><span class="line">  client_id: # MUST HAVE, Github client id for the Gitment</span><br><span class="line">  client_secret: # EITHER this or proxy_gateway, Github access secret token for the Gitment</span><br><span class="line">  proxy_gateway: # Address of api proxy, See: https:&#x2F;&#x2F;github.com&#x2F;aimingoo&#x2F;intersect</span><br><span class="line">  redirect_protocol: # Protocol of redirect_uri with force_redirect_protocol when mint enabled</span><br></pre></td></tr></table></figure>

<p><del>è®¾ç½® <code>enable</code> ä¸º <code>true</code> ï¼Œè¡¨ç¤ºå¯ç”¨ <code>gitment</code> è¯„è®ºæ’ä»¶ã€‚</del></p>
<p><strong>Update:2019-04-30</strong></p>
<p><strong><code>Gitment</code> è¯„è®ºæ’ä»¶å·²ç»é•¿æ—¶é—´ä¸æ›´æ–°äº†ï¼Œå¦å¤–ç”±äºæ’ä»¶å†…å¼•ç”¨çš„åŸŸåHttpsè¯ä¹¦å·²ç»è¿‡æœŸï¼Œå¯¼è‡´æ— æ³•æäº¤è¯„è®ºã€‚å»ºè®®æ›´æ¢ä¸ºæ›´å¥½ç”¨çš„ <code>Gitalk</code> è¯„è®ºæ’ä»¶ã€‚</strong></p>
<p><strong>é…ç½®æ–¹æ³•è§ï¼š<a href="/2019/04/30/hexo-add-gitalk-comment/">Hexoåšå®¢æ·»åŠ Gitalkè¯„è®ºç³»ç»Ÿ | ITèŒƒå„¿</a></strong></p>
<p>å…¶ä»–çš„å¿…éœ€é¡¹æ˜¯ <code>github_user</code> ï¼Œè¡¨ç¤ºä½ çš„githubè´¦å·åç§°ã€‚ <code>github_repo</code> è¡¨ç¤ºä¿å­˜è¯„è®ºæ•°æ®çš„ä»“åº“åç§°ï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨å½“å‰åšå®¢æ‰€åœ¨çš„ä»“åº“åç§°ï¼Œä¹Ÿå¯ä»¥å•ç‹¬è®¾ç½®ä¸€ä¸ªä¸“é—¨çš„ä»“åº“ã€‚<code>client_id</code> å’Œ <code>client_secret</code> ä¸ºä¸Šé¢åˆ›å»ºçš„å€¼ã€‚</p>
<p>ä¿®æ”¹å®Œæˆåï¼Œå°†hexoåšå®¢æ–‡ä»¶ä¸Šä¼ åˆ°githubã€‚å› ä¸ºgitmentåŠŸèƒ½å¿…éœ€åœ¨çº¿ä¸Šæ‰èƒ½è¿›è¡Œæ“ä½œã€‚</p>
<h4 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h4><h5 id="ç‚¹å‡»ç™»å½•githubå‘ç°ä¸€ç›´æ˜¾ç¤ºloading"><a href="#ç‚¹å‡»ç™»å½•githubå‘ç°ä¸€ç›´æ˜¾ç¤ºloading" class="headerlink" title="ç‚¹å‡»ç™»å½•githubå‘ç°ä¸€ç›´æ˜¾ç¤ºloading"></a>ç‚¹å‡»ç™»å½•githubå‘ç°ä¸€ç›´æ˜¾ç¤ºloading</h5><p>åœ¨åˆ›å»º <code>OAuth Apps</code> ä¸­å¡«å†™ <code>Authorization callback URL</code> æ—¶ï¼Œç½‘ç«™çš„åœ°å€æœ«å°¾ä¸èƒ½å¸¦æœ‰ <code>/</code> ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20180917193416.png" alt=""></p>
<hr>
<h5 id="æŸäº›æ–‡ç« ä¸èƒ½ç”ŸæˆIssues"><a href="#æŸäº›æ–‡ç« ä¸èƒ½ç”ŸæˆIssues" class="headerlink" title="æŸäº›æ–‡ç« ä¸èƒ½ç”ŸæˆIssues"></a>æŸäº›æ–‡ç« ä¸èƒ½ç”ŸæˆIssues</h5><p>å½“ç‚¹å‡»æ–‡ç« é¡µé¢åº•éƒ¨çš„ <code>åˆå§‹åŒ–æœ¬æ–‡çš„è¯„è®ºé¡µ</code> æŒ‰é’®æ—¶ï¼Œé¡µé¢ä¼šå¼¹å‡ºé”™è¯¯ä¿¡æ¯ï¼š<code>Error:Validation Failed</code> ä¿¡æ¯ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20180917193521.png" alt=""></p>
<p>é€šè¿‡æŸ¥çœ‹æ“ä½œè¯·æ±‚ï¼Œgitmentä¼šåœ¨ç”ŸæˆIssuesæ—¶åˆ›å»ºä¸¤ä¸ª <code>label</code> æ ‡ç­¾ã€‚</p>
<p>ä¸€ä¸ªæ˜¯æ–‡ç« æ ‡é¢˜çš„è·¯å¾„: <code>window.location.pathname</code> å€¼ï¼Œå¦‚ <code>/2018/09/05/pip-install-locale-error-unsupported-locale-setting/</code> ï¼›å¦ä¸€ä¸ªæ˜¯å®šå€¼ <code>gitment</code> ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20180917193602.png" alt=""></p>
<p>è€Œç”±äº github ä¸­ <code>Issues</code> çš„ <code>label</code> é•¿åº¦é™åˆ¶ä¸ºæœ€å¤§ <code>50</code> ä¸ªå­—ç¬¦ï¼Œå½“ æ–‡ç« æ ‡é¢˜é•¿åº¦è¿‡é•¿æ—¶ï¼Œè¯¥labelå°±ä¼šç”Ÿæˆå¤±è´¥ï¼Œè€Œå¯¼è‡´åˆå§‹åŒ–é”™è¯¯ï¼Œå¼¹å‡º <code>Validation Failed</code> çš„æç¤ºã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20180917193631.png" alt=""></p>
<p>é€šè¿‡ç½‘ä¸Šçš„æœç´¢ï¼Œå‘ç°å¯ä»¥ä½¿ç”¨æ–‡ç« åˆ›å»ºæ—¶çš„æ—¶é—´æ¥ä»£æ›¿æ–‡ç« æ ‡é¢˜ï¼Œä½œä¸ºè¿™ä¸ªå”¯ä¸€çš„labelæ ‡ç­¾ã€‚</p>
<p>æ‰¾åˆ°gimentçš„é…ç½®ï¼š<code>/themes/next/layout/_third-party/comments/gitment.swig</code> æ–‡ä»¶ï¼š</p>
<p>æ‰¾åˆ°å¦‚ä¸‹éƒ¨åˆ†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var gitment &#x3D; new &#123;&#123;CommentsClass&#125;&#125;(&#123;</span><br><span class="line">    id: window.location.pathname,</span><br><span class="line">    owner: &#39;&#123;&#123; theme.gitment.github_user &#125;&#125;&#39;,</span><br><span class="line">    repo: &#39;&#123;&#123; theme.gitment.github_repo &#125;&#125;&#39;,</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var gitment &#x3D; new &#123;&#123;CommentsClass&#125;&#125;(&#123;</span><br><span class="line">    id: &#39;itfanr_blog_&#123;&#123; date(page.date, &quot;YYYYMMDDhhmmss&quot;) &#125;&#125;&#39;,</span><br><span class="line">    owner: &#39;&#123;&#123; theme.gitment.github_user &#125;&#125;&#39;,</span><br><span class="line">    repo: &#39;&#123;&#123; theme.gitment.github_repo &#125;&#125;&#39;,</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ï¼Œåœ¨åˆå§‹åŒ–æ—¶å°±ä¸ä¼šå‡ºé”™äº†ã€‚</p>
<hr>
<h4 id="æœ‰æ–°çš„Issuesæ—¶å‘é€é’‰é’‰æé†’"><a href="#æœ‰æ–°çš„Issuesæ—¶å‘é€é’‰é’‰æé†’" class="headerlink" title="æœ‰æ–°çš„Issuesæ—¶å‘é€é’‰é’‰æé†’"></a>æœ‰æ–°çš„Issuesæ—¶å‘é€é’‰é’‰æé†’</h4><p>ä¸Šé¢æˆ‘ä»¬æ·»åŠ äº†è¯„è®ºåŠŸèƒ½ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨ä¸­ä¼šå‡ºç°ä¸èƒ½åŠæ—¶å“åº”çš„é—®é¢˜ã€‚å½“æœ‰äººå¯¹æ–‡ç« åšäº†è¯„è®ºæˆ–æå‡ºä»€ä¹ˆç–‘é—®åï¼Œæˆ‘ä»¬å¹¶ä¸èƒ½åŠæ—¶çš„çŸ¥é“æˆ–è€…å›å¤ï¼Œè¿™æ ·ç»™äººçš„æ„Ÿè§‰æ˜¯ä¸å¥½çš„ã€‚è™½ç„¶æ·»åŠ äº†è¯„è®ºåŠŸèƒ½ï¼Œä½†åè€Œä¸å¦‚ä½¿ç”¨é‚®ä»¶çš„æ–¹å¼é«˜æ•ˆäº†ã€‚</p>
<p>ç»è¿‡ä¸€ç•ªæ€è€ƒåï¼Œæˆ‘å‘ç°å¹³æ—¶å·¥ä½œä¸­ç”¨åˆ°çš„é’‰é’‰ä¸­æ˜¯å¯ä»¥æ·»åŠ GitHubçš„é’‰é’‰æœºå™¨äººçš„ã€‚è€Œæ‰‹æœºç«¯çš„é’‰é’‰ä¹Ÿèƒ½åšåˆ°æœ‰æ–°æé†’åç«‹å³å“åº”ã€‚æ‰€ä»¥ï¼Œå¯ä»¥è®¾ç½®å½“GitHubçš„Issuesæœ‰å˜åŠ¨æ—¶ï¼Œé€šè¿‡é’‰é’‰æœºå™¨äººæé†’æˆ‘ä»¬æŸ¥çœ‹æ–°çš„è¯„è®ºæˆ–ä½œå‡ºå›å¤ã€‚</p>
<h5 id="ç”ŸæˆGithubæœºå™¨äººWebHookåœ°å€"><a href="#ç”ŸæˆGithubæœºå™¨äººWebHookåœ°å€" class="headerlink" title="ç”ŸæˆGithubæœºå™¨äººWebHookåœ°å€"></a>ç”ŸæˆGithubæœºå™¨äººWebHookåœ°å€</h5><p>é’‰é’‰æœºå™¨äººåªæœ‰åœ¨ç¾¤ä¸­æ‰èƒ½æ·»åŠ ï¼Œä¸ªäººæ˜¯æ— æ³•æ·»åŠ çš„ã€‚ä½†æ˜¯ä¸€ä¸ªäººåˆæ— æ³•åˆ›å»ºç¾¤ã€‚é‚£ä¹ˆè¯¥å¦‚ä½•æ·»åŠ ä¸€ä¸ªé’‰é’‰ç¾¤æœºå™¨äººå‘¢ï¼Ÿ</p>
<p><strong>Update:2019-05-05</strong></p>
<p>æˆ‘é‡‡ç”¨çš„æ–¹æ³•æ˜¯ â€œå·æ¢æ¢æŸ±â€ çš„æ–¹å¼ã€‚é¦–å…ˆå‘¢ï¼Œåœ¨æ‰‹æœºæˆ–PCç«¯é€‰æ‹© â€œå‘èµ·ç¾¤èŠâ€ï¼Œè‡³å°‘é€‰æ‹©äºŒä¸ªäººè¿›æ¥ï¼Œæ­¤æ—¶æ³¨æ„ä¸è¦åœ¨ç¾¤é‡Œå‘ä»»ä½•ä¿¡æ¯ã€‚ç„¶ååœ¨ <code>ç¾¤è®¾ç½®</code> ä¸­çš„ <code>ç¾¤æˆå‘˜</code> é€‰é¡¹ä¸­ç§»é™¤å…¶ä»–äººå°±å¯ä»¥äº†ï¼Œæ•´ä¸ªè¿‡ç¨‹å…¶ä»–äººä¸ä¼šæ¥æ”¶åˆ°ä»»ä½•æ¶ˆæ¯ï¼ˆæœ‰ç‚¹ç±»ä¼¼äºå¾®ä¿¡æ¸…ç†è”ç³»äººçš„æ“ä½œï¼‰ã€‚å°±è¿™ä¹ˆç®€å•ã€‚è¿™æ ·ï¼Œè¿™ä¸ªç¾¤é‡Œå°±åªæœ‰ä½ ä¸€ä¸ªäººäº†ï¼Œæ·»åŠ ç¾¤æœºå™¨äººåä¹Ÿä¸ä¼šæ‰“æ‰°åˆ°åˆ«äººã€‚</p>
<p>ä¹‹å‰é’‰é’‰ä¸­ç»„å»ºç¾¤ç»„è‡³å°‘å¿…é¡»æ˜¯äºŒä¸ªäººï¼Œæœ€è¿‘æµ‹è¯•å‘ç°ç»„å»ºç¾¤ç»„<strong>è‡³å°‘å¿…é¡»æ˜¯ä¸‰ä¸ªäºº</strong>äº†ã€‚ä¹Ÿå°±æ˜¯å¿…é¡»é€‰æ‹©å¦å¤–ä¸¤ä¸ªå¥½å‹æ‰èƒ½ç»„æˆä¸€ä¸ªç¾¤ç»„ã€‚å¦‚æœåªé€‰æ‹©ä¸€ä¸ªå¥½å‹ï¼Œé‚£è¿›å…¥çš„å°±æ˜¯ â€œå‘æ¶ˆæ¯â€ çš„ç•Œé¢äº†ã€‚</p>
<p>ç„¶ååœ¨ <code>ç¾¤</code> è®¾ç½®ä¸­é€‰æ‹© <code>ç¾¤æœºå™¨äºº</code> é€‰é¡¹ï¼Œé€‰æ‹© <code>GitHubæœºå™¨äºº</code> ï¼ŒæŒ‰ç…§è®¾ç½®æµç¨‹ç”ŸæˆGitHubæœºå™¨äººï¼Œå³å¯è·å–åˆ°ç›¸åº”ç¾¤çš„WebHookåœ°å€ï¼Œå…¶æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">https:&#x2F;&#x2F;oapi.dingtalk.com&#x2F;robot&#x2F;send?access_token&#x3D;xxxxxxxx</span><br></pre></td></tr></table></figure>

<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20180917193733.png" alt=""></p>
<h5 id="åœ¨GitHubä¸­è®¾ç½®é¡¹ç›®çš„webhook"><a href="#åœ¨GitHubä¸­è®¾ç½®é¡¹ç›®çš„webhook" class="headerlink" title="åœ¨GitHubä¸­è®¾ç½®é¡¹ç›®çš„webhook"></a>åœ¨GitHubä¸­è®¾ç½®é¡¹ç›®çš„webhook</h5><p>è¿›å…¥ GitHub çš„ Hexo åšå®¢ä»“åº“ï¼Œä¾æ¬¡ç‚¹å‡» <code>Settings</code> â€“ <code>Webhooks &amp; Services</code> â€“ <code>Add Webhook</code> ï¼Œæ–°å¢ä¸€é¡¹ã€‚</p>
<p>åœ¨ <code>payload URL</code> ä¸­å¡«å†™åˆšæ‰è·å¾—çš„é’‰é’‰WebHookåœ°å€ï¼›</p>
<p>åœ¨ <code>Content type</code> é€‰é¡¹ä¸‹é€‰æ‹© <code>application/json</code> é¡¹ï¼›</p>
<p>åœ¨ <code>Secret</code> ä¸­ä¸å¡«å†™å†…å®¹ï¼Œä¿æŒç©ºå€¼å³å¯ï¼›</p>
<p>åœ¨ <code>Event</code> é€‰é¡¹ä¸‹ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©äº† <code>issues</code> ç›¸å…³çš„æ‰€æœ‰ <code>event</code> äº‹ä»¶ï¼Œä¹Ÿå¯ä»¥æŒ‰ç…§è‡ªå·±çš„éœ€æ±‚è‡ªå®šä¹‰ã€‚</p>
<p>ç„¶åï¼Œç‚¹å‡» <code>Add webhook</code> æŒ‰é’®å³å¯ã€‚</p>
<p>è‡³æ­¤ï¼Œå½“ <code>Issues</code> ä¸­æœ‰æ–°çš„è¯„è®ºæ—¶ï¼Œåœ¨é’‰é’‰æ‰‹æœºå®¢æˆ·ç«¯å°±èƒ½ç«‹å³æ¥æ”¶åˆ°æé†’äº†ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20180917193816.png" alt=""></p>
<h4 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h4><ul>
<li><a href="http://pacez.github.io/2018/03/08/%E8%A7%A3%E5%86%B3Gitment%E5%88%9D%E5%A7%8B%E5%8C%96%E8%AF%84%E8%AE%BA%E6%97%B6validation%20failed/" target="_blank" rel="noopener">è§£å†³Gitmentåˆå§‹åŒ–è¯„è®ºæ—¶validation failed | Paceâ€™s Blog</a></li>
<li><a href="https://github.com/swlfigo/Study/wiki/Hexo%E5%8D%9A%E5%AE%A2Next%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0Gitment%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E5%9D%91%E7%82%B9" target="_blank" rel="noopener">Hexoåšå®¢Nextä¸»é¢˜æ·»åŠ Gitmentè¯„è®ºç³»ç»Ÿå‘ç‚¹ Â· swlfigo/Study Wiki</a></li>
<li><a href="https://blog.csdn.net/Q563573095/article/details/79580249" target="_blank" rel="noopener">é’‰é’‰ä¸­è®¾ç½®ä»£ç æäº¤æé†’â€“Githubæœºå™¨äºº - CSDNåšå®¢</a></li>
</ul>
]]></content>
      <categories>
        <category>Hexoåšå®¢æ­å»º</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>è§£å†³pip installæ—¶unsupported locale settingé”™è¯¯</title>
    <url>/2018/09/05/pip-install-locale-error-unsupported-locale-setting/</url>
    <content><![CDATA[<p>ä»Šå¤©åœ¨å®‰è£… <code>docker-compose</code> æ—¶ï¼Œä½¿ç”¨ <code>pip install</code> å‘½ä»¤å‡ºç°äº†ä¸‹é¢è¿™ä¸ªé”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  sudo pip install -U docker-compose</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;bin&#x2F;pip&quot;, line 11, in &lt;module&gt;</span><br><span class="line">    sys.exit(main())</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;lib&#x2F;python2.7&#x2F;dist-packages&#x2F;pip&#x2F;__init__.py&quot;, line 215, in main</span><br><span class="line">    locale.setlocale(locale.LC_ALL, &#39;&#39;)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;lib&#x2F;python2.7&#x2F;locale.py&quot;, line 581, in setlocale</span><br><span class="line">    return _setlocale(category, locale)</span><br><span class="line">locale.Error: unsupported locale setting</span><br></pre></td></tr></table></figure>

<p>åæ¥æŸ¥è¯¢åˆ°æ˜¯è¯­è¨€é…ç½®é”™è¯¯å¯¼è‡´çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  locale -a</span><br><span class="line">locale: Cannot set LC_CTYPE to default locale: No such file or directory</span><br><span class="line">C</span><br><span class="line">C.UTF-8</span><br><span class="line">en_US</span><br><span class="line">en_US.iso88591</span><br><span class="line">en_US.utf8</span><br><span class="line">POSIX</span><br></pre></td></tr></table></figure>

<p>è§£å†³æ–¹æ³•ï¼š</p>
<p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å³å¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  export LC_ALL&#x3D;C</span><br></pre></td></tr></table></figure>

<p>å†æ¬¡å°è¯•å®‰è£…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  sudo pip install -U docker-compose</span><br><span class="line">The directory &#39;&#x2F;home&#x2F;ubuntu&#x2F;.cache&#x2F;pip&#x2F;http&#39; or its parent directory is not owned by the current user and the cache has been disabled. Please check the permissions and owner of that directory. If executing pip with sudo, you may want sudo&#39;s -H flag.</span><br><span class="line">The directory &#39;&#x2F;home&#x2F;ubuntu&#x2F;.cache&#x2F;pip&#39; or its parent directory is not owned by the current user and caching wheels has been disabled. check the permissions and owner of that directory. If executing pip with sudo, you may want sudo&#39;s -H flag.</span><br><span class="line">Collecting docker-compose</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;67&#x2F;03&#x2F;b833b571595e05c933d3af3685be3b27b1166c415d005b3eadaa5be80d25&#x2F;docker_compose-1.22.0-py2.py3-none-any.whl (126kB)</span><br><span class="line">    100% |################################| 133kB 143kB&#x2F;s</span><br><span class="line">Collecting websocket-client&lt;1.0,&gt;&#x3D;0.32.0 (from docker-compose)</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;09&#x2F;12&#x2F;d21872b618befc489cabde794c7af281d12fa2e194e279132ef1f04a3b07&#x2F;websocket_client-0.52.0-py2.py3-none-any.whl (198kB)</span><br><span class="line">    100% |################################| 204kB 34kB&#x2F;s</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">Successfully installed PyYAML-3.11 backports.ssl-match-hostname-3.5.0.1 cached-property-1.4.3 certifi-2018.8.24 chardet-2.3.0 docker-3.5.0 docker-compose-1.22.0 docker-pycreds-0.3.0 dockerpty-0.4.1 docopt-0.6.2 enum34-1.1.2 functools32-3.2.3.post2 idna-2.0 ipaddress-1.0.16 jsonschema-2.6.0 requests-2.9.1 six-1.10.0 texttable-0.9.1 urllib3-1.13.1 websocket-client-0.52.0</span><br><span class="line">You are using pip version 8.1.1, however version 18.0 is available.</span><br><span class="line">You should consider upgrading via the &#39;pip install --upgrade pip&#39; command.</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>å…³äº<code>LC_ALL=C</code></strong></p>
<p><code>LC_ALL=C</code> æ˜¯ä¸ºäº†å»é™¤æ‰€æœ‰æœ¬åœ°åŒ–çš„è®¾ç½®ï¼Œè®©å‘½ä»¤èƒ½æ­£ç¡®æ‰§è¡Œã€‚</p>
<p>åœ¨Linuxä¸­é€šè¿‡ <code>locale</code> æ¥è®¾ç½®ç¨‹åºè¿è¡Œçš„ä¸åŒè¯­è¨€ç¯å¢ƒï¼Œ<code>locale</code> ç”±ANSI Cæä¾›æ”¯æŒã€‚<code>locale</code> çš„å‘½åè§„åˆ™ä¸º <code>&lt;è¯­è¨€&gt;_&lt;åœ°åŒº&gt;.&lt;å­—ç¬¦é›†ç¼–ç &gt;</code> ï¼Œå¦‚<code>zh_CN.UTF-8</code>ï¼Œzhä»£è¡¨ä¸­æ–‡ï¼ŒCNä»£è¡¨å¤§é™†åœ°åŒºï¼ŒUTF-8è¡¨ç¤ºå­—ç¬¦é›†ã€‚</p>
<p>åœ¨shellæ§åˆ¶å°ä¸­è¾“å…¥ <code>locale</code> å°±å¯ä»¥æŸ¥çœ‹æœ¬åœ°é»˜è®¤è®¾ç½®:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ locale</span><br><span class="line">LANG&#x3D;&quot;zh_CN.UTF-8&quot;</span><br><span class="line">LC_COLLATE&#x3D;&quot;zh_CN.UTF-8&quot;</span><br><span class="line">LC_CTYPE&#x3D;&quot;zh_CN.UTF-8&quot;</span><br><span class="line">LC_MESSAGES&#x3D;&quot;zh_CN.UTF-8&quot;</span><br><span class="line">LC_MONETARY&#x3D;&quot;zh_CN.UTF-8&quot;</span><br><span class="line">LC_NUMERIC&#x3D;&quot;zh_CN.UTF-8&quot;</span><br><span class="line">LC_TIME&#x3D;&quot;zh_CN.UTF-8&quot;</span><br><span class="line">LC_ALL&#x3D;</span><br></pre></td></tr></table></figure>

<p>â€œCâ€æ˜¯ç³»ç»Ÿé»˜è®¤çš„<code>locale</code> ï¼Œâ€POSIXâ€æ˜¯â€Câ€çš„åˆ«åã€‚æ‰€ä»¥å½“æˆ‘ä»¬æ–°å®‰è£…å®Œä¸€ä¸ªç³»ç»Ÿæ—¶ï¼Œé»˜è®¤çš„ <code>locale</code> å°±æ˜¯ <code>C</code> æˆ– <code>POSIX</code> ã€‚</p>
<p><code>LANG</code> <code>LC_*</code> çš„é»˜è®¤å€¼ï¼Œæ˜¯æœ€ä½çº§åˆ«çš„è®¾ç½®ã€‚å¯ä»¥ç†è§£æˆ <code>LANG</code>æ˜¯ä¸€ä¸ªç¼ºçœå€¼ï¼Œæ‰€æœ‰æ²¡æœ‰æ˜¾å¼è®¾ç½®å€¼çš„ <code>LC_*</code> å˜é‡éƒ½ä¼šå–LANGçš„å€¼ã€‚ç±»ä¼¼äº <code>LC_ALL</code> ã€‚</p>
<p><code>LC_ALL</code> å®ƒæ˜¯ä¸€ä¸ªå®ï¼Œå¦‚æœè¯¥å€¼è®¾ç½®äº†ï¼Œåˆ™è¯¥å€¼ä¼šè¦†ç›–æ‰€æœ‰ <code>LC_*</code> çš„è®¾ç½®å€¼ã€‚æ³¨æ„ï¼ŒLANGçš„å€¼ä¸å—è¯¥å®å½±å“ã€‚</p>
<p><strong>æ³¨æ„:</strong> <code>LC_ALL</code> å¹¶ä¸æ˜¯ä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œè€Œæ˜¯ä¸€ä¸ªglibcä¸­å®šä¹‰çš„ä¸€ä¸ªå®ã€‚<code>LC_ALL=C</code> è¿™æ ·çš„è¯­æ³•å®é™…ä¸Šæ˜¯è°ƒç”¨äº† <code>setlocale</code> æŠŠæ‰€æœ‰çš„ <code>LC_*</code> çš„å˜é‡è®¾ç½®äº†ä¸€éï¼Œæ‰€ä»¥åœ¨ç»ˆç«¯ä¸­ç›´æ¥ <code>echo $LANG</code> ç­‰å¯ä»¥è¾“å‡ºå¯¹åº”å˜é‡çš„å€¼ï¼Œä½†æ˜¯ <code>echo $LC_ALL</code> ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œå› ä¸ºå®ƒå‹æ ¹å°±ä¸æ˜¯ä¸€ä¸ªå˜é‡ã€‚</p>
<p>æ‰€ä»¥è®¾ç½® <code>LC_ALL=C</code> ï¼Œå°±æ˜¯è§£å†³å„ç§ä¸åŒºåŸŸè®¾ç½®æœ‰å…³çš„warningã€‚ä»ç¨‹åºè¿è¡Œè§’åº¦çœ‹ï¼Œå°±æ˜¯ä¿æŒç¨‹åºè¾“å‡ºçš„ç»Ÿä¸€æ ¼å¼ï¼Œè¿™æ ·æœ‰äº›ç¨‹åºæ‰èƒ½æ­£ç¡®æ‰§è¡Œä¸‹å»ã€‚</p>
<hr>
<p>ç›¸å…³å‚è€ƒï¼š</p>
<ul>
<li><a href="http://linfuyan.com/locale_error_unsupported_locale_setting/" target="_blank" rel="noopener">è§£å†³pip installæ—¶unsupported locale settingé”™è¯¯ | é˜¿é˜¿ç‡ƒ</a></li>
<li><a href="http://www.maixj.net/ict/lc-all-20255" target="_blank" rel="noopener">LC_ALL=Cè¡¨ç¤ºä»€ä¹ˆï¼Ÿ | äº‘ä¸Šå°æ‚Ÿ</a></li>
</ul>
]]></content>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¿å®šå¸‚å¦‚ä½•æ›´æ¢é©¾é©¶è¯</title>
    <url>/2018/06/17/how-to-change-the-driver-license-in-baoding/</url>
    <content><![CDATA[<p>6æœˆ15æ—¥å‘¨äº”æˆ‘å»ä¿å®šè½¦ç®¡æ‰€ï¼ˆä¿å®šå¸‚é•¿åŸåŒ—å¤§è¡—2601å·ï¼‰æ›´æ¢äº†æ–°é©¾ç…§ï¼Œä»¥ä¸‹æ˜¯æˆ‘çš„æ¢è¯è®°å½•ï¼Œå¸Œæœ›èƒ½å¸®åˆ°æƒ³è¦æ›´æ¢é©¾ç…§çš„æœ‹å‹ä»¬ã€‚</p>
<h4 id="ä¸Šç­æ—¶é—´"><a href="#ä¸Šç­æ—¶é—´" class="headerlink" title="ä¸Šç­æ—¶é—´"></a>ä¸Šç­æ—¶é—´</h4><p>å‘¨ä¸€åˆ°å‘¨äº”</p>
<p>å†¬å­£ï¼š</p>
<p>9:00 â€“ 12:00   14:00 â€“ 17:00</p>
<p>å¤å­£ï¼š</p>
<p>9:30 â€“ 12:30   14:30 â€“ 17:30</p>
<p>é¦–å…ˆï¼Œå¯¹äºå‘¨å…­æ—¥èƒ½ä¸èƒ½åŠç†ï¼Œè¿™ä¸ªæˆ‘æ²¡æœ‰ä¸“é—¨å»å‘è½¦ç®¡æ‰€çš„åŠå…¬äººå‘˜è€ƒè¯ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œä¹Ÿå°±ä¸èƒ½ç¡®è®¤ã€‚æˆ‘ä¹Ÿæ˜¯ä¸ºäº†é˜²æ­¢å‘¨å…­æ—¥ç™½è·‘ä¸€è¶Ÿï¼Œæ‰åœ¨å‘¨äº”è¿™å¤©è¯·äº†ä¸€å¤©å‡è¿‡æ¥çš„ã€‚</p>
<p>15å·å½“å¤©æˆ‘æ˜¯å¤§æ¦‚12ç‚¹10åˆ†å·¦å³åˆ°çš„è½¦ç®¡æ‰€ï¼Œç»“æœè¿›å»å´è¢«å‘ŠçŸ¥è¦ä¸‹ç­äº†ç­‰ä¸‹åˆå†æ¥ï¼Œä¸€é—®ä¸‹åˆä¸Šç­æ—¶é—´æ˜¯14:30 ã€‚</p>
<p>å¦å¤–ï¼Œè½¦ç®¡æ‰€åˆ†ä¸¤ä¸ªæœåŠ¡å¤§å…ï¼ˆåœ¨å¤–é¢æœ‰ç›¸åº”çš„æ ‡è¯†ï¼‰ï¼ŒAåŒºåº”è¯¥ä¸»è¦æ˜¯åŠç†è½¦è¾†ç›¸å…³çš„ä¸šåŠ¡ï¼ŒBåŒºä¸»è¦æ˜¯åŠç†è¯ä»¶ç›¸å…³çš„ä¸šåŠ¡ã€‚</p>
<p>æ‰€ä»¥ï¼Œè¦æ›´æ¢æ–°é©¾ç…§ï¼Œç›´æ¥å»BåŒºå°±å¥½äº†ã€‚</p>
<p>åœ¨ä¸­åˆè¿™æ®µæ—¶é—´å‘¢ï¼Œè½¦ç®¡æ‰€çš„ä¸¤ä¸ªæœåŠ¡å¤§å…éƒ½ä¼šé”é—¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨è¿™é‡Œæ˜¯æ²¡æœ‰å¯ä»¥ä¼‘æ¯çš„åœ°æ–¹çš„ã€‚</p>
<p>15å·è¿™å¤©çš„æ¸©åº¦å¤§æ¦‚åœ¨29Â°å·¦å³ï¼Œå·²ç»æ˜¯ç›¸å½“çš„é—·çƒ­äº†ã€‚ä¸­åˆè¿™æ®µæ—¶é—´æ¥è¿™é‡ŒåŠç†ä¸šåŠ¡çš„äººä¹Ÿæ˜¯ç»œç»ä¸ç»ï¼Œä¸€çœ‹å…³ç€é—¨ä¹Ÿå°±åªå¥½åœ¨å¤–é¢ç­‰ç€äº†ã€‚</p>
<p>åœ¨ä¸¤ä¸ªå¤§å…ä¹‹é—´æœ‰å¯ä»¥é®é˜³çš„é¡¶æ£šï¼Œä¸¤è¾¹å„æœ‰ä¸€æ’åº§æ¤…å¯ä»¥ä¼‘æ¯ã€‚ä½†å¯¹äºå¤å­£29Â°çš„é—·çƒ­æ°”æ¸©æ¥è¯´ï¼Œä¹Ÿç€å®çƒ­çš„ä¸è¡Œã€‚</p>
<p>æ‰€ä»¥æˆ‘å»ºè®®å¤§å®¶å¦‚æœæ¥çš„è¯ï¼Œå°½é‡èµ¶åœ¨ä¸Šåˆæˆ–è€…ä¸‹åˆ2ç‚¹ä¹‹åå†è¿‡æ¥ã€‚å½“å¤©ä¸­åˆæˆ‘åœ¨å¤–é¢åç€ç­‰äº†ä¸¤ä¸ªå¤šå°æ—¶å®åœ¨æ˜¯éš¾å—å•Šã€‚</p>
<h4 id="éœ€è¦å¸¦ä»€ä¹ˆ"><a href="#éœ€è¦å¸¦ä»€ä¹ˆ" class="headerlink" title="éœ€è¦å¸¦ä»€ä¹ˆ"></a>éœ€è¦å¸¦ä»€ä¹ˆ</h4><p>è¦æ›´æ¢æ–°é©¾ç…§ï¼Œ <code>èº«ä»½è¯</code> å’Œ <code>é©¾é©¶è¯</code> å½“ç„¶æ˜¯å¿…éœ€çš„ã€‚</p>
<p>é¦–å…ˆè¦è¯´æ˜çš„ä¸€ç‚¹æ˜¯ï¼ŒæœåŠ¡å¤§å…çš„å…¥å£æ˜¯éœ€è¦åˆ·èº«ä»½è¯å¹¶ä¸”éœ€è¦äººè„¸æ¯”å¯¹æ‰èƒ½è¿›å»çš„ï¼Œåº”è¯¥æ˜¯ä¸ºäº†é˜²æ­¢é»„ç‰›çš„ä¸€ç§æªæ–½ã€‚</p>
<p>å…¶æ¬¡ï¼Œè¿˜éœ€è¦å¸¦ä¸Šä¸€äº›é›¶é’±ã€‚è¿™é‡Œè¦ç€é‡è§£é‡Šä¸€ä¸‹ï¼Œè¿™é‡ŒæŒ‡çš„æ˜¯â€œçº¸å¸â€ï¼Œä¸»è¦æ˜¯ç›¸å¯¹äºçš„å¾®ä¿¡å’Œæ”¯ä»˜å®è€Œè¨€çš„ï¼Œå› ä¸ºæ˜¯ä¸æ”¯æŒç”¨å¾®ä¿¡å’Œæ”¯ä»˜å®æ¥ç¼´è´¹çš„ã€‚</p>
<p>å…¶ä¸­ä¸€éƒ¨åˆ†æ˜¯éœ€è¦è¿›è¡Œä½“æ£€ï¼Œä½“æ£€è´¹æ˜¯15å…ƒã€‚å¦ä¸€éƒ¨åˆ†æ˜¯æ¢è¯çš„å·¥æœ¬è´¹æ˜¯10å…ƒã€‚</p>
<p>å†è€…ï¼Œå¯ä»¥è‡ªè¡Œæºå¸¦ç…§ç‰‡ã€‚æ³¨æ„ï¼Œç…§ç‰‡çš„è¦æ±‚æ˜¯ <code>ä¸€å¯¸ç™½åº•å…å† å½©ç…§</code>ï¼Œéœ€è¦ä¸¤å¼ ã€‚å¦‚æœæ²¡æœ‰ç…§ç‰‡çš„è¯ï¼Œåœ¨æœåŠ¡å¤§å…å†…æ˜¯æœ‰ä¸¤å°å¯ä»¥ç…§ç›¸çš„æœºå™¨çš„ï¼Œç«‹ç­‰å¯å–ã€‚è´¹ç”¨å¥½åƒæ˜¯10å…ƒä¸€ä»½å§ã€‚å› ä¸ºæˆ‘æ˜¯è‡ªå·±å¸¦çš„ç…§ç‰‡ï¼Œæ‰€ä»¥æ‹ç…§ç‰‡å°±ä¸å¤ªæ¸…æ¥šäº†ã€‚</p>
<p>æ€»ç»“ä¸€ä¸‹ï¼š</p>
<ol>
<li>èº«ä»½è¯</li>
<li>é©¾é©¶è¯</li>
<li>äººæ°‘å¸ ï¼ˆå¤§æ¦‚å…±è®¡ 15+10+10 å…ƒï¼Œä¸€å…±å¸¦50æˆ–100å·¦å³å°±å¤Ÿäº† <strong>æ³¨æ„ï¼šæœ€å¥½æ˜¯å¸¦é›¶é’±ï¼Œè¦å¸¦ä¸ªæ•´çš„50å…ƒæˆ–100å…ƒè¿‡å»ï¼Œå…‰æ‰¾é›¶é’±å°±å¾ˆæµªè´¹æ—¶é—´äº†ï¼›å†è€…ï¼Œå¤§å®¶éƒ½å¸¦æ•´é’±ä¸ä¸€å®šèƒ½æ‰¾å¼€â€¦</strong></li>
</ol>
<h4 id="åŠç†æµç¨‹"><a href="#åŠç†æµç¨‹" class="headerlink" title="åŠç†æµç¨‹"></a>åŠç†æµç¨‹</h4><p>å› ä¸ºæˆ‘æ˜¯ç¬¬ä¸€æ¬¡å»ï¼Œå¯¹äºåŠç†çš„æµç¨‹åˆšå¼€å§‹ä¹Ÿä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œä¹Ÿæ˜¯ä¸€ç‚¹ä¸€ç‚¹çš„çœ‹ç€åˆ«äººæ˜¯æ€ä¹ˆå¼„å¾—ï¼Œç„¶åè‡ªå·±ä¹Ÿè·Ÿç€å»åšï¼Œæ…¢æ…¢çš„å°±äº†è§£äº†ã€‚</p>
<h5 id="èº«ä»½è¯å¤å°ä»¶"><a href="#èº«ä»½è¯å¤å°ä»¶" class="headerlink" title="èº«ä»½è¯å¤å°ä»¶"></a>èº«ä»½è¯å¤å°ä»¶</h5><p>é¦–å…ˆå‘¢ï¼Œè¦æœ‰èº«ä»½è¯å¤å°ä»¶ã€‚è¿™ä¸ªåœ¨å¤§å…çš„è¿›é—¨å·¦æ‰‹è¾¹æ˜¯æœ‰ä¸€å°èº«ä»½è¯å¤å°æœºçš„ã€‚</p>
<h5 id="ä½“æ£€"><a href="#ä½“æ£€" class="headerlink" title="ä½“æ£€"></a>ä½“æ£€</h5><p>å…¶æ¬¡ï¼Œéœ€è¦è¿›è¡Œä½“æ£€ã€‚åœ¨å¤§å…çš„è¿›é—¨å·¦æ‰‹è¾¹æœ‰ä¸€æ¡é€šé“ï¼Œè¿›å»ç¬¬ä¸€ä¸ªé—¨å£å°±æ˜¯äº†ï¼Œå†™ç€ä½“æ£€å‘¢ã€‚</p>
<p>è¿›å»åæ˜¯å…ˆåœ¨é—¨å£å¤„ç¼´è´¹ï¼Œç„¶åå»æ—è¾¹ç¬¬äºŒä¸ªåŠå…¬äººå‘˜é‚£é‡Œç­‰ç€å«åå­—ï¼ŒæŒ‰ç…§å¥¹çš„è¦æ±‚å»åšå°±å¥½äº†ã€‚ç„¶åæ˜¯åˆ°æ—è¾¹ç¬¬ä¸‰ä¸ªäººé‚£é‡Œæµ‹è§†åŠ›ã€‚</p>
<p>æœ€åé€šè¿‡åä¼šç»™ä½ ä¸€å¼ å•å­ï¼Œç­¾åç„¶åå»å¤§å…æ’é˜Ÿæ‹¿å·ã€‚</p>
<h5 id="æ’é˜Ÿæ‹¿å·"><a href="#æ’é˜Ÿæ‹¿å·" class="headerlink" title="æ’é˜Ÿæ‹¿å·"></a>æ’é˜Ÿæ‹¿å·</h5><p>åœ¨å¤§å…é‡Œï¼Œè¿›é—¨å³æ‰‹è¾¹æ˜¯æ’é˜Ÿæ‹¿å·çš„åœ°æ–¹ã€‚ä¹Ÿæ˜¯æœ‰æ‘„åƒå¤´é€šè¿‡äººè„¸è¯†åˆ«ç»™å·ã€‚</p>
<p>è¿™é‡Œè¦è¯´ä¸€ä¸‹ï¼Œåœ¨è¿™é‡Œæ’é˜Ÿæ‹¿å·å’Œå½“æ—¶è¿›é—¨æ—¶åˆ·èº«ä»½è¯äººè„¸æ¯”å¯¹å±äºå…ˆåçš„æ­¥éª¤ã€‚å¦‚æœä½ åœ¨è¿›é—¨æ—¶æ²¡æœ‰åˆ·ä¸Šæˆ–äººè„¸æ¯”å¯¹ä¸æˆåŠŸå°±è¿›æ¥äº†ï¼Œåœ¨è¿™é‡Œæ‹¿å·çš„æ—¶å€™å°±æ²¡æœ‰ä½ çš„ä¿¡æ¯ã€‚æˆ‘åœ¨æ’é˜Ÿæ—¶çœ‹åˆ°å¥½å‡ äººå»åˆé‡æ–°å»é—¨å£åˆ·äº†ä¸€éæ‰èƒ½æ‹¿å·ã€‚</p>
<p>æ‹¿å®Œå·åè¿›å…¥ä¸šåŠ¡å¤§å…ç­‰ç€å«å·å°±è¡Œäº†ã€‚</p>
<h4 id="éœ€è¦å¤šä¹…"><a href="#éœ€è¦å¤šä¹…" class="headerlink" title="éœ€è¦å¤šä¹…"></a>éœ€è¦å¤šä¹…</h4><p>æ€»çš„æ¥è¯´ï¼Œä»æˆ‘è¿›å…¥åŠè¯å¤§å…ï¼Œåˆ°æˆ‘åŠå¥½è¯ä»¶èµ°å‡ºå¤§å…ï¼Œå¤§æ¦‚æ˜¯èŠ±äº†50åˆ†é’Ÿå·¦å³ã€‚å½“ç„¶ï¼Œè¿™æ˜¯å¯¹äºä¸€ä¸ªåƒæˆ‘è¿™æ ·çš„ç¬¬ä¸€æ¬¡æ¢è¯çš„å°ç™½è€Œè¨€çš„ï¼Œæ¯•ç«Ÿæˆ‘åœ¨é‡Œé¢æµªè´¹äº†å¾ˆå¤šâ€œå­¦ä¹ â€çš„æ—¶é—´ã€‚</p>
<p>ä½ è¯´æˆ‘æƒ³å¿«ç‚¹åŠï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆç§˜ç±å‘¢ï¼Ÿ  å½“ç„¶ï¼Œç§˜ç±å½“ç„¶æœ‰äº†ã€‚é‚£ä¹ˆä¸‹é¢ï¼Œæˆ‘å°±æŠŠæˆ‘æ€»ç»“çš„ â€œå¿«é€Ÿæ¢è¯â€ ç§˜ç±å‘Šè¯‰ä½ ã€‚</p>
<h4 id="å¦‚ä½•å¿«é€Ÿæ¢è¯"><a href="#å¦‚ä½•å¿«é€Ÿæ¢è¯" class="headerlink" title="å¦‚ä½•å¿«é€Ÿæ¢è¯"></a>å¦‚ä½•å¿«é€Ÿæ¢è¯</h4><ol>
<li>å¸¦å¥½ <code>èº«ä»½è¯</code> <code>é©¾é©¶è¯</code> <code>äººæ°‘å¸</code></li>
<li>åˆ·èº«ä»½è¯è¿›å…¥å¤§å…åï¼Œå…ˆå»å¤§å…å…¥å£å·¦æ‰‹è¾¹çš„ â€œèº«ä»½è¯å¤å°æœºâ€ å»å¤å°èº«ä»½è¯ï¼ŒæŒ‰ç…§æœºå™¨ä¸Šçš„è¦æ±‚åšå°±å¥½äº†ã€‚</li>
<li>å¦‚æœè‡ªå·±æœ‰æºå¸¦ç…§ç‰‡ï¼Œç›´æ¥è¿›è¡Œä¸‹ä¸€æ­¥ã€‚å¦‚æœæ²¡æœ‰æºå¸¦ç…§ç‰‡ï¼Œåœ¨ â€œèº«ä»½è¯å¤å°æœºâ€ æ—è¾¹æœ‰ä¸¤å° â€œç›¸ç‰‡å¿«ç…§æœºâ€ ï¼Œç›´æ¥è¿›å»ç…§ç›¸ã€‚</li>
<li>å»æ—è¾¹çš„é€šé“é‡Œçš„ç¬¬ä¸€ä¸ªæˆ¿é—´ï¼Œè¿›è¡Œä½“æ£€ã€‚</li>
<li>æ‹¿ç€ <code>èº«ä»½è¯å¤å°ä»¶</code> å’Œ <code>ç…§ç‰‡</code> åŠ <code>ä½“æ£€å•</code> åˆ°å¤§å…å…¥å£å³æ‰‹è¾¹å»æ’é˜Ÿæ‹¿å·ã€‚</li>
<li>è¿›å…¥å¤§å…åç­‰ç€å«å·åŠç†å³å¯ã€‚</li>
</ol>
<p>å¯¹äºç¬¬ä¸€æ¬¡æ¥åŠç†çš„äººæ¥è¯´ï¼Œæ—¶é—´åº”è¯¥å°±æ˜¯æµªè´¹åœ¨äº†æ¥å›çš„å’¨è¯¢ä¸­ï¼Œåƒæ— å¤´è‹è‡é‚£æ ·ã€‚</p>
<p>æˆ‘åˆšè¿›å»çš„æ—¶å€™ï¼Œçœ‹åˆ°å¥½å¤šäººç›´æ¥å°±å¥”ç€å¤§å…å…¥å£å³æ‰‹è¾¹çš„æ’é˜Ÿå«å·å¤„å°±å»äº†ï¼Œåº”è¯¥æ˜¯çœ‹åˆ°äº†ä¸Šé¢å†™ç€â€œä¸šåŠ¡åŠç†â€çš„å­—æ ·ï¼Œç»“æœè¢«å‘ŠçŸ¥å…ˆè¦è¿›è¡Œä½“æ£€æ‰èƒ½æ‹¿å·ã€‚ç­‰æ‰¾åˆ°ä½“æ£€çš„åœ°æ–¹ï¼Œåˆè¢«å‘ŠçŸ¥å¿…é¡»æœ‰ç…§ç‰‡æ‰è¡Œï¼Œå› ä¸ºä½“æ£€å•ä¸Šéœ€è¦è´´ç…§ç‰‡ã€‚</p>
<h4 id="ä½“ä¼š"><a href="#ä½“ä¼š" class="headerlink" title="ä½“ä¼š"></a>ä½“ä¼š</h4><p>é€šè¿‡è¿™æ¬¡æ¢è¯ï¼Œä¹Ÿæœ‰ä¸€äº›ä¸ªäººçš„ä½“ä¼šï¼Œå½“ç„¶å¹¶ä¸ç®—æ˜¯åæ§½ã€‚</p>
<ol>
<li>æŒºå¤§çš„ä¸€ä¸ªè½¦ç®¡æ‰€ï¼Œæ²¡æœ‰ä¸€ä¸ªè®©æ¥åŠç†ä¸šåŠ¡çš„ç¾¤ä¼—å¯ä»¥ä¼‘æ¯æˆ–åç€çš„ â€œå‡‰å¿«å„¿â€ çš„åœ°æ–¹ï¼Œæ¯•ç«Ÿå¤§çƒ­çš„å¤©ï¼Œæ„Ÿè§‰éå¸¸ä¸äººæ€§åŒ–ã€‚åŠå…¬äººå‘˜å¯ä»¥åœ¨åŠå…¬å®¤é‡Œå¹ç€ç©ºè°ƒä¼‘æ¯ï¼Œè®©æ¥åŠç†ä¸šåŠ¡çš„ç¾¤ä¼—ä»¬åœ¨å¤–é¢æ™’ç€å¤§å¤ªé˜³ç­‰ç€ã€‚ã€‚ã€‚</li>
<li>åœ¨ä¸šåŠ¡å¤§å…ä¸­æ²¡æœ‰å¯ä»¥å’¨è¯¢çš„å·¥ä½œäººå‘˜ã€‚æˆ‘çœ‹åˆ°çš„åªæœ‰ä¸€ä¸ªæœºå™¨äººã€‚å°±æ˜¯ä½ è¯´ä¸€å¥å®ƒå›ä¸€å¥çš„é‚£ç§ã€‚</li>
<li>æ„Ÿè§‰å¦‚æœæ²¡æœ‰å®‰æ’ç›¸åº”çš„å’¨è¯¢äººå‘˜çš„è¯ï¼Œå¯ä»¥è´´ä¸€å¼ ä¸šåŠ¡åŠç†æµç¨‹å›¾ï¼Œæ ‡æ˜ç¬¬ä¸€äºŒä¸‰æ­¥ï¼Œä¸ä¼šè®©æ¥åŠä¸šåŠ¡çš„ç¾¤ä¼—åœ¨é‡Œé¢å›¢å›¢è½¬ã€‚</li>
<li>åœ¨æ¥åŠç†ä¹‹å‰ä¹Ÿåœ¨ç½‘ä¸ŠæŸ¥åˆ°è¿‡è¿™é‡Œæœ‰æä¾›è‡ªåŠ©æœåŠ¡åŠç†çš„æœºå™¨ã€‚æˆ‘ä¹Ÿçœ‹åˆ°äº†æ˜¯æ‘†æ”¾åœ¨â€œèº«ä»½è¯å¤å°æœºâ€æ—è¾¹çš„ï¼Œæœ‰ä¸¤å°ã€‚æˆ‘å»æ—è¾¹çœ‹äº†çœ‹ï¼Œæ²¡æœ‰æ‰¾åˆ°æ›´æ¢é©¾é©¶è¯çš„æŒ‰é’®æˆ–æ ‡è¯†ï¼Œå€’æ˜¯æœ‰å‡ ä¸ªæ¥åŠç†è¿ç« çš„äººåœ¨é‚£é‡Œæ’é˜Ÿã€‚å› ä¸ºæ—è¾¹ä¹Ÿæ²¡æœ‰æ‰¾åˆ°å¯ä»¥å’¨è¯¢çš„å·¥ä½œäººå‘˜ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿå°±æ²¡å¤ªå…³æ³¨è¿™ä¸ªã€‚æœ¬æ¥æ¥ä¹‹å‰æ˜¯æƒ³ç€å¦‚æœè¿™ç§è‡ªåŠ©æœåŠ¡æœºä¸Šå¯ä»¥ç›´æ¥åŠç†çš„è¯æˆ‘å°±ç›´æ¥åœ¨æœºå™¨ä¸ŠåŠç†äº†ï¼Œæ¯•ç«Ÿç›¸æ¯”äººå·¥çš„è¦å¿«å¾ˆå¤šã€‚ä¸è¿‡åŠå®Œåæƒ³æƒ³ï¼Œè¿™ä¸ªæµç¨‹ä¸‹æ¥è¦è¿›è¡Œä½“æ£€ï¼Œè´´ç…§ç‰‡ï¼Œå½“åœºåˆ¶ä½œæ–°è¯ä»¶ç­‰ç­‰æ“ä½œï¼Œè¿˜æ˜¯äººå·¥çš„è¦é è°±ä¸€äº›ã€‚</li>
<li>æ„Ÿè§‰åŠå…¬äººå‘˜çš„æœåŠ¡æ€åº¦ä¸æ˜¯å¾ˆå¥½ã€‚</li>
<li>æ€»çš„æ¥è¯´ï¼ŒåŠç†ä¸šåŠ¡è¿˜ç®—éå¸¸å¿«é€Ÿçš„ï¼Œä¸šåŠ¡å¤§å…å†…ä¹Ÿæ˜¯äº•ç„¶æœ‰åºã€‚</li>
</ol>
<p>å¦‚æœçœŸçš„å¸®åˆ°äº†ä½ ï¼Œåˆ«å¿˜äº†å›æ¥ç»™ä¸ªå°å°çš„é¼“åŠ±å‘€ï¼ï¼ï¼</p>
]]></content>
      <tags>
        <tag>äººåœ¨å¸éƒ½</tag>
      </tags>
  </entry>
  <entry>
    <title>Dockerå…±äº«volumeçš„æƒé™é—®é¢˜</title>
    <url>/2018/06/12/docker-volume-permission/</url>
    <content><![CDATA[<p>æœ‰æ—¶å€™åœ¨åˆ›å»ºDockeå®¹å™¨æ—¶ï¼Œæˆ‘ä¸€èˆ¬éƒ½ä¼šå…ˆåœ¨hostä¸»æœºä¸‹åˆ›å»ºä¸€ä¸ªç”¨æ¥æ˜ å°„åˆ°å®¹å™¨å†…çš„ç›®å½•ä½œä¸º <code>volume</code> æ˜ å°„ç›®å½•ã€‚ä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå¿˜è®°æå‰åˆ›å»ºè¯¥ç›®å½•ï¼Œè€Œç›´æ¥æ‰§è¡Œäº† <code>docker run .... -v /data/sites:/app ....ubuntu:latest</code> å‘½ä»¤ã€‚è¯¥å‘½ä»¤ä¼šè‡ªè¡Œåœ¨ <code>host</code> ä¸»æœºä¸‹åˆ›å»ºç›®å½• <code>/data/sites</code> ã€‚</p>
<p>ä½†å½“å‘è¯¥æ–‡ä»¶ä¸­æ‹·è´æ–‡ä»¶æ—¶ï¼Œå°±ä¼šæç¤º <code>permission denied</code> çš„é”™è¯¯ï¼Œè¿™æ˜¯å› ä¸ºå½“å‰ç”¨æˆ·å¯¹è¯¥ç›®å½•æ²¡æœ‰å¯æ“ä½œæƒé™å¯¼è‡´çš„ã€‚</p>
<p><code>volume</code> çš„æƒé™åœ¨äºä¸»æœºæ˜¯æ€ä¹ˆç»™çš„ï¼Œå¦‚æœä½ æƒ³è¦ç»™phpfpmæ–‡ä»¶å¤¹ <code>www-data:www-data</code> æƒé™ï¼Œåœ¨ä½ çš„ä¸»æœºæŒ‚è½½ç›®å½•æ‰§è¡Œ <code>chown -R www-data:www-data /data/sites</code> å³å¯ã€‚</p>
<p>åœ¨å®¿ä¸»æœºä¸º <code>volume</code> ç›®å½•é‡æ–°è®¾ç½®hostä¸»æœºä¸‹å½“å‰ç”¨æˆ·çš„æƒé™å³å¯ï¼š</p>
<p>å¦‚åœ¨ <code>host</code> ä¸»æœºä¸‹ï¼Œå½“å‰ç”¨æˆ·ä¸º <code>tiger</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ chown -R tiger:tiger &#x2F;data&#x2F;sites</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Dockerå®¹å™¨æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>Macç³»ç»Ÿä¸‹å¿«é€Ÿæœç´¢ç¥å™¨Spotlight</title>
    <url>/2018/05/14/spotlight-skills/</url>
    <content><![CDATA[<p>åœ¨Macç³»ç»Ÿä¸‹å¦‚ä½•æ›´å¿«é€Ÿçš„æ‰¾åˆ°æƒ³è¦çš„æ–‡ä»¶ï¼Ÿ</p>
<h4 id="æŠ€å·§"><a href="#æŠ€å·§" class="headerlink" title="æŠ€å·§"></a>æŠ€å·§</h4><ol>
<li>ç›´æ¥æŒ‰ä¸‹ <code>Command + Space</code> æ˜¾ç¤º</li>
<li>è¾“å…¥æ–‡ä»¶åæˆ–ç›¸å…³å­—ç¬¦ï¼Œå›è½¦ç›´æ¥æ‰“å¼€ã€‚</li>
<li>åˆ—è¡¨æ–‡ä»¶é€šè¿‡ä¸Š/ä¸‹ç®­å¤´é€‰æ‹©</li>
<li>æŸ¥çœ‹å…¨éƒ¨æœç´¢ç»“æœï¼Œç‚¹å‡» â€œåœ¨Finderä¸­æ˜¾ç¤ºå…¨éƒ¨â€ åå›è½¦</li>
<li>æŸ¥æ‰¾å¹¶æ‰“å¼€æ–‡ä»¶æ‰€åœ¨æ–‡ä»¶å¤¹ï¼šé€‰ä¸­è¦æŸ¥æ‰¾çš„æ–‡ä»¶åæŒ‰ä¸‹Command+å›è½¦</li>
<li>æ˜¾ç¤ºæ–‡ä»¶å®Œæ•´è·¯å¾„ï¼šé€‰ä¸­è¦æŸ¥æ‰¾çš„æ–‡ä»¶åæŒ‰ä¸‹Commandé”®ï¼Œåœ¨ä¸‹æ–¹å‡ºç°å®Œæ•´è·¯å¾„åï¼›</li>
<li>è¿›è¡Œæ•°å­¦è®¡ç®—ã€å•ä½è½¬æ¢ï¼šç›´æ¥è¾“å…¥æ•°å­¦å…¬å¼è¿›è¡Œè®¡ç®—ï¼›ç›´æ¥è¾“å…¥è´§å¸å•ä½è¿›è¡Œè½¬æ¢ï¼›</li>
<li>å®šåˆ¶æŸ¥æ‰¾èŒƒå›´ï¼šâ€œç³»ç»Ÿåå¥½è®¾ç½®â€“Spotlightâ€ã€‚</li>
<li>åˆ©ç”¨æ–‡ä»¶ç±»å‹æŸ¥æ‰¾ï¼šâ€œ<code>kind:(file type)</code>â€ å¦‚ <code>find:image</code> ã€‚â€œfind typeâ€å¯é€‰ï¼šâ€œimageâ€ã€â€œmovieâ€ã€â€œmusicâ€ã€â€œemailâ€ã€â€œapplicationâ€ã€â€œtextâ€ã€â€œarchiveâ€ç­‰</li>
<li>é€šè¿‡æ–‡ä»¶æ ¼å¼æŸ¥æ‰¾ï¼šâ€œ<code>kind:(file format)</code>â€ å¦‚ <code>find:pdf</code>ã€‚ â€œfind formatâ€å¯é€‰ï¼šâ€œjpegâ€ã€â€œgifâ€ã€â€œpdfâ€ã€â€œmp3â€ã€â€œmp4â€ã€â€œzipâ€ç­‰ã€‚</li>
<li>è”åˆæ–‡ä»¶ç±»å‹å’Œæ–‡ä»¶åæŸ¥æ‰¾ï¼šâ€œ<code>kind:(file type/file fromat) &quot;file name&quot;</code>â€ å¦‚ <code>kind:pdf &quot;python&quot;</code> å³æœç´¢æ–‡ä»¶åå¸¦æœ‰â€œpythonâ€çš„pdfæ–‡ä»¶ã€‚</li>
</ol>
<h4 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h4><ul>
<li><a href="https://zhuanlan.zhihu.com/p/29796308" target="_blank" rel="noopener">Spotlightâ€“Macä¸Šçš„æŸ¥è¯¢åˆ©å™¨</a></li>
</ul>
]]></content>
      <tags>
        <tag>Skill</tag>
      </tags>
  </entry>
  <entry>
    <title>åŒä¸€è®¾å¤‡ä¸‹å¤šé‡SSH Keysç®¡ç†</title>
    <url>/2018/05/14/multiple-ssh-keys-management-under-the-same-device/</url>
    <content><![CDATA[<p>ä¸€èˆ¬æˆ‘ä»¬åœ¨è‡ªå·±çš„ä¸ªäººç”µè„‘ä¸Šä½¿ç”¨gitæ—¶éƒ½ä¼šé€šè¿‡SSHçš„æ–¹å¼æ¥è¿æ¥ä»£ç ç®¡ç†ç«™ç‚¹å¦‚Githubç­‰ã€‚ä½†æœ‰æ—¶å€™æˆ‘ä»¬ä¹Ÿä¼šé‡åˆ°å¤šé‡SSHçš„é—®é¢˜ã€‚</p>
<h4 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h4><p>æœ€å¸¸è§çš„æƒ…å†µå°±æ˜¯ä¸€èˆ¬çš„å…¬å¸éƒ½ä¼šæœ‰è‡ªå·±çš„ç§æœ‰gitä»“åº“ï¼Œæ¯”å¦‚ç”¨gitlabæ¥æ­å»ºçš„gitä»“åº“ç«™ç‚¹ã€‚è€Œå…¬å¸é‡Œä¹Ÿä¼šä¸ºæ¯ä½å‘˜å·¥è®¾ç½®ä¸€ä¸ªä¸ªäººä¸“å±çš„å…¬å¸åŸŸåé‚®ç®±ï¼Œè¿™æ ·çš„æƒ…å†µä¸‹å°±é‡åˆ°é—®é¢˜äº†ï¼šæˆ‘ä»¬åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šå·²ç»é…ç½®äº†è‡ªå·±çš„é‚®ç®±è´¦å·ä½œä¸ºä¸»åŠ›çš„gitè´¦æˆ·ï¼Œè€Œåœ¨å¼€å‘å…¬å¸çš„é¡¹ç›®æ—¶ï¼Œç”¨æ¥æäº¤gitæ“ä½œçš„æ—¶å€™å°±è¦åˆ‡æ¢ä¸ºå…¬å¸åˆ†é…çš„é‚®ç®±è´¦å·äº†ã€‚è™½ç„¶æˆ‘ä»¬å¯ä»¥åœ¨é¡¹ç›®ç›®å½•å†…ä½¿ç”¨ <code>git config user.name</code> å’Œ <code>git config user.email</code> æ¥ä¸ºè¯¥é¡¹ç›®æŒ‡å®šå•ç‹¬çš„gitæäº¤è´¦æˆ·ï¼Œä½†åœ¨ <code>git pull</code> å’Œ <code>git push</code> æ—¶ï¼Œæ¯æ¬¡éƒ½éœ€è¦ä½¿ç”¨ <code>http</code> çš„æ–¹å¼è¾“å…¥å¯†ç æ‰è¡Œï¼Œéå¸¸çš„éº»çƒ¦ã€‚</p>
<h4 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h4><p>é‚£ä¹ˆç°åœ¨é—®é¢˜å°±æ¥äº†ï¼Œä¸ªäººä½¿ç”¨çš„gitè´¦æˆ·å’Œå…¬å¸åˆ†é…çš„gitè´¦æˆ·åº”è¯¥å¦‚ä½•åœ¨ä¸€å°ç”µè„‘ä¸ŠåŒæ—¶å­˜åœ¨å¹¶ä¿è¯éƒ½èƒ½åˆ†åˆ«ä½¿ç”¨SSHçš„æ–¹å¼æ¥æäº¤ä»£ç å‘¢ï¼Ÿ</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬æŒ‡å®šä¸‹é¢ç¤ºä¾‹ä½¿ç”¨çš„gitè´¦æˆ·ï¼š</p>
<p>æˆ‘çš„ä¸ªäººgitè´¦æˆ·: <code>leafney</code> <code>leafney@gmail.com</code> gitä»“åº“ï¼š<code>github.com</code><br>æˆ‘çš„å…¬å¸gitè´¦æˆ·: <code>wuyazi</code> <code>wuyazi@company.com</code> gitä»“åº“ï¼š<code>111.206.223.205:8080</code> ï¼ˆå…¬å¸é…ç½®çš„gitlabå¯¹åº”ipåœ°å€ï¼‰<br>æˆ‘ä½¿ç”¨çš„Bash : <code>iTerm2+zsh</code></p>
<p>æˆ‘çš„éœ€æ±‚æ˜¯ï¼Œå› ä¸ºæˆ‘ä½¿ç”¨çš„æ˜¯ä¸ªäººç”µè„‘ï¼Œæ‰€ä»¥æˆ‘å¸Œæœ›çš„æ˜¯åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œä»ç„¶ä½¿ç”¨æˆ‘è‡ªå·±çš„gitè´¦æˆ· <code>leafney@gmail.com</code> ä½œä¸ºå…¨å±€è´¦æˆ·æ¥æäº¤é¡¹ç›®ã€‚å¯¹äºå…¬å¸çš„é¡¹ç›®ï¼Œåˆ™ä½¿ç”¨å…¬å¸çš„gitè´¦æˆ· <code>wuyazi@company.com</code> ä½œä¸ºå±€éƒ¨è´¦æˆ·æ¥ä»…æäº¤å…¬å¸çš„é¡¹ç›®ã€‚</p>
<p>ä¹‹å‰åœ¨æˆ‘çš„macä¸‹å·²ç»è®¾ç½®äº†é»˜è®¤çš„gitè´¦å· <code>leafney@gmail.com</code> å¯¹åº”çš„sshå¯†é’¥ ã€‚å¦‚æœä½ è¿˜æ²¡æœ‰è®¾ç½®è¿‡SSHï¼Œå¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰çš„æ–‡ç« ï¼š<a href="/2017/03/03/using-ssh-key-connection-github-in-linux/">Linuxä¸‹ä½¿ç”¨SSHå¯†é’¥è¿æ¥Github
</a></p>
<h4 id="æ–°å¢SSH-key"><a href="#æ–°å¢SSH-key" class="headerlink" title="æ–°å¢SSH key"></a>æ–°å¢SSH key</h4><p>ç°åœ¨è¦æ–°å¢ä¸€ä¸ªå·¥ä½œçš„è´¦å·ï¼Œä»¥ <code>wuyazi</code> <code>wuyazi@company.com</code> ä¸ºç¤ºä¾‹è´¦æˆ·æ¥æ·»åŠ ã€‚</p>
<h5 id="æŸ¥çœ‹å·²æ·»åŠ SSHå¯†é’¥"><a href="#æŸ¥çœ‹å·²æ·»åŠ SSHå¯†é’¥" class="headerlink" title="æŸ¥çœ‹å·²æ·»åŠ SSHå¯†é’¥"></a>æŸ¥çœ‹å·²æ·»åŠ SSHå¯†é’¥</h5><p>æŸ¥çœ‹macä¸‹å·²ç»æ·»åŠ çš„æˆ‘çš„ä¸ªäººgitè´¦å·ä¿¡æ¯:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">~&#x2F;.ssh</span><br><span class="line">âœ ls</span><br><span class="line">id_rsa      id_rsa.pub  known_hosts</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹ <code>id_rsa.pub</code> å†…å®¹:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ vim id_rsa.pub</span><br><span class="line">ssh-ras xxxxxxxxxxxx  leafney@gmail.com</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="æ–°å¢SSHå¯†é’¥"><a href="#æ–°å¢SSHå¯†é’¥" class="headerlink" title="æ–°å¢SSHå¯†é’¥"></a>æ–°å¢SSHå¯†é’¥</h5><p>åˆ›å»ºæ–°çš„ ssh keyï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; åˆ‡æ¢åˆ° .ssh ç›®å½•ä¸‹</span><br><span class="line">âœ cd ~&#x2F;.ssh</span><br><span class="line">&#x2F;&#x2F; è¾“å…¥å·¥ä½œé‚®ç®±æ¥åˆ›å»ºæ–°çš„ssh key,gitå”¯ä¸€è®¤è¯æ ‡å‡†æ˜¯é‚®ç®±</span><br><span class="line">âœ ssh-keygen -t rsa -C &quot;wuyazi@company.com&quot;</span><br></pre></td></tr></table></figure>

<p>éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œå½“æç¤º <code>Enter file in which to save the key (/Users/leafney/.ssh/id_rsa):</code> æ—¶ï¼Œæˆ‘ä»¬ä¸ä½¿ç”¨é»˜è®¤çš„åç§° <code>id_rsa</code> ï¼Œå› ä¸ºè¯¥åç§°æˆ‘ä»¬ä¹‹å‰åœ¨è®¾ç½®ä¸ªäººgitè´¦æˆ·æ—¶å·²ç»ä½¿ç”¨è¿‡äº†ï¼Œæ‰€ä»¥è¿™é‡Œæ–°è®¾ç½®ä¸€ä¸ªé’ˆå¯¹äºå…¬å¸gitè´¦æˆ·çš„åç§° <code>id_rsa_work</code>ã€‚</p>
<p>æ“ä½œè®°å½•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">~&#x2F;.ssh</span><br><span class="line">âœ ssh-keygen -t rsa -C &quot;wuyazi@company.com&quot;</span><br><span class="line">Generating public&#x2F;private rsa key pair.</span><br><span class="line">Enter file in which to save the key (&#x2F;Users&#x2F;leafney&#x2F;.ssh&#x2F;id_rsa): id_rsa_work</span><br><span class="line">Enter passphrase (empty for no passphrase):</span><br><span class="line">Enter same passphrase again:</span><br><span class="line">Your identification has been saved in id_rsa_work.</span><br><span class="line">Your public key has been saved in id_rsa_work.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line">SHA256:gZO6tyeOrp0FLGT5q2kBn3+9Et+P1shzjuyv3rUXWY0 wuyazi@company.com</span><br><span class="line">The key&#39;s randomart image is:</span><br><span class="line">+---[RSA 2048]----+</span><br><span class="line">|                 |</span><br><span class="line">|       o         |</span><br><span class="line">|.     + .      . |</span><br><span class="line">| o o .   .    E .|</span><br><span class="line">|  B .   S    o . |</span><br><span class="line">| o &#x3D; ...    o    |</span><br><span class="line">|  . B oo.o o ..  |</span><br><span class="line">|   &#x3D; Ao.oo*++. . |</span><br><span class="line">|  +&#x3D;B.o+.+BB&#x3D;..  |</span><br><span class="line">+----[SHA256]-----+</span><br><span class="line"></span><br><span class="line">~&#x2F;.ssh took 22s</span><br></pre></td></tr></table></figure>

<h5 id="å°†å¯†é’¥æ·»åŠ åˆ°ssh-agentç®¡ç†"><a href="#å°†å¯†é’¥æ·»åŠ åˆ°ssh-agentç®¡ç†" class="headerlink" title="å°†å¯†é’¥æ·»åŠ åˆ°ssh agentç®¡ç†"></a>å°†å¯†é’¥æ·»åŠ åˆ°ssh agentç®¡ç†</h5><p>é€šè¿‡ssh agentå¯¹å¯†é’¥çš„ç®¡ç†æˆ‘ä»¬å¯ä»¥å®ç°å…å¯†ç æäº¤ã€‚ä½¿ç”¨ <code>ssh-add</code> å‘½ä»¤æ¥å°†æ–°å¢çš„å¯†é’¥æ·»åŠ åˆ° <code>ssh-agent</code> çš„é«˜é€Ÿç¼“å­˜ä¸­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">~&#x2F;.ssh</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;æ·»åŠ ä¹‹å‰æ‰€æ–°ç”Ÿæˆçš„ç”¨äºworkçš„å¯†é’¥</span><br><span class="line">âœ ssh-add ~&#x2F;.ssh&#x2F;id_rsa_work</span><br><span class="line">Identity added: &#x2F;Users&#x2F;leafney&#x2F;.ssh&#x2F;id_rsa_work (&#x2F;Users&#x2F;leafney&#x2F;.ssh&#x2F;id_rsa_work)</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥é€šè¿‡å‘½ä»¤ <code>ssh-add -l</code> æ¥æŸ¥çœ‹å­˜åœ¨äº <code>ssh-agent</code> å¯†é’¥ç®¡ç†å™¨ä¸­æ‰€æœ‰çš„å¯†é’¥åˆ—è¡¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">~&#x2F;.ssh</span><br><span class="line">âœ ssh-add -l</span><br><span class="line">2048 SHA256:gZO6tyeOrp0FLGT5q2kBn3+9Et+P1shzjuyv3rUXWY0 &#x2F;Users&#x2F;leafney&#x2F;.ssh&#x2F;id_rsa_work (RSA)</span><br><span class="line">2048 SHA256:My6EL2r7d20oq01x1PeuRiYJSK2aID3sQlR+xCagPnE &#x2F;Users&#x2F;leafney&#x2F;.ssh&#x2F;id_rsa (RSA)</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œå¦‚æœå‘ç°ä¹‹å‰çš„ <code>id_rsa</code> çš„å¯†é’¥ä¸å­˜åœ¨ï¼Œå¯ä»¥é‡æ–°æ·»åŠ ä¸€ä¸‹ã€‚</p>
<p>å¦‚æœè¦åˆ é™¤æ‰€æœ‰å·²æ·»åŠ çš„å¯†é’¥ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼š<code>ssh-add -D</code> ã€‚</p>
<h4 id="é…ç½®ssh-config"><a href="#é…ç½®ssh-config" class="headerlink" title="é…ç½®ssh config"></a>é…ç½®ssh config</h4><h5 id="ç¼–è¾‘config"><a href="#ç¼–è¾‘config" class="headerlink" title="ç¼–è¾‘config"></a>ç¼–è¾‘config</h5><p><code>SSH</code> ç¨‹åºå¯ä»¥ä»ä»¥ä¸‹é€”å¾„è·å–é…ç½®å‚æ•°ï¼š </p>
<p>ç”¨æˆ·é…ç½®æ–‡ä»¶ï¼š<code>~/.ssh/config</code><br>ç³»ç»Ÿé…ç½®æ–‡ä»¶ï¼š<code>/etc/ssh/ssh_config</code></p>
<p>é…ç½®æ–‡ä»¶å¯åˆ†ä¸ºå¤šä¸ªé…ç½®åŒºæ®µï¼Œæ¯ä¸ªé…ç½®åŒºæ®µä½¿ç”¨ <code>Host</code> æ¥åŒºåˆ†ã€‚æˆ‘ä»¬å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ä¸åŒçš„Hostæ¥åŠ è½½ä¸åŒçš„é…ç½®æ®µã€‚</p>
<p>åœ¨ <code>~/.ssh</code> ç›®å½•ä¸‹æ‰“å¼€é…ç½®æ–‡ä»¶ <code>config</code>(æ²¡æœ‰åˆ™æ–°å¢è¯¥æ–‡ä»¶)ï¼Œå¦‚ä¸‹æ˜¯æˆ‘çš„é…ç½®ç¤ºä¾‹ï¼š</p>
<p>æ–°å¢ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ cd ~&#x2F;.ssh&#x2F;</span><br><span class="line">âœ touch config</span><br></pre></td></tr></table></figure>

<p><code>config</code> å†…å®¹:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Host work</span><br><span class="line">    HostName 111.206.223.205:8080</span><br><span class="line">    User git</span><br><span class="line">    IdentityFile ~&#x2F;.ssh&#x2F;id_rsa_work</span><br><span class="line"></span><br><span class="line">Host github.com</span><br><span class="line">    HostName github.com</span><br><span class="line">    User git</span><br><span class="line">    IdentityFile ~&#x2F;.ssh&#x2F;id_rsa</span><br></pre></td></tr></table></figure>

<h5 id="é…ç½®é¡¹è¯´æ˜"><a href="#é…ç½®é¡¹è¯´æ˜" class="headerlink" title="é…ç½®é¡¹è¯´æ˜"></a>é…ç½®é¡¹è¯´æ˜</h5><p>å¸¸ç”¨çš„SSHé…ç½®é¡¹ï¼š</p>
<ul>
<li><code>Host</code> åˆ«å : <code>Host myhost</code> è¡¨ç¤ºè‡ªå®šä¹‰çš„hostç®€ç§°ï¼Œä»¥åè¿æ¥è¿œç¨‹æœåŠ¡å™¨å°±å¯ä»¥ä½¿ç”¨å‘½ä»¤ <code>ssh myhost</code> (æ³¨æ„ä¸‹é¢æœ‰ç¼©è¿›)</li>
<li><code>HostName</code> ä¸»æœºå : ä¸»æœºåå¯ä»¥æ˜¯ipä¹Ÿå¯ä»¥æ˜¯åŸŸå(å¦‚:github.comæˆ–è€…bitbucket.org);å¦‚æœä¸»æœºåä¸­åŒ…å« <code>%h</code> ï¼Œåˆ™å®é™…ä½¿ç”¨æ—¶ä¼šè¢«å‘½ä»¤è¡Œä¸­çš„ä¸»æœºåæ›¿æ¢ã€‚</li>
<li><code>Port</code> ç«¯å£ : è¡¨ç¤ºæœåŠ¡å™¨open-sshç«¯å£ï¼Œé»˜è®¤22ï¼Œé»˜è®¤æ—¶ä¸€èˆ¬ä¸å†™æ­¤è¡Œ</li>
<li><code>User</code> ç”¨æˆ·å : <code>User git</code> è¡¨ç¤ºç™»å½•sshçš„ç”¨æˆ·åï¼Œå¦‚ <code>git</code></li>
<li><code>IdentityFile</code> ï¼š è¡¨ç¤ºè¯ä¹¦æ–‡ä»¶è·¯å¾„ï¼ˆå¦‚ <code>~/.ssh/id_rsa_*</code>)</li>
</ul>
<p>å…¶ä»–SSHé…ç½®é¡¹ï¼š</p>
<ul>
<li><code>IdentitiesOnly</code> åªæ¥å— SSH Key ç™»å½•  å¯é€‰ <code>yes</code> or <code>no</code></li>
<li><code>PreferredAuthentications</code> å¼ºåˆ¶ä½¿ç”¨Public KeyéªŒè¯</li>
</ul>
<h5 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h5><p>å¦‚ä¸Šï¼Œæˆ‘ç”¨åˆ«å <code>work</code> æŒ‡ä»£äº†å…¬å¸gitlabçš„ipåœ°å€ <code>111.206.223.205:8080</code> ï¼Œä½¿ç”¨ <code>ssh -T</code> å‘½ä»¤æ¥éªŒè¯ä¸€ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ ssh -T git@work</span><br><span class="line">The authenticity of host &#39;111.206.223.205:8080 (111.206.223.205:8080)&#39; can&#39;t be established.</span><br><span class="line">RSA key fingerprint is SHA256:&#x2F;UwiMSDZVkgF+3yLAxHwMJfYGxK2XGk5DU3txRr+LNg.</span><br><span class="line">Are you sure you want to continue connecting (yes&#x2F;no)? yes</span><br><span class="line">Warning: Permanently added &#39;111.206.223.205:8080&#39; (RSA) to the list of known hosts.</span><br><span class="line">Welcome to GitLab, æ— å´–å­!</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ç¬¬ä¸€ç‰ˆç¤ºä¾‹"><a href="#ç¬¬ä¸€ç‰ˆç¤ºä¾‹" class="headerlink" title="ç¬¬ä¸€ç‰ˆç¤ºä¾‹"></a>ç¬¬ä¸€ç‰ˆç¤ºä¾‹</h4><h5 id="é¡¹ç›®clone"><a href="#é¡¹ç›®clone" class="headerlink" title="é¡¹ç›®clone"></a>é¡¹ç›®clone</h5><p>å¦‚ä¸Šçš„æ­¥éª¤é…ç½®å®Œæˆåï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡sshåˆ«åçš„æ–¹å¼æ¥åŒºåˆ†ä½¿ç”¨ä¸åŒçš„SSH Keyäº†ã€‚</p>
<p>åœ¨ <code>clone</code> é¡¹ç›®åˆ°æœ¬åœ°ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œä¸€ä¸ªå°å°çš„æ”¹åŠ¨ã€‚</p>
<p>ä¹‹å‰çš„cloneå‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ git clone git@111.206.223.205:8080:how_to_use_multiple_git_ssh&#x2F;you_can_by_this_way.git</span><br></pre></td></tr></table></figure>

<p>æ›´æ”¹åçš„cloneå‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ git clone git@work:how_to_use_multiple_git_ssh&#x2F;you_can_by_this_way.git</span><br></pre></td></tr></table></figure>

<p>å³æˆ‘ä»¬å°†åŸæ¥sshåœ°å€ä¸­çš„åŸŸåç”¨æˆ‘ä»¬åœ¨é…ç½®æ–‡ä»¶ä¸­çš„åˆ«åæ¥ä»£æ›¿äº†ï¼Œè€Œç›¸åº”çš„åˆ«ååˆå¯¹åº”ç€sshå¯†é’¥æ–‡ä»¶ã€‚</p>
<p>å½“ç„¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æ›´ç²¾ç®€ä¸€ä¸‹ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨<code>config</code> æ–‡ä»¶ä¸­å·²ç»æŒ‡å®šäº†ç”¨æˆ·ä¸º <code>git</code> ï¼Œæ‰€ä»¥å¯å°†è·¯å¾„ä¸­çš„ç”¨æˆ·åä¹Ÿçœç•¥æ‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ git clone work:how_to_use_multiple_git_ssh&#x2F;you_can_by_this_way.git</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ï¼Œçœ‹èµ·æ¥æ˜¯ä¸æ˜¯éå¸¸çš„èˆ’æœå‘¢ï¼Ÿ</p>
<p>è€Œå¦‚æœæˆ‘è¦cloneè‡ªå·±çš„ä¸ªäººé¡¹ç›®ï¼Œåˆ™ä»ç„¶æŒ‰ç…§ä¹‹å‰çš„æ“ä½œå³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ git clone git@github.com:Leafney&#x2F;docker-alpine-mysql.git</span><br></pre></td></tr></table></figure>

<h5 id="è®¾ç½®é¡¹ç›®æäº¤è´¦æˆ·"><a href="#è®¾ç½®é¡¹ç›®æäº¤è´¦æˆ·" class="headerlink" title="è®¾ç½®é¡¹ç›®æäº¤è´¦æˆ·"></a>è®¾ç½®é¡¹ç›®æäº¤è´¦æˆ·</h5><p>åœ¨å°†é¡¹ç›® <code>clone</code> åˆ°æœ¬åœ°ä¹‹åï¼Œè¿˜è¦ä¸ºè¯¥é¡¹ç›®å•ç‹¬è®¾ç½®commitæäº¤æ—¶ä½¿ç”¨çš„gitè´¦æˆ·ã€‚</p>
<p>å› ä¸ºæˆ‘ä»¬åœ¨ä¹‹å‰å·²ç»æŒ‰ç…§ <a href="/2017/03/03/using-ssh-key-connection-github-in-linux/">Linuxä¸‹ä½¿ç”¨SSHå¯†é’¥è¿æ¥Github
</a> æ“ä½œä¸­çš„æ–¹æ³•å°†æˆ‘çš„ä¸ªäººè´¦æˆ· <code>leafney</code> <code>leafney@gmail.com</code> è®¾ç½®ä¸ºäº†å…¨å±€çš„gitè´¦æˆ·ï¼Œåœ¨æäº¤é¡¹ç›®æ—¶å¦‚æœæ²¡æœ‰è®¾ç½®é¡¹ç›®å•ç‹¬çš„gitè´¦æˆ·ï¼Œå°±ä¼šä½¿ç”¨å…¨å±€çš„ï¼Œé‚£è¿™æ ·å°±ä¸å¯¹äº†ã€‚</p>
<p>ä¸åŠ  <code>--global</code> å‚æ•°ï¼Œä¸ºåˆšåˆšcloneä¸‹æ¥çš„å…¬å¸é¡¹ç›®è®¾ç½®å…¬å¸åˆ†é…çš„gitè´¦æˆ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ git config user.name &quot;wuyazi&quot;   # åŒå¼•å·æ˜¯ä¸ºäº†é˜²æ­¢nameä¸­å«æœ‰ç©ºæ ¼è€Œå¯¼è‡´é”™è¯¯</span><br><span class="line">âœ git config user.email &quot;wuyazi@company.com&quot;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±é…ç½®å®Œæˆäº†ã€‚</p>
<hr>
<h4 id="è¿˜èƒ½å†å¿«ä¸€ç‚¹å—"><a href="#è¿˜èƒ½å†å¿«ä¸€ç‚¹å—" class="headerlink" title="è¿˜èƒ½å†å¿«ä¸€ç‚¹å—"></a>è¿˜èƒ½å†å¿«ä¸€ç‚¹å—</h4><p>æ€»ç»“ä¸Šé¢çš„æ“ä½œæ­¥éª¤ï¼Œæ— éæ˜¯è®¾ç½®äº†å¦‚ä¸‹ä¸¤é¡¹ï¼š</p>
<ol>
<li>æŒ‡å®šgité¡¹ç›®ä½¿ç”¨çš„SSH Key</li>
<li>æŒ‡å®šgité¡¹ç›®æäº¤æ—¶ä½¿ç”¨çš„gitè´¦æˆ·</li>
</ol>
<p>é‚£ä¹ˆç¬¬ä¸€æ­¥æˆ‘ä»¬å·²ç»åœ¨sshçš„ <code>config</code> ä¸­åšäº†æŒ‡å®šï¼Œè²Œä¼¼å·²ç»æ˜¯æœ€å¿«çš„æ“ä½œäº†ã€‚é‚£å°±çœ‹çœ‹ç¬¬äºŒé¡¹å¦‚ä½•ä¼˜åŒ–å‘¢ï¼Ÿ</p>
<p>æˆ‘ä»¬æ˜¯åœ¨gité¡¹ç›®cloneåˆ°æœ¬åœ°ä¹‹åï¼Œå†å»ä¸ºè¯¥é¡¹ç›®æ·»åŠ äº†ä½¿ç”¨çš„gitè´¦æˆ·ï¼Œé‚£æ˜¯å¦èƒ½å°†è¿™ä¸¤æ­¥åˆå¹¶ä¸ºä¸€æ­¥å‘¢ï¼Ÿ</p>
<p><strong>ç­”æ¡ˆå½“ç„¶æ˜¯å¯ä»¥çš„ã€‚</strong></p>
<h4 id="è®¾ç½®Base-Zshæ–¹ä¾¿cloneæ“ä½œ"><a href="#è®¾ç½®Base-Zshæ–¹ä¾¿cloneæ“ä½œ" class="headerlink" title="è®¾ç½®Base/Zshæ–¹ä¾¿cloneæ“ä½œ"></a>è®¾ç½®Base/Zshæ–¹ä¾¿cloneæ“ä½œ</h4><p>ä¸ºäº†ä»¥åæ–¹ä¾¿ä½¿ç”¨ä¸åŒgitè´¦æˆ· <code>git clone</code> é¡¹ç›®ï¼Œæˆ‘ä»¬åœ¨ <code>bash</code> çš„ <code>~/.bashrc</code> æˆ–è€… <code>zsh</code> çš„ <code>~/.zshrc</code> å†…åŠ å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">alias work-git-clone&#x3D;&#39;git clone --config user.name&#x3D;&quot;wuyazi&quot; --config user.email&#x3D;&quot;wuyazi@company.com&quot; $@&#39;</span><br></pre></td></tr></table></figure>

<p>ä»¥åå°±åªè¦è¾“å…¥ <code>work-git-clone REPO-SSH-URL</code> ï¼Œæ•ˆæœå°±ç›¸å½“äºæ‰§è¡Œäº†å¦‚ä¸‹çš„å‘½ä»¤:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git clone REPO-SSH-URL</span><br><span class="line">cd REPO</span><br><span class="line">git config user.name &quot;wuyazi&quot;</span><br><span class="line">git config user.email &quot;wuyazi@company.com&quot;</span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼Œæ›´æ–° <code>Bash/Zsh</code> çš„è®¾ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æ›´æ–°Bashè®¾ç½®</span><br><span class="line">âœ source ~&#x2F;.bashrc</span><br><span class="line"></span><br><span class="line"># æ›´æ–°zshè®¾ç½®</span><br><span class="line">âœ source ~&#x2F;.zshrc</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒè‡ªï¼›<a href="https://kuanyui.github.io/2016/08/01/git-multiple-ssh-key/" target="_blank" rel="noopener">å¤šé‡ SSH Keys èˆ‡ Github å¸³è™Ÿ</a></p>
<h4 id="ç¬¬äºŒç‰ˆç¤ºä¾‹"><a href="#ç¬¬äºŒç‰ˆç¤ºä¾‹" class="headerlink" title="ç¬¬äºŒç‰ˆç¤ºä¾‹"></a>ç¬¬äºŒç‰ˆç¤ºä¾‹</h4><p>ç»è¿‡ä¸Šé¢çš„æ“ä½œï¼Œæˆ‘ä»¬åœ¨ <code>git clone</code> å…¬å¸çš„gité¡¹ç›®æ—¶ï¼Œåªéœ€è¦æ‰§è¡Œå¦‚ä¸‹ç®€å•çš„ä¸¤æ­¥å³å¯ï¼š</p>
<p>ç¬¬ä¸€æ­¥ï¼šæ›´æ”¹SSHåœ°å€</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># å°†é¡¹ç›®SSHåœ°å€ï¼š</span><br><span class="line">git@111.206.223.205:8080:how_to_use_multiple_git_ssh&#x2F;you_can_by_this_way.git</span><br><span class="line"># æ›´æ”¹ä¸º:</span><br><span class="line">work:how_to_use_multiple_git_ssh&#x2F;you_can_by_this_way.git</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒæ­¥ï¼šæ‰§è¡Œ <code>work-git-clone</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ work-git-clone work:how_to_use_multiple_git_ssh&#x2F;you_can_by_this_way.git</span><br></pre></td></tr></table></figure>

<p>è€Œæ“ä½œä¸ªäººçš„gité¡¹ç›®ï¼Œå‘½ä»¤åªéœ€è¦ä¸€æ­¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ git clone git@github.com:Leafney&#x2F;docker-alpine-mysql.git</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="æ–°çš„å¤æ‚éœ€æ±‚"><a href="#æ–°çš„å¤æ‚éœ€æ±‚" class="headerlink" title="æ–°çš„å¤æ‚éœ€æ±‚"></a>æ–°çš„å¤æ‚éœ€æ±‚</h4><p>ä¸Šé¢çš„éœ€æ±‚å¯èƒ½æ˜¯ç›¸å¯¹æ¥è¯´æ¯”è¾ƒå¸¸è§è€Œä¸”æ™®é€šçš„ä¸€ç§æƒ…å†µäº†ï¼Œé‚£ä¹ˆä¸‹é¢çš„éœ€æ±‚ç®—æ˜¯ä¸€ç§ç¨å¾®å¤æ‚çš„æƒ…å†µäº†ã€‚</p>
<p>å› ä¸ºåœ¨Githubä¸Šå‘å¸ƒç§æœ‰çš„é¡¹ç›®ï¼Œæ˜¯éœ€è¦ä»˜è´¹çš„ï¼Œæ‰€ä»¥ä¸€èˆ¬é’ˆå¯¹äºä¸ªäººçš„ç§æœ‰é¡¹ç›®ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šé€‰æ‹©è‡ªå·±è´­ä¹°æœåŠ¡å™¨æ¥æ­å»ºå±äºè‡ªå·±çš„ç§æœ‰ä¸ªäººä»“åº“ï¼Œæ¯”å¦‚æˆ‘è‡ªå·±çš„ <code>gogit.itfanr.cc</code> å°±æ˜¯æˆ‘ç”¨å¼€æºé¡¹ç›® <code>Gogs</code> æ¥æ­å»ºçš„ã€‚æœ‰å…´è¶£å¯æŸ¥çœ‹æˆ‘çš„å¼€æºé¡¹ç›®ï¼š<a href="https://github.com/Leafney/ubuntu-gogs" target="_blank" rel="noopener">Docker Ubuntu-Gogs ç”¨æ›´ç®€å•çš„æ–¹å¼éƒ¨ç½²ã€å‡çº§æˆ–è¿ç§»GogsæœåŠ¡ã€‚</a> ã€‚</p>
<p>é‚£ä¹ˆï¼Œç°åœ¨å°±å‡ºç°äº†ä¸‹é¢çš„å››ç§æƒ…å†µï¼š</p>
<ol>
<li>å¯¹äºæˆ‘ä¸ªäººæƒ³è¦å¼€æºçš„ä»£ç é¡¹ç›®ï¼Œæˆ‘ä¼šé€‰æ‹©ä½¿ç”¨ä¸ªäººè´¦æˆ·å‘å¸ƒåˆ° <code>github.com</code> ç«™ç‚¹ä¸‹ï¼›</li>
<li>å¯¹äºæˆ‘ä¸ªäººçš„ç§æœ‰ä»£ç é¡¹ç›®ï¼Œæˆ‘ä¼šé€‰æ‹©ä½¿ç”¨ä¸ªäººè´¦æˆ·å‘å¸ƒåˆ°æˆ‘è‡ªå·±æ­å»ºçš„ <code>gogit.itfanr.cc</code> ä»“åº“ç«™ç‚¹ä¸‹ï¼›</li>
<li>å¯¹äºå…¬å¸çš„ç§æœ‰é¡¹ç›®ï¼Œæˆ‘è¦é€‰æ‹©ä½¿ç”¨å…¬å¸åˆ†é…çš„gitè´¦æˆ·å‘å¸ƒåˆ°å…¬å¸æ­å»ºçš„ç§æœ‰ä»“åº“ <code>111.206.223.205:8080</code> ç«™ç‚¹ä¸‹ï¼›</li>
<li>å¯¹äºæˆ‘åœ¨å·¥ä½œä¸­çš„ä¸€äº›ç§¯ç´¯æˆ–ç§äººçš„é¡¹ç›®ï¼Œæˆ‘æƒ³ä½¿ç”¨å…¬å¸åˆ†é…çš„gitè´¦æˆ·å‘å¸ƒåˆ°æˆ‘ä¸ªäººçš„ <code>gogit.itfanr.cc</code> ä»“åº“ç«™ç‚¹ä¸‹ï¼›</li>
</ol>
<h5 id="ä¿®æ”¹ssh-config"><a href="#ä¿®æ”¹ssh-config" class="headerlink" title="ä¿®æ”¹ssh config"></a>ä¿®æ”¹ssh config</h5><p>ç»è¿‡ä¸Šé¢çš„æ­¥éª¤ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“çš„å°±çŸ¥é“æƒ³è¦å®ç°ä¸Šé¢çš„éœ€æ±‚ï¼Œåªéœ€è¦é€šè¿‡ä¿®æ”¹SSHçš„é…ç½®æ–‡ä»¶ <code>config</code> ä¸­çš„é…ç½®å³å¯å®ç°ã€‚</p>
<p>å¯¹äºå…¬å¸çš„é¡¹ç›®ï¼Œé’ˆå¯¹äºä¸Šé¢ç¬¬3ä¸ªæƒ…å†µï¼Œæˆ‘ä»¬ä»ç„¶å¦‚ä¹‹å‰çš„é…ç½®å³å¯ï¼š</p>
<p><code>config</code> :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># company repo account</span><br><span class="line">Host work</span><br><span class="line">    HostName 111.206.223.205:8080</span><br><span class="line">    User git</span><br><span class="line">    IdentityFile ~&#x2F;.ssh&#x2F;id_rsa_work</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆåœ¨cloneé¡¹ç›®æ—¶çš„æ“ä½œå¦‚ä¸‹ï¼š</p>
<ol>
<li><p>æ›´æ”¹é¡¹ç›®SSHåœ°å€ä¸­çš„åŸŸåéƒ¨åˆ†ï¼›</p>
</li>
<li><p>æ‰§è¡Œå‘½ä»¤ï¼š</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ work-git-clone work:how_to_use_multiple_git_ssh&#x2F;you_can_by_this_way.git</span><br></pre></td></tr></table></figure>

<hr>
<p>å¯¹äºå·¥ä½œä¸­çš„ç§äººé¡¹ç›®ï¼Œæˆ‘ä»¬è¦ä½¿ç”¨å…¬å¸çš„gitè´¦æˆ·æ¥å‘å¸ƒåˆ°æˆ‘çš„ä¸ªäººä»“åº“ç«™ç‚¹ <code>gogit.itfanr.cc</code>ã€‚é…ç½®æ—¶æˆ‘ä»¬è¿˜éœ€è¦æŒ‡å®šä½¿ç”¨å¯†é’¥ <code>id_rsa_work</code> ï¼š</p>
<p><code>config</code> :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># wuyazi private repo account</span><br><span class="line">Host wuyazigogit</span><br><span class="line">    HostName gogit.itfanr.cc</span><br><span class="line">    User git</span><br><span class="line">    IdentityFile ~&#x2F;.ssh&#x2F;id_rsa_work</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆåœ¨cloneé¡¹ç›®æ—¶çš„æ“ä½œå¦‚ä¸‹ï¼š</p>
<ol>
<li>æ›´æ”¹é¡¹ç›®SSHåœ°å€ä¸­çš„åŸŸåéƒ¨åˆ†ï¼›</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># å¦‚å°†: </span><br><span class="line">ssh:&#x2F;&#x2F;git@gogit.itfanr.cc:9527&#x2F;wuyazi&#x2F;repo_for_myself.git</span><br><span class="line"># æ›´æ”¹ä¸º:</span><br><span class="line">ssh:&#x2F;&#x2F;git@wuyazigogit:9527&#x2F;wuyazi&#x2F;repo_for_myself.git</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>æ‰§è¡Œå‘½ä»¤ï¼š</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">work-git-clone ssh:&#x2F;&#x2F;git@wuyazigogit:9527&#x2F;wuyazi&#x2F;repo_for_myself.git</span><br></pre></td></tr></table></figure>

<p><strong>2019-02-11-æ›´æ–°</strong></p>
<p>åœ¨ä¸Šé¢çš„ <a href="#é…ç½®é¡¹è¯´æ˜">é…ç½®é¡¹è¯´æ˜</a> ä¸­ä¹Ÿæœ‰æŒ‡å‡ºï¼Œå¦‚æœä½ çš„sshé“¾æ¥ä¸­ä¸æ˜¯é»˜è®¤çš„ç«¯å£ <code>22</code> å¦‚ <code>ssh://git@gogit.itfanr.cc:9527/wuyazi/repo_for_myself.git</code> ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡å‚æ•° <code>Port</code> æ¥æŒ‡å®šï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># wuyazi private repo account</span><br><span class="line">Host wuyazigogit</span><br><span class="line">    HostName gogit.itfanr.cc</span><br><span class="line">    Port 9527</span><br><span class="line">    User git</span><br><span class="line">    IdentityFile ~&#x2F;.ssh&#x2F;id_rsa_work</span><br></pre></td></tr></table></figure>

<p>åˆ™ï¼Œåé¢æ‰§è¡Œçš„å‘½ä»¤å°±æ˜¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">work-git-clone ssh:&#x2F;&#x2F;git@wuyazigogit&#x2F;wuyazi&#x2F;repo_for_myself.git</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ï¼Œçœ‹èµ·æ¥æ›´ç®€æ´ä¸€äº›äº†ã€‚</p>
<hr>
<p>å› ä¸ºæˆ‘çš„ä¸ªäººè´¦æˆ·æ˜¯ä½œä¸ºå…¨å±€è´¦æˆ·æ¥ä½¿ç”¨çš„ï¼Œå°±æ˜¯è¯´åœ¨ <code>config</code> æ–‡ä»¶ä¸­å¦‚æœä¸Šé¢çš„ <code>Host</code> éƒ¨åˆ†æ²¡æœ‰åŒ¹é…ä¸Šï¼Œé‚£ä¹ˆè¦ä¿è¯æœ€åä¸€ä¸ª <code>Host</code> åŒ¹é…åˆ°æˆ‘çš„ä¸ªäººgitè´¦æˆ·ã€‚å†æ¬¡å›é¡¾ <code>config</code> é…ç½®é¡¹ä¸­çš„å¸¸ç”¨å‚æ•°ï¼Œæˆ‘ä»¬å‘ç° <code>HostName</code> é™¤äº†å¯ä»¥è®¾ç½®åŸŸåæˆ–ipåœ°å€ä¹‹å¤–ï¼Œè¿˜å¯ä»¥è®¾ç½®ä¸º <code>%h</code> ï¼Œè¡¨ç¤º<strong>å®é™…ä½¿ç”¨æ—¶ä¼šè¢«å‘½ä»¤è¡Œä¸­çš„ä¸»æœºåæ›¿æ¢</strong>ã€‚</p>
<p>æ‰€ä»¥ï¼Œä¸ºäº†å®ç°ä¸Šé¢çš„ç¬¬1ç§å’Œç¬¬2ç§æƒ…å†µï¼Œä»¥åŠå®ç°å¯¹æœªç‰¹æ®Šè¯´æ˜çš„é¡¹ç›®çš„é»˜è®¤åŒ¹é…ï¼Œæˆ‘ç”¨å¦‚ä¸‹çš„æ–¹å¼æ¥é…ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># leafney default account for github.com or gogit.itfanr.cc</span><br><span class="line">Host github.com gogit.itfanr.cc</span><br><span class="line">    HostName %h</span><br><span class="line">    User git</span><br><span class="line">    IdentityFile ~&#x2F;.ssh&#x2F;id_rsa</span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸Šï¼Œé’ˆå¯¹äºä¸åŒä¸»æœºåœ°å€ä½¿ç”¨åŒä¸€ç§é’¥è¿›è¡Œç™»å½•çš„æƒ…å†µï¼Œå¯ä»¥åœ¨ <code>Host</code> ä¸­æŒ‡å®šå¤šä¸ªåˆ«åæ¥åŒ¹é…ï¼Œè€Œ <code>HostName</code> ä¸­çš„ <code>%h</code> ä¼šè‡ªåŠ¨åŒ¹é…ç”¨æˆ·è¾“å…¥çš„sshåœ°å€ä¸­çš„åŸŸåéƒ¨åˆ†ï¼Œæ¥åŒ¹é…åˆ°å¯¹åº”çš„å¯†é’¥ã€‚</p>
<p>é‚£ä¹ˆåœ¨cloneé¡¹ç›®æ—¶çš„æ“ä½œå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git clone git@github.com:Leafney&#x2F;ubuntu-gogs.git</span><br></pre></td></tr></table></figure>

<p>ç»¼ä¸Šï¼Œæˆ‘çš„ <code>config</code> é…ç½®å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># company repo account</span><br><span class="line">Host work</span><br><span class="line">    HostName 111.206.223.205:8080</span><br><span class="line">    User git</span><br><span class="line">    IdentityFile ~&#x2F;.ssh&#x2F;id_rsa_work</span><br><span class="line"></span><br><span class="line"># wuyazi private repo account</span><br><span class="line">Host wuyazigogit</span><br><span class="line">    HostName gogit.itfanr.cc</span><br><span class="line">    User git</span><br><span class="line">    IdentityFile ~&#x2F;.ssh&#x2F;id_rsa_work</span><br><span class="line"></span><br><span class="line"># leafney default account for github.com or gogit.itfanr.cc</span><br><span class="line">Host github.com gogit.itfanr.cc</span><br><span class="line">    HostName %h</span><br><span class="line">    User git</span><br><span class="line">    IdentityFile ~&#x2F;.ssh&#x2F;id_rsa</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="æ–°å¢é¡¹ç›®é…ç½®"><a href="#æ–°å¢é¡¹ç›®é…ç½®" class="headerlink" title="æ–°å¢é¡¹ç›®é…ç½®"></a>æ–°å¢é¡¹ç›®é…ç½®</h4><p>ä¸Šé¢çš„æ“ä½œä¸­è¯´åˆ°çš„æ–¹æ³•ä¸€èˆ¬é€‚ç”¨çš„åœºæ™¯æ¯”å¦‚ä½ å»åˆ°ä¸€å®¶æ–°å…¬å¸ï¼Œç„¶åä¼šç»™ä½ åˆ†é…å…¬å¸çš„é‚®ç®±åŠgitè´¦å·ï¼Œä»¥åŠå…¬å¸é¡¹ç›®çš„ç§æœ‰gitç«™ç‚¹ï¼Œç›´æ¥ä»ç«™ç‚¹ä¸Šé¢ <code>clone</code> é¡¹ç›®åˆ°ä½ çš„å¼€å‘ç”µè„‘ä¸Šï¼Œè¿™äº›é¡¹ç›®ä¸€èˆ¬éƒ½æ˜¯å…¬å¸å·²æœ‰çš„é¡¹ç›®äº†ã€‚</p>
<p>æŸäº›æƒ…å†µä¸‹ï¼Œå¯èƒ½éœ€è¦ä½ æ–°å¢ä¸€ä¸ªå…¬å¸çš„é¡¹ç›®ï¼Œé‚£å¯¹äºæ–°å¢å…¬å¸çš„é¡¹ç›®æ—¶ï¼Œæˆ‘ä»¬è¦å¦‚ä½•ä½¿ç”¨æŒ‡å®šçš„SSHè´¦æˆ·æ¥æ“ä½œå‘¢ï¼Ÿ</p>
<p>ä¸€èˆ¬çš„æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<h5 id="åˆå§‹åŒ–é¡¹ç›®"><a href="#åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="åˆå§‹åŒ–é¡¹ç›®"></a>åˆå§‹åŒ–é¡¹ç›®</h5><p>åœ¨ä½ çš„å¼€å‘ç”µè„‘ä¸Šï¼Œæ–°å¢ä¸€ä¸ªgitç®¡ç†çš„é¡¹ç›®ã€‚åœ¨é¡¹ç›®ç›®å½•ä¸‹ä½¿ç”¨ <code>git init</code> æ¥åˆå§‹åŒ–ã€‚</p>
<h5 id="è®¾ç½®é¡¹ç›®gitè´¦æˆ·"><a href="#è®¾ç½®é¡¹ç›®gitè´¦æˆ·" class="headerlink" title="è®¾ç½®é¡¹ç›®gitè´¦æˆ·"></a>è®¾ç½®é¡¹ç›®gitè´¦æˆ·</h5><p>æ³¨æ„ï¼Œè¿™é‡Œå°±æ˜¯æœ€å…³é”®çš„ä¸€æ­¥äº†ã€‚æˆ‘ä»¬è¦ä¸ºè¯¥æ–°å¢çš„é¡¹ç›®åˆ›å»ºé’ˆå¯¹äºè¯¥é¡¹ç›®çš„gitè´¦æˆ·ã€‚åœ¨ä¸Šé¢çš„æµç¨‹ä¸­ä¹Ÿæåˆ°è¿‡ï¼Œè¦ä½¿ç”¨ä¸åŠ  <code>--global</code> çš„å‘½ä»¤æ¥è®¾ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git config user.name &quot;wuyazi&quot;</span><br><span class="line">git config user.email &quot;wuyazi@company.com&quot;</span><br></pre></td></tr></table></figure>

<h5 id="åˆ›å»ºè¿œç«¯é¡¹ç›®"><a href="#åˆ›å»ºè¿œç«¯é¡¹ç›®" class="headerlink" title="åˆ›å»ºè¿œç«¯é¡¹ç›®"></a>åˆ›å»ºè¿œç«¯é¡¹ç›®</h5><p>ç„¶åå°±æ˜¯åœ¨å…¬å¸çš„ç§æœ‰gitç«™ç‚¹ä¸Šåˆ›å»ºä¸€ä¸ªç©ºé¡¹ç›®ã€‚ä¸€èˆ¬åœ¨åˆ›å»ºå®Œæˆåéƒ½ä¼šæœ‰ç±»ä¼¼äºä¸‹é¢çš„ä¸€ä¸ªæç¤ºé¡µé¢ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ä»å‘½ä»¤è¡Œåˆ›å»ºä¸€ä¸ªæ–°çš„ä»“åº“</span><br><span class="line">touch README.md</span><br><span class="line">git init</span><br><span class="line">git add README.md</span><br><span class="line">git commit -m &quot;first commit&quot;</span><br><span class="line">git remote add origin ssh:&#x2F;&#x2F;git@111.206.223.205:8080:how_to_use_multiple_git_ssh&#x2F;new.git</span><br><span class="line">git push -u origin master</span><br><span class="line"></span><br><span class="line">ä»å‘½ä»¤è¡Œæ¨é€å·²ç»åˆ›å»ºçš„ä»“åº“</span><br><span class="line">git remote add origin ssh:&#x2F;&#x2F;git@111.206.223.205:8080:how_to_use_multiple_git_ssh&#x2F;new.git</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>

<h5 id="æäº¤åˆ°è¿œç«¯ä»“åº“"><a href="#æäº¤åˆ°è¿œç«¯ä»“åº“" class="headerlink" title="æäº¤åˆ°è¿œç«¯ä»“åº“"></a>æäº¤åˆ°è¿œç«¯ä»“åº“</h5><p>å¯¹äºåªæœ‰ä¸€ä¸ªSSHå¯†é’¥çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¦å°†æœ¬åœ°é¡¹ç›®æäº¤åˆ°è¿œç«¯ï¼Œåªè¦æ‰§è¡Œé¡µé¢ä¸­åé¢è¿™ä¸¤å¥å°±å¯ä»¥äº†ã€‚è€Œç°åœ¨æˆ‘ä»¬è¦å°†æœ¬åœ°æ–°å¢çš„å…¬å¸é¡¹ç›®ä½¿ç”¨æˆ‘çš„å…¬å¸gitè´¦æˆ·æäº¤åˆ°å…¬å¸çš„ç§æœ‰gitç«™ç‚¹ä¸Šï¼Œé¦–å…ˆå‘¢è¿˜æ˜¯éœ€è¦æ›´æ”¹ä¸€ä¸‹æäº¤çš„é¡¹ç›®åœ°å€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># å°†é¡¹ç›®SSHåœ°å€ï¼š</span><br><span class="line">ssh:&#x2F;&#x2F;git@111.206.223.205:8080:how_to_use_multiple_git_ssh&#x2F;new.git</span><br><span class="line"># æ›´æ”¹ä¸º:</span><br><span class="line">ssh:&#x2F;&#x2F;work:how_to_use_multiple_git_ssh&#x2F;new.git</span><br></pre></td></tr></table></figure>

<p>ç„¶åæˆ‘ä»¬å°±å¯ä»¥æ‰§è¡Œä¸Šé¢ä¸¤æ¡å‘½ä»¤äº†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git remote add origin ssh:&#x2F;&#x2F;work:how_to_use_multiple_git_ssh&#x2F;new.git</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>

<h5 id="æœ‰æ²¡æœ‰ç®€æ´å‘½ä»¤"><a href="#æœ‰æ²¡æœ‰ç®€æ´å‘½ä»¤" class="headerlink" title="æœ‰æ²¡æœ‰ç®€æ´å‘½ä»¤"></a>æœ‰æ²¡æœ‰ç®€æ´å‘½ä»¤</h5><p>å¯èƒ½æœ‰çš„æœ‹å‹ä¼šæƒ³äº†ï¼Œåœ¨ä¹‹å‰ <code>clone</code> å·²æœ‰é¡¹ç›®æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€æ¡ç®€æ´çš„å‘½ä»¤ï¼š <code>work-git-clone work:how_to_use_multiple_git_ssh/you_can_by_this_way.git</code> æ¥ç›´æ¥çœç•¥äº†å•ç‹¬è®¾ç½®gitæ“ä½œè´¦æˆ·çš„æ­¥éª¤ï¼Œé‚£åœ¨æ–°å¢æ—¶ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥æœ‰ç±»ä¼¼çš„æ“ä½œå‘¢ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯å¦å®šçš„ã€‚</p>
<p>å› ä¸º <code>git clone</code> å‘½ä»¤æ˜¯å¯ä»¥æ¥æ”¶ <code>--config</code> å‚æ•°çš„ï¼Œä»¥ä¾¿åœ¨cloneçš„åŒæ—¶æŒ‡å®šé…ç½®ï¼›è€Œ <code>git push</code> å‘½ä»¤å´æ˜¯æ²¡æœ‰è¯¥é¡¹çš„ã€‚å…·ä½“çš„å¯ä»¥é€šè¿‡å‘½ä»¤ <code>git clone help</code> å’Œ <code>git push help</code> æ¥è¯¦ç»†äº†è§£ã€‚</p>
<p>è‡³æ­¤ï¼Œåé¢çš„æ“ä½œå°±æ˜¯å¸¸ç”¨çš„ <code>pull</code> å’Œ <code>push</code> ç­‰æ“ä½œäº†ã€‚</p>
<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="https://blog.kinpzz.com/2016/02/12/muti-git-ssh-management/" target="_blank" rel="noopener">åŒä¸€è®¾å¤‡å¤šä¸ªgitè´¦å·çš„sshç®¡ç†</a></li>
<li><a href="https://gist.github.com/yeungeek/596984fd9e53d6c36c0d" target="_blank" rel="noopener">Gitå¤šå¸å·é…ç½®
</a></li>
<li><a href="https://www.hi-linux.com/posts/14346.html" target="_blank" rel="noopener">åˆ©ç”¨SSHçš„ç”¨æˆ·é…ç½®æ–‡ä»¶Configç®¡ç†SSHä¼šè¯</a></li>
<li><a href="https://kuanyui.github.io/2016/08/01/git-multiple-ssh-key/" target="_blank" rel="noopener">å¤šé‡ SSH Keys èˆ‡ Github å¸³è™Ÿ</a></li>
</ul>
]]></content>
      <categories>
        <category>Gitæ“ä½œç³»åˆ—</category>
      </categories>
      <tags>
        <tag>GitHub</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoåšå®¢åŠŸèƒ½ä¼˜åŒ–äºŒ</title>
    <url>/2018/03/11/hexo-blog-optimization-two/</url>
    <content><![CDATA[<p>ä»‹ç»Hexoåšå®¢åŠŸèƒ½ä¼˜åŒ–é¡¹ã€‚</p>
<h4 id="å°†â€œæ‰“èµâ€ä¸¤å­—æ›´æ”¹ä¸ºâ€œé¼“åŠ±â€"><a href="#å°†â€œæ‰“èµâ€ä¸¤å­—æ›´æ”¹ä¸ºâ€œé¼“åŠ±â€" class="headerlink" title="å°†â€œæ‰“èµâ€ä¸¤å­—æ›´æ”¹ä¸ºâ€œé¼“åŠ±â€"></a>å°†â€œæ‰“èµâ€ä¸¤å­—æ›´æ”¹ä¸ºâ€œé¼“åŠ±â€</h4><p>ä¸€ç›´è§‰å¾— â€œæ‰“èµâ€ ä¸¤ä¸ªå­—ä¸å¤ªé€‚åˆåšå®¢è¿™ç§è¯­å¢ƒï¼Œæå¾—åƒæ˜¯æ‚è€å®Œäº†å‘å›´è§‚ç¾¤ä¼—è¦èµé’±çš„æ„Ÿè§‰ï¼šâ€œæœ‰é’±çš„æ§ä¸ªé’±åœºï¼Œæ²¡é’±çš„æ§ä¸ªäººåœºâ€¦â€ ã€‚å†™ä½œï¼Œæœ¬æ¥å°±æ˜¯åœ¨å­¦ä¹ æŠ€æœ¯çš„è·¯ä¸Šä¸€æ¬¡æ¬¡æ€»ç»“ï¼Œäº¦æˆ–å’Œå¿—åŒé“åˆçš„æŠ€æœ¯äººçš„ä¸€æ¬¡æ¬¡è®¨è®ºï¼Œæ— å…³é‡‘é’±æˆ–å…¶ä»–ã€‚<br>è€Œâ€œé¼“åŠ±â€åˆ™æ›´é€‚åˆè¿™ç§è¯­å¢ƒã€‚å¦‚æœæˆ‘çš„æ–‡ç« å¸®åˆ°äº†ä½ ï¼Œè™½ç„¶ä¸èƒ½æ”¹å˜ä¸–ç•Œï¼Œä½†ä¹Ÿè®¸ä¸ºä½ èŠ‚çœäº†ä¸€äº›æ—¶é—´ï¼Œäº¦æˆ–åœ¨ä½ è¿›å…¥ä¸€ä¸ªæŠ€æœ¯æ­»è§’ä¸€ç›´å‡ºä¸æ¥çš„æƒ…å†µä¸‹ï¼Œå¸¦æ¥çš„ä¸€ç‚¹ç‚¹å¸Œæœ›æˆ–æ˜¯çµæ„Ÿã€‚ä½ è§‰å¾—æˆ‘çš„æ–‡ç« å¯¹ä½ å¸¦æ¥äº†å¸®åŠ©ï¼Œé€æˆ‘ä¸€æ¯å’–å•¡ï¼Œæˆ‘å†…å¿ƒæ˜¯éå¸¸é«˜å…´åœ°ã€‚å¦‚æœä½ è¿˜æƒ³å¤šèŠä¸¤å¥ï¼Œæˆ‘ä¹Ÿä¼šæ„Ÿåˆ°éå¸¸è£å¹¸ã€‚</p>
<p>ç›¸åº”çš„ä¿®æ”¹æ–¹æ³•æ˜¯ï¼š</p>
<p>æ‰¾åˆ°é¡¹ç›®ç›®å½•ä¸‹ <code>/themes/next/languages/zh-Hans.yml</code> æ–‡ä»¶ï¼Œå› ä¸ºæˆ‘çš„åšå®¢é‡‡ç”¨çš„æ˜¯ä¸­æ–‡ã€‚è¿™é‡Œå¯ä»¥æŒ‰ç…§è‡ªå·±çš„åšå®¢è®¾ç½®é€‰æ‹©ç›¸åº”çš„è¯­è¨€æ–‡ä»¶ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">reward:</span><br><span class="line">  donate: é¼“åŠ± #æ‰“èµ</span><br><span class="line">  wechatpay: å¾®ä¿¡æ”¯ä»˜</span><br><span class="line">  alipay: æ”¯ä»˜å®</span><br><span class="line">  bitcoin: æ¯”ç‰¹å¸</span><br></pre></td></tr></table></figure>

<p>æ‰¾åˆ° <code>reward</code> éƒ¨åˆ†ï¼Œå°† <code>donate</code> çš„å€¼ä¿®æ”¹ä¸ºè‡ªå·±æƒ³è¦çš„å†…å®¹å³å¯ã€‚è¿™é‡Œæˆ‘æµ‹è¯•äº†ä¸€ä¸‹ï¼Œæœ€é•¿æ˜¯4ä¸ªæ±‰å­—ï¼Œå¦åˆ™å°±è¦ä¿®æ”¹æŒ‰é’®çš„æ ·å¼äº†ã€‚</p>
<p><code>2021-04-18</code> æ›´æ–°ï¼š</p>
<p>å¯¹äºå½“å‰æœ€æ–°çš„ <code>next</code> ä¸»é¢˜ï¼š <code>Theme version: 7.8.0+a7a948a</code> ï¼Œéœ€è¦æ‰¾åˆ°æ–‡ä»¶ <code>themes/next/languages/zh-CN.yml</code> æ–‡ä»¶ï¼Œæ‰¾åˆ°å…¶ä¸­çš„ <code>reward</code> éƒ¨åˆ†ä¿®æ”¹å³å¯ã€‚è¿™é‡Œçš„å­—æ•°æ²¡æœ‰é™åˆ¶ã€‚</p>
<hr>
<h4 id="å…³äºè¯„è®º"><a href="#å…³äºè¯„è®º" class="headerlink" title="å…³äºè¯„è®º"></a>å…³äºè¯„è®º</h4><p>è‡ªæ­¤è¯„è®ºæ’ä»¶ â€œå¤šè¯´â€ å…³é—­ä¹‹åï¼Œæˆ‘å°±æŠŠåšå®¢ä¸­çš„è¯„è®ºåŠŸèƒ½å»æ‰äº†ï¼Œå› ä¸ºç¡®å®æ²¡æœ‰æ‰¾åˆ°ä¸€æ¬¾å¿ƒä»ªçš„è¯„è®ºæ’ä»¶ã€‚</p>
<p>ç›®å‰çš„è¯ï¼Œä¹Ÿåªæ˜¯åœ¨åšå®¢çš„ â€œå…³äºâ€ é¡µé¢åŠ äº†ä¸€ä¸ª <code>email</code> åœ°å€èƒ½å¤Ÿç«‹å³è”ç³»åˆ°æˆ‘ã€‚</p>
<p>å› ä¸ºæˆ‘çš„é‚®ç®±æ‰‹æœºå®¢æˆ·ç«¯æ˜¯24å°æ—¶åœ¨çº¿çš„ï¼Œè®©æˆ‘æ„Ÿåˆ°é«˜å…´çš„æ˜¯ç¡®å®è¿˜æœ‰ä¸€äº›æœ‹å‹é€šè¿‡é‚®ä»¶å‘æˆ‘å’¨è¯¢æŠ€æœ¯é—®é¢˜ï¼Œæˆ‘éƒ½ä¸€ä¸€ä¸ºä»–ä»¬åšäº†è§£ç­”ã€‚ä¹‹å‰è¿˜è§‰å¾—è¿™ä¸ªé‚®ç®±åœ°å€æ”¾åœ¨â€œå…³äºâ€ é¡µé¢ä¼šæ¯”è¾ƒéšè”½ï¼Œä»Šå¤©ç¨å¾®æ”¹ç‰ˆäº†ä¸€ä¸‹ï¼Œåœ¨æ¯ç¯‡æ–‡ç« çš„æœ«å°¾éƒ½åŠ ä¸Šäº† <code>email</code> åœ°å€ï¼Œä»¥æ–¹ä¾¿äº¤æµã€‚</p>
<p>è¿™æ®µæç¤ºæ–‡å­—æˆ‘æ˜¯ç›´æ¥åŠ åœ¨äº† <code>next</code> ä¸»é¢˜é…ç½®æ–‡ä»¶ <code>_config.yml</code> ä¸­çš„ <code>Reward æ‰“èµåŠŸèƒ½</code> éƒ¨åˆ†ã€‚</p>
<p>åŸæ¥çš„æ‰“èµåŠŸèƒ½æç¤ºæ–‡å­— <code>reward_comment</code> å‚æ•°ï¼Œå¦‚æœæ·»åŠ çš„å­—ç¬¦å¤ªå¤šçš„è¯ï¼Œå°±ä¼šå¯¼è‡´è‡ªåŠ¨æ¢è¡Œã€‚æ‰€ä»¥è¿™é‡Œæˆ‘ä¿®æ”¹äº†ä¸€ä¸‹é¡µé¢æ–‡ä»¶ã€‚</p>
<p>æ‰¾åˆ°ç›®å½•ä¸‹ <code>/themes/next/layout/_macro/reward.swig</code> æ–‡ä»¶ï¼Œæ‰¾åˆ°ç¬¬äºŒè¡Œçš„ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;&#123;&#123; theme.reward_comment &#125;&#125;&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>éƒ¨åˆ†å†å¤åˆ¶ä¸€è¡Œï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div style&#x3D;&quot;padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;&quot;&gt;</span><br><span class="line">  &lt;div&gt;&#123;&#123; theme.reward_comment &#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;div&gt;&#123;&#123; theme.reward_comment2 &#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;button id&#x3D;&quot;rewardButton&quot; disable&#x3D;&quot;enable&quot; onclick&#x3D;&quot;var qr &#x3D; document.getElementById(&#39;QR&#39;); if (qr.style.display &#x3D;&#x3D;&#x3D; &#39;none&#39;) &#123;qr.style.display&#x3D;&#39;block&#39;;&#125; else &#123;qr.style.display&#x3D;&#39;none&#39;&#125;&quot;&gt;</span><br><span class="line">    &lt;span&gt;&#123;&#123; __(&#39;reward.donate&#39;) &#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">  &lt;&#x2F;button&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;QR&quot; style&#x3D;&quot;display: none;&quot;&gt;</span><br><span class="line">...</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>æˆ‘è¿™é‡Œå°±ç›´æ¥æ”¹æˆäº† <code>theme.reward_comment2</code> ã€‚ç„¶ååœ¨ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ä¸­ä¹Ÿæ·»åŠ ä¸€ä¸ª <code>reward_comment2</code> éƒ¨åˆ†å³å¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Reward æ‰“èµåŠŸèƒ½</span><br><span class="line">reward_comment: åšæŒåŸåˆ›æŠ€æœ¯åˆ†äº«ï¼Œæ‚¨çš„æ”¯æŒå°†é¼“åŠ±æˆ‘ç»§ç»­åˆ›ä½œï¼</span><br><span class="line">reward_comment2: å¦‚æœ‰ç–‘é—®æˆ–éœ€è¦æŠ€æœ¯è®¨è®ºï¼Œè¯·å‘é‚®ä»¶åˆ° service@itfanr.cc</span><br><span class="line">wechatpay: &#x2F;images&#x2F;wechat-reward-image.jpg</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="é¡µé¢è½½å…¥è¿›åº¦"><a href="#é¡µé¢è½½å…¥è¿›åº¦" class="headerlink" title="é¡µé¢è½½å…¥è¿›åº¦"></a>é¡µé¢è½½å…¥è¿›åº¦</h4><p>è¿™ä¸ªæ•ˆæœä¹Ÿæ˜¯åˆšåˆšæŸ¥çœ‹é…ç½®æ–‡ä»¶çš„æ—¶å€™å¶ç„¶çœ‹åˆ°çš„ã€‚</p>
<p>ä¹‹å‰å°±æ›¾çœ‹åˆ«äººçš„åšå®¢åšçš„ç‰¹åˆ«ç‚«ã€‚é¡µé¢å¤´éƒ¨å¯ä»¥æ˜¾ç¤ºä¸€ä¸ªåŠ è½½è¿›åº¦æ¡ï¼Œéå¸¸çš„ç¾¡æ…•ã€‚</p>
<p>åœ¨ <code>next</code> ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ <code>_config.yml</code> ä¸­ æ‰¾åˆ° <code>pace: false</code> å°†å…¶æ”¹ä¸º <code>pace: true</code> å³å¯ã€‚</p>
<p>åœ¨ä¸‹é¢å¯ä»¥é€‰æ‹©ä¸åŒçš„åŠ è½½ä¸»é¢˜æ ·å¼ï¼Œé€šè¿‡ <code>pace_theme</code> å‚æ•°è®¾ç½®ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pace: true</span><br><span class="line"># Themes list:</span><br><span class="line">#pace-theme-big-counter</span><br><span class="line">#pace-theme-bounce</span><br><span class="line">#  ...</span><br><span class="line">pace_theme: pace-theme-flash</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="æ„Ÿè°¢æ”¯æŒ"><a href="#æ„Ÿè°¢æ”¯æŒ" class="headerlink" title="æ„Ÿè°¢æ”¯æŒ"></a>æ„Ÿè°¢æ”¯æŒ</h4><p>æˆªæ­¢ç›®å‰ä¸ºæ­¢ï¼Œå…±æ”¶åˆ°äº†3ä½æœ‹å‹çš„æ‰«ç çº¢åŒ…é¼“åŠ±ï¼Œåœ¨è¿™é‡Œå¯¹ä»–ä»¬è¡¨ç¤ºæ„Ÿè°¢ã€‚ä¹Ÿå¾ˆé«˜å…´æˆ‘çš„æ–‡ç« å¸®åŠ©åˆ°äº†ä»–ä»¬ã€‚</p>
<p>ä¸è¿‡ç”±äºå¾®ä¿¡æ‰«ç æ”¯ä»˜æ— æ³•æŸ¥çœ‹åˆ°æ”¯ä»˜è€…çš„å¾®ä¿¡è´¦å·ä¿¡æ¯ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œå°±æ²¡æœ‰åˆ—å‡ºä»–ä»¬çš„æ˜µç§°ç­‰ä¿¡æ¯ã€‚å…·ä½“åˆ—è¡¨å¯æŸ¥çœ‹ <a href="/about/#Thanks">å…³äº</a> é¡µé¢ã€‚</p>
<hr>
]]></content>
      <categories>
        <category>Hexoåšå®¢æ­å»º</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>ç™¾ä¸‡è‹±é›„ï¼Œçœ‹ç¨‹åºå‘˜å¸¦ä½ å¦‚ä½•ä»»æ€§åƒç“œ</title>
    <url>/2018/01/16/chi-gua-qun-zhong-bu-chi-gua-one/</url>
    <content><![CDATA[<p>ä»Šå¤©ä¸­åˆçš„æ—¶å€™æ²¡äº‹ï¼Œéšæ‰‹æ‰“å¼€æ˜é‡‘appæ‰“ç®—çœ‹çœ‹æœ€è¿‘æœ‰ä»€ä¹ˆå¥½æ–‡ç« ã€‚çœ‹åˆ°çƒ­é—¨æ¨èä¸‹æœ‰ä¸€ç¯‡æ–‡ç« åä¸º <a href="https://juejin.im/entry/5a5c189e518825733d69093d" target="_blank" rel="noopener">qanswerï¼šå†²é¡¶å¤§ä¼šç­‰æ¸¸æˆç­”é¢˜ç¥å™¨ï¼ˆGolangï¼‰</a> å·ç§°ã€Šå†²é¡¶å¤§ä¼šã€‹,ã€Šç™¾ä¸‡è‹±é›„ã€‹ç­‰ç­”é¢˜æ¸¸æˆçš„ç­”é¢˜ç¥å™¨ï¼Œè®©äººé¡ºåˆ©åƒé¸¡ï¼</p>
<p>å› ä¸ºæˆ‘æœ€è¿‘ä¹Ÿä¸€ç›´åœ¨å…³æ³¨è¥¿ç“œè§†é¢‘é‡Œçš„â€œç™¾ä¸‡è‹±é›„â€è¿™ä¸ªâ€œå…¨æ°‘ç›´æ’­ç­”é¢˜åƒç“œâ€çš„æ´»åŠ¨ï¼Œä½†æ— å¥ˆè‡ªå·±çš„çŸ¥è¯†å‚¨å¤‡é‡å¤ªå°‘ï¼Œæœ€é«˜çš„ä¸€æ¬¡ç­”åˆ°ç¬¬9é¢˜å°±è¢«killäº†ã€‚çœ‹åˆ°è¿™ç¯‡æ–‡ç« é¡¿æ—¶æ¥äº†å…´è¶£ï¼Œå‡†å¤‡å¥½å¥½ç ”ç©¶ä¸€ç•ªã€‚</p>
<p>è¯¥é¡¹ç›®çš„githubåœ°å€ä¸º <a href="https://github.com/silenceper/qanswer" target="_blank" rel="noopener">silenceper/qanswer</a> ã€‚åœ¨ <code>README.md</code> ä¸­ä¹Ÿè®°å½•äº†å¦‚ä½•æ¥éƒ¨ç½²è¿è¡Œï¼Œä¸‹é¢æŠŠæˆ‘çš„éƒ¨ç½²æµç¨‹ç®€å•çš„è®°å½•å¦‚ä¸‹ã€‚</p>
<h4 id="qansweréƒ¨ç½²"><a href="#qansweréƒ¨ç½²" class="headerlink" title="qansweréƒ¨ç½²"></a>qansweréƒ¨ç½²</h4><p>æˆ‘ä½¿ç”¨çš„è®¾å¤‡æ˜¯ MacBook Proï¼Œæ‰‹æœºæ˜¯ çº¢ç±³Note4x é«˜é€šç‰ˆï¼Œåˆ†è¾¨ç‡ä¸º1920x1080ã€‚</p>
<p>å¯¹äºå…¶ä»–å¹³å°å¦‚ Winæˆ–Linuxï¼Œæˆ‘ä¹Ÿä¼šé¡ºå¸¦æä¸€ä¸‹ã€‚</p>
<h5 id="å®‰è£…goç¯å¢ƒ"><a href="#å®‰è£…goç¯å¢ƒ" class="headerlink" title="å®‰è£…goç¯å¢ƒ"></a>å®‰è£…goç¯å¢ƒ</h5><p>é…ç½®golangè¿è¡Œç¯å¢ƒï¼Œå¯ä»¥ç›´æ¥å‚è€ƒæˆ‘ä¹‹å‰å†™çš„åšå®¢æ–‡ç« æ¥å®‰è£…ï¼š<a href="http://www.itfanr.cc/2017/04/02/golang-running-environment-configuration/">Golangè¿è¡Œç¯å¢ƒé…ç½®</a></p>
<h5 id="å®‰å“è®¾å¤‡"><a href="#å®‰å“è®¾å¤‡" class="headerlink" title="å®‰å“è®¾å¤‡"></a>å®‰å“è®¾å¤‡</h5><p>è¿æ¥å®‰å“è®¾å¤‡æ—¶éœ€è¦å®‰è£…ä¸€ä¸ªé©±åŠ¨ç±»å·¥å…·adbã€‚adbå…¨ç§°ä¸º <code>Android Debug Bridge</code> ,å³Androidè°ƒè¯•æ¡¥ã€‚Android è°ƒè¯•æ¡¥ (adb) æ˜¯ä¸€ä¸ªé€šç”¨å‘½ä»¤è¡Œå·¥å…·ï¼Œå…¶å…è®¸æ‚¨ä¸æ¨¡æ‹Ÿå™¨å®ä¾‹æˆ–è¿æ¥çš„ Android è®¾å¤‡è¿›è¡Œé€šä¿¡ã€‚å®ƒå¯ä¸ºå„ç§è®¾å¤‡æ“ä½œæä¾›ä¾¿åˆ©ï¼Œå¦‚å®‰è£…å’Œè°ƒè¯•åº”ç”¨ï¼Œå¹¶æä¾›å¯¹ <code>Unix shell</code>ï¼ˆå¯ç”¨æ¥åœ¨æ¨¡æ‹Ÿå™¨æˆ–è¿æ¥çš„è®¾å¤‡ä¸Šè¿è¡Œå„ç§å‘½ä»¤ï¼‰çš„è®¿é—®ã€‚</p>
<h6 id="Macç³»ç»Ÿå®‰è£…adb"><a href="#Macç³»ç»Ÿå®‰è£…adb" class="headerlink" title="Macç³»ç»Ÿå®‰è£…adb"></a>Macç³»ç»Ÿå®‰è£…adb</h6><p>é€šè¿‡ <code>homebrew</code> æ¥å®‰è£…ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ brew cask install android-platform-tools</span><br></pre></td></tr></table></figure>

<p>å½“çœ‹åˆ°æç¤º <code>android-platform-tools was successfully installed!</code> ä¿¡æ¯ï¼Œè¯´æ˜å®‰è£…æˆåŠŸã€‚</p>
<p>å‘½ä»¤ <code>adb devices</code> å¯ä»¥ç”¨æ¥æŸ¥çœ‹å½“å‰è¿æ¥çš„å®‰å“è®¾å¤‡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ adb devices</span><br><span class="line">List of devices attached</span><br><span class="line">* daemon not running; starting now at tcp:5037</span><br><span class="line">* daemon started successfully</span><br></pre></td></tr></table></figure>

<p>å¯è§å½“å‰å¹¶æ²¡æœ‰è¿æ¥çš„è®¾å¤‡ã€‚</p>
<h6 id="Ubuntuå®‰è£…adb"><a href="#Ubuntuå®‰è£…adb" class="headerlink" title="Ubuntuå®‰è£…adb"></a>Ubuntuå®‰è£…adb</h6><p>ä½¿ç”¨å¦‚ä¸‹çš„å‘½ä»¤æ¥å®‰è£…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo add-apt-repository ppa:nilarimogard&#x2F;webupd8</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install android-tools-adb</span><br></pre></td></tr></table></figure>

<h6 id="Winå®‰è£…adb"><a href="#Winå®‰è£…adb" class="headerlink" title="Winå®‰è£…adb"></a>Winå®‰è£…adb</h6><p>ç›´æ¥ä¸‹è½½è§£å‹åå°±å¯ä½¿ç”¨ <a href="https://dl.google.com/android/repository/platform-tools-latest-windows.zip" target="_blank" rel="noopener">Download the ADB ZIP file for Windows</a></p>
<h5 id="iosè®¾å¤‡"><a href="#iosè®¾å¤‡" class="headerlink" title="iosè®¾å¤‡"></a>iosè®¾å¤‡</h5><p>å¯¹äºiosè®¾å¤‡ï¼Œéœ€è¦å®‰è£…WDAã€‚</p>
<p>å…·ä½“çš„å®‰è£…æ–¹æ³•å¯å‚è€ƒé¡¹ç›®ä¸­ç»™å‡ºçš„æ–‡ç«  <a href="https://testerhome.com/topics/7220" target="_blank" rel="noopener">iOS çœŸæœºå¦‚ä½•å®‰è£… WebDriverAgent</a></p>
<hr>
<h4 id="å¼€å¯å°ç±³æ‰‹æœº-MIUI9-USBè°ƒè¯•æ¨¡å¼"><a href="#å¼€å¯å°ç±³æ‰‹æœº-MIUI9-USBè°ƒè¯•æ¨¡å¼" class="headerlink" title="å¼€å¯å°ç±³æ‰‹æœº MIUI9 USBè°ƒè¯•æ¨¡å¼"></a>å¼€å¯å°ç±³æ‰‹æœº MIUI9 USBè°ƒè¯•æ¨¡å¼</h4><p>ä¸ºäº†èƒ½å¤Ÿè°ƒè¯•æ‰‹æœºï¼Œéœ€è¦æ‰“å¼€å°ç±³æ‰‹æœºæˆ–å…¶ä»–å®‰å“æ‰‹æœºçš„USBè°ƒè¯•æ¨¡å¼ã€‚</p>
<p>å°ç±³æ‰‹æœº MIUI9ç³»ç»Ÿçš„å¼€å¯æ–¹æ³•ï¼š</p>
<ol>
<li>æ‰“å¼€ â€œè®¾ç½®â€ â€“ â€œæˆ‘çš„è®¾å¤‡â€ â€“ â€œå…¨éƒ¨å‚æ•°â€ é¡µé¢</li>
<li>ç„¶åè¿ç»­ä¸‰æ¬¡ä»¥ä¸Šç‚¹å‡»â€œMIUIç‰ˆæœ¬â€ä¸€æ ï¼Œä¼šå‡ºç° å¼€å‘è€…æ¨¡å¼å·²æ‰“å¼€çš„æç¤ºä¿¡æ¯</li>
<li>è¿”å›è®¾ç½®ä¸»ç•Œé¢ï¼Œè¿›å…¥â€œæ›´å¤šè®¾ç½®â€ï¼Œåœ¨æ— éšœç¢é€‰é¡¹ä¸‹é¢å‡ºç°äº†â€œå¼€å‘è€…é€‰é¡¹â€ï¼Œç‚¹å‡»è¿›å…¥</li>
<li>åœ¨å¼€å‘è€…é€‰é¡¹ä¸­å°±å¯ä»¥æ‰¾åˆ°â€œUSBè°ƒè¯•â€ï¼Œå¯ç”¨å³å¯</li>
</ol>
<p>é€šè¿‡æ•°æ®çº¿è¿æ¥æ‰‹æœºï¼Œå†æ¬¡æ‰§è¡Œä¸Šé¢å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ adb devices</span><br><span class="line"></span><br><span class="line">List of devices attached</span><br><span class="line">a1529b810604    device</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°å‘ç°äº†æˆ‘çš„å®‰å“æ‰‹æœºï¼Œå¹¶è¿æ¥ä¸Šäº†ã€‚</p>
<hr>
<h4 id="æ–‡å­—è¯†åˆ«"><a href="#æ–‡å­—è¯†åˆ«" class="headerlink" title="æ–‡å­—è¯†åˆ«"></a>æ–‡å­—è¯†åˆ«</h4><p>å¯¹äºæ–‡å­—å›¾åƒè¯†åˆ«ï¼Œé¡¹ç›®ä¸­å®ç°äº†ä¸¤ç§æ–¹å¼ï¼š<code>ç™¾åº¦ocr</code> å’Œ <code>tesseract</code>ã€‚è¿™é‡Œæˆ‘é‡‡ç”¨ç™¾åº¦ocræ¥å®ç°ã€‚</p>
<p>ä»ç™¾åº¦çš„æ–‡å­—è¯†åˆ«æ¥å£ç½‘ç«™ <a href="https://cloud.baidu.com/product/ocr.html" target="_blank" rel="noopener">ç™¾åº¦æ–‡å­—è¯†åˆ«</a> ä¸­ï¼Œç™»å½•ç™¾åº¦äº‘ç®¡ç†å¹³å°åï¼Œåœ¨å·¦ä¾§é€‰æ‹©â€œäº§å“æœåŠ¡â€â€“â€œäººå·¥æ™ºèƒ½â€â€“â€œæ–‡å­—è¯†åˆ«â€ ä¸€é¡¹ï¼Œé€‰æ‹© â€œåˆ›å»ºåº”ç”¨â€ å°±å¯ä»¥è·å¾—éœ€è¦çš„api key å’Œsecret keyã€‚</p>
<p>ç™¾åº¦çš„æ–‡å­—è¯†åˆ«æ¥å£æœ‰ <code>500æ¬¡/å¤©</code> çš„å…è´¹ä½¿ç”¨æƒé™ï¼Œä¸€èˆ¬ä¹Ÿå¤Ÿç”¨äº†ã€‚</p>
<hr>
<h4 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h4><p>å°†é¡¹ç›®å…‹éš†åˆ° <code>gopath</code> ç›®å½•ä¸‹ <code>git clone https://github.com/silenceper/qanswer.git</code>ï¼Œå¦‚æˆ‘è¿™é‡Œæ˜¯ <code>/Go/xgo_workspace/src</code> ç›®å½•ä¸‹ï¼Œç„¶åæ·»åŠ é¡¹ç›®å¼•ç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ go get github.com&#x2F;silenceper&#x2F;qanswer</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œç¼–è¯‘ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd qanswer&#x2F;cmd</span><br><span class="line"></span><br><span class="line">$ go build -o ..&#x2F;qanswer</span><br></pre></td></tr></table></figure>

<p>ç„¶åä¼šåœ¨ <code>qanswer</code> ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªåä¸º <code>qanswer</code> çš„æ‰§è¡Œæ–‡ä»¶ã€‚</p>
<p>æ‰§è¡Œè¯¥ç¨‹åºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ .&#x2F;qanswer</span><br></pre></td></tr></table></figure>

<p>ç»“æœè¾“å‡ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">é…ç½®æ–‡ä»¶ï¼š.&#x2F;config.yml</span><br><span class="line">è®¾å¤‡ï¼šios; å›¾ç‰‡è¯†åˆ«æ–¹å¼ï¼šbaidu</span><br><span class="line"></span><br><span class="line">è¯·æŒ‰ç©ºæ ¼é”®å¼€å§‹æœç´¢ç­”æ¡ˆ...</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="è®¾ç½®é…ç½®æ–‡ä»¶"><a href="#è®¾ç½®é…ç½®æ–‡ä»¶" class="headerlink" title="è®¾ç½®é…ç½®æ–‡ä»¶"></a>è®¾ç½®é…ç½®æ–‡ä»¶</h4><p>ç¨‹åºè¿è¡Œç”¨åˆ°çš„é…ç½®æ–‡ä»¶æ˜¯åœ¨å½“å‰ç›®å½•ä¸‹çš„ <code>config.yml</code> æ–‡ä»¶ã€‚</p>
<p>é…ç½®å‚æ•°è¯´æ˜å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æ˜¯å¦å¼€å§‹è°ƒè¯•æ¨¡å¼</span><br><span class="line">debug: false</span><br><span class="line"># å¯¹åº”çš„è®¾å¤‡ç±»å‹ï¼šios or android</span><br><span class="line">device: ios</span><br><span class="line"># ä½¿ç”¨çš„ocrå·¥å…·ï¼šbaidu or tesseract</span><br><span class="line">ocr_type: baidu</span><br><span class="line"># ios è®¾å¤‡è¿æ¥wdaçš„åœ°å€</span><br><span class="line">wda_address: &#39;127.0.0.1:8100&#39;</span><br><span class="line"># æˆªå–é¢˜ç›®çš„ä½ç½® ï¼š</span><br><span class="line">question_x: 30</span><br><span class="line">question_y: 310</span><br><span class="line">question_w: 650</span><br><span class="line">question_h: 135</span><br><span class="line"># æˆªå–ç­”æ¡ˆçš„ä½ç½®</span><br><span class="line">answer_x: 30</span><br><span class="line">answer_y: 500</span><br><span class="line">answer_w: 680</span><br><span class="line">answer_h: 370</span><br><span class="line">#å½“é€‰ç”¨baidu ocræ—¶ï¼Œéœ€è¦æ‰§è¡Œapi_keyå’Œsecret_key</span><br><span class="line">baidu_api_key: &quot;xxx....&quot;</span><br><span class="line">baidu_secret_key: &quot;xxx....&quot;</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="æˆåŠŸçš„å…³é”®"><a href="#æˆåŠŸçš„å…³é”®" class="headerlink" title="æˆåŠŸçš„å…³é”®"></a>æˆåŠŸçš„å…³é”®</h4><p>åœ¨ä¸Šé¢çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œå…³é”®çš„ä¸€ç‚¹å°±æ˜¯é…ç½®æ–‡ä»¶ä¸­è®¾ç½®çš„å¯¹äºä¸åŒæ‰‹æœºç±»å‹åŠä¸åŒåˆ†è¾¨ç‡çš„åæ ‡è®¾å®šäº†ã€‚</p>
<p>ä½ éœ€è¦æ ¹æ®è‡ªå·±æ‰‹æœºå¯¹ç›´æ’­é—®ç­”é¡µé¢è¿›è¡Œæˆªå›¾åè·å–çš„åæ ‡ç‚¹åŠåƒç´ é•¿åº¦æ¥è®¾å®šã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æˆªå–é¢˜ç›®çš„ä½ç½®</span><br><span class="line">question_x: 30</span><br><span class="line">question_y: 310</span><br><span class="line">question_w: 650</span><br><span class="line">question_h: 135</span><br><span class="line"># æˆªå–ç­”æ¡ˆçš„ä½ç½®</span><br><span class="line">answer_x: 30</span><br><span class="line">answer_y: 500</span><br><span class="line">answer_w: 680</span><br><span class="line">answer_h: 370</span><br></pre></td></tr></table></figure>

<p>å¯¹ç›´æ’­ç­”é¢˜ç•Œé¢æˆªå±ï¼Œç„¶åé€šè¿‡Macç³»ç»Ÿè‡ªå¸¦çš„å›¾ç‰‡é¢„è§ˆå¯ä»¥å¾—åˆ°è¯¥ç•Œé¢ä¸­é¢˜ç›®å·¦ä¸Šè§’é¡¶ç‚¹çš„xåæ ‡ä½ç½®å’Œyåæ ‡ä½ç½®ä»¥åŠé¢˜ç›®åŒºåŸŸçš„å®½åº¦å’Œé«˜åº¦ã€‚<br>åŒç†èƒ½å¤Ÿè·å¾—ç­”æ¡ˆéƒ¨åˆ†çš„å€¼ã€‚</p>
<p>è¿™é‡Œè¦æä¸€ä¸‹çš„æ˜¯ï¼Œè¿™é‡Œçš„åæ ‡æ˜¯å‘å³ä¸ºxè½´æ­£æ–¹å‘ï¼Œå‘ä¸‹ä¸ºyè½´æ­£æ–¹å‘ã€‚æ‰€ä»¥å€¼å‡ä¸ºæ­£æ•°ã€‚</p>
<p>ç»è¿‡æµ‹é‡ï¼Œæˆ‘çš„æ‰‹æœºçš„é…ç½®ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># ç™¾ä¸‡è‹±é›„ çº¢ç±³Note4x é«˜é€šç‰ˆ 1920x1080</span><br><span class="line">debug: true</span><br><span class="line">device: android</span><br><span class="line">ocr_type: baidu</span><br><span class="line">wda_address: &#39;127.0.0.1:8100&#39;</span><br><span class="line">question_x: 80</span><br><span class="line">question_y: 270</span><br><span class="line">question_w: 920</span><br><span class="line">question_h: 400</span><br><span class="line">answer_x: 80</span><br><span class="line">answer_y: 680</span><br><span class="line">answer_w: 920</span><br><span class="line">answer_h: 580</span><br><span class="line">baidu_api_key: xxx...</span><br><span class="line">baidu_secret_key: xxx...</span><br></pre></td></tr></table></figure>

<p>å¦å¤–ï¼Œ<code>baidu_api_key</code> å’Œ <code>baidu_secret_key</code> è®¾ç½®æˆåœ¨ç™¾åº¦æ–‡æœ¬è¯†åˆ«ä¸­åˆ›å»ºåº”ç”¨çš„å¯¹åº”å€¼ã€‚å¦‚æœä½¿ç”¨çš„æ˜¯ <code>tesseract</code> è¿™ä¸¤é¡¹åˆ™ä¸ç”¨ç®¡ã€‚</p>
<hr>
<h4 id="æ‰§è¡Œæ•ˆæœ"><a href="#æ‰§è¡Œæ•ˆæœ" class="headerlink" title="æ‰§è¡Œæ•ˆæœ"></a>æ‰§è¡Œæ•ˆæœ</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">é…ç½®æ–‡ä»¶ï¼š.&#x2F;config.yml</span><br><span class="line">è®¾å¤‡ï¼šandroid; å›¾ç‰‡è¯†åˆ«æ–¹å¼ï¼šbaidu</span><br><span class="line"></span><br><span class="line">è¯·æŒ‰ç©ºæ ¼é”®å¼€å§‹æœç´¢ç­”æ¡ˆ...</span><br><span class="line">æ­£åœ¨å¼€å§‹æœç´¢....</span><br><span class="line">2018&#x2F;01&#x2F;16 13:33:27 image.go:41: [debug] ä¿å­˜questionæˆªå›¾æˆåŠŸ</span><br><span class="line">2018&#x2F;01&#x2F;16 13:33:27 image.go:51: [debug] ä¿å­˜answeræˆªå›¾æˆåŠŸ</span><br><span class="line">2018&#x2F;01&#x2F;16 13:33:27 image.go:22: [debug] ä¿å­˜å®Œæ•´æˆªå›¾æˆåŠŸï¼Œ.&#x2F;images&#x2F;screenshot.png</span><br><span class="line">2018&#x2F;01&#x2F;16 13:33:28 qanswer.go:144: [debug] æ–—æ“ä¸œæŒ‡,å¤©ä¸‹çš†å†¬</span><br><span class="line">åŒ—æ–—ä¸€æ˜Ÿä¸ºå¤©æƒ</span><br><span class="line">ç‰è¡¡æ˜Ÿæ˜¯ä¸ƒæ˜Ÿä¸­æœ€äº®çš„æ˜Ÿ</span><br><span class="line">2018&#x2F;01&#x2F;16 13:33:28 qanswer.go:133: [debug] 2.å…³äºåŒ—ä¸ƒæ–—ä¸ƒæ˜Ÿ,ä¸‹åˆ—è¯´æ³•æ­£ç¡®çš„</span><br><span class="line">æ˜¯?</span><br><span class="line">è¯†åˆ«é¢˜ç›®ï¼š</span><br><span class="line">å…³äºåŒ—ä¸ƒæ–—ä¸ƒæ˜Ÿ,ä¸‹åˆ—è¯´æ³•æ­£ç¡®çš„æ˜¯?</span><br><span class="line">è¯†åˆ«ç­”æ¡ˆï¼š</span><br><span class="line">[æ–—æ“ä¸œæŒ‡,å¤©ä¸‹çš†å†¬ åŒ—æ–—ä¸€æ˜Ÿä¸ºå¤©æƒ ç‰è¡¡æ˜Ÿæ˜¯ä¸ƒæ˜Ÿä¸­æœ€äº®çš„æ˜Ÿ]</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;ç™¾åº¦æœç´¢&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">å…³äºåŒ—ä¸ƒæ–—ä¸ƒæ˜Ÿ,ä¸‹åˆ—è¯´æ³•æ­£ç¡®çš„æ˜¯?</span><br><span class="line">ç­”æ¡ˆï¼š</span><br><span class="line">æ–—æ“ä¸œæŒ‡,å¤©ä¸‹çš†å†¬ : ç»“æœæ€»æ•° 7400 ï¼Œ ç­”æ¡ˆå‡ºç°é¢‘ç‡ï¼š 0</span><br><span class="line">åŒ—æ–—ä¸€æ˜Ÿä¸ºå¤©æƒ : ç»“æœæ€»æ•° 189000 ï¼Œ ç­”æ¡ˆå‡ºç°é¢‘ç‡ï¼š 0</span><br><span class="line">ç‰è¡¡æ˜Ÿæ˜¯ä¸ƒæ˜Ÿä¸­æœ€äº®çš„æ˜Ÿ : ç»“æœæ€»æ•° 383000 ï¼Œ ç­”æ¡ˆå‡ºç°é¢‘ç‡ï¼š 0</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line"></span><br><span class="line">è€—æ—¶ï¼š7.24113s</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">è¯·æŒ‰ç©ºæ ¼é”®å¼€å§‹æœç´¢ç­”æ¡ˆ...</span><br></pre></td></tr></table></figure>

<p>å¦å¤–é™„ä¸Šä¸€äº›æ‰§è¡Œè¿‡ç¨‹æˆªå›¾ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/180116B2c2Deah5B.png" alt="mark"></p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/180116k9mAhDA6dC.png" alt="mark"></p>
<hr>
<h4 id="å‡ºç°çš„é—®é¢˜"><a href="#å‡ºç°çš„é—®é¢˜" class="headerlink" title="å‡ºç°çš„é—®é¢˜"></a>å‡ºç°çš„é—®é¢˜</h4><p>åœ¨å®é™…çš„æµ‹è¯•ä¸­ï¼Œæˆ‘ä¹Ÿå‘ç°äº†è¯¥é¡¹ç›®çš„ä¸€äº›é—®é¢˜ã€‚</p>
<h5 id="åˆ¤æ–­é€»è¾‘çš„å¯è¡Œæ€§"><a href="#åˆ¤æ–­é€»è¾‘çš„å¯è¡Œæ€§" class="headerlink" title="åˆ¤æ–­é€»è¾‘çš„å¯è¡Œæ€§"></a>åˆ¤æ–­é€»è¾‘çš„å¯è¡Œæ€§</h5><p>ç›®å‰è¯¥é¡¹ç›®ä¸­ä½¿ç”¨çš„æœç´¢å¼•æ“æ˜¯ç™¾åº¦ã€‚</p>
<p>è€Œç¨‹åºå½“å‰å¯¹é—®é¢˜ç­”æ¡ˆè·å–çš„åå°é€»è¾‘æ˜¯ï¼šé€šè¿‡å°†é—®é¢˜å’Œä¸‰ä¸ªä¸åŒçš„ç­”æ¡ˆæ‹¼æ¥è¾“å‡ºåˆ°æœç´¢å¼•æ“ä¸­è¿›è¡Œæœç´¢æŸ¥è¯¢ï¼Œå¦‚ä½¿ç”¨ç™¾åº¦ï¼Œåœ¨æœç´¢ç»“æœé¡µé¢ä¸­ä¼šè¾“å‡ºï¼šâ€œç™¾åº¦ä¸ºæ‚¨æ‰¾åˆ°ç›¸å…³ç»“æœçº¦487,000ä¸ªâ€ ç±»ä¼¼è¿™æ ·çš„ä¸€æ®µè¯ã€‚è€Œç­”æ¡ˆçš„åˆ¤æ–­é€»è¾‘å°±æ˜¯çœ‹ä¸‰ç§ç­”æ¡ˆå¯¹åº”çš„æœç´¢ç»“æœçš„æ•°æ®æ€»æ¡æ•°æ¥é¢„æµ‹è¯¥ç­”æ¡ˆå¯èƒ½ä¸ºæ­£ç¡®çš„ç­”æ¡ˆã€‚</p>
<p>ä½†è¿™æ ·çš„æ–¹æ³•å¹¶ä¸ä¸€å®šèƒ½ä¿è¯å®Œå…¨çš„æ­£ç¡®ï¼Œå¦‚ä¸‹é¢çš„ä¸€ä¸ªé—®é¢˜ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/1801162aeEkGG7Bd.png" alt="mark"></p>
<p>å¦‚æœæŒ‰ç…§æ¨èçš„ç­”æ¡ˆï¼Œè¦é€‰ â€œæ¢æˆˆâ€ ã€‚è€Œè¿™é“é¢˜çš„æ­£ç¡®ç­”æ¡ˆåº”è¯¥æ˜¯ â€œæ£®å·´â€ ã€‚</p>
<p>åæ¥ï¼Œæˆ‘åˆå¯¹å…¶ä»–å¸¸ç”¨çš„æœç´¢å¼•æ“åšäº†å¯¹æ¯”ã€‚å¦‚æˆ‘å¯¹æ¯”äº† <code>Baidu</code> ã€<code>Bingå›½å†…ç‰ˆ</code> ã€ <code>Bingå›½é™…ç‰ˆ</code> å’Œ <code>Googleï¼ˆéœ€FQï¼‰</code> ï¼Œç»“æœå‘ç°è¿™å››ç§æœç´¢ç»“æœçš„æ­£ç¡®ç‡ä¸ºï¼š</p>
<blockquote>
<p>Google &gt; Bingå›½é™…ç‰ˆ &gt; Bingå›½å†…ç‰ˆ &gt; Baidu</p>
</blockquote>
<p>ä½†æ˜¯åæ¥æˆ‘å¢åŠ äº†é—®é¢˜çš„æµ‹è¯•æ•°é‡ï¼Œå‘ç°Googleå¯¹äºç­”æ¡ˆçš„åˆ¤æ–­æ­£ç¡®ç‡ä¹Ÿæ¯”è¾ƒä½ã€‚</p>
<p>ä¾‹å¦‚å…¶ä¸­çš„ä¸€ä¸ªé—®é¢˜ï¼š</p>
<blockquote>
<p>å“ªä¸€ç§ååº”å±äºåŒ–å­¦ååº”? </p>
<p>é£Ÿç‰©è…çƒ‚<br>å†°åŒ–æ°´<br>ç»ç’ƒç¢æˆå—  </p>
</blockquote>
<p>é€šè¿‡ç™¾åº¦æµ‹è¯•ï¼Œå¯¹äºä¸‰ä¸ªç­”æ¡ˆçš„æœç´¢ç»“æœæ•°é‡ä¸ºï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/180116b1bhafB5i5.png" alt="mark"></p>
<p>å¯è§ï¼ŒæŒ‰ç…§æœç´¢æ•°é‡ç»“æœæ¥çœ‹çš„è¯ï¼Œè¦é€‰ â€œç»ç’ƒç¢æˆå—â€ ï¼Œä½†æ­£ç¡®çš„ç­”æ¡ˆåº”è¯¥æ˜¯ â€œé£Ÿç‰©è…çƒ‚â€ã€‚</p>
<p>åæ¥æˆ‘åˆä½¿ç”¨ google è¿›è¡Œäº†æµ‹è¯•:</p>
<blockquote>
<p>é£Ÿç‰©è…çƒ‚  98400<br>å†°åŒ–æ°´   483000<br>ç»ç’ƒç¢æˆå—  116000   </p>
</blockquote>
<p>å¯è§åœ¨Googleä¸‹è¿™ç§æ–¹å¼å¾—åˆ°çš„ç­”æ¡ˆä¹Ÿä¸æ­£ç¡®ã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘è§‰å¾—è¿™ç§åˆ¤æ–­é€»è¾‘åªèƒ½ç»™å‡º70%çš„æ­£ç¡®ç‡ï¼Œåœ¨ç­”é¢˜è¿‡ç¨‹ä¸­ä¹Ÿä»…ä»…ä½œä¸ºå‚è€ƒç­”æ¡ˆï¼Œè€Œä¸èƒ½ä¸€å‘³çš„ç›¸ä¿¡ã€‚</p>
<h5 id="å¦å®šå¥"><a href="#å¦å®šå¥" class="headerlink" title="å¦å®šå¥"></a>å¦å®šå¥</h5><p>å¦‚æœé‡åˆ°æ ‡é¢˜æ˜¯å¦å®šå¥å¼çš„æƒ…å†µï¼Œé€šè¿‡ä¸Šé¢è¿™ç§æœç´¢çš„å½¢å¼å°±æ— æ³•æ‰¾åˆ°æ­£ç¡®çš„ç­”æ¡ˆäº†ï¼Œä¸€èˆ¬æœç´¢å‡ºæ¥çš„ä¹Ÿæ˜¯â€œè‚¯å®šå¥å¼â€ä¸‹çš„ç­”æ¡ˆã€‚</p>
<p>æ¯”å¦‚ä¸‹é¢è¿™ä¸ªé—®é¢˜ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/180116K8cJF6i7Dj.png" alt="mark"></p>
<p>æ­£ç¡®çš„ç­”æ¡ˆåº”è¯¥æ˜¯ <code>çˆ±å¦‚æ½®æ°´</code>ã€‚</p>
<h5 id="æ–‡å­—è¯†åˆ«å‡ºé”™"><a href="#æ–‡å­—è¯†åˆ«å‡ºé”™" class="headerlink" title="æ–‡å­—è¯†åˆ«å‡ºé”™"></a>æ–‡å­—è¯†åˆ«å‡ºé”™</h5><p>è¿˜æœ‰ä¸€ç§æƒ…å†µå°±æ˜¯å›¾åƒæ–‡å­—æ²¡æœ‰è¯†åˆ«å‡ºæ¥çš„æƒ…å†µï¼Œæœ€åä¹Ÿå°±ä¸èƒ½ç»™å‡ºç›¸åº”çš„ç­”æ¡ˆäº†ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/180116JEbI5EbHEB.png" alt="mark"></p>
<hr>
<h4 id="å…¶ä»–æ–¹æ³•å®ç°"><a href="#å…¶ä»–æ–¹æ³•å®ç°" class="headerlink" title="å…¶ä»–æ–¹æ³•å®ç°"></a>å…¶ä»–æ–¹æ³•å®ç°</h4><p>ä¸ªäººè®¤ä¸ºç±»ä¼¼è¿™ç§é—®ç­”ç±»çš„é¢˜ç›®ï¼Œå¯è¡Œçš„æ–¹å¼æ¯”å¦‚å¯¹é—®é¢˜è¿›è¡Œåˆ†è¯å¤„ç†ï¼Œç„¶åå¯¹å…³é”®è¯å»æœç´¢åŒ¹é…ï¼Œé€šè¿‡è¯é¢‘æ¥åˆ¤æ–­ï¼›æˆ–è€…å¼¹å‡ºæµè§ˆå™¨ç”±ç”¨æˆ·è‡ªå·±å»åˆ¤æ–­æœ€ç»ˆçš„ç­”æ¡ˆï¼Œä¸€èˆ¬åƒæœç´¢å¼•æ“çš„æœç´¢ç»“æœé¡µé¢ï¼Œéƒ½ä¼šæœ‰æ ‡é¢˜å’Œç®€çŸ­çš„å†…å®¹ï¼Œå†…å®¹ä¸­çš„å…³é”®å­—ä¼šè¢«æ ‡çº¢æ˜¾ç¤ºï¼Œç”±ç”¨æˆ·è‡ªå·±å»åˆ¤æ–­ï¼Œå‡†ç¡®æ€§ä¼šæ›´é«˜ä¸€äº›ï¼Œä½†è¿™æ ·è€—è´¹çš„æ—¶é—´ä¹Ÿä¼šç‰¹åˆ«é•¿ã€‚åº”è¯¥è¿˜æœ‰å…¶ä»–çš„æ–¹æ³•å§ã€‚</p>
<p>ç›®å‰æˆ‘ä¹Ÿåœ¨ç”¨pythonæ¥å®ç°ä¸€ç§å¯èƒ½çš„æ–¹æ³•ï¼Œæˆ‘ä¼šåœ¨åç»­çš„æ–‡ç« ä¸­è¯¦ç»†è¯´æ˜ï¼Œæ•¬è¯·æœŸå¾…å§ï¼</p>
<p>æœ€åå†è¯´ä¸€å¥ã€‚å¦‚æœçœ‹åˆ°è¿™ç¯‡æ–‡ç« åä½ ä¹Ÿå¯¹è¿™ç§â€œç­”é¢˜åƒç“œâ€çš„ç›´æ’­é—®é¢˜æ´»åŠ¨äº§ç”Ÿäº†å…´è¶£ï¼Œå¯ä»¥ä½¿ç”¨æˆ‘çš„é‚€è¯·ç æ¥è·å¾—ä¸€å¼ å¤æ´»å¡çš„æœºä¼šï¼Œè¾“å…¥ä¸‹é¢çš„é‚€è¯·ç å³å¯ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/180116GaimbE8mfm.jpeg" alt="mark"></p>
<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="https://github.com/silenceper/qanswer" target="_blank" rel="noopener">qanswer</a></li>
<li><a href="https://www.xda-developers.com/install-adb-windows-macos-linux/" target="_blank" rel="noopener">How to Install ADB on Windows, macOS, and Linux</a></li>
<li><a href="https://developer.android.com/studio/command-line/adb.html" target="_blank" rel="noopener">Android è°ƒè¯•æ¡¥</a></li>
<li><a href="https://www.jianshu.com/p/1b3fb1f27b67" target="_blank" rel="noopener">åœ¨ MAC OS X å®‰è£… ADB (Androidè°ƒè¯•æ¡¥)</a></li>
</ul>
]]></content>
      <tags>
        <tag>Niubility</tag>
      </tags>
  </entry>
  <entry>
    <title>Celeryåˆ†å¸ƒå¼ä»»åŠ¡é˜Ÿåˆ—å…¥é—¨(ä¸‰)-ä»»åŠ¡</title>
    <url>/2017/12/10/celery-distributed-task-queue-introduction-third/</url>
    <content><![CDATA[<p>åœ¨ä¸Šä¸€ç¯‡ <a href="/2017/12/10/celery-distributed-task-queue-introduction-second/">Celeryåˆ†å¸ƒå¼ä»»åŠ¡é˜Ÿåˆ—å…¥é—¨(äºŒ)-ç¯å¢ƒé…ç½®</a> ä¸­ä»‹ç»äº†ä¸€ç§ç®€å•ä»»åŠ¡çš„åˆ›å»ºæ–¹æ³•ã€‚</p>
<p>å¯¹äºä»»åŠ¡ï¼Œåœ¨Celeryä¸­ä¸»è¦åˆ†ä¸º <code>å¼‚æ­¥ä»»åŠ¡</code> å’Œ <code>å®šæ—¶ä»»åŠ¡</code>ï¼Œä¸‹é¢è¯¦ç»†çš„æ¥è¯´è¯´ã€‚</p>
<h4 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><p>Celeryä¸­çš„é…ç½®å¯ä»¥ç›´æ¥åœ¨åº”ç”¨ä¸Šè®¾ç½®ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€ä¸ªç‹¬ç«‹çš„é…ç½®æ¨¡å—ã€‚</p>
<h5 id="ç›´æ¥é…ç½®"><a href="#ç›´æ¥é…ç½®" class="headerlink" title="ç›´æ¥é…ç½®"></a>ç›´æ¥é…ç½®</h5><p>ä¾‹å¦‚ä½ å¯ä»¥é€šè¿‡ä¿®æ”¹ <code>CELERY_TASK_SERIALIZER</code> é€‰é¡¹æ¥é…ç½®åºåˆ—åŒ–ä»»åŠ¡è½½è·çš„é»˜è®¤çš„åºåˆ—åŒ–æ–¹å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">app.conf.CELERY_TASK_SERIALIZER &#x3D; &#39;json&#39;</span><br></pre></td></tr></table></figure>

<p>ä¸€æ¬¡æ€§è®¾ç½®å¤šä¸ªé€‰é¡¹ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>update()</code> æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">app.conf.update(</span><br><span class="line">    CELERY_TASK_SERIALIZER&#x3D;&#39;json&#39;,</span><br><span class="line">    CELERY_ACCEPT_CONTENT&#x3D;[&#39;json&#39;],  # Ignore other content</span><br><span class="line">    CELERY_RESULT_SERIALIZER&#x3D;&#39;json&#39;,</span><br><span class="line">    CELERY_TIMEZONE&#x3D;&#39;Europe&#x2F;Oslo&#39;,</span><br><span class="line">    CELERY_ENABLE_UTC&#x3D;True,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">from celery import Celery</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">CELERY_CONFIG &#x3D; &#123;</span><br><span class="line">    &#39;CELERY_TIMEZONE&#39;: &#39;Asia&#x2F;Shanghai&#39;,</span><br><span class="line">    &#39;CELERY_ENABLE_UTC&#39;: True,</span><br><span class="line">    # content</span><br><span class="line">    &#39;CELERY_TASK_SERIALIZER&#39;: &#39;json&#39;,</span><br><span class="line">    &#39;CELERY_RESULT_SERIALIZER&#39;: &#39;json&#39;,</span><br><span class="line">    &#39;CELERY_ACCEPT_CONTENT&#39;: [&#39;json&#39;],</span><br><span class="line">    &#39;CELERYD_MAX_TASKS_PER_CHILD&#39;: 1</span><br><span class="line">&#125;</span><br><span class="line">SETTINGS &#x3D; &#123;</span><br><span class="line">    &#39;user&#39;: &#39;www-data&#39;,</span><br><span class="line">    &#39;password&#39;: &#39;www-data&#39;,</span><br><span class="line">    &#39;host&#39;: &#39;127.0.0.1&#39;,</span><br><span class="line">    &#39;port&#39;: &#39;5672&#39;,</span><br><span class="line">    &#39;vhost&#39;: &#39;t_celery&#39;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">app &#x3D; Celery(</span><br><span class="line">    &#39;test_celery&#39;,</span><br><span class="line">    broker&#x3D;&#39;amqp:&#x2F;&#x2F;&#123;user&#125;:&#123;password&#125;@&#123;host&#125;:&#123;port&#125;&#x2F;&#123;vhost&#125;&#39;.format(</span><br><span class="line">        **SETTINGS)</span><br><span class="line">)</span><br><span class="line">app.conf.update(**CELERY_CONFIG)</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="ç‹¬ç«‹é…ç½®æ¨¡å—"><a href="#ç‹¬ç«‹é…ç½®æ¨¡å—" class="headerlink" title="ç‹¬ç«‹é…ç½®æ¨¡å—"></a>ç‹¬ç«‹é…ç½®æ¨¡å—</h5><p>å¯¹äºå¤§å‹é¡¹ç›®ï¼Œé‡‡ç”¨ç‹¬ç«‹é…ç½®æ¨¡å—æ›´ä¸ºæœ‰æ•ˆã€‚</p>
<p>å¯ä»¥è°ƒç”¨ <code>config_from_object()</code> æ¥è®© <code>Celery</code> å®ä¾‹åŠ è½½é…ç½®æ¨¡å—ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">app.config_from_object(&#39;celeryconfig&#39;)</span><br></pre></td></tr></table></figure>

<p>é…ç½®æ¨¡å—é€šå¸¸ç§°ä¸º <code>celeryconfig</code> ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä»»æ„çš„æ¨¡å—åã€‚åä¸º <code>celeryconfig.py</code> çš„æ¨¡å—å¿…é¡»å¯ä»¥ä»å½“å‰ç›®å½•æˆ– <code>Python</code> è·¯å¾„åŠ è½½ã€‚</p>
<p><code>celeryconfig.py</code> æ ¼å¼ä¸€èˆ¬ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">BROKER_URL &#x3D; &#39;amqp:&#x2F;&#x2F;&#39;</span><br><span class="line">CELERY_RESULT_BACKEND &#x3D; &#39;amqp:&#x2F;&#x2F;&#39;</span><br><span class="line"></span><br><span class="line">CELERY_TASK_SERIALIZER &#x3D; &#39;json&#39;</span><br><span class="line">CELERY_RESULT_SERIALIZER &#x3D; &#39;json&#39;</span><br><span class="line">CELERY_ACCEPT_CONTENT&#x3D;[&#39;json&#39;]</span><br><span class="line">CELERY_TIMEZONE &#x3D; &#39;Europe&#x2F;Oslo&#39;</span><br><span class="line">CELERY_ENABLE_UTC &#x3D; True</span><br></pre></td></tr></table></figure>

<p>æ£€æŸ¥é…ç½®æ–‡ä»¶çš„è¯­æ³•é”™è¯¯ï¼Œå¯ä»¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ python -m celeryconfig</span><br></pre></td></tr></table></figure>

<p>æ›´å¤šé…ç½®å‚æ•°å‚è€ƒï¼š<a href="http://docs.jinkan.org/docs/celery/configuration.html#configuration" target="_blank" rel="noopener">Configuration and defaults</a></p>
<p>æœ‰å…³é…ç½®çš„ä½¿ç”¨å¯ä»¥çœ‹æˆ‘å¦ä¸€ç¯‡æ–‡ç« ä¸­çš„è¯¦ç»†ä»‹ç»ã€‚</p>
<hr>
<h4 id="å¼‚æ­¥ä»»åŠ¡"><a href="#å¼‚æ­¥ä»»åŠ¡" class="headerlink" title="å¼‚æ­¥ä»»åŠ¡"></a>å¼‚æ­¥ä»»åŠ¡</h4><p>åœ¨åˆçº§ç¯‡ä¸­æˆ‘ä»¬åˆ›å»ºçš„ç®€å•ä»»åŠ¡ <code>tasks.py</code> å°±æ˜¯ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡ã€‚<code>tasks.py</code> ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;env python3</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line">from celery import Celery</span><br><span class="line"></span><br><span class="line">app &#x3D; Celery(&#39;tasks&#39;,</span><br><span class="line">             broker&#x3D;&#39;amqp:&#x2F;&#x2F;myuser:hello@localhost:5672&#x2F;hellohost&#39;,</span><br><span class="line">             backend&#x3D;&#39;amqp:&#x2F;&#x2F;myuser:hello@localhost:5672&#x2F;hellohost&#39;</span><br><span class="line">             )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@app.task</span><br><span class="line">def add(x, y):</span><br><span class="line">    return x + y</span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ›å»ºäº†ä¸€ä¸ª <code>Celery</code> å®ä¾‹ <code>app</code> ï¼ŒæŒ‡å®šåç§°ä¸º <code>tasks</code></li>
<li>æŒ‡å®šæ¶ˆæ¯ä¸­é—´ä»¶ <code>broker</code> ä½¿ç”¨ <code>RabbitMQ</code> ï¼ŒæŒ‡å®šç»“æœå­˜å‚¨ <code>backend</code> ä½¿ç”¨ <code>RabbitMQ</code></li>
<li>åˆ›å»ºäº†ä¸€ä¸ª <code>Celery</code> ä»»åŠ¡ <code>add</code>ï¼Œå½“å‡½æ•°è¢« <code>@app.task</code> è£…é¥°åï¼Œå°±æˆä¸ºå¯è¢« <code>Celery</code> è°ƒåº¦çš„ä»»åŠ¡</li>
</ul>
<h5 id="è¿è¡Œ-worker"><a href="#è¿è¡Œ-worker" class="headerlink" title="è¿è¡Œ worker"></a>è¿è¡Œ worker</h5><p>åœ¨ tasks.py æ–‡ä»¶æ‰€åœ¨ç›®å½•æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ celery -A tasks worker --loglevel&#x3D;info</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªå‘½ä»¤ä¼šå¼€å¯ä¸€ä¸ªåœ¨å‰å°è¿è¡Œçš„ workerã€‚</p>
<p>å‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li><code>worker</code> : è¿è¡Œ <code>worker</code> æ¨¡å—</li>
<li><code>-A: â€“app=APP</code>  æŒ‡å®šä½¿ç”¨çš„ <code>Celery</code> å®ä¾‹æ‰€åœ¨çš„æ–‡ä»¶æ¨¡å—</li>
<li><code>-l: -â€“loglevel=INFO</code> æŒ‡å®šæ—¥å¿—çº§åˆ«ï¼Œé»˜è®¤ä¸º <code>WARNING</code>ï¼Œå¯é€‰ï¼š<code>DEBUG</code>, <code>INFO</code>, <code>WARNING</code>, <code>ERROR</code>, <code>CRITICAL</code>, <code>FATAL</code></li>
</ul>
<p>å¦‚æœæ˜¯åˆ›å»ºä»»åŠ¡æ¨¡å—ï¼Œå¯ä»¥ä½¿ç”¨æ¨¡å—åç§°æ¥å¯åŠ¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ celery -A proj worker -l info</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ä½¿ç”¨å®Œæ•´å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ celery worker --app&#x3D;proj -l info</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹å®Œæ•´çš„å¸®åŠ©ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ celery worker --help</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root@b792ae940e3e:&#x2F;app# celery worker --help</span><br><span class="line">usage: celery worker [options] </span><br><span class="line"></span><br><span class="line">Start worker instance.</span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line"></span><br><span class="line">        $ celery worker --app&#x3D;proj -l info</span><br><span class="line">        $ celery worker -A proj -l info -Q hipri,lopri</span><br><span class="line"></span><br><span class="line">        $ celery worker -A proj --concurrency&#x3D;4</span><br><span class="line">        $ celery worker -A proj --concurrency&#x3D;1000 -P eventlet</span><br><span class="line">        $ celery worker --autoscale&#x3D;10,0</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="http://docs.celeryproject.org/en/latest/userguide/workers.html#starting-the-worker" target="_blank" rel="noopener">Workers Guide</a></li>
<li><a href="http://docs.celeryproject.org/en/latest/reference/celery.bin.worker.html#celery-bin-worker" target="_blank" rel="noopener">celery.bin.worker</a></li>
</ul>
<p><strong>æ‰©å±•</strong></p>
<p>å¯¹äºå‚æ•° <code>-A: â€“app=APP</code> è¡¨ç¤ºæŒ‡å®šä½¿ç”¨çš„ <code>Celery</code> å®ä¾‹ã€‚å³æŒ‡pyæ–‡ä»¶çš„æ–‡ä»¶åï¼ˆä¸åŒ…æ‹¬æ‰©å±•å.pyï¼‰æˆ–é¡¹ç›®çš„æ¨¡å—å</p>
<p>æ¯”å¦‚é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">testcelery&#x2F;</span><br><span class="line">    |- src&#x2F;</span><br><span class="line">        |- __init__.py</span><br><span class="line">        |- app.py</span><br><span class="line">        |- task.py</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆå¯åŠ¨workerä»»åŠ¡ <code>task.py</code> çš„å‘½ä»¤å³ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ celery worker -A src.task -l info</span><br></pre></td></tr></table></figure>

<h5 id="è°ƒç”¨-Task"><a href="#è°ƒç”¨-Task" class="headerlink" title="è°ƒç”¨ Task"></a>è°ƒç”¨ Task</h5><h6 id="delayè°ƒç”¨"><a href="#delayè°ƒç”¨" class="headerlink" title="delayè°ƒç”¨"></a>delayè°ƒç”¨</h6><p>åœ¨å¼‚æ­¥è°ƒç”¨æ–¹å¼ä¸­ï¼Œå¯ä»¥é€šè¿‡ <code>delay</code> æˆ–è€… <code>apply_async</code> æ¥å®ç°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">from tasks import add</span><br><span class="line"></span><br><span class="line">add.delay(3, 4)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ï¼Œåˆ›å»ºæ–‡ä»¶ <code>client.py</code> :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;env python3</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line">from tasks import add</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">    add.delay(1, 5)</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œ <code>$ python3 client.py</code> å°±èƒ½è°ƒç”¨æ‰§è¡Œäº†ã€‚</p>
<h6 id="apply-async"><a href="#apply-async" class="headerlink" title="apply_async"></a>apply_async</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;env python3</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line">from tasks import add</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">    # add.delay(1, 5)</span><br><span class="line">    add.apply_async(args&#x3D;(5, 6))</span><br></pre></td></tr></table></figure>

<p><code>delay</code> å’Œ <code>apply_async</code> è¿™ä¸¤ç§è°ƒç”¨æ–¹å¼ç­‰ä»·ï¼Œ<code>delay</code> æ˜¯ <code>apply_async</code> çš„ç®€å†™ã€‚ç”¨äºä¸€ä¸ªä»»åŠ¡æ¶ˆæ¯ï¼ˆtask messageï¼‰ã€‚ä¹‹å‰çš„ç¤ºä¾‹ä¸­æˆ‘ä»¬å‘ç° <code>add</code> ä»»åŠ¡å¹¶æ²¡æœ‰è¿”å› â€œè®¡ç®—ç»“æœâ€ï¼Œè€Œæ˜¯è¿”å›äº†ä¸€ä¸ªå¯¹è±¡ <code>AsyncResult</code>ï¼Œå®ƒçš„ä½œç”¨æ˜¯è¢«ç”¨æ¥æ£€æŸ¥ä»»åŠ¡çŠ¶æ€ï¼Œç­‰å¾…ä»»åŠ¡æ‰§è¡Œå®Œæ¯•æˆ–è·å–ä»»åŠ¡ç»“æœï¼Œå¦‚æœä»»åŠ¡å¤±è´¥ï¼Œå®ƒä¼šè¿”å›å¼‚å¸¸ä¿¡æ¯æˆ–è€…è°ƒç”¨æ ˆã€‚</p>
<p><code>apply_async</code> å‚æ•°</p>
<p>apply_async ç›¸æ¯” delayçš„ä¼˜ç‚¹å°±æ˜¯ï¼Œapply_asyncæ”¯æŒæ›´å¤šçš„å‚æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">apply_async(args&#x3D;(), kwargs&#x3D;&#123;&#125;, route_name&#x3D;None, **options)</span><br></pre></td></tr></table></figure>

<p>apply_async å¸¸ç”¨çš„å‚æ•°å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>countdown</code> ï¼šä»»åŠ¡å»¶è¿Ÿæ‰§è¡Œçš„ç§’æ•°ï¼Œé»˜è®¤ç«‹å³æ‰§è¡Œï¼›<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">task1.apply_async(args&#x3D;(2, 3), countdown&#x3D;5)    # 5 ç§’åæ‰§è¡Œä»»åŠ¡</span><br></pre></td></tr></table></figure></li>
<li><code>eta</code> ï¼šä»»åŠ¡è¢«æ‰§è¡Œçš„ç»å¯¹æ—¶é—´ï¼Œå‚æ•°ç±»å‹æ˜¯ <code>datetime</code><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">from datetime import datetime, timedelta</span><br><span class="line"></span><br><span class="line"># å½“å‰ UTC æ—¶é—´å†åŠ  10 ç§’åæ‰§è¡Œä»»åŠ¡</span><br><span class="line">task1.multiply.apply_async(args&#x3D;[3, 7], eta&#x3D;datetime.utcnow() + timedelta(seconds&#x3D;10))</span><br></pre></td></tr></table></figure></li>
<li><code>expires</code> : ä»»åŠ¡è¿‡æœŸæ—¶é—´ï¼Œå‚æ•°ç±»å‹å¯ä»¥æ˜¯ <code>int</code>ï¼Œä¹Ÿå¯ä»¥æ˜¯ <code>datetime</code><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">task1.multiply.apply_async(args&#x3D;[3, 7], expires&#x3D;10)    # 10 ç§’åè¿‡æœŸ</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>æ›´å¤šçš„å‚æ•°åˆ—è¡¨å¯ä»¥åœ¨ <a href="http://docs.celeryproject.org/en/latest/reference/celery.app.task.html#celery.app.task.Task.apply_async" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a> ä¸­æŸ¥çœ‹ã€‚</p>
<h6 id="send-taskè°ƒç”¨"><a href="#send-taskè°ƒç”¨" class="headerlink" title="send_taskè°ƒç”¨"></a>send_taskè°ƒç”¨</h6><p>é™¤äº†ä½¿ç”¨ <code>delay</code> çš„æ–¹å¼ï¼Œè¿˜å·²é€šè¿‡ <code>send_task()</code> çš„æ–¹å¼æ¥è°ƒç”¨ã€‚åŒæ—¶ <code>send_task()</code> ä¹Ÿæ”¯æŒè®¾ç½®æ›´å¤šçš„å‚æ•°ã€‚</p>
<p>ç¤ºä¾‹ï¼Œ<code>client.py</code> :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;env python3</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line">from tasks import app</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">    # add.delay(1, 5)</span><br><span class="line">    # add.apply_async(args&#x3D;(5, 6))</span><br><span class="line">    app.send_task(&#39;tasks.add&#39;, args&#x3D;(12, 23),)</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼Œè¿™é‡Œå¼•å…¥çš„æ˜¯ <code>app</code> å®ä¾‹ã€‚<code>args</code> å‚æ•°æ˜¯ä¸€ä¸ªå…ƒç»„ç±»å‹ã€‚ç›¸åº”çš„æ‰§è¡Œç»“æœä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[2017-12-10 07:11:38,057: INFO&#x2F;MainProcess] Received task: tasks.add[83fd530f-d800-43c7-bcfe-920a176812e2]  </span><br><span class="line">[2017-12-10 07:11:43,217: INFO&#x2F;ForkPoolWorker-1] Task tasks.add[83fd530f-d800-43c7-bcfe-920a176812e2] succeeded in 5.1578904589996455s: 35</span><br></pre></td></tr></table></figure>

<h5 id="AsyncResultæ–¹æ³•"><a href="#AsyncResultæ–¹æ³•" class="headerlink" title="AsyncResultæ–¹æ³•"></a>AsyncResultæ–¹æ³•</h5><p>ä¸Šä¸€ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬æåˆ°è¿‡è¿”å›å¯¹è±¡ <code>AsyncResult</code> çš„ <code>ready()</code> æ–¹æ³•ï¼Œç»§ç»­æ¥çœ‹ä¸€ä¸‹å…¶ä»–çš„æ–¹æ³•ï¼š</p>
<p><code>ready</code> ä¸º <code>True</code> è¡¨ç¤ºå·²ç»è¿”å›ç»“æœäº†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; result.ready()</span><br><span class="line">True</span><br></pre></td></tr></table></figure>

<p><code>status</code> è¡¨ç¤ºä»»åŠ¡æ‰§è¡ŒçŠ¶æ€ï¼Œå¤±è´¥è¿˜æ˜¯æˆåŠŸ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; result.status</span><br><span class="line">&#39;SUCCESS&#39;</span><br></pre></td></tr></table></figure>

<p><code>result</code> å’Œ <code>get()</code> è¡¨ç¤ºè¿”å›çš„ç»“æœ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; result.result</span><br><span class="line">7</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; result.get() </span><br><span class="line">7</span><br></pre></td></tr></table></figure>

<p><code>id</code> ç”¨æ¥æŸ¥çœ‹ä»»åŠ¡çš„idå±æ€§ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; result.id</span><br><span class="line">&#39;c178619e-3af3-41ed-8d2c-6371de80a601&#39;</span><br></pre></td></tr></table></figure>


<h4 id="å®šæ—¶ä»»åŠ¡"><a href="#å®šæ—¶ä»»åŠ¡" class="headerlink" title="å®šæ—¶ä»»åŠ¡"></a>å®šæ—¶ä»»åŠ¡</h4><p><code>Celery Beat</code> è¿›ç¨‹é€šè¿‡è¯»å–é…ç½®æ–‡ä»¶çš„å†…å®¹ï¼Œå‘¨æœŸæ€§åœ°å°†å®šæ—¶ä»»åŠ¡å‘å¾€ä»»åŠ¡é˜Ÿåˆ—ã€‚</p>
<p>åœ¨Celeryçš„å®šæ—¶ä»»åŠ¡ä¸­ï¼Œé‡è¦çš„ä¸¤ä¸ªæ–¹æ³•æ˜¯ å®šæ—¶å™¨ å’Œ æ‰§è¡Œå™¨ï¼š</p>
<ul>
<li>å®šæ—¶å™¨ï¼Œä¹Ÿå«ä½œ beaterï¼Œä¹Ÿå°±æ˜¯å¸®åŠ©æˆ‘ä»¬è®¡ç®—ä»€ä¹ˆæ—¶å€™æ‰§è¡Œä»€ä¹ˆæ“ä½œ</li>
<li>æ‰§è¡Œå™¨ï¼Œä¹Ÿå«ä½œ workerï¼ŒçœŸæ­£æ‰§è¡Œä»»åŠ¡çš„åœ°æ–¹ï¼Œæˆ‘ä»¬çš„ä»»åŠ¡éƒ½æ˜¯é€šè¿‡è¿™ä¸ªè¿è¡Œçš„</li>
</ul>
<p>åˆ›å»ºCeleryå®šæ—¶ä»»åŠ¡æœ‰å¤šä¸­æ–¹æ³•ã€‚</p>
<h5 id="é€šè¿‡é…ç½®æ–‡ä»¶æ–¹å¼"><a href="#é€šè¿‡é…ç½®æ–‡ä»¶æ–¹å¼" class="headerlink" title="é€šè¿‡é…ç½®æ–‡ä»¶æ–¹å¼"></a>é€šè¿‡é…ç½®æ–‡ä»¶æ–¹å¼</h5><p>å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­é€šè¿‡ <code>CELERYBEAT_SCHEDULE</code> è®¾ç½®å®šæ—¶ã€‚</p>
<h6 id="ç®€å•å®šæ—¶ä»»åŠ¡"><a href="#ç®€å•å®šæ—¶ä»»åŠ¡" class="headerlink" title="ç®€å•å®šæ—¶ä»»åŠ¡"></a>ç®€å•å®šæ—¶ä»»åŠ¡</h6><p>åˆ›å»ºä¸€ä¸ªCeleryçš„ä»»åŠ¡ <code>tasks.py</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;env python3</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line">from celery import Celery</span><br><span class="line"></span><br><span class="line">app &#x3D; Celery(&#39;tasks&#39;,</span><br><span class="line">             broker&#x3D;&#39;amqp:&#x2F;&#x2F;myuser:hello@localhost:5672&#x2F;hellohost&#39;,</span><br><span class="line">             backend&#x3D;&#39;amqp:&#x2F;&#x2F;myuser:hello@localhost:5672&#x2F;hellohost&#39;</span><br><span class="line">             )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.conf.update(</span><br><span class="line">    # é…ç½®å®šæ—¶ä»»åŠ¡</span><br><span class="line">    CELERYBEAT_SCHEDULE&#x3D;&#123;</span><br><span class="line">        &#39;my_task&#39;: &#123;</span><br><span class="line">            &#39;task&#39;: &#39;tasks.add&#39;,</span><br><span class="line">            &#39;schedule&#39;: 60,</span><br><span class="line">            &#39;args&#39;: (22, 34),</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@app.task</span><br><span class="line">def add(x, y):</span><br><span class="line">    return x + y</span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼Œå¯åŠ¨è¿™ä¸ª <code>worker</code> è¿›ç¨‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># celery -A tasks worker -l info</span><br></pre></td></tr></table></figure>

<p>æ¥ç€ï¼Œå¯åŠ¨ <code>Celery Beat</code> è¿›ç¨‹ï¼Œå®šæ—¶å°†ä»»åŠ¡å‘é€åˆ° <code>Broker</code> ï¼Œåœ¨å¦ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£ä¸‹æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># celery beat -A tasks -l info</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°æç¤ºä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root@b792ae940e3e:&#x2F;app# celery beat -A tasks -l info</span><br><span class="line">celery beat v4.1.0 (latentcall) is starting.</span><br><span class="line">__    -    ... __   -        _</span><br><span class="line">LocalTime -&gt; 2017-12-10 08:48:29</span><br><span class="line">Configuration -&gt;</span><br><span class="line">    . broker -&gt; amqp:&#x2F;&#x2F;myuser:**@localhost:5672&#x2F;hellohost</span><br><span class="line">    . loader -&gt; celery.loaders.app.AppLoader</span><br><span class="line">    . scheduler -&gt; celery.beat.PersistentScheduler</span><br><span class="line">    . db -&gt; celerybeat-schedule</span><br><span class="line">    . logfile -&gt; [stderr]@%INFO</span><br><span class="line">    . maxinterval -&gt; 5.00 minutes (300s)</span><br><span class="line">[2017-12-10 08:48:29,141: INFO&#x2F;MainProcess] beat: Starting...</span><br></pre></td></tr></table></figure>

<p>ä¸€æ®µæ—¶é—´åï¼Œå¯ä»¥çœ‹åˆ°æ‰§è¡Œç»“æœï¼š</p>
<p><code>beat</code> æ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[2017-12-10 08:49:29,277: INFO&#x2F;MainProcess] Scheduler: Sending due task my_task (tasks.add)</span><br><span class="line">[2017-12-10 08:50:29,289: INFO&#x2F;MainProcess] Scheduler: Sending due task my_task (tasks.add)</span><br><span class="line">[2017-12-10 08:51:29,322: INFO&#x2F;MainProcess] Scheduler: Sending due task my_task (tasks.add)</span><br><span class="line">[2017-12-10 08:52:29,334: INFO&#x2F;MainProcess] Scheduler: Sending due task my_task (tasks.add)</span><br><span class="line">[2017-12-10 08:53:29,375: INFO&#x2F;MainProcess] Scheduler: Sending due task my_task (tasks.add)</span><br><span class="line">[2017-12-10 08:54:29,411: INFO&#x2F;MainProcess] Scheduler: Sending due task my_task (tasks.add)</span><br><span class="line">[2017-12-10 08:55:29,426: INFO&#x2F;MainProcess] Scheduler: Sending due task my_task (tasks.add)</span><br></pre></td></tr></table></figure>

<p><code>workder</code> æ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[2017-12-10 08:41:37,839: INFO&#x2F;MainProcess] celery@b792ae940e3e ready.</span><br><span class="line">[2017-12-10 08:49:29,290: INFO&#x2F;MainProcess] Received task: tasks.add[1667ee3b-58c8-4a1a-be9f-0c20c3086bde]  </span><br><span class="line">[2017-12-10 08:49:29,321: INFO&#x2F;ForkPoolWorker-1] Task tasks.add[1667ee3b-58c8-4a1a-be9f-0c20c3086bde] succeeded in 0.029423292000501533s: 56</span><br><span class="line">[2017-12-10 08:50:29,295: INFO&#x2F;MainProcess] Received task: tasks.add[db2d9ead-c22f-4efe-8d1c-6995f0ce9148]  </span><br><span class="line">[2017-12-10 08:50:29,345: INFO&#x2F;ForkPoolWorker-1] Task tasks.add[db2d9ead-c22f-4efe-8d1c-6995f0ce9148] succeeded in 0.046812374001092394s: 56</span><br><span class="line">[2017-12-10 08:51:29,324: INFO&#x2F;MainProcess] Received task: tasks.add[7b23af5f-a467-4263-9cd0-87486f2df25d]  </span><br><span class="line">[2017-12-10 08:51:29,338: INFO&#x2F;ForkPoolWorker-1] Task tasks.add[7b23af5f-a467-4263-9cd0-87486f2df25d] succeeded in 0.011024585000996012s: 56</span><br><span class="line">[2017-12-10 08:52:29,336: INFO&#x2F;MainProcess] Received task: tasks.add[2f3489e4-625e-460a-bc57-3fdf13456d97]  </span><br><span class="line">[2017-12-10 08:52:29,349: INFO&#x2F;ForkPoolWorker-1] Task tasks.add[2f3489e4-625e-460a-bc57-3fdf13456d97] succeeded in 0.01185457899919129s: 56</span><br><span class="line">[2017-12-10 08:53:29,381: INFO&#x2F;MainProcess] Received task: tasks.add[ec7377fb-1859-4980-861b-2592422aad8c]  </span><br><span class="line">[2017-12-10 08:53:29,408: INFO&#x2F;ForkPoolWorker-1] Task tasks.add[ec7377fb-1859-4980-861b-2592422aad8c] succeeded in 0.021194035000007716s: 56</span><br></pre></td></tr></table></figure>

<hr>
<p>ä¸Šé¢å®šæ—¶ä»»åŠ¡çš„é…ç½®ä¿¡æ¯è¡¨ç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># é…ç½®å®šæ—¶ä»»åŠ¡</span><br><span class="line">CELERYBEAT_SCHEDULE&#x3D;&#123;</span><br><span class="line">    &#39;my_task&#39;: &#123;</span><br><span class="line">        &#39;task&#39;: &#39;tasks.add&#39;,</span><br><span class="line">        &#39;schedule&#39;: 60,</span><br><span class="line">        &#39;args&#39;: (22, 34),</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼š</p>
<ul>
<li><code>my_task</code> è¡¨ç¤ºå½“å‰ä»»åŠ¡çš„åç§°ï¼Œå¯ä»¥è‡ªå®šä¹‰æŒ‡å®š</li>
<li><code>task</code> è¡¨ç¤º <code>tasks.py</code> æ¨¡å—ä¸‹çš„ <code>add</code> æ–¹æ³•</li>
<li><code>schedule</code> è¡¨ç¤º ä»»åŠ¡æ‰§è¡Œçš„é—´éš”ï¼Œå¦‚æœä½¿ç”¨ <code>int</code> ç±»å‹ï¼Œåˆ™å•ä½æ˜¯ç§’ï¼›è¿˜å¯ä»¥ä½¿ç”¨ <code>timedelta</code> ç±»å‹</li>
<li><code>args</code> è¡¨ç¤ºä»»åŠ¡å‡½æ•°å‚æ•°ï¼Œæ³¨æ„å‚æ•°ç±»å‹ä¸ºå…ƒç»„</li>
</ul>
<hr>
<p>å¦‚æœä¸é€šè¿‡ <code>update</code> æ¥ä¿®æ”¹ï¼Œè¿˜å¯ä»¥é€šè¿‡è®¾ç½® <code>beat_schedule</code> é…ç½®é¡¹æ¥è®¾ç½®ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;env python3</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line">from celery import Celery</span><br><span class="line"></span><br><span class="line">app &#x3D; Celery(&#39;tasks&#39;,</span><br><span class="line">             broker&#x3D;&#39;amqp:&#x2F;&#x2F;myuser:hello@localhost:5672&#x2F;hellohost&#39;,</span><br><span class="line">             backend&#x3D;&#39;amqp:&#x2F;&#x2F;myuser:hello@localhost:5672&#x2F;hellohost&#39;</span><br><span class="line">             )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.conf.beat_schedule &#x3D; &#123;</span><br><span class="line">    &#39;my_task&#39;: &#123;</span><br><span class="line">        &#39;task&#39;: &#39;tasks.add&#39;,</span><br><span class="line">        &#39;schedule&#39;: 60,</span><br><span class="line">        &#39;args&#39;: (1, 2),</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">app.conf.timezone &#x3D; &#39;UTC&#39;</span><br><span class="line"></span><br><span class="line">@app.task</span><br><span class="line">def add(x, y):</span><br><span class="line">    return x + y</span><br></pre></td></tr></table></figure>

<h6 id="å¤šé¡¹å®šæ—¶ä»»åŠ¡"><a href="#å¤šé¡¹å®šæ—¶ä»»åŠ¡" class="headerlink" title="å¤šé¡¹å®šæ—¶ä»»åŠ¡"></a>å¤šé¡¹å®šæ—¶ä»»åŠ¡</h6><p>æˆ‘ä»¬è¿˜å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­åŒæ—¶å®šä¹‰å¤šä¸ªå®šæ—¶ä»»åŠ¡ï¼Œåªéœ€è¦åœ¨ <code>CELERYBEAT_SCHEDULE</code> é¡¹ä¸­æ·»åŠ å³å¯:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># é…ç½®å®šæ—¶ä»»åŠ¡</span><br><span class="line">CELERYBEAT_SCHEDULE&#x3D;&#123;</span><br><span class="line">    &#39;my_task&#39;: &#123;</span><br><span class="line">        &#39;task&#39;: &#39;tasks.add&#39;,</span><br><span class="line">        &#39;schedule&#39;: 60,</span><br><span class="line">        &#39;args&#39;: (22, 34),</span><br><span class="line">    &#125;,</span><br><span class="line">    &#39;your_task&#39;:&#123;</span><br><span class="line">      &#39;task&#39;:&#39;tasks,add&#39;,</span><br><span class="line">      &#39;schedule&#39;:30,</span><br><span class="line">      &#39;args&#39;:(1,4),</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç›¸åº”çš„æ‰§è¡Œç»“æœï¼š</p>
<p><code>beat</code> æ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root@b792ae940e3e:&#x2F;app# celery beat -A tasks -l info</span><br><span class="line"></span><br><span class="line">[2017-12-10 09:34:50,113: INFO&#x2F;MainProcess] beat: Starting...</span><br><span class="line">[2017-12-10 09:35:20,151: INFO&#x2F;MainProcess] Scheduler: Sending due task your_task (tasks.add)</span><br><span class="line">[2017-12-10 09:35:50,145: INFO&#x2F;MainProcess] Scheduler: Sending due task your_task (tasks.add)</span><br><span class="line">[2017-12-10 09:35:50,149: INFO&#x2F;MainProcess] Scheduler: Sending due task my_task (tasks.add)</span><br><span class="line">[2017-12-10 09:36:20,166: INFO&#x2F;MainProcess] Scheduler: Sending due task your_task (tasks.add)</span><br><span class="line">[2017-12-10 09:36:50,187: INFO&#x2F;MainProcess] Scheduler: Sending due task your_task (tasks.add)</span><br><span class="line">[2017-12-10 09:36:50,188: INFO&#x2F;MainProcess] Scheduler: Sending due task my_task (tasks.add)</span><br><span class="line">[2017-12-10 09:37:20,208: INFO&#x2F;MainProcess] Scheduler: Sending due task your_task (tasks.add)</span><br></pre></td></tr></table></figure>

<p><code>worker</code> æ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root@b792ae940e3e:&#x2F;app# celery worker -A tasks -l info</span><br><span class="line"></span><br><span class="line">[2017-12-10 09:34:45,833: INFO&#x2F;MainProcess] celery@b792ae940e3e ready.</span><br><span class="line">[2017-12-10 09:35:20,165: INFO&#x2F;MainProcess] Received task: tasks.add[2b236ccf-c4af-430c-8d4e-a5cbaf331123]  </span><br><span class="line">[2017-12-10 09:35:20,213: INFO&#x2F;ForkPoolWorker-1] Task tasks.add[2b236ccf-c4af-430c-8d4e-a5cbaf331123] succeeded in 0.04618659699917771s: 5</span><br><span class="line">[2017-12-10 09:35:50,151: INFO&#x2F;MainProcess] Received task: tasks.add[01f843bc-8506-4d61-97ce-5f989c576509]  </span><br><span class="line">[2017-12-10 09:35:50,159: INFO&#x2F;MainProcess] Received task: tasks.add[f3230694-ce5a-4bc3-9c92-eea71b9c4949]  </span><br><span class="line">[2017-12-10 09:35:50,187: INFO&#x2F;ForkPoolWorker-1] Task tasks.add[01f843bc-8506-4d61-97ce-5f989c576509] succeeded in 0.03170933700130263s: 5</span><br><span class="line">[2017-12-10 09:35:50,214: INFO&#x2F;ForkPoolWorker-2] Task tasks.add[f3230694-ce5a-4bc3-9c92-eea71b9c4949] succeeded in 0.04673135899975023s: 56</span><br><span class="line">[2017-12-10 09:36:20,168: INFO&#x2F;MainProcess] Received task: tasks.add[410e86bf-2e06-4a7d-965d-92d2e6a72c12]  </span><br><span class="line">[2017-12-10 09:36:20,186: INFO&#x2F;ForkPoolWorker-1] Task tasks.add[410e86bf-2e06-4a7d-965d-92d2e6a72c12] succeeded in 0.01682951399925514s: 5</span><br><span class="line">[2017-12-10 09:36:50,191: INFO&#x2F;MainProcess] Received task: tasks.add[d2b32ff2-8e8e-4903-ad8f-7d12da132739]  </span><br><span class="line">[2017-12-10 09:36:50,193: INFO&#x2F;MainProcess] Received task: tasks.add[dc7fc344-374e-438b-8a0f-85f9e9f08aac]  </span><br><span class="line">[2017-12-10 09:36:50,207: INFO&#x2F;ForkPoolWorker-1] Task tasks.add[d2b32ff2-8e8e-4903-ad8f-7d12da132739] succeeded in 0.013693080998564255s: 5</span><br><span class="line">[2017-12-10 09:36:50,211: INFO&#x2F;ForkPoolWorker-2] Task tasks.add[dc7fc344-374e-438b-8a0f-85f9e9f08aac] succeeded in 0.017022554000504897s: 56</span><br><span class="line">[2017-12-10 09:37:20,213: INFO&#x2F;MainProcess] Received task: tasks.add[49113d2d-a36d-44b0-92dc-9ad0382c26a2]  </span><br><span class="line">[2017-12-10 09:37:20,246: INFO&#x2F;ForkPoolWorker-1] Task tasks.add[49113d2d-a36d-44b0-92dc-9ad0382c26a2] succeeded in 0.027591496000241023s: 5</span><br></pre></td></tr></table></figure>


<p>åœ¨ä¸Šé¢ï¼Œæˆ‘ä»¬ç”¨ä¸¤ä¸ªå‘½ä»¤å¯åŠ¨äº† <code>Worker</code> è¿›ç¨‹å’Œ <code>Beat</code> è¿›ç¨‹ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°†å®ƒä»¬æ”¾åœ¨ä¸€ä¸ªå‘½ä»¤ä¸­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ celery -B -A tasks worker --loglevel&#x3D;info</span><br></pre></td></tr></table></figure>

<p>ç›¸åº”çš„æ‰§è¡Œç»“æœä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root@b792ae940e3e:&#x2F;app# celery -B -A tasks worker -l info</span><br><span class="line"></span><br><span class="line">[2017-12-10 10:07:36,153: INFO&#x2F;MainProcess] celery@b792ae940e3e ready.</span><br><span class="line">[2017-12-10 10:07:36,158: INFO&#x2F;Beat] Scheduler: Sending due task your_task (tasks.add)</span><br><span class="line">[2017-12-10 10:07:36,169: INFO&#x2F;MainProcess] Received task: tasks.add[d92a952e-e3f6-4224-9e8b-dda771740fe2]  </span><br><span class="line">[2017-12-10 10:07:36,221: INFO&#x2F;ForkPoolWorker-2] Task tasks.add[d92a952e-e3f6-4224-9e8b-dda771740fe2] succeeded in 0.049944616001084796s: 5</span><br><span class="line">[2017-12-10 10:08:06,148: INFO&#x2F;Beat] Scheduler: Sending due task your_task (tasks.add)</span><br><span class="line">[2017-12-10 10:08:06,151: INFO&#x2F;MainProcess] Received task: tasks.add[678c33ae-9d2d-40c1-b5ce-25ffbdf763d8]  </span><br><span class="line">[2017-12-10 10:08:06,175: INFO&#x2F;ForkPoolWorker-2] Task tasks.add[678c33ae-9d2d-40c1-b5ce-25ffbdf763d8] succeeded in 0.02311466900027881s: 5</span><br><span class="line">[2017-12-10 10:08:36,148: INFO&#x2F;Beat] Scheduler: Sending due task your_task (tasks.add)</span><br><span class="line">[2017-12-10 10:08:36,149: INFO&#x2F;Beat] Scheduler: Sending due task my_task (tasks.add)</span><br><span class="line">[2017-12-10 10:08:36,150: INFO&#x2F;MainProcess] Received task: tasks.add[b05841b8-a382-4a1a-a583-3695e6d369d2]  </span><br><span class="line">[2017-12-10 10:08:36,152: INFO&#x2F;MainProcess] Received task: tasks.add[baebd820-4a22-496c-8c39-6b9f52d2f22b]  </span><br><span class="line">[2017-12-10 10:08:36,195: INFO&#x2F;ForkPoolWorker-2] Task tasks.add[b05841b8-a382-4a1a-a583-3695e6d369d2] succeeded in 0.04302837300019746s: 5</span><br><span class="line">[2017-12-10 10:08:36,198: INFO&#x2F;ForkPoolWorker-3] Task tasks.add[baebd820-4a22-496c-8c39-6b9f52d2f22b] succeeded in 0.0449830910001765s: 56</span><br></pre></td></tr></table></figure>

<h5 id="æ—¶åŒº"><a href="#æ—¶åŒº" class="headerlink" title="æ—¶åŒº"></a>æ—¶åŒº</h5><p>Celeryå®šæ—¶ä»»åŠ¡é»˜è®¤ä½¿ç”¨UTCæ—¶åŒºã€‚æˆ‘ä»¬å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­æ¥è®¾ç½®ã€‚æœ€ç»ˆçš„ <code>tasks.py</code> æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;env python3</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line">from celery import Celery</span><br><span class="line"></span><br><span class="line">app &#x3D; Celery(&#39;tasks&#39;,</span><br><span class="line">             broker&#x3D;&#39;amqp:&#x2F;&#x2F;myuser:hello@localhost:5672&#x2F;hellohost&#39;,</span><br><span class="line">             backend&#x3D;&#39;amqp:&#x2F;&#x2F;myuser:hello@localhost:5672&#x2F;hellohost&#39;</span><br><span class="line">             )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.conf.update(</span><br><span class="line">    # é…ç½®æ‰€åœ¨æ—¶åŒº</span><br><span class="line">    CELERY_TIMEZONE&#x3D;&#39;Asia&#x2F;Shanghai&#39;,</span><br><span class="line">    CELERY_ENABLE_UTC&#x3D;True,</span><br><span class="line">    # å®˜ç½‘æ¨èæ¶ˆæ¯åºåˆ—åŒ–æ–¹å¼ä¸ºjson</span><br><span class="line">    CELERY_ACCEPT_CONTENT&#x3D;[&#39;json&#39;],</span><br><span class="line">    CELERY_TASK_SERIALIZER&#x3D;&#39;json&#39;,</span><br><span class="line">    CELERY_RESULT_SERIALIZER&#x3D;&#39;json&#39;,</span><br><span class="line">    # é…ç½®å®šæ—¶ä»»åŠ¡</span><br><span class="line">    CELERYBEAT_SCHEDULE&#x3D;&#123;</span><br><span class="line">        &#39;my_task&#39;: &#123;</span><br><span class="line">            &#39;task&#39;: &#39;tasks.add&#39;,</span><br><span class="line">            &#39;schedule&#39;: 60,</span><br><span class="line">            &#39;args&#39;: (22, 34),</span><br><span class="line">        &#125;,</span><br><span class="line">        &#39;your_task&#39;: &#123;</span><br><span class="line">            &#39;task&#39;: &#39;tasks.add&#39;,</span><br><span class="line">            &#39;schedule&#39;: 30,</span><br><span class="line">            &#39;args&#39;: (1, 4),</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@app.task</span><br><span class="line">def add(x, y):</span><br><span class="line">    return x + y</span><br></pre></td></tr></table></figure>

<h5 id="é€šè¿‡on-after-configureå®šä¹‰"><a href="#é€šè¿‡on-after-configureå®šä¹‰" class="headerlink" title="é€šè¿‡on_after_configureå®šä¹‰"></a>é€šè¿‡on_after_configureå®šä¹‰</h5><p>ä½¿ç”¨ <code>on_after_configure</code> å¤„ç†ç¨‹åºæ¥è£…é¥°å®šæ—¶ä»»åŠ¡ã€‚å¦‚ <code>tasks.py</code> æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;env python3</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line">from celery import Celery</span><br><span class="line"></span><br><span class="line">app &#x3D; Celery(&#39;tasks&#39;,</span><br><span class="line">             broker&#x3D;&#39;amqp:&#x2F;&#x2F;myuser:hello@localhost:5672&#x2F;hellohost&#39;,</span><br><span class="line">             backend&#x3D;&#39;amqp:&#x2F;&#x2F;myuser:hello@localhost:5672&#x2F;hellohost&#39;</span><br><span class="line">             )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@app.on_after_configure.connect</span><br><span class="line">def setup_periodic_tasks(sender, **kwargs):</span><br><span class="line">    # Calls test(&#39;hello&#39;) every 10 seconds.</span><br><span class="line">    sender.add_periodic_task(10.0, add.s(&#39;hello&#39;), name&#x3D;&#39;add every 10&#39;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@app.task</span><br><span class="line">def add(arg):</span><br><span class="line">    print(arg)</span><br><span class="line">    return arg</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œç¤ºä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root@b792ae940e3e:&#x2F;app# celery -B -A tasks worker -l info</span><br><span class="line"></span><br><span class="line">[2017-12-10 10:53:30,420: INFO&#x2F;MainProcess] celery@b792ae940e3e ready.</span><br><span class="line">[2017-12-10 10:53:30,596: INFO&#x2F;Beat] beat: Starting...</span><br><span class="line">[2017-12-10 10:53:30,620: INFO&#x2F;Beat] Scheduler: Sending due task add every 10 (tasks.add)</span><br><span class="line">[2017-12-10 10:53:30,628: INFO&#x2F;MainProcess] Received task: tasks.add[315383b8-5bd7-48ab-8dd2-c5d39e71f058]  </span><br><span class="line">[2017-12-10 10:53:30,630: WARNING&#x2F;ForkPoolWorker-3] hello</span><br><span class="line">[2017-12-10 10:53:30,667: INFO&#x2F;ForkPoolWorker-3] Task tasks.add[315383b8-5bd7-48ab-8dd2-c5d39e71f058] succeeded in 0.03778552899893839s: &#39;hello&#39;</span><br><span class="line">[2017-12-10 10:53:40,602: INFO&#x2F;Beat] Scheduler: Sending due task add every 10 (tasks.add)</span><br><span class="line">[2017-12-10 10:53:40,607: INFO&#x2F;MainProcess] Received task: tasks.add[5f8ef21e-fbfd-4c82-8dbd-6fa2aeaf4fa4]  </span><br><span class="line">[2017-12-10 10:53:40,610: WARNING&#x2F;ForkPoolWorker-3] hello</span><br><span class="line">[2017-12-10 10:53:40,631: INFO&#x2F;ForkPoolWorker-3] Task tasks.add[5f8ef21e-fbfd-4c82-8dbd-6fa2aeaf4fa4] succeeded in 0.022007824998581782s: &#39;hello&#39;</span><br></pre></td></tr></table></figure>

<hr>
<p>åŒæ—¶ï¼Œ<code>add_periodic_task()</code> æ–¹æ³•ä¹Ÿèƒ½è®¾ç½®å…¶ä»–å‚æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Calls test(&#39;world&#39;) every 30 seconds</span><br><span class="line">sender.add_periodic_task(30.0, add.s(&#39;world&#39;), expires&#x3D;10)</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ä¹Ÿèƒ½é€šè¿‡ <code>crontab()</code> æ¥åº”ç”¨ <code>cron</code> è¡¨è¾¾å¼ï¼Œå®ç°å¤šç§æ—¶é—´çš„è®¾å®šã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Executes every Monday morning at 7:30 a.m.</span><br><span class="line">sender.add_periodic_task(</span><br><span class="line">    crontab(hour&#x3D;7, minute&#x3D;30, day_of_week&#x3D;1),</span><br><span class="line">    add.s(&#39;Happy Mondays!&#39;),</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="http://docs.celeryproject.org/en/master/userguide/periodic-tasks.html" target="_blank" rel="noopener">Periodic Tasks</a></li>
<li><a href="http://funhacks.net/2016/12/13/celery/" target="_blank" rel="noopener">å¼‚æ­¥ä»»åŠ¡ç¥å™¨ Celery </a></li>
</ul>
]]></content>
      <categories>
        <category>Celeryåˆ†å¸ƒå¼ä»»åŠ¡é˜Ÿåˆ—å…¥é—¨</category>
      </categories>
      <tags>
        <tag>Celery</tag>
      </tags>
  </entry>
  <entry>
    <title>Celeryåˆ†å¸ƒå¼ä»»åŠ¡é˜Ÿåˆ—å…¥é—¨(äºŒ)-ç¯å¢ƒé…ç½®</title>
    <url>/2017/12/10/celery-distributed-task-queue-introduction-second/</url>
    <content><![CDATA[<p>å®è·µåœ¨Dockerå®¹å™¨ä¸­é…ç½®Celeryè¿è¡Œç¯å¢ƒã€‚</p>
<h4 id="åˆ›å»ºDockerå®¹å™¨"><a href="#åˆ›å»ºDockerå®¹å™¨" class="headerlink" title="åˆ›å»ºDockerå®¹å™¨"></a>åˆ›å»ºDockerå®¹å™¨</h4><p>åœ¨å®¹å™¨ <code>Ubuntu:16.04</code> ç³»ç»Ÿä¸­æ¥æ­å»ºï¼Œåˆ›å»ºå®¹å™¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ docker run -it --name celery1 -p 5672:5672 -p 15673:15672 -v &#x2F;home&#x2F;tiger&#x2F;dckerfile&#x2F;celery1:&#x2F;app ubuntu &#x2F;bin&#x2F;bash</span><br></pre></td></tr></table></figure>

<p>éœ€è¦æ³¨æ„çš„æ˜¯åœ¨Dockerå®¹å™¨ä¸­ä¸éœ€è¦ <code>sudo</code> å‘½ä»¤ï¼Œé»˜è®¤å³æ˜¯ <code>root</code> æƒé™ã€‚ä¸‹é¢çš„å‘½ä»¤è¯·æ ¹æ®è‡ªå·±æ‰€åœ¨ç³»ç»Ÿç±»å‹è‡ªè¡Œæ·»åŠ  <code>sudo</code> æ“ä½œã€‚</p>
<h5 id="æ›´æ–°è½¯ä»¶æº"><a href="#æ›´æ–°è½¯ä»¶æº" class="headerlink" title="æ›´æ–°è½¯ä»¶æº"></a>æ›´æ–°è½¯ä»¶æº</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># echo &quot;deb http:&#x2F;&#x2F;cn.archive.ubuntu.com&#x2F;ubuntu&#x2F; xenial main restricted universe multiverse&quot; &gt;&gt; &#x2F;etc&#x2F;apt&#x2F;sources.list</span><br><span class="line"># echo &quot;deb http:&#x2F;&#x2F;cn.archive.ubuntu.com&#x2F;ubuntu&#x2F; xenial-security main restricted universe multiverse&quot; &gt;&gt; &#x2F;etc&#x2F;apt&#x2F;sources.list</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># apt-get update</span><br></pre></td></tr></table></figure>

<h5 id="å®‰è£…Erlangä¾èµ–"><a href="#å®‰è£…Erlangä¾èµ–" class="headerlink" title="å®‰è£…Erlangä¾èµ–"></a>å®‰è£…Erlangä¾èµ–</h5><p>Erlangå¯ä»¥é€šè¿‡åŒ…ç®¡ç†å™¨æ¥å®‰è£…ï¼Œæˆ–è€…ç›´æ¥ä»å®˜æ–¹ç½‘ç«™ä¸‹è½½å®‰è£…åŒ…æ¥å®‰è£…ã€‚</p>
<p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd &#x2F;tmp</span><br><span class="line">wget http:&#x2F;&#x2F;packages.erlang-solutions.com&#x2F;ubuntu&#x2F;erlang_solutions.asc</span><br><span class="line"># apt-key add erlang_solutions.asc</span><br><span class="line"># apt-get update</span><br><span class="line"># apt-get install erlang</span><br><span class="line"># apt-get install erlang-nox</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ç›´æ¥ä»ç½‘ç«™ <a href="https://packages.erlang-solutions.com/erlang/#tabs-debian" target="_blank" rel="noopener">Erlang Downloads</a> ä¸‹è½½ <code>.deb</code> å®‰è£…åŒ…æ¥å®‰è£…ã€‚</p>
<h5 id="å®‰è£…RabbitMQ"><a href="#å®‰è£…RabbitMQ" class="headerlink" title="å®‰è£…RabbitMQ"></a>å®‰è£…RabbitMQ</h5><p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤é€šè¿‡åŒ…ç®¡ç†å™¨æ¥å®‰è£…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># echo &quot;deb https:&#x2F;&#x2F;dl.bintray.com&#x2F;rabbitmq&#x2F;debian xenial main&quot; | tee &#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;bintray.rabbitmq.list</span><br><span class="line"></span><br><span class="line"># wget -O- https:&#x2F;&#x2F;www.rabbitmq.com&#x2F;rabbitmq-release-signing-key.asc | apt-key add -</span><br><span class="line"></span><br><span class="line"># apt-get update</span><br><span class="line"># apt-get install rabbitmq-server</span><br></pre></td></tr></table></figure>

<p>å‘ç°é€šè¿‡ä¸Šé¢æ–¹æ³•å®‰è£…çš„ <code>Erlang Version</code> ä¸º <code>Erlang/OTP 18 [erts-7.3] [source] [64-bit] [smp:2:2]</code> ï¼Œ<br><code>RabbitMQ Version</code> ä¸º <code>&quot;RabbitMQ&quot;,&quot;3.5.7&quot;</code></p>
<p>éƒ½ä¸æ˜¯å®˜ç½‘ä¸Šçš„æœ€æ–°ç‰ˆæœ¬ï¼Œä½†åœ¨è½¯ä»¶æºä¸­æ¥è¯´å·²æ˜¯å¯å®‰è£…çš„æœ€æ–°ç‰ˆæœ¬ã€‚æ‰€ä»¥å¦‚æœæƒ³è¦å®‰è£…å®˜æ–¹çš„æœ€æ–°ç‰ˆæœ¬ï¼Œå¯ä»¥é‡‡ç”¨ç›´æ¥ä»å®˜ç½‘è·å–å®‰è£…åŒ…çš„æ–¹å¼æ¥å®‰è£…ã€‚</p>
<h5 id="å®‰è£…å®˜æ–¹æœ€æ–°ç‰ˆ"><a href="#å®‰è£…å®˜æ–¹æœ€æ–°ç‰ˆ" class="headerlink" title="å®‰è£…å®˜æ–¹æœ€æ–°ç‰ˆ"></a>å®‰è£…å®˜æ–¹æœ€æ–°ç‰ˆ</h5><p>åœ¨Ubuntuç³»ç»Ÿä¸‹ç›´æ¥ä¸‹è½½ <code>rabbitmq</code> çš„ <code>*.deb</code> å®‰è£…åŒ…ï¼š</p>
<p>ä»åœ°å€ <a href="https://www.rabbitmq.com/install-debian.html" target="_blank" rel="noopener">Installing on Debian / Ubuntu</a> çœ‹åˆ°æœ€æ–°ç‰ˆæœ¬æ˜¯ 3.7.0 <a href="https://dl.bintray.com/rabbitmq/all/rabbitmq-server/3.7.0/rabbitmq-server_3.7.0-1_all.deb" target="_blank" rel="noopener">rabbitmq-server_3.7.0-1_all.deb</a></p>
<p>ä¹Ÿå¯ä»¥ä»ç½‘å€ <a href="https://www.rabbitmq.com/releases/rabbitmq-server/" target="_blank" rel="noopener">Released Artifacts</a> é€‰æ‹©å…¶ä»–æŒ‡å®šç‰ˆæœ¬ã€‚</p>
<p>ä¸‹é¢ä»¥ <code>rabbitmq-server_3.7.0-1_all.deb</code> ä¸ºä¾‹å®‰è£…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># wget https:&#x2F;&#x2F;dl.bintray.com&#x2F;rabbitmq&#x2F;all&#x2F;rabbitmq-server&#x2F;3.7.0&#x2F;rabbitmq-server_3.7.0-1_all.deb</span><br><span class="line"># dpkg -i rabbitmq-server_3.7.0-1_all.deb</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæç¤ºä¾èµ–å…¶ä»–çš„åŒ…ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…ä¾èµ–åŒ…:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># apt-get -f install</span><br></pre></td></tr></table></figure>

<p>ç„¶åå†æ¬¡æ‰§è¡Œå®‰è£…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># dpkg -i rabbitmq-server_3.7.0-1_all.deb</span><br></pre></td></tr></table></figure>

<p>æˆ‘åœ¨æ‰§è¡Œ <code>apt-get -f install</code> æ—¶é‡åˆ°é—®é¢˜ï¼Œè¾“å‡ºæç¤ºæ˜¯è¦ç§»é™¤ <code>rabbitmq-server</code> ï¼Œå¹¶æ²¡æœ‰è‡ªåŠ¨å®‰è£…å…¶ä»–ä¾èµ–ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root@b792ae940e3e:&#x2F;app# dpkg -i rabbitmq-server_3.7.0-1_all.deb </span><br><span class="line">Selecting previously unselected package rabbitmq-server.</span><br><span class="line">(Reading database ... 7744 files and directories currently installed.)</span><br><span class="line">Preparing to unpack rabbitmq-server_3.7.0-1_all.deb ...</span><br><span class="line">Unpacking rabbitmq-server (3.7.0-1) ...</span><br><span class="line">dpkg: dependency problems prevent configuration of rabbitmq-server:</span><br><span class="line"> rabbitmq-server depends on erlang-nox (&gt;&#x3D; 1:19.3) | esl-erlang (&gt;&#x3D; 1:19.3); however:</span><br><span class="line">  Package erlang-nox is not installed.</span><br><span class="line">  Package esl-erlang is not installed.</span><br><span class="line"> rabbitmq-server depends on logrotate; however:</span><br><span class="line">  Package logrotate is not installed.</span><br><span class="line"> rabbitmq-server depends on socat; however:</span><br><span class="line">  Package socat is not installed.</span><br><span class="line"></span><br><span class="line">dpkg: error processing package rabbitmq-server (--install):</span><br><span class="line"> dependency problems - leaving unconfigured</span><br><span class="line">Processing triggers for systemd (229-4ubuntu21) ...</span><br><span class="line">Errors were encountered while processing:</span><br><span class="line"> rabbitmq-server</span><br><span class="line">root@b792ae940e3e:&#x2F;app# apt-get -f install</span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree       </span><br><span class="line">Reading state information... Done</span><br><span class="line">Correcting dependencies... Done</span><br><span class="line">The following packages will be REMOVED:</span><br><span class="line">  rabbitmq-server</span><br><span class="line">0 upgraded, 0 newly installed, 1 to remove and 2 not upgraded.</span><br><span class="line">1 not fully installed or removed.</span><br><span class="line">After this operation, 13.3 MB disk space will be freed.</span><br><span class="line">Do you want to continue? [Y&#x2F;n]</span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥ï¼Œæˆ‘é€‰æ‹©æ‰‹åŠ¨å®‰è£… <code>Erland</code> çš„ <code>.deb</code> åŒ…ã€‚</p>
<p>ä» ç½‘ç«™ <a href="https://www.rabbitmq.com/which-erlang.html" target="_blank" rel="noopener">RabbitMQ Erlang Version Requirements</a> ä¸­å¯ä»¥çœ‹åˆ°RabbitMQå’ŒErlangç‰ˆæœ¬ä¹‹é—´çš„å¯¹åº”å…³ç³»ã€‚è¿™é‡Œä¸Šé¢çš„æˆ‘æŒ‰ç…§çš„æ˜¯RabbitMQçš„ <code>3.7.0</code> ç‰ˆæœ¬ï¼Œæ‰€ä»¥æˆ‘å¯ä»¥é€‰æ‹©Erlangçš„æœ€æ–°ç‰ˆå³ <code>20.1.7</code> ç‰ˆæœ¬å®‰è£…ã€‚ä¸‹è½½åœ°å€è§ï¼š<a href="https://packages.erlang-solutions.com/erlang/#tabs-debian" target="_blank" rel="noopener">Erlang Downloads</a> ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># wget http:&#x2F;&#x2F;packages.erlang-solutions.com&#x2F;site&#x2F;esl&#x2F;esl-erlang&#x2F;FLAVOUR_1_general&#x2F;esl-erlang_20.1.7-1~ubuntu~xenial_amd64.deb</span><br><span class="line"></span><br><span class="line"># dpkg -i esl-erlang_20.1.7-1~ubuntu~xenial_amd64.deb</span><br></pre></td></tr></table></figure>

<p>è¿™æ¬¡å®‰è£…æ—¶ä¹Ÿæç¤ºç¼ºå°‘ä¾èµ–ï¼Œæ‰€ä»¥æˆ‘æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># apt-get -f install</span><br></pre></td></tr></table></figure>

<p>ç»“æœæ˜¯æ‰¾åˆ°äº†ç›¸å…³çš„ä¾èµ–åŒ…ï¼Œè¾“å…¥ <code>y</code> è¿›è¡Œå®‰è£…ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root@b792ae940e3e:&#x2F;app# ls</span><br><span class="line">esl-erlang_20.1.7-1~ubuntu~xenial_amd64.deb  rabbitmq-server_3.7.0-1_all.deb</span><br><span class="line">root@b792ae940e3e:&#x2F;app# dpkg -i esl-erlang_20.1.7-1~ubuntu~xenial_amd64.deb </span><br><span class="line">Selecting previously unselected package esl-erlang.</span><br><span class="line">(Reading database ... 7744 files and directories currently installed.)</span><br><span class="line">Preparing to unpack esl-erlang_20.1.7-1~ubuntu~xenial_amd64.deb ...</span><br><span class="line">Unpacking esl-erlang (1:20.1.7) ...</span><br><span class="line">dpkg: dependency problems prevent configuration of esl-erlang:</span><br><span class="line"> esl-erlang depends on libwxbase2.8-0 | libwxbase3.0-0 | libwxbase3.0-0v5; however:</span><br><span class="line">  Package libwxbase2.8-0 is not installed.</span><br><span class="line">  Package libwxbase3.0-0 is not installed.</span><br><span class="line">  Package libwxbase3.0-0v5 is not installed.</span><br><span class="line"> esl-erlang depends on libwxgtk2.8-0 | libwxgtk3.0-0 | libwxgtk3.0-0v5; however:</span><br><span class="line">  Package libwxgtk2.8-0 is not installed.</span><br><span class="line">  Package libwxgtk3.0-0 is not installed.</span><br><span class="line">  Package libwxgtk3.0-0v5 is not installed.</span><br><span class="line"> esl-erlang depends on libsctp1; however:</span><br><span class="line">  Package libsctp1 is not installed.</span><br><span class="line"></span><br><span class="line">dpkg: error processing package esl-erlang (--install):</span><br><span class="line"> dependency problems - leaving unconfigured</span><br><span class="line">Errors were encountered while processing:</span><br><span class="line"> esl-erlang</span><br><span class="line">root@b792ae940e3e:&#x2F;app# apt-get -f install</span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree       </span><br><span class="line">Reading state information... Done</span><br><span class="line">Correcting dependencies... Done</span><br><span class="line">The following additional packages will be installed:</span><br><span class="line">......</span><br><span class="line">......</span><br></pre></td></tr></table></figure>

<p>ç„¶åå†æ¬¡å®‰è£… <code>esl-erlang_20.1.7-1~ubuntu~xenial_amd64.deb</code> åŒ…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># dpkg -i esl-erlang_20.1.7-1~ubuntu~xenial_amd64.deb</span><br></pre></td></tr></table></figure>

<p>æœ€åï¼Œå®‰è£…RabbitMQçš„åŒ…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># dpkg -i rabbitmq-server_3.6.14-1_all.deb</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸­é€”å†å‡ºç°ç¼ºå°‘ä¾èµ–åŒ…çš„é—®é¢˜ï¼Œé€šè¿‡ <code>apt-get -f install</code> æ¥è§£å†³ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root@b792ae940e3e:&#x2F;app# dpkg -i rabbitmq-server_3.7.0-1_all.deb </span><br><span class="line">Selecting previously unselected package rabbitmq-server.</span><br><span class="line">(Reading database ... 29232 files and directories currently installed.)</span><br><span class="line">Preparing to unpack rabbitmq-server_3.7.0-1_all.deb ...</span><br><span class="line">Unpacking rabbitmq-server (3.7.0-1) ...</span><br><span class="line">dpkg: dependency problems prevent configuration of rabbitmq-server:</span><br><span class="line"> rabbitmq-server depends on logrotate; however:</span><br><span class="line">  Package logrotate is not installed.</span><br><span class="line"> rabbitmq-server depends on socat; however:</span><br><span class="line">  Package socat is not installed.</span><br><span class="line"></span><br><span class="line">dpkg: error processing package rabbitmq-server (--install):</span><br><span class="line"> dependency problems - leaving unconfigured</span><br><span class="line">Processing triggers for systemd (229-4ubuntu21) ...</span><br><span class="line">Errors were encountered while processing:</span><br><span class="line"> rabbitmq-server</span><br><span class="line">root@b792ae940e3e:&#x2F;app# apt-get -f install </span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree       </span><br><span class="line">Reading state information... Done</span><br><span class="line">Correcting dependencies... Done</span><br><span class="line">The following additional packages will be installed:</span><br><span class="line">  cron libpopt0 libwrap0 logrotate socat tcpd</span><br><span class="line">Suggested packages:</span><br><span class="line">  anacron checksecurity exim4 | postfix | mail-transport-agent mailx</span><br><span class="line">The following NEW packages will be installed:</span><br><span class="line">  cron libpopt0 libwrap0 logrotate socat tcpd</span><br><span class="line">0 upgraded, 6 newly installed, 0 to remove and 2 not upgraded.</span><br><span class="line">1 not fully installed or removed.</span><br><span class="line">Need to get 522 kB of archives.</span><br><span class="line">After this operation, 1674 kB of additional disk space will be used.</span><br><span class="line">Do you want to continue? [Y&#x2F;n]</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://www.rabbitmq.com/download.html" target="_blank" rel="noopener">Downloading and Installing RabbitMQ</a></li>
<li><a href="https://www.36nu.com/post/240.html" target="_blank" rel="noopener">RabbitMQå®‰è£…æ–¹å¼åŠå¸¸ç”¨å‘½ä»¤ </a> â˜†</li>
<li><a href="https://packages.erlang-solutions.com/erlang/#tabs-debian" target="_blank" rel="noopener">Erlang Downloads</a></li>
</ul>
<hr>
<h5 id="Run-RabbitMQ-Server"><a href="#Run-RabbitMQ-Server" class="headerlink" title="Run RabbitMQ Server"></a>Run RabbitMQ Server</h5><p>å¯åŠ¨ RabbitMQ æœåŠ¡:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># service rabbitmq-server start</span><br></pre></td></tr></table></figure>

<p>å®‰è£… RabbitMQWeb ç®¡ç†æ’ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># rabbitmq-plugins enable rabbitmq_management  </span><br><span class="line"># service rabbitmq-server restart</span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€æµè§ˆå™¨ç™»å½•ï¼š<a href="http://127.0.0.1:15672ï¼Œç™»å½•è´¦å·å¯†ç é»˜è®¤éƒ½æ˜¯">http://127.0.0.1:15672ï¼Œç™»å½•è´¦å·å¯†ç é»˜è®¤éƒ½æ˜¯</a> <code>guest</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root@730778dc65bd:&#x2F;app# rabbitmq-plugins enable rabbitmq_management</span><br><span class="line">The following plugins have been enabled:</span><br><span class="line">  mochiweb</span><br><span class="line">  webmachine</span><br><span class="line">  rabbitmq_web_dispatch</span><br><span class="line">  amqp_client</span><br><span class="line">  rabbitmq_management_agent</span><br><span class="line">  rabbitmq_management</span><br><span class="line"></span><br><span class="line">Applying plugin configuration to rabbit@730778dc65bd... started 6 plugins.</span><br><span class="line">root@730778dc65bd:&#x2F;app# service rabbitmq-server restart</span><br><span class="line"> * Restarting RabbitMQ Messaging Server rabbitmq-server                                                      [ OK ] </span><br><span class="line">root@730778dc65bd:&#x2F;app#</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">## æŸ¥çœ‹rabbitmqçŠ¶æ€</span><br><span class="line">root@730778dc65bd:&#x2F;app# rabbitmqctl status</span><br><span class="line">Status of node rabbit@730778dc65bd ...</span><br><span class="line">Error: unable to connect to node rabbit@730778dc65bd: nodedown</span><br><span class="line"></span><br><span class="line">DIAGNOSTICS</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line"></span><br><span class="line">attempted to contact: [rabbit@730778dc65bd]</span><br><span class="line"></span><br><span class="line">rabbit@730778dc65bd:</span><br><span class="line">  * connected to epmd (port 4369) on 730778dc65bd</span><br><span class="line">  * epmd reports: node &#39;rabbit&#39; not running at all</span><br><span class="line">                  no other nodes on 730778dc65bd</span><br><span class="line">  * suggestion: start the node</span><br><span class="line"></span><br><span class="line">current node details:</span><br><span class="line">- node name: &#39;rabbitmq-cli-9223@730778dc65bd&#39;</span><br><span class="line">- home dir: &#x2F;var&#x2F;lib&#x2F;rabbitmq</span><br><span class="line">- cookie hash: MwPrvM8WUeAkWCiIWYw2fg&#x3D;&#x3D;</span><br><span class="line"></span><br><span class="line">root@730778dc65bd:&#x2F;app# </span><br><span class="line"></span><br><span class="line">root@730778dc65bd:&#x2F;app# service rabbitmq-server start</span><br><span class="line"> * Starting RabbitMQ Messaging Server rabbitmq-server                                                        [ OK ] </span><br><span class="line">root@730778dc65bd:&#x2F;app# rabbitmqctl status</span><br><span class="line">Status of node rabbit@730778dc65bd ...</span><br><span class="line">[&#123;pid,9527&#125;,</span><br><span class="line"> &#123;running_applications,[&#123;rabbit,&quot;RabbitMQ&quot;,&quot;3.5.7&quot;&#125;,</span><br><span class="line">                        &#123;mnesia,&quot;MNESIA  CXC 138 12&quot;,&quot;4.13.3&quot;&#125;,</span><br><span class="line">                        &#123;xmerl,&quot;XML parser&quot;,&quot;1.3.10&quot;&#125;,</span><br><span class="line">                        &#123;os_mon,&quot;CPO  CXC 138 46&quot;,&quot;2.4&quot;&#125;,</span><br><span class="line">                        &#123;sasl,&quot;SASL  CXC 138 11&quot;,&quot;2.7&quot;&#125;,</span><br><span class="line">                        &#123;stdlib,&quot;ERTS  CXC 138 10&quot;,&quot;2.8&quot;&#125;,</span><br><span class="line">                        &#123;kernel,&quot;ERTS  CXC 138 10&quot;,&quot;4.2&quot;&#125;]&#125;,</span><br><span class="line"> &#123;os,&#123;unix,linux&#125;&#125;,</span><br><span class="line"> &#123;erlang_version,&quot;Erlang&#x2F;OTP 18 [erts-7.3] [source] [64-bit] [smp:2:2] [async-threads:64] [kernel-poll:true]\n&quot;&#125;,</span><br><span class="line"> &#123;memory,[&#123;total,83922208&#125;,</span><br><span class="line">          &#123;connection_readers,0&#125;,</span><br><span class="line">          &#123;connection_writers,0&#125;,</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="RabbitMQä¸­çš„vitrual-host"><a href="#RabbitMQä¸­çš„vitrual-host" class="headerlink" title="RabbitMQä¸­çš„vitrual host"></a>RabbitMQä¸­çš„vitrual host</h5><p><code>Virtual host</code>ï¼Œæ˜¯èµ·åˆ°éš”ç¦»ä½œç”¨çš„ã€‚æ¯ä¸€ä¸ª <code>vhost</code> éƒ½æœ‰è‡ªå·±çš„ <code>exchanges</code> å’Œ <code>queues</code>ï¼Œå®ƒä»¬äº’ä¸å½±å“ã€‚ä¸åŒçš„åº”ç”¨å¯ä»¥è·‘åœ¨ç›¸åŒçš„ <code>rabbitmq</code> ä¸Šï¼Œä½¿ç”¨ <code>vhost</code> æŠŠå®ƒä»¬éš”ç¦»å¼€å°±è¡Œã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>rabbitmq</code> å®‰è£…åï¼Œé»˜è®¤çš„ <code>vhost</code> æ˜¯ <code>/</code>ã€‚</p>
<h5 id="åˆ›å»ºç”¨æˆ·å¹¶è®¾ç½®è™šæ‹Ÿä¸»æœº"><a href="#åˆ›å»ºç”¨æˆ·å¹¶è®¾ç½®è™šæ‹Ÿä¸»æœº" class="headerlink" title="åˆ›å»ºç”¨æˆ·å¹¶è®¾ç½®è™šæ‹Ÿä¸»æœº"></a>åˆ›å»ºç”¨æˆ·å¹¶è®¾ç½®è™šæ‹Ÿä¸»æœº</h5><p>å¯ä»¥å‘ç°ä¸Šé¢æˆ‘ä»¬é€šè¿‡ <code>guest</code> ç”¨æˆ·åœ¨å…¶ä»–ç”µè„‘ä¸Šæˆ–å¤–ç½‘æ®µè®¿é—®æ—¶ï¼Œä¼šæç¤º <code>User can only log in via localhost</code> ï¼Œè¿™æ˜¯å› ä¸º <code>guest</code> æ˜¯ä»…å…è®¸åœ¨ <code>localhost</code> ä¸‹æ‰èƒ½ç™»é™†çš„ã€‚å¦‚æœæˆ‘ä»¬æƒ³åœ¨å¤–éƒ¨è®¿é—®ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„è´¦æˆ·ã€‚</p>
<p>åˆ›å»ºç”¨æˆ·çš„åŒæ—¶ä¸ºè¯¥ç”¨æˆ·æŒ‡å®šå…è®¸è®¿é—®çš„è™šæ‹Ÿä¸»æœº <code>myvhost</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># rabbitmqctl add_user myuser mypassword</span><br><span class="line"># rabbitmqctl add_vhost myvhost</span><br><span class="line"># rabbitmqctl set_permissions -p myvhost myuser &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ï¼Œæ–°åˆ›å»ºçš„è´¦æˆ· <code>myuser</code> ä¹Ÿå¹¶æ²¡æœ‰æƒé™åœ¨å¤–ç½‘è®¿é—®ï¼Œå¯ä»¥ç”¨ <code>set_user_tags</code> ä¸ºç”¨æˆ·è®¾ç½®è§’è‰²ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># rabbitmqctl set_user_tags myuser administrator</span><br></pre></td></tr></table></figure>

<p>ç„¶åæˆ‘ä»¬å°±èƒ½åœ¨å¤–ç½‘é€šè¿‡åœ°å€ <code>http://192.168.5.107:15673/</code> æ¥è®¿é—®ç®¡ç†ç«¯äº†ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># User: myuser </span><br><span class="line"># UserPwd: hello</span><br><span class="line"># VHost: hellohost</span><br><span class="line"></span><br><span class="line">root@b792ae940e3e:&#x2F;app# rabbitmqctl add_user myuser hello</span><br><span class="line">Adding user &quot;myuser&quot; ...</span><br><span class="line">root@b792ae940e3e:&#x2F;app# rabbitmqctl add_vhost hellohost</span><br><span class="line">Adding vhost &quot;hellohost&quot; ...</span><br><span class="line">root@b792ae940e3e:&#x2F;app# rabbitmqctl set_permissions -p hellohost myuser &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;</span><br><span class="line">Setting permissions for user &quot;myuser&quot; in vhost &quot;hellohost&quot; ...</span><br><span class="line">root@b792ae940e3e:&#x2F;app#</span><br></pre></td></tr></table></figure>

<p>ç„¶åé‡å¯æœåŠ¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># service rabbitmq-server restart</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Celery"><a href="#Celery" class="headerlink" title="Celery"></a>Celery</h4><p>Celeryå®˜æ–¹æ¨èä½¿ç”¨ <code>RabbitMQ</code> æˆ– <code>Redis</code> æ¥ä½œä¸ºä¸­é—´ä»¶ã€‚è®¾ç½®ä¹Ÿå¾ˆç®€å•ï¼Œé€šè¿‡ <code>broker</code> å’Œ <code>backend</code> å‚æ•°å³å¯ç»‘å®šã€‚</p>
<h5 id="broker-å’Œ-backend"><a href="#broker-å’Œ-backend" class="headerlink" title="broker å’Œ backend"></a>broker å’Œ backend</h5><p>å¯ä»¥ç”¨RabbitMQå’ŒRedisæ¥ä½œä¸ºbrokeræˆ–backendï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">app &#x3D; Celery(&#39;tasks&#39;, backend&#x3D;&#39;amqp&#39;, broker&#x3D;&#39;amqp:&#x2F;&#x2F;&#39;)</span><br></pre></td></tr></table></figure>


<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">app &#x3D; Celery(&#39;tasks&#39;, backend&#x3D;&#39;redis:&#x2F;&#x2F;localhost&#39;, broker&#x3D;&#39;amqp:&#x2F;&#x2F;&#39;)</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼Œè™½ç„¶æ¨èä½¿ç”¨RabbitMQæ¥ä½œä¸º <code>broker</code>ï¼Œä½†ä¸æ¨èå…¶ä½œä¸º <code>backend</code> ã€‚å…·ä½“åŸå› æˆ‘ä¼šåœ¨åé¢çš„æ–‡ç« ä¸­è¯´æ˜ã€‚</p>
<h5 id="ä¸­é—´äººRabbitMQ"><a href="#ä¸­é—´äººRabbitMQ" class="headerlink" title="ä¸­é—´äººRabbitMQ"></a>ä¸­é—´äººRabbitMQ</h5><p>RabbitMQ åŠŸèƒ½å®Œå¤‡ã€ç¨³å®šï¼Œæ˜¯ä¸€ä¸ªéå¸¸å¯é çš„é€‰æ‹©ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">BROKER_URL &#x3D;transport:&#x2F;&#x2F;userid:password@hostname:port&#x2F;virtual_host</span><br><span class="line"></span><br><span class="line">BROKER_URL &#x3D; &#39;amqp:&#x2F;&#x2F;guest:guest@localhost:5672&#x2F;&#x2F;&#39;</span><br></pre></td></tr></table></figure>

<p>å®Œæ•´çš„æ ¼å¼ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CELERY_BROKER_URL &#x3D; &#39;amqp:&#x2F;&#x2F;[YOUR_NAME]:[PASSWORD]@localhost:[PORT]&#x2F;[VHOST_NAME]&#39;</span><br></pre></td></tr></table></figure>

<h5 id="ä¸­é—´äººRedis"><a href="#ä¸­é—´äººRedis" class="headerlink" title="ä¸­é—´äººRedis"></a>ä¸­é—´äººRedis</h5><p>ä¸ <code>RabbitMQ</code> ç›¸æ¯”ï¼Œä½¿ç”¨ <code>Redis</code> ä½œä¸º <code>broker</code> ç¼ºç‚¹æ˜¯å¯èƒ½å› ä¸ºæ‰ç”µæˆ–å¼‚å¸¸é€€å‡ºå¯¼è‡´æ•°æ®ä¸¢å¤±ï¼Œä¼˜ç‚¹æ˜¯ä½¿ç”¨ç®€å•ã€‚</p>
<p>ä»¥ä¸‹å‘½ä»¤å¯ä»¥åŒæ—¶å®‰è£… <code>celery</code> å’Œ <code>redis</code> ç›¸å…³çš„ä¾èµ–ï¼Œä½†æ˜¯ <code>redis server</code> è¿˜æ˜¯å¿…é¡»å•ç‹¬å®‰è£…çš„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ pip install -U celery[redis] # -U çš„æ„æ€æ˜¯æŠŠæ‰€æœ‰æŒ‡å®šçš„åŒ…éƒ½å‡çº§åˆ°æœ€æ–°çš„ç‰ˆæœ¬</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">BROKER_URL &#x3D; &#39;redis:&#x2F;&#x2F;localhost:6379&#x2F;&#x2F;&#39;</span><br></pre></td></tr></table></figure>

<h5 id="å®‰è£…celery"><a href="#å®‰è£…celery" class="headerlink" title="å®‰è£…celery"></a>å®‰è£…celery</h5><p>å…ˆå®‰è£… <code>python3</code>  <code>pip3</code> ç­‰ä¾èµ–:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># apt-get install -y python3 python3-pip</span><br></pre></td></tr></table></figure>


<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># pip3 install celery</span><br><span class="line"># æˆ–è€…ï¼š</span><br><span class="line"># pip3 install -U Celery</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºä¸€ä¸ª <code>tasks.py</code> æ–‡ä»¶:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">from celery import Celery</span><br><span class="line"></span><br><span class="line">app &#x3D; Celery(&#39;tasks&#39;, broker&#x3D;&#39;amqp:&#x2F;&#x2F;guest@localhost&#x2F;&#x2F;&#39;)</span><br><span class="line"></span><br><span class="line">@app.task</span><br><span class="line">def add(x, y):</span><br><span class="line">    return x + y</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼Œå…¶ä¸­çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">app &#x3D; Celery(&#39;tasks&#39;, broker&#x3D;&#39;amqp:&#x2F;&#x2F;guest@localhost&#x2F;&#x2F;&#39;)</span><br></pre></td></tr></table></figure>

<p>ä¸­ <code>broker</code> è¦æ”¹ä¸ºä¸Šé¢è®¾ç½®çš„RabbitMQçš„ä¿¡æ¯ï¼Œæ‰€ä»¥ç»“æœä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">app &#x3D; Celery(&#39;tasks&#39;,broker&#x3D;&#39;amqp:&#x2F;&#x2F;myuser:hello@localhost:5672&#x2F;hellohost&#39;)</span><br></pre></td></tr></table></figure>

<p>Celery çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å½“å‰æ¨¡å—çš„åç§°ï¼Œè¿™ä¸ªå‚æ•°æ˜¯å¿…é¡»çš„ï¼Œè¿™æ ·çš„è¯åç§°å¯ä»¥è‡ªåŠ¨ç”Ÿæˆã€‚<br>ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸­é—´äººå…³é”®å­—å‚æ•°ï¼ŒæŒ‡å®šä½ æ‰€ä½¿ç”¨çš„æ¶ˆæ¯ä¸­é—´äººçš„ URLã€‚</p>
<h5 id="ä¿å­˜ç»“æœ"><a href="#ä¿å­˜ç»“æœ" class="headerlink" title="ä¿å­˜ç»“æœ"></a>ä¿å­˜ç»“æœ</h5><p>æ‰§è¡Œå®Œæˆåçš„ç»“æœï¼ŒCelery éœ€è¦åœ¨æŸä¸ªåœ°æ–¹å­˜å‚¨æˆ–å‘é€ä»»åŠ¡å¤„ç†åçš„çŠ¶æ€ï¼Œå¯ä»¥é€šè¿‡ <code>backend</code> å‚æ•°æ¥æŒ‡å®šã€‚æ ¼å¼å’Œ <code>broker</code> ä¸€è‡´ã€‚</p>
<p>å®Œæ•´çš„ <code>tasks.py</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;env python3</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line">from celery import Celery</span><br><span class="line"></span><br><span class="line">app &#x3D; Celery(&#39;tasks&#39;,</span><br><span class="line">             broker&#x3D;&#39;amqp:&#x2F;&#x2F;myuser:hello@localhost:5672&#x2F;hellohost&#39;,</span><br><span class="line">             backend&#x3D;&#39;amqp:&#x2F;&#x2F;myuser:hello@localhost:5672&#x2F;hellohost&#39;</span><br><span class="line">             )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@app.task</span><br><span class="line">def add(x, y):</span><br><span class="line">    return x + y</span><br></pre></td></tr></table></figure>

<h5 id="è¿è¡ŒCelery"><a href="#è¿è¡ŒCelery" class="headerlink" title="è¿è¡ŒCelery"></a>è¿è¡ŒCelery</h5><p>ç”¨ worker å‚æ•°æ‰§è¡Œç¨‹åº:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ celery -A tasks worker --loglevel&#x3D;info</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root@b792ae940e3e:&#x2F;app# celery -A tasks worker --loglevel&#x3D;info</span><br><span class="line">&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.5&#x2F;dist-packages&#x2F;celery&#x2F;platforms.py:795: RuntimeWarning: You&#39;re running the worker with superuser privileges: this is</span><br><span class="line">absolutely not recommended!</span><br><span class="line"></span><br><span class="line">Please specify a different user using the -u option.</span><br><span class="line"></span><br><span class="line">User information: uid&#x3D;0 euid&#x3D;0 gid&#x3D;0 egid&#x3D;0</span><br><span class="line"></span><br><span class="line">  uid&#x3D;uid, euid&#x3D;euid, gid&#x3D;gid, egid&#x3D;egid,</span><br><span class="line">&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.5&#x2F;dist-packages&#x2F;celery&#x2F;backends&#x2F;amqp.py:68: CPendingDeprecationWarning: </span><br><span class="line">    The AMQP result backend is scheduled for deprecation in     version 4.0 and removal in version v5.0.     Please use RPC backend or a persistent backend.</span><br><span class="line"></span><br><span class="line">  alternative&#x3D;&#39;Please use RPC backend or a persistent backend.&#39;)</span><br><span class="line"> </span><br><span class="line"> -------------- celery@b792ae940e3e v4.1.0 (latentcall)</span><br><span class="line">---- **** ----- </span><br><span class="line">--- * ***  * -- Linux-4.4.0-42-generic-x86_64-with-Ubuntu-16.04-xenial 2017-12-09 13:50:06</span><br><span class="line">-- * - **** --- </span><br><span class="line">- ** ---------- [config]</span><br><span class="line">- ** ---------- .&gt; app:         tasks:0x7f97a8360dd8</span><br><span class="line">- ** ---------- .&gt; transport:   amqp:&#x2F;&#x2F;myuser:**@localhost:5672&#x2F;hellohost</span><br><span class="line">- ** ---------- .&gt; results:     amqp:&#x2F;&#x2F;</span><br><span class="line">- *** --- * --- .&gt; concurrency: 2 (prefork)</span><br><span class="line">-- ******* ---- .&gt; task events: OFF (enable -E to monitor tasks in this worker)</span><br><span class="line">--- ***** ----- </span><br><span class="line"> -------------- [queues]</span><br><span class="line">                .&gt; celery           exchange&#x3D;celery(direct) key&#x3D;celery</span><br><span class="line">                </span><br><span class="line"></span><br><span class="line">[tasks]</span><br><span class="line">  . tasks.add</span><br><span class="line"></span><br><span class="line">[2017-12-09 13:50:06,121: INFO&#x2F;MainProcess] Connected to amqp:&#x2F;&#x2F;myuser:**@127.0.0.1:5672&#x2F;hellohost</span><br><span class="line">[2017-12-09 13:50:06,137: INFO&#x2F;MainProcess] mingle: searching for neighbors</span><br><span class="line">[2017-12-09 13:50:07,178: INFO&#x2F;MainProcess] mingle: all alone</span><br><span class="line">[2017-12-09 13:50:07,228: INFO&#x2F;MainProcess] celery@b792ae940e3e ready.</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ° <code>celery</code> çš„ <code>worker</code> å·²ç»å‡†å¤‡å°±ç»ªäº†ã€‚</p>
<p>æŸ¥çœ‹ <code>worker</code> å®Œæ•´çš„å‘½ä»¤è¡Œå‚æ•°åˆ—è¡¨:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$  celery worker --help</span><br><span class="line">## æˆ–è€…ï¼š</span><br><span class="line">$ celery help</span><br></pre></td></tr></table></figure>

<h5 id="è°ƒç”¨ä»»åŠ¡"><a href="#è°ƒç”¨ä»»åŠ¡" class="headerlink" title="è°ƒç”¨ä»»åŠ¡"></a>è°ƒç”¨ä»»åŠ¡</h5><p>ä½¿ç”¨ <code>delay()</code> æ–¹æ³•æ¥è°ƒç”¨ä»»åŠ¡ã€‚</p>
<p>æ–°æ‰“å¼€ä¸€ä¸ªæ§åˆ¶å°ç•Œé¢ï¼Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ docker exec -it celery1 &#x2F;bin&#x2F;bash</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># python3</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; from tasks import add</span><br><span class="line">&gt;&gt;&gt; add.delay(4, 4)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root@b792ae940e3e:&#x2F;app# python3</span><br><span class="line">Python 3.5.2 (default, Nov 23 2017, 16:37:01) </span><br><span class="line">[GCC 5.4.0 20160609] on linux</span><br><span class="line">Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.</span><br><span class="line">&gt;&gt;&gt; from tasks import add</span><br><span class="line">&gt;&gt;&gt; add.delay(3,4)</span><br><span class="line">&lt;AsyncResult: e1ae8ea3-8a8f-47c5-befb-e6ba975f0580&gt;</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œç»“æœï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171211cc9H40dDJ5.jpg" alt="mark"></p>
<p>åŒæ—¶ï¼Œä¹Ÿå¯ä»¥åœ¨ <code>RabbitMQ web</code> ç®¡ç†é¡µé¢çœ‹åˆ°æ–°å¢äº†ä¸€ä¸ªä»»åŠ¡å¹¶å­˜å‚¨äº†å¤„ç†ç»“æœï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/1712119JEB2m262l.jpg" alt="mark"></p>
<p>ä¸ºäº†å¾—åˆ°è°ƒç”¨ä»»åŠ¡åè¿”å›çš„ <code>AsyncResult</code> å®ä¾‹ï¼Œé€šè¿‡ä¸€ä¸ªå‚æ•°æ¥æ¥æ”¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; result&#x3D;add.delay(3,4)</span><br></pre></td></tr></table></figure>

<p><code>ready()</code> æ–¹æ³•æŸ¥çœ‹ä»»åŠ¡æ˜¯å¦å®Œæˆå¤„ç†:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; result.ready()</span><br><span class="line">True #ç»“æœè¿”å› &#96;True&#96; è¡¨ç¤ºä»»åŠ¡å¤„ç†å®Œæˆ</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæ˜¯å¼‚æ­¥è°ƒç”¨ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦è¿”å›çš„ç»“æœï¼Œé‚£ä¹ˆè¦ç­‰ <code>ready</code> çŠ¶æ€ä¸º <code>True</code> æ‰è¡Œã€‚</p>
<p>æ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[2017-12-09 13:50:07,228: INFO&#x2F;MainProcess] celery@b792ae940e3e ready.</span><br><span class="line">[2017-12-09 14:00:33,132: INFO&#x2F;MainProcess] Received task: tasks.add[e1ae8ea3-8a8f-47c5-befb-e6ba975f0580]  </span><br><span class="line">[2017-12-09 14:00:33,163: INFO&#x2F;ForkPoolWorker-1] Task tasks.add[e1ae8ea3-8a8f-47c5-befb-e6ba975f0580] succeeded in 0.02956800399988424s: 7</span><br><span class="line">[2017-12-09 14:17:21,033: INFO&#x2F;MainProcess] Received task: tasks.add[c178619e-3af3-41ed-8d2c-6371de80a601]  </span><br><span class="line">[2017-12-09 14:17:21,058: INFO&#x2F;ForkPoolWorker-1] Task tasks.add[c178619e-3af3-41ed-8d2c-6371de80a601] succeeded in 0.024445844999718247s: 7</span><br></pre></td></tr></table></figure>

<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="http://docs.jinkan.org/docs/celery/getting-started/first-steps-with-celery.html" target="_blank" rel="noopener">Celery åˆæ­¥</a></li>
</ul>
]]></content>
      <categories>
        <category>Celeryåˆ†å¸ƒå¼ä»»åŠ¡é˜Ÿåˆ—å…¥é—¨</category>
      </categories>
      <tags>
        <tag>Celery</tag>
        <tag>Docker</tag>
        <tag>RabbitMQ</tag>
      </tags>
  </entry>
  <entry>
    <title>Celeryåˆ†å¸ƒå¼ä»»åŠ¡é˜Ÿåˆ—å…¥é—¨(ä¸€)-ç†è®º</title>
    <url>/2017/12/10/celery-distributed-task-queue-introduction-first/</url>
    <content><![CDATA[<p>ä¹‹å‰æ›¾åœ¨å…¬å¸çš„ä¸€ä¸ªåˆ†å¸ƒå¼çˆ¬è™«é¡¹ç›®ä¸­ä½¿ç”¨ <code>Celery</code> å’Œ <code>RabbitMQ</code> å®ç°è¿‡åˆ†å¸ƒå¼çˆ¬è™«çš„åŠŸèƒ½ã€‚æœ€è¿‘åœ¨æ•´ç†ä¹‹å‰çš„å¼€å‘ç¬”è®°æ—¶ï¼Œçœ‹åˆ°ä¹‹å‰å†™çš„å…³äº <code>Celery</code> çš„æ–‡ç« ï¼Œå†³å®šè¶ç€æœ‰æ—¶é—´å†æŠŠå…³äºCeleryç›¸å…³çš„å†…å®¹å¥½å¥½çš„æ•´ç†ä¸€ç•ªï¼Œæ²¡æƒ³åˆ°è¶Šå†™è¶Šæƒ³æŠŠç›¸å…³çš„ç‚¹éƒ½ç†æ¸…æ¥šï¼Œä¹Ÿå°±æœ‰äº†è¿™ä¸ªCeleryç³»åˆ—æ–‡ç« ã€‚</p>
<p>Celery æ˜¯ä¸€ä¸ªç®€å•ã€çµæ´»ä¸”å¯é çš„ï¼Œå¤„ç†å¤§é‡æ¶ˆæ¯çš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå¹¶ä¸”æä¾›ç»´æŠ¤è¿™æ ·ä¸€ä¸ªç³»ç»Ÿçš„å¿…éœ€å·¥å…·ã€‚å®ƒæ˜¯ä¸€ä¸ªä¸“æ³¨äºå®æ—¶å¤„ç†çš„ä»»åŠ¡é˜Ÿåˆ—ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒä»»åŠ¡è°ƒåº¦ã€‚</p>
<a id="more"></a>

<h4 id="ä¸»è¦æ¨¡å—"><a href="#ä¸»è¦æ¨¡å—" class="headerlink" title="ä¸»è¦æ¨¡å—"></a>ä¸»è¦æ¨¡å—</h4><p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171211IdE7bgjLE1.png" alt="mark"></p>
<h5 id="ä»»åŠ¡æ¨¡å—-Task"><a href="#ä»»åŠ¡æ¨¡å—-Task" class="headerlink" title="ä»»åŠ¡æ¨¡å— Task"></a>ä»»åŠ¡æ¨¡å— Task</h5><p>åŒ…å«å¼‚æ­¥ä»»åŠ¡å’Œå®šæ—¶ä»»åŠ¡ã€‚å…¶ä¸­ï¼Œå¼‚æ­¥ä»»åŠ¡é€šå¸¸åœ¨ä¸šåŠ¡é€»è¾‘ä¸­è¢«è§¦å‘å¹¶å‘å¾€ä»»åŠ¡é˜Ÿåˆ—ï¼Œè€Œå®šæ—¶ä»»åŠ¡ç”± Celery Beat è¿›ç¨‹å‘¨æœŸæ€§åœ°å°†ä»»åŠ¡å‘å¾€ä»»åŠ¡é˜Ÿåˆ—ã€‚</p>
<h5 id="æ¶ˆæ¯ä¸­é—´ä»¶-Broker"><a href="#æ¶ˆæ¯ä¸­é—´ä»¶-Broker" class="headerlink" title="æ¶ˆæ¯ä¸­é—´ä»¶ Broker"></a>æ¶ˆæ¯ä¸­é—´ä»¶ Broker</h5><p>ä¸€ä¸ªæ¶ˆæ¯ä¼ è¾“çš„ä¸­é—´ä»¶ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªé‚®ç®±ï¼Œä½œä¸ºæ¶ˆè´¹è€…å’Œç”Ÿäº§è€…ä¹‹é—´çš„æ¡¥æ¢ã€‚æ¥æ”¶ä»»åŠ¡ç”Ÿäº§è€…å‘æ¥çš„æ¶ˆæ¯ï¼ˆå³ä»»åŠ¡ï¼‰ï¼Œå°†ä»»åŠ¡å­˜å…¥é˜Ÿåˆ—ã€‚Celery æœ¬èº«ä¸æä¾›é˜Ÿåˆ—æœåŠ¡ï¼Œå®˜æ–¹æ¨èä½¿ç”¨ RabbitMQ å’Œ Redis ç­‰ã€‚</p>
<h5 id="ä»»åŠ¡æ‰§è¡Œå•å…ƒ-Worker"><a href="#ä»»åŠ¡æ‰§è¡Œå•å…ƒ-Worker" class="headerlink" title="ä»»åŠ¡æ‰§è¡Œå•å…ƒ Worker"></a>ä»»åŠ¡æ‰§è¡Œå•å…ƒ Worker</h5><p>Worker æ˜¯æ‰§è¡Œä»»åŠ¡çš„å¤„ç†å•å…ƒï¼Œå®ƒå®æ—¶ç›‘æ§æ¶ˆæ¯é˜Ÿåˆ—ï¼Œè·å–é˜Ÿåˆ—ä¸­è°ƒåº¦çš„ä»»åŠ¡ï¼Œå¹¶æ‰§è¡Œå®ƒã€‚</p>
<h5 id="ä»»åŠ¡ç»“æœå­˜å‚¨-Backend"><a href="#ä»»åŠ¡ç»“æœå­˜å‚¨-Backend" class="headerlink" title="ä»»åŠ¡ç»“æœå­˜å‚¨ Backend"></a>ä»»åŠ¡ç»“æœå­˜å‚¨ Backend</h5><p>Backend ç”¨äºå­˜å‚¨ä»»åŠ¡çš„æ‰§è¡Œç»“æœï¼Œä»¥ä¾›æŸ¥è¯¢ã€‚åŒæ¶ˆæ¯ä¸­é—´ä»¶ä¸€æ ·ï¼Œå­˜å‚¨ä¹Ÿå¯ä½¿ç”¨ <code>RabbitMQ</code>, <code>Redis</code> å’Œ <code>MongoDB</code> ç­‰ã€‚</p>
<hr>
<h4 id="ç³»åˆ—æ–‡ç« ç›®å½•"><a href="#ç³»åˆ—æ–‡ç« ç›®å½•" class="headerlink" title="ç³»åˆ—æ–‡ç« ç›®å½•"></a>ç³»åˆ—æ–‡ç« ç›®å½•</h4><ul>
<li><a href="/2017/12/10/celery-distributed-task-queue-introduction-first/">Celeryåˆ†å¸ƒå¼ä»»åŠ¡é˜Ÿåˆ—å…¥é—¨(ä¸€)-ç†è®º</a></li>
<li><a href="/2017/12/10/celery-distributed-task-queue-introduction-second/">Celeryåˆ†å¸ƒå¼ä»»åŠ¡é˜Ÿåˆ—å…¥é—¨(äºŒ)-ç¯å¢ƒé…ç½®</a></li>
<li><a href="/2017/12/10/celery-distributed-task-queue-introduction-third/">Celeryåˆ†å¸ƒå¼ä»»åŠ¡é˜Ÿåˆ—å…¥é—¨(ä¸‰)-ä»»åŠ¡</a></li>
</ul>
<p>æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚</p>
]]></content>
      <categories>
        <category>Celeryåˆ†å¸ƒå¼ä»»åŠ¡é˜Ÿåˆ—å…¥é—¨</category>
      </categories>
      <tags>
        <tag>Celery</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoåšå®¢åŠŸèƒ½ä¼˜åŒ–</title>
    <url>/2017/12/06/hexo-blog-optimization/</url>
    <content><![CDATA[<p>ä»‹ç»Hexoåšå®¢åŠŸèƒ½ä¼˜åŒ–é¡¹ï¼Œå¦‚ æ–‡ç« ç½®é¡¶ã€æ˜¾ç¤ºç‰ˆæƒã€è®¿é—®ç»Ÿè®¡ã€å­—æ•°ç»Ÿè®¡ã€æ˜¾ç¤ºæ›´æ–°æ—¶é—´ç­‰</p>
<h4 id="æ–‡ç« ç½®é¡¶"><a href="#æ–‡ç« ç½®é¡¶" class="headerlink" title="æ–‡ç« ç½®é¡¶"></a>æ–‡ç« ç½®é¡¶</h4><p>åœ¨Hexoåšå®¢ä¸­ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬æƒ³è¦å°†ä¸€äº›ç‰¹åˆ«çš„æ–‡ç« ä¸€ç›´ç½®é¡¶åœ¨é¦–é¡µã€‚Hexoåšå®¢ä¸­ï¼Œé»˜è®¤çš„æƒ…å†µæ˜¯æŒ‰ç…§æ—¶é—´å€’åºæ¥æ’åˆ—çš„ï¼Œå³æ–°å‘å¸ƒçš„æ–‡ç« æ’åœ¨å‰é¢ã€‚è™½ç„¶æœ‰ä¸€ç§å¾ˆç®€å•çš„æ–¹æ³•ï¼Œå°±æ˜¯æ›´æ”¹æ–‡ç« çš„å‘å¸ƒæ—¶é—´åˆ°ä¸€ä¸ªâ€œæœªæ¥â€çš„æ—¶é—´ç‚¹ï¼Œè¿™æ ·è™½ç„¶èƒ½è®©æ–‡ç« ä¸€ç›´ç½®é¡¶ï¼Œä½†æ˜¯ç»™äººçš„ä½“éªŒå’Œæ„Ÿè§‰æ˜¯éå¸¸ä¸å¥½çš„ã€‚</p>
<p>ä»Šå¤©ä»‹ç»ä¸€ç§éå¸¸ç®€å•è€Œä¸”ä½“éªŒä¸Šä¹Ÿéå¸¸å¥½çš„æ–¹æ³•ã€‚</p>
<h5 id="å®‰è£…nodeæ’ä»¶"><a href="#å®‰è£…nodeæ’ä»¶" class="headerlink" title="å®‰è£…nodeæ’ä»¶"></a>å®‰è£…nodeæ’ä»¶</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ npm uninstall hexo-generator-index --save</span><br><span class="line">$ npm install hexo-generator-index-pin-top --save</span><br></pre></td></tr></table></figure>

<h5 id="æ·»åŠ æ ‡è®°"><a href="#æ·»åŠ æ ‡è®°" class="headerlink" title="æ·»åŠ æ ‡è®°"></a>æ·»åŠ æ ‡è®°</h5><p>åœ¨éœ€è¦ç½®é¡¶çš„æ–‡ç« çš„ <code>Front-matter</code> ä¸­åŠ ä¸Š <code>top: true</code> å³å¯ã€‚</p>
<p>æ¯”å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: ä»0åˆ°1å­¦Golangä¹‹åŸºç¡€--Go æ•°ç»„</span><br><span class="line">date: 2017-05-24 22:07:58</span><br><span class="line">tags:</span><br><span class="line">    - Golang</span><br><span class="line">categories: </span><br><span class="line">    - ä»0åˆ°1å­¦Golang</span><br><span class="line">description: Golangä¸‹çš„æ•°ç»„æ“ä½œ</span><br><span class="line">top: true</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<p>okï¼Œç°åœ¨å‘å¸ƒæ–‡ç« ï¼Œå°±èƒ½çœ‹åˆ°æˆ‘ä»¬è®¾ç½®çš„æ–‡ç« å·²ç»ç½®é¡¶æ˜¾ç¤ºäº†ï¼Œå³ä½¿æ˜¯ä¹‹å‰å‘å¸ƒçš„æ–‡ç« ï¼ŒåŒæ—¶æ—¥æœŸä¹Ÿä¸ä¼šè¢«æ›´æ”¹ã€‚</p>
<h5 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h5><ul>
<li><a href="http://www.netcan666.com/2015/11/22/%E8%A7%A3%E5%86%B3Hexo%E7%BD%AE%E9%A1%B6%E9%97%AE%E9%A2%98/" target="_blank" rel="noopener">è§£å†³Hexoç½®é¡¶é—®é¢˜</a></li>
<li><a href="https://github.com/netcan/hexo-generator-index-pin-top" target="_blank" rel="noopener">hexo-generator-index-pin-top</a></li>
<li><a href="https://ehlxr.me/2016/08/30/%E4%BD%BF%E7%94%A8Hexo%E5%9F%BA%E4%BA%8EGitHub-Pages%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%EF%BC%88%E4%B8%89%EF%BC%89/" target="_blank" rel="noopener">ä½¿ç”¨HexoåŸºäºGitHub Pagesæ­å»ºä¸ªäººåšå®¢ï¼ˆä¸‰ï¼‰</a></li>
<li><a href="https://github.com/iissnan/hexo-theme-next/issues/415" target="_blank" rel="noopener">å¦‚ä½•ç½®é¡¶postï¼Ÿ</a></li>
</ul>
<hr>
<h4 id="æ˜¾ç¤ºç‰ˆæƒä¿¡æ¯"><a href="#æ˜¾ç¤ºç‰ˆæƒä¿¡æ¯" class="headerlink" title="æ˜¾ç¤ºç‰ˆæƒä¿¡æ¯"></a>æ˜¾ç¤ºç‰ˆæƒä¿¡æ¯</h4><p>ä¸€èˆ¬åœ¨ç½‘ç»œä¸Šå‘è¡¨æ–‡ç« æ—¶ï¼Œéƒ½è¦æ—¶åˆ»æé˜²ç€ç½‘ç»œçˆ¬è™«çš„æŠ“å–ã€‚ç‰¹åˆ«æ˜¯æœ‰äº›ç½‘ç«™åœ¨æŠ“å–åˆ°ä½ çš„æ–‡ç« åè¿›è¡Œä¸€äº›è¯è¯­ã€æ®µè½çš„ä¿®æ”¹ï¼Œå…¬ç„¶æ”¹ä¸ºè‡ªå·±å‘è¡¨çš„æ–‡ç« ã€‚å®Œå…¨æ— è§†åŸä½œè€…çš„è¾›è‹¦ã€‚</p>
<p>ä¸ºäº†æ›´å¥½çš„æ ‡æ˜æ–‡ç« çš„ç‰ˆæƒï¼Œä¸€èˆ¬æˆ‘ä»¬éƒ½ä¼šåœ¨æ–‡ç« ä¸­æ·»åŠ ä¸Šæ–‡ç« çš„é“¾æ¥ã€ç‰ˆæƒå£°æ˜ç­‰ä¿¡æ¯ï¼Œè™½ç„¶ä¸èƒ½å®Œå…¨å½»åº•çš„æŠµåˆ¶æ–‡ç« æŠ„è¢­çš„æƒ…å†µï¼Œä¹Ÿç®—æ˜¯â€œé˜²å›å­ä¸é˜²å°äººâ€å§ã€‚</p>
<h5 id="å¯ç”¨ç‰ˆæƒ"><a href="#å¯ç”¨ç‰ˆæƒ" class="headerlink" title="å¯ç”¨ç‰ˆæƒ"></a>å¯ç”¨ç‰ˆæƒ</h5><p>æˆ‘ä½¿ç”¨çš„æ˜¯ <code>Hexo</code> çš„ <code>Next</code> ä¸»é¢˜ã€‚æ‰¾åˆ°ä¸»é¢˜ç›®å½•ä¸‹çš„ <code>_config.yml</code> æ–‡ä»¶ï¼Œæ›´æ”¹ä»¥ä¸‹éƒ¨åˆ†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Declare license on posts</span><br><span class="line">post_copyright:</span><br><span class="line">  enable: false</span><br><span class="line">  license: CC BY-NC-SA 3.0</span><br><span class="line">  license_url: https:&#x2F;&#x2F;creativecommons.org&#x2F;licenses&#x2F;by-nc-sa&#x2F;3.0&#x2F;</span><br></pre></td></tr></table></figure>

<p>å°†å…¶ä¸­çš„ <code>enable: false</code> æ”¹ä¸º <code>enable: true</code> å³å¯ã€‚</p>
<p>ä½†æ˜¯æ”¹å®Œåï¼Œä½¿ç”¨ <code>hexo s -g</code> é¢„è§ˆï¼Œå‘ç° â€œæœ¬æ–‡é“¾æ¥â€ éƒ¨åˆ†æœ‰é—®é¢˜ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171206Blk7gcB7CI.png" alt="mark"></p>
<p>è¿™å°±éœ€è¦æˆ‘ä»¬ä¿®æ”¹ä¸»ç«™ç‚¹çš„é…ç½®æ–‡ä»¶äº†ã€‚æ‰“å¼€ä¸»ç«™ç‚¹çš„ <code>_config.yml</code> æ–‡ä»¶ï¼Œä¿®æ”¹ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171206LC91BEHEcg.png" alt="mark"></p>
<p>å°† <code>url</code> éƒ¨åˆ†æ”¹æˆè‡ªå·±ç«™ç‚¹çš„åŸŸååœ°å€å³å¯ã€‚</p>
<h5 id="ç›¸å…³å‚è€ƒ-1"><a href="#ç›¸å…³å‚è€ƒ-1" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h5><ul>
<li><a href="http://www.crocutax.com/2017/05/20/Hexo%E6%8C%81%E7%BB%AD%E4%BC%98%E5%8C%96-%E5%9C%A8%E6%96%87%E7%AB%A0%E5%B0%BE%E9%83%A8%E6%B7%BB%E5%8A%A0%E7%89%88%E6%9D%83%E5%A3%B0%E6%98%8E%E4%BF%A1%E6%81%AF/" target="_blank" rel="noopener">HexoæŒç»­ä¼˜åŒ–-åœ¨æ–‡ç« å°¾éƒ¨æ·»åŠ ç‰ˆæƒå£°æ˜ä¿¡æ¯</a></li>
</ul>
<hr>
<h4 id="è®¿é—®ç»Ÿè®¡åŠŸèƒ½"><a href="#è®¿é—®ç»Ÿè®¡åŠŸèƒ½" class="headerlink" title="è®¿é—®ç»Ÿè®¡åŠŸèƒ½"></a>è®¿é—®ç»Ÿè®¡åŠŸèƒ½</h4><p>åœ¨åšå®¢ä¸­æˆ‘ä»¬ä¸€èˆ¬éƒ½æ¯”è¾ƒåœ¨æ„è‡ªå·±åšå®¢çš„è®¿é—®é‡ï¼Œæˆ–è€…å“ªç¯‡æ–‡ç« æ¯”è¾ƒå—æ¬¢è¿ä¹‹ç±»çš„ã€‚</p>
<p>åœ¨Hexoçš„ <code>Next</code> ä¸»é¢˜ä¸‹å¸¦æœ‰å¤šç§ç»Ÿè®¡å’Œåˆ†æçš„åŠŸèƒ½ã€‚è¿™é‡Œæˆ‘é€‰æ‹© <code>ä¸è’œå­ç»Ÿè®¡</code>æ¥æ˜¾ç¤ºæ–‡ç« çš„è®¿å®¢æ•°ã€æµè§ˆé‡ç­‰ä¿¡æ¯ã€‚</p>
<h5 id="å¯ç”¨ç»Ÿè®¡"><a href="#å¯ç”¨ç»Ÿè®¡" class="headerlink" title="å¯ç”¨ç»Ÿè®¡"></a>å¯ç”¨ç»Ÿè®¡</h5><p>æ‰¾åˆ° <code>Next</code> ä¸»é¢˜ä¸‹çš„é…ç½®æ–‡ä»¶ <code>_config.yml</code> ï¼Œæ‰¾åˆ° <code>busuanzi_count</code> éƒ¨åˆ†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Show PV&#x2F;UV of the website&#x2F;page with busuanzi.</span><br><span class="line"># Get more information on http:&#x2F;&#x2F;ibruce.info&#x2F;2015&#x2F;04&#x2F;04&#x2F;busuanzi&#x2F;</span><br><span class="line">busuanzi_count:</span><br><span class="line">  # count values only if the other configs are false</span><br><span class="line">  enable: true</span><br><span class="line">  # custom uv span for the whole site</span><br><span class="line">  site_uv: true</span><br><span class="line">  site_uv_header: è®¿å®¢æ•° &lt;i class&#x3D;&quot;fa fa-user&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">  site_uv_footer: äººæ¬¡</span><br><span class="line">  # custom pv span for the whole site</span><br><span class="line">  site_pv: true</span><br><span class="line">  site_pv_header: è®¿é—®é‡ &lt;i class&#x3D;&quot;fa fa-eye&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">  site_pv_footer: æ¬¡</span><br><span class="line">  # custom pv span for one page only</span><br><span class="line">  page_pv: true</span><br><span class="line">  page_pv_header: é˜…è¯»é‡ &lt;i class&#x3D;&quot;fa fa-file-o&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">  page_pv_footer: æ¬¡</span><br></pre></td></tr></table></figure>

<p>å½“ <code>enable: true</code> æ—¶ï¼Œä»£è¡¨å¼€å¯å…¨å±€å¼€å…³ã€‚</p>
<p>å½“ <code>site_uv: true</code> æ—¶ï¼Œä»£è¡¨åœ¨é¡µé¢åº•éƒ¨æ˜¾ç¤ºç«™ç‚¹çš„UVå€¼ã€‚<br>å½“ <code>site_pv: true</code> æ—¶ï¼Œä»£è¡¨åœ¨é¡µé¢åº•éƒ¨æ˜¾ç¤ºç«™ç‚¹çš„PVå€¼ã€‚<br>å½“ <code>page_pv: true</code> æ—¶ï¼Œä»£è¡¨åœ¨æ–‡ç« é¡µé¢çš„æ ‡é¢˜ä¸‹æ˜¾ç¤ºè¯¥é¡µé¢çš„PVå€¼ï¼ˆé˜…è¯»æ•°ï¼‰ã€‚</p>
<h5 id="ç›¸å…³å‚è€ƒ-2"><a href="#ç›¸å…³å‚è€ƒ-2" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h5><ul>
<li><a href="http://theme-next.iissnan.com/third-party-services.html#analytics-busuanzi" target="_blank" rel="noopener">ä¸è’œå­ç»Ÿè®¡</a></li>
</ul>
<hr>
<h4 id="æ˜¾ç¤ºæ–‡ç« æ›´æ–°æ—¶é—´"><a href="#æ˜¾ç¤ºæ–‡ç« æ›´æ–°æ—¶é—´" class="headerlink" title="æ˜¾ç¤ºæ–‡ç« æ›´æ–°æ—¶é—´"></a>æ˜¾ç¤ºæ–‡ç« æ›´æ–°æ—¶é—´</h4><p>åœ¨æ–‡ç« åˆ—è¡¨ä¸­æˆ‘ä»¬ä¸€èˆ¬éƒ½èƒ½çœ‹çš„æ–‡ç« çš„å‘å¸ƒæ—¶é—´ã€‚å¯¹äºä¸€äº›æ–‡ç« æ¥è¯´ï¼Œæ¯”å¦‚æ¶‰åŠåˆ°æ–‡ç« ä¸­çš„å†…å®¹è¿‡æœŸï¼Œæˆ–è€…è½¯ä»¶çš„å‡çº§ç­‰ç­‰ï¼Œæˆ‘ä»¬éƒ½ä¼šè¿›è¡Œä¸€äº›ä¿®æ”¹ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°±åƒæŠŠæ–‡ç« çš„æ›´æ–°æ—¥æœŸä¹Ÿæ˜¾ç¤ºå¤„ç†ï¼Œä¹Ÿèƒ½è®©è¯»è€…çœ‹çš„æˆ‘ä»¬å†™çš„ä¹‹å‰çš„æ–‡ç« ä¹Ÿæ˜¯æœ‰æ›´æ–°çš„ï¼Œä¸ä¼šè¿‡æ—¶çš„ã€‚</p>
<h5 id="æ˜¾ç¤ºæ›´æ–°æ—¥æœŸ"><a href="#æ˜¾ç¤ºæ›´æ–°æ—¥æœŸ" class="headerlink" title="æ˜¾ç¤ºæ›´æ–°æ—¥æœŸ"></a>æ˜¾ç¤ºæ›´æ–°æ—¥æœŸ</h5><p>åœ¨ <code>Next</code> ä¸»é¢˜ä¸‹æ·»åŠ æ˜¾ç¤ºæ›´æ–°æ—¶é—´éå¸¸ç®€å•ï¼Œæ‰¾åˆ°ä¸»é¢˜ä¸‹çš„é…ç½®æ–‡ä»¶ <code>_config.yml</code> çš„ <code>post_meta</code> éƒ¨åˆ†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Post meta display settings</span><br><span class="line">post_meta:</span><br><span class="line">  item_text: true</span><br><span class="line">  created_at: true</span><br><span class="line">  updated_at: false</span><br><span class="line">  categories: true</span><br></pre></td></tr></table></figure>

<p>å°† <code>updated_at: false</code> ä¿®æ”¹ä¸º <code>updated_at: true</code> å³å¯ã€‚ </p>
<p>é€šè¿‡ <code>hexo s -g</code> é¢„è§ˆï¼Œå¯ä»¥çœ‹åˆ°å·²ç»è‡ªåŠ¨æ·»åŠ ä¸Šäº†æ›´æ–°æ—¥æœŸã€‚</p>
<h5 id="è‡ªå®šä¹‰æ˜¾ç¤ºæ›´æ–°æ—¥æœŸ"><a href="#è‡ªå®šä¹‰æ˜¾ç¤ºæ›´æ–°æ—¥æœŸ" class="headerlink" title="è‡ªå®šä¹‰æ˜¾ç¤ºæ›´æ–°æ—¥æœŸ"></a>è‡ªå®šä¹‰æ˜¾ç¤ºæ›´æ–°æ—¥æœŸ</h5><p>å¯¹äºæŸäº›ç‰¹æ®Šçš„æ–‡ç« ï¼Œæˆ‘ä»¬ä¹Ÿæƒ³èƒ½å¤Ÿè‡ªå®šä¹‰è¿™ä¸ªæ›´æ–°çš„æ—¥æœŸã€‚å½“ç„¶ï¼Œæ›´æ”¹èµ·æ¥ä¹Ÿéå¸¸çš„ç®€å•ï¼ŒHexoé»˜è®¤å°±æ”¯æŒæ›´æ–°æ—¥æœŸçš„é…ç½®ã€‚</p>
<p>åœ¨æ¯ä¸€ç¯‡æ–‡ç« çš„ <code>Front-matter</code> éƒ¨åˆ†ï¼Œåªè¦æ·»åŠ  <code>updated</code> å‚æ•°å³å¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: ä»0åˆ°1å­¦Golangä¹‹åŸºç¡€--Go æ•°ç»„</span><br><span class="line">date: 2017-05-24 22:07:58</span><br><span class="line">updated: 2017-12-01 10:35:18</span><br><span class="line">tags:</span><br><span class="line">    - Golang</span><br><span class="line">categories: </span><br><span class="line">    - ä»0åˆ°1å­¦Golang</span><br><span class="line">description: Golangä¸‹çš„æ•°ç»„æ“ä½œ</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·æˆ‘ä»¬å°±è‡ªå®šä¹‰äº†è¿™ç¯‡æ–‡ç« çš„æ›´æ–°æ—¶é—´ã€‚</p>
<h5 id="ç›¸å…³å‚è€ƒ-3"><a href="#ç›¸å…³å‚è€ƒ-3" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h5><ul>
<li><a href="https://hexo.io/zh-cn/docs/front-matter.html" target="_blank" rel="noopener">Front-matter</a></li>
</ul>
<hr>
<h4 id="æ·»åŠ æ–‡ç« å­—æ•°ç»Ÿè®¡"><a href="#æ·»åŠ æ–‡ç« å­—æ•°ç»Ÿè®¡" class="headerlink" title="æ·»åŠ æ–‡ç« å­—æ•°ç»Ÿè®¡"></a>æ·»åŠ æ–‡ç« å­—æ•°ç»Ÿè®¡</h4><p>ä¸€èˆ¬ä¸ºäº†è®©è¯»è€…å¤§æ¦‚ä¼°è®¡é˜…è¯»æ–‡ç« çš„æ—¶é—´ï¼Œæœ‰çš„æ–‡ç« åœ¨å¤´éƒ¨ä¼šæ˜¾ç¤ºæ€»çš„å­—æ•°ç»Ÿè®¡ã€‚</p>
<h5 id="å¯ç”¨å­—æ•°ç»Ÿè®¡"><a href="#å¯ç”¨å­—æ•°ç»Ÿè®¡" class="headerlink" title="å¯ç”¨å­—æ•°ç»Ÿè®¡"></a>å¯ç”¨å­—æ•°ç»Ÿè®¡</h5><p>é¦–å…ˆå®‰è£…ä¸€ä¸ªä¾èµ–æ’ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm i --save hexo-wordcount</span><br></pre></td></tr></table></figure>

<p>ç„¶åä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ <code>_config.yml</code> ä¸­çš„ <code>post_wordcount</code> éƒ¨åˆ†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Post wordcount display settings</span><br><span class="line"># Dependencies: https:&#x2F;&#x2F;github.com&#x2F;willin&#x2F;hexo-wordcount</span><br><span class="line">post_wordcount:</span><br><span class="line">  item_text: true   &#x2F;&#x2F;åº•éƒ¨æ˜¯å¦æ˜¾ç¤ºâ€œæ€»å­—æ•°â€å­—æ ·</span><br><span class="line">  wordcount: false  &#x2F;&#x2F;æ–‡ç« å­—æ•°ç»Ÿè®¡</span><br><span class="line">  min2read: false  &#x2F;&#x2F;æ–‡ç« é¢„è®¡é˜…è¯»æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰</span><br><span class="line">  totalcount: false  &#x2F;&#x2F;ç½‘ç«™æ€»å­—æ•°ï¼Œä½äºåº•éƒ¨</span><br><span class="line">  separated_meta: true &#x2F;&#x2F;æ˜¯å¦å°†æ–‡ç« çš„å­—æ•°ç»Ÿè®¡ä¿¡æ¯æ¢è¡Œæ˜¾ç¤º</span><br></pre></td></tr></table></figure>

<p>å°† <code>wordcount: false</code> æ”¹ä¸º <code>wordcount: true</code> å³å¯æ˜¾ç¤ºå•ç¯‡æ–‡ç« çš„æ€»å­—æ•°äº†ã€‚<br>å¦å¤–ï¼Œ<code>totalcount</code> æ˜¯ç”¨æ¥ç»Ÿè®¡æ•´ç«™æ€»çš„å­—æ•°çš„ã€‚</p>
<h5 id="ç›¸å…³å‚è€ƒ-4"><a href="#ç›¸å…³å‚è€ƒ-4" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h5><ul>
<li><a href="https://github.com/willin/hexo-wordcount" target="_blank" rel="noopener">hexo-wordcount</a></li>
<li><a href="https://zcore.coding.me/%E7%95%85%E7%8E%A9Hexo%E2%80%94%E2%80%942%EF%BC%9A%E9%AA%9A%E8%B5%B7%E6%9D%A5%E5%90%A7%EF%BC%8CNexT/" target="_blank" rel="noopener">ç•…ç©Hexoâ€”â€”2ï¼šéªšèµ·æ¥å§ï¼ŒNexT</a></li>
</ul>
]]></content>
      <categories>
        <category>Hexoåšå®¢æ­å»º</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>ç™¾åº¦äººå·¥æ™ºèƒ½å¼€æ”¾å¹³å°DuerOSåˆä½“éªŒ</title>
    <url>/2017/12/05/the-initial-experience-of-dueros-open-platform/</url>
    <content><![CDATA[<p>ä»Šå¹´11æœˆåˆçš„æ—¶å€™åœ¨ç™¾åº¦DuerOSå¼€æ”¾å¹³å°ä¸Šç”³è¯·äº†DuerOSçš„â€œå¼€å‘å¥—ä»¶ä¸ªäººç‰ˆâ€çš„å¼€å‘æ¿ï¼Œå‰å‡ å¤©æ­£å¼æ”¶åˆ°äº†è¯¥å¼€å‘æ¿ï¼Œç»è¿‡å‡ å¤©çš„æ‘¸ç´¢ï¼Œå‘ç°DuerOSå¼€æ”¾å¹³å°è¿˜æ˜¯æœ‰å¾ˆå¤šå¯æŒ–æ˜çš„åŠŸèƒ½çš„ã€‚åœ¨æ­¤å°†è¿™å‡ å¤©çš„ç ”ç©¶æˆæœè®°å½•ä¸€ä¸‹ã€‚</p>
<p>åŒåä¸€çš„æ—¶å€™åœ¨å¤©çŒ«ä¸Šä¹°äº†ä¸€ä¸ªé˜¿é‡Œçš„å¤©çŒ«ç²¾çµï¼Œé€šè¿‡å¯¹æ¯”å°ç±³çš„å°çˆ±åŒå­¦ï¼Œé˜¿é‡Œçš„å¤©çŒ«ç²¾çµï¼Œå’Œç™¾åº¦çš„DuerOSå¼€å‘æ¿æ¯”èµ·æ¥ï¼Œä¸ªäººæ„Ÿè§‰DuerOSå¼€å‘æ¿è¦æ›´è´´è¿‘äºå¼€å‘è€…ï¼Œå¯ä»¥è®©å¼€å‘è€…è‡ªå·±åŠ¨æ‰‹å»å®ç°æƒ³è¦çš„æ™ºèƒ½åŒ–çš„åŠŸèƒ½ã€‚</p>
<h4 id="DuerOSå”¤é†’"><a href="#DuerOSå”¤é†’" class="headerlink" title="DuerOSå”¤é†’"></a>DuerOSå”¤é†’</h4><p>ç™¾åº¦çš„DuerOSå¼€å‘å¥—ä»¶ä¸ªäººç‰ˆéœ€è¦ç”¨æˆ·è‡ªå¤‡ä¸€ä¸ªæ ‘è“æ´¾3Bæ¥ç»“åˆä½¿ç”¨ã€‚å¼€å‘æ¿ä¸Šå¸¦æœ‰2é¢—é«˜çµæ•åº¦MEMSéº¦å…‹é£ï¼Œæ­è½½ç™¾åº¦DuerOS SDKï¼Œå¯ä¸ºç”¨æˆ·æä¾›ç™¾åº¦æµ·é‡çš„ä¿¡æ¯æœåŠ¡èƒ½åŠ›ã€‚</p>
<p>æŒ‰ç…§å®˜æ–¹ç»™çš„ç¡¬ä»¶å®‰è£…æ–‡æ¡£å’Œæä¾›çš„é•œåƒç³»ç»Ÿå°†è®¾å¤‡ç»„åˆæˆåŠŸï¼Œæ’å…¥åˆ·å¥½ç³»ç»Ÿçš„å†…å­˜å¡ï¼Œé€šç”µç­‰å¾…ç³»ç»Ÿå¼€æœºã€‚åœ¨åˆæ¬¡è¿æ¥æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ç™¾åº¦æä¾›çš„ â€œå°åº¦ä¹‹å®¶appâ€ å°†ç³»ç»Ÿæ¥å…¥ç½‘ç»œã€‚ å°åº¦è”ç½‘æˆåŠŸåï¼Œç›´æ¥è¯´ â€œå°åº¦å°åº¦+å†…å®¹â€ å³å¯å®ç°è¯­éŸ³å¼çš„å¯¹è¯äº¤äº’æ“ä½œã€‚</p>
<p>æ€»ä½“æ¥è¯´ï¼Œå”¤é†’å°åº¦çš„è¿™ä¸€æ­¥éå¸¸çš„ç®€å•ï¼Œé™„ä¸Šä¸€å¼ è®¾å¤‡çš„åˆå½±ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/1712051HHmf7HcHh.jpg" alt="mark"></p>
<hr>
<h4 id="æ¥å…¥Python-SDK"><a href="#æ¥å…¥Python-SDK" class="headerlink" title="æ¥å…¥Python SDK"></a>æ¥å…¥Python SDK</h4><p>DuerOSå¼€å‘å¹³å°ä¸­ä¹Ÿæä¾›äº†ç›¸åº”çš„Python SDKï¼Œä»¥ä¾¿äºä¸ªäººå¼€å‘è€…é€šè¿‡è¯¥SDKæ¥å®ç°æƒ³è¦çš„æŠ€èƒ½ã€‚</p>
<h4 id="é€šè¿‡SSHç™»é™†"><a href="#é€šè¿‡SSHç™»é™†" class="headerlink" title="é€šè¿‡SSHç™»é™†"></a>é€šè¿‡SSHç™»é™†</h4><p>å®˜æ–¹æä¾›çš„DuerOSé•œåƒç³»ç»Ÿæ˜¯åŸºäºRaspbianç³»ç»Ÿçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŒ‰ç…§åœ¨æ ‘è“æ´¾ä¸Šå®‰è£…Raspbianç³»ç»Ÿçš„æ–¹å¼æ¥é…ç½®SSHæœåŠ¡ã€‚</p>
<p>ä¸ºäº†æ‰¾åˆ°æ ‘è“æ´¾çš„IPåœ°å€ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>Fing</code> è¿™ä¸ªappæ¥æŸ¥çœ‹å½“å‰å±€åŸŸç½‘ä¸Šè¿æ¥çš„æ‰€æœ‰è®¾å¤‡ã€‚</p>
<p>ç„¶åé€šè¿‡SSHä½¿ç”¨é»˜è®¤çš„ç”¨æˆ·å <code>pi</code> å¯†ç  <code>raspberry</code> ç™»é™†DuerOSç³»ç»Ÿã€‚æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯ <code>Xshell</code>ï¼Œä¹Ÿå¯ä»¥é€‰æ‹© <code>Putty</code> ç­‰å…¶ä»–è½¯ä»¶ã€‚</p>
<p>åœ¨å½“å‰çš„ç”¨æˆ·ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªç›®å½•ï¼Œç”¨äºåé¢çš„æ“ä½œã€‚æ¯”å¦‚æˆ‘è¿™é‡Œåˆ›å»ºçš„ç›®å½•åä¸º <code>Leafney</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ mkdir Leafney</span><br><span class="line">$ cd Leafney</span><br></pre></td></tr></table></figure>

<h4 id="åœæ­¢ç°æœ‰å°åº¦åŠŸèƒ½ï¼Œå› ä¸ºä¼šå ç”¨MICèµ„æº"><a href="#åœæ­¢ç°æœ‰å°åº¦åŠŸèƒ½ï¼Œå› ä¸ºä¼šå ç”¨MICèµ„æº" class="headerlink" title="åœæ­¢ç°æœ‰å°åº¦åŠŸèƒ½ï¼Œå› ä¸ºä¼šå ç”¨MICèµ„æº"></a>åœæ­¢ç°æœ‰å°åº¦åŠŸèƒ½ï¼Œå› ä¸ºä¼šå ç”¨MICèµ„æº</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo systemctl disable duer</span><br><span class="line">$ sudo systemctl stop duer</span><br></pre></td></tr></table></figure>

<h4 id="å®‰è£…éœ€è¦çš„ä¾èµ–"><a href="#å®‰è£…éœ€è¦çš„ä¾èµ–" class="headerlink" title="å®‰è£…éœ€è¦çš„ä¾èµ–"></a>å®‰è£…éœ€è¦çš„ä¾èµ–</h4><h5 id="æ›´æ¢åœ°å€æº"><a href="#æ›´æ¢åœ°å€æº" class="headerlink" title="æ›´æ¢åœ°å€æº"></a>æ›´æ¢åœ°å€æº</h5><p>åœ¨æ“ä½œä¹‹å‰ï¼Œå»ºè®®å…ˆæ›´æ¢åœ°å€æºã€‚å› ä¸ºDuerOSç³»ç»Ÿæ˜¯åŸºäº <code>Raspbian jessie</code> ç‰ˆæœ¬çš„ï¼Œæ“ä½œå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo vim &#x2F;etc&#x2F;apt&#x2F;sources.list</span><br></pre></td></tr></table></figure>

<p>æŠŠåŸæ¥çš„ç¬¬ä¸€è¡Œç”¨#æ³¨é‡Šæ‰ï¼Œåœ¨æœ«å°¾æ·»åŠ ä¸‹é¢ä¸€è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;raspbian&#x2F;raspbian&#x2F; jessie main contrib non-free rpi</span><br></pre></td></tr></table></figure>

<p>è¿˜éœ€è¦æ›´æ”¹debçš„æºåœ°å€ï¼Œè¿™é‡Œå¯é€‰æ‹©æ¸…åçš„æº:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">deb https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;raspberrypi&#x2F; jessie main ui</span><br></pre></td></tr></table></figure>

<p>æˆ–ä¸­ç§‘å¤§çš„æºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">deb http:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;archive.raspberrypi.org&#x2F;debian&#x2F; jessie main ui</span><br></pre></td></tr></table></figure>

<p>ç¼–è¾‘ä»¥ä¸‹æ–‡ä»¶æ·»åŠ :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo vim &#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;raspi.list</span><br></pre></td></tr></table></figure>

<h5 id="updateæ›´æ–°"><a href="#updateæ›´æ–°" class="headerlink" title="updateæ›´æ–°"></a>updateæ›´æ–°</h5><p>ä¿®æ”¹å®Œæˆåï¼Œæ›´æ–°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get update</span><br></pre></td></tr></table></figure>

<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171205mhG80D6keF.jpg" alt="mark"></p>
<h5 id="å…¶ä»–ä¾èµ–åŒ…"><a href="#å…¶ä»–ä¾èµ–åŒ…" class="headerlink" title="å…¶ä»–ä¾èµ–åŒ…"></a>å…¶ä»–ä¾èµ–åŒ…</h5><p>å®‰è£…å…¶ä»–çš„ä¾èµ–åŒ…ï¼š</p>
<p>hyperåº“ç”¨æ¥æ”¯æŒhttp2.0 client, pyaudioç”¨æ¥æ”¯æŒå½•éŸ³ï¼Œtornadoç”¨æ¥å®Œæˆoauthè®¤è¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install python-dateutil gir1.2-gstreamer-1.0 python-pyaudio libatlas-base-dev python-dev</span><br><span class="line">$ sudo pip install tornado hyper</span><br></pre></td></tr></table></figure>

<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171205Ha2dDjLkCl.jpg" alt="mark"></p>
<h4 id="ä¸‹è½½ç¼–è¯‘å¥½çš„opensslå’ŒPythonå®‰è£…åŒ…"><a href="#ä¸‹è½½ç¼–è¯‘å¥½çš„opensslå’ŒPythonå®‰è£…åŒ…" class="headerlink" title="ä¸‹è½½ç¼–è¯‘å¥½çš„opensslå’ŒPythonå®‰è£…åŒ…"></a>ä¸‹è½½ç¼–è¯‘å¥½çš„opensslå’ŒPythonå®‰è£…åŒ…</h4><p>ç”±äºDuerOSè¿è¡Œæ‰€éœ€è¦çš„ä¾èµ–ç¯å¢ƒè·Ÿå¹³å°æ˜¯ç›¸å…³çš„ã€‚æ¯”å¦‚DuerOSæ˜¯åŸºäºHttp2 ALPNçš„ï¼Œä½†æ ‘è“æ´¾å®˜æ–¹é•œåƒçš„OpenSSLå¹¶ä¸æ”¯æŒï¼Œè€Œå¯¹åº”çš„Pythonåº“ä¾èµ–äºOpenSSLã€‚ä¸ºäº†åœ¨æ ‘è“æ´¾å¹³å°ä¸Šæ”¯æŒPythonçš„DuerOS SDKï¼Œä¸“é—¨äº¤å‰ç¼–è¯‘äº†OpenSSLå’ŒPythonã€‚</p>
<p><em>ä»å¦‚ä¸‹åœ°å€ä¸‹è½½opensslå®‰è£…åŒ…</em>(é“¾æ¥: <a href="https://pan.baidu.com/s/1skAP6WH" target="_blank" rel="noopener">https://pan.baidu.com/s/1skAP6WH</a> å¯†ç : wknz)<br><em>ä»å¦‚ä¸‹åœ°å€ä¸‹è½½python2.7.14å®‰è£…åŒ…</em>(é“¾æ¥: <a href="https://pan.baidu.com/s/1o8MHkzK" target="_blank" rel="noopener">https://pan.baidu.com/s/1o8MHkzK</a> å¯†ç : ngx4)</p>
<p>å°†ä¸‹è½½çš„ä¸¤ä¸ªæ–‡ä»¶ç”¨ <code>FileZilla</code> ä¼ è¾“åˆ°æ ‘è“æ´¾çš„ <code>/home/pi/Leafney</code> ç›®å½•ä¸‹ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171205gead092HB7.jpg" alt="mark"></p>
<p>ç„¶ååˆ†åˆ«è§£å‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo tar -zxvf openssl1.1.tar.gz -C &#x2F;usr</span><br></pre></td></tr></table></figure>

<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/1712059BLDE9GllL.jpg" alt="mark"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo tar -zxvf python2.7.14.tar.gz -C &#x2F;usr&#x2F;local&#x2F;</span><br></pre></td></tr></table></figure>

<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171205JkK98AlhB6.jpg" alt="mark"></p>
<p>æ›¿æ¢å·²æœ‰çš„pythonï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo rm -rf &#x2F;usr&#x2F;bin&#x2F;python</span><br><span class="line">$ sudo ln -s &#x2F;usr&#x2F;local&#x2F;python2.7.14&#x2F;bin&#x2F;python &#x2F;usr&#x2F;bin&#x2F;python</span><br></pre></td></tr></table></figure>

<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/1712058A48988iE7.jpg" alt="mark"></p>
<h5 id="ä¸‹è½½Python-SDKå’Œç¤ºä¾‹ä»£ç "><a href="#ä¸‹è½½Python-SDKå’Œç¤ºä¾‹ä»£ç " class="headerlink" title="ä¸‹è½½Python SDKå’Œç¤ºä¾‹ä»£ç "></a>ä¸‹è½½Python SDKå’Œç¤ºä¾‹ä»£ç </h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git clone https:&#x2F;&#x2F;github.com&#x2F;MyDuerOS&#x2F;DuerOS-Python-Client.git</span><br><span class="line">$ cd DuerOS-Python-Client</span><br><span class="line">$ git checkout raspberry-dev</span><br></pre></td></tr></table></figure>

<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/1712051H0kJCiD7i.jpg" alt="mark"></p>
<h4 id="åˆæ¬¡æˆæƒ"><a href="#åˆæ¬¡æˆæƒ" class="headerlink" title="åˆæ¬¡æˆæƒ"></a>åˆæ¬¡æˆæƒ</h4><p>å¦‚æœç›´æ¥æŒ‰ç…§å®˜æ–¹ç»™å‡ºçš„æ•™ç¨‹é…ç½® <a href="http://open.duer.baidu.com/forum/topic/show?topicId=244796" target="_blank" rel="noopener">Step by Stepå¸¦ä½ ç©è½¬DuerOS - Python DuerOS SDK[æ ‘è“æ´¾å¹³å°] (3)</a>ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯æˆæƒæ“ä½œäº†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ .&#x2F;auth.sh</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œååœ¨ <code>Xshell</code> ä¸­æœ‰æç¤º <code>A web page should is opened. If not, go to http://127.0.0.1:3000 to start</code> ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171205GBIHDg2A9k.jpg" alt="mark"></p>
<p>å› ä¸ºè¿™é‡Œæ˜¯è¦æ±‚è®¿é—® <code>127.0.0.1</code> ï¼Œæ‰€ä»¥å¿…é¡»åœ¨æ ‘è“æ´¾ç³»ç»Ÿä¸­é€šè¿‡æµè§ˆå™¨æ¥è®¿é—®ã€‚æˆ‘åœ¨Windowsç³»ç»Ÿä¸‹é€šè¿‡ <code>æ ‘è“æ´¾IP+ç«¯å£3000</code> çš„æ–¹å¼è®¿é—®ï¼Œä¼šæç¤º â€œæˆæƒå›è°ƒé¡µåœ°å€é”™è¯¯â€ çš„é”™è¯¯é¡µé¢ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171205AedIAK9chJ.jpg" alt="mark"></p>
<p>æˆ‘å¹¶æ²¡æœ‰å¤šä½™çš„HDMIæ•°æ®çº¿æ¥ç›´æ¥è¿æ¥æ ‘è“æ´¾å’Œæ˜¾ç¤ºå™¨ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ç”¨è¿œç¨‹æ¡Œé¢çš„æ–¹å¼æ¥é…ç½®ã€‚</p>
<h4 id="å®‰è£…è¿œç¨‹æ¡Œé¢"><a href="#å®‰è£…è¿œç¨‹æ¡Œé¢" class="headerlink" title="å®‰è£…è¿œç¨‹æ¡Œé¢"></a>å®‰è£…è¿œç¨‹æ¡Œé¢</h4><p>æ ‘è“æ´¾ä¸‹çš„è¿œç¨‹æ¡Œé¢æˆ‘ä»¬é€‰æ‹© <code>xrdp</code> æˆ–è€… <code>VNC</code> æ¥å®ç°ã€‚</p>
<h5 id="xrdp"><a href="#xrdp" class="headerlink" title="xrdp"></a>xrdp</h5><p>xrdp å¯ä»¥ä½¿ç”¨ windowsä¸‹çš„è¿œç¨‹æ¡Œé¢ç›´æ¥è¿æ¥ï¼Œä¸è¿‡è¿™ç§æ–¹å¼åªé€‚åˆäºWindowsç³»ç»Ÿä¸‹è¿æ¥ã€‚</p>
<p>åœ¨æ ‘è“æ´¾ä¸‹æ‰§è¡Œå®‰è£…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install xrdp</span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€windowsç³»ç»Ÿçš„ â€œè¿œç¨‹æ¡Œé¢è¿æ¥â€ ç¨‹åºï¼Œè¾“å…¥æ ‘è“æ´¾çš„IPåœ°å€è¿›è¡Œè¿æ¥ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171205mDL3h3G9GE.jpg" alt="mark"></p>
<p>åœ¨å¼¹å‡ºçš„ <code>Login to xrdp</code> çª—å£ä¸­ï¼Œè¾“å…¥æ ‘è“æ´¾çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œç‚¹å‡» <code>OK</code> è¿æ¥ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171205ee14cebf7G.jpg" alt="mark"></p>
<h5 id="VNC"><a href="#VNC" class="headerlink" title="VNC"></a>VNC</h5><p>å¦‚æœä½ æ˜¯MACç³»ç»Ÿæˆ–è€…ä¸å–œæ¬¢Windowsè‡ªå¸¦çš„è¿œç¨‹æ¡Œé¢ï¼Œå¯ä»¥ä½¿ç”¨é€‚åˆäºå…¨å¹³å°çš„ <code>VNC</code> ã€‚</p>
<h6 id="VNCåˆå§‹åŒ–"><a href="#VNCåˆå§‹åŒ–" class="headerlink" title="VNCåˆå§‹åŒ–"></a>VNCåˆå§‹åŒ–</h6><p>åœ¨æ ‘è“æ´¾ä¸‹æ‰§è¡Œå®‰è£…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install tightvncserver</span><br></pre></td></tr></table></figure>

<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171205fLbc7ehf6B.jpg" alt="mark"></p>
<p>å¢åŠ ä¸€ä¸ªæ¡Œé¢ï¼Œæ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ tightvncserver</span><br></pre></td></tr></table></figure>

<p>ä¼šè¦æ±‚è®¾ç½®ä¸€ä¸ªè¿æ¥çš„å¯†ç å¹¶é‡å¤è¾“å…¥ã€‚</p>
<p>ä¼šè¯¢é—®æ˜¯å¦è®¾ç½®ä¸€ä¸ªåªè¯»æ–¹å¼çš„å¯†ç ï¼Œä¸€èˆ¬é€‰æ‹©å¦ <code>n</code> ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/1712057d91GlFC56.jpg" alt="mark"></p>
<h6 id="è¿æ¥"><a href="#è¿æ¥" class="headerlink" title="è¿æ¥"></a>è¿æ¥</h6><p>ä»ç½‘ç«™ <a href="http://www.realvnc.com/download/viewer/" target="_blank" rel="noopener">vncViewer</a> ä¸‹è½½vncViewerã€‚æ‰“å¼€ç¨‹åºåè¿æ¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">your Pi IP:1</span><br><span class="line"></span><br><span class="line"># æ¯”å¦‚æˆ‘çš„è®¾ç½®ï¼š</span><br><span class="line">192.168.5.130:1</span><br></pre></td></tr></table></figure>

<h6 id="å…³é—­æ¡Œé¢"><a href="#å…³é—­æ¡Œé¢" class="headerlink" title="å…³é—­æ¡Œé¢"></a>å…³é—­æ¡Œé¢</h6><p>å…³é—­VNCæ¡Œé¢åªéœ€è¦åœ¨æ ‘è“æ´¾ä¸­å°†VNCçš„æœåŠ¡killæ‰å³å¯ã€‚åœ¨ <code>Xshell</code> ä¸­æ“ä½œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ vncserver -kill :1</span><br></pre></td></tr></table></figure>

<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171205JDkd7Idcak.jpg" alt="mark"></p>
<hr>
<h4 id="å†æ¬¡æˆæƒ"><a href="#å†æ¬¡æˆæƒ" class="headerlink" title="å†æ¬¡æˆæƒ"></a>å†æ¬¡æˆæƒ</h4><p>å†æ¬¡è¿›å…¥æ ‘è“æ´¾çš„ <code>/home/pi/Leafney/DuerOS-Python-Client</code> ç›®å½•ï¼Œå¯åŠ¨æˆæƒï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd &#x2F;home&#x2F;pi&#x2F;Leafney&#x2F;DuerOS-Python-Client</span><br><span class="line"></span><br><span class="line">$ .&#x2F;auth.sh</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡è¿œç¨‹æ¡Œé¢è®¿é—®ï¼Œåœ¨æ ‘è“æ´¾çš„æ¡Œé¢ç³»ç»Ÿä¸‹æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® <code>127.0.0.1:3000</code> åœ°å€ï¼Œä¼šå‡ºç° â€œç™¾åº¦è´¦å·çš„ç™»é™†æˆæƒé¡µé¢â€ ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/1712051BBDKhaC6c.jpg" alt="mark"></p>
<p>ä¸è¿‡è¿™ä¸ªæ˜¯å®˜æ–¹çš„æµ‹è¯•è´¦å· <code>GitHubé¡¹ç›®æµ‹è¯•è´¦å·</code>ã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦é…ç½®è‡ªå·±çš„è®¾å¤‡ï¼Œè¿˜æ˜¯éœ€è¦å»ç”³è¯·è‡ªå·±çš„client_idå’Œclient_secretæ¥è°ƒç”¨ã€‚</p>
<p>è¿™é‡Œæˆ‘ä¸åœ¨ç»§ç»­å¾€ä¸‹æ“ä½œï¼Œå…ˆå»ç”³è¯·è‡ªå·±çš„ClientIDä¿¡æ¯ã€‚</p>
<p>åœ¨ <code>Xshell</code> ä¸­æŒ‰ <code>Ctrl+C</code> åœæ­¢å¯åŠ¨çš„webæœåŠ¡ã€‚</p>
<h4 id="åˆ›å»ºè®¾å¤‡"><a href="#åˆ›å»ºè®¾å¤‡" class="headerlink" title="åˆ›å»ºè®¾å¤‡"></a>åˆ›å»ºè®¾å¤‡</h4><p>æ‰“å¼€ DuerOSå¼€æ”¾å¹³å°å®˜ç½‘ <a href="https://dueros.baidu.com/open" target="_blank" rel="noopener">DuerOSå¼€æ”¾å¹³å°</a> ï¼Œé€‰æ‹©å³ä¸Šè§’ â€œæ§åˆ¶å°â€ â€“ â€œè®¾å¤‡æ§åˆ¶å°â€ â€“ åœ¨æ‰“å¼€çš„æ–°é¡µé¢é€‰æ‹© â€œé…ç½®æ–°è®¾å¤‡â€ ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171205BKfi41AImL.jpg" alt="mark"></p>
<p>ç„¶ååœ¨ <code>è¯·é€‰æ‹©ç»ˆç«¯åœºæ™¯</code> ä¸­é€‰æ‹© â€œéŸ³ç®±â€ ç‚¹å‡» â€œä¸‹ä¸€æ­¥â€ ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171205BfD84IEJJ1.jpg" alt="mark"></p>
<p>åœ¨ <code>è¯·é€‰æ‹©æ“ä½œç³»ç»Ÿ</code> ç•Œé¢é€‰æ‹©ç¬¬ä¸€é¡¹ â€œLinuxâ€ æˆ–è€…ä¹Ÿå¯ä»¥é€‰æ‹©æœ€ä¸‹é¢çš„ â€œç‚¹å‡»è¿™é‡Œâ€ ï¼Œæ²¡æœ‰å¤ªå¤§åŒºåˆ«ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171205GF9559eF6j.jpg" alt="mark"></p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171205926bH7lJBl.jpg" alt="mark"></p>
<p>è¾“å…¥ â€œäº§å“åç§°â€ï¼Œæ¯”å¦‚è¿™é‡Œæˆ‘å–åå« <code>è´¾ç»´æ–¯</code> ï¼ˆç”µå½±é’¢é“ä¾ é‡Œçš„äººå·¥æ™ºèƒ½ç³»ç»Ÿï¼‰ï¼Œç‚¹å‡» â€œç”³è¯·ClientIDâ€ ï¼Œä¸‹é¢ä¼šæ˜¾ç¤ºå‡ºç›¸åº”çš„ client_id å’Œ client_secretç­‰ä¿¡æ¯ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬å…ˆå°†è¿™ä¸¤é¡¹è®°ä¸‹æ¥ä»¥å¾…åé¢ä½¿ç”¨ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171205ik2hLA9K0C.jpg" alt="mark"></p>
<p>æ¥ä¸‹æ¥æ˜¯é…ç½® â€œç«¯èƒ½åŠ›â€çš„é¡µé¢ï¼Œå¯ä»¥è‡ªå®šä¹‰é€‰æ‹©ï¼Œæˆ–è€…ç›´æ¥ä¿æŒé»˜è®¤ä¸‹ä¸€æ­¥å³å¯ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171205F2jhkif846.jpg" alt="mark"></p>
<p>ç„¶åä¼šå¼¹å‡º <code>BOTé…ç½®</code> é¡µé¢ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/17120514d0Ik0ddi.jpg" alt="mark"></p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171205im394L0fA7.jpg" alt="mark"></p>
<p>å¯ä»¥çœ‹åˆ°ä¸Šé¢æ˜¯ä¸€äº› <code>éŸ³ä¹</code> <code>æœ‰å£°ç‚¹æ’­</code> <code>æœ‰å£°ç›´æ’­</code> ç­‰ç­‰é€‰é¡¹ï¼›ä¸‹é¢æœ‰ <code>èŠå¤©å®šåˆ¶</code> <code>è¯­éŸ³å”¤é†’æœåŠ¡</code> <code>è‡ªå®šä¹‰æ§åˆ¶æŒ‡ä»¤</code> è¿™äº›ï¼Œå¦‚æœçœ‹ä¸æ‡‚å‘¢å¯ä»¥ä¸ç”¨ç®¡ï¼Œç›´æ¥ä¸‹ä¸€æ­¥ã€‚åé¢ä¼šè¯¢é—®æ˜¯å¦ä¸‹è½½SDKï¼Œä¹Ÿä¸ç”¨ç®¡ï¼Œç›´æ¥ç‚¹å‡»ä¸‹é¢çš„ â€œå®Œæˆâ€ ä¼šæç¤º â€œåˆ›å»ºäº§å“æˆåŠŸâ€ ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171205ldkA768AdC.jpg" alt="mark"></p>
<p>è¿™æ ·æˆ‘ä»¬å°±åˆ›å»ºå¥½äº†è‡ªå·±çš„client_idå’Œclient_secretã€‚</p>
<h4 id="è®¾ç½®ä¸ªäººçš„ClientIDä¿¡æ¯"><a href="#è®¾ç½®ä¸ªäººçš„ClientIDä¿¡æ¯" class="headerlink" title="è®¾ç½®ä¸ªäººçš„ClientIDä¿¡æ¯"></a>è®¾ç½®ä¸ªäººçš„ClientIDä¿¡æ¯</h4><p>ä½¿ç”¨ <code>FileZilla</code> è½¯ä»¶ï¼Œåœ¨æ ‘è“æ´¾çš„ç›®å½• <code>/home/pi/Leafney/DuerOS-Python-Client</code> ä¸‹æ‰¾åˆ° <code>app/auth.py</code> è¿™ä¸ªæ–‡ä»¶ï¼Œå› ä¸ºåœ¨æ§åˆ¶å°ç•Œé¢ä¸‹ä¸å¤ªæ–¹ä¾¿ç¼–è¾‘æ–‡ä»¶ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘é€‰æ‹©å°†è¯¥æ–‡ä»¶ä¸‹è½½åˆ°Windowsæœ¬åœ°æ¥ç¼–è¾‘ã€‚</p>
<p>å°† <code>auth.py</code> ä¸‹è½½åˆ°æœ¬åœ°åï¼Œæ¨èä½¿ç”¨ <code>SublimeText</code> æˆ– <code>NotePad++</code> æ¥è¿›è¡Œç¼–è¾‘ã€‚</p>
<p>æ‰¾åˆ° <code>å¼€å‘è€…æ³¨å†Œä¿¡æ¯</code> éƒ¨åˆ†ï¼Œæ›¿æ¢æˆåˆšåˆšç”³è¯·çš„ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># å¼€å‘è€…æ³¨å†Œä¿¡æ¯</span><br><span class="line">CLIENT_ID &#x3D; &#39;XXXXX&#39;</span><br><span class="line">CLIENT_SECRET &#x3D; &#39;XXXXXX&#39;</span><br></pre></td></tr></table></figure>

<p>ç„¶åå°†ä¸‹é¢çš„ <code>ä½¿ç”¨å¼€å‘è€…æ³¨å†Œä¿¡æ¯</code> ä¸€è¡Œä¸‹é¢ä»£ç æ®µå‰é¢çš„äº•å· <code>#</code> å»æ‰ï¼Œè§£æ³¨é‡Šè¿™ä¸€è¡Œã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># ä½¿ç”¨å¼€å‘è€…æ³¨å†Œä¿¡æ¯</span><br><span class="line">auth.auth_request(CLIENT_ID, CLIENT_SECRET)</span><br></pre></td></tr></table></figure>

<p>å†å°†ä¸‹é¢çš„ <code>ä½¿ç”¨é»˜è®¤çš„CLIENT_IDå’ŒCLIENT_SECRET</code> ä¸€è¡Œä¸‹é¢ä»£ç è¡Œå‰é¢åŠ ä¸€ä¸ªäº•å· <code>#</code> æ³¨é‡Šæ‰è¿™ä¸€è¡Œã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># ä½¿ç”¨é»˜è®¤çš„CLIENT_IDå’ŒCLIENT_SECRET</span><br><span class="line"># auth.auth_request()</span><br></pre></td></tr></table></figure>

<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171205jLciAm6A4f.jpg" alt="mark"></p>
<p>ç„¶åä½¿ç”¨ <code>FileZilla</code> å°†æˆ‘ä»¬åˆšåˆšæ”¹å¥½çš„ <code>auth.py</code> ä¸Šä¼ åˆ°æ ‘è“æ´¾ä¸­ã€‚</p>
<h4 id="è®¾ç½®æˆæƒå›è°ƒåœ°å€"><a href="#è®¾ç½®æˆæƒå›è°ƒåœ°å€" class="headerlink" title="è®¾ç½®æˆæƒå›è°ƒåœ°å€"></a>è®¾ç½®æˆæƒå›è°ƒåœ°å€</h4><p>åœ¨æµè§ˆå™¨ä¸­è®¿é—® <code>æ§åˆ¶å°</code> â€“ <code>è®¾å¤‡æ§åˆ¶å°</code> é¡µé¢ <a href="https://dueros.baidu.com/didp/product/listview" target="_blank" rel="noopener">è®¾å¤‡æ§åˆ¶å°</a> , é€‰æ‹©æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„äº§å“ç‚¹å‡» â€œç¼–è¾‘â€ é€‰é¡¹ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/1712053ebjjK0LkG.jpg" alt="mark"></p>
<p>åœ¨ <code>åŸºç¡€ä¿¡æ¯</code> é¡µé¢ï¼Œå¯ä»¥æŸ¥çœ‹åˆšåˆšåˆ›å»ºè®¾å¤‡çš„ client_id ç­‰ä¿¡æ¯ã€‚è¿™é‡Œæˆ‘ä»¬ç‚¹å‡» <code>OAUTH CONFIG URL</code> è¿™ä¸ªé“¾æ¥ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171205Ba8jgec5kl.jpg" alt="mark"></p>
<p>åœ¨æ–°é¡µé¢çš„å·¦ä¾§ç‚¹å‡» <code>å®‰å…¨è®¾ç½®</code> é€‰é¡¹ï¼Œåœ¨ <code>æˆæƒå›è°ƒé¡µ</code> çš„è¾“å…¥æ¡†ä¸­è¾“å…¥å¦‚ä¸‹å†…å®¹ï¼Œç„¶åç‚¹å‡» <code>ç¡®å®š</code> ä¿å­˜ä¿®æ”¹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1:3000&#x2F;authresponse</span><br></pre></td></tr></table></figure>

<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171205fgmEh6ei60.jpg" alt="mark"></p>
<h4 id="ä½¿ç”¨ä¸ªäººè®¾å¤‡æˆæƒ"><a href="#ä½¿ç”¨ä¸ªäººè®¾å¤‡æˆæƒ" class="headerlink" title="ä½¿ç”¨ä¸ªäººè®¾å¤‡æˆæƒ"></a>ä½¿ç”¨ä¸ªäººè®¾å¤‡æˆæƒ</h4><p>å®Œæˆä¸Šé¢çš„é…ç½®åï¼Œå›åˆ° <code>Xshell</code> ä¸­ï¼Œåœ¨æ ‘è“æ´¾çš„ <code>/home/pi/Leafney/DuerOS-Python-Client</code> ç›®å½•ä¸‹ï¼Œå†æ¬¡æ‰§è¡Œæˆæƒå‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ .&#x2F;auth.sh</span><br><span class="line">A web page should is opened. If not, go to http:&#x2F;&#x2F;127.0.0.1:3000 to start</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨æ ‘è“æ´¾ç³»ç»Ÿæµè§ˆå™¨è¾“å…¥ <code>127.0.0.1:3000</code> è®¿é—®ã€‚</p>
<p>å¯ä»¥çœ‹åˆ°é¡µé¢å³ä¾§çš„æˆæƒåº”ç”¨å˜æˆäº†æˆ‘è‡ªå·±åˆ›å»ºçš„è®¾å¤‡åç§°ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171205744die8bjc.jpg" alt="mark"></p>
<p>å¦‚æœä½ çš„æˆæƒé¡µé¢ä¸­è¿™é‡Œæ˜¾ç¤ºçš„æ˜¯ç©ºçš„ï¼Œé‚£æ˜¯å› ä¸ºä½ ç”¨çš„æ˜¯ä¸­æ–‡åç§°ã€‚åœ¨â€œåŸºç¡€ä¿¡æ¯â€ çš„ â€œåç§°â€é‚£é‡Œéœ€è¦å†æ¬¡æ·»åŠ ä¸€ä¸‹åç§°ã€‚å¦‚æœæ˜¯è‹±æ–‡çš„è¯ï¼Œè¿™ä¸ªåç§°ä¼šç›´æ¥æ˜¾ç¤ºã€‚æˆ‘è§‰å¾—è¿™é‡Œå¯èƒ½æ˜¯ä¸€ä¸ªbugã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/1712051E5cDdb1jg.jpg" alt="mark"></p>
<p>åœ¨æˆæƒé¡µé¢è¾“å…¥æˆ‘çš„ç™¾åº¦è´¦å·å’Œå¯†ç è¿›è¡Œæˆæƒã€‚</p>
<p>çœ‹åˆ°æç¤º <code>Succeed to login DuerOS Voice Service</code> çš„ä¿¡æ¯å°±è¯´æ˜æˆæƒæˆåŠŸäº†ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171205e6dBAefhid.jpg" alt="mark"></p>
<p>åŒæ—¶åœ¨ <code>Xshell</code> ä¸‹æˆ‘ä»¬ä¼šçœ‹åˆ°è¾“å‡ºç›¸åº”çš„æˆæƒä¿¡æ¯ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171205KgGHdJGJ89.jpg" alt="mark"></p>
<h4 id="è¯­è¨€å”¤é†’"><a href="#è¯­è¨€å”¤é†’" class="headerlink" title="è¯­è¨€å”¤é†’"></a>è¯­è¨€å”¤é†’</h4><p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ .&#x2F;wakeup_trigger_start.sh</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨å”¤é†’è¯ <code>å°åº¦å°åº¦</code> å°±èƒ½å”¤é†’äº†ã€‚</p>
<p>å› ä¸ºæˆ‘åœ¨ <code>Xshell</code> ä¸‹æ“ä½œæ—¶å‘ç°å‘½ä»¤è¡Œä¸‹çš„ä¸­æ–‡ä¼šæœ‰ä¹±ç çš„æƒ…å†µï¼Œæ‰€ä»¥æˆ‘æ”¹ç”¨è¿œç¨‹æ¡Œé¢ä¸‹æ ‘è“æ´¾ä¸Šè‡ªå¸¦çš„ <code>Terminal</code> ç¨‹åºæ¥æ‰§è¡Œã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171205e6iEB7LKEm.jpg" alt="mark"></p>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨enteræŒ‰é”®å”¤é†’ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ .&#x2F;enter_trigger_start.sh</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨enteré”®å›è½¦å”¤é†’ã€‚</p>
<p>è¿™é‡Œæˆ‘å°è¯•äº†ä¸Šé¢çš„ä¸¤ç§å”¤é†’æ–¹å¼ï¼Œå‘ç°ä¸çŸ¥é“æ˜¯å“ªé‡Œçš„é—®é¢˜ï¼ŒéŸ³ç®±éƒ½æ²¡æœ‰å£°éŸ³è¾“å‡ºã€‚æŸ¥çœ‹è¾“å‡ºçš„æ—¥å¿—ä¿¡æ¯æ˜¯èƒ½çœ‹åˆ°æœ‰éŸ³é¢‘æ–‡ä»¶ä¸‹è½½æˆåŠŸå¹¶æ’­æ”¾çš„ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171205mFK66gbHId.jpg" alt="mark"></p>
<h4 id="è§£å†³æ²¡æœ‰å£°éŸ³çš„é—®é¢˜"><a href="#è§£å†³æ²¡æœ‰å£°éŸ³çš„é—®é¢˜" class="headerlink" title="è§£å†³æ²¡æœ‰å£°éŸ³çš„é—®é¢˜"></a>è§£å†³æ²¡æœ‰å£°éŸ³çš„é—®é¢˜</h4><p>æˆ‘ä½¿ç”¨ <code>alsamixer</code> ç„¶åæŒ‰ <code>F6</code> åˆ‡æ¢ä½¿ç”¨çš„å£°å¡ï¼Œå‘ç°æ— è®ºå¦‚ä½•åˆ‡æ¢ï¼Œä¼¼ä¹éƒ½æ²¡æœ‰æ•ˆæœã€‚</p>
<p>åæ¥æˆ‘è€ƒè™‘<strong>å°†éŸ³ç®±çº¿æ¢åˆ°æ ‘è“æ´¾æœ¬èº«çš„éŸ³é¢‘æ¥å£</strong>ä¸Šï¼Œå‘ç°å±…ç„¶æœ‰å£°éŸ³è¾“å‡ºäº†ã€‚ä¸è¿‡æ ‘è“æ´¾è‡ªå¸¦çš„éŸ³é¢‘è¾“å‡ºæ‚éŸ³è¿˜æ˜¯å¾ˆåµçš„ã€‚</p>
<p>è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ä¸èƒ½åœ¨æ ‘è“æ´¾é€šç”µçš„æƒ…å†µä¸‹åˆ‡æ¢éŸ³é¢‘å£ï¼Œæˆ‘å‘ç°å¦‚æœç›´æ¥å°†éŸ³é¢‘çº¿ä»DuerOSæ¿å­çš„éŸ³é¢‘å£æ¢åˆ°æ ‘è“æ´¾çš„éŸ³é¢‘å£ä¸Šæ—¶ï¼Œåˆšä¸€æ¥è§¦çš„æ—¶å€™å™ªéŸ³æ˜¯éå¸¸å¤§çš„ï¼Œæ‰€ä»¥æœ€åæˆ‘æ˜¯å°†æ ‘è“æ´¾å…³æœºç„¶ååˆ‡æ¢çš„ã€‚</p>
<h4 id="æ„Ÿå—"><a href="#æ„Ÿå—" class="headerlink" title="æ„Ÿå—"></a>æ„Ÿå—</h4><ol>
<li>ä½¿ç”¨Python SDK æœ€åå”¤é†’çš„æ—¶å€™éœ€è¦å°†éŸ³é¢‘æ¥å£æ’åˆ°æ ‘è“æ´¾çš„éŸ³é¢‘æ¥å£ä¸Šï¼Œè¿™ä¸€ç‚¹åœ¨è®ºå›çš„æ–‡æ¡£ä¸­æ²¡æœ‰è¯´æ˜ï¼Œå¯èƒ½ä¼šç»™ä¸€äº›äººæ“ä½œæ—¶å¸¦æ¥å›°æƒ‘ã€‚</li>
<li>ä¸ªäººè®¤ä¸ºåº”è¯¥æ˜¯æœ‰æ–¹æ³•ä½¿ç”¨DuerOSå¼€å‘ç‰ˆçš„éŸ³é¢‘æ¥å£çš„ï¼Œæ¯•ç«Ÿæ²¡æœ‰æ‚éŸ³å˜›ã€‚éœ€è¦è¿›ä¸€æ­¥ç ”ç©¶ä¸€ä¸‹ã€‚</li>
<li>å‘ç°åœ¨ä½¿ç”¨ Python SDK å”¤é†’å°åº¦æ—¶ï¼Œè¯­è¨€è¯†åˆ«çš„æ•ˆæœä¸å¦‚é•œåƒç³»ç»Ÿä¸­è¯­éŸ³çš„è¯†åˆ«å‡†ç¡®åº¦é«˜ã€‚</li>
</ol>
]]></content>
      <categories>
        <category>DuerOSå¼€æ”¾å¹³å°</category>
      </categories>
      <tags>
        <tag>DuerOS</tag>
        <tag>æ™ºèƒ½å®¶å±…</tag>
      </tags>
  </entry>
  <entry>
    <title>è§£å†³Hexoåšå®¢æœç´¢å¼‚å¸¸</title>
    <url>/2017/11/24/resolve-hexo-blog-search-exception/</url>
    <content><![CDATA[<p>æœ€è¿‘åœ¨æ›´æ–°åšå®¢æ–‡ç« æ—¶å‘ç°ä¹‹å‰æ–°æ·»åŠ çš„æœç´¢åŠŸèƒ½ä¸å¤ªå¥½ç”¨äº†ã€‚æ¯æ¬¡ç‚¹å‡»äº†æœç´¢æŒ‰é’®ä¹‹åï¼Œæœç´¢å¼¹æ¡†ä¸€ç›´æ˜¾ç¤º â€œåŠ è½½ä¸­â€ çš„çŠ¶æ€ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/1711241KiH0C4BaA.png" alt="mark"></p>
<h4 id="å°è¯•"><a href="#å°è¯•" class="headerlink" title="å°è¯•"></a>å°è¯•</h4><p>å› ä¸ºæˆ‘ä½¿ç”¨çš„æ˜¯ <code>hexo</code> çš„ <code>Next</code> ä¸»é¢˜ä¸­çš„ <code>Local Search</code> æœç´¢åŠŸèƒ½ï¼Œæ‰€ä»¥å°±å» <code>Next</code> ä¸»é¢˜çš„githubä¸­æŸ¥æ‰¾äº†ç±»ä¼¼çš„ <code>issues</code> ï¼Œå‘ç°ç±»ä¼¼é—®é¢˜ä¸‹ä½œè€…æ˜¯å»ºè®®é‡æ–°å®‰è£…è¯¥æœç´¢ç»„ä»¶æ¥è§£å†³çš„ã€‚</p>
<p>äºæ˜¯æˆ‘å°±å¸è½½äº†è¯¥ç»„ä»¶ï¼Œç„¶åé‡æ–°å®‰è£…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ npm uninstall hexo-generator-searchdb --save</span><br><span class="line"></span><br><span class="line">$ npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure>

<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171124eHlhg3am05.png" alt="mark"></p>
<p>ç»“æœé—®é¢˜ä¾æ—§ã€‚</p>
<h4 id="æ¢ç©¶"><a href="#æ¢ç©¶" class="headerlink" title="æ¢ç©¶"></a>æ¢ç©¶</h4><p>åæ¥æˆ‘å‘ç° <code>Local Search</code> çš„æœç´¢åŠŸèƒ½æ˜¯åŠ è½½çš„é¡¹ç›®ç›®å½•ä¸‹çš„ <code>search.xml</code> æ–‡ä»¶ï¼š<code>http://localhost:4000/search.xml</code>ã€‚äºæ˜¯æˆ‘åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼Œå±…ç„¶æœ‰æŠ¥é”™æç¤ºã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/17112468cam2i3k8.png" alt="mark"></p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171124jmJc73ClH5.png" alt="mark"></p>
<p>æŒ‰ç…§é”™è¯¯ä¿¡æ¯çš„è¯´æ˜ï¼Œæˆ‘æ‰¾åˆ°äº†å‡ºé”™çš„ç¬¬ <code>47</code> è¡Œç¬¬ <code>35</code> åˆ—ï¼Œå‘ç°å’Œå…¶ä»–å†…å®¹ä¸åŒçš„æ˜¯è¿™é‡Œå±…ç„¶å¤šäº†ä¸€ä¸ª â€œçº¢ç‚¹â€ï¼Œé‚£ä¹ˆæœç´¢å¼¹çª—å‡ºä¸æ¥çš„é—®é¢˜åº”è¯¥å°±æ˜¯è¿™ä¸ª â€œçº¢ç‚¹â€ æçš„é¬¼äº†ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171124imFDgH4mmE.png" alt="mark"></p>
<p>æˆ‘é€šè¿‡ <code>Sublime Text</code> æ‰“å¼€äº†æºåšå®¢æ–‡ä»¶ï¼Œå‘ç°åœ¨æ®µè½çš„å¼€å¤´å±…ç„¶å¤šäº†ä¸¤ä¸ªå¥‡è‘©çš„å­—ç¬¦ï¼š<code>BS</code>ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171124km78g4i39h.png" alt="mark"></p>
<p>æˆ‘è§‰å¾—å¯èƒ½æ˜¯ä»€ä¹ˆæ—¶å€™å¤åˆ¶æ–‡ä»¶æ—¶ç»™åŠ ä¸Šçš„ã€‚åˆ é™¤åï¼Œå†æ¬¡ç”Ÿæˆã€‚é—®é¢˜è§£å†³ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/17112406F5a7GEaL.png" alt="mark"></p>
<p>å†æ¬¡è®¿é—®æœç´¢çš„xmlæ–‡ä»¶ <code>http://localhost:4000/search.xml</code> ï¼Œå‘ç°å·²ç»ä¸ä¼šå†æŠ¥ä¹‹å‰çš„é”™è¯¯äº†ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171124B85CK5774h.png" alt="mark"></p>
<p>éœ€è¦æ³¨æ„çš„ä¸€ç‚¹ï¼šæˆ‘åœ¨æŸ¥çœ‹æºåšå®¢æ–‡ä»¶æ—¶ä¹Ÿä½¿ç”¨äº† <code>VS Code</code> ç¼–è¾‘å™¨ï¼Œä½†æ˜¯ <code>VS Code</code> å´æ— æ³•æ˜¾ç¤ºå‡ºæ¥å‰é¢çš„ç‰¹æ®Šå­—ç¬¦ <code>BS</code>ï¼Œé€šè¿‡ <code>Sublime Text</code> æ‰æŸ¥çœ‹åˆ°ã€‚</p>
<h4 id="æ‰©å±•"><a href="#æ‰©å±•" class="headerlink" title="æ‰©å±•"></a>æ‰©å±•</h4><p>åœ¨Hexoåšå®¢æ–‡ä»¶çš„é¡¹ç›®ç›®å½•ä¸‹æœ‰ä¸€ä¸ª <code>node_modules</code> ç›®å½•ã€‚æ¯æ¬¡åœ¨windowsç³»ç»Ÿä¸‹åˆ é™¤ (æ‹·è´æˆ–è€…ç§»åŠ¨) è¯¥ç›®å½•æ—¶éƒ½ä¼šæŠ¥ <code>æ–‡ä»¶åæˆ–æ‰©å±•åå¤ªé•¿ï¼Œç›®å½•å±‚æ¬¡è¶…è¿‡é™åˆ¶</code> ç­‰é”™è¯¯è€Œå¯¼è‡´æ“ä½œå¤±è´¥ã€‚</p>
<p>è§£å†³è¿™ä¸ªé—®é¢˜åªéœ€è¦ä½¿ç”¨ <code>unix</code> æˆ–è€… <code>linux</code> ä¸‹çš„ <code>rm -rf</code>ï¼ˆå¼ºåˆ¶åˆ é™¤ï¼‰ å‘½ä»¤æ¥åˆ é™¤å³å¯ï¼Œä½†è¦æ³¨æ„æ“ä½œæ—¶ä¸€å®šè¦æ…é‡ï¼Œä¸è¦è¯¯åˆ å…¶ä»–æ–‡ä»¶ã€‚</p>
<p>åœ¨ <code>node_modules</code> æ–‡ä»¶å¤¹æ‰€åœ¨ç›®å½•ä¸‹å³é”®æ‰“å¼€ <code>Git Bash</code> çª—å£ï¼Œæ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ rm -rf .&#x2F;node_modules&#x2F;</span><br></pre></td></tr></table></figure>

<p>ç­‰å¾…å®Œæˆï¼Œå³å¯ã€‚</p>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="https://stackoverflow.com/questions/13066532/how-to-uninstall-npm-modules-in-node-js" target="_blank" rel="noopener">how to uninstall npm modules in node js?</a></li>
<li><a href="http://blog.csdn.net/crper/article/details/50458369" target="_blank" rel="noopener">windowsåˆ é™¤node_modules[æ–‡ä»¶åæˆ–æ‰©å±•åå¤ªé•¿ï¼Œç›®å½•å±‚æ¬¡è¶…è¿‡æ— æ³•åˆ é™¤çš„é—®é¢˜]</a></li>
</ul>
]]></content>
      <categories>
        <category>Hexoåšå®¢æ­å»º</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>ç©è½¬ç¾¤æ™–NAS--ä¸‹è½½ç¥å™¨aria2</title>
    <url>/2017/11/17/playing-synology-nas-of-docker-aria2/</url>
    <content><![CDATA[<p>ä¸Šä¸€ç¯‡æ–‡ç« è¯´äº†å¦‚ä½•é…ç½®DockeråŠ é€Ÿå™¨ï¼Œç°åœ¨ä¸‹è½½Dockeré•œåƒæ–‡ä»¶å·²ç»éå¸¸çš„å¿«äº†ã€‚ä½†æ˜¯å¯¹äºå…¶ä»–çš„ä¸€äº›æ–‡ä»¶æ¯”å¦‚ç”µå½±ã€ç¨‹åºæ–‡ä»¶ç­‰æ¥è¯´ï¼Œå¦‚ä½•åœ¨NASä¸­æ¥å¿«é€Ÿçš„ä¸‹è½½å‘¢ï¼Ÿ</p>
<p>è™½ç„¶ç¾¤æ™–ä¸­å·²ç»è‡ªå¸¦äº†ä¸‹è½½å¥—ä»¶ï¼Œä¸è¿‡çœ‹åˆ°é‚£ä¸ªç•Œé¢æˆ‘å°±æœ‰ç§ä¸æƒ³ç”¨çš„æ„Ÿè§‰ã€‚è¿™é‡Œæ¨èä¸€ä¸ªå¼€æºçš„ä¸‹è½½ç¥å™¨ â€“ <code>aria2</code>ï¼Œå·ç§°è¿…é›·çš„æ›¿ä»£è€…ã€‚</p>
<p>è¿™é‡Œæˆ‘è¿˜é€‰æ‹©åœ¨Dockerä¸­æ¥é…ç½®ï¼Œé€‰æ‹©çš„é•œåƒä¸ºæˆ‘ä¹‹å‰åˆ›å»ºçš„ <code>leafney/debian-aria2-kode</code> é•œåƒã€‚è¯¥é•œåƒè‡ªå¸¦äº† aria2ä¸‹è½½ç¨‹åºã€ariaNgç®¡ç†é¡µé¢ä»¥åŠKodExploreræ–‡ä»¶ç®¡ç†é¡µé¢ã€‚</p>
<p>å…·ä½“å¯ä»¥è®¿é—®ï¼š<a href="https://github.com/Leafney/debian-aria2-kode" target="_blank" rel="noopener">Leafney/debian-aria2-kode</a></p>
<hr>
<h4 id="åˆ›å»ºaria2å®¹å™¨"><a href="#åˆ›å»ºaria2å®¹å™¨" class="headerlink" title="åˆ›å»ºaria2å®¹å™¨"></a>åˆ›å»ºaria2å®¹å™¨</h4><p>æ‰“å¼€ç¾¤æ™–çš„dockerå¥—ä»¶ï¼Œé€‰æ‹© â€œæ³¨å†Œè¡¨â€ é¡¹ï¼Œæœç´¢å¹¶ä¸‹è½½é•œåƒ <code>leafney/debian-aria2-kode</code> ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171117h0GeCiKJG3.png" alt="mark"></p>
<p>ä¸‹è½½å®Œæˆåï¼Œé€‰ä¸­è¯¥é•œåƒï¼Œç‚¹å‡» â€œå¯åŠ¨â€ èœå•ï¼Œæ‰“å¼€ â€œåˆ›å»ºå®¹å™¨â€ ç•Œé¢ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171117Dc9aFm6f6c.png" alt="mark"></p>
<p>ä¸ºè¯¥å®¹å™¨è®¾ç½®ä¸€ä¸ªè‡ªå®šä¹‰çš„åç§°ï¼Œæˆ‘è¿™é‡Œå‘½åä¸º <code>aria2-kode</code>ï¼Œç„¶åæ‰“å¼€ â€œé«˜çº§è®¾ç½®â€ çª—å£ã€‚</p>
<p>åœ¨ â€œé«˜çº§è®¾ç½®â€ é€‰é¡¹å¡ï¼Œé€‰ä¸­ â€œå¯ç”¨è‡ªåŠ¨é‡æ–°å¯åŠ¨â€ åŠ â€œåˆ›å»ºæ¡Œé¢å¿«æ·æ–¹å¼â€ ã€‚</p>
<p>è‡ªåŠ¨é‡æ–°å¯åŠ¨æ˜¯åœ¨å®¹å™¨ä¸å½“å…³æœºçš„æƒ…å†µä¸‹å›å°è¯•è‡ªåŠ¨é‡å¯çš„æ“ä½œã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171117EcA9f5A3Bl.png" alt="mark"></p>
<p>åœ¨ â€œå·â€ èœå•ä¸­ï¼Œä¸ºåˆ›å»ºçš„å®¹å™¨æ·»åŠ ä¸€ä¸ªæ–‡ä»¶å¤¹ç”¨æ¥ç®¡ç†å’ŒæŸ¥çœ‹æˆ‘ä»¬é€šè¿‡aria2ä¸‹è½½çš„æ–‡ä»¶ã€‚å› ä¸ºè¦å­˜å‚¨æ–°æ–‡ä»¶ï¼Œæ‰€ä»¥è¿™é‡Œä¸è¦å‹¾é€‰ â€œåªè¯»â€ é¡¹ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171117b2aick4cmg.png" alt="mark"></p>
<p>åœ¨ â€œç«¯å£è®¾ç½®â€ èœå•ä¸­ï¼Œå·²ç»åˆ—å‡ºäº†é•œåƒä¸­é¢„è®¾çš„ç«¯å£ä¿¡æ¯ï¼Œåœ¨ â€œæœ¬åœ°ç«¯å£â€ é¡¹ä¸‹ï¼Œæˆ‘ä»¬ä¸ºå…¶æŒ‡å®šç›¸åº”çš„ç«¯å£ï¼Œä¸é€‰æ‹©é»˜è®¤çš„ â€œè‡ªåŠ¨â€ ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171117A8JD9Behmg.png" alt="mark"></p>
<p>ç„¶åç‚¹å‡» â€œåº”ç”¨â€ æŒ‰é’®ã€‚</p>
<p>å›åˆ° â€œåˆ›å»ºå®¹å™¨â€ ç•Œé¢ï¼Œç‚¹å‡» â€œä¸‹ä¸€æ­¥â€ ã€‚æŸ¥çœ‹æˆ‘ä»¬è®¾ç½®çš„å®¹å™¨ä¿¡æ¯ï¼Œå‹¾é€‰å·¦ä¸‹è§’çš„ â€œå‘å¯¼å®Œæˆåè¿è¡Œæ­¤å®¹å™¨â€ é¡¹ï¼Œç„¶åç‚¹å‡» â€œåº”ç”¨â€ ç­‰å¾…å®¹å™¨å¯åŠ¨ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171117kD4GleC0Aa.png" alt="mark"></p>
<hr>
<h4 id="æŸ¥çœ‹å®¹å™¨ä¿¡æ¯"><a href="#æŸ¥çœ‹å®¹å™¨ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹å®¹å™¨ä¿¡æ¯"></a>æŸ¥çœ‹å®¹å™¨ä¿¡æ¯</h4><p>é€‰æ‹©å·¦ä¾§ â€œå®¹å™¨â€ é¡¹ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„å®¹å™¨å·²ç»å¯åŠ¨äº†ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171117ih68G0fH77.png" alt="mark"></p>
<p>ç‚¹å‡»é¡¶éƒ¨çš„ â€œè¯¦æƒ…â€ é€‰é¡¹ï¼Œå¯ä»¥æŸ¥çœ‹å®¹å™¨ <code>aria2-kode</code> çš„ä¿¡æ¯ã€‚</p>
<p>åœ¨ â€œæ—¥å¿—â€ é¡¹ä¸‹ï¼Œå¯ä»¥æŸ¥çœ‹å½“å‰å®¹å™¨è¿è¡Œæ—¶è¾“å‡ºçš„æ—¥å¿—è®°å½•ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171117lEiH8f74eJ.png" alt="mark"></p>
<hr>
<h4 id="é…ç½®KodExplorer"><a href="#é…ç½®KodExplorer" class="headerlink" title="é…ç½®KodExplorer"></a>é…ç½®KodExplorer</h4><p>åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ <code>ç¾¤æ™–ip:6860</code> ï¼Œæ‰“å¼€ <code>KodExplorer</code> çš„ç™»å½•ç•Œé¢ã€‚çœ‹åˆ° â€œè¿è¡Œç¯å¢ƒæ£€æµ‹â€ ä¸‹è¾“å‡º â€œSuccessful!â€ è¯´æ˜æˆ‘ä»¬çš„å®¹å™¨å·²ç»æ­£å¸¸çš„è·‘èµ·æ¥äº†ã€‚</p>
<p>é¦–å…ˆè¦è®¾ç½® <code>KodExplorer</code> èµ„æºç®¡ç†å™¨çš„ç®¡ç†å‘˜ <code>admin</code> çš„å¯†ç ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171117kaaL1fL1aE.png" alt="mark"></p>
<p>ç„¶åä½¿ç”¨ç®¡ç†å‘˜è´¦å·ç™»å½•ã€‚ç™»å½•åå¯ä»¥çœ‹åˆ° <code>KodExplorer</code> çš„æ–‡ä»¶ç®¡ç†é¡µé¢å’Œæˆ‘ä»¬å¹³æ—¶ä½¿ç”¨çš„èµ„æºç®¡ç†å™¨é¡µé¢éå¸¸çš„ç›¸ä¼¼ï¼Œæ“ä½œèµ·æ¥ä¹Ÿæ²¡æœ‰ä»€ä¹ˆéš¾åº¦ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171117AG7Bj3LAaB.png" alt="mark"></p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171117f4J96e8C8l.png" alt="mark"></p>
<hr>
<h4 id="é…ç½®aria2"><a href="#é…ç½®aria2" class="headerlink" title="é…ç½®aria2"></a>é…ç½®aria2</h4><p>åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ <code>ç¾¤æ™–ip:6801</code> ,æ‰“å¼€ <code>AriaNg</code> çš„ç®¡ç†é¡µé¢ã€‚è¿›å…¥åä¼šå¼¹å‡º â€œè®¤è¯å¤±è´¥â€ çš„é”™è¯¯å¼¹çª—ï¼Œä¸ç”¨ç®¡å®ƒã€‚</p>
<p>é€‰æ‹©å·¦ä¾§ â€œç³»ç»Ÿè®¾ç½®â€ ä¸‹çš„ â€œAriaNg è®¾ç½®â€ é¡¹ã€‚åœ¨å³ä¾§é€‰æ‹© â€œRPC(192.168.x.xxâ€¦â€ çš„èœå•ï¼Œç„¶åé…ç½®ä¹‹å‰åˆ›å»ºå®¹å™¨æ—¶è®¾ç½®çš„ â€œAria2 RPC åœ°å€â€ ç«¯å£å·å’Œ â€œAria2 RPC å¯†é’¥â€ é¡¹ã€‚</p>
<p>RPCå¯†é’¥é»˜è®¤æ˜¯ <code>123456</code> ã€‚è®¾ç½®å®Œæˆåç‚¹å‡» â€œé‡æ–°åŠ è½½é¡µé¢â€ åº”ç”¨é…ç½®ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171117jAGbI57kfb.png" alt="mark"></p>
<p>ç„¶åå¯ä»¥çœ‹åˆ° <code>Aria2 çŠ¶æ€</code> å·²ç»æ˜¾ç¤ºä¸º â€œå·²è¿æ¥â€ çš„çŠ¶æ€äº†ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171117EI19DI0LF8.png" alt="mark"></p>
<p>è‡³æ­¤ï¼Œaria2å°±é…ç½®å®Œæˆäº†ã€‚é€‰æ‹©å·¦ä¾§çš„ â€œæ­£åœ¨ä¸‹è½½â€ é¡¹æ–°å»ºä¸‹è½½ä»»åŠ¡å³å¯ã€‚</p>
<hr>
<h4 id="ç®¡ç†ä¸‹è½½æ–‡ä»¶"><a href="#ç®¡ç†ä¸‹è½½æ–‡ä»¶" class="headerlink" title="ç®¡ç†ä¸‹è½½æ–‡ä»¶"></a>ç®¡ç†ä¸‹è½½æ–‡ä»¶</h4><p>è¿™é‡Œæˆ‘ä»¥ä¸‹è½½ <code>BaiduExporter</code> ä¸ºä¾‹æ¥ç¤ºèŒƒå¦‚ä½•ç®¡ç†ä¸‹è½½çš„æ–‡ä»¶ã€‚</p>
<p><a href="https://github.com/acgotaku/BaiduExporter" target="_blank" rel="noopener">BaiduExporter</a></p>
<h5 id="ä¸‹è½½æ–‡ä»¶"><a href="#ä¸‹è½½æ–‡ä»¶" class="headerlink" title="ä¸‹è½½æ–‡ä»¶"></a>ä¸‹è½½æ–‡ä»¶</h5><p>æ‰“å¼€ <code>BaiduExporter</code> çš„githubé¡µé¢ï¼Œåœ¨masteråˆ†æ”¯ä¸‹ï¼Œé€‰æ‹©å³ä¾§çš„ <code>Clone or download</code> é¡¹ä¸‹çš„ <code>Download Zip</code> ï¼Œå³å‡»é€‰æ‹© â€œå¤åˆ¶é“¾æ¥åœ°å€â€ ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171117j7blJKDCib.png" alt="mark"></p>
<p>æ‰“å¼€ â€œAriaNgâ€ é¡µé¢ï¼Œåœ¨ â€œæ­£åœ¨ä¸‹è½½â€ é¡µé¢ â€œæ–°å»ºâ€ ä¸‹è½½ä»»åŠ¡ã€‚ç²˜è´´ä¸‹è½½é“¾æ¥ï¼Œç‚¹å‡» â€œç«‹å³ä¸‹è½½â€ å¼€å§‹ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171117EH82F8J37d.png" alt="mark"></p>
<p>ä¸‹è½½å®Œæˆåï¼Œä¼šåœ¨ â€œå·²å®Œæˆ/å·²åœæ­¢â€ èœå•ä¸­æ˜¾ç¤ºã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/17111773fCaB1Dmg.png" alt="mark"></p>
<h5 id="KodExploreræ–‡ä»¶ç®¡ç†"><a href="#KodExploreræ–‡ä»¶ç®¡ç†" class="headerlink" title="KodExploreræ–‡ä»¶ç®¡ç†"></a>KodExploreræ–‡ä»¶ç®¡ç†</h5><p>è¦æŸ¥çœ‹æˆ‘ä»¬åˆšåˆšä¸‹è½½çš„æ–‡ä»¶ï¼Œåœ¨æµè§ˆå™¨æ‰“å¼€ <code>KodExplorer</code> é¡µé¢ï¼Œé€‰æ‹©ä¸Šé¢çš„ç›®å½•è·¯å¾„ï¼Œç‚¹å‡»æ ¹ç›®å½•é¡¹ï¼ŒæŸ¥çœ‹æ‰€æœ‰çš„æ–‡ä»¶åŠç›®å½•ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171117jBB9DF8b40.png" alt="mark"></p>
<p>æ‰¾åˆ° <code>app</code> ç›®å½•ï¼Œæ‰“å¼€é‡Œé¢çš„ <code>aria2down</code> ç›®å½•å³å¯æŸ¥çœ‹åˆ°æˆ‘ä»¬åˆšåˆšä¸‹è½½çš„æ–‡ä»¶äº†ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171117llG1fjCAB8.png" alt="mark"></p>
<h5 id="åœ¨ç¾¤æ™–DSMä¸­æŸ¥çœ‹ä¸‹è½½æ–‡ä»¶"><a href="#åœ¨ç¾¤æ™–DSMä¸­æŸ¥çœ‹ä¸‹è½½æ–‡ä»¶" class="headerlink" title="åœ¨ç¾¤æ™–DSMä¸­æŸ¥çœ‹ä¸‹è½½æ–‡ä»¶"></a>åœ¨ç¾¤æ™–DSMä¸­æŸ¥çœ‹ä¸‹è½½æ–‡ä»¶</h5><p>åœ¨åˆ›å»ºå®¹å™¨æ—¶æˆ‘ä»¬ä¸ºå®¹å™¨æŒ‡å®šäº†ç¾¤æ™–æœ¬åœ°çš„ä¸‹è½½æ–‡ä»¶ç›®å½•ã€‚æ‰“å¼€ç¾¤æ™–DSMç•Œé¢ â€“ â€œFile Stationâ€ æ–‡ä»¶ç®¡ç†å™¨ï¼Œæ‰¾åˆ°æˆ‘ä»¬è®¾ç½®çš„ç›®å½•ï¼Œå¯ä»¥çœ‹åˆ°å®¹å™¨ä¸ºæˆ‘ä»¬è‡ªåŠ¨åˆ›å»ºäº†ä¸‰ä¸ªç›®å½•ï¼Œåœ¨ <code>aria2down</code> ä¸‹å°±èƒ½æ‰¾åˆ°æˆ‘ä»¬åˆšåˆšä¸‹è½½çš„æ–‡ä»¶äº†ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/1711176EB6Kjc45f.png" alt="mark"></p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171117G4j3hE8KH9.png" alt="mark"></p>
<hr>
<h4 id="ç™¾åº¦ç½‘ç›˜æ–‡ä»¶ä¸‹è½½"><a href="#ç™¾åº¦ç½‘ç›˜æ–‡ä»¶ä¸‹è½½" class="headerlink" title="ç™¾åº¦ç½‘ç›˜æ–‡ä»¶ä¸‹è½½"></a>ç™¾åº¦ç½‘ç›˜æ–‡ä»¶ä¸‹è½½</h4><p>çŸ¥é“äº†å¦‚ä½•ä¸‹è½½å’Œå¦‚ä½•ç®¡ç†æ–‡ä»¶ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬çœ‹çœ‹å…·ä½“çš„åº”ç”¨ã€‚å› ä¸ºä¹‹å‰ç½‘ç›˜åˆšå…´èµ·çš„æ—¶å€™ï¼Œæˆ‘æŠŠå¤§éƒ¨åˆ†çš„æ–‡ä»¶éƒ½æ”¾åœ¨åˆ°äº†ç™¾åº¦ç½‘ç›˜é‡Œï¼Œä½†åæ¥ç½‘ç›˜é€æ¸è¡°è½ï¼Œç™¾åº¦ç½‘ç›˜çš„å®¢æˆ·ç«¯ä¸‹è½½æ–‡ä»¶è¿˜ä¼šé™é€Ÿï¼Œé™¤éä½ å†²è¶…çº§ä¼šå‘˜æ‰è¡Œã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°±ç”¨aria2æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<h5 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h5><p>æƒ³è¦ä¸‹è½½ç™¾åº¦ç½‘ç›˜ä¸­çš„æ–‡ä»¶ï¼Œé¦–å…ˆéœ€è¦å®‰è£…ä¸€ä¸ªæ’ä»¶ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢æˆ‘ä»¬å·²ç»ä¸‹è½½çš„ <code>BaiduExporter</code>ã€‚</p>
<p>åœ¨ <code>KodExplorer</code> ç®¡ç†ç•Œé¢æˆ–ç¾¤æ™–çš„ <code>DSM</code> ç•Œé¢ï¼Œé€‰ä¸­æ–‡ä»¶ <code>BaiduExporter-master.zip</code> å³å‡»é€‰æ‹©ä¸‹è½½å‡å¯å°†è¯¥æ–‡ä»¶ä¸‹è½½åˆ°å½“å‰ç”µè„‘ä¸Šï¼Œè§£å‹åçœ‹åˆ°ä¸€ä¸ªåä¸º <code>BaiduExporter.crx</code> çš„æ–‡ä»¶ã€‚</p>
<p>æ‰“å¼€ <code>Chrome</code> æµè§ˆå™¨ â€“ â€œæ›´å¤šå·¥å…·â€ â€“ â€œæ‰©å±•ç¨‹åºâ€ ç•Œé¢ã€‚å°† <code>BaiduExporter.crx</code> æ‹–æ”¾åˆ°è¯¥é¡µé¢ä»¥å®‰è£…ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/1711174ja3030bB1.png" alt="mark"></p>
<p>æ‰“å¼€ç™¾åº¦ç½‘ç›˜é¡µé¢ï¼Œåœ¨é¡¶éƒ¨èœå•æ ä¸­å¯ä»¥çœ‹åˆ°å¤šå‡ºäº†ä¸€é¡¹ â€œå¯¼å‡ºä¸‹è½½â€ çš„æŒ‰é’®ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/17111794ELDGH5hG.png" alt="mark"></p>
<h5 id="è®¾ç½®ARIA2-RPC"><a href="#è®¾ç½®ARIA2-RPC" class="headerlink" title="è®¾ç½®ARIA2 RPC"></a>è®¾ç½®ARIA2 RPC</h5><p>ä»åœ¨ç™¾åº¦ç½‘ç›˜é¡µé¢ï¼Œé€‰æ‹©èœå• â€œå¯¼å‡ºä¸‹è½½â€ â€“ â€œè®¾ç½®â€ é¡¹ï¼Œåœ¨ <code>ARIA2 RPC</code> å³ä¾§è¾“å…¥RPCåœ°å€ï¼Œæ ¼å¼ä¸º ï¼š<code>http://192.168.5.120:6800/jsonrpc</code> ã€‚</p>
<p>å› ä¸ºæˆ‘çš„aria2æ˜¯æ·»åŠ äº†å¯†é’¥çš„ï¼Œæ‰€ä»¥æœ€åçš„rpcåœ°å€æ ¼å¼åº”ä¸ºï¼š<code>http://token:RPCå¯†é’¥@192.168.5.120:6800/jsonrpc</code> ï¼Œå³</p>
<blockquote>
<p>è®¾ç½®å¯†ç ä»¥åéœ€è¦åœ¨å¯¼å‡ºä¸‹é¢çš„è®¾ç½®é‡Œåœ¨ JSONRPC çš„åœ°å€çš„ <code>http://</code> åé¢ <code>localhost</code> å‰é¢åŠ ä¸Š <code>token:ä½ çš„å¯†ç @</code>ã€‚</p>
</blockquote>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171117AkL6GebFaB.png" alt="mark"></p>
<h5 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h5><p>ç‚¹å‡»åº”ç”¨åï¼Œå‹¾é€‰ç™¾åº¦ç½‘ç›˜ä¸­è¦ä¸‹è½½çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼Œé€‰æ‹© â€œå¯¼å‡ºä¸‹è½½â€ èœå•ä¸‹çš„ â€œARIA2 RPCâ€ï¼Œä¼šå¼¹å‡º â€œä¸‹è½½æˆåŠŸï¼Œèµ¶ç´§å»çœ‹çœ‹å§ï¼â€ çš„æç¤ºä¿¡æ¯ã€‚åˆ‡æ¢åˆ° <code>AriaNg</code> é¡µé¢ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨ç™¾åº¦ç½‘ç›˜ä¸Šé€‰æ‹©çš„æ–‡ä»¶å·²ç»åœ¨ä¾æ¬¡ä¸‹è½½äº†ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171117GlLGJIkd74.png" alt="mark"></p>
<p>å¦å¤–åœ¨ <code>KodExplorer</code> å’Œç¾¤æ™–DSMçš„èµ„æºç®¡ç†ç•Œé¢ï¼Œéƒ½å¯ä»¥çœ‹åˆ°æ­£åœ¨ä¸‹è½½çš„æ–‡ä»¶ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171117lggD4efImf.png" alt="mark"></p>
<h5 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h5><p>è¿™é‡Œå‘ç°ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœåœ¨ <code>Mac10.13</code> ç³»ç»Ÿä¸Šä½¿ç”¨releaseä¸‹çš„ <code>v0.8.5</code> çš„ç‰ˆæœ¬åœ¨ç™¾åº¦ç½‘ç›˜é¡µé¢é€‰ä¸­æ–‡ä»¶åï¼Œâ€œå¯¼å‡ºä¸‹è½½â€ çš„æŒ‰é’®å°±æ¶ˆå¤±äº†ã€‚æ›´æ–°æˆå½“å‰çš„masterç‰ˆæœ¬ <code>v0.9.10</code> åæ²¡æœ‰é—®é¢˜ã€‚æ‰€ä»¥ä¸Šé¢ç›´æ¥æ¨èå®‰è£…masterç‰ˆæœ¬ã€‚</p>
<p>å…·ä½“å¯ä»¥çœ‹ github issuesï¼š<a href="https://github.com/acgotaku/BaiduExporter/issues/492" target="_blank" rel="noopener">mac os 10.13 æ— æ³•ä½¿ç”¨äº†</a></p>
<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="https://github.com/acgotaku/BaiduExporter/issues/299" target="_blank" rel="noopener">Aria2cé‚£è¾¹è®¾ç½®rpc-secretåï¼Œchromeé‡Œçš„ariaæŒ‰é’®ç‚¹å‡»åå°±ä¸èƒ½æ— æ³•ä¸‹è½½äº†ï¼ŒæŠ¥ï¼šæ˜¯ä¸æ˜¯æ²¡æœ‰å¯åŠ¨aria2</a></li>
</ul>
]]></content>
      <categories>
        <category>ç©è½¬ç¾¤æ™–NAS</category>
      </categories>
      <tags>
        <tag>SynologyNAS</tag>
      </tags>
  </entry>
  <entry>
    <title>ç©è½¬ç¾¤æ™–NAS--DockeråŠ é€Ÿ</title>
    <url>/2017/11/17/playing-synology-nas-of-docker-accelerator/</url>
    <content><![CDATA[<p>ç¾¤æ™–çš„DSMç³»ç»Ÿä¸Šå®‰è£…Dockerå¥—ä»¶éå¸¸çš„ç®€å•ï¼Œåªè¦ç‚¹å‡»ä¸€ä¸ªæŒ‰é’®å°±è¡Œäº†ã€‚</p>
<p>ä½†æ˜¯ç”±äºæŸäº› â€œä½ æ‡‚çš„â€ åŸå› ï¼ŒDockerHubçš„ç½‘ç«™æ˜¯åœ¨å›½å¤–çš„ï¼Œè€Œåœ¨å›½å†…è®¿é—®èµ·æ¥å°±ä¼šç‰¹åˆ«çš„æ…¢ã€‚ä¹‹å‰æˆ‘ä¹Ÿå†™è¿‡åœ¨å…¶ä»–Linuxç³»ç»Ÿå¦‚Ubuntuä¸‹é…ç½®DockeråŠ é€Ÿå™¨çš„æ–¹æ³•ï¼Œä½†ç»è¿‡ä¸€ç•ªç ”ç©¶å‘ç°ç¾¤æ™–NASä¸‹çš„Dockerå¥—ä»¶é…ç½®åŠ é€Ÿå™¨çš„æ–¹æ³•è¿˜æ˜¯æœ‰ä¸€å®šåŒºåˆ«çš„ã€‚</p>
<h4 id="å¯ç”¨Dockerå¥—ä»¶"><a href="#å¯ç”¨Dockerå¥—ä»¶" class="headerlink" title="å¯ç”¨Dockerå¥—ä»¶"></a>å¯ç”¨Dockerå¥—ä»¶</h4><p>è¿›å…¥ç¾¤æ™–çš„ DSM ç³»ç»Ÿåï¼Œé€‰æ‹©æ¡Œé¢çš„ â€œå¥—ä»¶ä¸­å¿ƒâ€ å›¾æ ‡ï¼ˆæˆ–åœ¨ â€œä¸»èœå•â€ ç•Œé¢ä¸­é€‰æ‹© â€œå¥—ä»¶ä¸­å¿ƒâ€ï¼‰ï¼Œåœ¨å·¦ä¾§æ‰¾åˆ° â€œå®ç”¨å·¥å…·â€ ä¸€é¡¹ï¼Œå³ä¾§å¾€ä¸‹æ‹‰åœ¨ â€œç¬¬ä¸‰æ–¹â€ ä¸€æ ä¸‹æ‰¾åˆ° â€œDockerâ€ çš„å›¾æ ‡ï¼Œç‚¹å‡» â€œå®‰è£…å¥—ä»¶â€ ï¼Œç­‰å¾…å®‰è£…å®Œæˆã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171117Dg018bm2b9.png" alt="mark"></p>
<p>å®‰è£…å®Œæˆåï¼Œé€‰æ‹© â€œä¸»èœå•â€ æ‰¾åˆ° â€œDockerâ€ å›¾æ ‡å¹¶æ‰“å¼€ã€‚</p>
<p>å…·ä½“çš„æ“ä½œå¯ä»¥æŸ¥çœ‹ DSM çš„å¸®åŠ©ç•Œé¢ï¼Œè¿™é‡Œä¸»è¦è¯´æ˜é‡ç‚¹çš„é¡¹ï¼š</p>
<ul>
<li><code>æ€»è§ˆ</code> èƒ½çœ‹åˆ°å½“å‰ç¾¤æ™–çš„ â€œCPU ä½¿ç”¨ç‡â€ å’Œ â€œå†…å­˜ä½¿ç”¨ç‡â€ ä»¥åŠæ­£åœ¨è¿è¡Œçš„ Docker å®¹å™¨ã€‚</li>
<li><code>æ³¨å†Œè¡¨</code> å¯¹åº”äº <code>Docker</code> æ¥è¯´å°±æ˜¯â€œDocker Hubâ€ã€‚æˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œæœç´¢ä»¥åŠä¸‹è½½é•œåƒã€‚</li>
<li><code>æ˜ åƒ</code> å¯¹åº”äº <code>Docker</code> æ¥è¯´å°±æ˜¯â€œé•œåƒâ€ï¼Œç”¨æ¥ç®¡ç†é•œåƒï¼Œåˆ›å»ºå®¹å™¨ç­‰æ“ä½œã€‚</li>
<li><code>å®¹å™¨</code> æ˜¯å¯¹åˆ›å»ºçš„å®¹å™¨è¿›è¡Œç®¡ç†ã€‚</li>
</ul>
<h4 id="æœªå¯ç”¨åŠ é€Ÿå™¨"><a href="#æœªå¯ç”¨åŠ é€Ÿå™¨" class="headerlink" title="æœªå¯ç”¨åŠ é€Ÿå™¨"></a>æœªå¯ç”¨åŠ é€Ÿå™¨</h4><p>è¦åœ¨Dockerå¥—ä»¶ä¸­åˆ›å»ºå®¹å™¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å·¦ä¾§èœå• â€œæ³¨å†Œè¡¨â€ é¡¹æœç´¢ç›¸åº”çš„é•œåƒåç§°ï¼ŒåŒå‡»ä¸‹è½½ã€‚ä½†æ˜¯æˆ‘ä»¬å‘ç°ä¸‹è½½ä¸­çš„é•œåƒå³ä¾§çš„ä¸‹è½½å›¾æ ‡åœ¨ä¸€æ®µæ—¶é—´ä¹‹å†…ä¸€ç›´æ˜¾ç¤º â€œ0 Bâ€ çš„æƒ…å†µï¼Œç„¶åå°±è‡ªåŠ¨æ¶ˆå¤±äº†ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/1711176K1C7bKB4a.png" alt="mark"></p>
<p>åŒæ—¶åœ¨ â€œæ˜ åƒâ€ ä¸­ä¹Ÿä¼šæç¤º â€œæ‚¨æœªä¸‹è½½ä»»ä½•æ˜ åƒï¼Œè¯·è¿›å…¥æ³¨å†Œè¡¨é€‰é¡¹å¡ä»¥ä¸‹è½½ã€‚â€ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171117aG1A4jmC25.png" alt="mark"></p>
<p>ä¸€è¿è¯•è¿‡å‡ æ¬¡ï¼Œéƒ½æ˜¯ä¸‹è½½ä¸­é€”é•œåƒå°±è‡ªåŠ¨æ¶ˆå¤±äº†ã€‚</p>
<h4 id="å¯ç”¨SSH"><a href="#å¯ç”¨SSH" class="headerlink" title="å¯ç”¨SSH"></a>å¯ç”¨SSH</h4><p>è¦é…ç½®Dockerçš„é…ç½®æ–‡ä»¶ï¼Œè¿˜å¾—éœ€è¦åœ¨å‘½ä»¤è¡Œä¸‹æ¥æ“ä½œã€‚ç¾¤æ™–NASé»˜è®¤æ²¡æœ‰å¼€å¯SSHåŠŸèƒ½ï¼Œå¾—éœ€è¦æˆ‘ä»¬å…ˆå¼€å¯æ‰è¡Œã€‚</p>
<p>æ‰“å¼€ â€œæ§åˆ¶é¢æ¿â€ å›¾æ ‡ï¼Œé€‰æ‹© â€œåº”ç”¨ç¨‹åºâ€ â€“ â€œç»ˆç«¯æœºå’ŒSNMPâ€ â€“ å‹¾é€‰ â€œå¯ç”¨ SSH åŠŸèƒ½â€ ã€‚ç«¯å£å¯ä»¥é€‰æ‹©é»˜è®¤æˆ–è‡ªå®šä¹‰ï¼Œç„¶åç‚¹å‡»åº”ç”¨ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/1711179j5LlAIEHc.png" alt="mark"></p>
<h4 id="å¯ç”¨ç”¨æˆ·ä¸»ç›®å½•æœåŠ¡"><a href="#å¯ç”¨ç”¨æˆ·ä¸»ç›®å½•æœåŠ¡" class="headerlink" title="å¯ç”¨ç”¨æˆ·ä¸»ç›®å½•æœåŠ¡"></a>å¯ç”¨ç”¨æˆ·ä¸»ç›®å½•æœåŠ¡</h4><p>è¿™æ—¶å¦‚æœä½ ä»¥ä»»ä½•ç”¨æˆ·èº«ä»½é€šè¿‡ç»ˆç«¯ä½¿ç”¨SSHæ–¹å¼è®¿é—®NASçš„ipåœ°å€ï¼Œç™»é™†åä¸€èˆ¬ä¼šçœ‹åˆ°ä¸€æ¡è­¦å‘Šæç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Could not chdir to home directory &#x2F;var&#x2F;services&#x2F;homes&#x2F;tiger: No such file or directory</span><br></pre></td></tr></table></figure>

<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171117jddEE7660m.png" alt="mark"></p>
<p>å‘ç”Ÿæ­¤è­¦å‘Šæ˜¯å› ä¸ºä¸»ç›®å½•ç”±DSMçš„â€œç”¨æˆ·ä¸»ç›®å½•æœåŠ¡â€æ§åˆ¶ï¼Œé»˜è®¤æƒ…å†µä¸‹è¯¥ä¸»ç›®å½•æœåŠ¡æ˜¯ç¦ç”¨çš„ã€‚è¦é˜²æ­¢é”™è¯¯ï¼Œè¯·é€šè¿‡é€‰ä¸­ â€œæ§åˆ¶é¢æ¿â€ â€“ â€œç”¨æˆ·è´¦æˆ·â€èœå• â€“ â€œé«˜çº§è®¾ç½®â€é€‰é¡¹å¡ â€“ â€œå®¶ç›®å½•â€ç»„ â€“ â€œå¯ç”¨å®¶ç›®å½•æœåŠ¡â€ å¤é€‰æ¡†æ¥å¯ç”¨ç”¨æˆ·ä¸»ç›®å½•æœåŠ¡ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171117KfKI9kDI9j.png" alt="mark"></p>
<p>è¿™æ ·å†æ¬¡å°è¯•ç™»é™†ï¼Œä¼šçœ‹åˆ°è­¦å‘Šä¿¡æ¯æ²¡æœ‰äº†ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171117aLk3B8mjAI.png" alt="mark"></p>
<p>å³ä½¿æ‚¨ä¸æ‰“ç®—ä½¿ç”¨è¯¥å®¶ç›®å½•ï¼Œä½†è¿˜æ˜¯å»ºè®®æ‚¨é€‰æ‹©å¯ç”¨ç”¨æˆ·ä¸»ç›®å½•æœåŠ¡ï¼Œä»¥é˜²å½±å“å…¶ä»–æŸäº›ç¨‹åºçš„è¿è¡Œã€‚</p>
<h4 id="ä¸´æ—¶æ€§DockeråŠ é€Ÿ"><a href="#ä¸´æ—¶æ€§DockeråŠ é€Ÿ" class="headerlink" title="ä¸´æ—¶æ€§DockeråŠ é€Ÿ"></a>ä¸´æ—¶æ€§DockeråŠ é€Ÿ</h4><p>å¦‚æœæ˜¯ä¸´æ—¶æ€§çš„æƒ³è¦ â€œåŠ é€Ÿâ€ ä¸‹è½½é•œåƒï¼Œå¯ä»¥é€‰æ‹©é€šè¿‡å‘½ä»¤çš„æ–¹å¼ï¼Œæ‰§è¡Œ <code>docker pull</code> æ—¶åŠ å…¥å›½å†…æºåœ°å€ï¼Œæ ¼å¼ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ docker pull registry.docker-cn.com&#x2F;myname&#x2F;myrepo:mytag</span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ docker pull registry.docker-cn.com&#x2F;library&#x2F;ubuntu:16.04</span><br></pre></td></tr></table></figure>

<p>è™½ç„¶èƒ½å®ç°åŠ é€Ÿæ•ˆæœï¼Œä½†æ˜¯å¯¹äºåœ¨ç¾¤æ™–NASä¸­æ“ä½œDockeræ¥è¯´ï¼Œæ¯æ¬¡ä¸‹è½½é•œåƒéƒ½è¦å…ˆå»ç™»é™†SSHï¼Œåœ¨å‘½ä»¤è¡Œä¸­ä¸‹è½½å¥½äº†é•œåƒå†å›åˆ° DSM ç•Œé¢æ¥æ“ä½œï¼Œè¿™æ ·çš„æµç¨‹æœªå…æœ‰äº›å¤ªç¹çäº†ã€‚</p>
<h4 id="é…ç½®DockeråŠ é€Ÿå™¨"><a href="#é…ç½®DockeråŠ é€Ÿå™¨" class="headerlink" title="é…ç½®DockeråŠ é€Ÿå™¨"></a>é…ç½®DockeråŠ é€Ÿå™¨</h4><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½® <code>Docker</code> å®ˆæŠ¤è¿›ç¨‹é»˜è®¤ä½¿ç”¨ <code>Docker</code> å®˜æ–¹é•œåƒåŠ é€Ÿã€‚</p>
<h5 id="æŸ¥çœ‹ç¾¤æ™–ä¸‹Dockerç‰ˆæœ¬"><a href="#æŸ¥çœ‹ç¾¤æ™–ä¸‹Dockerç‰ˆæœ¬" class="headerlink" title="æŸ¥çœ‹ç¾¤æ™–ä¸‹Dockerç‰ˆæœ¬"></a>æŸ¥çœ‹ç¾¤æ™–ä¸‹Dockerç‰ˆæœ¬</h5><p>è¿™é‡Œæˆ‘ä½¿ç”¨ <code>admin</code> è´¦å·é€šè¿‡SSHç™»é™†åˆ°ç¾¤æ™–çš„å‘½ä»¤æ¨¡å¼ä¸‹æ¥æ“ä½œã€‚</p>
<p>ä½¿ç”¨å‘½ä»¤ <code>docker info</code> æŸ¥çœ‹dockerè¯¦ç»†ä¿¡æ¯ï¼š</p>
<p>å¦‚æœæç¤º <code>Cannot connect to the Docker daemon. Is the docker daemon running on this host?</code> è¯´æ˜å½“å‰çš„è´¦å·æ²¡æœ‰ <code>root</code> æƒé™ï¼Œå¯ä»¥ä½¿ç”¨ <code>sudo</code> ææƒæ¥æ“ä½œï¼Œæˆ–è€…å¯ä»¥é€šè¿‡åˆ‡æ¢åˆ° <code>root</code> è´¦æˆ·ä¸‹æ¥æ“ä½œï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©åè€…ã€‚</p>
<p>é€šè¿‡ <code>admin</code> è´¦å·ç™»å½•åï¼Œæ‰§è¡Œ <code>sudo su -</code> åˆ‡æ¢åˆ° <code>root</code> è´¦æˆ·ä¸‹(æ³¨æ„è¿™ä¸€æ­¥è¾“å…¥çš„æ˜¯adminè´¦å·çš„å¯†ç )ï¼š</p>
<p>ç¤ºä¾‹å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">admin@HomeNAS:&#x2F;etc$ docker info</span><br><span class="line">Cannot connect to the Docker daemon. Is the docker daemon running on this host?</span><br><span class="line">admin@HomeNAS:~$ sudo su -</span><br><span class="line">Password:    # æ³¨æ„è¿™ä¸€æ­¥è¾“å…¥çš„æ˜¯adminè´¦å·çš„å¯†ç </span><br><span class="line">root@HomeNAS:~# docker info</span><br><span class="line">Containers: 0</span><br><span class="line"> Running: 0</span><br><span class="line"> Paused: 0</span><br><span class="line"> Stopped: 0</span><br><span class="line">Images: 0</span><br><span class="line">Server Version: 1.11.2</span><br><span class="line">Storage Driver: btrfs</span><br><span class="line">Logging Driver: db</span><br><span class="line">Cgroup Driver: cgroupfs</span><br><span class="line">Plugins:</span><br><span class="line"> Volume: local</span><br><span class="line"> Network: host bridge null</span><br><span class="line">Kernel Version: 4.4.15+</span><br><span class="line">Operating System: &lt;unknown&gt;</span><br><span class="line">OSType: linux</span><br><span class="line">Architecture: x86_64</span><br><span class="line">CPUs: 2</span><br><span class="line">Total Memory: 1.801 GiB</span><br><span class="line">Name: HomeNAS</span><br><span class="line">ID: A3DQ:M62X:NLZP:RYMF:NINR:5QBY:7OIJ:L425:3WDR:4V2N:FEFL:OV42</span><br><span class="line">Docker Root Dir: &#x2F;volume1&#x2F;@docker</span><br><span class="line">Debug mode (client): false</span><br><span class="line">Debug mode (server): false</span><br><span class="line">Registry: https:&#x2F;&#x2F;index.docker.io&#x2F;v1&#x2F;</span><br><span class="line">WARNING: No kernel memory limit support</span><br><span class="line">WARNING: No cpu cfs quota support</span><br><span class="line">WARNING: No cpu cfs period support</span><br><span class="line">WARNING: bridge-nf-call-iptables is disabled</span><br><span class="line">WARNING: bridge-nf-call-ip6tables is disabled</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ° <code>Server Version</code> ç›®å‰ç‰ˆæœ¬æ˜¯ <code>1.11.2</code> çš„ã€‚</p>
<p>è¦é€€å‡º <code>root</code> è´¦æˆ·æ¨¡å¼ï¼Œæ‰§è¡Œ <code>exit</code> å³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root@HomeNAS:~# exit</span><br><span class="line">logout</span><br><span class="line">admin@HomeNAS:~$</span><br></pre></td></tr></table></figure>

<h5 id="é…ç½®åŠ é€Ÿå™¨"><a href="#é…ç½®åŠ é€Ÿå™¨" class="headerlink" title="é…ç½®åŠ é€Ÿå™¨"></a>é…ç½®åŠ é€Ÿå™¨</h5><p>è¿™é‡Œæˆ‘é€‰æ‹©ä½¿ç”¨é˜¿é‡Œäº‘çš„é•œåƒåŠ é€Ÿå™¨ã€‚æ‰“å¼€é˜¿é‡Œäº‘çš„ <a href="https://dev.aliyun.com/" target="_blank" rel="noopener">å¼€å‘è€…å¹³å°</a> , é€‰æ‹© â€œç®¡ç†ä¸­å¿ƒâ€ â€“ â€œé•œåƒåŠ é€Ÿå™¨â€ ï¼Œå¯ä»¥çœ‹åˆ° â€œæ‚¨çš„ä¸“å±åŠ é€Ÿå™¨åœ°å€â€ ã€‚</p>
<p>è€Œä¸”ä¸‹é¢ä¹Ÿç»™å‡ºäº†å…·ä½“çš„æ“ä½œæ–¹æ³•ã€‚</p>
<p>é€šè¿‡ä¸Šä¸€æ­¥æˆ‘ä»¬çœ‹åˆ°ç¾¤æ™–ä¸‹çš„ Docker ç‰ˆæœ¬æ˜¯å¤§äº <code>1.10.0</code> çš„ï¼ŒæŒ‰ç…§æ–‡æ¡£æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¿®æ”¹daemoné…ç½®æ–‡ä»¶ <code>/etc/docker/daemon.json</code> æ¥ä½¿ç”¨åŠ é€Ÿå™¨ã€‚</p>
<p>ä½†æ˜¯ï¼Œè¿™é‡Œä¸€å®šè¦è¯´ä½†æ˜¯ï¼Œæ–‡æ¡£ä¸­çš„æ–¹æ³•æ˜¯å¯¹åº”äºåœ¨ <code>Ubuntu</code> ç­‰Linuxç³»ç»Ÿä¸‹é€šè¿‡ <code>Docker</code> å®˜æ–¹çš„å®‰è£…æ–¹å¼å®‰è£…çš„Dockerè€Œè¨€çš„ï¼Œå¯¹äºç¾¤æ™–ä¸‹çš„Dockeræ¥è¯´ï¼Œå¹¶ä¸æ˜¯è¿™æ ·çš„ã€‚</p>
<p>é€šè¿‡æŸ¥æ‰¾æˆ‘å‘ç°ç¾¤æ™–ä¸­Dockerçš„é…ç½®æ–‡ä»¶åœ°å€åœ¨ <code>/var/packages/Docker/etc/dockerd.json</code> ä¸‹ï¼Œ</p>
<p>ä½¿ç”¨vimç¼–è¾‘ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root@HomeNAS:~# vim &#x2F;var&#x2F;packages&#x2F;Docker&#x2F;etc&#x2F;dockerd.json</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;ipv6&quot;: true,</span><br><span class="line">    &quot;registry-mirrors&quot;: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åå°†ä»é˜¿é‡Œäº‘è·å¾—çš„åŠ é€Ÿå™¨åœ°å€å¡«å…¥ <code>registry-mirrors</code> éƒ¨åˆ†å³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;ipv6&quot;: true,</span><br><span class="line">    &quot;registry-mirrors&quot;: [&quot;https:&#x2F;&#x2F;xxxxxx.mirror.aliyuncs.com&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šç½‘å€è¦ç”¨è‹±æ–‡çš„åŒå¼•å·å¼•èµ·æ¥å†æ·»åŠ åˆ°ä¸­æ‹¬å·ä¸­ã€‚</p>
<p>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–çš„åŠ é€Ÿå™¨åœ°å€ã€‚æ¯”å¦‚ä½¿ç”¨Dockerä¸­å›½å®˜æ–¹é•œåƒçš„åŠ é€Ÿåœ°å€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;ipv6&quot;: true,</span><br><span class="line">    &quot;registry-mirrors&quot;: [&quot;https:&#x2F;&#x2F;registry.docker-cn.com&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åéœ€è¦é‡å¯ç¾¤æ™–ä¸‹çš„DockeræœåŠ¡ã€‚</p>
<h4 id="é‡å¯ç¾¤æ™–ä¸‹çš„DockeræœåŠ¡"><a href="#é‡å¯ç¾¤æ™–ä¸‹çš„DockeræœåŠ¡" class="headerlink" title="é‡å¯ç¾¤æ™–ä¸‹çš„DockeræœåŠ¡"></a>é‡å¯ç¾¤æ™–ä¸‹çš„DockeræœåŠ¡</h4><p>ä¸Šé¢ä¹Ÿè¯´åˆ°ï¼Œç¾¤æ™–çš„DSMç³»ç»Ÿå¹¶ä¸åƒå…¶ä»–çš„linuxç³»ç»Ÿå¦‚ <code>Ubuntu</code> é‚£æ ·ï¼Œç®¡ç†æœåŠ¡å¯ä»¥ä½¿ç”¨ <code>systemctl</code>(Ubuntu16.04åç‰ˆæœ¬) æˆ– <code>service</code> æ¥æ“ä½œ: </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root@HomeNAS:~# systemctl</span><br><span class="line">-ash: systemctl: command not found</span><br><span class="line">root@HomeNAS:~# service</span><br><span class="line">-ash: service: command not found</span><br><span class="line">root@HomeNAS:~#</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°è¿™ä¸¤ä¸ªå‘½ä»¤åœ¨ç¾¤æ™–ä¸‹éƒ½æ˜¯æ‰¾ä¸åˆ°çš„ã€‚</p>
<p>é‚£æ˜¯å› ä¸ºåœ¨ç¾¤æ™–ä¸‹çš„æ“ä½œå‘½ä»¤éƒ½è¦åŠ ä¸Š <code>syno</code> å‰ç¼€æ¥æ“ä½œï¼Œæ‰§è¡Œå‘½ä»¤ <code>synoservice</code> æˆ– <code>synoservice --help</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root@HomeNAS:~# synoservice</span><br><span class="line">Copyright (c) 2003-2017 Synology Inc. All rights reserved.</span><br><span class="line"></span><br><span class="line">SynoService Tool Help (Version 15217)</span><br><span class="line">Usage: synoservice</span><br><span class="line">	--help							Show this help</span><br><span class="line">	--help-dev						More specialty functions for deveplopment</span><br><span class="line">	--is-enabled		[ServiceName]			Check if the service is enabled</span><br><span class="line">	--status		[ServiceName]			Get the status of specified services</span><br><span class="line">	--enable		[ServiceName]			Set runkey to yes and start the service (alias to --start)</span><br><span class="line">	--disable		[ServiceName]			Set runkey to no and stop the service (alias to --stop)</span><br><span class="line">	--hard-enable		[ServiceName]			Set runkey to yes and start the service and its dependency (alias to --hard-start)</span><br><span class="line">	--hard-disable		[ServiceName]			Set runkey to no and stop the service and its dependency (alias to --hard-stop)</span><br><span class="line">	--restart		[ServiceName]			Restart the given service</span><br><span class="line">	--reload		[ServiceName]			Reload the given service</span><br><span class="line">	--pause			[ServiceName]			Pause the given service</span><br><span class="line">	--resume		[ServiceName]			Resume the given service</span><br><span class="line">	--pause-by-reason	[ServiceName]	[Reason]	Pause the service by given reason</span><br><span class="line">	--resume-by-reason	[ServiceName]	[Reason]	Resume the service by given reason</span><br><span class="line">	--pause-all		(-p)	[Reason]	(Event)	Pause all service by given reason with optional event(use -p to include packages)</span><br><span class="line">	--pause-all-no-action	(-p)	[Reason]	(Event)	Set all service runkey to no but leave the current service status(use -p to include packages)</span><br><span class="line">	--resume-all		(-p)	[Reason]		Resume all service by given reason(use -p to include packages)</span><br><span class="line">	--reload-by-type	[type]		(buffer)	Reload services with specified type</span><br><span class="line">	--restart-by-type	[type]		(buffer)	Restart services with specified type</span><br><span class="line">								Type may be &#123;file_protocol|application&#125;</span><br><span class="line">								Sleep $buffer seconds before exec the command (default is 0)</span><br><span class="line">root@HomeNAS:~#</span><br></pre></td></tr></table></figure>

<p>å¥½çš„ï¼Œç°åœ¨å·²ç»çŸ¥é“äº†å¦‚ä½•åœ¨ç¾¤æ™–ä¸‹ç®¡ç†æœåŠ¡ï¼Œé‚£ä¹ˆæŒ‰ç…§æ­¥éª¤ï¼Œä¸‹ä¸€æ­¥åªéœ€è¦é‡å¯DockeræœåŠ¡ä½¿å…¶åº”ç”¨ä¸ŠåŠ é€Ÿå™¨åœ°å€å³å¯ã€‚</p>
<p>æŒ‰ç…§ä¸Šé¢çš„è§„å¾‹å¯æƒ³è€ŒçŸ¥ï¼Œåœ¨ç¾¤æ™–ä¸‹Dockerçš„å®ˆæŠ¤è¿›ç¨‹æœåŠ¡åç§°è‚¯å®šä¼šå’Œåœ¨ <code>Ubuntu</code> ä¸‹çš„åç§°ä¸ä¸€æ ·ï¼Œé‚£æˆ‘ä»¬å¦‚ä½•æ¥æ‰¾åˆ°å‘¢ï¼Ÿ</p>
<p>å¯ä»¥é€šè¿‡ <code>synoservicecfg --list</code> å‘½ä»¤æ¥æŸ¥çœ‹å½“å‰ç¾¤æ™–ç³»ç»Ÿä¸‹æ‰€æœ‰è¿è¡Œçš„æœåŠ¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root@HomeNAS:~# synoservicecfg --list</span><br><span class="line">DSM</span><br><span class="line">apparmor</span><br><span class="line">atalk</span><br><span class="line">avahi</span><br><span class="line">bluetoothd</span><br><span class="line">bonjour</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">pkgctl-Docker</span><br><span class="line">pkgctl-FileStation</span><br><span class="line">pkgctl-LogCenter</span><br><span class="line">pkgctl-PDFViewer</span><br><span class="line">pkgctl-PHP7.0</span><br><span class="line">pkgctl-PhotoStation</span><br><span class="line">...</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°é€šè¿‡ç¾¤æ™–çš„ â€œå¥—ä»¶ä¸­å¿ƒâ€ æ·»åŠ çš„å¥—ä»¶ç¨‹åºçš„æœåŠ¡åç§°å‡ä»¥ <code>pkgctl-</code> ä¸ºå‰ç¼€æ¥å‘½åã€‚</p>
<p>ç„¶åé‡å¯ç¾¤æ™–çš„dockeræœåŠ¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root@HomeNAS:~# synoservice --restart pkgctl-Docker</span><br><span class="line">root@HomeNAS:~#</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ²¡æœ‰é”™è¯¯æç¤ºï¼Œè¯´æ˜dockeræœåŠ¡é‡å¯æ­£å¸¸ã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬å†æ¬¡å›åˆ° <code>DSM</code> æ“ä½œç•Œé¢ä¸­ï¼Œé‡æ–°ä¸‹è½½æˆ‘ä»¬éœ€è¦çš„Dockeré•œåƒå³å¯ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171117Bkae1Hj4E4.png" alt="mark"></p>
<p>å¯ä»¥çœ‹åˆ°ç°åœ¨åé¢çš„å®¹é‡å¤§å°ä¸€ç›´åœ¨å¢åŠ ï¼Œå¾ˆå¿«æˆ‘ä»¬å°±çœ‹åˆ° â€œæ¶ˆæ¯é€šçŸ¥â€ é‡Œæç¤ºæˆ‘ä»¬é•œåƒä¸‹è½½å®Œæˆäº†ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171117f2dHLjjm9d.png" alt="mark"></p>
<p>åé¢å°±æ˜¯é€šè¿‡é•œåƒæ¥åˆ›å»ºå®¹å™¨äº†ï¼Œåæ–‡ç»§ç»­ã€‚</p>
<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="https://diktiosolutions.eu/en/synology/synology-dsm-6-terminal-service-control-en/" target="_blank" rel="noopener">Synology DSM 6 (terminal) service control</a></li>
<li><a href="https://forum.synology.com/enu/viewtopic.php?t=119012" target="_blank" rel="noopener">restart WebServer bash command</a></li>
<li><a href="https://forum.synology.com/enu/viewtopic.php?t=126938" target="_blank" rel="noopener">Documentation for /var/packages/Docker/etc config files?</a></li>
<li><a href="https://www.docker-cn.com/registry-mirror" target="_blank" rel="noopener">Docker ä¸­å›½å®˜æ–¹é•œåƒåŠ é€Ÿ</a></li>
</ul>
]]></content>
      <categories>
        <category>ç©è½¬ç¾¤æ™–NAS</category>
      </categories>
      <tags>
        <tag>SynologyNAS</tag>
      </tags>
  </entry>
  <entry>
    <title>ç©è½¬ç¾¤æ™–NAS--å¼€ç¯‡</title>
    <url>/2017/11/17/playing-synology-nas-of-start/</url>
    <content><![CDATA[<p>åŒåä¸€çš„æ—¶å€™åœ¨å¤©çŒ«ä¸Šå…¥æ‰‹äº†ä¸€å°ç¾¤æ™–çš„ <code>DS218+</code> NASä¸»æœºï¼Œä¹Ÿç®—æ˜¯å¾ˆæ—©å°±æ‰“ç®—å…¥æ‰‹çš„ä¸€å°è®¾å¤‡ã€‚å†åŠ ä¸Šå»å¹´åŒåä¸€çš„æ—¶å€™åœ¨äº¬ä¸œè´­ç½®çš„ä¸¤ä¸ª4Tçš„ç¡¬ç›˜ï¼Œå°±å¼€å§‹äº†æˆ‘çš„ç©è½¬ç¾¤æ™–NASä¹‹æ—…ã€‚</p>
<p>å¯¹äºå¼€ç¯‡æ–‡ç« å‘¢ï¼Œä¹Ÿä¸æƒ³è¯´å¤ªå¤šå§ï¼Œä¸»è¦å°±æ˜¯ä½œä¸ºä¸€ä¸ª â€œç©è½¬ç¾¤æ™–NASâ€ ç³»åˆ—çš„ç›®å½•æ¥å±•ç¤ºï¼ŒåŒæ—¶ä¹Ÿç®—æ˜¯æ—¶åˆ»çš„æé†’è‡ªå·±è¿˜æ˜¯è¦å¤šå†™å†™ç¬”è®°çš„ã€‚</p>
<p>å¯¹äºç¾¤æ™–çš„â€œ+â€ç³»åˆ—NASï¼Œæœ€å€¼å¾—æŠŠç©çš„ä¸€ä¸ªåŠŸèƒ½å°±æ˜¯æ”¯æŒçš„Dockerå¥—ä»¶äº†ã€‚Dockerç®€ç›´å°±æ˜¯ä¸€ä¸ª â€œç¥å™¨â€ã€‚è‡³äºæœ‰å¤šä¹ˆç¥ï¼Œå°½ç®¡çœ‹æˆ‘åé¢çš„æ–‡ç« å§ï¼</p>
<h4 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h4><ul>
<li>ç©è½¬ç¾¤æ™–NASâ€“å¼€ç¯‡</li>
<li>ç©è½¬ç¾¤æ™–NASâ€“DockeråŠ é€Ÿ</li>
<li>ç©è½¬ç¾¤æ™–NASâ€“ä¸‹è½½ç¥å™¨aria2</li>
</ul>
]]></content>
      <categories>
        <category>ç©è½¬ç¾¤æ™–NAS</category>
      </categories>
      <tags>
        <tag>SynologyNAS</tag>
      </tags>
  </entry>
  <entry>
    <title>é€šè¿‡è·¯ç”±å™¨æ‰¾å›å¿˜è®°çš„å®½å¸¦å¯†ç </title>
    <url>/2017/11/13/retrieve-forgotten-broadband-passwords-through-routers/</url>
    <content><![CDATA[<p>å¯èƒ½æ˜¯å› ä¸ºèµ¶ä¸Šäº†åŒåä¸€çš„ç¼˜æ•…,æœ€è¿‘æˆ‘çš„å®½å¸¦ç½‘ç»œæ€»æ˜¯æ—¶å¥½æ—¶åçš„,ç»™å®½å¸¦å®¢æœæ‰“äº†ç”µè¯,è¯´ä¼šæ‰¾å¸ˆå‚…è¿‡æ¥ç»™æˆ‘çœ‹çœ‹.çªç„¶é—´æƒ³èµ·æ¥å¥½åƒæˆ‘çš„å®½å¸¦è‡ªä»å®‰è£…ä¸Šä»¥å,æˆ‘å°±æ²¡å†æ”¹åŠ¨è¿‡,æ€ä¹ˆä¹Ÿæƒ³ä¸èµ·æ¥å®½å¸¦çš„å¯†ç äº†.è´¦å·çš„è¯å¯ä»¥åœ¨è·¯ç”±å™¨ä¸­ç›´æ¥çœ‹åˆ°,è€Œå¯†ç å´æ˜¯æ˜¾ç¤ºæˆæ˜Ÿå·,è¿˜ä¸èƒ½å¤åˆ¶å‡ºæ¥.</p>
<p>æ‰€ä»¥ç‰¹æ„ä¸Šç½‘æ‰¾äº†æ‰¾æ–¹æ³•,è®°å½•äºæ­¤.</p>
<h4 id="å¤‡ä»½è·¯ç”±å™¨é…ç½®"><a href="#å¤‡ä»½è·¯ç”±å™¨é…ç½®" class="headerlink" title="å¤‡ä»½è·¯ç”±å™¨é…ç½®"></a>å¤‡ä»½è·¯ç”±å™¨é…ç½®</h4><p>æˆ‘çš„è·¯ç”±å™¨æ˜¯ <code>TP-Link WR847N</code> å‹å·çš„ï¼Œå…¶ä»–è·¯ç”±å™¨çš„æ–¹æ³•ç±»ä¼¼ã€‚</p>
<p>ç¬¬ä¸€æ­¥ï¼šåœ¨æµè§ˆå™¨è¾“å…¥è·¯ç”±å™¨ç½‘å…³åœ°å€ï¼ˆä¸€èˆ¬æ˜¯192.168.1.1ï¼‰è¿›å…¥è·¯ç”±å™¨ç™»å½•ç•Œé¢</p>
<p>ç¬¬äºŒæ­¥ï¼šè¾“å…¥è·¯ç”±å™¨è´¦å·å’Œå¯†ç ç™»å½•ï¼ˆå¦‚æœæœªæ›´æ”¹è¿‡ä¸€èˆ¬éƒ½æ˜¯adminï¼‰åˆ°è·¯ç”±å™¨ç®¡ç†ç•Œé¢</p>
<p>ç¬¬ä¸‰æ­¥ï¼šåœ¨å·¦èœå•æ ç‚¹å‡» â€œç³»ç»Ÿå·¥å…·â€ â€“ â€œå¤‡ä»½å’Œè½½å…¥é…ç½®â€ </p>
<p>ç¬¬å››æ­¥ï¼šåœ¨å³ä¾§å¯¹è¯æ¡†ä¸­ç‚¹å‡» â€œå¤‡ä»½é…ç½®æ–‡ä»¶â€ æŒ‰é’®</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171112bEf4IBJgeA.jpg" alt="mark"></p>
<p>ç¬¬äº”æ­¥ï¼šä¿å­˜é…ç½®æ–‡ä»¶ï¼Œåç§°ä¸º <code>config.bin</code> ã€‚</p>
<h4 id="é€šè¿‡é…ç½®æ–‡ä»¶æ‰¾å›"><a href="#é€šè¿‡é…ç½®æ–‡ä»¶æ‰¾å›" class="headerlink" title="é€šè¿‡é…ç½®æ–‡ä»¶æ‰¾å›"></a>é€šè¿‡é…ç½®æ–‡ä»¶æ‰¾å›</h4><p>ç¬¬å…­æ­¥ï¼šä»ç½‘ç«™ <a href="http://www.nirsoft.net/utils/router_password_recovery.html#DownloadLinks" target="_blank" rel="noopener">RouterPassView</a> ä¸‹è½½è½¯ä»¶RouterPassViewã€‚</p>
<p>RouterPassView æ˜¯ NirSoft å‡ºå“çš„ä¸€æ¬¾è·¯ç”±å¯†ç æ¢å¤è½¯ä»¶ï¼Œå¯ä»¥æŸ¥çœ‹ç»å¤§å¤šæ•°å®¶ç”¨è·¯ç”±çš„é…ç½®æ–‡ä»¶ä¸­ä¿å­˜çš„å¯†ç ã€‚</p>
<p>ç¬¬ä¸ƒæ­¥ï¼šç”¨ RouterPassViewæ‰“å¼€å¤‡ä»½çš„é…ç½®æ–‡ä»¶ <code>config.bin</code>, å°±èƒ½çœ‹åˆ°å½“å‰è·¯ç”±å™¨ä¸Šå·²é…ç½®çš„æ‰€æœ‰è´¦å·å’Œå¯†ç äº†ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/1711126jeAcDFc4K.jpg" alt="mark"></p>
<h4 id="é™„ä»¶"><a href="#é™„ä»¶" class="headerlink" title="é™„ä»¶"></a>é™„ä»¶</h4><p>ç™¾åº¦ç½‘ç›˜é“¾æ¥: <a href="https://pan.baidu.com/s/1qYkKaVq" target="_blank" rel="noopener">Download</a> å¯†ç : hwpx</p>
]]></content>
      <tags>
        <tag>Skill</tag>
      </tags>
  </entry>
  <entry>
    <title>çº¢ç±³Note4Xé«˜é€šç‰ˆå‡çº§MIUI9</title>
    <url>/2017/11/12/RedmiNote4X-HP-version-upgrade-miui9/</url>
    <content><![CDATA[<p>åŒåä¸€å½“å¤©åœ¨äº¬ä¸œä¸Šä¹°äº†ä¸€ä¸ªçº¢ç±³Note4Xé«˜é€šç‰ˆçš„æ‰‹æœº,æ”¶åˆ°è´§åå‘ç°ç³»ç»Ÿä»ç„¶æ˜¯MIUI8çš„ç¨³å®šç‰ˆ.ä¹‹å‰çœ‹è¿‡MIUI9çš„ä»‹ç»è§†é¢‘,å®˜æ–¹ç»™å‡ºçš„æ ‡è¯­æ˜¯â€å¿«å¦‚é—ªç”µâ€,æ‰€ä»¥å°±æƒ³ä½“éªŒä¸€æŠŠ.æˆ‘çš„æ–¹æ³•æ˜¯é‡‡ç”¨ <code>å¡åˆ·</code> çš„æ–¹å¼ï¼Œä¸éœ€è¦BLè§£é”ã€‚</p>
<h4 id="å½“å‰ç³»ç»Ÿç‰ˆæœ¬"><a href="#å½“å‰ç³»ç»Ÿç‰ˆæœ¬" class="headerlink" title="å½“å‰ç³»ç»Ÿç‰ˆæœ¬"></a>å½“å‰ç³»ç»Ÿç‰ˆæœ¬</h4><p>åœ¨æ‰‹æœºçš„â€è®¾ç½®â€â€“â€æˆ‘çš„è®¾å¤‡â€ ä¸‹æŸ¥çœ‹å½“å‰çš„MIUIç‰ˆæœ¬:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MIUI 8.5 ç¨³å®šç‰ˆ   8.5.6.0(MCFCNED)</span><br></pre></td></tr></table></figure>

<h4 id="å…ˆä»ç¨³å®šç‰ˆå‡çº§å¼€å‘ç‰ˆ"><a href="#å…ˆä»ç¨³å®šç‰ˆå‡çº§å¼€å‘ç‰ˆ" class="headerlink" title="å…ˆä»ç¨³å®šç‰ˆå‡çº§å¼€å‘ç‰ˆ"></a>å…ˆä»ç¨³å®šç‰ˆå‡çº§å¼€å‘ç‰ˆ</h4><h5 id="ä¸èƒ½ç›´æ¥åˆ·æœ€æ–°ç‰ˆ"><a href="#ä¸èƒ½ç›´æ¥åˆ·æœ€æ–°ç‰ˆ" class="headerlink" title="ä¸èƒ½ç›´æ¥åˆ·æœ€æ–°ç‰ˆ"></a>ä¸èƒ½ç›´æ¥åˆ·æœ€æ–°ç‰ˆ</h5><p>å› ä¸ºå°ç±³Note4xç¨³å®šç‰ˆ8.5çš„ç³»ç»Ÿæ˜¯åŸºäºAndroid6.0å¼€å‘çš„ï¼Œè€Œæœ€æ–°çš„MIUI9æ˜¯åŸºäºAndroid7.0å¼€å‘çš„ï¼ŒAndroidç‰ˆæœ¬ä¸ä¸€è‡´ä¹Ÿå°±å¯¼è‡´æ— æ³•ç›´æ¥å¡åˆ·åˆ°æœ€æ–°ç‰ˆï¼Œä¼šæŠ¥é”™ã€‚</p>
<p>å¯è¡Œçš„æ–¹æ³•æ˜¯å¯ä»¥å…ˆå¡åˆ·MIUI8 <code>7.4.6</code> çš„å¼€å‘ç‰ˆï¼ˆåŸºäºAndroid6.0ï¼‰ï¼Œç„¶åå†åˆ·MIUI9æœ€æ–°çš„å¼€å‘ç‰ˆã€‚</p>
<h5 id="å¡åˆ·Android6-0å¼€å‘ç‰ˆ"><a href="#å¡åˆ·Android6-0å¼€å‘ç‰ˆ" class="headerlink" title="å¡åˆ·Android6.0å¼€å‘ç‰ˆ"></a>å¡åˆ·Android6.0å¼€å‘ç‰ˆ</h5><p>ä¸‹è½½ <code>7.4.6</code> å¼€å‘ç‰ˆå¡åˆ·åŒ…,ç„¶åæ‹·è´åˆ°æ‰‹æœºçš„å†…ç½®å­˜å‚¨ä¸­ã€‚</p>
<p>åœ¨æ‰‹æœºç«¯é€‰æ‹© <code>è®¾ç½®</code> â€“ <code>æˆ‘çš„è®¾å¤‡</code> â€“ <code>MIUIç‰ˆæœ¬</code> â€“ è¿›å…¥ â€œç³»ç»Ÿå‡çº§â€ ç•Œé¢</p>
<p>ç‚¹å‡» <code>å³ä¸Šè§’ä¸‰ç‚¹</code> ï¼Œé€‰æ‹© <code>æ‰‹åŠ¨é€‰æ‹©å®‰è£…åŒ…</code></p>
<p>é€‰æ‹©åˆšåˆšä¸‹è½½çš„å¡åˆ·åŒ…ï¼Œç¡®å®šã€‚ç­‰å¾…å…¶è§£å¯†å¹¶è‡ªåŠ¨å‡çº§ã€‚</p>
<p>å‡çº§å®Œæˆåï¼Œåœ¨ <code>è®¾ç½®</code> â€“ <code>æˆ‘çš„è®¾å¤‡</code> â€“ <code>MIUIç‰ˆæœ¬</code> â€“ è¿›å…¥ â€œç³»ç»Ÿå‡çº§â€ ç•Œé¢</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171113IKDBk7kbEa.png" alt="mark"></p>
<p>è¿™æ—¶å¦‚æœç‚¹å‡» â€œæ£€æŸ¥æ›´æ–°â€ çš„è¯ï¼Œæ”¶åˆ°çš„åº”è¯¥æ˜¯MIUI8çš„æœ€æ–°å¼€å‘ç‰ˆçš„æ›´æ–°åŒ…,æ‰€ä»¥è¿™é‡Œä¸ç‚¹å‡»â€œç«‹å³æ›´æ–°â€ã€‚(MIUIè®ºå›ä¸­å®˜æ–¹ç»™å‡ºçš„è¯´æ³•æ˜¯ç°åœ¨MIUI8å¼€å‘ç‰ˆå¯ä»¥ç›´æ¥è‡ªåŠ¨æ£€æŸ¥å‡çº§åˆ°MIUI9çš„æœ€æ–°å¼€å‘ç‰ˆäº†,ä¸çŸ¥é“æˆ‘è¿™é‡Œä¸ºä»€ä¹ˆä¸è¡Œ?å¦‚æœä½ çš„å¯ä»¥,é‚£å°±ç›´æ¥å‡çº§å³å¯,å¦åˆ™ç»§ç»­ä¸‹é¢çš„æ“ä½œ)</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171113lL6DH0cfdC.png" alt="mark"></p>
<h5 id="å¡åˆ·MIUI9æœ€æ–°å¼€å‘ç‰ˆ"><a href="#å¡åˆ·MIUI9æœ€æ–°å¼€å‘ç‰ˆ" class="headerlink" title="å¡åˆ·MIUI9æœ€æ–°å¼€å‘ç‰ˆ"></a>å¡åˆ·MIUI9æœ€æ–°å¼€å‘ç‰ˆ</h5><p>ä»ç½‘å€ <a href="http://www.miui.com/download-326.html" target="_blank" rel="noopener">http://www.miui.com/download-326.html</a> ä¸‹è½½ <code>çº¢ç±³Note4X(é«˜é€šå¹³å°)</code> çš„æœ€æ–°å¼€å‘ç‰ˆçš„å®Œæ•´å¡åˆ·åŒ…ï¼Œç„¶åæ‹·è´åˆ°æ‰‹æœºä¸­ï¼Œä¾ç…§ä¸Šä¸€æ­¥çš„æ“ä½œæ–¹æ³•é€šè¿‡ <code>æ‰‹åŠ¨æ›´æ–°</code> çš„æ–¹å¼æ¥å‡çº§ã€‚</p>
<p>æˆ‘è¿™é‡Œä¸‹è½½åˆ°çš„æ˜¯å½“å‰çš„æœ€æ–°ç‰ˆæœ¬ <code>MIUI9å¼€å‘ç‰ˆ 7.11.9</code> çš„ç‰ˆæœ¬ : <code>miui_HMNote4X_7.11.9_71db0b04ec_7.0.zip</code> ã€‚</p>
<p>ç­‰å¾…å…¶è§£å¯†å®‰è£…åŒ…å¹¶è‡ªåŠ¨æ›´æ–°å®Œæˆå³å¯ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/171113Ck2ElHG14d.png" alt="mark"></p>
<hr>
<p>ä¸Šé¢çš„æ•´ä¸ªå‡çº§è¿‡ç¨‹è¦ä¿è¯æ‰‹æœºç”µé‡å……è¶³,æŒ‰ç…§æ­¥éª¤æ“ä½œå³å¯,éå¸¸é€‚åˆå°ç™½å‡çº§.</p>
<hr>
<h4 id="é™„ä»¶"><a href="#é™„ä»¶" class="headerlink" title="é™„ä»¶"></a>é™„ä»¶</h4><p>ç™¾åº¦ç½‘ç›˜ <a href="https://pan.baidu.com/s/1c2GqHVy" target="_blank" rel="noopener">Download</a>  å¯†ç : d2v7</p>
<ol>
<li>MIUI8(Android6.0)_7.4.6.zip</li>
<li>MIUI9(Android7.0)_7.11.9.zip</li>
</ol>
]]></content>
      <tags>
        <tag>XiaoMI</tag>
        <tag>Skill</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoåšå®¢æ·»åŠ æœç´¢åŠŸèƒ½</title>
    <url>/2017/10/27/add-search-function-to-hexo-blog/</url>
    <content><![CDATA[<p>æ¸æ¸çš„éšç€hexoåšå®¢ä¸­æ–‡ç« è¶Šæ¥è¶Šå¤šäº†ä¹‹å,å¹³æ—¶æƒ³è¦æŸ¥æ‰¾ä¸€ç¯‡æ–‡ç« æ—¶,ä¸€èˆ¬éƒ½æ˜¯è®°å¾—éƒ¨åˆ†æ ‡é¢˜å†…å®¹æˆ–è€…æŸäº›å…³é”®è¯,è€Œåœ¨â€å½’æ¡£â€ä¸‹é€šè¿‡æ ‡é¢˜ä¸€é¡µä¸€é¡µçš„æ‰¾åˆéå¸¸çš„éº»çƒ¦.æ‰€ä»¥è€ƒè™‘ä¸ºåšå®¢å¢åŠ æœç´¢åŠŸèƒ½.</p>
<p>ä»Nextä¸»é¢˜ç½‘ç«™ä¸Šæˆ‘ä»¬å¯ä»¥æœç´¢å¤šæ¬¾æœç´¢æ’ä»¶ <a href="http://theme-next.iissnan.com/third-party-services.html#search-system" target="_blank" rel="noopener">ç¬¬ä¸‰æ–¹æœåŠ¡é›†æˆ â€“ Nextæ–‡æ¡£</a>,ä¸ªäººæ„Ÿè§‰ â€œLocal Searchâ€ å’Œ â€œAlgoliaâ€ è¿™ä¸¤æ¬¾æœç´¢æ’ä»¶æ¯”è¾ƒå’Œæˆ‘çš„å¿ƒæ„.</p>
<p>ä¸‹é¢ç®€è¦çš„ä»‹ç»ä¸ºhexoåšå®¢æ·»åŠ æœç´¢æ’ä»¶çš„è¿‡ç¨‹.</p>
<h4 id="å‡çº§Nextä¸»é¢˜ç‰ˆæœ¬"><a href="#å‡çº§Nextä¸»é¢˜ç‰ˆæœ¬" class="headerlink" title="å‡çº§Nextä¸»é¢˜ç‰ˆæœ¬"></a>å‡çº§Nextä¸»é¢˜ç‰ˆæœ¬</h4><p>æˆ‘çš„hexoä¸»é¢˜å®‰è£…çš„æ˜¯ <code>Next</code> ä¸»é¢˜,å½“å‰ç‰ˆæœ¬ä¸º <code>v5.0.1</code> .æœ€æ–°ç‰ˆæœ¬ä¸º <code>5.1.3</code>.</p>
<p>å› ä¸ºæˆ‘çš„hexoä¸»é¢˜ç‰ˆæœ¬å·®è·å¤ªå¤§,è€Œä¸”æˆ‘åœ¨ <code>next</code> ä¸»é¢˜ç›®å½•ä¸‹çš„ <code>.git</code> ç›®å½•æˆ‘å·²ç»åˆ é™¤äº†,æ‰€ä»¥æˆ‘é‡‡ç”¨å®Œå…¨æ›´æ–°çš„æ–¹å¼.</p>
<p>å…ˆå¤‡ä»½æœ¬åœ°çš„ <code>hexo</code> ä¸»é¢˜ç›®å½• <code>your-hexo-site/themes/next</code> ,å…¶å®åªéœ€è¦å¤‡ä»½ <code>_config.yml</code> ä¸€ä¸ªæ–‡ä»¶å³å¯,ä¸ºäº†ä¿é™©è¿™é‡Œæˆ‘å°†æ•´ä¸ªç›®å½•éƒ½å¤‡ä»½ä¸€ä¸‹.</p>
<p>å¦å¤–è¿˜è¦æ³¨æ„å¦‚æœä½ ä¹‹å‰æ·»åŠ äº†è‡ªå®šä¹‰å¤´åƒåŠæ‰“èµåŠŸèƒ½ç­‰æ‰€éœ€å›¾ç‰‡,æ·»åŠ çš„å›¾ç‰‡æ˜¯åœ¨ <code>/themes/next/source/images/</code> ç›®å½•ä¸‹çš„,ä¹Ÿè¦è®°å¾—åšå¥½å¤‡ä»½.</p>
<hr>
<p>å¦‚æœä½ æœ¬åœ°çš„ä¸»é¢˜ <code>next</code> ç›®å½•ä¸‹çš„ <code>.git</code> ç›®å½•æ²¡æœ‰åˆ é™¤,ä½ å¯ä»¥ç›´æ¥é€šè¿‡ <code>git pull</code> å‘½ä»¤æ¥æ›´æ–°:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd themes&#x2F;next</span><br><span class="line">$ git pull</span><br></pre></td></tr></table></figure>

<h5 id="å®Œå…¨æ›´æ–°"><a href="#å®Œå…¨æ›´æ–°" class="headerlink" title="å®Œå…¨æ›´æ–°"></a>å®Œå…¨æ›´æ–°</h5><p>å…ˆåˆ é™¤æœ¬åœ°ç°åœ¨çš„ <code>next</code> ä¸»é¢˜ç›®å½•:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd &lt;your-hexo-site&gt;</span><br><span class="line">$ rm -rf .&#x2F;themes&#x2F;next</span><br></pre></td></tr></table></figure>

<p>ä»githubä¸‹è½½ hexo ä¸»é¢˜æ–‡ä»¶æœ€æ–°ç‰ˆæœ¬:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd &lt;your-hexo-site&gt;</span><br><span class="line">$ git clone https:&#x2F;&#x2F;github.com&#x2F;iissnan&#x2F;hexo-theme-next themes&#x2F;next</span><br></pre></td></tr></table></figure>

<p>æ¯”ç…§æ–°çš„ä¸»é¢˜é…ç½®æ–‡ä»¶ <code>_config.yml</code> ,å°†æ—§çš„ä¸»é¢˜æ–‡ä»¶ä¸­çš„å†…å®¹æ·»åŠ åˆ°æ–°æ–‡ä»¶ä¸­.</p>
<p>æˆ‘è¿™é‡Œæ›´æ”¹çš„åœ°æ–¹æœ‰:</p>
<ul>
<li><code>menu</code></li>
<li><code>scheme</code></li>
<li><code>social</code></li>
<li><code>sidebar</code></li>
<li><code>highlight_theme</code></li>
<li><code>tencent_analytics</code></li>
<li><code>æ‰“èµåŠŸèƒ½ reward_comment wechatpay alipay</code></li>
<li><code>ç«™ç‚¹å»ºç«‹æ—¶é—´ since</code></li>
</ul>
<p>æ›´æ”¹å,æ¸…é™¤ç¼“å­˜,ç„¶åå†æŸ¥çœ‹:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo clean</span><br><span class="line"></span><br><span class="line">$ hexo s -g</span><br><span class="line">INFO  Start processing</span><br><span class="line">INFO  Hexo is running at http:&#x2F;&#x2F;localhost:4000&#x2F;. Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€æµè§ˆå™¨,æŸ¥çœ‹é¡µé¢ä¸­æ˜¯å¦æœ‰é”™è¯¯å¹¶ä¿®æ”¹.</p>
<hr>
<h4 id="LocalSearchæœç´¢"><a href="#LocalSearchæœç´¢" class="headerlink" title="LocalSearchæœç´¢"></a>LocalSearchæœç´¢</h4><p>å®‰è£… <code>hexo-generator-searchdb</code>ï¼Œåœ¨ç«™ç‚¹çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure>

<p>ç¼–è¾‘ <code>ç«™ç‚¹é…ç½®æ–‡ä»¶</code>ï¼Œæ–°å¢ä»¥ä¸‹å†…å®¹åˆ°ä»»æ„ä½ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br><span class="line">  format: html</span><br><span class="line">  limit: 10000</span><br></pre></td></tr></table></figure>

<p>ç¼–è¾‘ <code>ä¸»é¢˜é…ç½®æ–‡ä»¶</code>ï¼Œå¯ç”¨æœ¬åœ°æœç´¢åŠŸèƒ½ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Local search</span><br><span class="line">local_search:</span><br><span class="line">  enable: true</span><br></pre></td></tr></table></figure>

<p>ç„¶å é‡æ–°ç”Ÿæˆ æŸ¥çœ‹:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo clean</span><br><span class="line"></span><br><span class="line">$ hexo s -g</span><br><span class="line">INFO  Start processing</span><br><span class="line">INFO  Hexo is running at http:&#x2F;&#x2F;localhost:4000&#x2F;. Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·,æœç´¢åŠŸèƒ½å°±æ·»åŠ ä¸Šäº†.</p>
<hr>
<h4 id="Algoliaæœç´¢"><a href="#Algoliaæœç´¢" class="headerlink" title="Algoliaæœç´¢"></a>Algoliaæœç´¢</h4><p>è¯¦æƒ…å¯å‚è€ƒå®˜æ–¹æ•™ç¨‹,è¿™é‡Œä¸å†è¯¦è¿°. </p>
<ul>
<li><a href="http://theme-next.iissnan.com/third-party-services.html#algolia-search" target="_blank" rel="noopener">Algolia â€“ Nextæ–‡æ¡£</a></li>
</ul>
<hr>
<h4 id="ç›¸å…³é“¾æ¥"><a href="#ç›¸å…³é“¾æ¥" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h4><ul>
<li><a href="http://theme-next.iissnan.com/third-party-services.html#search-system" target="_blank" rel="noopener">æœç´¢æœåŠ¡ â€“ Nextæ–‡æ¡£</a></li>
<li><a href="https://github.com/PaicHyperionDev/hexo-generator-search" target="_blank" rel="noopener">hexo-generator-search</a></li>
<li><a href="https://github.com/LouisBarranqueiro/hexo-algoliasearch" target="_blank" rel="noopener">hexo-algoliasearch</a></li>
<li><a href="https://jobbym.github.io/2017/01/16/Hexo%E9%9B%86%E6%88%90Algolia%E6%90%9C%E7%B4%A2%E6%8F%92%E4%BB%B6/" target="_blank" rel="noopener">Hexoé›†æˆAlgoliaæœç´¢æ’ä»¶</a></li>
</ul>
]]></content>
      <categories>
        <category>Hexoåšå®¢æ­å»º</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Search</tag>
      </tags>
  </entry>
  <entry>
    <title>Macç³»ç»Ÿä¸‹é…ç½®Hexoåšå®¢è¿è¡Œç¯å¢ƒé‡åˆ°çš„é—®é¢˜</title>
    <url>/2017/10/27/problems-for-configuring-hexo-blog-in-mac/</url>
    <content><![CDATA[<p>ä»Šå¤©åœ¨Macä¸‹æ›´æ–°hexoåšå®¢æ—¶,é‡åˆ°äº†ä¸€äº›å®‰è£… Node.js å’Œå®‰è£… hexo ç›¸å…³çš„å°é—®é¢˜,ç‰¹æ­¤è®°å½•ä¸‹æ¥.</p>
<h4 id="Macä¸‹é…ç½®Node-jsç¯å¢ƒ"><a href="#Macä¸‹é…ç½®Node-jsç¯å¢ƒ" class="headerlink" title="Macä¸‹é…ç½®Node.jsç¯å¢ƒ"></a>Macä¸‹é…ç½®Node.jsç¯å¢ƒ</h4><p>å®‰è£… node.js æœ‰å¤šç§æ–¹æ³•ï¼šä½¿ç”¨ <code>homebrew</code> å®‰è£…æˆ–è€…ç›´æ¥ä¸‹è½½ <code>å®‰è£…åŒ…</code>ã€‚ </p>
<h5 id="å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…"><a href="#å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…" class="headerlink" title="å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…"></a>å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…</h5><p>ä»node.jså®˜ç½‘ <a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node.js</a> ä¸‹è½½å¯¹åº”ç³»ç»Ÿçš„å®‰è£…åŒ…,æ‰“å¼€ä¼šæç¤ºå®‰è£…ä½ç½®:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">This package will install:</span><br><span class="line">  â€¢ Node.js v8.8.1 to &#x2F;usr&#x2F;local&#x2F;bin&#x2F;node</span><br><span class="line">  â€¢ npm v5.4.2 to &#x2F;usr&#x2F;local&#x2F;bin&#x2F;npm</span><br></pre></td></tr></table></figure>

<p>æŒ‰ç…§æ­¥éª¤å®‰è£…å³å¯.</p>
<h5 id="homebrewå®‰è£…"><a href="#homebrewå®‰è£…" class="headerlink" title="homebrewå®‰è£…"></a>homebrewå®‰è£…</h5><p>é€šè¿‡ <code>homebrew</code> å®‰è£…,ç›´æ¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ brew install node</span><br></pre></td></tr></table></figure>

<h5 id="æ£€æµ‹å®‰è£…æ˜¯å¦æˆåŠŸ"><a href="#æ£€æµ‹å®‰è£…æ˜¯å¦æˆåŠŸ" class="headerlink" title="æ£€æµ‹å®‰è£…æ˜¯å¦æˆåŠŸ"></a>æ£€æµ‹å®‰è£…æ˜¯å¦æˆåŠŸ</h5><p>ç»ˆç«¯è¾“å…¥ <code>-v</code> , æˆåŠŸåˆ™æ˜¾ç¤ºç‰ˆæœ¬å·:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ node -v</span><br><span class="line">v8.8.1</span><br><span class="line">$ npm -v</span><br><span class="line">5.4.2</span><br><span class="line">$</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Macç³»ç»Ÿä¸‹Finderæ˜¾ç¤ºéšè—æ–‡ä»¶"><a href="#Macç³»ç»Ÿä¸‹Finderæ˜¾ç¤ºéšè—æ–‡ä»¶" class="headerlink" title="Macç³»ç»Ÿä¸‹Finderæ˜¾ç¤ºéšè—æ–‡ä»¶"></a>Macç³»ç»Ÿä¸‹Finderæ˜¾ç¤ºéšè—æ–‡ä»¶</h4><p>æ¶‰åŠåˆ°ä¸€äº›ä»¥ <code>.</code> å¼€å¤´çš„æ–‡ä»¶æˆ–ç›®å½•(å¦‚.gitç›®å½•)æˆ–è€…éšè—æ–‡ä»¶,é»˜è®¤åœ¨Finderä¸‹æ˜¯çœ‹ä¸åˆ°çš„.</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡å‘½ä»¤ <code>Command+Shift+.</code> æ¥åœ¨Finderä¸­å¿«é€Ÿçš„åˆ‡æ¢æ˜¾ç¤ºå‡ºéšè—çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹,å†æŒ‰ä¸€æ¬¡,æ¢å¤éšè—.</p>
<hr>
<h4 id="æ›´æ¢Node-jsé•œåƒæº"><a href="#æ›´æ¢Node-jsé•œåƒæº" class="headerlink" title="æ›´æ¢Node.jsé•œåƒæº"></a>æ›´æ¢Node.jsé•œåƒæº</h4><p>ç”±äºnpmçš„å®˜æ–¹é•œåƒæºåœ¨å›½å¤–,è€Œç”±äºå›½å†…â€ä¼—æ‰€å‘¨çŸ¥çš„â€çš„ç½‘ç»œåŸå› ,è®¿é—®é»˜è®¤çš„å®˜æ–¹é•œåƒæºå¸¸å¸¸ä¼šå‡ºé—®é¢˜.æˆ‘ä»¬å¯ä»¥æ›´æ”¹ä¸ºå›½å†…çš„é•œåƒæºæ¥åŠ é€Ÿè½¯ä»¶çš„å®‰è£….</p>
<h5 id="æ·˜å®npmé•œåƒ"><a href="#æ·˜å®npmé•œåƒ" class="headerlink" title="æ·˜å®npmé•œåƒ"></a>æ·˜å®npmé•œåƒ</h5><p>ç›®å‰å›½å†…æ¨èçš„æ˜¯æ·˜å®çš„npmé•œåƒ:</p>
<ul>
<li>æœç´¢åœ°å€ï¼š<a href="ttp://npm.taobao.org/">http://npm.taobao.org/</a></li>
<li>registryåœ°å€ï¼š<a href="http://registry.npm.taobao.org/" target="_blank" rel="noopener">http://registry.npm.taobao.org/</a></li>
</ul>
<h5 id="å¦‚ä½•ä½¿ç”¨"><a href="#å¦‚ä½•ä½¿ç”¨" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h5><h6 id="ä¸´æ—¶ä½¿ç”¨"><a href="#ä¸´æ—¶ä½¿ç”¨" class="headerlink" title="ä¸´æ—¶ä½¿ç”¨"></a>ä¸´æ—¶ä½¿ç”¨</h6><p>ä»¥ä¸‹è½½ <code>express</code> è½¯ä»¶ä¸ºä¾‹:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm --registry https:&#x2F;&#x2F;registry.npm.taobao.org install express</span><br></pre></td></tr></table></figure>

<h6 id="æŒä¹…ä½¿ç”¨"><a href="#æŒä¹…ä½¿ç”¨" class="headerlink" title="æŒä¹…ä½¿ç”¨"></a>æŒä¹…ä½¿ç”¨</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm config set registry https:&#x2F;&#x2F;registry.npm.taobao.org</span><br></pre></td></tr></table></figure>

<p>é…ç½®åå¯é€šè¿‡ä¸‹é¢æ–¹å¼æ¥æŸ¥çœ‹æ˜¯å¦è®¾ç½®æˆåŠŸ:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm config get registry</span><br></pre></td></tr></table></figure>

<p>æˆ‘çš„æ“ä½œè®°å½•:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ npm config get registry</span><br><span class="line">https:&#x2F;&#x2F;registry.npmjs.org&#x2F;</span><br><span class="line">$ npm config set registry https:&#x2F;&#x2F;registry.npm.taobao.org</span><br><span class="line">$ npm config get registry</span><br><span class="line">https:&#x2F;&#x2F;registry.npm.taobao.org&#x2F;</span><br><span class="line">$</span><br></pre></td></tr></table></figure>

<p><strong>æé†’</strong> : æˆ‘åœ¨å®é™…æ“ä½œæ—¶å‘ç°æ·˜å®çš„npmé•œåƒæºæœ‰æ—¶å€™ä¹Ÿä¼šè¯·æ±‚å¤±è´¥,ç„¶ååˆåˆ‡æ¢å›äº†å®˜æ–¹æº(<code>npm config set registry https://registry.npmjs.org/</code>)å‘ç°èƒ½å¤Ÿæ“ä½œæˆåŠŸäº†.æ‰€ä»¥æ˜¯å¦æ›´æ¢é•œåƒæºè¿˜è¦æ ¹æ®å®é™…æƒ…å†µæ¥å®š.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ npm config get registry</span><br><span class="line">https:&#x2F;&#x2F;registry.npm.taobao.org&#x2F;</span><br><span class="line">$ npm install</span><br><span class="line">npm ERR! code ENOTFOUND</span><br><span class="line">npm ERR! errno ENOTFOUND</span><br><span class="line">npm ERR! network request to https:&#x2F;&#x2F;registry.npm.taobao.org&#x2F;hexo-generator-category failed, reason: getaddrinfo ENOTFOUND registry.npm.taobao.org registry.npm.taobao.org:443</span><br><span class="line">npm ERR! network This is a problem related to network connectivity.</span><br><span class="line">npm ERR! network In most cases you are behind a proxy or have bad network settings.</span><br><span class="line">npm ERR! network</span><br><span class="line">npm ERR! network If you are behind a proxy, please make sure that the</span><br><span class="line">npm ERR! network &#39;proxy&#39; config is set properly.  See: &#39;npm help config&#39;</span><br><span class="line"></span><br><span class="line">npm ERR! A complete log of this run can be found in:</span><br><span class="line">npm ERR!     &#x2F;Users&#x2F;xxx&#x2F;.npm&#x2F;_logs&#x2F;2017-10-26T14_59_23_770Z-debug.log</span><br><span class="line">$ </span><br><span class="line">$ </span><br><span class="line">$ npm config set registry https:&#x2F;&#x2F;registry.npmjs.org&#x2F;</span><br><span class="line">$ npm install</span><br><span class="line">npm WARN deprecated swig@1.4.2: This package is no longer maintained</span><br><span class="line"></span><br><span class="line">&gt; dtrace-provider@0.8.5 install &#x2F;Users&#x2F;xxx&#x2F;Project17&#x2F;Leafney.github.io&#x2F;node_modules&#x2F;dtrace-provider</span><br><span class="line">&gt; node scripts&#x2F;install.js</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; fsevents@1.1.2 install &#x2F;Users&#x2F;xxx&#x2F;Project17&#x2F;Leafney.github.io&#x2F;node_modules&#x2F;fsevents</span><br><span class="line">&gt; node install</span><br><span class="line"></span><br><span class="line">[fsevents] Success: &quot;&#x2F;Users&#x2F;xxx&#x2F;Project17&#x2F;Leafney.github.io&#x2F;node_modules&#x2F;fsevents&#x2F;lib&#x2F;binding&#x2F;Release&#x2F;node-v57-darwin-x64&#x2F;fse.node&quot; already installed</span><br><span class="line">Pass --update-binary to reinstall or --build-from-source to recompile</span><br><span class="line"></span><br><span class="line">&gt; hexo-util@0.6.1 postinstall &#x2F;Users&#x2F;xxx&#x2F;Project17&#x2F;Leafney.github.io&#x2F;node_modules&#x2F;hexo-util</span><br><span class="line">&gt; npm run build:highlight</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; hexo-util@0.6.1 build:highlight &#x2F;Users&#x2F;xxx&#x2F;Project17&#x2F;Leafney.github.io&#x2F;node_modules&#x2F;hexo-util</span><br><span class="line">&gt; node scripts&#x2F;build_highlight_alias.js &gt; highlight_alias.json</span><br><span class="line"></span><br><span class="line">npm notice created a lockfile as package-lock.json. You should commit this file.</span><br><span class="line">added 430 packages in 119.035s</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Mac-install-hexo-use-sudo-but-sitll-permission-denied"><a href="#Mac-install-hexo-use-sudo-but-sitll-permission-denied" class="headerlink" title="Mac install hexo use sudo but sitll permission denied"></a>Mac install hexo use sudo but sitll permission denied</h4><h5 id="å®‰è£…æŠ¥é”™"><a href="#å®‰è£…æŠ¥é”™" class="headerlink" title="å®‰è£…æŠ¥é”™"></a>å®‰è£…æŠ¥é”™</h5><p>å‚ç…§hexoå®˜ç½‘ <a href="https://hexo.io/zh-cn/index.html" target="_blank" rel="noopener">Hexo</a> å®‰è£…hexoæ—¶,ä½¿ç”¨å‘½ä»¤ <code>npm install hexo-cli -g</code> å´æŠ¥æ²¡æœ‰æƒé™:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ npm install hexo-cli -g</span><br><span class="line">npm WARN checkPermissions Missing write access to &#x2F;usr&#x2F;local&#x2F;lib&#x2F;node_modules</span><br><span class="line">npm ERR! path &#x2F;usr&#x2F;local&#x2F;lib&#x2F;node_modules</span><br><span class="line">npm ERR! code EACCES</span><br><span class="line">npm ERR! errno -13</span><br><span class="line">npm ERR! syscall access</span><br><span class="line">npm ERR! Error: EACCES: permission denied, access &#39;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;node_modules&#39;</span><br><span class="line">npm ERR!  &#123; Error: EACCES: permission denied, access &#39;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;node_modules&#39;</span><br><span class="line">npm ERR!   stack: &#39;Error: EACCES: permission denied, access \&#39;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;node_modules\&#39;&#39;,</span><br><span class="line">npm ERR!   errno: -13,</span><br><span class="line">npm ERR!   code: &#39;EACCES&#39;,</span><br><span class="line">npm ERR!   syscall: &#39;access&#39;,</span><br><span class="line">npm ERR!   path: &#39;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;node_modules&#39; &#125;</span><br><span class="line">npm ERR!</span><br><span class="line">npm ERR! Please try running this command again as root&#x2F;Administrator.</span><br><span class="line"></span><br><span class="line">npm ERR! A complete log of this run can be found in:</span><br><span class="line">npm ERR!     &#x2F;Users&#x2F;xxx&#x2F;.npm&#x2F;_logs&#x2F;2017-10-27T01_21_01_871Z-debug.log</span><br></pre></td></tr></table></figure>

<p>ç„¶åæˆ‘æ¢ç”¨ç®¡ç†å‘˜æƒé™,åŠ ä¸Š <code>sudo</code> ,æ‰§è¡Œå¦‚ä¸‹:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo npm install hexo-cli -g</span><br><span class="line">Password:</span><br><span class="line">&#x2F;usr&#x2F;local&#x2F;bin&#x2F;hexo -&gt; &#x2F;usr&#x2F;local&#x2F;lib&#x2F;node_modules&#x2F;hexo-cli&#x2F;bin&#x2F;hexo</span><br><span class="line"></span><br><span class="line">&gt; dtrace-provider@0.8.5 install &#x2F;usr&#x2F;local&#x2F;lib&#x2F;node_modules&#x2F;hexo-cli&#x2F;node_modules&#x2F;dtrace-provider</span><br><span class="line">&gt; node scripts&#x2F;install.js</span><br><span class="line"></span><br><span class="line">fs.js:768</span><br><span class="line">  return binding.rename(pathModule._makeLong(oldPath),</span><br><span class="line">                 ^</span><br><span class="line"></span><br><span class="line">Error: EACCES: permission denied, rename &#39;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;node_modules&#x2F;hexo-cli&#x2F;node_modules&#x2F;dtrace-provider&#x2F;compile.py&#39; -&gt; &#39;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;node_modules&#x2F;hexo-cli&#x2F;node_modules&#x2F;dtrace-provider&#x2F;binding.gyp&#39;</span><br><span class="line">    at Object.fs.renameSync (fs.js:768:18)</span><br><span class="line">    at Object.&lt;anonymous&gt; (&#x2F;usr&#x2F;local&#x2F;lib&#x2F;node_modules&#x2F;hexo-cli&#x2F;node_modules&#x2F;dtrace-provider&#x2F;scripts&#x2F;install.js:14:4)</span><br><span class="line">    at Module._compile (module.js:612:30)</span><br><span class="line">    at Object.Module._extensions..js (module.js:623:10)</span><br><span class="line">    at Module.load (module.js:531:32)</span><br><span class="line">    at tryModuleLoad (module.js:494:12)</span><br><span class="line">    at Function.Module._load (module.js:486:3)</span><br><span class="line">    at Function.Module.runMain (module.js:653:10)</span><br><span class="line">    at startup (bootstrap_node.js:187:16)</span><br><span class="line">    at bootstrap_node.js:608:3</span><br><span class="line"></span><br><span class="line">&gt; fsevents@1.1.2 install &#x2F;usr&#x2F;local&#x2F;lib&#x2F;node_modules&#x2F;hexo-cli&#x2F;node_modules&#x2F;fsevents</span><br><span class="line">&gt; node install</span><br><span class="line"></span><br><span class="line">[fsevents] Success: &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;node_modules&#x2F;hexo-cli&#x2F;node_modules&#x2F;fsevents&#x2F;lib&#x2F;binding&#x2F;Release&#x2F;node-v57-darwin-x64&#x2F;fse.node&quot; already installed</span><br><span class="line">Pass --update-binary to reinstall or --build-from-source to recompile</span><br><span class="line"></span><br><span class="line">&gt; hexo-util@0.6.1 postinstall &#x2F;usr&#x2F;local&#x2F;lib&#x2F;node_modules&#x2F;hexo-cli&#x2F;node_modules&#x2F;hexo-util</span><br><span class="line">&gt; npm run build:highlight</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; hexo-util@0.6.1 build:highlight &#x2F;usr&#x2F;local&#x2F;lib&#x2F;node_modules&#x2F;hexo-cli&#x2F;node_modules&#x2F;hexo-util</span><br><span class="line">&gt; node scripts&#x2F;build_highlight_alias.js &gt; highlight_alias.json</span><br><span class="line"></span><br><span class="line">sh: highlight_alias.json: Permission denied</span><br><span class="line">npm ERR! code ELIFECYCLE</span><br><span class="line">npm ERR! errno 1</span><br><span class="line">npm ERR! hexo-util@0.6.1 build:highlight: &#96;node scripts&#x2F;build_highlight_alias.js &gt; highlight_alias.json&#96;</span><br><span class="line">npm ERR! Exit status 1</span><br><span class="line">npm ERR!</span><br><span class="line">npm ERR! Failed at the hexo-util@0.6.1 build:highlight script.</span><br><span class="line">npm ERR! This is probably not a problem with npm. There is likely additional logging output above.</span><br><span class="line"></span><br><span class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">â”‚                npm update check failed                 â”‚</span><br><span class="line">â”‚          Try running with sudo or get access           â”‚</span><br><span class="line">â”‚          to the local update config store via          â”‚</span><br><span class="line">â”‚ sudo chown -R $USER:$(id -gn $USER) &#x2F;Users&#x2F;xxx&#x2F;.config â”‚</span><br><span class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: dtrace-provider@0.8.5 (node_modules&#x2F;hexo-cli&#x2F;node_modules&#x2F;dtrace-provider):</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: dtrace-provider@0.8.5 install: &#96;node scripts&#x2F;install.js&#96;</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1</span><br><span class="line"></span><br><span class="line">npm ERR! code ELIFECYCLE</span><br><span class="line">npm ERR! errno 1</span><br><span class="line">npm ERR! hexo-util@0.6.1 postinstall: &#96;npm run build:highlight&#96;</span><br><span class="line">npm ERR! Exit status 1</span><br><span class="line">npm ERR!</span><br><span class="line">npm ERR! Failed at the hexo-util@0.6.1 postinstall script.</span><br><span class="line">npm ERR! This is probably not a problem with npm. There is likely additional logging output above.</span><br><span class="line"></span><br><span class="line">npm ERR! A complete log of this run can be found in:</span><br><span class="line">npm ERR!     &#x2F;Users&#x2F;xxx&#x2F;.npm&#x2F;_logs&#x2F;2017-10-27T02_56_29_887Z-debug.log</span><br></pre></td></tr></table></figure>

<h5 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h5><p>ç¬¬ä¸€æ­¥,èµ‹äºˆç›®å½•æƒé™:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo chown -R &#96;whoami&#96; &#x2F;usr&#x2F;local&#x2F;lib&#x2F;node_modules</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒæ­¥,å®‰è£…hexo:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ npm install hexo-cli -g</span><br></pre></td></tr></table></figure>

<p><strong>éœ€è¦æ³¨æ„çš„ç‚¹</strong>: åœ¨å®‰è£…hexoæ—¶,ä¸è¦ç”¨ <code>sudo</code> å‘½ä»¤.</p>
<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="http://riny.net/2014/cnpm/" target="_blank" rel="noopener">å›½å†…ä¼˜ç§€npmé•œåƒæ¨èåŠä½¿ç”¨</a></li>
<li><a href="https://github.com/hexojs/hexo/issues/2785" target="_blank" rel="noopener">Mac install hexo use sudo but sitll permission denied</a></li>
<li><a href="https://github.com/npm/npm/issues/8165" target="_blank" rel="noopener"><code>npm update -g</code> fails and causes <code>/usr/local/lib/node_modules</code> to be deleted</a></li>
</ul>
]]></content>
      <categories>
        <category>Hexoåšå®¢æ­å»º</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Nodejs</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker-Ubuntu-Gogsæ•°æ®åº“åŠåˆå§‹åŒ–é…ç½®</title>
    <url>/2017/09/07/docker-ubuntu-gogs-initialization/</url>
    <content><![CDATA[<p>Ubuntu-Gogs é¦–æ¬¡è¿è¡Œå®‰è£…ç¨‹åºé…ç½®åŠå¤šæ•°æ®åº“é…ç½®æ–¹æ³•æ•´ç†ã€‚</p>
<h4 id="app-iniä¸­æ•°æ®åº“é…ç½®è¯´æ˜"><a href="#app-iniä¸­æ•°æ®åº“é…ç½®è¯´æ˜" class="headerlink" title="app.iniä¸­æ•°æ®åº“é…ç½®è¯´æ˜"></a>app.iniä¸­æ•°æ®åº“é…ç½®è¯´æ˜</h4><table>
<thead>
<tr>
<th>åç§°</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>DB_TYPE</td>
<td>æ•°æ®åº“ç±»å‹ï¼Œå¯ä»¥æ˜¯ mysqlã€postgresã€mssql æˆ– sqlite3</td>
</tr>
<tr>
<td>HOST</td>
<td>æ•°æ®åº“ä¸»æœºåœ°å€ä¸ç«¯å£</td>
</tr>
<tr>
<td>NAME</td>
<td>æ•°æ®åº“åç§°</td>
</tr>
<tr>
<td>USER</td>
<td>æ•°æ®åº“ç”¨æˆ·å</td>
</tr>
<tr>
<td>PASSWD</td>
<td>æ•°æ®åº“ç”¨æˆ·å¯†ç </td>
</tr>
<tr>
<td>SSL_MODE</td>
<td>ä»…é™ PostgreSQL ä½¿ç”¨</td>
</tr>
<tr>
<td>PATH</td>
<td>ä»…é™ SQLite3 ä½¿ç”¨ï¼Œæ•°æ®åº“æ–‡ä»¶è·¯å¾„</td>
</tr>
</tbody></table>
<hr>
<h4 id="åˆæ¬¡å¯åŠ¨æ—¶æ•°æ®åº“è®¾ç½®"><a href="#åˆæ¬¡å¯åŠ¨æ—¶æ•°æ®åº“è®¾ç½®" class="headerlink" title="åˆæ¬¡å¯åŠ¨æ—¶æ•°æ®åº“è®¾ç½®"></a>åˆæ¬¡å¯åŠ¨æ—¶æ•°æ®åº“è®¾ç½®</h4><p>Gogs è¦æ±‚å®‰è£… MySQLã€PostgreSQLã€SQLite3ã€MSSQL æˆ– TiDBã€‚</p>
<h5 id="SQLite3"><a href="#SQLite3" class="headerlink" title="SQLite3"></a>SQLite3</h5><h6 id="æ•°æ®åº“è®¾ç½®"><a href="#æ•°æ®åº“è®¾ç½®" class="headerlink" title="æ•°æ®åº“è®¾ç½®"></a>æ•°æ®åº“è®¾ç½®</h6><ul>
<li>æ•°æ®åº“ç±»å‹ ï¼š<code>SQLite3</code></li>
<li>æ•°æ®åº“æ–‡ä»¶è·¯å¾„ ï¼šå¯ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼š<code>/app/gogs/data/gogs.db</code> æˆ–è€… ç›¸å¯¹è·¯å¾„ï¼š<code>data/gogs.db</code> ï¼ˆæ¨èä½¿ç”¨ç»å¯¹è·¯å¾„ï¼‰</li>
</ul>
<h6 id="app-iniä¸­é…ç½®ç»“æœ"><a href="#app-iniä¸­é…ç½®ç»“æœ" class="headerlink" title="app.iniä¸­é…ç½®ç»“æœ"></a>app.iniä¸­é…ç½®ç»“æœ</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[database]</span><br><span class="line">DB_TYPE  &#x3D; sqlite3</span><br><span class="line">HOST     &#x3D; 127.0.0.1:3306</span><br><span class="line">NAME     &#x3D; gogs</span><br><span class="line">USER     &#x3D; root</span><br><span class="line">PASSWD   &#x3D; </span><br><span class="line">SSL_MODE &#x3D; disable</span><br><span class="line">PATH     &#x3D; &#x2F;app&#x2F;gogs&#x2F;data&#x2F;gogs.db</span><br></pre></td></tr></table></figure>

<h6 id="ç¤ºä¾‹å®¹å™¨"><a href="#ç¤ºä¾‹å®¹å™¨" class="headerlink" title="ç¤ºä¾‹å®¹å™¨"></a>ç¤ºä¾‹å®¹å™¨</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ docker run --name gogs1 -d -p 10080:3000 -p 10022:22 -v &#x2F;home&#x2F;tiger&#x2F;gogsfile:&#x2F;app leafney&#x2F;ubuntu-gogs</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h5><h6 id="æ•°æ®åº“è®¾ç½®-1"><a href="#æ•°æ®åº“è®¾ç½®-1" class="headerlink" title="æ•°æ®åº“è®¾ç½®"></a>æ•°æ®åº“è®¾ç½®</h6><ul>
<li>æ•°æ®åº“ç±»å‹ ï¼š<code>MySQL</code></li>
<li>æ•°æ®åº“ä¸»æœº ï¼š<code>127.0.0.1:3306</code></li>
<li>æ•°æ®åº“ç”¨æˆ· ï¼š<code>root</code></li>
<li>æ•°æ®åº“ç”¨æˆ·å¯†ç  : <code>*******</code></li>
<li>æ•°æ®åº“åç§° ï¼š<code>gogs</code></li>
</ul>
<h6 id="app-iniä¸­é…ç½®ç»“æœ-1"><a href="#app-iniä¸­é…ç½®ç»“æœ-1" class="headerlink" title="app.iniä¸­é…ç½®ç»“æœ"></a>app.iniä¸­é…ç½®ç»“æœ</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[database]</span><br><span class="line">DB_TYPE  &#x3D; mysql</span><br><span class="line">HOST     &#x3D; 127.0.0.1:3306</span><br><span class="line">NAME     &#x3D; gogs</span><br><span class="line">USER     &#x3D; root</span><br><span class="line">PASSWD   &#x3D; &#96;123456&#96;</span><br><span class="line">SSL_MODE &#x3D; disable</span><br><span class="line">PATH     &#x3D; data&#x2F;gogs.db</span><br></pre></td></tr></table></figure>

<h6 id="ç¤ºä¾‹å®¹å™¨-1"><a href="#ç¤ºä¾‹å®¹å™¨-1" class="headerlink" title="ç¤ºä¾‹å®¹å™¨"></a>ç¤ºä¾‹å®¹å™¨</h6><p><strong>ç¬¬ä¸€ç§æ–¹æ³•ï¼šåˆ›å»ºmysqlå®¹å™¨å’Œgogså®¹å™¨ï¼Œè®©gogså®¹å™¨é€šè¿‡ <code>--link</code> ç›´æ¥é“¾æ¥mysqlå®¹å™¨ã€‚</strong></p>
<p>åˆ›å»ºmysqlå®¹å™¨ï¼Œå¹¶è®¾ç½®rootè´¦æˆ·å¯†ç ï¼š<code>123456</code>ï¼›æ–°ç”¨æˆ·ï¼š<code>gogs123</code>ï¼›å¯†ç ï¼š<code>gogs123</code>ï¼›æ–°ç”¨æˆ·æ•°æ®åº“ï¼š<code>gogs</code> ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ docker run --name mysqlgogs -v &#x2F;home&#x2F;tiger&#x2F;mysqldb&#x2F;:&#x2F;var&#x2F;lib&#x2F;mysql -v &#x2F;home&#x2F;tiger&#x2F;mysqldbase&#x2F;:&#x2F;home&#x2F;mysqldbase&#x2F; -d -e MYSQL_ROOT_PWD&#x3D;&quot;123456&quot; -e MYSQL_USER&#x3D;gogs123 -e MYSQL_USER_PWD&#x3D;&quot;gogs123&quot; -e MYSQL_USER_DB&#x3D;&quot;gogs&quot; leafney&#x2F;docker-alpine-mysql</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºgogså®¹å™¨å¹¶é“¾æ¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ docker run --name gogs2 -d -p 10080:3000 -p 10022:22 --link mysqlgogs:mydb -v &#x2F;home&#x2F;tiger&#x2F;gogsfile:&#x2F;app leafney&#x2F;ubuntu-gogs</span><br></pre></td></tr></table></figure>

<p>ç›¸å¯¹åº”çš„é…ç½®ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ•°æ®åº“ç±»å‹ ï¼š<code>MySQL</code></li>
<li>æ•°æ®åº“ä¸»æœº ï¼š<code>mydb:3306</code></li>
<li>æ•°æ®åº“ç”¨æˆ· ï¼š<code>gogs123</code></li>
<li>æ•°æ®åº“ç”¨æˆ·å¯†ç  : <code>*******</code></li>
<li>æ•°æ®åº“åç§° ï¼š<code>gogs</code></li>
</ul>
<p><strong>ç¬¬äºŒç§æ–¹æ³•ï¼šè®©gogså®¹å™¨é“¾æ¥å·²æœ‰mysqlåœ°å€ã€‚</strong></p>
<p>åœ¨åˆ›å»ºgogså®¹å™¨ä¹‹å‰ï¼Œå…ˆåˆ›å»ºmysqlæ•°æ®åº“ï¼š</p>
<p>åœ¨ä¸‹è½½çš„ <code>gogs</code> å‹ç¼©åŒ…ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªåä¸º <code>mysql.sql</code> çš„æ–‡ä»¶ï¼Œæ˜¯ç”¨æ¥åˆå§‹åŒ–mysqlæ•°æ®åº“çš„ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DROP DATABASE IF EXISTS gogs;</span><br><span class="line">CREATE DATABASE IF NOT EXISTS gogs CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>root</code> è´¦æˆ·ç™»å½•ï¼Œç„¶åæ‰§è¡Œ <code>mysql -u root -p &lt; mysql.sql</code> ï¼ˆéœ€è¦è¾“å…¥å¯†ç ï¼‰å³å¯åˆå§‹åŒ–å¥½æ•°æ®åº“ã€‚</p>
<p>è¿˜è¦æ³¨æ„ï¼šä½¿ç”¨ <code>MySQL</code> æ•°æ®åº“æ—¶ï¼Œå¿…é¡»è¦ä¿è¯mysqlçš„å­˜å‚¨å¼•æ“ä¸º <code>INNODB</code> ä¸” ç¼–ç æ ¼å¼ä¸º <code>utf8_general_ci</code> ã€‚å¯ä»¥ä½¿ç”¨å¦‚ä¸‹è¯­å¥æ¥è®¾ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">use gogs;</span><br><span class="line">set global storage_engine&#x3D;INNODB;</span><br></pre></td></tr></table></figure>

<hr>
<p>æˆ–è€…ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤åˆ›å»ºæ•°æ®åº“ <code>gogs</code> åŠæ–°ç”¨æˆ· <code>gogsUser</code>, å¹¶å°†æ•°æ®åº“ <code>gogs</code> çš„æ‰€æœ‰æƒé™éƒ½èµ‹äºˆè¯¥ç”¨æˆ·,å¯†ç  <code>123456</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql -u root -p</span><br><span class="line">mysql&gt; SET GLOBAL storage_engine &#x3D; &#39;InnoDB&#39;;</span><br><span class="line">mysql&gt; CREATE DATABASE gogs CHARACTER SET utf8 COLLATE utf8_bin;</span><br><span class="line">mysql&gt; GRANT ALL PRIVILEGES ON gogs.* TO &#39;gogsUser&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;123456&#39;;</span><br><span class="line">mysql&gt; FLUSH PRIVILEGES;</span><br><span class="line">mysql&gt; QUITï¼›</span><br></pre></td></tr></table></figure>


<ul>
<li><a href="https://blog.mynook.info/post/host-your-own-git-server-using-gogs/" target="_blank" rel="noopener">ä½¿ç”¨ Gogs æ­å»ºè‡ªå·±çš„ Git æœåŠ¡å™¨ - My Nook</a></li>
</ul>
<hr>
<h5 id="PostgreSQL"><a href="#PostgreSQL" class="headerlink" title="PostgreSQL"></a>PostgreSQL</h5><h6 id="æ•°æ®åº“è®¾ç½®-2"><a href="#æ•°æ®åº“è®¾ç½®-2" class="headerlink" title="æ•°æ®åº“è®¾ç½®"></a>æ•°æ®åº“è®¾ç½®</h6><ul>
<li>æ•°æ®åº“ç±»å‹ ï¼š<code>PostgreSQL</code></li>
<li>æ•°æ®åº“ä¸»æœº ï¼š<code>127.0.0.1:5432</code></li>
<li>æ•°æ®åº“ç”¨æˆ· ï¼š<code>gogs</code></li>
<li>æ•°æ®åº“ç”¨æˆ·å¯†ç  : <code>*******</code></li>
<li>æ•°æ®åº“åç§° ï¼š<code>gogs</code></li>
<li>SSL æ¨¡å¼ : <code>Disable</code>  (å¯é€‰ï¼šDisable  Require  Verify Full)</li>
</ul>
<h6 id="app-iniä¸­é…ç½®ç»“æœ-2"><a href="#app-iniä¸­é…ç½®ç»“æœ-2" class="headerlink" title="app.iniä¸­é…ç½®ç»“æœ"></a>app.iniä¸­é…ç½®ç»“æœ</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[database]</span><br><span class="line">DB_TYPE  &#x3D; postgres</span><br><span class="line">HOST     &#x3D; 127.0.0.1:5432</span><br><span class="line">NAME     &#x3D; gogs</span><br><span class="line">USER     &#x3D; gogs</span><br><span class="line">PASSWD   &#x3D; gogs</span><br><span class="line">SSL_MODE &#x3D; disable</span><br><span class="line">PATH     &#x3D; data&#x2F;gogs.db</span><br></pre></td></tr></table></figure>

<h6 id="ç¤ºä¾‹å®¹å™¨-2"><a href="#ç¤ºä¾‹å®¹å™¨-2" class="headerlink" title="ç¤ºä¾‹å®¹å™¨"></a>ç¤ºä¾‹å®¹å™¨</h6><p><strong>ç¬¬ä¸€ç§æ–¹æ³•ï¼šåˆ›å»ºpostgersqlå®¹å™¨å’Œgogså®¹å™¨</strong></p>
<p>åˆ›å»ºpostgresqlå®¹å™¨ï¼Œè¿™é‡Œä½¿ç”¨å®¹å™¨ <code>docker pull ananthhh/postgress</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">docker run --name postgress -p 5432:5432 -e POSTGRES_PASSWORD&#x3D;gogs -e POSTGRES_USER&#x3D;gogs -d ananthhh&#x2F;postgress</span><br></pre></td></tr></table></figure>

<p>è¯¥postgresqlå®¹å™¨åˆ›å»ºçš„ç”¨æˆ·ä¸ºï¼š<code>gogs</code>ï¼›ç”¨æˆ·å¯†ç ï¼š<code>gogs</code>; æ•°æ®åº“ï¼š<code>gogs</code> ã€‚</p>
<p>åˆ›å»ºgogså®¹å™¨å¹¶é€šè¿‡ <code>--link</code> å‚æ•°é“¾æ¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ docker run --name gogs3 -d -p 10080:3000 -p 10022:22 -v &#x2F;home&#x2F;tiger&#x2F;gogsfile:&#x2F;app --link postgress:psqldb leafney&#x2F;ubuntu-gogs</span><br></pre></td></tr></table></figure>

<p>ç›¸å¯¹åº”çš„é…ç½®ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ•°æ®åº“ç±»å‹ ï¼š<code>PostgreSQL</code></li>
<li>æ•°æ®åº“ä¸»æœº ï¼š<code>psqldb:5432</code></li>
<li>æ•°æ®åº“ç”¨æˆ· ï¼š<code>gogs</code></li>
<li>æ•°æ®åº“ç”¨æˆ·å¯†ç  : <code>*******</code></li>
<li>æ•°æ®åº“åç§° ï¼š<code>gogs</code></li>
<li>SSL æ¨¡å¼ : <code>Disable</code> </li>
</ul>
<p><strong>ç¬¬äºŒç§æ–¹æ³•ï¼šè®©gogså®¹å™¨é“¾æ¥å·²æœ‰PostgreSQLåœ°å€ã€‚</strong></p>
<p>ä½¿ç”¨æŒ‡å®šæ•°æ®åº“è´¦æˆ·ç™»å½•PostgreSQLï¼Œå…ˆåˆ›å»º <code>gogs</code> æ•°æ®åº“ï¼Œé“¾æ¥æˆåŠŸåä¼šè‡ªåŠ¨åˆ›å»ºæ‰€éœ€è¡¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; CREATE DATABASE gogs</span><br></pre></td></tr></table></figure>


<hr>
<h5 id="MSSql"><a href="#MSSql" class="headerlink" title="MSSql"></a>MSSql</h5><h6 id="æ•°æ®åº“è®¾ç½®-3"><a href="#æ•°æ®åº“è®¾ç½®-3" class="headerlink" title="æ•°æ®åº“è®¾ç½®"></a>æ•°æ®åº“è®¾ç½®</h6><ul>
<li>æ•°æ®åº“ç±»å‹ ï¼š<code>MSSQL</code></li>
<li>æ•°æ®åº“ä¸»æœº ï¼š<code>127.0.0.1, 1433</code></li>
<li>æ•°æ®åº“ç”¨æˆ· ï¼š<code>sa</code></li>
<li>æ•°æ®åº“ç”¨æˆ·å¯†ç  : <code>*******</code></li>
<li>æ•°æ®åº“åç§° ï¼š<code>gogs</code></li>
</ul>
<h6 id="app-iniä¸­é…ç½®ç»“æœ-3"><a href="#app-iniä¸­é…ç½®ç»“æœ-3" class="headerlink" title="app.iniä¸­é…ç½®ç»“æœ"></a>app.iniä¸­é…ç½®ç»“æœ</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[database]</span><br><span class="line">DB_TYPE  &#x3D; mssql</span><br><span class="line">HOST     &#x3D; 127.0.0.1, 1433</span><br><span class="line">NAME     &#x3D; gogs</span><br><span class="line">USER     &#x3D; sa</span><br><span class="line">PASSWD   &#x3D; 123456</span><br><span class="line">SSL_MODE &#x3D; disable</span><br><span class="line">PATH     &#x3D; data&#x2F;gogs.db</span><br></pre></td></tr></table></figure>

<h6 id="ç¤ºä¾‹å®¹å™¨-3"><a href="#ç¤ºä¾‹å®¹å™¨-3" class="headerlink" title="ç¤ºä¾‹å®¹å™¨"></a>ç¤ºä¾‹å®¹å™¨</h6><p>åˆ›å»ºgogså®¹å™¨é“¾æ¥å·²æœ‰MSSqlåœ°å€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">docker run --name gogs4 -d -p 10080:3000 -p 10022:22 -v &#x2F;home&#x2F;tiger&#x2F;gogsfile:&#x2F;app leafney&#x2F;ubuntu-gogs</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æŒ‡å®šæ•°æ®åº“è´¦æˆ·ç™»å½•MSSqlï¼Œå…ˆåˆ›å»ºgogsæ•°æ®åº“ï¼Œé“¾æ¥æˆåŠŸåä¼šè‡ªåŠ¨åˆ›å»ºæ‰€éœ€è¡¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; CREATE DATABASE gogs</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="åº”ç”¨åŸºæœ¬è®¾ç½®"><a href="#åº”ç”¨åŸºæœ¬è®¾ç½®" class="headerlink" title="åº”ç”¨åŸºæœ¬è®¾ç½®"></a>åº”ç”¨åŸºæœ¬è®¾ç½®</h4><p>ä»¥å¦‚ä¸‹å‘½ä»¤åˆ›å»ºå®¹å™¨ä¸ºä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ docker run --name mygogs -d -p 10080:3000 -p 10022:22 -v &#x2F;home&#x2F;tiger&#x2F;gogsfile:&#x2F;app leafney&#x2F;ubuntu-gogs</span><br></pre></td></tr></table></figure>

<ul>
<li><code>ä»“åº“æ ¹ç›®å½•</code>ï¼š æ›´æ”¹ä¸ºç»å¯¹è·¯å¾„  <code>/app/gogs-repositories</code></li>
<li><code>è¿è¡Œç³»ç»Ÿç”¨æˆ·</code>ï¼š  ä½¿ç”¨é»˜è®¤ç”¨æˆ·  <code>git</code></li>
<li><code>åŸŸå</code>ï¼š å¡«å†™Dockerå®¿ä¸»æœºçš„ä¸»æœºåæˆ–ç‰©ç†åœ°å€æˆ–è¦ä½¿ç”¨çš„åŸŸå(ä¸å¸¦http/https) å¦‚  <code>192.168.137.140</code></li>
<li><code>SSH ç«¯å£å·</code>ï¼š å¦‚æœä½ æ˜ å°„Dockerå¤–éƒ¨ç«¯å£å¦‚ <code>10022:22</code> é‚£ä¹ˆè¿™é‡Œå°±å¡«å†™ <code>10022</code> ï¼›ä¸è¦å‹¾é€‰â€œä½¿ç”¨å†…ç½®SSHæœåŠ¡å™¨â€ï¼ˆDonâ€™t tick Use Builtin SSH Serverï¼‰</li>
<li><code>HTTP ç«¯å£å·</code>ï¼š å¦‚æœæ˜ å°„Dockerå¤–éƒ¨ç«¯å£å¦‚ <code>10080:3000</code> è¿™é‡Œè¦ä½¿ç”¨ï¼š<code>3000</code></li>
<li><code>åº”ç”¨ URL</code>ï¼š ä½¿ç”¨åŸŸåå’Œå…¬å¼€çš„HTTPç«¯å£å€¼çš„ç»„åˆ(å¸¦http/https) å¦‚ <code>http://192.168.137.140:10080</code></li>
<li><code>æ—¥å¿—è·¯å¾„</code>ï¼š å¯ä½¿ç”¨è·¯å¾„ <code>/app/gogs/log</code>(æ¨è) æˆ–é»˜è®¤å€¼ <code>/home/git/gogs/log</code></li>
</ul>
<hr>
<h4 id="å¯é€‰è®¾ç½®"><a href="#å¯é€‰è®¾ç½®" class="headerlink" title="å¯é€‰è®¾ç½®"></a>å¯é€‰è®¾ç½®</h4><p>app.iniä¸­é‚®ä»¶(mailer)é…ç½®è¯´æ˜</p>
<table>
<thead>
<tr>
<th>åç§°</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>ENABLED</td>
<td>å¯ç”¨è¯¥é€‰é¡¹ä»¥æ¿€æ´»é‚®ä»¶æœåŠ¡</td>
</tr>
<tr>
<td>DISABLE_HELO</td>
<td>ç¦ç”¨ HELO æ“ä½œ</td>
</tr>
<tr>
<td>HELO_HOSTNAME</td>
<td>HELO æ“ä½œçš„è‡ªå®šä¹‰ä¸»æœºå</td>
</tr>
<tr>
<td>HOST</td>
<td>SMTP ä¸»æœºåœ°å€ä¸ç«¯å£</td>
</tr>
<tr>
<td>FROM</td>
<td>é‚®ç®±çš„æ¥è‡ªåœ°å€ï¼Œéµå¾ª RFC 5322è§„èŒƒï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªå•çº¯çš„é‚®ç®±åœ°å€æˆ–è€… â€œåå­—â€ <a href="mailto:&#x65;&#109;&#97;&#x69;&#x6c;&#x40;&#101;&#120;&#97;&#x6d;&#x70;&#108;&#x65;&#x2e;&#99;&#111;&#109;">&#x65;&#109;&#97;&#x69;&#x6c;&#x40;&#101;&#120;&#97;&#x6d;&#x70;&#108;&#x65;&#x2e;&#99;&#111;&#109;</a> çš„å½¢å¼</td>
</tr>
<tr>
<td>USER</td>
<td>é‚®ç®±ç”¨æˆ·å</td>
</tr>
<tr>
<td>PASSWD</td>
<td>é‚®ç®±å¯†ç </td>
</tr>
<tr>
<td>SKIP_VERIFY</td>
<td>ä¸éªŒè¯è‡ªç­¾å‘è¯ä¹¦çš„æœ‰æ•ˆæ€§</td>
</tr>
<tr>
<td>USE_PLAIN_TEXT</td>
<td>ä½¿ç”¨ <code>text/plain</code> ä½œä¸ºé‚®ä»¶å†…å®¹æ ¼å¼</td>
</tr>
</tbody></table>
<h5 id="é‚®ä»¶æœåŠ¡è®¾ç½®"><a href="#é‚®ä»¶æœåŠ¡è®¾ç½®" class="headerlink" title="é‚®ä»¶æœåŠ¡è®¾ç½®"></a>é‚®ä»¶æœåŠ¡è®¾ç½®</h5><ul>
<li><code>SMTP ä¸»æœº</code>ï¼š ä»¥163ä¸ºä¾‹ å¦‚ <code>smtp.163.com:25</code></li>
<li><code>é‚®ä»¶æ¥è‡ª</code>ï¼š æ ¼å¼ä¸º <code>&quot;Name&quot; &lt;email@example.com&gt;</code> å¦‚ <code>GitAdmin &lt;xxxxx@163.com&gt;</code></li>
<li><code>å‘é€é‚®ç®±</code>ï¼š é‚®ç®±åœ°å€ å¦‚ <code>xxxxx@163.com</code></li>
<li><code>å‘é€é‚®ç®±å¯†ç </code> : é‚®ç®±å¯†ç </li>
</ul>
<p>app.iniä¸­é…ç½®ç»“æœ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[mailer]</span><br><span class="line">ENABLED &#x3D; true</span><br><span class="line">HOST &#x3D; smtp.163.com:25</span><br><span class="line">FROM &#x3D; GitAdmin &lt;xxxxx@163.com&gt;</span><br><span class="line">USER &#x3D; xxxxx@163.com</span><br><span class="line">PASSWD &#x3D; 123456</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="æœåŠ¡å™¨å’Œå…¶å®ƒæœåŠ¡è®¾ç½®"><a href="#æœåŠ¡å™¨å’Œå…¶å®ƒæœåŠ¡è®¾ç½®" class="headerlink" title="æœåŠ¡å™¨å’Œå…¶å®ƒæœåŠ¡è®¾ç½®"></a>æœåŠ¡å™¨å’Œå…¶å®ƒæœåŠ¡è®¾ç½®</h5><ul>
<li><code>ç¦æ­¢ç”¨æˆ·è‡ªä¸»æ³¨å†Œ</code>  æ¿€æ´»è¯¥é€‰é¡¹æ¥ç¦æ­¢ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½ï¼Œåªèƒ½ç”±ç®¡ç†å‘˜åˆ›å»ºå¸å·</li>
<li><code>å¯ç”¨éªŒè¯ç æœåŠ¡</code>  è¦æ±‚åœ¨ç”¨æˆ·æ³¨å†Œæ—¶è¾“å…¥é¢„éªŒè¯ç </li>
<li><code>å¯ç”¨ç™»å½•è®¿é—®é™åˆ¶</code>  åªæœ‰å·²ç™»å½•çš„ç”¨æˆ·æ‰èƒ½å¤Ÿè®¿é—®é¡µé¢ï¼Œå¦åˆ™å°†åªèƒ½çœ‹åˆ°ç™»å½•æˆ–æ³¨å†Œé¡µé¢</li>
</ul>
<hr>
<h5 id="ç®¡ç†å‘˜è´¦å·è®¾ç½®"><a href="#ç®¡ç†å‘˜è´¦å·è®¾ç½®" class="headerlink" title="ç®¡ç†å‘˜è´¦å·è®¾ç½®"></a>ç®¡ç†å‘˜è´¦å·è®¾ç½®</h5><p>åˆ›å»ºç®¡ç†å‘˜å¸å·å¹¶ä¸æ˜¯å¿…é¡»çš„ï¼Œå› ä¸º <code>ID=1</code> çš„ç”¨æˆ·å°†è‡ªåŠ¨è·å¾—ç®¡ç†å‘˜æƒé™ã€‚</p>
<p>å»ºè®®åœ¨æ­¤å¤„ç›´æ¥åˆ›å»ºç®¡ç†å‘˜è´¦æˆ·ã€‚</p>
<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-gogs-on-ubuntu-14-04" target="_blank" rel="noopener">How To Set Up Gogs on Ubuntu 14.04 | DigitalOcean</a></li>
<li><a href="https://gogs.io/docs/advanced/configuration_cheat_sheet" target="_blank" rel="noopener">é…ç½®æ–‡ä»¶æ‰‹å†Œ - Gogs</a></li>
</ul>
]]></content>
      <categories>
        <category>Ubuntu-Gogs</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>Gogs</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu16.04ä¸‹å®‰è£…Docker-CEç¤¾åŒºç‰ˆ</title>
    <url>/2017/08/25/ubuntu-install-docker-ce-and-configure-mirror-accelerator/</url>
    <content><![CDATA[<p>åœ¨2017å¹´3æœˆä»½ï¼ŒDockerå…¬å¸å®£å¸ƒDockerä¼ä¸šç‰ˆï¼ˆEnterprise Edition, EEï¼‰ï¼Œå¹¶å°†å¼€æºç‰ˆæœ¬é‡å‘½åä¸ºDockerç¤¾åŒºç‰ˆï¼ˆCommunity Edition, CEï¼‰ï¼›åŒæ—¶å…¬å¸ƒäº†äº§å“è¿­ä»£è®¡åˆ’ï¼Œè¿™ä¼šä¸ºä¼ä¸šå®¢æˆ·æä¾›é€æ˜çš„ç”Ÿå‘½å‘¨æœŸæ”¯æŒè®¡åˆ’ã€å¹¶å¯¹DockeræŠ€æœ¯çš„ç¨³å®šæ€§å’Œå¯ç»´æŠ¤æ€§æå‡å¸¦æ¥äº†å¸®åŠ©ã€‚</p>
<p>æ³¨ï¼šæ–‡ç« å†™äº <code>2017å¹´8æœˆ</code> ,æ–‡ä¸­æ‰€è®²æ–¹æ³•å¯èƒ½ä¼šè¿‡æ—¶ï¼Œè¯·æŸ¥çœ‹Dockerå®˜æ–¹æœ€æ–°å®‰è£…æ–‡æ¡£ <a href="https://docs.docker.com/engine/installation/linux/docker-ce/ubuntu/" target="_blank" rel="noopener">Get Docker CE for Ubuntu | Docker Documentation</a>ï¼Œæœ¬æ–‡ä»…ä¾›å‚è€ƒã€‚</p>
<h4 id="Docker-CE-è¿˜æ˜¯-Docker-EE"><a href="#Docker-CE-è¿˜æ˜¯-Docker-EE" class="headerlink" title="Docker CE è¿˜æ˜¯ Docker EE"></a>Docker CE è¿˜æ˜¯ Docker EE</h4><h5 id="Docker-CE"><a href="#Docker-CE" class="headerlink" title="Docker CE"></a>Docker CE</h5><p>Docker CEè¡¨ç¤ºç¤¾åŒºç‰ˆï¼Œæ˜¯å…è´¹çš„Dockeräº§å“çš„æ–°åç§°ï¼ŒDocker CEåŒ…å«äº†å®Œæ•´çš„Dockerå¹³å°ï¼Œéå¸¸é€‚åˆå¼€å‘äººå‘˜å’Œè¿ç»´å›¢é˜Ÿæ„å»ºå®¹å™¨APPã€‚</p>
<h5 id="Docker-EE"><a href="#Docker-EE" class="headerlink" title="Docker EE"></a>Docker EE</h5><p>Docker EEè¡¨ç¤ºä¼ä¸šç‰ˆï¼Œç”±å…¬å¸æ”¯æŒï¼Œå¯åœ¨ç»è¿‡è®¤è¯çš„æ“ä½œç³»ç»Ÿå’Œäº‘æä¾›å•†ä¸­ä½¿ç”¨ï¼Œå¹¶å¯è¿è¡Œæ¥è‡ªDocker Storeçš„ã€ç»è¿‡è®¤è¯çš„å®¹å™¨å’Œæ’ä»¶ã€‚</p>
<p>Docker EEæä¾›ä¸‰ä¸ªæœåŠ¡å±‚æ¬¡ï¼š</p>
<table>
<thead>
<tr>
<th>æœåŠ¡å±‚çº§</th>
<th>åŠŸèƒ½</th>
</tr>
</thead>
<tbody><tr>
<td>Basic</td>
<td>1. åŒ…å«ç”¨äºè®¤è¯åŸºç¡€è®¾æ–½çš„Dockerå¹³å°<br> 2. Dockerå…¬å¸çš„æ”¯æŒ<br> 3. ç»è¿‡è®¤è¯çš„ã€æ¥è‡ªDocker Storeçš„å®¹å™¨ä¸æ’ä»¶</td>
</tr>
<tr>
<td>Standard</td>
<td>1. æ·»åŠ é«˜çº§é•œåƒä¸å®¹å™¨ç®¡ç†<br> 2. LDAP/ADç”¨æˆ·é›†æˆ<br> 3. åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶(Docker Datacenter)</td>
</tr>
<tr>
<td>Advanced</td>
<td>1. æ·»åŠ Dockerå®‰å…¨æ‰«æ<br> 2. è¿ç»­æ¼æ´ç›‘æ§</td>
</tr>
</tbody></table>
<h5 id="ç‰ˆæœ¬è¿­ä»£"><a href="#ç‰ˆæœ¬è¿­ä»£" class="headerlink" title="ç‰ˆæœ¬è¿­ä»£"></a>ç‰ˆæœ¬è¿­ä»£</h5><p>Dockerä»17.03å¼€å§‹ï¼Œè½¬å‘åŸºäºæ—¶é—´çš„ <code>YY.MM</code> å½¢å¼çš„ç‰ˆæœ¬æ§åˆ¶æ–¹æ¡ˆï¼Œç±»ä¼¼äºCanonicalä¸ºUbuntuæ‰€ä½¿ç”¨çš„ç‰ˆæœ¬æ§åˆ¶æ–¹æ¡ˆã€‚</p>
<p>Docker CEæœ‰ä¸¤ç§ç‰ˆæœ¬ï¼š</p>
<ul>
<li>edgeç‰ˆæœ¬æ¯æœˆå‘å¸ƒä¸€æ¬¡ï¼Œä¸»è¦é¢å‘é‚£äº›å–œæ¬¢å°è¯•æ–°åŠŸèƒ½çš„ç”¨æˆ·ã€‚</li>
<li>stableç‰ˆæœ¬æ¯å­£åº¦å‘å¸ƒä¸€æ¬¡ï¼Œé€‚ç”¨äºå¸Œæœ›æ›´åŠ å®¹æ˜“ç»´æŠ¤çš„ç”¨æˆ·ï¼ˆç¨³å®šç‰ˆï¼‰ã€‚</li>
</ul>
<p>edgeç‰ˆæœ¬åªèƒ½åœ¨å½“å‰æœˆä»½è·å¾—å®‰å…¨å’Œé”™è¯¯ä¿®å¤ã€‚è€Œstableç‰ˆæœ¬åœ¨åˆå§‹å‘å¸ƒåå››ä¸ªæœˆå†…æ¥æ”¶å…³é”®é”™è¯¯ä¿®å¤å’Œå®‰å…¨é—®é¢˜çš„ä¿®è¡¥ç¨‹åºã€‚è¿™æ ·ï¼ŒDocker CEç”¨æˆ·å°±æœ‰ä¸€ä¸ªæœˆçš„çª—å£æœŸæ¥åˆ‡æ¢ç‰ˆæœ¬åˆ°æ›´æ–°çš„ç‰ˆæœ¬ã€‚</p>
<p>Docker EEå’Œstableç‰ˆæœ¬çš„ç‰ˆæœ¬å·ä¿æŒä¸€è‡´ï¼Œæ¯ä¸ªDocker EEç‰ˆæœ¬éƒ½äº«å—ä¸ºæœŸä¸€å¹´çš„æ”¯æŒä¸ç»´æŠ¤æœŸï¼Œåœ¨æ­¤æœŸé—´æ¥å—å®‰å…¨ä¸å…³é”®ä¿®æ­£ã€‚</p>
<hr>
<h4 id="å®˜æ–¹å®‰è£…æ–¹æ³•"><a href="#å®˜æ–¹å®‰è£…æ–¹æ³•" class="headerlink" title="å®˜æ–¹å®‰è£…æ–¹æ³•"></a>å®˜æ–¹å®‰è£…æ–¹æ³•</h4><h5 id="ç³»ç»Ÿè¦æ±‚"><a href="#ç³»ç»Ÿè¦æ±‚" class="headerlink" title="ç³»ç»Ÿè¦æ±‚"></a>ç³»ç»Ÿè¦æ±‚</h5><p>å®‰è£…Docker CE,éœ€è¦64ä½çš„Ubuntuç³»ç»Ÿï¼š</p>
<ul>
<li>Zesty 17.04</li>
<li>Xenial 16.04 (LTS)</li>
<li>Trusty 14.04 (LTS)</li>
</ul>
<p>æˆ‘çš„ç³»ç»Ÿæ˜¯ <code>Ubuntu 16.04.2 LTS</code> ç‰ˆæœ¬ï¼Œé€šè¿‡å‘½ä»¤ <code>lsb_release -a</code> æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹åˆ°:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo lsb_release -a</span><br><span class="line">[sudo] password for tiger: </span><br><span class="line">LSB Version:	core-9.20160110ubuntu0.2-amd64</span><br><span class="line">Distributor ID:	Ubuntu</span><br><span class="line">Description:	Ubuntu 16.04.2 LTS</span><br><span class="line">Release:	16.04</span><br><span class="line">Codename:	xenial</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ <code>uname -r</code> æ¥æŸ¥çœ‹å†…æ ¸ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ uname -r</span><br><span class="line">4.4.0-85-generic</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="å¸è½½æ—§ç‰ˆæœ¬Docker"><a href="#å¸è½½æ—§ç‰ˆæœ¬Docker" class="headerlink" title="å¸è½½æ—§ç‰ˆæœ¬Docker"></a>å¸è½½æ—§ç‰ˆæœ¬Docker</h5><p>æ—§ç‰ˆæœ¬çš„dockerè¢«ç§°ä¸º <code>docker</code> æˆ–è€… <code>docker-engine</code>ï¼Œè€Œç°åœ¨æœ€æ–°çš„Docker CEåŒ…è¢«ç§°ä¸º <code>docker-ce</code>ã€‚åœ¨å®‰è£…ä¹‹å‰ï¼Œéœ€è¦å…ˆå¸è½½æ—§ç‰ˆæœ¬(å¦‚æœä¹‹å‰æœ‰å®‰è£…)ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get remove docker docker-engine docker.io</span><br></pre></td></tr></table></figure>

<p>å¦å¤–åŸæ¥ <code>/var/lib/docker/</code> ç›®å½•ä¸‹çš„é•œåƒï¼Œå®¹å™¨ï¼Œæ•°æ®å·ï¼Œç½‘ç»œç­‰éƒ½ä¼šä¿ç•™ï¼Œæ–°å®‰è£…çš„dockerä»»ç„¶å¯ä»¥ä½¿ç”¨è¿™äº›å†…å®¹ã€‚</p>
<h5 id="14-04-Trusty-éœ€è¦å®‰è£…é¢å¤–åŒ…"><a href="#14-04-Trusty-éœ€è¦å®‰è£…é¢å¤–åŒ…" class="headerlink" title="14.04 Trusty éœ€è¦å®‰è£…é¢å¤–åŒ…"></a>14.04 Trusty éœ€è¦å®‰è£…é¢å¤–åŒ…</h5><p>åœ¨ 14.04 ç³»ç»Ÿç‰ˆæœ¬ä¸‹ï¼Œéœ€è¦å®‰è£… <code>linux-image-extra-*</code> åŒ…ä»¥å…è®¸Dockerä½¿ç”¨ <code>aufs</code> å­˜å‚¨é©±åŠ¨ç¨‹åºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get update</span><br><span class="line"></span><br><span class="line">$ sudo apt-get install \</span><br><span class="line">    linux-image-extra-$(uname -r) \</span><br><span class="line">    linux-image-extra-virtual</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="å®‰è£…-Docker-CE"><a href="#å®‰è£…-Docker-CE" class="headerlink" title="å®‰è£… Docker CE"></a>å®‰è£… Docker CE</h4><h5 id="æ›´æ–°æº"><a href="#æ›´æ–°æº" class="headerlink" title="æ›´æ–°æº"></a>æ›´æ–°æº</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get update</span><br></pre></td></tr></table></figure>

<h5 id="å…è®¸é€šè¿‡HTTPSä½¿ç”¨å­˜å‚¨åº“"><a href="#å…è®¸é€šè¿‡HTTPSä½¿ç”¨å­˜å‚¨åº“" class="headerlink" title="å…è®¸é€šè¿‡HTTPSä½¿ç”¨å­˜å‚¨åº“"></a>å…è®¸é€šè¿‡HTTPSä½¿ç”¨å­˜å‚¨åº“</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install \</span><br><span class="line">    apt-transport-https \</span><br><span class="line">    ca-certificates \</span><br><span class="line">    curl \</span><br><span class="line">    software-properties-common</span><br></pre></td></tr></table></figure>

<h5 id="å¯¼å…¥å®˜æ–¹-GPG-å¯†é’¥"><a href="#å¯¼å…¥å®˜æ–¹-GPG-å¯†é’¥" class="headerlink" title="å¯¼å…¥å®˜æ–¹ GPG å¯†é’¥"></a>å¯¼å…¥å®˜æ–¹ GPG å¯†é’¥</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl -fsSL https:&#x2F;&#x2F;download.docker.com&#x2F;linux&#x2F;ubuntu&#x2F;gpg | sudo apt-key add -</span><br></pre></td></tr></table></figure>

<p>éªŒè¯å¯†é’¥æŒ‡çº¹æ˜¯å¦æ­£ç¡® <code>9DC8 5822 9FC7 DD38 854A E2D8 8D81 803C 0EBF CD88</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-key fingerprint 0EBFCD88</span><br></pre></td></tr></table></figure>

<p>æ“ä½œè®°å½•å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl -fsSL https:&#x2F;&#x2F;download.docker.com&#x2F;linux&#x2F;ubuntu&#x2F;gpg | sudo apt-key add -</span><br><span class="line">OK</span><br><span class="line">$ sudo apt-key fingerprint 0EBFCD88</span><br><span class="line">pub   4096R&#x2F;0EBFCD88 2017-02-22</span><br><span class="line">      Key fingerprint &#x3D; 9DC8 5822 9FC7 DD38 854A  E2D8 8D81 803C 0EBF CD88</span><br><span class="line">uid                  Docker Release (CE deb) &lt;docker@docker.com&gt;</span><br><span class="line">sub   4096R&#x2F;F273FCD8 2017-02-22</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="é€‰æ‹©ç¨³å®šç‰ˆæœ¬"><a href="#é€‰æ‹©ç¨³å®šç‰ˆæœ¬" class="headerlink" title="é€‰æ‹©ç¨³å®šç‰ˆæœ¬"></a>é€‰æ‹©ç¨³å®šç‰ˆæœ¬</h5><p>ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å®‰è£…ç¨³å®šç‰ˆæœ¬çš„docker-ce,64ä½ç³»ç»Ÿï¼š <code>amd64</code> or <code>x86_64</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo add-apt-repository \</span><br><span class="line">   &quot;deb [arch&#x3D;amd64] https:&#x2F;&#x2F;download.docker.com&#x2F;linux&#x2F;ubuntu \</span><br><span class="line">   $(lsb_release -cs) \</span><br><span class="line">   stable&quot;</span><br></pre></td></tr></table></figure>

<h5 id="æ›´æ–°æºåˆ—è¡¨"><a href="#æ›´æ–°æºåˆ—è¡¨" class="headerlink" title="æ›´æ–°æºåˆ—è¡¨"></a>æ›´æ–°æºåˆ—è¡¨</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get update</span><br></pre></td></tr></table></figure>

<h5 id="å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„Docker-CE"><a href="#å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„Docker-CE" class="headerlink" title="å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„Docker CE"></a>å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„Docker CE</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install docker-ce</span><br></pre></td></tr></table></figure>

<h5 id="å®‰è£…ç‰¹å®šç‰ˆæœ¬çš„Docker-CE"><a href="#å®‰è£…ç‰¹å®šç‰ˆæœ¬çš„Docker-CE" class="headerlink" title="å®‰è£…ç‰¹å®šç‰ˆæœ¬çš„Docker CE"></a>å®‰è£…ç‰¹å®šç‰ˆæœ¬çš„Docker CE</h5><p>ä½¿ç”¨å‘½ä»¤ <code>$ apt-cache madison docker-ce</code> æŸ¥çœ‹å¯å®‰è£…çš„ç‰ˆæœ¬åˆ—è¡¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ apt-cache madison docker-ce</span><br><span class="line"> docker-ce | 17.06.1~ce-0~ubuntu | https:&#x2F;&#x2F;download.docker.com&#x2F;linux&#x2F;ubuntu xenial&#x2F;stable amd64 Packages</span><br><span class="line"> docker-ce | 17.06.0~ce-0~ubuntu | https:&#x2F;&#x2F;download.docker.com&#x2F;linux&#x2F;ubuntu xenial&#x2F;stable amd64 Packages</span><br><span class="line"> docker-ce | 17.03.2~ce-0~ubuntu-xenial | https:&#x2F;&#x2F;download.docker.com&#x2F;linux&#x2F;ubuntu xenial&#x2F;stable amd64 Packages</span><br><span class="line"> docker-ce | 17.03.1~ce-0~ubuntu-xenial | https:&#x2F;&#x2F;download.docker.com&#x2F;linux&#x2F;ubuntu xenial&#x2F;stable amd64 Packages</span><br><span class="line"> docker-ce | 17.03.0~ce-0~ubuntu-xenial | https:&#x2F;&#x2F;download.docker.com&#x2F;linux&#x2F;ubuntu xenial&#x2F;stable amd64 Packages</span><br></pre></td></tr></table></figure>

<p>ä¸­é—´ä¸€é¡¹ä¸ºç‰ˆæœ¬åç§°ï¼Œæ‰§è¡Œå‘½ä»¤é€‰æ‹©å®‰è£…æŒ‡å®šç‰ˆæœ¬ <code>$ sudo apt-get install docker-ce=&lt;VERSION&gt;</code> ,æ¯”å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install docker-ce&#x3D;17.06.1~ce-0~ubuntu</span><br><span class="line">[sudo] password for tiger: </span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree       </span><br><span class="line">Reading state information... Done</span><br><span class="line">docker-ce is already the newest version (17.06.1~ce-0~ubuntu).</span><br><span class="line">0 upgraded, 0 newly installed, 0 to remove and 34 not upgraded.</span><br></pre></td></tr></table></figure>

<hr>
<p>å®‰è£…å®Œæˆådockerå®ˆæŠ¤è¿›ç¨‹ä¼šè‡ªåŠ¨å¯åŠ¨ã€‚</p>
<hr>
<h5 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h5><p>æ‰§è¡Œå‘½ä»¤ <code>docker</code> æŸ¥çœ‹å®‰è£…æ˜¯å¦æˆåŠŸï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ docker </span><br><span class="line"></span><br><span class="line">Usage:	docker COMMAND</span><br><span class="line"></span><br><span class="line">A self-sufficient runtime for containers</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">      --config string      Location of client config files (default &quot;&#x2F;home&#x2F;tiger&#x2F;.docker&quot;)</span><br><span class="line">  -D, --debug              Enable debug mode</span><br><span class="line">      --help               Print usage</span><br><span class="line">  -H, --host list          Daemon socket(s) to connect to</span><br><span class="line">  -l, --log-level string   Set the logging level (&quot;debug&quot;|&quot;info&quot;|&quot;warn&quot;|&quot;error&quot;|&quot;fatal&quot;) (default &quot;info&quot;)</span><br><span class="line">      --tls                Use TLS; implied by --tlsverify</span><br><span class="line">      --tlscacert string   Trust certs signed only by this CA (default &quot;&#x2F;home&#x2F;tiger&#x2F;.docker&#x2F;ca.pem&quot;)</span><br><span class="line">      --tlscert string     Path to TLS certificate file (default &quot;&#x2F;home&#x2F;tiger&#x2F;.docker&#x2F;cert.pem&quot;)</span><br><span class="line">      --tlskey string      Path to TLS key file (default &quot;&#x2F;home&#x2F;tiger&#x2F;.docker&#x2F;key.pem&quot;)</span><br><span class="line">      --tlsverify          Use TLS and verify the remote</span><br><span class="line">  -v, --version            Print version information and quit</span><br><span class="line"></span><br><span class="line">Management Commands:</span><br><span class="line">  config      Manage Docker configs</span><br><span class="line">  container   Manage containers</span><br><span class="line">  image       Manage images</span><br><span class="line">  network     Manage networks</span><br><span class="line">  node        Manage Swarm nodes</span><br><span class="line">  plugin      Manage plugins</span><br><span class="line">  secret      Manage Docker secrets</span><br><span class="line">  service     Manage services</span><br><span class="line">  stack       Manage Docker stacks</span><br><span class="line">  swarm       Manage Swarm</span><br><span class="line">  system      Manage Docker</span><br><span class="line">  volume      Manage volumes</span><br><span class="line"></span><br><span class="line">Commands:</span><br><span class="line">  attach      Attach local standard input, output, and error streams to a running container</span><br><span class="line">  build       Build an image from a Dockerfile</span><br><span class="line">  commit      Create a new image from a container&#39;s changes</span><br><span class="line">  cp          Copy files&#x2F;folders between a container and the local filesystem</span><br><span class="line">  create      Create a new container</span><br><span class="line">  diff        Inspect changes to files or directories on a container&#39;s filesystem</span><br><span class="line">  events      Get real time events from the server</span><br><span class="line">  exec        Run a command in a running container</span><br><span class="line">  export      Export a container&#39;s filesystem as a tar archive</span><br><span class="line">  history     Show the history of an image</span><br><span class="line">  images      List images</span><br><span class="line">  import      Import the contents from a tarball to create a filesystem image</span><br><span class="line">  info        Display system-wide information</span><br><span class="line">  inspect     Return low-level information on Docker objects</span><br><span class="line">  kill        Kill one or more running containers</span><br><span class="line">  load        Load an image from a tar archive or STDIN</span><br><span class="line">  login       Log in to a Docker registry</span><br><span class="line">  logout      Log out from a Docker registry</span><br><span class="line">  logs        Fetch the logs of a container</span><br><span class="line">  pause       Pause all processes within one or more containers</span><br><span class="line">  port        List port mappings or a specific mapping for the container</span><br><span class="line">  ps          List containers</span><br><span class="line">  pull        Pull an image or a repository from a registry</span><br><span class="line">  push        Push an image or a repository to a registry</span><br><span class="line">  rename      Rename a container</span><br><span class="line">  restart     Restart one or more containers</span><br><span class="line">  rm          Remove one or more containers</span><br><span class="line">  rmi         Remove one or more images</span><br><span class="line">  run         Run a command in a new container</span><br><span class="line">  save        Save one or more images to a tar archive (streamed to STDOUT by default)</span><br><span class="line">  search      Search the Docker Hub for images</span><br><span class="line">  start       Start one or more stopped containers</span><br><span class="line">  stats       Display a live stream of container(s) resource usage statistics</span><br><span class="line">  stop        Stop one or more running containers</span><br><span class="line">  tag         Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE</span><br><span class="line">  top         Display the running processes of a container</span><br><span class="line">  unpause     Unpause all processes within one or more containers</span><br><span class="line">  update      Update configuration of one or more containers</span><br><span class="line">  version     Show the Docker version information</span><br><span class="line">  wait        Block until one or more containers stop, then print their exit codes</span><br><span class="line"></span><br><span class="line">Run &#39;docker COMMAND --help&#39; for more information on a command.</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ä¸ºå½“å‰ç”¨æˆ·æ·»åŠ ç®¡ç†å‘˜æƒé™"><a href="#ä¸ºå½“å‰ç”¨æˆ·æ·»åŠ ç®¡ç†å‘˜æƒé™" class="headerlink" title="ä¸ºå½“å‰ç”¨æˆ·æ·»åŠ ç®¡ç†å‘˜æƒé™"></a>ä¸ºå½“å‰ç”¨æˆ·æ·»åŠ ç®¡ç†å‘˜æƒé™</h4><p>Dockerè¿›ç¨‹å¯åŠ¨åï¼Œæ‰§è¡Œdockerå‘½ä»¤éƒ½å¿…é¡»å¸¦ä¸Š <code>sudo</code> æ‰è¡Œï¼Œå¦åˆ™ä¼šæŠ¥ <code>permission denied</code> çš„é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ docker info</span><br><span class="line">Got permission denied while trying to connect to the Docker daemon socket at unix:&#x2F;&#x2F;&#x2F;var&#x2F;run&#x2F;docker.sock: Get http:&#x2F;&#x2F;%2Fvar%2Frun%2Fdocker.sock&#x2F;v1.30&#x2F;info: dial unix &#x2F;var&#x2F;run&#x2F;docker.sock: connect: permission denied</span><br></pre></td></tr></table></figure>

<p>è§£å†³æ–¹æ³•æ˜¯å°†å½“å‰ç”¨æˆ·åŠ å…¥åˆ° <code>docker</code> ç”¨æˆ·åˆ†ç»„ä¸‹ã€‚</p>
<hr>
<h5 id="å°†å½“å‰ç”¨æˆ·æ·»åŠ åˆ°-docker-åˆ†ç»„ä¸‹"><a href="#å°†å½“å‰ç”¨æˆ·æ·»åŠ åˆ°-docker-åˆ†ç»„ä¸‹" class="headerlink" title="å°†å½“å‰ç”¨æˆ·æ·»åŠ åˆ° docker åˆ†ç»„ä¸‹"></a>å°†å½“å‰ç”¨æˆ·æ·»åŠ åˆ° <code>docker</code> åˆ†ç»„ä¸‹</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo usermod -aG docker &lt;your-user&gt;</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ç›´æ¥ç”¨ <code>$USER</code> è¡¨ç¤ºå½“å‰ç”¨æˆ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo usermod -aG docker $USER</span><br></pre></td></tr></table></figure>

<p>ç„¶åé‡å¯ç³»ç»Ÿï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo reboot</span><br></pre></td></tr></table></figure>

<p>å†æ‰§è¡Œæ—¶å°±ä¸ä¼šæŠ¥é”™äº†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ docker info</span><br><span class="line">Containers: 0</span><br><span class="line"> Running: 0</span><br><span class="line"> Paused: 0</span><br><span class="line"> Stopped: 0</span><br><span class="line">Images: 0</span><br><span class="line">Server Version: 17.06.1-ce</span><br><span class="line">Storage Driver: aufs</span><br><span class="line"> Root Dir: &#x2F;var&#x2F;lib&#x2F;docker&#x2F;aufs</span><br><span class="line"> Backing Filesystem: extfs</span><br><span class="line"> Dirs: 0</span><br><span class="line"> Dirperm1 Supported: true</span><br><span class="line">Logging Driver: json-file</span><br><span class="line">Cgroup Driver: cgroupfs</span><br><span class="line">Plugins: </span><br><span class="line"> Volume: local</span><br><span class="line"> Network: bridge host macvlan null overlay</span><br><span class="line"> Log: awslogs fluentd gcplogs gelf journald json-file logentries splunk syslog</span><br><span class="line">Swarm: inactive</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ä½¿ç”¨é˜¿é‡Œäº‘Docker-CEé•œåƒæºå®‰è£…"><a href="#ä½¿ç”¨é˜¿é‡Œäº‘Docker-CEé•œåƒæºå®‰è£…" class="headerlink" title="ä½¿ç”¨é˜¿é‡Œäº‘Docker CEé•œåƒæºå®‰è£…"></a>ä½¿ç”¨é˜¿é‡Œäº‘Docker CEé•œåƒæºå®‰è£…</h4><h5 id="Ubuntu-14-04-16-04-ä½¿ç”¨apt-getè¿›è¡Œå®‰è£…"><a href="#Ubuntu-14-04-16-04-ä½¿ç”¨apt-getè¿›è¡Œå®‰è£…" class="headerlink" title="Ubuntu 14.04 16.04 (ä½¿ç”¨apt-getè¿›è¡Œå®‰è£…)"></a>Ubuntu 14.04 16.04 (ä½¿ç”¨apt-getè¿›è¡Œå®‰è£…)</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># step 1: å®‰è£…å¿…è¦çš„ä¸€äº›ç³»ç»Ÿå·¥å…·</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get -y install apt-transport-https ca-certificates curl software-properties-common</span><br><span class="line"># step 2: å®‰è£…GPGè¯ä¹¦</span><br><span class="line">curl -fsSL http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;docker-ce&#x2F;linux&#x2F;ubuntu&#x2F;gpg | sudo apt-key add -</span><br><span class="line"># Step 3: å†™å…¥è½¯ä»¶æºä¿¡æ¯</span><br><span class="line">sudo add-apt-repository &quot;deb [arch&#x3D;amd64] http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;docker-ce&#x2F;linux&#x2F;ubuntu $(lsb_release -cs) stable&quot;</span><br><span class="line"># Step 4: æ›´æ–°å¹¶å®‰è£… Docker-CE</span><br><span class="line">sudo apt-get -y update</span><br><span class="line">sudo apt-get -y install docker-ce</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„Docker-CE:</span><br><span class="line"># Step 1: æŸ¥æ‰¾Docker-CEçš„ç‰ˆæœ¬:</span><br><span class="line"># apt-cache madison docker-ce</span><br><span class="line">#   docker-ce | 17.03.1~ce-0~ubuntu-xenial | http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;docker-ce&#x2F;linux&#x2F;ubuntu xenial&#x2F;stable amd64 Packages</span><br><span class="line">#   docker-ce | 17.03.0~ce-0~ubuntu-xenial | http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;docker-ce&#x2F;linux&#x2F;ubuntu xenial&#x2F;stable amd64 Packages</span><br><span class="line"># Step 2: å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„Docker-CE: (VERSION ä¾‹å¦‚ä¸Šé¢çš„ 17.03.1~ce-0~ubuntu-xenial)</span><br><span class="line"># sudo apt-get -y install docker-ce&#x3D;[VERSION]</span><br></pre></td></tr></table></figure>

<h5 id="CentOS-7-ä½¿ç”¨yumè¿›è¡Œå®‰è£…"><a href="#CentOS-7-ä½¿ç”¨yumè¿›è¡Œå®‰è£…" class="headerlink" title="CentOS 7 (ä½¿ç”¨yumè¿›è¡Œå®‰è£…)"></a>CentOS 7 (ä½¿ç”¨yumè¿›è¡Œå®‰è£…)</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># step 1: å®‰è£…å¿…è¦çš„ä¸€äº›ç³»ç»Ÿå·¥å…·</span><br><span class="line">sudo yum install -y yum-utils device-mapper-persistent-data lvm2</span><br><span class="line"># Step 2: æ·»åŠ è½¯ä»¶æºä¿¡æ¯</span><br><span class="line">sudo yum-config-manager --add-repo http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;docker-ce&#x2F;linux&#x2F;centos&#x2F;docker-ce.repo</span><br><span class="line"># Step 3: æ›´æ–°å¹¶å®‰è£… Docker-CE</span><br><span class="line">sudo yum makecache fast</span><br><span class="line">sudo yum -y install docker-ce</span><br><span class="line"># Step 4: å¼€å¯DockeræœåŠ¡</span><br><span class="line">sudo service docker start</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„Docker-CE:</span><br><span class="line"># Step 1: æŸ¥æ‰¾Docker-CEçš„ç‰ˆæœ¬:</span><br><span class="line"># yum list docker-ce.x86_64 --showduplicates | sort -r</span><br><span class="line">#   Loading mirror speeds from cached hostfile</span><br><span class="line">#   Loaded plugins: branch, fastestmirror, langpacks</span><br><span class="line">#   docker-ce.x86_64            17.03.1.ce-1.el7.centos            docker-ce-stable</span><br><span class="line">#   docker-ce.x86_64            17.03.1.ce-1.el7.centos            @docker-ce-stable</span><br><span class="line">#   docker-ce.x86_64            17.03.0.ce-1.el7.centos            docker-ce-stable</span><br><span class="line">#   Available Packages</span><br><span class="line"># Step2 : å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„Docker-CE: (VERSION ä¾‹å¦‚ä¸Šé¢çš„ 17.03.0.ce.1-1.el7.centos)</span><br><span class="line"># sudo yum -y install docker-ce-[VERSION]</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="é…ç½®é˜¿é‡Œäº‘Dockeré•œåƒåŠ é€Ÿå™¨"><a href="#é…ç½®é˜¿é‡Œäº‘Dockeré•œåƒåŠ é€Ÿå™¨" class="headerlink" title="é…ç½®é˜¿é‡Œäº‘Dockeré•œåƒåŠ é€Ÿå™¨"></a>é…ç½®é˜¿é‡Œäº‘Dockeré•œåƒåŠ é€Ÿå™¨</h4><p>æ‰“å¼€é˜¿é‡Œäº‘ <a href="https://dev.aliyun.com/" target="_blank" rel="noopener">å¼€å‘è€…å¹³å°</a> - <code>ç®¡ç†ä¸­å¿ƒ</code> - <code>Docker Hub é•œåƒç«™ç‚¹</code>ã€‚å¯ä»¥çœ‹åˆ° <code>æ‚¨çš„ä¸“å±åŠ é€Ÿå™¨åœ°å€ https://xxxxx.mirror.aliyuncs.com</code></p>
<h5 id="é…ç½®DockeråŠ é€Ÿå™¨"><a href="#é…ç½®DockeråŠ é€Ÿå™¨" class="headerlink" title="é…ç½®DockeråŠ é€Ÿå™¨"></a>é…ç½®DockeråŠ é€Ÿå™¨</h5><p>é€šè¿‡ä¿®æ”¹daemoné…ç½®æ–‡ä»¶ <code>/etc/docker/daemon.json</code> (æ²¡æœ‰æ—¶æ–°å»ºè¯¥æ–‡ä»¶) æ¥ä½¿ç”¨åŠ é€Ÿå™¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo mkdir -p &#x2F;etc&#x2F;docker</span><br><span class="line">sudo tee &#x2F;etc&#x2F;docker&#x2F;daemon.json &lt;&lt;-&#39;EOF&#39;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [&quot;https:&#x2F;&#x2F;xxxxx.mirror.aliyuncs.com&quot;]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼š<strong>ä¸Šæ–‡ä»£ç æ®µä¸­ç»™å‡ºçš„é•œåƒåŠ é€Ÿå™¨åœ°å€ä¸­çš„ <code>xxxxx</code> ä¸ºé˜¿é‡Œäº‘åœ¨ä½ æ³¨å†Œè´¦æˆ·ååˆ†é…çš„æŒ‡å®šåœ°å€åç§°ï¼Œåˆ‡è®°è¦ä¿®æ”¹ä¸ºè‡ªå·±è´¦æˆ·çš„ç»™å®šåœ°å€ã€‚</strong></p>
<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="https://docs.docker.com/engine/installation/linux/docker-ce/ubuntu/" target="_blank" rel="noopener">Get Docker CE for Ubuntu | Docker Documentation</a></li>
<li><a href="http://www.itmuch.com/docker/docker-1/" target="_blank" rel="noopener">Docker 17.03ç³»åˆ—æ•™ç¨‹ï¼ˆä¸€ï¼‰Docker EE/Docker CEç®€ä»‹ä¸ç‰ˆæœ¬è§„åˆ’ | å‘¨ç«‹|Spring Cloud</a></li>
<li><a href="https://yq.aliyun.com/articles/110806" target="_blank" rel="noopener">Docker CE é•œåƒæºç«™-åšå®¢-äº‘æ –ç¤¾åŒº-é˜¿é‡Œäº‘</a></li>
</ul>
]]></content>
      <tags>
        <tag>Docker</tag>
        <tag>Ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title>MongoDBå¤‡ä»½ä¸æ¢å¤</title>
    <url>/2017/08/22/mongodb-mongodump-and-mongorestore/</url>
    <content><![CDATA[<p>mongodbä¸­æœ‰å·¥å…·mongodumpå’Œmongorestoreæä¾›äº†éå¸¸æ–¹ä¾¿çš„å¯¹æ•°æ®åº“å¤‡ä»½ä¸æ¢å¤åŠŸèƒ½ã€‚å¯ä»¥åœ¨å‘½ä»¤åé¢åŠ  <code>--help</code> é€‰é¡¹æŸ¥çœ‹ä¸¤ä¸ªå·¥å…·çš„å¸®åŠ©æ–‡æ¡£ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F; # mongodump --help</span><br><span class="line">Usage:</span><br><span class="line">  mongodump &lt;options&gt;</span><br><span class="line"></span><br><span class="line">Export the content of a running server into .bson files.</span><br><span class="line"></span><br><span class="line">Specify a database with -d and a collection with -c to only dump that database or collection.</span><br><span class="line"></span><br><span class="line">See http:&#x2F;&#x2F;docs.mongodb.org&#x2F;manual&#x2F;reference&#x2F;program&#x2F;mongodump&#x2F; for more information.</span><br><span class="line"></span><br><span class="line">general options:</span><br><span class="line">      --help                                                print usage</span><br><span class="line">      --version                                             print the tool version and exit</span><br><span class="line"></span><br><span class="line">verbosity options:</span><br><span class="line">  -v, --verbose&#x3D;&lt;level&gt;                                     more detailed log output (include multiple times for more verbosity, e.g. -vvvvv, or specify a numeric value, e.g. --verbose&#x3D;N)</span><br><span class="line">      --quiet                                               hide all log output  </span><br><span class="line">  ...</span><br><span class="line">  ...</span><br></pre></td></tr></table></figure>


<h4 id="MongoDBå¤‡ä»½"><a href="#MongoDBå¤‡ä»½" class="headerlink" title="MongoDBå¤‡ä»½"></a>MongoDBå¤‡ä»½</h4><p>mongodumpå¤‡ä»½å‘½ä»¤è¯­æ³•: </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; mongodump -h dbhost -d dbname -o dbdirectory</span><br></pre></td></tr></table></figure>

<ul>
<li><code>-h</code> : MongDBæ‰€åœ¨æœåŠ¡å™¨åœ°å€ï¼Œä¾‹å¦‚ï¼š127.0.0.1ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æŒ‡å®šç«¯å£å·ï¼š127.0.0.1:27017</li>
<li><code>-d</code> : éœ€è¦å¤‡ä»½çš„æ•°æ®åº“å®ä¾‹ï¼Œä¾‹å¦‚ï¼štest</li>
<li><code>-o</code> ï¼šå¤‡ä»½çš„æ•°æ®å­˜æ”¾ä½ç½®ï¼Œä¾‹å¦‚ï¼šc:\data\dumpï¼Œå½“ç„¶è¯¥ç›®å½•éœ€è¦æå‰å»ºç«‹</li>
</ul>
<p>å¤‡ä»½æŒ‡å®šæ•°æ®åº“ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; mongodump -h 127.0.0.1:27017 -d local -o D:\Test\aatt</span><br></pre></td></tr></table></figure>

<p>å¤‡ä»½æ‰€æœ‰æ•°æ®åº“ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; mongodump --host 127.0.0.1 --port 27017</span><br></pre></td></tr></table></figure>

<p>å¦‚æœmongodbè®¾ç½®äº†å¯†ç ï¼Œåˆ™å‘½ä»¤æ ¼å¼ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; mongodump --host localhost --port 27017 -u dbUser -p dbPassword -d mydb --out &#x2F;home&#x2F;dbbackup</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…å¦‚ä¸‹çš„æ ¼å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; mongodump -h 127.0.0.1:27017 -u admin -p 123456 -d test -o &#x2F;data&#x2F;backup</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="MongoDBæ¢å¤"><a href="#MongoDBæ¢å¤" class="headerlink" title="MongoDBæ¢å¤"></a>MongoDBæ¢å¤</h4><p>mongorestore æ¢å¤å¤‡ä»½å‘½ä»¤è¯­æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; mongorestore -h &lt;hostname&gt;&lt;:port&gt; -d dbname &lt;path&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>--host &lt;:port&gt;, -h &lt;:port&gt;</code> : MongoDBæ‰€åœ¨æœåŠ¡å™¨åœ°å€ï¼Œé»˜è®¤ä¸ºï¼š localhost:27017</li>
<li><code>--db , -d</code> ï¼šéœ€è¦æ¢å¤çš„æ•°æ®åº“å®ä¾‹ï¼Œè¯¥åç§°ä¸å¤‡ä»½æ—¶çš„åç§°å¯ä»¥ä¸ä¸€è‡´</li>
<li><code>--drop</code> : æ¢å¤çš„æ—¶å€™ï¼Œå…ˆåˆ é™¤å½“å‰æ•°æ®ï¼Œç„¶åæ¢å¤å¤‡ä»½çš„æ•°æ®ã€‚</li>
<li><code>&lt;path&gt;</code> ï¼šmongorestore æœ€åçš„ä¸€ä¸ªå‚æ•°ï¼Œè®¾ç½®å¤‡ä»½æ•°æ®æ‰€åœ¨ä½ç½®ï¼Œä¾‹å¦‚ï¼šc:\data\dump\testã€‚<br>ä½ ä¸èƒ½åŒæ—¶æŒ‡å®š <path> å’Œ â€“dir é€‰é¡¹ï¼Œâ€“dirä¹Ÿå¯ä»¥è®¾ç½®å¤‡ä»½ç›®å½•ã€‚</li>
<li><code>--dir</code> : æŒ‡å®šå¤‡ä»½çš„ç›®å½•</li>
</ul>
<p>æ¢å¤å¤‡ä»½æ•°æ®åˆ°æŒ‡å®šçš„æœåŠ¡å™¨æ•°æ®åº“ä¸­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; mongorestore -h 127.0.0.1:27017 -d test2 D:\Test\aatt\local</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Alpineç³»ç»Ÿä¸‹çš„MongoDBå¤‡ä»½ä¸æ¢å¤"><a href="#Alpineç³»ç»Ÿä¸‹çš„MongoDBå¤‡ä»½ä¸æ¢å¤" class="headerlink" title="Alpineç³»ç»Ÿä¸‹çš„MongoDBå¤‡ä»½ä¸æ¢å¤"></a>Alpineç³»ç»Ÿä¸‹çš„MongoDBå¤‡ä»½ä¸æ¢å¤</h4><p>Alpineç³»ç»Ÿä¸‹ä½¿ç”¨MongoDBï¼Œéœ€è¦å®‰è£…MongoDBåŒ…: <code>apk add mongodb</code> ã€‚å¦‚æœè¦ä½¿ç”¨å¤‡ä»½ä¸æ¢å¤åŠŸèƒ½ï¼Œéœ€è¦å®‰è£… <code>mongodb-tools</code> åŒ…ï¼š<code>apk add mongodb-tools</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">alpine:edge</span><br><span class="line"></span><br><span class="line">$ echo http:&#x2F;&#x2F;dl-4.alpinelinux.org&#x2F;alpine&#x2F;edge&#x2F;testing &gt;&gt; &#x2F;etc&#x2F;apk&#x2F;repositories</span><br><span class="line"></span><br><span class="line">$ apk add --no-cache mongodb mongodb-tools</span><br><span class="line"></span><br><span class="line">$ ls &#x2F;usr&#x2F;bin&#x2F;</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>MongoDB</tag>
      </tags>
  </entry>
  <entry>
    <title>Golangä¸‹é€šè¿‡Ginä½“éªŒWebSocketæ¡†æ¶Melody</title>
    <url>/2017/08/14/websocket-framework-for-go-melody/</url>
    <content><![CDATA[<p>Melody æ˜¯ä¸€ä¸ª Go è¯­è¨€çš„å¾®å‹ WebSocket æ¡†æ¶ï¼ŒåŸºäº github.com/gorilla/websocket å¼€å‘.</p>
<h4 id="Gin-Gonic"><a href="#Gin-Gonic" class="headerlink" title="Gin-Gonic"></a>Gin-Gonic</h4><p>è·å–åŒ…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; go get github.com&#x2F;gin-gonic&#x2F;gin</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ å¼•ç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">inport &quot;github.com&#x2F;gin-gonic&#x2F;gin&quot;</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºGinæµ‹è¯•ç«™ç‚¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    &quot;github.com&#x2F;gin-gonic&#x2F;gin&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line"></span><br><span class="line">    r :&#x3D; gin.Default()</span><br><span class="line"></span><br><span class="line">    r.GET(&quot;&#x2F;&quot;, func(c *gin.Context) &#123;</span><br><span class="line">        c.String(200, &quot;Hello Gin&quot;)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    r.Run(&quot;:8080&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; go run main.go</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Melody"><a href="#Melody" class="headerlink" title="Melody"></a>Melody</h4><p>è·å–åŒ…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; go get gopkg.in&#x2F;olahol&#x2F;melody.v1</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ å¼•ç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &quot;gopkg.in&#x2F;olahol&#x2F;melody.v1&quot;</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Simple-Chat-Demo"><a href="#Simple-Chat-Demo" class="headerlink" title="Simple Chat Demo"></a>Simple Chat Demo</h4><p>main.goï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;github.com&#x2F;gin-gonic&#x2F;gin&quot;</span><br><span class="line">	&quot;gopkg.in&#x2F;olahol&#x2F;melody.v1&quot;</span><br><span class="line">	&quot;net&#x2F;http&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	r :&#x3D; gin.Default()</span><br><span class="line">	m :&#x3D; melody.New()</span><br><span class="line"></span><br><span class="line">	r.GET(&quot;&#x2F;&quot;, func(c *gin.Context) &#123;</span><br><span class="line">		http.ServeFile(c.Writer, c.Request, &quot;templates&#x2F;index.html&quot;)</span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;websocket</span><br><span class="line">	r.GET(&quot;&#x2F;ws&quot;, func(c *gin.Context) &#123;</span><br><span class="line">		m.HandleRequest(c.Writer, c.Request)</span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line">	m.HandleMessage(func(s *melody.Session, msg []byte) &#123;</span><br><span class="line">		m.Broadcast(msg)</span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line">	r.Run(&quot;:8080&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>index.htmlï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">	&lt;title&gt;WebSocket&lt;&#x2F;title&gt;</span><br><span class="line">	 &lt;style&gt;</span><br><span class="line">    #chat &#123;</span><br><span class="line">      text-align: left;</span><br><span class="line">      background: #f1f1f1;</span><br><span class="line">      width: 500px;</span><br><span class="line">      min-height: 300px;</span><br><span class="line">      padding: 20px;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;&#x2F;style&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;center&gt;</span><br><span class="line">      &lt;h3&gt;Chat&lt;&#x2F;h3&gt;</span><br><span class="line">      &lt;pre id&#x3D;&quot;chat&quot;&gt;&lt;&#x2F;pre&gt;</span><br><span class="line">      &lt;input placeholder&#x3D;&quot;say something&quot; id&#x3D;&quot;text&quot; type&#x3D;&quot;text&quot;&gt;</span><br><span class="line">    &lt;&#x2F;center&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script&gt;</span><br><span class="line">      var url &#x3D; &quot;ws:&#x2F;&#x2F;&quot; + window.location.host + &quot;&#x2F;ws&quot;;</span><br><span class="line">      var ws &#x3D; new WebSocket(url);</span><br><span class="line"></span><br><span class="line">      var name &#x3D; &quot;Guest&quot; + Math.floor(Math.random() * 1000);</span><br><span class="line"></span><br><span class="line">      var chat &#x3D; document.getElementById(&quot;chat&quot;);</span><br><span class="line">      var text &#x3D; document.getElementById(&quot;text&quot;);</span><br><span class="line"></span><br><span class="line">      var now &#x3D; function () &#123;</span><br><span class="line">        var iso &#x3D; new Date().toISOString();</span><br><span class="line">        return iso.split(&quot;T&quot;)[1].split(&quot;.&quot;)[0];</span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">      ws.onmessage &#x3D; function (msg) &#123;</span><br><span class="line">        var line &#x3D;  now() + &quot; &quot; + msg.data + &quot;\n&quot;;</span><br><span class="line">        chat.innerText +&#x3D; line;</span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">      text.onkeydown &#x3D; function (e) &#123;</span><br><span class="line">        if (e.keyCode &#x3D;&#x3D;&#x3D; 13 &amp;&amp; text.value !&#x3D;&#x3D; &quot;&quot;) &#123;</span><br><span class="line">          ws.send(&quot;&lt;&quot; + name + &quot;&gt; &quot; + text.value);</span><br><span class="line">          text.value &#x3D; &quot;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; go run main.go</span><br></pre></td></tr></table></figure>

<hr>
<ul>
<li><a href="https://github.com/olahol/melody" target="_blank" rel="noopener">GitHub - olahol/melody: Minimalist websocket framework for Go</a></li>
</ul>
]]></content>
      <tags>
        <tag>Golang</tag>
        <tag>Gin</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨Travis CIè‡ªåŠ¨éƒ¨ç½²Hexoåšå®¢</title>
    <url>/2017/08/09/using-travis-ci-automatic-deploy-hexo-blogs/</url>
    <content><![CDATA[<p>è‡ªä»ä½¿ç”¨GitHub Pageså’ŒHexoæ¥å‘å¸ƒåšå®¢ä¹‹åï¼Œä¸å¾—ä¸è¯´æ–¹ä¾¿äº†è®¸å¤šï¼Œåªéœ€è¦å‡ ä¸ªç®€å•çš„å‘½ä»¤åšå®¢å°±å‘å¸ƒäº†ã€‚ä½†åœ¨ä¸æ–­çš„ä½¿ç”¨ä¸­å‘ç°æ¯æ¬¡çš„å‘å¸ƒæ“ä½œä¹ŸæŒºè€—æ—¶çš„ã€‚</p>
<p>æˆ‘ä¸€èˆ¬çš„æ“ä½œæ˜¯å°†å¹³æ—¶æ•´ç†å¥½çš„mdæ–‡ä»¶æ”¾åˆ°ç§æœ‰çš„gitä»“åº“ä¸­ï¼ˆæ„Ÿå…´è¶£å¯äº†è§£ <a href="https://github.com/Leafney/ubuntu-gogs" target="_blank" rel="noopener">Ubuntu-Gogs ç”¨æ›´ç®€å•çš„æ–¹å¼éƒ¨ç½²ã€å‡çº§æˆ–è¿ç§»GogsæœåŠ¡</a>ï¼‰ï¼Œæ¯æ¬¡å‘å¸ƒçš„æ—¶å€™éƒ½è¦å…ˆå°†æ–‡ä»¶ <code>clone</code> åˆ°æœ¬åœ°ï¼Œç„¶åé…ç½®ä¸€ä¸‹hexoçš„è¿è¡Œç¯å¢ƒï¼Œæ¥ç€å†æ‰§è¡Œ <code>hexo s -g</code> æ¥é¢„è§ˆå’Œè°ƒæ•´ï¼Œæœ€åæ‰§è¡Œ <code>hexo d</code> å‘½ä»¤å°†åšå®¢å‘å¸ƒä¸Šå»ï¼Œåœ¨è¿™ä¹‹å‰å¦‚æœä½ æ²¡æœ‰é…ç½®è¿‡GitHubçš„ <code>SSH Key</code>,è¿˜è¦èŠ±ä¸€äº›æ—¶é—´æ¥å¼„æƒé™çš„é—®é¢˜ã€‚ä¹…è€Œä¹…ä¹‹å°±å‘ç°è¿™æ ·æ“ä½œèµ·æ¥å®åœ¨æ˜¯å¤ªç¹çäº†ã€‚</p>
<p>åæ¥çœ‹åˆ°ä¸€ç¯‡æ–‡ç« ä»‹ç»å¯ä»¥ä½¿ç”¨Travis CIæ¥è‡ªåŠ¨éƒ¨ç½²hexoçš„åšå®¢ï¼Œåªéœ€è¦å°†mdæ–‡ä»¶ <code>push</code> åˆ°ä»“åº“ä¸­åšå®¢å°±è‡ªåŠ¨å‘å¸ƒå¥½äº†ã€‚è¶ç€è¿™å‡ å¤©å·¥ä½œä»»åŠ¡ä¸å¤ªç€æ€¥ï¼Œç ”ç©¶äº†ä¸€ä¸‹ï¼Œç‰¹çºªå½•åœ¨æ­¤ï¼Œå¸Œæœ›èƒ½å¸®åˆ°æœ‰éœ€è¦çš„æœ‹å‹ã€‚</p>
<p>Travis CI æ˜¯ç›®å‰æ–°å…´çš„å¼€æºæŒç»­é›†æˆæ„å»ºé¡¹ç›®ï¼Œç”¨æ¥æ„å»ºæ‰˜ç®¡åœ¨GitHubä¸Šçš„ä»£ç ã€‚å®ƒæä¾›äº†å¤šç§ç¼–ç¨‹è¯­è¨€çš„æ”¯æŒï¼ŒåŒ…æ‹¬Rubyï¼ŒJavaScriptï¼ŒJavaï¼ŒScalaï¼ŒPHPï¼ŒHaskellå’ŒErlangåœ¨å†…çš„å¤šç§è¯­è¨€ã€‚</p>
<h4 id="é…ç½®GitHub-Pages"><a href="#é…ç½®GitHub-Pages" class="headerlink" title="é…ç½®GitHub Pages"></a>é…ç½®GitHub Pages</h4><p>å¦‚æœä½ æ˜¯æ–°æ‰‹æˆ–è€…è¿˜æ²¡æœ‰è‡ªå·±çš„ <code>GitHub Pages</code> åšå®¢ç«™ç‚¹ï¼Œå¯ä»¥å…ˆçœ‹æˆ‘ä¹‹å‰çš„æ–‡ç«  <a href="http://www.itfanr.cc/2016/09/24/use-github-to-build-hexo-static-blog/">ä½¿ç”¨GitHubæ­å»ºHexoé™æ€åšå®¢ | ITèŒƒå„¿</a> äº†è§£å¦‚ä½•é…ç½®ï¼Œå…·ä½“è¿‡ç¨‹è¿™é‡Œä¸å†è¯¦è¿°ã€‚</p>
<h5 id="åˆ›å»º-hexo-åˆ†æ”¯"><a href="#åˆ›å»º-hexo-åˆ†æ”¯" class="headerlink" title="åˆ›å»º hexo åˆ†æ”¯"></a>åˆ›å»º hexo åˆ†æ”¯</h5><p>å› ä¸ºæˆ‘ä¹‹å‰çš„åšå®¢æºæ–‡ä»¶æ˜¯å­˜æ”¾åœ¨ç§æœ‰çš„gitç®¡ç†å·¥å…·ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬è¦ä½¿ç”¨Travis CIè‡ªåŠ¨éƒ¨ç½²ï¼Œå¿…é¡»å°†è¿™äº›åšå®¢çš„æºç æ–‡ä»¶æ”¾åˆ°GitHubä¸Šæ‰èƒ½è¢«Travisè®¿é—®åˆ°ã€‚å› ä¸º <code>GitHub Pages</code> é»˜è®¤è¦æ±‚å¿…é¡»ä½¿ç”¨ <code>master</code> åˆ†æ”¯å­˜æ”¾é™æ€æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¯¥ä»“åº“ä¸‹ä½¿ç”¨å…¶ä»–åˆ†æ”¯æ¥å­˜æ”¾åšå®¢æºç æ–‡ä»¶ï¼Œæˆ–è€…æ–°åˆ›å»ºä¸€ä¸ªä»“åº“æ¥å•ç‹¬ä¿å­˜ã€‚è¿™é‡Œæˆ‘ä»¬æŠŠhexoåšå®¢çš„æºç æ”¾åœ¨ <code>hexo</code> åˆ†æ”¯ä¸‹ï¼Œåšå®¢çš„é™æ€æ–‡ä»¶éƒ¨ç½²åœ¨ <code>master</code> åˆ†æ”¯ä¸‹ã€‚</p>
<p>å¯¹äºå¦‚ä½•åœ¨GitHubä¸Šåˆ›å»ºåˆ†æ”¯ï¼Œç›¸å…³æ“ä½œå‘½ä»¤å¦‚ä¸‹ï¼Œä»…ä¾›å‚è€ƒï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°</span><br><span class="line">&gt; git clone https:&#x2F;&#x2F;github.com&#x2F;Leafney&#x2F;Leafney.github.io.git</span><br><span class="line"></span><br><span class="line"># åˆ›å»ºå¹¶åˆ‡æ¢åˆ° hexo åˆ†æ”¯</span><br><span class="line">&gt; git checkout -b hexo</span><br></pre></td></tr></table></figure>

<p>å½“åˆ‡æ¢åˆ° <code>hexo</code> åˆ†æ”¯åï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯éœ€è¦ç”¨ <code>hexo</code> åˆ†æ”¯æ¥å­˜æ”¾åšå®¢æºç æ–‡ä»¶çš„ï¼Œæ‰€ä»¥ï¼Œå°† <code>hexo</code> åˆ†æ”¯ä¸‹çš„æ–‡ä»¶é™¤ <code>.git</code> ç›®å½•å¤–å…¨éƒ¨åˆ é™¤ï¼Œç„¶åå°†åšå®¢æºç æ–‡ä»¶æ‹·è´åˆ°è¯¥ç›®å½•ä¸‹ï¼Œå¹¶ <code>commit</code> åˆ° <code>hexo</code> åˆ†æ”¯.</p>
<p>ç„¶åæˆ‘ä»¬éœ€è¦å°†æœ¬åœ°çš„ <code>hexo</code> åˆ†æ”¯æäº¤åˆ°è¿œç¨‹ä»“åº“ä¸­</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æäº¤æœ¬åœ°hexoåˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“çš„hexoåˆ†æ”¯</span><br><span class="line">&gt; git push origin hexo:hexo</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·æˆ‘ä»¬åœ¨GitHubçš„ä»“åº“ä¸‹å°±èƒ½çœ‹åˆ° <code>hexo</code> åˆ†æ”¯ä¸ºåšå®¢æºæ–‡ä»¶ï¼Œ<code>master</code> åˆ†æ”¯ä¸ºé™æ€æ–‡ä»¶ã€‚</p>
<p>è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œå½“æˆ‘ä»¬æ–°å¢åšå®¢mdæ–‡ä»¶æ—¶ï¼Œè·å–è¿œç¨‹åˆ†æ”¯æ—¶è¦æŒ‡å®šåˆ†æ”¯çš„åç§°ï¼Œå¦åˆ™ä¼šé»˜è®¤è·å– <code>master</code> åˆ†æ”¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; git pull origin hexo</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="è®¾ç½®-Travis-CI"><a href="#è®¾ç½®-Travis-CI" class="headerlink" title="è®¾ç½® Travis CI"></a>è®¾ç½® Travis CI</h4><p>ä½¿ç”¨ GitHubè´¦æˆ·ç™»å½• <a href="https://travis-ci.org/" target="_blank" rel="noopener">Travis CIå®˜ç½‘</a> ï¼Œè¿›å»åèƒ½çœ‹åˆ°å·²ç»è‡ªåŠ¨å…³è”äº† GitHub ä¸Šçš„ä»“åº“ã€‚è¿™é‡Œæˆ‘ä»¬é€‰æ‹©éœ€è¦å¯ç”¨çš„é¡¹ç›®ï¼Œå³ <code>yourname/yourname.github.io</code> ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/170809gmgDm96jGa.jpg" alt="mark"></p>
<p>ç„¶åç‚¹å‡»åé¢çš„é½¿è½®å›¾æ ‡è¿›å…¥è®¾ç½®ç•Œé¢ã€‚</p>
<p>å¦‚æœä½ ä¹‹å‰å·²ç»å‹¾é€‰è¿‡é¡¹ç›®ï¼Œå¯ä»¥è¿›åˆ°é¡¹ç›®ä¸»é¡µä¸­ï¼Œåœ¨å³ä¸Šè§’æ‰¾åˆ° <code>More options</code> é€‰é¡¹ä¸‹çš„ <code>Settings</code> è¿›å…¥è®¾ç½®ç•Œé¢ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/17080926B1D9j4eI.jpg" alt="mark"></p>
<hr>
<h5 id="é€šç”¨è®¾ç½®"><a href="#é€šç”¨è®¾ç½®" class="headerlink" title="é€šç”¨è®¾ç½®"></a>é€šç”¨è®¾ç½®</h5><p>åœ¨ <code>General</code> åŒºåŸŸå¼€å¯ï¼š<code>Build only if .travis.yml is present</code> è¡¨ç¤ºâ€œåªæœ‰å½“ <code>.travis.yml</code> å­˜åœ¨æ—¶æ‰æ„å»ºâ€ ï¼›å¼€å¯ï¼š<code>Build branch updates</code> è¡¨ç¤º â€œå½“åˆ†æ”¯æ›´æ–°æ—¶æ„å»ºâ€ ä¸¤ä¸ªé€‰é¡¹ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/17080934fAK0D1cH.jpg" alt="mark"></p>
<p>Travis CIåœ¨è‡ªåŠ¨æ„å»ºå®Œæˆåéœ€è¦pushé™æ€æ–‡ä»¶åˆ°ä»“åº“çš„ <code>master</code> åˆ†æ”¯ä¸‹ï¼Œè€Œè®¿é—®GitHubçš„ä»“åº“æ˜¯éœ€è¦æƒé™çš„ï¼Œä¸‹é¢æ¥çœ‹çœ‹å¦‚ä½•é…ç½®æƒé™ã€‚</p>
<h5 id="é…ç½®-Access-Token"><a href="#é…ç½®-Access-Token" class="headerlink" title="é…ç½® Access Token"></a>é…ç½® Access Token</h5><p>å¦‚ä¸‹å›¾ï¼Œ<code>Environment Variables</code> åŒºåŸŸå°±æ˜¯ç”¨æ¥æ·»åŠ æƒé™ä¿¡æ¯çš„ã€‚æˆ‘ä»¬éœ€è¦å¡«å†™ä¸€ä¸ªTokençš„åç§°å’Œå€¼ï¼Œè¯¥åç§°å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­ä»¥ <code>${å˜é‡å}</code> æ¥å¼•ç”¨ï¼Œè¯¥Tokenæˆ‘ä»¬éœ€è¦ä»Githubä¸­è·å–ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/17080937cGl0m6me.jpg" alt="mark"></p>
<hr>
<h5 id="ä»GitHubè·å–Access-Token"><a href="#ä»GitHubè·å–Access-Token" class="headerlink" title="ä»GitHubè·å–Access Token"></a>ä»GitHubè·å–Access Token</h5><p>ä¹‹å‰æˆ‘ä»¬åœ¨ä½¿ç”¨å‘½ä»¤ <code>hexo d</code> éƒ¨ç½²hexoåšå®¢åˆ°GitHubä¸Šæ—¶ï¼Œæ˜¯å› ä¸ºæœ¬åœ°æœ‰ <code>SSH key</code>ï¼Œå½“äº¤ç»™ Travis å»è‡ªåŠ¨éƒ¨ç½²æ—¶æˆ‘ä»¬ä¹Ÿéœ€è¦è®¾ç½®å¯æ“ä½œæƒé™ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨GitHubæä¾›çš„tokenå˜é‡æ¥å®ç°ã€‚</p>
<p>ç™»é™† <code>GitHub</code> â€“<code>Settings</code> é€‰é¡¹ï¼Œæ‰¾åˆ° <code>Personal access tokens</code> é¡µé¢ã€‚</p>
<p>ç‚¹å‡»å³ä¸Šè§’çš„ <code>Generate new token</code> æŒ‰é’®ä¼šç”Ÿæˆæ–°çš„tokenï¼Œç‚¹å‡»åæç¤ºè¾“å…¥å¯†ç åç»§ç»­ï¼Œç„¶åæ¥åˆ°å¦‚ä¸‹ç•Œé¢ï¼Œå–ä¸ªåå­—ï¼ˆæˆ‘è¿™é‡Œå– <code>Travis_Token</code> ä¸‹é¢çš„é…ç½®æ–‡ä»¶ä¸­ä¼šç”¨åˆ°)ï¼Œå‹¾é€‰ç›¸åº”æƒé™ï¼Œè¿™é‡Œåªéœ€è¦ <code>repo</code> ä¸‹å…¨éƒ¨å’Œ <code>user</code> ä¸‹çš„ <code>user:email</code> å³å¯ã€‚</p>
<p> <img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/170809L8IgF7ijH5.jpg" alt="mark"></p>
<p>ç”Ÿæˆå®Œæˆåï¼Œå°†è¯¥tokenæ‹·è´ä¸‹æ¥ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯è¯¥tokenåªæœ‰è¿™ä¸ªæ—¶å€™æ‰èƒ½çœ‹åˆ°ï¼Œå½“å†æ¬¡è¿›å…¥è¿™ä¸ªé¡µé¢æ—¶å°±åªä¼šæ˜¾ç¤ºä¹‹å‰è®¾ç½®çš„åç§°äº†ã€‚å¦‚æœå¿˜è®°äº†åªèƒ½é‡æ–°ç”Ÿæˆä¸€ä¸ªã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/170809dHK41IbL4h.jpg" alt="mark"></p>
<hr>
<h5 id="åœ¨Travis-CIä¸­é…ç½®"><a href="#åœ¨Travis-CIä¸­é…ç½®" class="headerlink" title="åœ¨Travis CIä¸­é…ç½®"></a>åœ¨Travis CIä¸­é…ç½®</h5><p>å°†ä¸Šé¢è·å–åˆ°çš„tokenæ·»åŠ åˆ° <code>Environment Variables</code> éƒ¨åˆ†ï¼Œå€¼ä¸ºè¯¥ <code>token</code> ,è€Œåç§°å³ä¸ºä¸Šé¢è®¾ç½®çš„ <code>Travis_Token</code> (è¯·æ›´æ”¹ä¸ºä¸ªäººæ‰€è®¾ç½®åç§°)ã€‚<strong>ä¸å‹¾é€‰</strong>åé¢çš„ <code>Display value in build log</code> . å¦åˆ™ä¼šåœ¨æ—¥å¿—æ–‡ä»¶ä¸­æš´éœ²ä½ çš„ <code>token</code> ä¿¡æ¯ï¼Œè€Œæ—¥å¿—æ–‡ä»¶æ˜¯å…¬å¼€å¯è§çš„ã€‚</p>
<p>è‡³æ­¤æˆ‘ä»¬å·²ç»é…ç½®å¥½äº†è¦æ„å»ºçš„ä»“åº“å’Œè®¿é—®çš„tokenï¼Œæ¥ä¸‹æ¥å°±æ˜¯å¦‚ä½•æ„å»ºçš„é—®é¢˜äº†ã€‚</p>
<hr>
<h5 id="åˆ›å»º-travis-yml-æ–‡ä»¶"><a href="#åˆ›å»º-travis-yml-æ–‡ä»¶" class="headerlink" title="åˆ›å»º .travis.yml æ–‡ä»¶"></a>åˆ›å»º .travis.yml æ–‡ä»¶</h5><p>ä¹‹å‰çš„æ­¥éª¤ä¸­æˆ‘ä»¬å‹¾é€‰äº†ä¸€é¡¹ <code>Build only if .travis.yml is present</code>,æ‰€ä»¥æˆ‘ä»¬è¦åœ¨åšå®¢æºç æ–‡ä»¶çš„ <code>hexo</code> åˆ†æ”¯ä¸‹æ–°å¢ä¸€ä¸ª <code>.travis.yml</code> é…ç½®æ–‡ä»¶ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">language: node_js # è®¾ç½®è¯­è¨€</span><br><span class="line"></span><br><span class="line">node_js: stable # è®¾ç½®ç›¸åº”ç‰ˆæœ¬</span><br><span class="line"></span><br><span class="line">install:</span><br><span class="line">    - npm install # å®‰è£…hexoåŠæ’ä»¶</span><br><span class="line"></span><br><span class="line">script:</span><br><span class="line">    - hexo clean # æ¸…é™¤</span><br><span class="line">    - hexo g # ç”Ÿæˆ</span><br><span class="line"></span><br><span class="line">after_script:</span><br><span class="line">    - cd .&#x2F;public</span><br><span class="line">    - git init</span><br><span class="line">    - git config user.name &quot;yourname&quot; # ä¿®æ”¹name</span><br><span class="line">    - git config user.email &quot;your email&quot; # ä¿®æ”¹email</span><br><span class="line">    - git add .</span><br><span class="line">    - git commit -m &quot;Travis CI Auto Builder&quot;</span><br><span class="line">    - git push --force --quiet &quot;https:&#x2F;&#x2F;$&#123;GH_TOKEN&#125;@$&#123;GH_REF&#125;&quot; master:master # GH_TOKENæ˜¯åœ¨Travisä¸­é…ç½®tokençš„åç§°</span><br><span class="line"></span><br><span class="line">branches:</span><br><span class="line">    only:</span><br><span class="line">        - hexo #åªç›‘æµ‹hexoåˆ†æ”¯ï¼Œhexoæ˜¯æˆ‘çš„åˆ†æ”¯çš„åç§°ï¼Œå¯æ ¹æ®è‡ªå·±æƒ…å†µè®¾ç½®</span><br><span class="line"></span><br><span class="line">env:</span><br><span class="line">    global:</span><br><span class="line">        - GH_REF: github.com&#x2F;yourname&#x2F;yourname.github.io.git #è®¾ç½®GH_REFï¼Œæ³¨æ„æ›´æ”¹yourname</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šéœ€è¦å°†é…ç½®æ–‡ä»¶ä¸­çš„ <code>GH_TOKEN</code> æ¢æˆæˆ‘ä»¬è‡ªå·±è®¾å®šçš„åç§°ï¼Œè¿™é‡Œæˆ‘çš„é…ç½®åº”è¯¥æ˜¯ <code>Travis_Token</code> å³ <code>- git push --force --quiet &quot;https://${Travis_Token}@${GH_REF}&quot; master:master # GH_TOKENæ˜¯åœ¨Travisä¸­é…ç½®tokençš„åç§°</code>ã€‚ è¿˜è¦æ›´æ”¹ <code>GH_REF</code> ä¸­æˆ‘ä»¬çš„åšå®¢ä»“åº“çš„åœ°å€ã€‚</p>
<p>é…ç½®æ–‡ä»¶ä¸­çš„æ“ä½œä¹Ÿå¾ˆç®€å•ï¼Œè¿™ä¹Ÿæ˜¯ç½‘ä¸Šæ‰¾åˆ°çš„æ¯”è¾ƒå¸¸è§çš„ä¸€ç§é…ç½®æ ¼å¼äº†ã€‚ç„¶è€Œï¼Œè¿™ä»½é…ç½®æ–‡ä»¶ä¸­å´éšè—ç€ä¸€ä¸ªå¤§å‘ã€‚è‡³äºå¦‚ä½•è·³è¿‡å»ï¼Œåé¢å†è¯¦è¯´ã€‚</p>
<hr>
<h5 id="å®ç°è‡ªåŠ¨éƒ¨ç½²"><a href="#å®ç°è‡ªåŠ¨éƒ¨ç½²" class="headerlink" title="å®ç°è‡ªåŠ¨éƒ¨ç½²"></a>å®ç°è‡ªåŠ¨éƒ¨ç½²</h5><p>å½“ <code>.travis.yml</code> é…ç½®æ–‡ä»¶ä¿®æ”¹å®Œæˆåï¼Œå°†å…¶æäº¤åˆ°è¿œç¨‹ä»“åº“çš„ <code>hexo</code> åˆ†æ”¯ä¸‹ï¼Œæ­¤æ—¶å¦‚æœä¹‹å‰çš„é…ç½®ä¸€åˆ‡okï¼Œæˆ‘ä»¬åº”è¯¥èƒ½åœ¨ <code>Travis CI</code> çš„åšå®¢é¡¹ç›®ä¸»é¡µé¡µé¢ä¸­çœ‹åˆ°è‡ªåŠ¨æ„å»ºå·²ç»åœ¨å¼€å§‹æ‰§è¡Œäº†ã€‚ä¸Šé¢ä¼šæ˜¾ç¤ºå‡ºæ„å»ºè¿‡ç¨‹ä¸­çš„æ—¥å¿—ä¿¡æ¯åŠçŠ¶æ€ç­‰ã€‚</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/170809ii4E0ca8G4.jpg" alt="mark"></p>
<hr>
<h4 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h4><h5 id="é—®é¢˜ä¸€ï¼šæç¤º-travis-yml-æ–‡ä»¶æ ¼å¼é”™è¯¯"><a href="#é—®é¢˜ä¸€ï¼šæç¤º-travis-yml-æ–‡ä»¶æ ¼å¼é”™è¯¯" class="headerlink" title="é—®é¢˜ä¸€ï¼šæç¤º .travis.yml æ–‡ä»¶æ ¼å¼é”™è¯¯"></a>é—®é¢˜ä¸€ï¼šæç¤º <code>.travis.yml</code> æ–‡ä»¶æ ¼å¼é”™è¯¯</h5><p>åœ¨ <code>Travis CI</code> çš„æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œå¦‚æœé‡åˆ°ä¸‹é¢çš„é”™è¯¯æç¤ºï¼Œé‚£å¯èƒ½å°±æ˜¯ <code>.travis.yml</code> æ–‡ä»¶çš„æ ¼å¼æœ‰é—®é¢˜ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ERROR: An error occured while trying to parse your .travis.yml file.</span><br><span class="line">Please make sure that the file is valid YAML.</span><br><span class="line">http:&#x2F;&#x2F;lint.travis-ci.org can check your .travis.yml.</span><br><span class="line">The log message was: Build config file had a parse error: found character that cannot start any token while scanning for the next token at line 6 column 1.</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡åœ¨githubä¸ŠæŸ¥è¯¢ï¼Œæˆ‘å‘ç°è¿™ä¸ªé—®é¢˜æ˜¯æˆ‘åœ¨é…ç½®æ–‡ä»¶ä¸­çš„ç¼©è¿›ä½¿ç”¨äº† <code>tab</code> é”®å¯¼è‡´çš„ã€‚å› ä¸ºåœ¨ä¸åŒçš„ç¼–è¾‘å™¨ä¸‹ï¼Œ<code>tab</code> é”®è¡¨ç¤ºçš„å®½åº¦å¯èƒ½ä¸åŒã€‚</p>
<p>è¿™é‡Œå»ºè®®æ˜¯ï¼š<strong>ä¸è¦ç”¨ <code>tab</code> é”®ï¼Œè€Œæ˜¯ç”¨é€‚å½“çš„ç©ºæ ¼å®ç°ç¼©è¿›</strong></p>
<ul>
<li><a href="https://github.com/ruby/psych/issues/136" target="_blank" rel="noopener">found character     &#39;\t&#39; that cannot start any token while scanning for the next token at line Â· Issue #136 Â· ruby/psych Â· GitHub</a></li>
</ul>
<hr>
<h5 id="é—®é¢˜äºŒï¼šTravis-CIçš„è‡ªåŠ¨æ„å»ºæˆåŠŸï¼Œä½†æ˜¯æ„å»ºå®Œæˆåçš„é¡¹ç›®æ²¡æœ‰æ¨é€åˆ°githubä¸­"><a href="#é—®é¢˜äºŒï¼šTravis-CIçš„è‡ªåŠ¨æ„å»ºæˆåŠŸï¼Œä½†æ˜¯æ„å»ºå®Œæˆåçš„é¡¹ç›®æ²¡æœ‰æ¨é€åˆ°githubä¸­" class="headerlink" title="é—®é¢˜äºŒï¼šTravis CIçš„è‡ªåŠ¨æ„å»ºæˆåŠŸï¼Œä½†æ˜¯æ„å»ºå®Œæˆåçš„é¡¹ç›®æ²¡æœ‰æ¨é€åˆ°githubä¸­"></a>é—®é¢˜äºŒï¼šTravis CIçš„è‡ªåŠ¨æ„å»ºæˆåŠŸï¼Œä½†æ˜¯æ„å»ºå®Œæˆåçš„é¡¹ç›®æ²¡æœ‰æ¨é€åˆ°githubä¸­</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">...</span><br><span class="line">git commit -m &quot;Travis CI Auto Builder&quot;</span><br><span class="line">git push --force --quiet &quot;https:&#x2F;&#x2F;$&#123;GH_TOKEN&#125;@$&#123;GH_REF&#125;&quot; master:master</span><br><span class="line">remote: Anonymous access to Leafney&#x2F;Leafney.github.io.git denied.</span><br><span class="line">fatal: Authentication failed for &#39;https:&#x2F;&#x2F;@github.com&#x2F;Leafney&#x2F;Leafney.github.io.git&#x2F;&#39;</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹æ—¥å¿—æç¤ºæ˜¯æƒé™é—®é¢˜ã€‚</p>
<p>è¿™é‡Œçš„é—®é¢˜æ˜¯æˆ‘åœ¨ <code>.travis.yml</code> é…ç½®æ–‡ä»¶ä¸­æ²¡æœ‰æŠŠ <code>${GH_TOKEN}</code> éƒ¨åˆ†æ¢æˆè‡ªå·±åœ¨ <code>Travis CI</code> ä¸­å¡«å†™çš„tokenåç§°è€Œå¯¼è‡´çš„ã€‚æ‰§è¡Œæ—¶æ‰¾ä¸åˆ°tokenï¼Œä¹Ÿå°±æ²¡æ³•è®¾ç½®æƒé™äº†ã€‚</p>
<hr>
<h5 id="é—®é¢˜ä¸‰ï¼šmaster-commit-æ ‘è¢«æ¸…ç©º-â˜†"><a href="#é—®é¢˜ä¸‰ï¼šmaster-commit-æ ‘è¢«æ¸…ç©º-â˜†" class="headerlink" title="é—®é¢˜ä¸‰ï¼šmaster commit æ ‘è¢«æ¸…ç©º â˜†"></a>é—®é¢˜ä¸‰ï¼š<code>master commit</code> æ ‘è¢«æ¸…ç©º â˜†</h5><p>å¦‚æœä½ æŒ‰ç…§ä¸Šé¢çš„ <code>travis.yml</code> é…ç½®æ–‡ä»¶çš„è®¾ç½®å»è‡ªåŠ¨æ„å»ºä½ çš„åšå®¢ï¼Œä½ ä¼šå‘ç° <code>master</code> åˆ†æ”¯çš„æäº¤è®°å½•åªæœ‰å½“å‰æäº¤çš„è¿™ä¸€æ¡ï¼Œè€Œä¸”æ— è®ºæ“ä½œå¤šå°‘æ¬¡ï¼Œä¹Ÿä»…ä»…åªæœ‰ä¸€æ¡ã€‚è¿™è¿˜çœŸçš„æ˜¯ä¸€ä¸ªå¤§å‘å‘€ï¼</p>
<p>æ¯”å¦‚ä¸‹é¢è¿™ä½ç½‘å‹çš„ç«™ç‚¹ï¼š <a href="https://github.com/hhstore/hhstore.github.io" target="_blank" rel="noopener">GitHub - hhstore/hhstore.github.io: ä¸ªäººæŠ€æœ¯åšå®¢</a> åœ¨ <code>master</code> åˆ†æ”¯ä¸‹å°±åªæœ‰ä¸€æ¡æäº¤è®°å½•ã€‚</p>
<hr>
<p><code>.travis.yml</code> éƒ¨åˆ†é…ç½®å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">after_script:</span><br><span class="line">  - cd .&#x2F;public</span><br><span class="line">  - git init</span><br><span class="line">  - git config user.name &quot;yourname&quot;</span><br><span class="line">  - git config user.email &quot;your email&quot;</span><br><span class="line">  - git add .</span><br><span class="line">  - git commit -m &quot;update&quot;</span><br><span class="line">  - git push --force --quiet &quot;https:&#x2F;&#x2F;$&#123;GH_TOKEN&#125;@$&#123;GH_REF&#125;&quot; master:master</span><br></pre></td></tr></table></figure>

<p>ä»”ç»†æŸ¥çœ‹ä¸Šé¢çš„é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬å‘ç°æ¯æ¬¡éƒ½æ˜¯å°† <code>public</code> ç›®å½•ä¸‹çš„æ–‡ä»¶é‡æ–°ç”Ÿæˆäº†ä¸€ä¸ªgité¡¹ç›®ï¼Œç„¶åå¼ºåˆ¶è¦†ç›–æäº¤åˆ°äº† <code>master</code> åˆ†æ”¯ä¸‹ï¼Œè¿™å°±æ˜¯é—®é¢˜çš„æ‰€åœ¨ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘å°†é…ç½®æ–‡ä»¶æ”¹ä¸ºäº†å¦‚ä¸‹çš„å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">after_script:</span><br><span class="line">    - git clone https:&#x2F;&#x2F;$&#123;GH_REF&#125; .deploy_git</span><br><span class="line">    - cd .deploy_git</span><br><span class="line">    - git checkout master</span><br><span class="line">    - cd ..&#x2F;</span><br><span class="line">    - mv .deploy_git&#x2F;.git&#x2F; .&#x2F;public&#x2F;</span><br><span class="line">    - cd .&#x2F;public</span><br><span class="line">    - git config user.name &quot;yourname&quot;</span><br><span class="line">    - git config user.email &quot;your email&quot;</span><br><span class="line">    - git add .</span><br><span class="line">    - git commit -m &quot;Travis CI Auto Builder&quot;</span><br><span class="line">    - git push --force --quiet &quot;https:&#x2F;&#x2F;$&#123;GH_TOKEN&#125;@$&#123;GH_REF&#125;&quot; master:master</span><br></pre></td></tr></table></figure>

<p>åœ¨ <code>after_script</code> éƒ¨åˆ†ï¼Œæˆ‘å…ˆå°†åšå®¢é¡¹ç›® <code>clone</code> åˆ°æœ¬åœ°çš„ <code>.deploy_git</code> ç›®å½•ä¸‹ï¼ˆç›®å½•åå¯è‡ªå®šä¹‰ï¼‰,ç„¶ååˆ‡æ¢åˆ° <code>master</code> åˆ†æ”¯ï¼Œå°† <code>master</code> åˆ†æ”¯ä¸‹çš„ <code>.git</code> ç›®å½•æ‹·è´åˆ°äº† <code>public</code> ç›®å½•ä¸‹ï¼Œæ¥ç€ç»§ç»­åé¢çš„ <code>commit</code> æ“ä½œã€‚</p>
<p>è¿™é‡Œç®—æ˜¯é‡‡ç”¨äº†ä¸€ç§ <code>æ¢ä½</code> çš„æ–¹å¼ã€‚ä¹‹å‰æˆ‘ä»¬é€šè¿‡gitç®¡ç†æ–‡ä»¶æ—¶å¹¶ä¸ä¼šæ”¹åŠ¨ <code>.git</code> ç›®å½•ï¼Œè€Œåªæ˜¯æ›´æ”¹æ–‡ä»¶ã€‚ä½†åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦æäº¤çš„æ˜¯ <code>public</code> ç›®å½•ä¸‹çš„æ–°æ–‡ä»¶ã€‚è¿™æ ·ï¼Œå°±ä¼šä¿ç•™ä¹‹å‰çš„æäº¤è®°å½•äº†ã€‚</p>
<hr>
<p>é™„ä¸Šæˆ‘åœ¨ä½¿ç”¨çš„é…ç½®æ–‡ä»¶å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">language: node_js # è®¾ç½®è¯­è¨€</span><br><span class="line"></span><br><span class="line">node_js: stable # è®¾ç½®ç›¸åº”ç‰ˆæœ¬</span><br><span class="line"></span><br><span class="line">cache:</span><br><span class="line">    apt: true</span><br><span class="line">    directories:</span><br><span class="line">        - node_modules # ç¼“å­˜ä¸ç»å¸¸æ›´æ”¹çš„å†…å®¹</span><br><span class="line"></span><br><span class="line">before_install:</span><br><span class="line">    - npm install hexo-cli -g</span><br><span class="line"></span><br><span class="line">install:</span><br><span class="line">    - npm install # å®‰è£…hexoåŠæ’ä»¶</span><br><span class="line"></span><br><span class="line">script:</span><br><span class="line">    - hexo clean # æ¸…é™¤</span><br><span class="line">    - hexo g # ç”Ÿæˆ</span><br><span class="line"></span><br><span class="line">after_script:</span><br><span class="line">    - git clone https:&#x2F;&#x2F;$&#123;GH_REF&#125; .deploy_git</span><br><span class="line">    - cd .deploy_git</span><br><span class="line">    - git checkout master</span><br><span class="line">    - cd ..&#x2F;</span><br><span class="line">    - mv .deploy_git&#x2F;.git&#x2F; .&#x2F;public&#x2F;</span><br><span class="line">    - cd .&#x2F;public</span><br><span class="line">    - git config user.name &quot;your name&quot;</span><br><span class="line">    - git config user.email &quot;your email&quot;</span><br><span class="line">    - git add .</span><br><span class="line">    - git commit -m &quot;Travis CI Auto Builder&quot;</span><br><span class="line">    - git push --force --quiet &quot;https:&#x2F;&#x2F;$&#123;GH_TOKEN&#125;@$&#123;GH_REF&#125;&quot; master:master</span><br><span class="line"></span><br><span class="line">branches:</span><br><span class="line">    only:</span><br><span class="line">        - hexo # åªç›‘æµ‹hexoåˆ†æ”¯</span><br><span class="line"></span><br><span class="line">env:</span><br><span class="line">    global:</span><br><span class="line">        - GH_REF: github.com&#x2F;yourname&#x2F;yourname.github.io.git #è®¾ç½®GH_REFï¼Œæ³¨æ„æ›´æ”¹æˆè‡ªå·±çš„ä»“åº“åœ°å€</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ä¸Šé¢é…ç½®æ–‡ä»¶ä¸­çš„æŸäº›å‚æ•°æ”¹ä¸ºè‡ªå·±çš„ã€‚</strong></p>
<hr>
<h5 id="é—®é¢˜å››ï¼šæ·»åŠ -commit-æ—¶é—´æˆ³"><a href="#é—®é¢˜å››ï¼šæ·»åŠ -commit-æ—¶é—´æˆ³" class="headerlink" title="é—®é¢˜å››ï¼šæ·»åŠ  commit æ—¶é—´æˆ³"></a>é—®é¢˜å››ï¼šæ·»åŠ  commit æ—¶é—´æˆ³</h5><blockquote>
<p>2017-8-23 11:25:34 Update:</p>
</blockquote>
<p>æŒ‰ç…§ä¸Šé¢çš„æ–¹æ³•é…ç½® <code>travis.yml</code> çš„å†…å®¹ï¼Œæˆ‘åœ¨ä¸€æ®µæ—¶é—´åå‘ç°åœ¨ <code>master</code> åˆ†æ”¯ä¸‹çš„æäº¤è®°å½•æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Travis CI Auto Builder</span><br><span class="line"></span><br><span class="line">Travis CI Auto Builder</span><br><span class="line"></span><br><span class="line">Travis CI Auto Builder</span><br><span class="line"></span><br><span class="line">....</span><br></pre></td></tr></table></figure>

<p>è€Œä¹‹å‰åœ¨ä½¿ç”¨ <code>hexo d</code> ç›´æ¥éƒ¨ç½²çš„æ—¶å€™çš„æäº¤è®°å½•æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Site updated: 2017-06-22 22:29:10</span><br><span class="line"></span><br><span class="line">Site updated: 2017-04-19 08:13:36</span><br><span class="line"></span><br><span class="line">Site updated: 2017-03-27 20:54:40</span><br><span class="line"></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>çœ‹åˆ°æ¯æ¬¡çš„æäº¤è®°å½•ä¸­æ²¡æœ‰æäº¤çš„æ—¶é—´æˆ³ï¼Œæ„Ÿè§‰ä¼¼ä¹ç¼ºå°‘äº†äº›ä»€ä¹ˆï¼Œæ‰€ä»¥è€ƒè™‘ç€è¦æŠŠ <code>commit</code> çš„æ—¶é—´æˆ³ç»™åŠ ä¸Šã€‚</p>
<p>é€šè¿‡æŸ¥çœ‹ <code>travis.yml</code> çš„æ–‡æ¡£ï¼Œå¹¶æ²¡æœ‰æ‰¾åˆ°å¦‚ä½•ç›´æ¥è·å–å½“å‰æ—¶é—´æˆ–è€…å’Œ <code>date</code> æœ‰å…³çš„æ–¹æ³•ï¼Œä½†æ˜¯ <code>script</code> å‘½ä»¤ä¸‹æ˜¯å¯ä»¥æ‰§è¡Œ <code>shell</code> å‘½ä»¤çš„ï¼Œæ‰€ä»¥å¯¹ <code>travis.yml</code> æ–‡ä»¶è¿›è¡Œäº†ä¿®æ”¹ã€‚</p>
<p>åœ¨ <code>shell</code> ä¸­è·å–å½“å‰çš„æ—¶é—´æˆ³ï¼Œå¯ä»¥è¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#&#x2F;bin&#x2F;bash</span><br><span class="line"></span><br><span class="line">&gt; date +&quot;%Y-%m-%d %H:%M&quot;</span><br><span class="line">2017-08-23 11:07</span><br></pre></td></tr></table></figure>

<hr>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå‘½ä»¤ä¸­è¦ä¸º <code>publish-to-gh-pages.sh</code> æ–‡ä»¶èµ‹äºˆ<strong>å¯æ‰§è¡Œ</strong>æƒé™ï¼Œå¦åˆ™ä¼šæŠ¥æ— æƒé™é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># travis-ci log</span><br><span class="line"></span><br><span class="line">$ .&#x2F;publish-to-gh-pages.sh</span><br><span class="line">&#x2F;home&#x2F;travis&#x2F;.travis&#x2F;job_stages: line 57: .&#x2F;publish-to-gh-pages.sh: Permission denied</span><br></pre></td></tr></table></figure>

<hr>
<p>å¦å¤–ï¼Œé€šè¿‡åœ¨æµ‹è¯•ä¸­å‘ç°ï¼ŒTravis CI ä¸­ä½¿ç”¨çš„linuxç³»ç»Ÿåœ¨ç¼–è¯‘ç”Ÿæˆæ—¶ä½¿ç”¨çš„æ˜¯UTCæ—¶é—´ï¼Œè¿™æ ·æˆ‘ä»¬åœ¨githubä¸­çš„æäº¤åˆ—è¡¨ä¸­çœ‹åˆ°çš„æäº¤æ—¶é—´å°±ä¼šæ™š8å°æ—¶ã€‚æˆ‘ä»¬éœ€è¦åœ¨æ‰§è¡Œæ—¶å°†æ—¶åŒºæ”¹ä¸ºä¸œå…«åŒºã€‚</p>
<p>è¿™é‡Œé€šè¿‡åœ¨ <code>.travis.yml</code> æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç è§£å†³ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">before_install:</span><br><span class="line">    - export TZ&#x3D;&#39;Asia&#x2F;Shanghai&#39;</span><br></pre></td></tr></table></figure>

<hr>
<p>ä¿®æ”¹åçš„ <code>.travis.yml</code> å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">language: node_js # è®¾ç½®è¯­è¨€</span><br><span class="line"></span><br><span class="line">node_js: stable # è®¾ç½®ç›¸åº”ç‰ˆæœ¬</span><br><span class="line"></span><br><span class="line">cache:</span><br><span class="line">    apt: true</span><br><span class="line">    directories:</span><br><span class="line">        - node_modules # ç¼“å­˜ä¸ç»å¸¸æ›´æ”¹çš„å†…å®¹</span><br><span class="line"></span><br><span class="line">before_install:</span><br><span class="line">    - export TZ&#x3D;&#39;Asia&#x2F;Shanghai&#39; # æ›´æ”¹æ—¶åŒº</span><br><span class="line">    - npm install hexo-cli -g</span><br><span class="line">    - chmod +x .&#x2F;publish-to-gh-pages.sh  # ä¸ºshellæ–‡ä»¶æ·»åŠ å¯æ‰§è¡Œæƒé™</span><br><span class="line"></span><br><span class="line">install:</span><br><span class="line">    - npm install # å®‰è£…hexoåŠæ’ä»¶</span><br><span class="line"></span><br><span class="line">script:</span><br><span class="line">    - hexo clean # æ¸…é™¤</span><br><span class="line">    - hexo g # ç”Ÿæˆ</span><br><span class="line"></span><br><span class="line">after_script:</span><br><span class="line">    - .&#x2F;publish-to-gh-pages.sh</span><br><span class="line"></span><br><span class="line">branches:</span><br><span class="line">    only:</span><br><span class="line">        - hexo # åªç›‘æµ‹hexoåˆ†æ”¯</span><br><span class="line"></span><br><span class="line">env:</span><br><span class="line">    global:</span><br><span class="line">        - GH_REF: github.com&#x2F;yourname&#x2F;yourname.github.io.git #è®¾ç½®GH_REFï¼Œæ³¨æ„æ›´æ”¹æˆè‡ªå·±çš„ä»“åº“åœ°å€</span><br></pre></td></tr></table></figure>

<p>å°† <code>after_script</code> æ®µä¸­çš„å‘½ä»¤ç§»åˆ°äº†å•ç‹¬çš„shellæ–‡ä»¶ä¸­ï¼š</p>
<p>æ–‡ä»¶ <code>publish-to-gh-pages.sh</code> å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">set -ev</span><br><span class="line"></span><br><span class="line">git clone https:&#x2F;&#x2F;$&#123;GH_REF&#125; .deploy_git</span><br><span class="line">cd .deploy_git</span><br><span class="line">git checkout master</span><br><span class="line"></span><br><span class="line">cd ..&#x2F;</span><br><span class="line">mv .deploy_git&#x2F;.git&#x2F; .&#x2F;public&#x2F;</span><br><span class="line"></span><br><span class="line">cd .&#x2F;public</span><br><span class="line"></span><br><span class="line">git config user.name  &quot;your name&quot;</span><br><span class="line">git config user.email &quot;your email&quot;</span><br><span class="line"></span><br><span class="line"># add commit timestamp</span><br><span class="line">git add .</span><br><span class="line">git commit -m &quot;Travis CI Auto Builder at &#96;date +&quot;%Y-%m-%d %H:%M&quot;&#96;&quot;</span><br><span class="line"></span><br><span class="line">git push --force --quiet &quot;https:&#x2F;&#x2F;$&#123;TravisCIToken&#125;@$&#123;GH_REF&#125;&quot; master:master</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ä¸Šé¢é…ç½®æ–‡ä»¶ä¸­çš„æŸäº›å‚æ•°æ”¹ä¸ºè‡ªå·±çš„ã€‚</strong></p>
<ul>
<li><a href="https://docs.travis-ci.com/user/customizing-the-build/" target="_blank" rel="noopener">Customizing the Build - Travis CI</a></li>
<li><a href="https://stackoverflow.com/questions/42154912/permission-denied-for-build-sh-file" target="_blank" rel="noopener">travis ci - Permission denied for build.sh file - Stack Overflow</a></li>
<li><a href="http://gohom.win/2015/06/07/bash-date-usage/" target="_blank" rel="noopener">Shellä¸­dateå‘½ä»¤ç”¨æ³• | Hom</a></li>
</ul>
<hr>
<h5 id="é—®é¢˜äº”ï¼šä½¿ç”¨-x-oauth-basic"><a href="#é—®é¢˜äº”ï¼šä½¿ç”¨-x-oauth-basic" class="headerlink" title="é—®é¢˜äº”ï¼šä½¿ç”¨ x-oauth-basic"></a>é—®é¢˜äº”ï¼šä½¿ç”¨ x-oauth-basic</h5><p>åœ¨ç½‘ä¸Šçœ‹åˆ°ä¸€ä½ç½‘å‹è§£å†³ â€œ<code>master commit</code> æ ‘è¢«æ¸…ç©ºâ€ çš„é—®é¢˜æ—¶é‡‡ç”¨äº†å¦å¤–ä¸€ç§æ–¹æ³•ï¼Œå³åœ¨ <code>after_script</code> éƒ¨åˆ†è°ƒç”¨æ‰§è¡Œ <code>hexo d</code> å‘½ä»¤æ¥å‘å¸ƒã€‚è¿™æ ·çš„æ–¹å¼é‡åˆ°çš„é—®é¢˜æ˜¯éœ€è¦è®¾ç½® <code>SSH Key</code> æˆ–è€…å¿…é¡»è·å¾—æƒé™æ‰èƒ½è¿›è¡Œ <code>push</code> æ“ä½œã€‚</p>
<p>æœ‰ä¸€ç§æˆæƒçš„æ–¹å¼æ˜¯é€šè¿‡httpsä½¿ç”¨OAuthéªŒè¯çš„æ–¹å¼å°†tokenæ·»åŠ åˆ°urlä¸­æ¥æäº¤ã€‚å³éœ€è¦æ›´æ”¹ <code>_config.yml</code> ä¸­çš„å¦‚ä¸‹éƒ¨åˆ†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">## Docs: https:&#x2F;&#x2F;hexo.io&#x2F;docs&#x2F;deployment.html</span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: git@github.com:Leafney&#x2F;Leafney.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>

<p>ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">## Docs: https:&#x2F;&#x2F;hexo.io&#x2F;docs&#x2F;deployment.html</span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: https:&#x2F;&#x2F;&lt;token&gt;:x-oauth-basic@github.com&#x2F;owner&#x2F;repo.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>

<p>è€Œè¿™æ ·ä¸€æ¥ token å°±æš´éœ²åœ¨é…ç½®æ–‡ä»¶ä¸­äº†ã€‚æ‰€ä»¥è¿˜éœ€è¦åœ¨æ“ä½œå‘½ä»¤ä¸­ä½¿ç”¨æ›¿æ¢çš„æ–¹å¼åªåœ¨è‡ªåŠ¨éƒ¨ç½²æ—¶æ›´æ”¹è¯¥tokenã€‚</p>
<p>è¿™é‡Œä»…åšä»‹ç»ï¼Œæ›´è¯¦ç»†å¯è®¿é—®ï¼š</p>
<ul>
<li><a href="https://blog.xingoxu.com/2016/12/use-travis-ci-your-blog/" target="_blank" rel="noopener">ä½¿ç”¨Travis Ciä½¿hexoè‡ªåŠ¨ç”Ÿæˆå¹¶éƒ¨ç½² | xingo&#39;s private plot</a></li>
<li><a href="https://github.com/blog/1270-easier-builds-and-deployments-using-git-over-https-and-oauth" target="_blank" rel="noopener">Easier builds and deployments using Git over HTTPS and OAuth Â· GitHub</a></li>
</ul>
<hr>
<h5 id="é—®é¢˜å…­ï¼šgit-branch-åˆ†æ”¯æ“ä½œç›¸å…³å‘½ä»¤"><a href="#é—®é¢˜å…­ï¼šgit-branch-åˆ†æ”¯æ“ä½œç›¸å…³å‘½ä»¤" class="headerlink" title="é—®é¢˜å…­ï¼šgit branch åˆ†æ”¯æ“ä½œç›¸å…³å‘½ä»¤"></a>é—®é¢˜å…­ï¼š<code>git branch</code> åˆ†æ”¯æ“ä½œç›¸å…³å‘½ä»¤</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æŸ¥çœ‹æœ¬åœ°æ‰€æœ‰åˆ†æ”¯(åˆ†ä¹‹åç§°å‰é¢å¸¦*è¡¨ç¤ºå½“å‰åˆ†æ”¯)</span><br><span class="line">&gt; git branch</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹è¿œç¨‹æ‰€æœ‰åˆ†æ”¯</span><br><span class="line">&gt; git branch -r</span><br><span class="line"></span><br><span class="line"># åˆ›å»ºåˆ†æ”¯ blog</span><br><span class="line">&gt; git branch blog</span><br><span class="line"></span><br><span class="line"># åˆ‡æ¢åˆ° blog åˆ†æ”¯</span><br><span class="line">&gt; git checkout blog</span><br><span class="line"></span><br><span class="line"># åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯</span><br><span class="line">&gt; git checkout -b blog</span><br><span class="line"></span><br><span class="line"># åˆ é™¤åˆ†æ”¯</span><br><span class="line">&gt; git branch -d blog</span><br><span class="line"></span><br><span class="line"># æäº¤æœ¬åœ°teståˆ†æ”¯ä½œä¸ºè¿œç¨‹çš„teståˆ†æ”¯</span><br><span class="line">&gt; git push origin test:test</span><br><span class="line"></span><br><span class="line"># åˆå¹¶åˆ†æ”¯(å°†åç§°ä¸º[blog]çš„åˆ†æ”¯ä¸å½“å‰åˆ†æ”¯åˆå¹¶)</span><br><span class="line">&gt; git merge blog</span><br><span class="line"></span><br><span class="line"># è·å–è¿œç¨‹æŒ‡å®šåˆ†æ”¯</span><br><span class="line">&gt; git pull origin blog</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="é—®é¢˜ä¸ƒï¼šåšå®¢ä»“åº“æºç "><a href="#é—®é¢˜ä¸ƒï¼šåšå®¢ä»“åº“æºç " class="headerlink" title="é—®é¢˜ä¸ƒï¼šåšå®¢ä»“åº“æºç "></a>é—®é¢˜ä¸ƒï¼šåšå®¢ä»“åº“æºç </h5><p>å¦‚æœæ²¡æœ‰è€å¿ƒæŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤ä¸€æ­¥æ­¥æ“ä½œçš„è¯ï¼Œå¯ä»¥ç›´æ¥æŸ¥çœ‹æˆ‘çš„åšå®¢ä»“åº“æºç ï¼š</p>
<ul>
<li><a href="https://github.com/Leafney/Leafney.github.io" target="_blank" rel="noopener">GitHub - Leafney/Leafney.github.io: blog</a></li>
</ul>
<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="http://www.jianshu.com/p/e22c13d85659" target="_blank" rel="noopener">æ‰‹æŠŠæ‰‹æ•™ä½ ä½¿ç”¨Travis CIè‡ªåŠ¨éƒ¨ç½²ä½ çš„Hexoåšå®¢åˆ°Githubä¸Š - ç®€ä¹¦</a></li>
<li><a href="http://www.jianshu.com/p/5e74046e7a0f" target="_blank" rel="noopener">ä½¿ç”¨ Travis CI è‡ªåŠ¨éƒ¨ç½² Hexo - ç®€ä¹¦</a></li>
<li><a href="http://zhzhou.me/2017/02/20/auto-deploy-hexo-on-travis-ci/" target="_blank" rel="noopener">ä½¿ç”¨ Travis-CI æ¥è‡ªåŠ¨åŒ–éƒ¨ç½² Hexo Â· ZHOU</a></li>
<li><a href="http://pinkyjie.com/2016/02/27/continuous-integration-with-travis-ci/" target="_blank" rel="noopener">ç”¨TravisCIæ¥åšæŒç»­é›†æˆ | è¿›å‡»çš„é©¬æ–¯ç‰¹</a></li>
<li><a href="https://docs.travis-ci.com/user/customizing-the-build/" target="_blank" rel="noopener">Customizing the Build - Travis CI</a></li>
</ul>
<hr>
<p>è¯¥æ–‡ç« åŒæ­¥å‘è¡¨åœ¨ï¼š</p>
<ul>
<li><a href="http://www.cnblogs.com/babycool/p/7326722.html" target="_blank" rel="noopener">ä½¿ç”¨Travis CIè‡ªåŠ¨éƒ¨ç½²Hexoåšå®¢ - é…·å°å­© - åšå®¢å›­</a></li>
<li><a href="http://www.itfanr.cc/2017/08/09/using-travis-ci-automatic-deploy-hexo-blogs/">ä½¿ç”¨Travis CIè‡ªåŠ¨éƒ¨ç½²Hexoåšå®¢ | ITèŒƒå„¿</a></li>
</ul>
]]></content>
      <categories>
        <category>Hexoåšå®¢æ­å»º</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Travis-CI</tag>
      </tags>
  </entry>
  <entry>
    <title>reload-changed-without-restart-for-golang-web-gin</title>
    <url>/2017/08/01/reload-changed-without-restart-for-golang-web-gin/</url>
    <content><![CDATA[<p>Gin is a HTTP web framework written in Go (Golang)ã€‚ä½†æ˜¯åœ¨è°ƒè¯•Giné¡¹ç›®æ—¶ï¼Œæ¯æ¬¡æ›´æ”¹äº†æ–‡ä»¶å†…å®¹åéƒ½éœ€è¦é‡æ–°è¿è¡Œ <code>go run main.go</code> å‘½ä»¤æ‰èƒ½çœ‹åˆ°æ›´æ”¹ã€‚é¡¹ç›® <code>codegangsta/gin</code> å’Œ <code>pilu/fresh</code> æ˜¯é€šè¿‡é‡‡ç”¨çƒ­æ›´æ–°çš„æ–¹å¼æ¥è°ƒè¯•Giné¡¹ç›®æ¨èåº¦è¾ƒé«˜çš„ä¸¤ä¸ªï¼Œä¸”çœ‹å“ªä¸ªåœ¨æ“ä½œä¸Šæ›´åŠ çš„æ–¹ä¾¿ã€‚</p>
<h4 id="gin"><a href="#gin" class="headerlink" title="gin"></a>gin</h4><h5 id="github-åœ°å€"><a href="#github-åœ°å€" class="headerlink" title="github åœ°å€"></a>github åœ°å€</h5><p><a href="https://github.com/codegangsta/gin" target="_blank" rel="noopener">GitHub - codegangsta/gin: Live reload utility for Go web servers</a></p>
<h5 id="ä¸‹è½½å¹¶å®‰è£…"><a href="#ä¸‹è½½å¹¶å®‰è£…" class="headerlink" title="ä¸‹è½½å¹¶å®‰è£…"></a>ä¸‹è½½å¹¶å®‰è£…</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">go get github.com&#x2F;codegangsta&#x2F;gin</span><br></pre></td></tr></table></figure>

<p>å°† <code>GOPATH/bin</code> ç›®å½•æ·»åŠ åˆ°ç³»ç»Ÿçš„ <code>PATH</code> ä¸­ã€‚</p>
<h5 id="é¡¹ç›®æµ‹è¯•"><a href="#é¡¹ç›®æµ‹è¯•" class="headerlink" title="é¡¹ç›®æµ‹è¯•"></a>é¡¹ç›®æµ‹è¯•</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package main</span><br><span class="line">import &quot;github.com&#x2F;gin-gonic&#x2F;gin&quot;</span><br><span class="line">func main() &#123;</span><br><span class="line">        r :&#x3D; gin.Default()</span><br><span class="line">        r.GET(&quot;&#x2F;&quot;, func(c *gin.Context) &#123;</span><br><span class="line">                c.String(200, &quot;hello world\n&quot;)</span><br><span class="line">        &#125;)</span><br><span class="line">        r.Run(&quot;:3001&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># è¿è¡Œ</span><br><span class="line">&gt; gin run main.go</span><br><span class="line"></span><br><span class="line"># æµè§ˆå™¨è®¿é—®</span><br><span class="line">http:&#x2F;&#x2F;localhost:3000</span><br></pre></td></tr></table></figure>

<h5 id="æ‰©å±•"><a href="#æ‰©å±•" class="headerlink" title="æ‰©å±•"></a>æ‰©å±•</h5><blockquote>
<p>å› ä¸ºé¡¹ç›® <code>codegangsta/gin</code> å’Œ <code>gin-gonic/gin</code> é‡åï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ç”¨ <code>Reload gin</code> ä»£æŒ‡ <code>codegangsta/gin</code>;ç”¨ <code>Web gin</code> ä»£æŒ‡ <code>gin-gonic/gin</code>ã€‚</p>
</blockquote>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>Reload gin</code>çš„é»˜è®¤ç›‘å¬ç«¯å£ä¸º <code>3000</code>,å†…éƒ¨å¯¼å‘çš„go webé¡¹ç›®ç«¯å£ä¸º <code>3001</code>ã€‚å¦‚æœé‡‡ç”¨ <code>Reload gin</code> çš„é»˜è®¤ç«¯å£ï¼Œåˆ™éœ€è¦å°† <code>Web gin</code> çš„ç›‘å¬ç«¯å£æ”¹ä¸º <code>3001</code>,å³ï¼š<code>r.Run(&quot;:3001&quot;)</code> ã€‚</p>
<p>å¦‚æœéœ€è¦è‡ªå®šä¹‰ç«¯å£ï¼Œé€šè¿‡ <code>gin -h</code> å¯ä»¥çœ‹åˆ° <code>Reload gin</code> çš„å¸¸ç”¨é…ç½®é¡¹ã€‚å…¶ä¸­:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">--port value, -p value        port for the proxy server (default: 3000)</span><br><span class="line">--appPort value, -a value     port for the Go web server (default: 3001)</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥åˆ†åˆ«æŒ‡å®šç›‘å¬ç«¯å£å’Œæ˜ å°„ç«¯å£ã€‚</p>
<p>ä¸è¿‡ï¼Œç»è¿‡æµ‹è¯•ï¼Œè‡ªå®šä¹‰ç«¯å£æ—¶æŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Î» gin run -p 8082 -a 8080 main.go</span><br><span class="line">Incorrect Usage: flag provided but not defined: -p</span><br><span class="line"></span><br><span class="line">NAME:</span><br><span class="line">   gin run - Run the gin proxy in the current working directory</span><br><span class="line"></span><br><span class="line">USAGE:</span><br><span class="line">   gin run [arguments...]</span><br></pre></td></tr></table></figure>

<p>å¥½åƒç›®å‰åªèƒ½ä½¿ç”¨é»˜è®¤çš„ <code>3000</code> å’Œ <code>3001</code> ç«¯å£ã€‚</p>
<hr>
<h4 id="fresh"><a href="#fresh" class="headerlink" title="fresh"></a>fresh</h4><h5 id="githubåœ°å€"><a href="#githubåœ°å€" class="headerlink" title="githubåœ°å€"></a>githubåœ°å€</h5><p><a href="https://github.com/pilu/fresh" target="_blank" rel="noopener">GitHub - pilu/fresh: Build and (re)start go web apps after saving/creating/deleting source files.</a></p>
<h5 id="ä¸‹è½½åŠå®‰è£…"><a href="#ä¸‹è½½åŠå®‰è£…" class="headerlink" title="ä¸‹è½½åŠå®‰è£…"></a>ä¸‹è½½åŠå®‰è£…</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">go get github.com&#x2F;pilu&#x2F;fresh</span><br></pre></td></tr></table></figure>

<p>å°† <code>GOPATH/bin</code> ç›®å½•æ·»åŠ åˆ°ç³»ç»Ÿçš„ <code>PATH</code> ä¸­ã€‚</p>
<h5 id="é¡¹ç›®æµ‹è¯•-1"><a href="#é¡¹ç›®æµ‹è¯•-1" class="headerlink" title="é¡¹ç›®æµ‹è¯•"></a>é¡¹ç›®æµ‹è¯•</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package main</span><br><span class="line">import &quot;github.com&#x2F;gin-gonic&#x2F;gin&quot;</span><br><span class="line">func main() &#123;</span><br><span class="line">        r :&#x3D; gin.Default()</span><br><span class="line">        r.GET(&quot;&#x2F;&quot;, func(c *gin.Context) &#123;</span><br><span class="line">                c.String(200, &quot;hello world\n&quot;)</span><br><span class="line">        &#125;)</span><br><span class="line">        r.Run(&quot;:8080&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># è¿›å…¥é¡¹ç›®æ‰€åœ¨ç›®å½•</span><br><span class="line">&gt; cd &#x2F;path&#x2F;to&#x2F;myapp</span><br><span class="line"></span><br><span class="line"># è¿è¡Œ</span><br><span class="line">&gt; fresh</span><br><span class="line"></span><br><span class="line"># æµè§ˆå™¨è®¿é—®</span><br><span class="line">http:&#x2F;&#x2F;localhost:8080</span><br></pre></td></tr></table></figure>

<h5 id="æ‰©å±•-1"><a href="#æ‰©å±•-1" class="headerlink" title="æ‰©å±•"></a>æ‰©å±•</h5><p>åŸé¡¹ç›®ä¸éœ€è¦åšä»»ä½•æ”¹åŠ¨ï¼Œåªéœ€è¦åœ¨åŸé¡¹ç›®çš„ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤ <code>fresh</code> å³å¯ã€‚</p>
<hr>
<p>ç»ä»¥ä¸Šæµ‹è¯•ï¼Œæ¨èä½¿ç”¨ <code>fresh</code> æ¥è¿è¡Œ <code>Gin</code> é¡¹ç›®ã€‚</p>
<hr>
<h4 id="ç›¸å…³é“¾æ¥"><a href="#ç›¸å…³é“¾æ¥" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h4><ul>
<li><a href="https://github.com/codegangsta/gin" target="_blank" rel="noopener">GitHub - codegangsta/gin: Live reload utility for Go web servers</a></li>
<li><a href="https://github.com/pilu/fresh" target="_blank" rel="noopener">GitHub - pilu/fresh: Build and (re)start go web apps after saving/creating/deleting source files.</a></li>
<li><a href="https://github.com/gin-gonic/gin" target="_blank" rel="noopener">GitHub - gin-gonic/gin: Gin is a HTTP web framework written in Go (Golang). It features a Martini-like API with much better performance â€“ up to 40 times faster. If you need smashing performance, get yourself some Gin.</a></li>
</ul>
]]></content>
      <categories>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>Golang</tag>
        <tag>Gin</tag>
      </tags>
  </entry>
  <entry>
    <title>Golangç½‘ç«™å¾®æ¡†æ¶Gin</title>
    <url>/2017/07/30/golang-web-framework-gin/</url>
    <content><![CDATA[<p>Gin is a web framework written in Golang.</p>
<h4 id="å®‰è£…-Gin"><a href="#å®‰è£…-Gin" class="headerlink" title="å®‰è£… Gin"></a>å®‰è£… Gin</h4><p>è·å–åŒ…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; go get github.com&#x2F;gin-gonic&#x2F;gin</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ å¼•ç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &quot;github.com&#x2F;gin-gonic&#x2F;gin&quot;</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Gin-web-å…¥é—¨"><a href="#Gin-web-å…¥é—¨" class="headerlink" title="Gin web å…¥é—¨"></a>Gin web å…¥é—¨</h4><h5 id="ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹"><a href="#ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹" class="headerlink" title="ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹"></a>ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;github.com&#x2F;gin-gonic&#x2F;gin&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	router :&#x3D; gin.Default()</span><br><span class="line"></span><br><span class="line">	router.GET(&quot;&#x2F;&quot;, func(c *gin.Context) &#123;</span><br><span class="line">		c.String(200, &quot;hello world!&quot;)</span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;http:&#x2F;&#x2F;localhost:8081  postdata: name&#x3D;tom</span><br><span class="line">	router.POST(&quot;&#x2F;&quot;, postHome)</span><br><span class="line"></span><br><span class="line">	router.Run(&quot;:8081&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func postHome(c *gin.Context) &#123;</span><br><span class="line">	uName :&#x3D; c.PostForm(&quot;name&quot;)</span><br><span class="line">	c.JSON(200, gin.H&#123;</span><br><span class="line">		&quot;say&quot;: &quot;Hello &quot; + uName,</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="è¯·æ±‚æ–¹æ³•åå¿…é¡»å…¨éƒ¨æ˜¯å¤§å†™å­—æ¯"><a href="#è¯·æ±‚æ–¹æ³•åå¿…é¡»å…¨éƒ¨æ˜¯å¤§å†™å­—æ¯" class="headerlink" title="è¯·æ±‚æ–¹æ³•åå¿…é¡»å…¨éƒ¨æ˜¯å¤§å†™å­—æ¯"></a>è¯·æ±‚æ–¹æ³•åå¿…é¡»å…¨éƒ¨æ˜¯å¤§å†™å­—æ¯</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">router.GET(&quot;&#x2F;someGet&quot;, getting)</span><br><span class="line">router.POST(&quot;&#x2F;somePost&quot;, posting)</span><br><span class="line">router.PUT(&quot;&#x2F;somePut&quot;, putting)</span><br><span class="line">router.DELETE(&quot;&#x2F;someDelete&quot;, deleting)</span><br><span class="line">router.PATCH(&quot;&#x2F;somePatch&quot;, patching)</span><br><span class="line">router.HEAD(&quot;&#x2F;someHead&quot;, head)</span><br><span class="line">router.OPTIONS(&quot;&#x2F;someOptions&quot;, options)</span><br></pre></td></tr></table></figure>

<h5 id="è·å–è·¯ç”±å‚æ•°"><a href="#è·å–è·¯ç”±å‚æ•°" class="headerlink" title="è·å–è·¯ç”±å‚æ•°"></a>è·å–è·¯ç”±å‚æ•°</h5><p>é€šè¿‡ <code>Context</code> çš„ <code>Param</code> æ–¹æ³•æ¥è·å–ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">&#x2F;&#x2F; http:&#x2F;&#x2F;localhost:8081&#x2F;user&#x2F;article&#x2F;tommy</span><br><span class="line">router.GET(&quot;&#x2F;user&#x2F;:type&#x2F;:name&quot;, getRouteStr)</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">func getRouteStr(c *gin.Context) &#123;</span><br><span class="line">	ctype :&#x3D; c.Param(&quot;type&quot;)</span><br><span class="line">	cname :&#x3D; c.Param(&quot;name&quot;)</span><br><span class="line">	c.JSON(200, gin.H&#123;</span><br><span class="line">		&quot;typeName&quot;: ctype,</span><br><span class="line">		&quot;username&quot;: cname,</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;result:</span><br><span class="line">&#123;</span><br><span class="line">    &quot;typeName&quot;: &quot;article&quot;,</span><br><span class="line">    &quot;username&quot;: &quot;tommy&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="è·å–urlå‚æ•°"><a href="#è·å–urlå‚æ•°" class="headerlink" title="è·å–urlå‚æ•°"></a>è·å–urlå‚æ•°</h5><p>é€šè¿‡ <code>DefaultQuery</code> æˆ– <code>Query</code> æ–¹æ³•è·å–ï¼š</p>
<ul>
<li><code>Query(&#39;xxx&#39;)</code> å¦‚æœæ²¡æœ‰ç›¸åº”å€¼ï¼Œé»˜è®¤ä¸ºç©ºå­—ç¬¦ä¸²</li>
<li><code>DefaultQuery(&quot;xxx&quot;,&quot;defaultValue&quot;)</code> å¯è®¾ç½®é»˜è®¤å€¼,stringç±»å‹</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">	router.GET(&quot;&#x2F;user&quot;, getQueryStrs)</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">func getQueryStrs(c *gin.Context) &#123;</span><br><span class="line">	name :&#x3D; c.Query(&quot;name&quot;)           &#x2F;&#x2F;å¦‚æœæ²¡æœ‰ç›¸åº”å€¼ï¼Œé»˜è®¤ä¸ºç©ºå­—ç¬¦ä¸²</span><br><span class="line">	age :&#x3D; c.DefaultQuery(&quot;age&quot;, &quot;0&quot;) &#x2F;&#x2F;å¯è®¾ç½®é»˜è®¤å€¼,stringç±»å‹</span><br><span class="line">	c.JSON(200, gin.H&#123;</span><br><span class="line">		&quot;name&quot;: name,</span><br><span class="line">		&quot;age&quot;:  age,</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;result:</span><br><span class="line">&#x2F;&#x2F;http:&#x2F;&#x2F;localhost:8081&#x2F;user?name&#x3D;tom&amp;age&#x3D;23</span><br><span class="line">&#123;</span><br><span class="line">    &quot;age&quot;: &quot;23&quot;,</span><br><span class="line">    &quot;name&quot;: &quot;tom&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;result2:</span><br><span class="line">&#x2F;&#x2F;http:&#x2F;&#x2F;localhost:8081&#x2F;user?name&#x3D;tom</span><br><span class="line">&#123;</span><br><span class="line">    &quot;age&quot;: &quot;0&quot;,</span><br><span class="line">    &quot;name&quot;: &quot;tom&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<p><code>c.Request.URL.Query()</code> å¯è·å–æ‰€æœ‰urlè¯·æ±‚å‚æ•° <code>map[]</code> é›†åˆï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">		&#x2F;&#x2F;è·å–æ‰€æœ‰urlè¯·æ±‚å‚æ•°</span><br><span class="line">		reqData :&#x3D; c.Request.URL.Query()</span><br><span class="line">		fmt.Printf(&quot;[info] req url data is %s\n&quot;, reqData)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;result:</span><br><span class="line">&#x2F;&#x2F;http:&#x2F;&#x2F;localhost:8080?id&#x3D;3&amp;name&#x3D;zhangsan&amp;address&#x3D;beijing</span><br><span class="line">[info] req url data is map[name:[zhangsan] address:[beijing] id:[3]]</span><br></pre></td></tr></table></figure>

<h5 id="è·å–è¡¨å•å‚æ•°"><a href="#è·å–è¡¨å•å‚æ•°" class="headerlink" title="è·å–è¡¨å•å‚æ•°"></a>è·å–è¡¨å•å‚æ•°</h5><p>è¡¨å•å‚æ•°é€šè¿‡ <code>PostForm</code> æˆ– <code>DefaultPostForm</code> æ–¹æ³•è·å–ï¼š</p>
<ul>
<li><code>PostForm()</code></li>
<li><code>DefaultPostForm(&quot;xxx&quot;,&quot;defaultValue&quot;)</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">	...</span><br><span class="line">	router.POST(&quot;&#x2F;&quot;, getFormStr)</span><br><span class="line">	...</span><br><span class="line"></span><br><span class="line">func getFormStr(c *gin.Context) &#123;</span><br><span class="line">	title :&#x3D; c.PostForm(&quot;title&quot;)</span><br><span class="line">	cont :&#x3D; c.DefaultPostForm(&quot;cont&quot;, &quot;æ²¡æœ‰å†…å®¹&quot;)</span><br><span class="line">	c.JSON(200, gin.H&#123;</span><br><span class="line">		&quot;title&quot;: title,</span><br><span class="line">		&quot;cont&quot;:  cont,</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;result:</span><br><span class="line">&#x2F;&#x2F;http:&#x2F;&#x2F;localhost:8081  postData: title:è¿™æ˜¯ä¸€ä¸ªæ ‡é¢˜</span><br><span class="line">&#123;</span><br><span class="line">    &quot;cont&quot;: &quot;æ²¡æœ‰å†…å®¹&quot;,</span><br><span class="line">    &quot;title&quot;: &quot;è¿™æ˜¯ä¸€ä¸ªæ ‡é¢˜&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<p><code>c.Request.Body</code> è·å–æ‰€æœ‰ <code>post body</code> æ•°æ®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">		&#x2F;&#x2F;è·å–post body</span><br><span class="line">		x, _ :&#x3D; ioutil.ReadAll(c.Request.Body)</span><br><span class="line">		fmt.Printf(&quot;[info] %s&quot;, string(x))</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;result:</span><br><span class="line">&#x2F;&#x2F; post body type :x-www-form-urlencoded (user&#x3D;tom pwd&#x3D;123)</span><br><span class="line">[info] user&#x3D;tom&amp;pwd&#x3D;123</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;result:</span><br><span class="line">&#x2F;&#x2F; post body type: raw application&#x2F;json</span><br><span class="line">[info] &#123;&quot;name&quot;:&quot;zhangfei&quot;,&quot;id&quot;:32&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://stackoverflow.com/questions/31911579/gin-golang-empty-req-body" target="_blank" rel="noopener">go - gin/golang - Empty Req Body - Stack Overflow</a></li>
<li><a href="https://github.com/gin-gonic/gin/issues/401" target="_blank" rel="noopener">Print Request Body empty Â· Issue #401 Â· gin-gonic/gin Â· GitHub</a></li>
</ul>
<hr>
<p>è·å–æ‰€æœ‰ <code>post data</code> æ•°æ® ï¼ˆ<code>map[]</code> ç±»å‹ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">		c.Request.ParseForm()</span><br><span class="line">		reqBodyData :&#x3D; c.Request.PostForm</span><br><span class="line">		fmt.Printf(&quot;[info] req body data is %s \n&quot;, reqBodyData)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;result:</span><br><span class="line">&#x2F;&#x2F; post body type :x-www-form-urlencoded (user&#x3D;tom pwd&#x3D;123)</span><br><span class="line">[info] req body data is map[user:[tom] pwd:[123]]</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://stackoverflow.com/questions/39984575/gin-gonic-array-of-values-from-postform" target="_blank" rel="noopener">go - Gin Gonic array of values from PostForm - Stack Overflow</a></li>
</ul>
<h5 id="è·¯ç”±ç¾¤ç»„"><a href="#è·¯ç”±ç¾¤ç»„" class="headerlink" title="è·¯ç”±ç¾¤ç»„"></a>è·¯ç”±ç¾¤ç»„</h5><p>æ”¯æŒ <code>ä¸€çº§</code> æˆ– <code>å¤šçº§</code> åˆ†ç»„çš„è·¯ç”±è§„åˆ™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">	...</span><br><span class="line">	&#x2F;&#x2F;è·¯ç”±åˆ†ç»„</span><br><span class="line">	articleGroup :&#x3D; router.Group(&quot;&#x2F;article&quot;)</span><br><span class="line">	&#123;</span><br><span class="line">		articleGroup.GET(&quot;&#x2F;one&#x2F;:id&quot;, getArticleByid)</span><br><span class="line">		articleGroup.GET(&quot;&#x2F;list&quot;, getArticleList)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;å¤šçº§è·¯ç”±åˆ†ç»„</span><br><span class="line">	apiGroup :&#x3D; router.Group(&quot;&#x2F;api&quot;)</span><br><span class="line">	apiv1Group :&#x3D; apiGroup.Group(&quot;&#x2F;v1&quot;)</span><br><span class="line">	&#123;</span><br><span class="line">		apiv1Group.GET(&quot;&#x2F;user&quot;, getApiV1User)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	apiv2Group :&#x3D; apiGroup.Group(&quot;&#x2F;v2&quot;)</span><br><span class="line">	&#123;</span><br><span class="line">		apiv2Group.GET(&quot;&#x2F;order&quot;, getApiV2Order)</span><br><span class="line">	&#125;</span><br><span class="line">	...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">func getArticleByid(c *gin.Context) &#123;</span><br><span class="line">	a_id :&#x3D; c.Param(&quot;id&quot;)</span><br><span class="line">	c.String(200, a_id)</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;result:</span><br><span class="line">&#x2F;&#x2F;http:&#x2F;&#x2F;localhost:8081&#x2F;article&#x2F;one&#x2F;3</span><br><span class="line">3</span><br><span class="line"></span><br><span class="line">func getArticleList(c *gin.Context) &#123;</span><br><span class="line">	c.JSON(200, gin.H&#123;</span><br><span class="line">		&quot;a&quot;: &quot;1&quot;,</span><br><span class="line">		&quot;b&quot;: &quot;2&quot;,</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;result:</span><br><span class="line">&#x2F;&#x2F;http:&#x2F;&#x2F;localhost:8081&#x2F;article&#x2F;list</span><br><span class="line">&#123;</span><br><span class="line">    &quot;a&quot;: &quot;1&quot;,</span><br><span class="line">    &quot;b&quot;: &quot;2&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func getApiV1User(c *gin.Context) &#123;</span><br><span class="line">	c.String(200, &quot;api&#x2F;v1&#x2F;user&quot;)</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;result:</span><br><span class="line">&#x2F;&#x2F;http:&#x2F;&#x2F;localhost:8081&#x2F;api&#x2F;v1&#x2F;user</span><br><span class="line">api&#x2F;v1&#x2F;user</span><br><span class="line"></span><br><span class="line">func getApiV2Order(c *gin.Context) &#123;</span><br><span class="line">	c.String(200, &quot;api&#x2F;v2&#x2F;order&quot;)</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;result:</span><br><span class="line">&#x2F;&#x2F;http:&#x2F;&#x2F;localhost:8081&#x2F;api&#x2F;v2&#x2F;order</span><br><span class="line">api&#x2F;v2&#x2F;order</span><br></pre></td></tr></table></figure>

<h5 id="æ•°æ®ç»‘å®š"><a href="#æ•°æ®ç»‘å®š" class="headerlink" title="æ•°æ®ç»‘å®š"></a>æ•°æ®ç»‘å®š</h5><ul>
<li><code>Bind()</code> </li>
<li><code>BindJSON()</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">	...</span><br><span class="line">	&#x2F;&#x2F;ç»‘å®šæ™®é€šè¡¨å• (user&#x3D;tom&amp;&amp;pwd&#x3D;123)</span><br><span class="line">	router.POST(&quot;&#x2F;loginform&quot;, func(c *gin.Context) &#123;</span><br><span class="line">		var form Login</span><br><span class="line">		if c.Bind(&amp;form) &#x3D;&#x3D; nil &#123;</span><br><span class="line">			if form.User &#x3D;&#x3D; &quot;tom&quot; &amp;&amp; form.Password &#x3D;&#x3D; &quot;123&quot; &#123;</span><br><span class="line">				c.JSON(200, gin.H&#123;&quot;status&quot;: &quot;form logined in&quot;&#125;)</span><br><span class="line">			&#125; else &#123;</span><br><span class="line">				c.JSON(201, gin.H&#123;&quot;status&quot;: &quot;form no login&quot;&#125;)</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;ç»‘å®šJSON (&#123;&quot;user&quot;:&quot;tom&quot;,&quot;pwd&quot;:&quot;123&quot;&#125;) Content-Type:application&#x2F;json</span><br><span class="line">	router.POST(&quot;&#x2F;loginjson&quot;, func(c *gin.Context) &#123;</span><br><span class="line">		var json Login</span><br><span class="line">		if c.BindJSON(&amp;json) &#x3D;&#x3D; nil &#123;</span><br><span class="line">			if json.User &#x3D;&#x3D; &quot;tom&quot; &amp;&amp; json.Password &#x3D;&#x3D; &quot;123&quot; &#123;</span><br><span class="line">				c.JSON(200, gin.H&#123;&quot;status&quot;: &quot;json logined in&quot;&#125;)</span><br><span class="line">			&#125; else &#123;</span><br><span class="line">				c.JSON(201, gin.H&#123;&quot;status&quot;: &quot;json no login&quot;&#125;)</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;)</span><br><span class="line">	...</span><br><span class="line"></span><br><span class="line">type Login struct &#123;</span><br><span class="line">	User     string &#96;form:&quot;user&quot; json:&quot;user&quot;&#96;</span><br><span class="line">	Password string &#96;form:&quot;pwd&quot; json:&quot;pwd&quot;&#96;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="POSTä¸Šä¼ æ–‡ä»¶"><a href="#POSTä¸Šä¼ æ–‡ä»¶" class="headerlink" title="POSTä¸Šä¼ æ–‡ä»¶"></a>POSTä¸Šä¼ æ–‡ä»¶</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">&#x2F;&#x2F;è¡¨å•ä¸Šä¼ æ–‡ä»¶  http:&#x2F;&#x2F;localhost:8081&#x2F;upload </span><br><span class="line">&#x2F;&#x2F; key:upload value: file....</span><br><span class="line">&#x2F;&#x2F;result:</span><br><span class="line">&#x2F;&#x2F;&#123;</span><br><span class="line">   &#x2F;&#x2F;&quot;filename&quot;: &quot;1009e3ee4bc0919e11d32e00ccf55cdf.jpg&quot;</span><br><span class="line">&#x2F;&#x2F;&#125;</span><br><span class="line"></span><br><span class="line">router.POST(&quot;&#x2F;upload&quot;, func(c *gin.Context) &#123;</span><br><span class="line">	_, header, _ :&#x3D; c.Request.FormFile(&quot;upload&quot;)</span><br><span class="line">	filename :&#x3D; header.Filename</span><br><span class="line">	c.JSON(200, gin.H&#123;</span><br><span class="line">		&quot;filename&quot;: filename,</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;)</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h5 id="æ ¹æ®å®¢æˆ·ç«¯çš„è¯·æ±‚ç±»å‹ï¼Œè¿”å›å¯¹åº”çš„å“åº”æ ¼å¼"><a href="#æ ¹æ®å®¢æˆ·ç«¯çš„è¯·æ±‚ç±»å‹ï¼Œè¿”å›å¯¹åº”çš„å“åº”æ ¼å¼" class="headerlink" title="æ ¹æ®å®¢æˆ·ç«¯çš„è¯·æ±‚ç±»å‹ï¼Œè¿”å›å¯¹åº”çš„å“åº”æ ¼å¼"></a>æ ¹æ®å®¢æˆ·ç«¯çš„è¯·æ±‚ç±»å‹ï¼Œè¿”å›å¯¹åº”çš„å“åº”æ ¼å¼</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">router.GET(&quot;&#x2F;getdata&quot;, func(c *gin.Context) &#123;</span><br><span class="line">	contentType :&#x3D; c.Request.Header.Get(&quot;Content-Type&quot;)</span><br><span class="line"></span><br><span class="line">	switch contentType &#123;</span><br><span class="line">	case &quot;application&#x2F;json&quot;:</span><br><span class="line">		c.JSON(200, gin.H&#123;&quot;user&quot;: &quot;å¼ é£&quot;, &quot;address&quot;: &quot;é•¿å‚å¡&quot;&#125;)</span><br><span class="line">	case &quot;application&#x2F;xml&quot;:</span><br><span class="line">		c.XML(200, gin.H&#123;&quot;user&quot;: &quot;å¼ é£&quot;, &quot;address&quot;: &quot;é•¿å‚å¡&quot;&#125;)</span><br><span class="line">	case &quot;application&#x2F;x-www-form-urlencoded&quot;:</span><br><span class="line">		c.String(200, &quot;å¼ é£ é•¿å‚å¡&quot;)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h5 id="å­—ç¬¦ä¸²å“åº”"><a href="#å­—ç¬¦ä¸²å“åº”" class="headerlink" title="å­—ç¬¦ä¸²å“åº”"></a>å­—ç¬¦ä¸²å“åº”</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &quot;net&#x2F;http&quot;</span><br><span class="line"></span><br><span class="line">c.String(200, &quot;some string&quot;)</span><br><span class="line">c.String(http.StatusOK, &quot;some string&quot;)</span><br></pre></td></tr></table></figure>

<h5 id="JSON-XML-YAMLç­‰æ ¼å¼å“åº”"><a href="#JSON-XML-YAMLç­‰æ ¼å¼å“åº”" class="headerlink" title="JSON/XML/YAMLç­‰æ ¼å¼å“åº”"></a>JSON/XML/YAMLç­‰æ ¼å¼å“åº”</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">c.JSON(http.StatusOK, msg)</span><br><span class="line">c.XML(http.StatusOK, msg)</span><br><span class="line">c.YAML(http.StatusOK, msg)</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h5 id="è§†å›¾å“åº”"><a href="#è§†å›¾å“åº”" class="headerlink" title="è§†å›¾å“åº”"></a>è§†å›¾å“åº”</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">	...</span><br><span class="line">	&#x2F;&#x2F;åŠ è½½æ¨¡æ¿</span><br><span class="line">	router.LoadHTMLGlob(&quot;templates&#x2F;*&quot;)</span><br><span class="line">	&#x2F;&#x2F; router.LoadHTMLFiles(&quot;templates&#x2F;index.html&quot;,&quot;templates&#x2F;article.html&quot;)</span><br><span class="line">	router.GET(&quot;&#x2F;&quot;, func(c *gin.Context) &#123;</span><br><span class="line">		&#x2F;&#x2F;æ ¹æ®å®Œæ•´æ–‡ä»¶åæ¸²æŸ“æ¨¡æ¿ï¼Œå¹¶ä¼ é€’å‚æ•°</span><br><span class="line">		c.HTML(200, &quot;index.html&quot;, gin.H&#123;</span><br><span class="line">			&quot;say&quot;: &quot;Hello World!&quot;,</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;)</span><br><span class="line">	...</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;index.html:</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;title&gt;&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;h3&gt;&#123;&#123; .say &#125;&#125;&lt;&#x2F;h3&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;result:</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;title&gt;&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;&#x2F;head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;h3&gt;Hello World!&lt;&#x2F;h3&gt;</span><br><span class="line">    &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h5 id="åŠ è½½å¤šå±‚æ¨¡æ¿è·¯å¾„"><a href="#åŠ è½½å¤šå±‚æ¨¡æ¿è·¯å¾„" class="headerlink" title="åŠ è½½å¤šå±‚æ¨¡æ¿è·¯å¾„"></a>åŠ è½½å¤šå±‚æ¨¡æ¿è·¯å¾„</h5><p>ç»æµ‹è¯•ï¼šå¦‚æœæ˜¯å¤šå±‚çº§çš„æ¨¡æ¿æ–‡ä»¶ï¼Œè¦åœ¨æ¨¡æ¿æ–‡ä»¶ä¸­ä½¿ç”¨  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;&#123;define xxx&#125;&#125; &#123;&#123;end&#125;&#125;</span><br></pre></td></tr></table></figure>
<p>å°†è¯¥æ¨¡æ¿ä½œä¸ºåµŒå¥—æ¨¡æ¿ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;åŠ è½½æ¨¡æ¿</span><br><span class="line">router.LoadHTMLGlob(&quot;templates&#x2F;**&#x2F;*&quot;)</span><br><span class="line">&#x2F;&#x2F; router.LoadHTMLFiles(&quot;templates&#x2F;index.html&quot;,&quot;templates&#x2F;article.html&quot;)</span><br><span class="line"></span><br><span class="line">router.GET(&quot;&#x2F;articles&#x2F;index&quot;, func(c *gin.Context) &#123;</span><br><span class="line">	&#x2F;&#x2F;æ ¹æ®å®Œæ•´æ–‡ä»¶åæ¸²æŸ“æ¨¡æ¿ï¼Œå¹¶ä¼ é€’å‚æ•°</span><br><span class="line">	c.HTML(200, &quot;articles&#x2F;index.html&quot;, gin.H&#123;</span><br><span class="line">		&quot;say&quot;: &quot;Article index!&quot;,</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">router.GET(&quot;&#x2F;users&#x2F;index&quot;, func(c *gin.Context) &#123;</span><br><span class="line">	c.HTML(200, &quot;&#x2F;users&#x2F;index.html&quot;, gin.H&#123;</span><br><span class="line">		&quot;say&quot;: &quot;User index!&quot;,</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>templates/articles/index.html:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;&#123;define &quot;articles&#x2F;index.html&quot;&#125;&#125;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;title&gt;&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;h3&gt;&#123;&#123; .say &#125;&#125;&lt;&#x2F;h3&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br><span class="line">&#123;&#123;end&#125;&#125;</span><br></pre></td></tr></table></figure>

<p>templates/users/index.html:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;&#123;define &quot;users&#x2F;index.html&quot;&#125;&#125;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;title&gt;&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;h3&gt;&#123;&#123; .say &#125;&#125;&lt;&#x2F;h3&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br><span class="line">&#123;&#123;end&#125;&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æä¾›é™æ€æ–‡ä»¶"><a href="#æä¾›é™æ€æ–‡ä»¶" class="headerlink" title="æä¾›é™æ€æ–‡ä»¶"></a>æä¾›é™æ€æ–‡ä»¶</h5><ul>
<li><code>Static()</code></li>
<li><code>StaticFS()</code></li>
<li><code>StatucFile()</code></li>
</ul>
<p>ç¤ºä¾‹:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func main() &#123;</span><br><span class="line">	router :&#x3D; gin.Default()</span><br><span class="line">	router.Static(&quot;&#x2F;assets&quot;, &quot;.&#x2F;assets&quot;)</span><br><span class="line">	router.StaticFS(&quot;&#x2F;more_static&quot;, http.Dir(&quot;my_file_system&quot;))</span><br><span class="line">	router.StaticFile(&quot;&#x2F;favicon.ico&quot;, &quot;.&#x2F;resources&#x2F;favicon.ico&quot;)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F; Listen and serve on 0.0.0.0:8080</span><br><span class="line">	router.Run(&quot;:8080&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¾…è¯¦ç»†ç ”ç©¶ã€‚</p>
<h5 id="é‡å®šå‘"><a href="#é‡å®šå‘" class="headerlink" title="é‡å®šå‘"></a>é‡å®šå‘</h5><p>æ”¯æŒ <code>å†…éƒ¨</code> å’Œ <code>å¤–éƒ¨</code> åœ°å€çš„é‡å®šå‘</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">&#x2F;&#x2F;è·³è½¬åˆ°å¤–éƒ¨åœ°å€</span><br><span class="line">router.GET(&quot;&#x2F;abc&quot;, func(c *gin.Context) &#123;</span><br><span class="line">	c.Redirect(302, &quot;http:&#x2F;&#x2F;www.baidu.com&quot;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;è·³è½¬åˆ°å†…éƒ¨åœ°å€</span><br><span class="line">router.GET(&quot;def&quot;, func(c *gin.Context) &#123;</span><br><span class="line">	c.Redirect(302, &quot;&#x2F;home&quot;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">router.GET(&quot;&#x2F;home&quot;, func(c *gin.Context) &#123;</span><br><span class="line">	c.String(200, &quot;home page&quot;)</span><br><span class="line">&#125;)</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h5 id="è‡ªå®šä¹‰ä¸­é—´ä»¶åŠä¸­é—´ä»¶çš„ä½¿ç”¨æ–¹å¼"><a href="#è‡ªå®šä¹‰ä¸­é—´ä»¶åŠä¸­é—´ä»¶çš„ä½¿ç”¨æ–¹å¼" class="headerlink" title="è‡ªå®šä¹‰ä¸­é—´ä»¶åŠä¸­é—´ä»¶çš„ä½¿ç”¨æ–¹å¼"></a>è‡ªå®šä¹‰ä¸­é—´ä»¶åŠä¸­é—´ä»¶çš„ä½¿ç”¨æ–¹å¼</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">	...</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	&#x2F;&#x2F; router :&#x3D; gin.Default()</span><br><span class="line"></span><br><span class="line">	router :&#x3D; gin.New()</span><br><span class="line">	&#x2F;&#x2F;å…¨å±€ä¸­é—´ä»¶</span><br><span class="line">	router.Use(MyLogger())</span><br><span class="line"></span><br><span class="line">	router.GET(&quot;&#x2F;test&quot;, func(c *gin.Context) &#123;</span><br><span class="line">		example :&#x3D; c.MustGet(&quot;example&quot;).(string)</span><br><span class="line">		c.String(200, example)</span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;å•è·¯ç”±ä¸­é—´ä»¶</span><br><span class="line">	router.GET(&quot;&#x2F;abc&quot;,MyMiddelware(),getAbc)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;ç¾¤ç»„è·¯ç”±ä¸­é—´ä»¶</span><br><span class="line">	aGroup:&#x3D;router.Group(&quot;&#x2F;&quot;,MyMiddelware())</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;ä¸­é—´ä»¶å¯ä»¥åŒæ—¶æ·»åŠ å¤šä¸ª</span><br><span class="line">	aGroup:&#x3D;router.Group(&quot;&#x2F;&quot;,MyMiddelware(),My2Middelware(),My3Middelware())</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;æˆ–è€…ï¼šç¾¤ç»„è·¯ç”±ä¸­é—´ä»¶</span><br><span class="line">	bGroup:&#x3D;router.Group(&quot;&#x2F;&quot;)</span><br><span class="line">	bGroup.Use(MyMiddelware())</span><br><span class="line">	&#123;</span><br><span class="line">		bGroup.GET(&quot;&#x2F;v1&quot;,getV1)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	router.Run(&quot;:8081&quot;)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func MyLogger() gin.HandlerFunc &#123;</span><br><span class="line">	return func(c *gin.Context) &#123;</span><br><span class="line">		c.Set(&quot;example&quot;, &quot;123465&quot;)</span><br><span class="line"></span><br><span class="line">		c.Next()</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="å¼‚æ­¥å¤„ç†"><a href="#å¼‚æ­¥å¤„ç†" class="headerlink" title="å¼‚æ­¥å¤„ç†"></a>å¼‚æ­¥å¤„ç†</h5><p><code>goroutine</code> ä¸­åªèƒ½ä½¿ç”¨åªè¯»çš„ä¸Šä¸‹æ–‡ <code>c.Copy()</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">&#x2F;&#x2F;å¼‚æ­¥</span><br><span class="line">router.GET(&quot;&#x2F;async&quot;, func(c *gin.Context) &#123;</span><br><span class="line">	&#x2F;&#x2F; goroutine ä¸­åªèƒ½ä½¿ç”¨åªè¯»çš„ä¸Šä¸‹æ–‡ c.Copy()</span><br><span class="line">	cCp :&#x3D; c.Copy()</span><br><span class="line">	go func() &#123;</span><br><span class="line">		time.Sleep(5 * time.Second)</span><br><span class="line">		&#x2F;&#x2F;éœ€è¦ä½¿ç”¨åªè¯»ä¸Šä¸‹æ–‡</span><br><span class="line">		log.Println(&quot;Done! in path &quot; + cCp.Request.URL.Path)</span><br><span class="line">	&#125;()</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;åŒæ­¥</span><br><span class="line">router.GET(&quot;&#x2F;sync&quot;, func(c *gin.Context) &#123;</span><br><span class="line">	time.Sleep(5 * time.Second)</span><br><span class="line">	&#x2F;&#x2F;å¯ä»¥ä½¿ç”¨åŸå§‹ä¸Šä¸‹æ–‡</span><br><span class="line">	log.Println(&quot;Done! in path &quot; + c.Request.URL.Path)</span><br><span class="line">&#125;)</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h5 id="åˆå§‹åŒ–ä¸å¸¦ä¸­é—´ä»¶å’Œå¸¦æœ‰é»˜è®¤ä¸­é—´ä»¶çš„è·¯ç”±"><a href="#åˆå§‹åŒ–ä¸å¸¦ä¸­é—´ä»¶å’Œå¸¦æœ‰é»˜è®¤ä¸­é—´ä»¶çš„è·¯ç”±" class="headerlink" title="åˆå§‹åŒ–ä¸å¸¦ä¸­é—´ä»¶å’Œå¸¦æœ‰é»˜è®¤ä¸­é—´ä»¶çš„è·¯ç”±"></a>åˆå§‹åŒ–ä¸å¸¦ä¸­é—´ä»¶å’Œå¸¦æœ‰é»˜è®¤ä¸­é—´ä»¶çš„è·¯ç”±</h5><ul>
<li><code>r := gin.New()</code> åˆ›å»ºä¸å¸¦ä¸­é—´ä»¶çš„è·¯ç”±</li>
<li><code>r := gin.Default()</code> åˆ›å»ºå¸¦æœ‰é»˜è®¤ä¸­é—´ä»¶çš„è·¯ç”±:æ—¥å¿—ä¸æ¢å¤ä¸­é—´ä»¶</li>
</ul>
<h5 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h5><ul>
<li><a href="http://www.grdtechs.com/2016/03/29/gin-setcookie/" target="_blank" rel="noopener">http://www.grdtechs.com/2016/03/29/gin-setcookie/</a></li>
</ul>
<hr>
<h4 id="å…¶ä»–ç¤ºä¾‹"><a href="#å…¶ä»–ç¤ºä¾‹" class="headerlink" title="å…¶ä»–ç¤ºä¾‹"></a>å…¶ä»–ç¤ºä¾‹</h4><h5 id="è·å–æ‰€æœ‰è¯·æ±‚å‚æ•°"><a href="#è·å–æ‰€æœ‰è¯·æ±‚å‚æ•°" class="headerlink" title="è·å–æ‰€æœ‰è¯·æ±‚å‚æ•°"></a>è·å–æ‰€æœ‰è¯·æ±‚å‚æ•°</h5><ul>
<li>è·å–æ‰€æœ‰URLè¯·æ±‚å‚æ•°</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">reqData :&#x3D; c.Request.URL.Query()</span><br><span class="line">fmt.Printf(&quot;[info] req url data is %s\n&quot;, reqData)</span><br></pre></td></tr></table></figure>

<ul>
<li>è·å–æ‰€æœ‰Bodyè¯·æ±‚å‚æ•°</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">c.Request.ParseForm()</span><br><span class="line">reqBodyData :&#x3D; c.Request.PostForm</span><br><span class="line">fmt.Printf(&quot;[info] req body data is %s \n&quot;, reqBodyData)</span><br></pre></td></tr></table></figure>

<h5 id="è·å–è¯·æ±‚å¤´ä¿¡æ¯"><a href="#è·å–è¯·æ±‚å¤´ä¿¡æ¯" class="headerlink" title="è·å–è¯·æ±‚å¤´ä¿¡æ¯"></a>è·å–è¯·æ±‚å¤´ä¿¡æ¯</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; è·å–è¯·æ±‚å¤´Headerä¸­çš„ key sign timestamp</span><br><span class="line">token :&#x3D; c.Request.Header.Get(&quot;X-Auth-Token&quot;)</span><br><span class="line">key :&#x3D; c.Request.Header.Get(&quot;X-Auth-Key&quot;)</span><br><span class="line">timestamp :&#x3D; c.Request.Header.Get(&quot;X-Auth-TimeStamp&quot;)</span><br><span class="line">fmt.Printf(&quot;[info] key is %s ,timestamp is %s\n&quot;, key, timestamp)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;è·å–Post putè¯·æ±‚æ¨¡å¼ä¸‹çš„Content-length</span><br><span class="line">conlength :&#x3D; c.Request.Header.Get(&quot;Content-Length&quot;)</span><br><span class="line">fmt.Printf(&quot;[info] Content-Length is %s\n&quot;, conlength)</span><br></pre></td></tr></table></figure>

<h5 id="è·å–è¯·æ±‚-Method-Host-URL-ContentLength"><a href="#è·å–è¯·æ±‚-Method-Host-URL-ContentLength" class="headerlink" title="è·å–è¯·æ±‚ Method Host URL ContentLength"></a>è·å–è¯·æ±‚ Method Host URL ContentLength</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;åˆ¤æ–­è¯·æ±‚Method</span><br><span class="line">&#x2F;&#x2F; GET POST PUT DELETE  OPTIONS</span><br><span class="line">fmt.Println(&quot;[info]&quot;, c.Request.Method)</span><br><span class="line">fmt.Println(&quot;[info]&quot;, c.Request.Host) &#x2F;&#x2F; localhost:8080</span><br><span class="line">fmt.Println(&quot;[info]&quot;, c.Request.URL) &#x2F;&#x2F;&#x2F;?id&#x3D;3&amp;name&#x3D;zhangsan&amp;address&#x3D;beijing</span><br><span class="line">&#x2F;&#x2F;è·å–è¯·æ±‚å¤´ä¸­æ•°æ®é•¿åº¦ ContentLength</span><br><span class="line">fmt.Println(&quot;[info]&quot;, c.Request.ContentLength) &#x2F;&#x2F; POST for 16  or  GET for 0</span><br></pre></td></tr></table></figure>

<h5 id="CORS-è·¨åŸŸè¯·æ±‚-æœªæµ‹è¯•"><a href="#CORS-è·¨åŸŸè¯·æ±‚-æœªæµ‹è¯•" class="headerlink" title="CORS è·¨åŸŸè¯·æ±‚   (æœªæµ‹è¯•)"></a>CORS è·¨åŸŸè¯·æ±‚   (æœªæµ‹è¯•)</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">  &#x2F;&#x2F; CORS middleware</span><br><span class="line">    g.Use(CORSMiddleware())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">func CORSMiddleware() gin.HandlerFunc &#123;</span><br><span class="line">    return func(c *gin.Context) &#123;</span><br><span class="line">        c.Writer.Header().Set(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;)</span><br><span class="line">        c.Writer.Header().Set(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type, Content-Length, Accept-Encoding, X-CSRF-Token, Authorization&quot;)</span><br><span class="line">        if c.Request.Method &#x3D;&#x3D; &quot;OPTIONS&quot; &#123;</span><br><span class="line">            c.Abort(200)</span><br><span class="line">            return</span><br><span class="line">        &#125;</span><br><span class="line">        c.Next()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><a href="https://github.com/gin-gonic/gin/issues/149" target="_blank" rel="noopener">Json not work Â· Issue #149 Â· gin-gonic/gin Â· GitHub</a></li>
</ul>
<h5 id="å®šä¹‰-struct-æ—¶ï¼Œå‚æ•°çš„é¦–å­—æ¯è¦å¤§å†™æ‰èƒ½è¢«è®¿é—®åˆ°"><a href="#å®šä¹‰-struct-æ—¶ï¼Œå‚æ•°çš„é¦–å­—æ¯è¦å¤§å†™æ‰èƒ½è¢«è®¿é—®åˆ°" class="headerlink" title="å®šä¹‰ struct æ—¶ï¼Œå‚æ•°çš„é¦–å­—æ¯è¦å¤§å†™æ‰èƒ½è¢«è®¿é—®åˆ°"></a>å®šä¹‰ struct æ—¶ï¼Œå‚æ•°çš„é¦–å­—æ¯è¦å¤§å†™æ‰èƒ½è¢«è®¿é—®åˆ°</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">type ReturnMsg struct &#123;</span><br><span class="line">	Code int         &#96;json:&quot;code&quot;&#96;</span><br><span class="line">	Msg  string      &#96;json:&quot;msg&quot;&#96;</span><br><span class="line">	Data interface&#123;&#125; &#96;json:&quot;data&quot;&#96;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://stackoverflow.com/questions/26327391/go-json-marshalstruct-returns" target="_blank" rel="noopener">Go json.Marshal(struct) returns &quot;{}&quot; - Stack Overflow</a></li>
</ul>
<h5 id="è¾“å‡ºä¸€ä¸ªstructå¯¹è±¡"><a href="#è¾“å‡ºä¸€ä¸ªstructå¯¹è±¡" class="headerlink" title="è¾“å‡ºä¸€ä¸ªstructå¯¹è±¡"></a>è¾“å‡ºä¸€ä¸ªstructå¯¹è±¡</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">	...</span><br><span class="line">	c.JSON(403, ReturnMsg&#123;Code: 1, Msg: &quot;req error&quot;&#125;)</span><br><span class="line">	...</span><br><span class="line"></span><br><span class="line">type ReturnMsg struct &#123;</span><br><span class="line">	Code int         &#96;json:&quot;code&quot;&#96;</span><br><span class="line">	Msg  string      &#96;json:&quot;msg&quot;&#96;</span><br><span class="line">	Data interface&#123;&#125; &#96;json:&quot;data&quot;&#96;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="ginä¸­é—´ä»¶é˜»æ­¢è¯·æ±‚ç»§ç»­è®¿é—®"><a href="#ginä¸­é—´ä»¶é˜»æ­¢è¯·æ±‚ç»§ç»­è®¿é—®" class="headerlink" title="ginä¸­é—´ä»¶é˜»æ­¢è¯·æ±‚ç»§ç»­è®¿é—®"></a>ginä¸­é—´ä»¶é˜»æ­¢è¯·æ±‚ç»§ç»­è®¿é—®</h5><p><code>c.Abort()</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">token :&#x3D; c.Request.Header.Get(&quot;X-Auth-Token&quot;)</span><br><span class="line">key :&#x3D; c.Request.Header.Get(&quot;X-Auth-Key&quot;)</span><br><span class="line">timestamp :&#x3D; c.Request.Header.Get(&quot;X-Auth-TimeStamp&quot;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;åˆ¤æ–­è¯·æ±‚å¤´ä¸­æ˜¯å¦å«æœ‰å¿…é¡»çš„ä¸‰ä¸ªå‚æ•°</span><br><span class="line">if token &#x3D;&#x3D; &quot;&quot; || key &#x3D;&#x3D; &quot;&quot; || timestamp &#x3D;&#x3D; &quot;&quot; &#123;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;ç»æµ‹è¯•ï¼Œc.Abort() åœ¨å‰åœ¨åå‡å¯</span><br><span class="line">	&#x2F;&#x2F; c.Abort()</span><br><span class="line">	&#x2F;&#x2F; c.JSON(403, ReturnMsg&#123;Code: 1, Msg: &quot;req error&quot;&#125;)</span><br><span class="line"></span><br><span class="line">	c.JSON(403, ReturnMsg&#123;Code: 1, Msg: &quot;req error&quot;&#125;)</span><br><span class="line">	c.Abort()</span><br><span class="line">	return &#x2F;&#x2F;ä¸€å®šè¦åŠ return</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">c.Next()</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://stackoverflow.com/questions/32467002/failed-to-abort-context-gin" target="_blank" rel="noopener">go - Failed to Abort() context - gin - Stack Overflow</a></li>
</ul>
<h5 id="ginå®‰è£…æŠ¥é”™"><a href="#ginå®‰è£…æŠ¥é”™" class="headerlink" title="ginå®‰è£…æŠ¥é”™"></a>ginå®‰è£…æŠ¥é”™</h5><p>å®‰è£… <code>gin</code> åŒ…æ—¶å¯èƒ½ä¼šæŠ¥ <code>x/net</code> ç›¸å…³é”™è¯¯ï¼Œå¯ä»¥å…ˆä¸‹è½½è¯¥å¿…é¡»åŒ…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ mkdir -p $GOPATH&#x2F;src&#x2F;golang.org&#x2F;x&#x2F;</span><br><span class="line"></span><br><span class="line">$ cd $GOPATH&#x2F;src&#x2F;golang.org&#x2F;x&#x2F;</span><br><span class="line"></span><br><span class="line">$ git clone https:&#x2F;&#x2F;github.com&#x2F;golang&#x2F;net.git net</span><br><span class="line"></span><br><span class="line">$ go install net</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="http://www.jianshu.com/p/371f627f4dda" target="_blank" rel="noopener">Gin å®‰è£…æŠ¥é”™ - ç®€ä¹¦</a></li>
</ul>
<hr>
<h4 id="golangä¸­ç›¸å…³æ˜“é”™ç‚¹"><a href="#golangä¸­ç›¸å…³æ˜“é”™ç‚¹" class="headerlink" title="golangä¸­ç›¸å…³æ˜“é”™ç‚¹"></a>golangä¸­ç›¸å…³æ˜“é”™ç‚¹</h4><h5 id="æ—¶é—´æˆ³è½¬æ¢"><a href="#æ—¶é—´æˆ³è½¬æ¢" class="headerlink" title="æ—¶é—´æˆ³è½¬æ¢"></a>æ—¶é—´æˆ³è½¬æ¢</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    &quot;fmt&quot;</span><br><span class="line">    &quot;time&quot;</span><br><span class="line">    &quot;strconv&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    i, err :&#x3D; strconv.ParseInt(&quot;1405544146&quot;, 10, 64)</span><br><span class="line">    if err !&#x3D; nil &#123;</span><br><span class="line">        panic(err)</span><br><span class="line">    &#125;</span><br><span class="line">    tm :&#x3D; time.Unix(i, 0)</span><br><span class="line">    fmt.Println(tm)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://stackoverflow.com/questions/24987131/how-to-parse-unix-timestamp-in-golang" target="_blank" rel="noopener">date - How to parse unix timestamp in golang - Stack Overflow</a></li>
</ul>
<hr>
<h5 id="ä»€ä¹ˆç±»å‹å¯ä»¥å£°æ˜ä¸ºå¸¸é‡åŠåœ¨funcå¤–éƒ¨å£°æ˜å˜é‡æ—¶ä¸èƒ½ä½¿ç”¨"><a href="#ä»€ä¹ˆç±»å‹å¯ä»¥å£°æ˜ä¸ºå¸¸é‡åŠåœ¨funcå¤–éƒ¨å£°æ˜å˜é‡æ—¶ä¸èƒ½ä½¿ç”¨" class="headerlink" title="ä»€ä¹ˆç±»å‹å¯ä»¥å£°æ˜ä¸ºå¸¸é‡åŠåœ¨funcå¤–éƒ¨å£°æ˜å˜é‡æ—¶ä¸èƒ½ä½¿ç”¨:="></a>ä»€ä¹ˆç±»å‹å¯ä»¥å£°æ˜ä¸ºå¸¸é‡åŠåœ¨funcå¤–éƒ¨å£°æ˜å˜é‡æ—¶ä¸èƒ½ä½¿ç”¨<code>:=</code></h5><p>æ•°å­—ç±»å‹ï¼Œå­—ç¬¦ä¸²æˆ–å¸ƒå°”ç±»å‹å¯ä»¥å£°æ˜ä¸º <code>const</code> å¸¸é‡ï¼›<code>array</code> ,<code>slice</code> æˆ– <code>map</code> ä¸èƒ½å£°æ˜ä¸ºå¸¸é‡ã€‚</p>
<p>mapç±»å‹ä¸èƒ½å£°æ˜ä¸ºå¸¸é‡:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const myString &#x3D; &quot;hello&quot;</span><br><span class="line">const pi &#x3D; 3.14 &#x2F;&#x2F; untyped constant</span><br><span class="line">const life int &#x3D; 42 &#x2F;&#x2F; typed constant (can use only with ints)</span><br><span class="line">const ( </span><br><span class="line">   First &#x3D; 1</span><br><span class="line">   Second &#x3D; 2</span><br><span class="line">   Third &#x3D; 4</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<hr>
<p>åœ¨å‡½æ•°funcå¤–éƒ¨å£°æ˜å˜é‡ï¼Œè¦ç”¨å®Œæ•´æ¨¡å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var romanNumeralDict &#x3D; map[int]string&#123;</span><br><span class="line">	1:&quot;a&quot;,</span><br><span class="line">	2:&quot;b&quot;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨å‡½æ•°funcå†…éƒ¨å£°æ˜å˜é‡ï¼Œå¯ä»¥ä½¿ç”¨ç¼©å†™æ¨¡å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">romanNumeralDict :&#x3D; map[int]string&#123;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://stackoverflow.com/questions/18342195/how-to-declare-constant-map-in-golang" target="_blank" rel="noopener">go - How to declare constant map in golang - Stack Overflow</a></li>
</ul>
<h5 id="åˆ¤æ–­mapä¸­æ˜¯å¦å­˜åœ¨æŸå€¼ï¼Œå¯ä»¥å†™åœ¨ä¸€è¡Œ"><a href="#åˆ¤æ–­mapä¸­æ˜¯å¦å­˜åœ¨æŸå€¼ï¼Œå¯ä»¥å†™åœ¨ä¸€è¡Œ" class="headerlink" title="åˆ¤æ–­mapä¸­æ˜¯å¦å­˜åœ¨æŸå€¼ï¼Œå¯ä»¥å†™åœ¨ä¸€è¡Œ"></a>åˆ¤æ–­mapä¸­æ˜¯å¦å­˜åœ¨æŸå€¼ï¼Œå¯ä»¥å†™åœ¨ä¸€è¡Œ</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; æŸ¥æ‰¾é”®å€¼æ˜¯å¦å­˜åœ¨</span><br><span class="line">if v, ok :&#x3D; m1[&quot;a&quot;]; ok &#123;</span><br><span class="line">	fmt.Println(v)</span><br><span class="line">&#125; else &#123;</span><br><span class="line">	fmt.Println(&quot;Key Not Found&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="mapæ’åº"><a href="#mapæ’åº" class="headerlink" title="mapæ’åº"></a>mapæ’åº</h5><p><code>map</code> æ˜¯æ— åºçš„:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;sort&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	&#x2F;&#x2F; fmt.Printf(&quot;Hello,æ˜¯æŒ‰æ­&quot;)</span><br><span class="line">	&#x2F;&#x2F; fmt.Printf(&quot;niå¥½å‘€&quot;)</span><br><span class="line"></span><br><span class="line">	m :&#x3D; map[string]string&#123;</span><br><span class="line">		&quot;sign&quot;:      &quot;1399dke&quot;,</span><br><span class="line">		&quot;user&quot;:      &quot;zhangsan&quot;,</span><br><span class="line">		&quot;timestamp&quot;: &quot;36644747373&quot;,</span><br><span class="line">		&quot;id&quot;:        &quot;3&quot;,</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(m)</span><br><span class="line">	var keys []string</span><br><span class="line">	for k :&#x3D; range m &#123;</span><br><span class="line">		&#x2F;&#x2F; fmt.Println(k)</span><br><span class="line">		keys &#x3D; append(keys, k)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	sort.Strings(keys)</span><br><span class="line">	&#x2F;&#x2F; fmt.Println(keys)</span><br><span class="line">	for _, k :&#x3D; range keys &#123;</span><br><span class="line">		fmt.Println(&quot;key:&quot;, k, &quot;Value :&quot;, m[k])</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://stackoverflow.com/questions/23330781/sort-golang-map-values-by-keys" target="_blank" rel="noopener">go - sort golang map values by keys - Stack Overflow</a></li>
</ul>
<hr>
<h5 id="for-range"><a href="#for-range" class="headerlink" title="for range"></a>for range</h5><p><code>for range</code> å¯ä»¥éå† <code>slice</code> æˆ– <code>map</code>ã€‚å¹¶é€šè¿‡ä¸¤ä¸ªå‚æ•°(indexå’Œvalue)ï¼Œåˆ†åˆ«è·å–åˆ°sliceæˆ–è€…mapä¸­æŸä¸ªå…ƒç´ æ‰€åœ¨çš„indexä»¥åŠå…¶å€¼ã€‚</p>
<p>åœ¨Goçš„ <code>forâ€¦range</code> å¾ªç¯ä¸­ï¼ŒGoå§‹ç»ˆä½¿ç”¨<strong>å€¼æ‹·è´</strong>çš„æ–¹å¼ä»£æ›¿è¢«éå†çš„å…ƒç´ æœ¬èº«ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">for index, value :&#x3D; range mySlice &#123;</span><br><span class="line">    fmt.Println(&quot;index: &quot; + index)</span><br><span class="line">    fmt.Println(&quot;value: &quot; + value)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="goè¯­è¨€stringã€intã€int64äº’ç›¸è½¬æ¢"><a href="#goè¯­è¨€stringã€intã€int64äº’ç›¸è½¬æ¢" class="headerlink" title="goè¯­è¨€stringã€intã€int64äº’ç›¸è½¬æ¢"></a>goè¯­è¨€stringã€intã€int64äº’ç›¸è½¬æ¢</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#stringåˆ°int</span><br><span class="line">int,err:&#x3D;strconv.Atoi(string)</span><br><span class="line">#stringåˆ°int64</span><br><span class="line">int64, err :&#x3D; strconv.ParseInt(string, 10, 64)</span><br><span class="line">#intåˆ°string</span><br><span class="line">string:&#x3D;strconv.Itoa(int)</span><br><span class="line">#int64åˆ°string</span><br><span class="line">string:&#x3D;strconv.FormatInt(int64,10)</span><br></pre></td></tr></table></figure>

<h5 id="http-Request"><a href="#http-Request" class="headerlink" title="http.Request"></a>http.Request</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func getURL(w http.ResponseWriter, r *http.Request) &#123;</span><br><span class="line">    url :&#x3D; r.URL.String()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://stackoverflow.com/questions/13896592/how-to-convert-url-url-to-string-in-go-google-app-engine" target="_blank" rel="noopener">How to convert *url.URL to string in GO, Google App Engine - Stack Overflow</a></li>
</ul>
<h5 id="ä¸­æ–‡-url-ç¼–ç é—®é¢˜"><a href="#ä¸­æ–‡-url-ç¼–ç é—®é¢˜" class="headerlink" title="ä¸­æ–‡ url ç¼–ç é—®é¢˜"></a>ä¸­æ–‡ url ç¼–ç é—®é¢˜</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &quot;net&#x2F;url&quot;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;urlç¼–ç </span><br><span class="line">    str :&#x3D; &quot;ä¸­æ–‡-_.&quot;</span><br><span class="line">    unstr :&#x3D; &quot;%2f&quot;</span><br><span class="line">    fmt.Printf(&quot;url.QueryEscape:%s&quot;, url.QueryEscape(str))</span><br><span class="line">    fmt.Println()</span><br><span class="line">    s, _ :&#x3D; url.QueryUnescape(unstr)</span><br><span class="line">    fmt.Printf(&quot;url.QueryUnescape:%s&quot;, s)</span><br><span class="line">    fmt.Println()</span><br></pre></td></tr></table></figure>

<p>go ä¸­urlç¼–ç å’Œå­—ç¬¦è½¬ç (ç±»ä¼¼phpä¸­çš„urlencode å’Œhtmlspecialchars):</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    &quot;fmt&quot;</span><br><span class="line">    &quot;html&quot;</span><br><span class="line">    &quot;net&#x2F;url&quot;</span><br><span class="line">    &quot;testing&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func Test_Escape(t *testing.T) &#123;</span><br><span class="line">&#x2F;&#x2F;urlç¼–ç </span><br><span class="line">    str :&#x3D; &quot;ä¸­æ–‡-_.&quot;</span><br><span class="line">    unstr :&#x3D; &quot;%2f&quot;</span><br><span class="line">    fmt.Printf(&quot;url.QueryEscape:%s&quot;, url.QueryEscape(str))</span><br><span class="line">    fmt.Println()</span><br><span class="line">    s, _ :&#x3D; url.QueryUnescape(unstr)</span><br><span class="line">    fmt.Printf(&quot;url.QueryUnescape:%s&quot;, s)</span><br><span class="line">    fmt.Println()</span><br><span class="line">&#x2F;&#x2F;å­—ç¬¦è½¬ç </span><br><span class="line">    hstr :&#x3D; &quot;&lt;&quot;</span><br><span class="line">    hunstr :&#x3D; &quot;&amp;lt&quot;</span><br><span class="line">    fmt.Printf(&quot;html.EscapeString:%s&quot;, html.EscapeString(hstr))</span><br><span class="line">    fmt.Println()</span><br><span class="line">    fmt.Printf(&quot;html.UnescapeString:%s&quot;, html.UnescapeString(hunstr))</span><br><span class="line">    fmt.Println()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="http://ouapi.com/article/55.html" target="_blank" rel="noopener">go ä¸­urlç¼–ç å’Œå­—ç¬¦è½¬ç (ç±»ä¼¼phpä¸­çš„urlencode å’Œhtmlspecialchars) - coolaf</a></li>
</ul>
<hr>
<h5 id="golangä¸­å­—ç¬¦ä¸²æ‹¼æ¥"><a href="#golangä¸­å­—ç¬¦ä¸²æ‹¼æ¥" class="headerlink" title="golangä¸­å­—ç¬¦ä¸²æ‹¼æ¥"></a>golangä¸­å­—ç¬¦ä¸²æ‹¼æ¥</h5><p>ä¸€ç§è¯´æ³•ï¼š</p>
<blockquote>
<p>å¦‚æœæ˜¯å°‘é‡å°æ–‡æœ¬æ‹¼æ¥ï¼Œç”¨ â€œ+â€ å°±å¥½<br>å¦‚æœæ˜¯å¤§é‡å°æ–‡æœ¬æ‹¼æ¥ï¼Œç”¨ strings.Join<br>å¦‚æœæ˜¯å¤§é‡å¤§æ–‡æœ¬æ‹¼æ¥ï¼Œç”¨ bytes.Buffer  </p>
</blockquote>
<ul>
<li><a href="https://gocn.io/question/265" target="_blank" rel="noopener">å­—ç¬¦ä¸²è¿æ¥å“ªä¸€ç§æ–¹å¼æœ€é«˜æ•ˆ - Go æŠ€æœ¯ç¤¾åŒº - golang</a></li>
<li><a href="http://studygolang.com/articles/3427" target="_blank" rel="noopener">golang é«˜æ•ˆå­—ç¬¦ä¸²æ‹¼æ¥  - Goè¯­è¨€ä¸­æ–‡ç½‘ - Golangä¸­æ–‡ç¤¾åŒº</a></li>
<li><a href="https://www.birdcat.cn/golang%E5%AD%A6%E4%B9%A0/go%E8%AF%AD%E8%A8%80%E4%B8%AD%E9%AB%98%E6%95%88%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5.html" target="_blank" rel="noopener">goè¯­è¨€ä¸­é«˜æ•ˆå­—ç¬¦ä¸²æ‹¼æ¥</a></li>
</ul>
<hr>
<h5 id="strings-åŒ…"><a href="#strings-åŒ…" class="headerlink" title="strings åŒ…"></a>strings åŒ…</h5><ul>
<li><a href="https://plumwine.me/programming-in-go-fmt-strings-package/" target="_blank" rel="noopener">Goè¯­è¨€å¼€å‘-å­—ç¬¦ä¸²-stringsåŒ… | Plum Wine Blog - é’æ¢…é…’åšå®¢</a></li>
</ul>
<h5 id="è·å–å­—ç¬¦ä¸²çš„MD5å€¼"><a href="#è·å–å­—ç¬¦ä¸²çš„MD5å€¼" class="headerlink" title="è·å–å­—ç¬¦ä¸²çš„MD5å€¼"></a>è·å–å­—ç¬¦ä¸²çš„MD5å€¼</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import (</span><br><span class="line">    &quot;crypto&#x2F;md5&quot;</span><br><span class="line">    &quot;encoding&#x2F;hex&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func GetMD5Hash(text string) string &#123;</span><br><span class="line">    hasher :&#x3D; md5.New()</span><br><span class="line">    hasher.Write([]byte(text))</span><br><span class="line">    return hex.EncodeToString(hasher.Sum(nil))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://gist.github.com/sergiotapia/8263278" target="_blank" rel="noopener">md5 example</a></li>
</ul>
<hr>
<h4 id="ç›¸å…³é“¾æ¥"><a href="#ç›¸å…³é“¾æ¥" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h4><ul>
<li><a href="https://github.com/gin-gonic/gin" target="_blank" rel="noopener">GitHub - gin-gonic/gin: Gin is a HTTP web framework written in Go (Golang). It features a Martini-like API with much better performance â€“ up to 40 times faster. If you need smashing performance, get yourself some Gin.</a></li>
<li><a href="https://gin-gonic.github.io/gin/" target="_blank" rel="noopener">Gin Web Framework</a></li>
<li><a href="https://github.com/ningskyer/gin-doc-cn/blob/master/README.md" target="_blank" rel="noopener">gin-doc-cn/README.md at master Â· ningskyer/gin-doc-cn Â· GitHub</a></li>
<li><a href="http://shanshanpt.github.io/2016/05/03/go-gin.html" target="_blank" rel="noopener">Goè¯­è¨€webæ¡†æ¶ gin | shanshanpt</a></li>
<li><a href="http://www.jianshu.com/p/371f627f4dda" target="_blank" rel="noopener">Gin å®‰è£…æŠ¥é”™ - ç®€ä¹¦</a></li>
<li><a href="https://semaphoreci.com/community/tutorials/building-go-web-applications-and-microservices-using-gin" target="_blank" rel="noopener">Building Go Web Applications and Microservices Using Gin - Semaphore</a></li>
<li><a href="http://blog.narenarya.in/build-rest-api-go-mysql.html" target="_blank" rel="noopener">Build a RESTful API Server with Golang and MySQL - Jinchuriki</a></li>
<li><a href="http://www.jianshu.com/p/a31e4ee25305" target="_blank" rel="noopener">Golang å¾®æ¡†æ¶ Gin ç®€ä»‹ - ç®€ä¹¦</a></li>
<li><a href="https://medium.com/@etiennerouzeaud/how-to-create-a-basic-restful-api-in-go-c8e032ba3181" target="_blank" rel="noopener">How to create a basic Restful API in Go â€“ Etienne Rouzeaud â€“ Medium</a></li>
<li><a href="https://sosedoff.com/2014/12/21/gin-middleware.html" target="_blank" rel="noopener">Gin middleware examples - Dan Sosedoff</a></li>
<li><a href="http://txt.fliglio.com/2014/07/restful-microservices-in-go-with-gin/" target="_blank" rel="noopener">REST Microservices in Go with Gin</a></li>
<li><a href="http://www.markhneedham.com/blog/2016/12/23/go-templating-with-the-gin-web-framework/" target="_blank" rel="noopener">Go: Templating with the Gin Web Framework</a></li>
</ul>
<hr>
<h4 id="ç›¸å…³é—®é¢˜"><a href="#ç›¸å…³é—®é¢˜" class="headerlink" title="ç›¸å…³é—®é¢˜"></a>ç›¸å…³é—®é¢˜</h4><ul>
<li>å…³äºæ•°æ®ç»‘å®š <a href="https://github.com/gin-gonic/gin/issues/742" target="_blank" rel="noopener">how to bind query string? Â· Issue #742 Â· gin-gonic/gin Â· GitHub</a></li>
<li>å…³äºæ¨¡æ¿æ–‡ä»¶ <a href="https://stackoverflow.com/questions/38042181/how-to-make-templates-work-with-gin-framework" target="_blank" rel="noopener">go - How to make templates work with gin framework? - Stack Overflow</a></li>
</ul>
]]></content>
      <categories>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>Golang</tag>
        <tag>Gin</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker-Ubuntu-Gogså…³äºä½¿ç”¨SSH</title>
    <url>/2017/07/21/docker-ubuntu-gogs-ssh/</url>
    <content><![CDATA[<p>è®°å½•åœ¨Dockerå®¹å™¨ä¸­è¿è¡ŒGogsæ—¶ï¼Œä½¿ç”¨SSHæ“ä½œé‡åˆ°çš„gitå¯†ç é—®é¢˜ã€‚</p>
<h4 id="SSH-key-passphrases"><a href="#SSH-key-passphrases" class="headerlink" title="SSH key passphrases"></a>SSH key passphrases</h4><p>åœ¨æœ¬åœ°ç”µè„‘ä¸Š(æˆ‘è¿™é‡Œæ˜¯Windowsç³»ç»Ÿ)åˆ›å»º <code>SSH key</code> æ—¶ï¼Œä¼šè¦æ±‚ä½ ä¸ºkeyè®¾ç½®ä¸€ä¸ªå¯†ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Î» ssh-keygen -t rsa -C &quot;xxxxx@qq.com&quot;</span><br><span class="line">Generating public&#x2F;private rsa key pair.</span><br><span class="line">Enter file in which to save the key (&#x2F;c&#x2F;Users&#x2F;You&#x2F;.ssh&#x2F;id_rsa):</span><br><span class="line">Enter passphrase (empty for no passphrase):</span><br><span class="line">Enter same passphrase again:</span><br><span class="line">Your identification has been saved in &#x2F;c&#x2F;Users&#x2F;You&#x2F;.ssh&#x2F;id_rsa.</span><br><span class="line">Your public key has been saved in &#x2F;c&#x2F;Users&#x2F;You&#x2F;.ssh&#x2F;id_rsa.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>å³å…¶ä¸­çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Enter passphrase (empty for no passphrase):</span><br><span class="line">Enter same passphrase again:</span><br></pre></td></tr></table></figure>

<p>ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬å¯ä»¥é€‰æ‹©ç›´æ¥å›è½¦å³ä¸è®¾ç½®å¯†ç ã€‚</p>
<p>å¦‚æœæ²¡æœ‰è®¾ç½®keyçš„å¯†ç ï¼Œæˆ‘ä»¬åœ¨é€šè¿‡SSHæäº¤ä»£ç æ—¶ï¼Œå¯ä»¥ç›´æ¥æ“ä½œã€‚å¦‚æœè®¾ç½®äº†keyçš„å¯†ç ï¼Œé‚£æˆ‘ä»¬åœ¨æ¯æ¬¡ <code>pull</code> æˆ– <code>push</code> æ—¶éƒ½ä¼šè¦æ±‚ä½ è¾“å…¥keyçš„å¯†ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git pull</span><br><span class="line">Enter passphrase for key &#39;&#x2F;c&#x2F;Users&#x2F;You&#x2F;.ssh&#x2F;id_rsa&#39;:</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Docker-Ubuntu-Gogså®¹å™¨ä½¿ç”¨SSHæäº¤æ—¶è¦æ±‚è¾“å…¥gitå¯†ç "><a href="#Docker-Ubuntu-Gogså®¹å™¨ä½¿ç”¨SSHæäº¤æ—¶è¦æ±‚è¾“å…¥gitå¯†ç " class="headerlink" title="Docker-Ubuntu-Gogså®¹å™¨ä½¿ç”¨SSHæäº¤æ—¶è¦æ±‚è¾“å…¥gitå¯†ç "></a>Docker-Ubuntu-Gogså®¹å™¨ä½¿ç”¨SSHæäº¤æ—¶è¦æ±‚è¾“å…¥gitå¯†ç </h4><p>åœ¨ä½¿ç”¨SSHè·å–æˆ–æäº¤ä»£ç æ—¶ï¼Œå¶å°”ä¼šé‡åˆ°è¦æ±‚è¾“å…¥ <code>git</code> å¯†ç çš„æƒ…å†µï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git clone ssh:&#x2F;&#x2F;git@gogit.itfanr.cc&#x2F;haha&#x2F;wohaha.git</span><br><span class="line">Cloning into &#39;wohaha&#39;...</span><br><span class="line">git@gogit.itfanr.cc&#39;s password:</span><br><span class="line">Permission denied, please try again.</span><br><span class="line">git@gogit.itfanr.cc&#39;s password:</span><br><span class="line">Permission denied, please try again.</span><br><span class="line">git@gogit.itfanr.cc&#39;s password:</span><br><span class="line">Permission denied (publickey,password).</span><br><span class="line">fatal: Could not read from remote repository.</span><br><span class="line"></span><br><span class="line">Please make sure you have the correct access rights</span><br><span class="line">and the repository exists.</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git pull</span><br><span class="line">git@gogit.itfanr.cc&#39;s password:</span><br><span class="line">Permission denied, please try again.</span><br><span class="line">git@gogit.itfanr.cc&#39;s password:</span><br><span class="line">Permission denied, please try again.</span><br><span class="line">git@gogit.itfanr.cc&#39;s password:</span><br><span class="line">fatal: Could not read from remote repository.</span><br><span class="line"></span><br><span class="line">Please make sure you have the correct access rights</span><br><span class="line">and the repository exists.</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯æˆ‘ä»¬é€šè¿‡Dockeråˆ›å»ºçš„gogså®¹å™¨ä¸­ï¼Œå¹¶æ²¡æœ‰ä¸ºgitè´¦æˆ·è®¾ç½®å¯†ç ï¼Œæ‰€ä»¥è¿™é‡Œæ— è®ºè¾“å…¥ä»€ä¹ˆéƒ½æ˜¯é”™è¯¯çš„ã€‚</p>
<p>é€šè¿‡æŸ¥çœ‹ <a href="https://github.com/gogits/gogs/issues" target="_blank" rel="noopener">Issues Â· gogits/gogs Â· GitHub</a> ä¸­ç›¸å…³çš„ <code>issues</code> å¯ä»¥äº†è§£åˆ°ï¼Œä½†å‡¡æ˜¯è¦æ±‚è¾“å…¥gitå¯†ç çš„é—®é¢˜ï¼Œåæœ‰å…«ä¹æ˜¯ <strong>å…³äº <code>.ssh/authorize_keys</code> æ–‡ä»¶çš„æƒé™</strong> é—®é¢˜ã€‚</p>
<p>gogsçš„æ–‡æ¡£ä¸­è¦æ±‚ï¼š</p>
<ul>
<li><code>.ssh/</code> ç›®å½•æƒé™ä¸º <code>0700</code></li>
<li><code>.ssh/authorize_keys</code> æ–‡ä»¶çš„æƒé™ä¸º <code>0600</code></li>
</ul>
<p>ç›¸å…³çš„æ“ä½œå‘½ä»¤ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ chmod 0700 &#x2F;home&#x2F;git&#x2F;.ssh</span><br><span class="line">$ chmod 0600 &#x2F;home&#x2F;git&#x2F;.ssh&#x2F;*</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h5><p>ç™»é™†gogsç«™ç‚¹çš„ç®¡ç†å‘˜è´¦æˆ·ï¼Œé€‰æ‹© <code>ç®¡ç†é¢æ¿</code> è®¿é—® <code>/admin</code> é¡µé¢ã€‚åœ¨ <code>ç®¡ç†å‘˜æ“ä½œ</code> åŒºåŸŸé€‰æ‹© <code>é‡æ–°ç”Ÿæˆ &#39;.ssh/authorized_keys&#39; æ–‡ä»¶ï¼ˆè­¦å‘Šï¼šä¸æ˜¯ Gogs çš„å¯†é’¥ä¹Ÿä¼šè¢«åˆ é™¤ï¼‰</code> ç‚¹å‡» <code>æ‰§è¡Œ</code> æŒ‰é’®ã€‚</p>
<p>ç„¶åå†æ¬¡å°è¯•çœ‹æ˜¯å¦èƒ½å¤ŸæˆåŠŸæ“ä½œã€‚</p>
<h5 id="æ–¹æ³•äºŒ"><a href="#æ–¹æ³•äºŒ" class="headerlink" title="æ–¹æ³•äºŒ"></a>æ–¹æ³•äºŒ</h5><p>å¦‚æœ <code>æ–¹æ³•ä¸€</code> çš„æ“ä½œæ— æ•ˆï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦ç™»é™†è¯¥gogså®¹å™¨æ‰€åœ¨çš„æœåŠ¡å™¨æ¥è¿›å…¥å¦‚ä¸‹æ“ä½œï¼š</p>
<ol>
<li>è¿›å…¥è¯¥gogså®¹å™¨ï¼Œç„¶ååˆ é™¤ <code>.ssh/authorized_keys</code> æ–‡ä»¶ ã€‚</li>
<li>é‡å¤æ–¹æ³•ä¸€çš„æ“ä½œï¼šç™»é™†ç®¡ç†å‘˜è´¦æˆ·ï¼Œé€‰æ‹© <code>ç®¡ç†é¢æ¿</code> â€“ <code>ç®¡ç†å‘˜æ“ä½œ</code> â€“ ç‚¹å‡» <code>é‡æ–°ç”Ÿæˆ &#39;.ssh/authorized_keys&#39; æ–‡ä»¶ï¼ˆè­¦å‘Šï¼šä¸æ˜¯ Gogs çš„å¯†é’¥ä¹Ÿä¼šè¢«åˆ é™¤ï¼‰</code> åçš„ <code>æ‰§è¡Œ</code> æŒ‰é’®ã€‚</li>
</ol>
<p>ç„¶åå†æ¬¡å°è¯•çœ‹æ˜¯å¦èƒ½å¤ŸæˆåŠŸæ“ä½œã€‚</p>
<p>æˆ‘çš„æ“ä½œè®°å½•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ docker exec -it gogs &#x2F;bin&#x2F;bash</span><br><span class="line">root@564c5628c7e9:&#x2F;home&#x2F;git&#x2F;gogs# cd ..</span><br><span class="line">root@564c5628c7e9:&#x2F;home&#x2F;git# cd .ssh&#x2F;</span><br><span class="line">root@564c5628c7e9:&#x2F;home&#x2F;git&#x2F;.ssh# ls</span><br><span class="line">authorized_keys</span><br><span class="line">root@564c5628c7e9:&#x2F;home&#x2F;git&#x2F;.ssh# rm authorized_keys </span><br><span class="line">root@564c5628c7e9:&#x2F;home&#x2F;git&#x2F;.ssh# ls</span><br><span class="line"></span><br><span class="line"># æ­¤æ—¶åœ¨ç®¡ç†åå°é‡æ–°ç”Ÿæˆ authorized_keys</span><br><span class="line">root@564c5628c7e9:&#x2F;home&#x2F;git&#x2F;.ssh# ls</span><br><span class="line">authorized_keys</span><br><span class="line">root@564c5628c7e9:&#x2F;home&#x2F;git&#x2F;.ssh# ls -al</span><br><span class="line">total 12</span><br><span class="line">drwx------ 2 git git 4096 Jul 21 14:20 .</span><br><span class="line">drwxr-xr-x 6 git git 4096 Jul 21 11:32 ..</span><br><span class="line">-rw------- 1 git git  549 Jul 21 14:20 authorized_keys</span><br></pre></td></tr></table></figure>

<hr>
<p>æˆ‘åœ¨ <code>git push</code> æ—¶é‡åˆ°è¦æ±‚è¾“å…¥gitå¯†ç çš„é—®é¢˜æ—¶ï¼Œå…ˆå°† <code>authorized_keys</code> æ–‡ä»¶åˆ é™¤ï¼Œç„¶åé‡æ–°ç”Ÿæˆï¼Œè¿™æ ·æ“ä½œåå°±èƒ½æ­£å¸¸è·å–å’Œæäº¤äº†ã€‚</p>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="https://github.com/gogits/gogs/issues/545" target="_blank" rel="noopener">ssh çš„é“¾æ¥åœ°å€ä¸å¯ä»¥ä½¿ç”¨ Â· Issue #545 Â· gogits/gogs Â· GitHub</a></li>
</ul>
]]></content>
      <categories>
        <category>Ubuntu-Gogs</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>Gogs</tag>
      </tags>
  </entry>
  <entry>
    <title>Golangè¿æ¥MongoDBæ•°æ®åº“</title>
    <url>/2017/06/28/golang-connect-to-mongodb/</url>
    <content><![CDATA[<p>ç›®å‰goæ”¯æŒMongoDBæœ€å¥½çš„é©±åŠ¨å°±æ˜¯mgoã€‚</p>
<h4 id="ä¸‹è½½ä¸å¼•ç”¨"><a href="#ä¸‹è½½ä¸å¼•ç”¨" class="headerlink" title="ä¸‹è½½ä¸å¼•ç”¨"></a>ä¸‹è½½ä¸å¼•ç”¨</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">go get gopkg.in&#x2F;mgo.v2</span><br><span class="line"></span><br><span class="line">import &quot;gopkg.in&#x2F;mgo.v2&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">go get labix.org&#x2F;v2&#x2F;mgo</span><br><span class="line"></span><br><span class="line">import &quot;labix.org&#x2F;v2&#x2F;mgo&quot;</span><br></pre></td></tr></table></figure>

<p>å®‰è£…æ—¶å‘ç°ï¼Œåœ°å€ <code>labix.org/v2/mgo</code> ä¸­çš„mgoç‰ˆæœ¬ä¸­æœ‰äº›æ–¹æ³•ä¸å…¨ï¼Œè€Œåœ°å€ <code>gopkg.in/mgo.v2</code>ä¸­çš„æ–¹æ³•æ˜¯å…¨çš„ï¼Œä½†æ˜¯è¯¥åœ°å€ä¸‹è½½è¶…æ—¶è€Œå¤±è´¥ï¼Œå¿…é¡»ç¿»å¢™æ‰å¯ä»¥è®¿é—®ã€‚<br>å¦‚ <code>labix.org/v2/mgo</code> ä¸­å°±æ²¡æœ‰ <code>mongo, err := mgo.ParseURL(MongoDBUrl)</code> çš„ <code>ParseURL()</code> æ–¹æ³•ã€‚</p>
<p>å¦‚æœæ— æ³•ç¿»å¢™ï¼Œè¿˜å¯ä»¥ä» github ä¸‹è½½ï¼š</p>
<p>å› ä¸ºæˆ‘ä»¬è¦ä½¿ç”¨ mgo çš„ <code>v2</code> ç‰ˆæœ¬ï¼Œæ‰€ä»¥éœ€è¦è¿å‡º <code>branch:v2</code> åˆ†æ”¯ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨ <code>master</code> åˆ†æ”¯ã€‚</p>
<p>åœ¨ <code>go get</code> å‘½ä»¤åæ·»åŠ  <code>-d</code> å‚æ•°å¯ä»¥åªä¸‹è½½è€Œä¸ä¼šæ‰§è¡Œå®‰è£…å‘½ä»¤ã€‚</p>
<p>æ“ä½œæ­¥éª¤ä¸ºï¼š</p>
<ol>
<li>æ‰§è¡Œå‘½ä»¤ <code>go get -d github.com/go-mgo/mgo</code></li>
<li>æ‰¾åˆ°ä¸Šé¢ <code>clone</code> çš„ç›®å½•ï¼Œè¿å‡ºåˆ†æ”¯ <code>v2</code></li>
<li>å†æ¬¡è¿è¡Œ <code>go get</code> å‘½ä»¤ï¼Œè¿™æ—¶ä¼šåœ¨è¿å‡ºçš„åˆ†æ”¯ä¸Šæ‰§è¡Œå‘½ä»¤</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">go get -d github.com&#x2F;go-mgo&#x2F;mgo</span><br><span class="line"></span><br><span class="line">git checkout v2</span><br><span class="line"></span><br><span class="line">go get github.com&#x2F;go-mgo&#x2F;mgo</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="http://labix.org/mgo" target="_blank" rel="noopener">mgo - Rich MongoDB driver for Go</a></li>
<li><a href="http://gopkg.in/mgo.v2" target="_blank" rel="noopener">mgo.v2 - gopkg.in/mgo.v2</a></li>
<li><a href="https://stackoverflow.com/questions/30188499/how-to-do-go-get-on-a-specific-tag-of-a-github-repository" target="_blank" rel="noopener">git - How to do &quot;go get&quot; on a specific tag of a github repository - Stack Overflow</a></li>
</ul>
<hr>
<h4 id="å®‰è£…bzrå·¥å…·"><a href="#å®‰è£…bzrå·¥å…·" class="headerlink" title="å®‰è£…bzrå·¥å…·"></a>å®‰è£…bzrå·¥å…·</h4><p>Bazaaræ˜¯ä¸€æ¬¾å¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶å·¥å…·ã€‚</p>
<p>å®‰è£…mgoä¹‹å‰ï¼Œéœ€è¦å…ˆå®‰è£… bzr å·¥å…·ï¼Œå¦åˆ™ç›´æ¥æ‰§è¡Œæˆ–æŠ¥é”™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; go get labix.org&#x2F;v2&#x2F;mgo</span><br><span class="line">go: missing Bazaar command. See https:&#x2F;&#x2F;golang.org&#x2F;s&#x2F;gogetcmd</span><br><span class="line">package labix.org&#x2F;v2&#x2F;mgo: exec: &quot;bzr&quot;: executable file not found in %PATH%</span><br></pre></td></tr></table></figure>

<h5 id="Win"><a href="#Win" class="headerlink" title="Win"></a>Win</h5><p>ä»ç½‘å€ <code>http://bazaar.canonical.com/en/</code> ä¸‹è½½å®‰è£…åŒ…ï¼Œé€‰æ‹© <code>Standalone</code>ç‰ˆæœ¬æˆ–å…¶ä»–ç‰ˆæœ¬ã€‚</p>
<h5 id="Ubuntu"><a href="#Ubuntu" class="headerlink" title="Ubuntu"></a>Ubuntu</h5><blockquote>
<p>sudo apt-get install bzr</p>
</blockquote>
<ul>
<li><a href="http://fpliu-blog.chinacloudsites.cn/it/software/Bazaar" target="_blank" rel="noopener">å¤šå¹³å°ç³»ç»Ÿä¸‹å¦‚ä½•å®‰è£…Bazzarå·¥å…·</a></li>
</ul>
<hr>
<h4 id="è¿æ¥å­—ç¬¦ä¸²"><a href="#è¿æ¥å­—ç¬¦ä¸²" class="headerlink" title="è¿æ¥å­—ç¬¦ä¸²"></a>è¿æ¥å­—ç¬¦ä¸²</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MONGODB_URL&#x3D;&quot;mongodb:&#x2F;&#x2F;user:pass@server.compose.io&#x2F;db_name&quot;</span><br><span class="line"></span><br><span class="line">mongodb:&#x2F;&#x2F;localhost:27017&#x2F;articles_demo_dev</span><br><span class="line">mongodb:&#x2F;&#x2F;myuser:mypass@localhost:40001,otherhost:40001&#x2F;mydb</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">session, err :&#x3D; mgo.Dial(&quot;&quot;) </span><br><span class="line">session, err :&#x3D; mgo.Dial(&quot;localhost&quot;) </span><br><span class="line">session, err :&#x3D; mgo.Dial(&quot;127.0.0.1&quot;) </span><br><span class="line">session, err :&#x3D; mgo.Dial(&quot;localhost:27017&quot;)</span><br><span class="line">session, err :&#x3D; mgo.Dial(&quot;127.0.0.1:27017&quot;)</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="åˆ›å»ºè¿æ¥"><a href="#åˆ›å»ºè¿æ¥" class="headerlink" title="åˆ›å»ºè¿æ¥"></a>åˆ›å»ºè¿æ¥</h4><p>é€šè¿‡Session.DB()æ¥åˆ‡æ¢ç›¸åº”çš„æ•°æ®åº“</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">db :&#x3D; session.DB(&quot;xtest&quot;)   &#x2F;&#x2F;æ•°æ®åº“åç§°</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡Database.C()æ–¹æ³•åˆ‡æ¢é›†åˆï¼ˆCollectionï¼‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">collection :&#x3D; db.C(&quot;xtest&quot;) &#x2F;&#x2F; é›†åˆåç§°</span><br></pre></td></tr></table></figure>

<p>æˆ–ç›´æ¥ä¸€æ­¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">c :&#x3D; session.DB(&quot;xtest&quot;).C(&quot;xtest&quot;)</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="æŸ¥è¯¢"><a href="#æŸ¥è¯¢" class="headerlink" title="æŸ¥è¯¢"></a>æŸ¥è¯¢</h4><p>é€šè¿‡func (c *Collection) Find(query interface{}) *Queryæ¥è¿›è¡ŒæŸ¥è¯¢<br>é€šè¿‡Query.All()å¯ä»¥è·å¾—æ‰€æœ‰ç»“æœ<br>é€šè¿‡Query.One()å¯ä»¥è·å¾—ä¸€ä¸ªç»“æœ<br>æ¡ä»¶ç”¨ <code>bson.M{key: value}</code> ï¼Œæ³¨æ„keyå¿…é¡»ç”¨MongoDBä¸­çš„å­—æ®µåï¼Œè€Œä¸æ˜¯structçš„å­—æ®µåã€‚</p>
<hr>
<h4 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;labix.org&#x2F;v2&#x2F;mgo&quot;</span><br><span class="line">	&quot;labix.org&#x2F;v2&#x2F;mgo&#x2F;bson&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">const (</span><br><span class="line">	MONGODB_URL &#x3D; &quot;127.0.0.1:27017&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	&#x2F;&#x2F;åˆ›å»ºè¿æ¥</span><br><span class="line">	session, err :&#x3D; mgo.Dial(MONGODB_URL)</span><br><span class="line">	if err !&#x3D; nil &#123;</span><br><span class="line">		panic(err)</span><br><span class="line">	&#125;</span><br><span class="line">	defer session.Close()</span><br><span class="line"></span><br><span class="line">	session.SetMode(mgo.Monotonic, true)</span><br><span class="line">	&#x2F;&#x2F; db :&#x3D; session.DB(&quot;xtest&quot;)   &#x2F;&#x2F;æ•°æ®åº“åç§°</span><br><span class="line">	&#x2F;&#x2F; collection :&#x3D; db.C(&quot;xtest&quot;) &#x2F;&#x2F; é›†åˆåç§°</span><br><span class="line">	c :&#x3D; session.DB(&quot;xtest&quot;).C(&quot;xtest&quot;)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F; &#x2F;&#x2F;æ’å…¥æ•°æ®</span><br><span class="line">	&#x2F;&#x2F; err &#x3D; c.Insert(&amp;Person&#123;&quot;Tommy&quot;, &quot;123456&quot;&#125;, &amp;Person&#123;&quot;Hanleilei&quot;, &quot;98765&quot;&#125;,</span><br><span class="line">	&#x2F;&#x2F; 	&amp;Person&#123;&quot;å–œæ´‹æ´‹&quot;, &quot;98765&quot;&#125;, &amp;Person&#123;&quot;ç°å¤ªç‹¼&quot;, &quot;46577&quot;&#125;,</span><br><span class="line">	&#x2F;&#x2F; )</span><br><span class="line">	&#x2F;&#x2F; if err !&#x3D; nil &#123;</span><br><span class="line">	&#x2F;&#x2F; 	panic(err)</span><br><span class="line">	&#x2F;&#x2F; &#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F; &#x2F;&#x2F;æŸ¥è¯¢å¹¶èµ‹å€¼ Find().One()</span><br><span class="line">	&#x2F;&#x2F; result :&#x3D; Person&#123;&#125;</span><br><span class="line">	&#x2F;&#x2F; err &#x3D; c.Find(bson.M&#123;&quot;name&quot;: &quot;Tommy&quot;&#125;).One(&amp;result)</span><br><span class="line">	&#x2F;&#x2F; if err !&#x3D; nil &#123;</span><br><span class="line">	&#x2F;&#x2F; 	panic(err)</span><br><span class="line">	&#x2F;&#x2F; &#125;</span><br><span class="line">	&#x2F;&#x2F; &#x2F;&#x2F;è¾“å‡º</span><br><span class="line">	&#x2F;&#x2F; fmt.Println(&quot;Phone &quot;, result.Phone)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F; &#x2F;&#x2F;é›†åˆä¸­å…ƒç´ æ•°é‡ Count()</span><br><span class="line">	&#x2F;&#x2F; countNum, err :&#x3D; c.Count()</span><br><span class="line">	&#x2F;&#x2F; fmt.Println(&quot;obj numbers &quot;, countNum)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F; &#x2F;&#x2F;æŸ¥è¯¢å¤šæ¡æ•°æ® Find().Iter()</span><br><span class="line">	&#x2F;&#x2F; var onep &#x3D; Person&#123;&#125;</span><br><span class="line">	&#x2F;&#x2F; iter :&#x3D; c.Find(nil).Iter()</span><br><span class="line">	&#x2F;&#x2F; for iter.Next(&amp;onep) &#123;</span><br><span class="line">	&#x2F;&#x2F; 	fmt.Println(&quot;å§“å &quot;, onep.Name)</span><br><span class="line">	&#x2F;&#x2F; &#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F; &#x2F;&#x2F;æŸ¥è¯¢å¤šæ¡æ•°æ® Find().All()</span><br><span class="line">	&#x2F;&#x2F; var personAll []Person</span><br><span class="line">	&#x2F;&#x2F; err &#x3D; c.Find(nil).All(&amp;personAll)</span><br><span class="line">	&#x2F;&#x2F; for i :&#x3D; 0; i &lt; len(personAll); i++ &#123;</span><br><span class="line">	&#x2F;&#x2F; 	fmt.Println(&quot;Person &quot;, personAll[i].Name, personAll[i].Phone)</span><br><span class="line">	&#x2F;&#x2F; &#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F; &#x2F;&#x2F;æ›´æ–°æ•°æ® Update()</span><br><span class="line">	&#x2F;&#x2F; abc :&#x3D; Person&#123;&#125;</span><br><span class="line">	&#x2F;&#x2F; err &#x3D; c.Find(bson.M&#123;&quot;name&quot;: &quot;Tommy&quot;&#125;).One(&amp;abc)</span><br><span class="line">	&#x2F;&#x2F; fmt.Println(&quot;Tommy phone is &quot;, abc.Phone)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F; err &#x3D; c.Update(bson.M&#123;&quot;name&quot;: &quot;Tommy&quot;&#125;, bson.M&#123;&quot;$set&quot;: bson.M&#123;&quot;phone&quot;: &quot;10086&quot;&#125;&#125;)</span><br><span class="line">	&#x2F;&#x2F; err &#x3D; c.Find(bson.M&#123;&quot;name&quot;: &quot;Tommy&quot;&#125;).One(&amp;abc)</span><br><span class="line">	&#x2F;&#x2F; fmt.Println(&quot;Tommy phone is &quot;, abc.Phone)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F; &#x2F;&#x2F;åˆ é™¤æ•°æ® Remove()</span><br><span class="line">	&#x2F;&#x2F; fmt.Println(c.Count())</span><br><span class="line">	&#x2F;&#x2F; err &#x3D; c.Remove(bson.M&#123;&quot;phone&quot;: &quot;46577&quot;&#125;)</span><br><span class="line">	&#x2F;&#x2F; fmt.Println(c.Count())</span><br><span class="line"></span><br><span class="line">	fmt.Println(&quot;end&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type Person struct &#123;</span><br><span class="line">	Name  string &#96;bson:&quot;name&quot;&#96;</span><br><span class="line">	Phone string &#96;bson:&quot;phone&quot;&#96;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ç›¸å…³"><a href="#ç›¸å…³" class="headerlink" title="ç›¸å…³"></a>ç›¸å…³</h4><ul>
<li><a href="https://github.com/go-mgo/mgo" target="_blank" rel="noopener">GitHub - go-mgo/mgo: The MongoDB driver for Go. See http://labix.org/mgo for details.</a></li>
<li><a href="http://www.it165.net/database/html/201403/5661.html" target="_blank" rel="noopener">golangä½¿ç”¨mgoè¿æ¥MongoDB</a></li>
</ul>
]]></content>
      <categories>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>Golang</tag>
        <tag>MongoDB</tag>
      </tags>
  </entry>
  <entry>
    <title>è¿›äº¬è¯åŠç†</title>
    <url>/2017/06/22/foreign-car-to-beijing/</url>
    <content><![CDATA[<h4 id="åŒ—äº¬å¸‚å…¬å®‰å±€ç›¸å…³è§„å®š"><a href="#åŒ—äº¬å¸‚å…¬å®‰å±€ç›¸å…³è§„å®š" class="headerlink" title="åŒ—äº¬å¸‚å…¬å®‰å±€ç›¸å…³è§„å®š"></a>åŒ—äº¬å¸‚å…¬å®‰å±€ç›¸å…³è§„å®š</h4><ul>
<li><strong>é€‚ç”¨èŒƒå›´</strong>ï¼šè¿›å…¥åŒ—äº¬å¸‚å…­ç¯è·¯ï¼ˆä¸å«ï¼‰ä»¥å†…è¡Œé©¶çš„å¤–åŸ è½¦è¾†ï¼Œä»¥åŠå‰å¾€æ˜Œå¹³ã€æ€€æŸ”ã€å»¶åº†åŸå…³é•‡è¡Œé©¶çš„å¤–åŸ è½¦è¾†ï¼Œéœ€åŠç†è¿›äº¬é€šè¡Œè¯ã€‚</li>
<li><strong>åŠç†åœ°ç‚¹</strong>ï¼šæœ¬å¸‚ä»»æ„è¿›äº¬æ£€æŸ¥ç«™æˆ–åŠè¯å¤„ <a href="http://dz.bjjtgl.gov.cn/dzfw/trafficHeadBZ/Map/trafficHead10.jsp" target="_blank" rel="noopener">åŒ—äº¬å¸‚å…¬å®‰å±€å…¬å®‰äº¤é€šç®¡ç†å±€</a></li>
<li><strong>åŠç†æ—¶é—´</strong>ï¼š7*24å°æ—¶ å‘¨æœ«åŠæ³•å®šèŠ‚å‡æ—¥ä¸ä¼‘</li>
<li><strong>æºå¸¦èµ„æ–™</strong>ï¼š<ul>
<li>é©¾é©¶äººèº«ä»½è¯ </li>
<li>é©¾é©¶äººé©¾é©¶è¯ </li>
<li>è½¦è¾†è¡Œé©¶è¯ </li>
<li>äº¤é€šäº‹æ•…è´£ä»»å¼ºåˆ¶ä¿é™©å‡­è¯ </li>
<li>å®‰å…¨æŠ€æœ¯æ£€éªŒåˆæ ¼æ ‡å¿— </li>
<li>ç»åŒ—äº¬å¸‚ç¯ä¿éƒ¨é—¨ç¡®è®¤çš„è½¦è¾†ç¬¦åˆç¯ä¿è¦æ±‚çš„å‡­è¯</li>
</ul>
</li>
<li><strong>æœ‰æ•ˆæœŸ</strong>ï¼šè¿›äº¬é€šè¡Œè¯æœ‰æ•ˆæœŸä¸º7å¤©ï¼Œå¯å»¶æœŸä¸€æ¬¡ã€‚</li>
</ul>
<h4 id="æˆ‘æ˜¯å¦‚ä½•åŠç†å®ä½“è¿›äº¬è¯çš„"><a href="#æˆ‘æ˜¯å¦‚ä½•åŠç†å®ä½“è¿›äº¬è¯çš„" class="headerlink" title="æˆ‘æ˜¯å¦‚ä½•åŠç†å®ä½“è¿›äº¬è¯çš„"></a>æˆ‘æ˜¯å¦‚ä½•åŠç†å®ä½“è¿›äº¬è¯çš„</h4><ul>
<li>é©¾é©¶äººèº«ä»½è¯</li>
<li>é©¾é©¶äººé©¾é©¶è¯</li>
<li>è½¦è¾†è¡Œé©¶è¯</li>
</ul>
<p>æˆ‘ç¬¬ä¸€æ¬¡åŠç†å®ä½“è¿›äº¬è¯æ˜¯åœ¨äº¬æ¸¯æ¾³é«˜é€Ÿçš„å…´ç¤¼æ£€æŸ¥ç«™åŠç†çš„ (2017-6-11)ï¼š</p>
<ul>
<li>æºå¸¦ä»¥ä¸Š<code>ä¸‰ä¸ªè¯ä»¶</code>å…ˆç”¨<code>è½¦è¾†è¡Œé©¶è¯</code>å»åŠç†<code>ç¯ä¿è¯æ˜</code>ï¼Œç„¶åæ‹¿ç€<code>ç¯ä¿è¯æ˜</code>å’Œ<code>ä¸‰ä¸ªè¯ä»¶</code>å»å¦ä¸€ä¸ªçª—å£åŠç†è¿›äº¬è¯ã€‚é‚£é‡Œæœ‰æŒ‡ç¤ºç‰Œå¯å‚è€ƒã€‚</li>
<li>æ³¨æ„è¦ä»”ç»†æ ¸å¯¹ç¯ä¿è¯æ˜æˆ–è¿›äº¬è¯ä¸Šçš„ä¿¡æ¯æ˜¯å¦æ­£ç¡®ã€‚</li>
<li>ä¸éœ€è¦ä¿é™©å•æˆ–å…¶ä»–ææ–™ã€‚</li>
<li>å®ä½“è¿›äº¬è¯å…è´¹åŠç†ã€‚</li>
</ul>
<h4 id="ç”µå­è¿›äº¬è¯â€“åŒ—äº¬äº¤è­¦app"><a href="#ç”µå­è¿›äº¬è¯â€“åŒ—äº¬äº¤è­¦app" class="headerlink" title="ç”µå­è¿›äº¬è¯â€“åŒ—äº¬äº¤è­¦app"></a>ç”µå­è¿›äº¬è¯â€“åŒ—äº¬äº¤è­¦app</h4><h5 id="ä¼˜åŠ¿"><a href="#ä¼˜åŠ¿" class="headerlink" title="ä¼˜åŠ¿"></a>ä¼˜åŠ¿</h5><ul>
<li>å¯æå‰1-4å¤©åœ¨çº¿ç”³è¯·åŠç†è¿›äº¬é€šè¡Œè¯</li>
<li>ç”µå­è¿›äº¬è¯çš„æ•ˆåŠ›ä¸å®ä½“è¿›äº¬è¯ç›¸åŒï¼Œå…¶æœ‰æ•ˆæœŸä¸º2è‡³7å¤©</li>
</ul>
<h5 id="ç”µå­è¿›äº¬è¯æ‰€éœ€è¯ä»¶ã€ææ–™"><a href="#ç”µå­è¿›äº¬è¯æ‰€éœ€è¯ä»¶ã€ææ–™" class="headerlink" title="ç”µå­è¿›äº¬è¯æ‰€éœ€è¯ä»¶ã€ææ–™"></a>ç”µå­è¿›äº¬è¯æ‰€éœ€è¯ä»¶ã€ææ–™</h5><ul>
<li>è½¦è¾†å‹å·ï¼ˆè§è¡Œé©¶è¯ï¼‰</li>
<li>è½¦è¾†å‘åŠ¨æœºå·ï¼ˆè§è¡Œé©¶è¯ï¼‰</li>
<li>è¿›äº¬è½¦è¾†è¡Œé©¶è¯æ­£é¢ç…§ç‰‡</li>
<li>è½¦è¾†æ­£é¢ç…§ç‰‡ï¼ˆéœ€éœ²å‡ºè½¦è¾†å·ç‰Œï¼‰</li>
<li>è½¦ä¸»é©¾é©¶è¯æ­£é¢ç…§ç‰‡</li>
<li>è½¦ä¸»æ‰‹æŒèº«ä»½è¯çš„ç…§ç‰‡ï¼ˆå¿…é¡»æ˜¯è½¦ä¸»æœ¬äººï¼‰</li>
<li>å·ç‰Œç±»å‹</li>
<li>æœºåŠ¨è½¦ç±»å‹</li>
<li>æœºåŠ¨è½¦å·ç‰Œ</li>
<li>è½¦ä¸»å§“å</li>
<li>è½¦ä¸»é©¾é©¶è¯å·ï¼ˆåŒèº«ä»½è¯å·ï¼‰</li>
<li>è¿›äº¬æ—¥æœŸï¼ˆåªèƒ½ä»åä¸€å¤©å¼€å§‹çš„7å¤©å†…ï¼‰</li>
<li>è¿›äº¬æ—¶é•¿(å¯é€‰2-7å¤©)</li>
<li>è¿›äº¬è·¯å£ï¼ˆä¾‹å¦‚äº¬æ´¥é«˜é€Ÿï¼‰</li>
<li>é©¾é©¶å‘˜ä¿¡æ¯</li>
</ul>
<h5 id="ç”µå­è¿›äº¬è¯æ³¨æ„äº‹é¡¹"><a href="#ç”µå­è¿›äº¬è¯æ³¨æ„äº‹é¡¹" class="headerlink" title="ç”µå­è¿›äº¬è¯æ³¨æ„äº‹é¡¹"></a>ç”µå­è¿›äº¬è¯æ³¨æ„äº‹é¡¹</h5><ol>
<li>ç›®å‰åªå…è®¸å¤–åœ°å°å®¢è½¦ç½‘ä¸ŠåŠç†ç”µå­è¿›äº¬è¯ï¼Œå…¶å®ƒè½¦è¾†ä»éœ€åˆ°æ£€æŸ¥ç«™åŠè¯çª—å£åŠç†ã€‚</li>
<li>ç”µå­è¿›äº¬è¯ä¸å®ä½“è¿›äº¬è¯åœ¨åŒä¸€æ—¶æ®µå†…æ— æ³•é‡å¤åŠç†ã€‚</li>
<li>ç”µå­è¿›äº¬è¯æ— æ³•åœ¨åŸåŒºå®‰ç›‘çª—å£ç»­åŠã€‚</li>
<li>ç›®å‰ï¼Œç”µå­è¿›äº¬è¯ä¸€æ—¦ç”³è¯·æˆåŠŸï¼Œæ— æ³•æ›´æ”¹æ—¥æœŸã€‚</li>
</ol>
<h4 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h4><ul>
<li>å†æ¬¡åŠç†è¿›äº¬è¯çš„æµç¨‹å’Œæ‰€éœ€çš„ææ–™ä¸åˆæ¬¡åŠç†ç›¸åŒã€‚</li>
<li>åœ¨åŠç†è¿›äº¬è¯ä¹‹å‰ï¼Œæ‚¨éœ€è¦å°†å¤–åœ°å·ç‰Œè½¦è¾†ä¹‹å‰åœ¨åŒ—äº¬äº§ç”Ÿçš„æ‰€æœ‰äº¤é€šè¿æ³•éƒ½å¤„ç†å®Œæ¯•ã€‚</li>
</ul>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="http://www.bjjtgl.gov.cn/zhuanti/201601waibuche/index.html" target="_blank" rel="noopener">å¤–åœ°è½¦è¿›äº¬æ³¨æ„äº‹é¡¹</a></li>
</ul>
<hr>
<h4 id="å…³äºé©¾é©¶è¯æ¢æ–°å"><a href="#å…³äºé©¾é©¶è¯æ¢æ–°å" class="headerlink" title="å…³äºé©¾é©¶è¯æ¢æ–°å"></a>å…³äºé©¾é©¶è¯æ¢æ–°å</h4><p>å› ä¸ºæˆ‘çš„é©¾ç…§è€ƒçš„æ¯”è¾ƒæ—©ï¼Œåˆæ¬¡ç”³è¯·çš„é©¾ç…§åœ¨6å¹´åè¦æ¢æ–°ã€‚åœ¨æ¢é¢†åˆ°æ–°çš„é©¾ç…§ä¹‹åç”³è¯·è¿›äº¬è¯æ—¶è¦æ³¨æ„ï¼š</p>
<blockquote>
<p>åœ¨æ—§é©¾ç…§åˆ°æœŸæˆªæ­¢æ—¥æœŸä¹‹å‰ï¼Œç”³è¯·è¿›äº¬è¯ä»éœ€è¦ä½¿ç”¨æ—§é©¾ç…§çš„ç…§ç‰‡æ¥ç”³è¯·ã€‚</p>
</blockquote>
<p>ä¸¾ä¸ªä¾‹å­æ¥è¯´ï¼š</p>
<p>æ¯”å¦‚ä½ çš„é©¾ç…§åœ¨ <code>2018å¹´6æœˆ1æ—¥</code> åˆ°æœŸï¼Œè§„å®šæ˜¯åœ¨é©¾ç…§åˆ°æœŸå‰çš„90å¤©å†…éƒ½å¯ç”³è¯·æ¢é¢†æ–°é©¾ç…§ã€‚åœ¨90å¤©ä¹‹å†…ï¼Œæ¯”å¦‚ä½ åœ¨ <code>2018å¹´çš„5æœˆ1æ—¥</code> å°±å·²ç»æ›´æ¢äº†æ–°é©¾ç…§ã€‚é‚£ä¹ˆåœ¨ <code>5æœˆ1æ—¥åˆ°6æœˆ1æ—¥</code> è¿™æ®µæ—¶é—´å†…ï¼Œä½ æ˜¯ä¸èƒ½ä½¿ç”¨æ–°é©¾ç…§çš„ç…§ç‰‡æ¥ç”³è¯·è¿›äº¬è¯çš„ã€‚</p>
<p>å½“ä½ ç”¨æ–°é©¾ç…§çš„ç…§ç‰‡å»ç”³è¯·æ—¶ï¼Œ<code>åŒ—äº¬äº¤è­¦App</code> ç»™å‡ºçš„é”™è¯¯æç¤ºä¿¡æ¯ä¸º â€œç³»ç»Ÿå®¡æ ¸å¤±è´¥ï¼Œè¯·é‡æ–°æäº¤ä¿¡æ¯ç”³è¯·åŠç†ã€‚   å®¡æ ¸å¤±è´¥â€ ã€‚</p>
<p>åªæœ‰å½“ä½ çš„æ—§ç‰ˆé©¾ç…§è¿‡äº†åˆ°æœŸæ—¥æœŸä¹‹åï¼Œæ‰èƒ½ä½¿ç”¨æ¢æ–°åçš„é©¾ç…§æ¥ç”³è¯·ã€‚</p>
<p>ä»¥ä¸Šæ˜¯æˆ‘åœ¨æ¢é¢†æ–°é©¾ç…§ä¹‹ååœ¨ç”³è¯·è¿›äº¬è¯æ—¶é‡åˆ°çš„ä¸€ä¸ªå¾ˆè¿·æƒ‘çš„åœ°æ–¹ï¼Œç‰¹è®°å½•åœ¨æ­¤ã€‚</p>
<h4 id="æ›´æ–°è®°å½•"><a href="#æ›´æ–°è®°å½•" class="headerlink" title="æ›´æ–°è®°å½•"></a>æ›´æ–°è®°å½•</h4><ol>
<li>2017-06-22 Created</li>
<li>2018-07-18 æ·»åŠ æ›´æ¢æ–°é©¾é©¶è¯åç”³è¯·è¿›äº¬è¯æ—¶çš„æ³¨æ„äº‹é¡¹</li>
</ol>
]]></content>
      <tags>
        <tag>äººåœ¨å¸éƒ½</tag>
      </tags>
  </entry>
  <entry>
    <title>Golangå®ç°httpè¯·æ±‚åŠä»£ç†è®¾ç½®</title>
    <url>/2017/06/15/Golang-implements-HTTP-request-and-proxy-settings/</url>
    <content><![CDATA[<p>ä¸»è¦æ¢ç©¶ 1. ä½¿ç”¨ä»£ç†è¯·æ±‚ 2. è·³è¿‡httpsä¸å®‰å…¨éªŒè¯ 3. è‡ªå®šä¹‰è¯·æ±‚å¤´User-Agentçš„å®ç°</p>
<h4 id="ä¸»è¦ç ”ç©¶çš„æŠ€æœ¯ç‚¹"><a href="#ä¸»è¦ç ”ç©¶çš„æŠ€æœ¯ç‚¹" class="headerlink" title="ä¸»è¦ç ”ç©¶çš„æŠ€æœ¯ç‚¹"></a>ä¸»è¦ç ”ç©¶çš„æŠ€æœ¯ç‚¹</h4><ul>
<li>ä½¿ç”¨ä»£ç†è¯·æ±‚</li>
<li>è·³è¿‡httpsä¸å®‰å…¨éªŒè¯</li>
<li>è‡ªå®šä¹‰è¯·æ±‚å¤´ User-Agent</li>
</ul>
<hr>
<h4 id="é™æ€æ•°æ®è¯·æ±‚å¹¶è®¾ç½®ä»£ç†"><a href="#é™æ€æ•°æ®è¯·æ±‚å¹¶è®¾ç½®ä»£ç†" class="headerlink" title="é™æ€æ•°æ®è¯·æ±‚å¹¶è®¾ç½®ä»£ç†"></a>é™æ€æ•°æ®è¯·æ±‚å¹¶è®¾ç½®ä»£ç†</h4><h5 id="å®ä¾‹ä»£ç "><a href="#å®ä¾‹ä»£ç " class="headerlink" title="å®ä¾‹ä»£ç "></a>å®ä¾‹ä»£ç </h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;crypto&#x2F;tls&quot;</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;io&#x2F;ioutil&quot;</span><br><span class="line">	&quot;net&#x2F;http&quot;</span><br><span class="line">	&quot;net&#x2F;url&quot;</span><br><span class="line">	&quot;time&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func First() &#123;</span><br><span class="line">	&#x2F;*</span><br><span class="line">		1. æ™®é€šè¯·æ±‚</span><br><span class="line">	*&#x2F;</span><br><span class="line"></span><br><span class="line">	webUrl :&#x3D; &quot;http:&#x2F;&#x2F;ip.gs&#x2F;&quot;</span><br><span class="line">	resp, err :&#x3D; http.Get(webUrl)</span><br><span class="line">	if err !&#x3D; nil &#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">		return</span><br><span class="line">	&#125;</span><br><span class="line">	&#x2F;&#x2F; if resp.StatusCode &#x3D;&#x3D; http.StatusOK &#123;</span><br><span class="line">	&#x2F;&#x2F; 	fmt.Println(resp.StatusCode)</span><br><span class="line">	&#x2F;&#x2F; &#125;</span><br><span class="line"></span><br><span class="line">	time.Sleep(time.Second * 3)</span><br><span class="line"></span><br><span class="line">	defer resp.Body.Close()</span><br><span class="line">	body, _ :&#x3D; ioutil.ReadAll(resp.Body)</span><br><span class="line">	fmt.Println(string(body))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func Second(webUrl, proxyUrl string) &#123;</span><br><span class="line">	&#x2F;*</span><br><span class="line">		1. ä»£ç†è¯·æ±‚</span><br><span class="line">		2. è·³è¿‡httpsä¸å®‰å…¨éªŒè¯</span><br><span class="line">	*&#x2F;</span><br><span class="line">	&#x2F;&#x2F; webUrl :&#x3D; &quot;http:&#x2F;&#x2F;ip.gs&#x2F;&quot;</span><br><span class="line">	&#x2F;&#x2F; proxyUrl :&#x3D; &quot;http:&#x2F;&#x2F;115.215.71.12:808&quot;</span><br><span class="line"></span><br><span class="line">	proxy, _ :&#x3D; url.Parse(proxyUrl)</span><br><span class="line">	tr :&#x3D; &amp;http.Transport&#123;</span><br><span class="line">		Proxy:           http.ProxyURL(proxy),</span><br><span class="line">		TLSClientConfig: &amp;tls.Config&#123;InsecureSkipVerify: true&#125;,</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	client :&#x3D; &amp;http.Client&#123;</span><br><span class="line">		Transport: tr,</span><br><span class="line">		Timeout:   time.Second * 5, &#x2F;&#x2F;è¶…æ—¶æ—¶é—´</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	resp, err :&#x3D; client.Get(webUrl)</span><br><span class="line">	if err !&#x3D; nil &#123;</span><br><span class="line">		fmt.Println(&quot;å‡ºé”™äº†&quot;, err)</span><br><span class="line">		return</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	defer resp.Body.Close()</span><br><span class="line">	body, _ :&#x3D; ioutil.ReadAll(resp.Body)</span><br><span class="line">	fmt.Println(string(body))</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func Third(webUrl, proxyUrl string) &#123;</span><br><span class="line">	&#x2F;*</span><br><span class="line">		1. ä»£ç†è¯·æ±‚</span><br><span class="line">		2. è·³è¿‡httpsä¸å®‰å…¨éªŒè¯</span><br><span class="line">		3. è‡ªå®šä¹‰è¯·æ±‚å¤´ User-Agent</span><br><span class="line"></span><br><span class="line">	*&#x2F;</span><br><span class="line">	&#x2F;&#x2F; webUrl :&#x3D; &quot;http:&#x2F;&#x2F;ip.gs&#x2F;&quot;</span><br><span class="line">	&#x2F;&#x2F; proxyUrl :&#x3D; &quot;http:&#x2F;&#x2F;171.215.227.125:9000&quot;</span><br><span class="line"></span><br><span class="line">	request, _ :&#x3D; http.NewRequest(&quot;GET&quot;, webUrl, nil)</span><br><span class="line">	request.Header.Set(&quot;Connection&quot;, &quot;keep-alive&quot;)</span><br><span class="line">	request.Header.Set(&quot;User-Agent&quot;, &quot;Mozilla&#x2F;5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;56.0.2924.87 Safari&#x2F;537.36&quot;)</span><br><span class="line"></span><br><span class="line">	proxy, _ :&#x3D; url.Parse(proxyUrl)</span><br><span class="line">	tr :&#x3D; &amp;http.Transport&#123;</span><br><span class="line">		Proxy:           http.ProxyURL(proxy),</span><br><span class="line">		TLSClientConfig: &amp;tls.Config&#123;InsecureSkipVerify: true&#125;,</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	client :&#x3D; &amp;http.Client&#123;</span><br><span class="line">		Transport: tr,</span><br><span class="line">		Timeout:   time.Second * 5, &#x2F;&#x2F;è¶…æ—¶æ—¶é—´</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	resp, err :&#x3D; client.Do(request)</span><br><span class="line">	if err !&#x3D; nil &#123;</span><br><span class="line">		fmt.Println(&quot;å‡ºé”™äº†&quot;, err)</span><br><span class="line">		return</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	defer resp.Body.Close()</span><br><span class="line">	body, _ :&#x3D; ioutil.ReadAll(resp.Body)</span><br><span class="line">	fmt.Println(string(body))</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	webUrl :&#x3D; &quot;http:&#x2F;&#x2F;httpbin.org&#x2F;user-agent&quot; &#x2F;&#x2F;&quot;http:&#x2F;&#x2F;ip.gs&#x2F;&quot;</span><br><span class="line">	proxyUrl :&#x3D; &quot;http:&#x2F;&#x2F;119.5.0.75:808&quot;</span><br><span class="line"></span><br><span class="line">	Second(webUrl, proxyUrl)</span><br><span class="line">	&#x2F;&#x2F; Third(webUrl, proxyUrl)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h5><ul>
<li><a href="http://oinume.hatenablog.com/entry/mocking-http-access-in-golang" target="_blank" rel="noopener">Mocking a HTTP access with http.Transport in Golang - oinume journal</a></li>
<li><a href="http://www.cnblogs.com/damir/archive/2012/05/06/2486663.html" target="_blank" rel="noopener">Go httpè®¿é—®ä½¿ç”¨ä»£ç†</a></li>
<li><a href="https://www.haiyun.me/archives/1051.html" target="_blank" rel="noopener">GO HTTP clientå®¢æˆ·ç«¯ä½¿ç”¨ - æµ·è¿çš„åšå®¢</a></li>
<li><a href="http://www.devdungeon.com/content/making-tor-http-requests-go" target="_blank" rel="noopener">Making Tor HTTP Requests with Go | DevDungeon</a></li>
<li><a href="https://stackoverflow.com/questions/42662369/golang-how-to-do-a-https-request-with-proxy" target="_blank" rel="noopener">go - golang: How to do a https request with proxy - Stack Overflow</a></li>
<li><a href="https://stackoverflow.com/questions/13263492/set-useragent-in-http-request" target="_blank" rel="noopener">go - Set UserAgent in http request - Stack Overflow</a></li>
</ul>
<hr>
<h4 id="åŠ¨æ€æ•°æ®è¯·æ±‚å¹¶è®¾ç½®ä»£ç†"><a href="#åŠ¨æ€æ•°æ®è¯·æ±‚å¹¶è®¾ç½®ä»£ç†" class="headerlink" title="åŠ¨æ€æ•°æ®è¯·æ±‚å¹¶è®¾ç½®ä»£ç†"></a>åŠ¨æ€æ•°æ®è¯·æ±‚å¹¶è®¾ç½®ä»£ç†</h4><p>åŠ¨æ€æ•°æ®è¯·æ±‚ä½¿ç”¨golangè°ƒç”¨phantomjsæ¥è¯·æ±‚ç½‘é¡µæ•°æ®å†…å®¹å®ç°ã€‚</p>
<p>é€šè¿‡å‘½ä»¤å‚æ•°æ–¹å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">phantomjs [options] somescript.js [arg1 [arg2 [...]]]</span><br></pre></td></tr></table></figure>

<p>ä»£ç†ç›¸å…³çš„é…ç½®å‚æ•°ï¼š</p>
<ul>
<li><code>--load-images=[true|false]</code>  (default is <code>true</code>)</li>
<li><code>--proxy=address:port</code>  (eg <code>--proxy=192.168.1.42:8080</code>)</li>
<li><code>--proxy-type=[http|socks5|none]</code>  (default is <code>http</code>)</li>
<li><code>--proxy-auth</code> (eg <code>--proxy-auth=username:password</code>)</li>
</ul>
<p>å…¶ä»–å¸¸ç”¨é…ç½®å‚æ•°ï¼š</p>
<ul>
<li><code>--load-images=[yes|no]</code>             Load all inlined images (default is â€˜yesâ€™).</li>
<li><code>--load-plugins=[yes|no]</code>            Load all plugins (i.e. â€˜Flashâ€™, â€˜Silverlightâ€™, â€¦) (default is â€˜noâ€™).</li>
<li><code>--proxy=address:port</code>               Set the network proxy.</li>
<li><code>--disk-cache=[yes|no]</code>              Enable disk cache (at desktop services cache storage location, default is â€˜noâ€™).</li>
<li><code>--ignore-ssl-errors=[yes|no]</code>       Ignore SSL errors (i.e. expired or self-signed certificate errors).</li>
</ul>
<p>ä¹Ÿå¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶æ–¹å¼æ¥è®¾ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">phantomjs --config&#x3D;&#x2F;path&#x2F;to&#x2F;config.json somescript.js [arg1 [...]]</span><br></pre></td></tr></table></figure>

<h5 id="å¸¸ç”¨é…ç½®ç›¸å…³å‚è€ƒ"><a href="#å¸¸ç”¨é…ç½®ç›¸å…³å‚è€ƒ" class="headerlink" title="å¸¸ç”¨é…ç½®ç›¸å…³å‚è€ƒ"></a>å¸¸ç”¨é…ç½®ç›¸å…³å‚è€ƒ</h5><ul>
<li><a href="http://phantomjs.org/api/command-line.html" target="_blank" rel="noopener">Command Line Interface | PhantomJS</a></li>
<li><a href="http://www.dblooman.com/network/2014/05/27/Proxy-Auth-in-phantomjs/" target="_blank" rel="noopener">Proxy Auth In Phantomjs &middot; David Blooman</a></li>
</ul>
<hr>
<h5 id="å®ä¾‹ä»£ç -1"><a href="#å®ä¾‹ä»£ç -1" class="headerlink" title="å®ä¾‹ä»£ç "></a>å®ä¾‹ä»£ç </h5><ul>
<li>ç»è¿‡æµ‹è¯•ï¼Œå‘ç°ï¼š <code>phantomjs --proxy=address:port somescript.js [args]</code> è¿™ç§æ–¹å¼æ— æ³•æ‰§è¡ŒæˆåŠŸã€‚</li>
<li>ç»è¿‡æµ‹è¯•ï¼Œå‘ç°ï¼šåœ¨ <code>somescript.js</code> ä¸­è®¾ç½® <code>page.setProxy(&quot;http://119.5.0.75:808/&quot;);</code> è¿™ç§æ–¹å¼ä¹Ÿæ— æ•ˆã€‚</li>
<li>ç»è¿‡æµ‹è¯•ï¼Œå‘ç°ï¼šåœ¨ <code>somescript.js</code> ä¸­è®¾ç½® <code>phantom.setProxy(&quot;139.224.237.33&quot;, &quot;8888&quot;, &#39;manual&#39;, &#39;&#39;, &#39;&#39;);</code> è¿™ç§æ–¹å¼å¯è¡Œã€‚</li>
</ul>
<h6 id="ä¸ä½¿ç”¨ä»£ç†çš„åŠ¨æ€æ•°æ®è¯·æ±‚"><a href="#ä¸ä½¿ç”¨ä»£ç†çš„åŠ¨æ€æ•°æ®è¯·æ±‚" class="headerlink" title="ä¸ä½¿ç”¨ä»£ç†çš„åŠ¨æ€æ•°æ®è¯·æ±‚"></a>ä¸ä½¿ç”¨ä»£ç†çš„åŠ¨æ€æ•°æ®è¯·æ±‚</h6><p><code>dynamicproxy.go</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;io&#x2F;ioutil&quot;</span><br><span class="line">	&quot;os&#x2F;exec&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func First(webUrl, jsFileName string) &#123;</span><br><span class="line">	cmd :&#x3D; exec.Command(&quot;phantomjs.exe&quot;, jsFileName, webUrl)</span><br><span class="line">	out, err :&#x3D; cmd.Output()</span><br><span class="line">	if err !&#x3D; nil &#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Println(string(out))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func Second(webUrl, jsFileName string) &#123;</span><br><span class="line">	&#x2F;&#x2F; cmd :&#x3D; exec.Command(&quot;phantomjs.exe&quot;, &quot;test.js&quot;, &quot;https:&#x2F;&#x2F;www.cnblogs.com&#x2F;&quot;)</span><br><span class="line">	cmd :&#x3D; exec.Command(&quot;phantomjs.exe&quot;, jsFileName, webUrl)</span><br><span class="line">	stdout, err :&#x3D; cmd.StdoutPipe()</span><br><span class="line">	if err !&#x3D; nil &#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">	&#125;</span><br><span class="line">	cmd.Start()</span><br><span class="line">	content, err :&#x3D; ioutil.ReadAll(stdout)</span><br><span class="line">	if err !&#x3D; nil &#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(string(content))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	webUrl :&#x3D; &quot;http:&#x2F;&#x2F;httpbin.org&#x2F;ip&quot; &#x2F;&#x2F;&quot;http:&#x2F;&#x2F;httpbin.org&#x2F;ip&quot; &#x2F;&#x2F; &quot;http:&#x2F;&#x2F;ip.gs&#x2F;&quot; &#x2F;&#x2F; &quot;http:&#x2F;&#x2F;httpbin.org&#x2F;user-agent&quot;</span><br><span class="line">	jsfileName :&#x3D; &quot;somescript.js&quot;</span><br><span class="line">	First(webUrl, jsfileName)</span><br><span class="line">	&#x2F;&#x2F; Second(webUrl, jsfileName)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>somescript.js</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var page &#x3D;require(&#39;webpage&#39;).create();</span><br><span class="line">system&#x3D;require(&#39;system&#39;);</span><br><span class="line">url&#x3D;system.args[1];</span><br><span class="line"></span><br><span class="line">page.settings.userAgent &#x3D; &#39;Mozilla&#x2F;5.0 (Windows NT 6.1; WOW64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;37.0.2062.120 Safari&#x2F;537.36&#39;;</span><br><span class="line">page.open(url,function(status)&#123;</span><br><span class="line">	console.log(&#39;Loading &#39;+system.args[1]);</span><br><span class="line">	if (status&#x3D;&#x3D;&quot;success&quot;) &#123;</span><br><span class="line">		&#x2F;&#x2F; page.render(&#39;a.png&#39;); &#x2F;&#x2F;ç½‘é¡µæˆªå±</span><br><span class="line">		system.stdout.writeLine(page.content); &#x2F;&#x2F; è·å–ç½‘é¡µå†…å®¹</span><br><span class="line">		&#x2F;&#x2F; system.stdout.writeLine(page.title);</span><br><span class="line">		&#x2F;&#x2F; console.log(page.plainText); &#x2F;&#x2F; æ–‡æœ¬å†…å®¹</span><br><span class="line">		&#x2F;&#x2F; console.log(page.title); &#x2F;&#x2F; ç½‘é¡µæ ‡é¢˜</span><br><span class="line">	&#125;else&#123;</span><br><span class="line">		system.stdout.writeLine(&quot;request error&quot;);</span><br><span class="line">	&#125;;</span><br><span class="line">	phantom.exit();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<hr>
<h6 id="ä½¿ç”¨httpä»£ç†çš„åŠ¨æ€æ•°æ®è¯·æ±‚"><a href="#ä½¿ç”¨httpä»£ç†çš„åŠ¨æ€æ•°æ®è¯·æ±‚" class="headerlink" title="ä½¿ç”¨httpä»£ç†çš„åŠ¨æ€æ•°æ®è¯·æ±‚"></a>ä½¿ç”¨httpä»£ç†çš„åŠ¨æ€æ•°æ®è¯·æ±‚</h6><p><code>dynamicproxy.go</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;io&#x2F;ioutil&quot;</span><br><span class="line">	&quot;os&#x2F;exec&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func Third(webUrl, jsFileName,proxyHost,proxyPort string) &#123;</span><br><span class="line">	&#x2F;&#x2F; cmd :&#x3D; exec.Command(&quot;phantomjs.exe&quot;, jsFileName, webUrl)</span><br><span class="line">	cmd :&#x3D; exec.Command(&quot;phantomjs.exe&quot;, jsFileName,proxyHost,proxyPort, webUrl)</span><br><span class="line">	out, err :&#x3D; cmd.Output()</span><br><span class="line">	if err !&#x3D; nil &#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Println(string(out))</span><br><span class="line">&#125;</span><br><span class="line">func main() &#123;</span><br><span class="line">	webUrl :&#x3D; &quot;http:&#x2F;&#x2F;httpbin.org&#x2F;ip&quot; &#x2F;&#x2F;&quot;http:&#x2F;&#x2F;httpbin.org&#x2F;ip&quot; &#x2F;&#x2F; &quot;http:&#x2F;&#x2F;ip.gs&#x2F;&quot; &#x2F;&#x2F; &quot;http:&#x2F;&#x2F;httpbin.org&#x2F;user-agent&quot;</span><br><span class="line">	jsfileName :&#x3D; &quot;somescript.js&quot;</span><br><span class="line">	Third(webUrl, jsfileName,&quot;139.224.237.33&quot;, &quot;8888&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>somescript.js</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var page &#x3D;require(&#39;webpage&#39;).create();</span><br><span class="line">system&#x3D;require(&#39;system&#39;);</span><br><span class="line"></span><br><span class="line">if (system.args.length&lt;4) &#123;</span><br><span class="line">	system.stdout.writeLine(&quot;somescript.js &lt;proxyHost&gt; &lt;proxyPort&gt; &lt;URL&gt;&quot;);</span><br><span class="line">	phantom.exit(1);</span><br><span class="line">&#125;else&#123;</span><br><span class="line">	host&#x3D;system.args[1];</span><br><span class="line">	port&#x3D;system.args[2];</span><br><span class="line">	url &#x3D; system.args[3];</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; page.setProxy(&quot;http:&#x2F;&#x2F;119.5.0.75:808&#x2F;&quot;);&#x2F;&#x2F;è¿™æ ·è®¾ç½®è¯·æ±‚å¤±è´¥</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; phantom.setProxy(&quot;139.224.237.33&quot;, &quot;8888&quot;, &#39;manual&#39;, &#39;&#39;, &#39;&#39;);&#x2F;&#x2F;è¿™æ ·è®¾ç½®å¯ä»¥</span><br><span class="line">phantom.setProxy(host, port, &#39;manual&#39;, &#39;&#39;, &#39;&#39;);</span><br><span class="line">page.settings.userAgent &#x3D; &#39;Mozilla&#x2F;5.0 (Windows NT 6.1; WOW64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;37.0.2062.120 Safari&#x2F;537.36&#39;;</span><br><span class="line"></span><br><span class="line">page.open(url,function(status)&#123;</span><br><span class="line">	if (status&#x3D;&#x3D;&quot;success&quot;) &#123;</span><br><span class="line">		system.stdout.writeLine(page.content); &#x2F;&#x2F; è·å–ç½‘é¡µå†…å®¹</span><br><span class="line">	&#125;else&#123;</span><br><span class="line">		console.log(status);</span><br><span class="line">		system.stdout.writeLine(&quot;error&quot;);</span><br><span class="line">	&#125;;</span><br><span class="line">	phantom.exit();</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¯´æ˜ï¼š<code>phantom.setProxy(&quot;139.224.237.33&quot;, &quot;8888&quot;, &#39;manual&#39;, &#39;&#39;, &#39;&#39;);</code>  å‚æ•°1ä¸ºä»£ç†host;å‚æ•°2ä¸ºä»£ç†port;å‚æ•°3å¯ä»¥ä¿æŒé»˜è®¤å®šå€¼<code>manual</code>,å‚æ•°4ä¸ºä»£ç†ç±»å‹http socket5ç­‰å¯ä¸ºç©º;å‚æ•°5ä¸çŸ¥é“ä¸ºç©ºã€‚</p>
<hr>
<h6 id="å¿½ç•¥httpså®‰å…¨éªŒè¯çš„åŠ¨æ€æ•°æ®è¯·æ±‚"><a href="#å¿½ç•¥httpså®‰å…¨éªŒè¯çš„åŠ¨æ€æ•°æ®è¯·æ±‚" class="headerlink" title="å¿½ç•¥httpså®‰å…¨éªŒè¯çš„åŠ¨æ€æ•°æ®è¯·æ±‚"></a>å¿½ç•¥httpså®‰å…¨éªŒè¯çš„åŠ¨æ€æ•°æ®è¯·æ±‚</h6><ul>
<li>æš‚æ—¶åªæ‰¾åˆ°ä¸€ç§æ–¹æ³•ï¼Œç›´æ¥è¯·æ±‚httpsç½‘å€ä¸ä½¿ç”¨ä»£ç†èƒ½å¤Ÿè¯·æ±‚æˆåŠŸã€‚</li>
<li>å³å¿½ç•¥httpså®‰å…¨éªŒè¯ï¼Œåˆä½¿ç”¨ä»£ç†ç»æµ‹è¯•è¯·æ±‚å¤±è´¥ã€‚</li>
<li>ç›´æ¥åœ¨å‘½ä»¤çª—å£ä¸­æ‰§è¡Œå¯ä»¥ï¼Œé€šè¿‡golangè°ƒç”¨è¯·æ±‚å¤±è´¥ã€‚</li>
</ul>
<p>ä½¿ç”¨å‚æ•°ï¼š<code>--ignore-ssl-errors=true --ssl-protocol=any</code> è®¾ç½®ã€‚</p>
<p>å¦‚ä¸‹æ–¹å¼æ‰§è¡ŒæˆåŠŸï¼Œç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">phantomjs.exe --ignore-ssl-errors&#x3D;true --ssl-protocol&#x3D;any test.js https:&#x2F;&#x2F;kyfw.12306.cn&#x2F;otn&#x2F;</span><br></pre></td></tr></table></figure>

<p><code>test.js</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var page &#x3D;require(&#39;webpage&#39;).create();</span><br><span class="line">system&#x3D;require(&#39;system&#39;);</span><br><span class="line">url&#x3D;system.args[1];</span><br><span class="line"></span><br><span class="line">page.settings.userAgent &#x3D; &#39;Mozilla&#x2F;5.0 (Windows NT 6.1; WOW64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;37.0.2062.120 Safari&#x2F;537.36&#39;;</span><br><span class="line">page.open(url,function(status)&#123;</span><br><span class="line">	console.log(&#39;Loading &#39;+system.args[1]);</span><br><span class="line">	if (status&#x3D;&#x3D;&quot;success&quot;) &#123;</span><br><span class="line">		system.stdout.writeLine(page.content); &#x2F;&#x2F; è·å–ç½‘é¡µå†…å®¹</span><br><span class="line">	&#125;else&#123;</span><br><span class="line">		console.log(&quot;request error&quot;);</span><br><span class="line">	&#125;;</span><br><span class="line">	phantom.exit();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="ç›¸å…³å‚è€ƒ-1"><a href="#ç›¸å…³å‚è€ƒ-1" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h5><ul>
<li><a href="https://github.com/ariya/phantomjs/issues/12181" target="_blank" rel="noopener">â€“ignore-ssl-errors not working Â· Issue #12181 Â· ariya/phantomjs Â· GitHub</a></li>
<li><a href="https://github.com/ariya/phantomjs/blob/master/examples/openurlwithproxy.js" target="_blank" rel="noopener">phantomjs Â· GitHub</a></li>
<li><a href="https://github.com/ariya/phantomjs/tree/master/examples" target="_blank" rel="noopener">phantomjs/examples at master Â· ariya/phantomjs Â· GitHub</a></li>
</ul>
]]></content>
      <categories>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>Golang</tag>
        <tag>æ•°æ®æŠ“å–</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»0åˆ°1å­¦Golangä¹‹åŸºç¡€--Go æ•°ç»„</title>
    <url>/2017/05/24/learn-golang-from-0-to-1-of-go-array/</url>
    <content><![CDATA[<p>ã€ŠGo In Actionã€‹ ä¸­æ–‡ç‰ˆ ã€ŠGoè¯­è¨€å®æˆ˜ã€‹ è¯»ä¹¦ç¬”è®°</p>
<h4 id="å†…éƒ¨å®ç°"><a href="#å†…éƒ¨å®ç°" class="headerlink" title="å†…éƒ¨å®ç°"></a>å†…éƒ¨å®ç°</h4><p>æ•°ç»„æ˜¯åˆ‡ç‰‡å’Œæ˜ å°„çš„åŸºç¡€æ•°æ®ç»“æ„ã€‚</p>
<p>åœ¨Goè¯­è¨€ä¸­ï¼Œæ•°ç»„æ˜¯é•¿åº¦å›ºå®šçš„æ•°æ®ç±»å‹ï¼Œç”¨äºå­˜å‚¨ä¸€æ®µå…·æœ‰ç›¸åŒç±»å‹çš„å…ƒç´ çš„è¿ç»­å—ã€‚</p>
<p>æ•°ç»„å­˜å‚¨çš„ç±»å‹å¯ä»¥æ˜¯å†…ç½®ç±»å‹ï¼Œå¦‚æ•´å‹æˆ–å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯æŸç§ç»“æ„ç±»å‹ã€‚</p>
<p>æ•°ç»„å ç”¨çš„å†…å­˜æ˜¯è¿ç»­åˆ†é…çš„ã€‚ç”±äºå†…å­˜è¿ç»­ï¼ŒCPUèƒ½æŠŠæ­£åœ¨ä½¿ç”¨çš„æ•°æ®ç¼“å­˜æ›´ä¹…çš„æ—¶é—´ã€‚è€Œä¸”å†…å­˜è¿ç»­å¾ˆå®¹æ˜“è®¡ç®—ç´¢å¼•ï¼Œå¯ä»¥å¿«é€Ÿè¿­ä»£æ•°ç»„é‡Œçš„æ‰€æœ‰å…ƒç´ ã€‚</p>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>é•¿åº¦å›ºå®š</li>
<li>ç±»å‹ç›¸åŒ</li>
<li>å†…å­˜è¿ç»­</li>
</ul>
<h4 id="å£°æ˜å’Œåˆå§‹åŒ–"><a href="#å£°æ˜å’Œåˆå§‹åŒ–" class="headerlink" title="å£°æ˜å’Œåˆå§‹åŒ–"></a>å£°æ˜å’Œåˆå§‹åŒ–</h4><h5 id="å£°æ˜"><a href="#å£°æ˜" class="headerlink" title="å£°æ˜"></a>å£°æ˜</h5><p>æ•°ç»„å£°æ˜çš„åŸåˆ™ï¼š</p>
<ol>
<li>æŒ‡æ˜å­˜å‚¨æ•°æ®çš„ç±»å‹</li>
<li>æŒ‡æ˜å­˜å‚¨å…ƒç´ æ•°é‡ï¼ˆæŒ‡æ˜æ•°ç»„é•¿åº¦ï¼‰</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#å£°æ˜ä¸€ä¸ªåŒ…å«5ä¸ªå…ƒç´ çš„æ•´å‹æ•°ç»„</span><br><span class="line">var array [5]int</span><br></pre></td></tr></table></figure>

<p>æ•°ç»„ä¸€æ—¦å£°æ˜åï¼Œæ•°ç»„é‡Œå­˜å‚¨çš„æ•°æ®ç±»å‹å’Œæ•°ç»„é•¿åº¦å°±ä¸èƒ½æ”¹å˜äº†ã€‚</p>
<p>å½“æ•°ç»„åˆå§‹åŒ–æ—¶ï¼Œæ•°ç»„å†…æ¯ä¸ªå…ƒç´ éƒ½åˆå§‹åŒ–ä¸ºå¯¹åº”ç±»å‹çš„é›¶å€¼ã€‚</p>
<h5 id="å£°æ˜å¹¶åˆå§‹åŒ–"><a href="#å£°æ˜å¹¶åˆå§‹åŒ–" class="headerlink" title="å£°æ˜å¹¶åˆå§‹åŒ–"></a>å£°æ˜å¹¶åˆå§‹åŒ–</h5><p>ä½¿ç”¨<strong>æ•°ç»„å­—é¢é‡</strong>å£°æ˜å¹¶åˆå§‹åŒ–æ•°ç»„ã€‚æ•°ç»„å­—é¢é‡å…è®¸å£°æ˜æ•°ç»„é‡Œå…ƒç´ çš„æ•°é‡åŒæ—¶æŒ‡å®šæ¯ä¸ªå…ƒç´ çš„å€¼ã€‚</p>
<p>Goä¸ºæˆ‘ä»¬æä¾›äº† <code>:=</code> æ“ä½œç¬¦ï¼Œå¯ä»¥è®©æˆ‘ä»¬åœ¨åˆ›å»ºæ•°ç»„çš„æ—¶å€™ç›´æ¥åˆå§‹åŒ–ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># å£°æ˜å¹¶åˆå§‹åŒ–</span><br><span class="line">array:&#x3D;[5]int&#123;1,2,3,4,5&#125;</span><br></pre></td></tr></table></figure>

<h5 id="è‡ªåŠ¨æ¨å¯¼æ•°ç»„é•¿åº¦"><a href="#è‡ªåŠ¨æ¨å¯¼æ•°ç»„é•¿åº¦" class="headerlink" title="è‡ªåŠ¨æ¨å¯¼æ•°ç»„é•¿åº¦"></a>è‡ªåŠ¨æ¨å¯¼æ•°ç»„é•¿åº¦</h5><p>ä½¿ç”¨ <code>...</code> æ›¿ä»£æ•°ç»„çš„é•¿åº¦ï¼ŒGoè¯­è¨€ä¼šæ ¹æ®åˆå§‹åŒ–æ—¶æ•°ç»„å…ƒç´ çš„æ•°é‡æ¥ç¡®å®šè¯¥æ•°ç»„çš„é•¿åº¦ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># å®¹é‡ç”±åˆå§‹åŒ–å€¼çš„æ•°é‡å†³å®š</span><br><span class="line">array:&#x3D;[...]int&#123;1,2,3,4,5&#125;</span><br></pre></td></tr></table></figure>

<h5 id="ç”¨å…·ä½“å€¼åˆå§‹åŒ–ç‰¹å®šç´¢å¼•"><a href="#ç”¨å…·ä½“å€¼åˆå§‹åŒ–ç‰¹å®šç´¢å¼•" class="headerlink" title="ç”¨å…·ä½“å€¼åˆå§‹åŒ–ç‰¹å®šç´¢å¼•"></a>ç”¨å…·ä½“å€¼åˆå§‹åŒ–ç‰¹å®šç´¢å¼•</h5><p>ä½¿ç”¨æŒ‡å®šç´¢å¼•çš„æ–¹å¼åˆå§‹åŒ–ç‰¹å®šç´¢å¼•å€¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># ç”¨å…·ä½“å€¼åˆå§‹åŒ–ç´¢å¼•ä¸º1å’Œ3çš„å…ƒç´ ï¼Œå…¶ä½™å…ƒç´ ä¿æŒé›¶å€¼</span><br><span class="line">array:&#x3D;[5]int&#123;1:10,3:30&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä½¿ç”¨æ•°ç»„"><a href="#ä½¿ç”¨æ•°ç»„" class="headerlink" title="ä½¿ç”¨æ•°ç»„"></a>ä½¿ç”¨æ•°ç»„</h4><p>è¦è®¿é—®æ•°ç»„é‡ŒæŸä¸ªå•ç‹¬å…ƒç´ ï¼Œä½¿ç”¨ç´¢å¼•æ“ä½œç¬¦ <code>[]</code> å³å¯ã€‚å› ä¸ºå†…å­˜æ˜¯è¿ç»­çš„ï¼Œæ‰€ä»¥ç´¢å¼•è®¿é—®çš„æ•ˆç‡éå¸¸é«˜ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># å£°æ˜ä¸€ä¸ªåŒ…å«5ä¸ªå…ƒç´ çš„æ•´å½¢æ•°ç»„</span><br><span class="line">array:&#x3D;[5]int&#123;1,2,3,4,5&#125;</span><br><span class="line"># ä¿®æ”¹ç´¢å¼•ä¸º2çš„å…ƒç´ å€¼</span><br><span class="line">array[2]&#x3D;80</span><br></pre></td></tr></table></figure>

<h5 id="éå†è®¿é—®æ•°ç»„"><a href="#éå†è®¿é—®æ•°ç»„" class="headerlink" title="éå†è®¿é—®æ•°ç»„"></a>éå†è®¿é—®æ•°ç»„</h5><p>ä½¿ç”¨ <code>for</code> éå†è®¿é—®æ•°ç»„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func main() &#123;</span><br><span class="line">    array :&#x3D; [5]int&#123;1, 2, 3, 4, 5&#125;</span><br><span class="line">    for i :&#x3D; 0; i &lt; 5; i++ &#123;</span><br><span class="line">        fmt.Printf(&quot;ç´¢å¼•ï¼š%d,å€¼ï¼š%d\n&quot;, i, array[i])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>for range</code> éå†è®¿é—®æ•°ç»„æ¯ä¸ªå…ƒç´ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func main() &#123;</span><br><span class="line">    array :&#x3D; [5]int&#123;1, 2, 3, 4, 5&#125;</span><br><span class="line">    for k, v :&#x3D; range array &#123;</span><br><span class="line">        fmt.Printf(&quot;ç´¢å¼•ï¼š%d,å€¼ï¼š%d\n&quot;, k, v)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æ•°ç»„ç›¸äº’èµ‹å€¼"><a href="#æ•°ç»„ç›¸äº’èµ‹å€¼" class="headerlink" title="æ•°ç»„ç›¸äº’èµ‹å€¼"></a>æ•°ç»„ç›¸äº’èµ‹å€¼</h5><p>åŒæ ·ç±»å‹çš„æ•°ç»„æ˜¯å¯ä»¥ç›¸äº’èµ‹å€¼çš„ï¼Œä¸åŒç±»å‹çš„ä¸è¡Œï¼Œä¼šç¼–è¯‘é”™è¯¯ã€‚</p>
<p>æ•°ç»„å˜é‡çš„ç±»å‹åŒ…æ‹¬æ•°ç»„é•¿åº¦å’Œæ¯ä¸ªå…ƒç´ çš„ç±»å‹ã€‚åªæœ‰è¿™ä¸¤éƒ¨åˆ†éƒ½ç›¸åŒçš„æ•°ç»„ï¼Œæ‰æ˜¯ç±»å‹ç›¸åŒçš„æ•°ç»„ï¼Œæ‰èƒ½ç›¸äº’èµ‹å€¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func main() &#123;</span><br><span class="line">    array :&#x3D; [5]int&#123;1, 2, 3, 4, 5&#125;</span><br><span class="line">    &#x2F;&#x2F;# ç›¸åŒæ•°ç»„ç±»å‹ï¼Œèƒ½å¤Ÿäº’ç›¸èµ‹å€¼</span><br><span class="line">    &#x2F;&#x2F; var array1 [5]int &#x3D; array</span><br><span class="line">    &#x2F;&#x2F; fmt.Println(array1) &#x2F;&#x2F;[1 2 3 4 5]</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;ä¸åŒæ•°ç»„ç±»å‹ï¼Œä¸èƒ½äº’ç›¸èµ‹å€¼</span><br><span class="line">    var array2 [4]int &#x3D; array &#x2F;&#x2F;cannot use array (type [5]int) as type [4]int in assignment</span><br><span class="line">    fmt.Println(array2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æŒ‡é’ˆæ•°ç»„"><a href="#æŒ‡é’ˆæ•°ç»„" class="headerlink" title="æŒ‡é’ˆæ•°ç»„"></a>æŒ‡é’ˆæ•°ç»„</h5><p>åœ¨æ•°ç»„çš„ç±»å‹å‰é¢åŠ  <code>*</code> å£°æ˜ä¸ºæŒ‡é’ˆæ•°ç»„ç»„ã€‚</p>
<p>ä½¿ç”¨ <code>*</code> è¿ç®—ç¬¦å¯ä»¥è®¿é—®æŒ‡é’ˆæ•°ç»„å…ƒç´ æŒ‡é’ˆæ‰€æŒ‡å‘çš„å€¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func main() &#123;</span><br><span class="line">    &#x2F;&#x2F; # å£°æ˜æŒ‡å‘æ•´æ•°çš„æ•°ç»„ï¼Œç”¨æ•´å½¢æŒ‡é’ˆåˆå§‹åŒ–ç´¢å¼•ä¸º0å’Œ3çš„æ•°ç»„å…ƒç´ </span><br><span class="line">    array :&#x3D; [5]*int&#123;0: new(int), 3: new(int)&#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; # ä¸ºç´¢å¼•ä¸º0å’Œ3çš„å…ƒç´ èµ‹å€¼</span><br><span class="line">    *array[0] &#x3D; 10</span><br><span class="line">    *array[3] &#x3D; 40</span><br><span class="line"></span><br><span class="line">    fmt.Println(array)</span><br><span class="line">     &#x2F;&#x2F; [0xc420070188 &lt;nil&gt; &lt;nil&gt; 0xc4200701b0 &lt;nil&gt;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ç¤ºä¾‹è¦æ³¨æ„ï¼Œæˆ‘ä»¬åªå¯ä»¥ç»™ç´¢å¼•0 å’Œ 3 èµ‹å€¼ï¼Œå› ä¸ºåªæœ‰å®ƒä»¬åˆ†é…äº†å†…å­˜ï¼Œæ‰å¯ä»¥èµ‹å€¼ã€‚å¦‚æœç»™å…¶ä»–ç´¢å¼•èµ‹å€¼ï¼Œè¿è¡Œæ—¶ä¼šæç¤ºæ— æ•ˆå†…å­˜æˆ–nilæŒ‡é’ˆå¼•ç”¨ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦å…ˆç»™è¿™äº›ç´¢å¼•åˆ†é…å†…å­˜ï¼Œç„¶åå†è¿›è¡Œèµ‹å€¼ä¿®æ”¹æ“ä½œã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">...</span><br><span class="line">&#x2F;&#x2F; # ä¸ºæœªåˆ†é…å†…å­˜çš„ç´¢å¼•èµ‹å€¼ï¼ŒæŠ¥é”™</span><br><span class="line"> *array[2] &#x3D; 30</span><br><span class="line">&#x2F;&#x2F; panic: runtime error: invalid memory address or nil pointer dereference</span><br><span class="line">&#x2F;&#x2F; [signal SIGSEGV: segmentation violation code&#x3D;0x1 addr&#x3D;0x0 pc&#x3D;0x2199]</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; # å…ˆåˆ†é…å†…å­˜å†èµ‹å€¼</span><br><span class="line">array[2] &#x3D; new(int)</span><br><span class="line">*array[2] &#x3D; 35</span><br><span class="line">fmt.Println(array)</span><br><span class="line">&#x2F;&#x2F; [0xc420074188 &lt;nil&gt; 0xc4200741d0 0xc4200741b0 &lt;nil&gt;]</span><br></pre></td></tr></table></figure>

<h5 id="æŒ‡é’ˆæ•°ç»„ç›¸äº’èµ‹å€¼"><a href="#æŒ‡é’ˆæ•°ç»„ç›¸äº’èµ‹å€¼" class="headerlink" title="æŒ‡é’ˆæ•°ç»„ç›¸äº’èµ‹å€¼"></a>æŒ‡é’ˆæ•°ç»„ç›¸äº’èµ‹å€¼</h5><p>å¤åˆ¶æ•°ç»„æŒ‡é’ˆï¼Œåªä¼šå¤åˆ¶æŒ‡é’ˆçš„å€¼ï¼Œè€Œä¸ä¼šå¤åˆ¶æŒ‡é’ˆæ‰€æŒ‡å‘çš„å€¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func main() &#123;</span><br><span class="line">    &#x2F;&#x2F; # å£°æ˜ç¬¬ä¸€ä¸ªåŒ…å«3ä¸ªå…ƒç´ çš„æŒ‡å‘å­—ç¬¦ä¸²çš„æŒ‡é’ˆæ•°ç»„</span><br><span class="line">    var array1 [3]*string</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; # å£°æ˜ç¬¬ä¸€ä¸ªåŒ…å«3ä¸ªå…ƒç´ çš„æŒ‡å‘å­—ç¬¦ä¸²çš„æŒ‡é’ˆæ•°ç»„</span><br><span class="line">    var array2 [3]*string</span><br><span class="line">    &#x2F;&#x2F; # ä½¿ç”¨å­—ç¬¦ä¸²æŒ‡é’ˆåˆå§‹åŒ–è¿™ä¸ªæ•°ç»„</span><br><span class="line">    array2 &#x3D; [3]*string&#123;new(string), new(string), new(string)&#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; # ä½¿ç”¨é¢œè‰²ä¸ºæ¯ä¸ªå…ƒç´ èµ‹å€¼</span><br><span class="line">    *array2[0] &#x3D; &quot;red&quot;</span><br><span class="line">    *array2[1] &#x3D; &quot;blue&quot;</span><br><span class="line">    *array2[2] &#x3D; &quot;green&quot;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; # å°†array2 å¤åˆ¶ç»™ array1</span><br><span class="line">    array1 &#x3D; array2</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; # å¤åˆ¶ä¹‹åï¼Œä¸¤ä¸ªæ•°ç»„æŒ‡å‘åŒä¸€ç»„å­—ç¬¦ä¸²</span><br><span class="line">    fmt.Println(array1)</span><br><span class="line">    fmt.Println(array2)</span><br><span class="line">    &#x2F;&#x2F; [0xc420074030 0xc420074040 0xc420074050]</span><br><span class="line">    &#x2F;&#x2F; [0xc420074030 0xc420074040 0xc420074050]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="å¤šç»´æ•°ç»„"><a href="#å¤šç»´æ•°ç»„" class="headerlink" title="å¤šç»´æ•°ç»„"></a>å¤šç»´æ•°ç»„</h4><p>æ•°ç»„æœ¬èº«åªæœ‰ä¸€ä¸ªç»´åº¦ï¼Œå¯ä»¥ç»„åˆå¤šä¸ªæ•°ç»„åˆ›å»ºå¤šç»´æ•°ç»„ã€‚</p>
<h5 id="å£°æ˜å¤šç»´æ•°ç»„"><a href="#å£°æ˜å¤šç»´æ•°ç»„" class="headerlink" title="å£°æ˜å¤šç»´æ•°ç»„"></a>å£°æ˜å¤šç»´æ•°ç»„</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func main() &#123;</span><br><span class="line">    &#x2F;&#x2F; # å£°æ˜ä¸€ä¸ªäºŒç»´æ•°ç»„</span><br><span class="line">    var array1 [4][2]int</span><br><span class="line">    fmt.Println(array1) &#x2F;&#x2F; [[0 0] [0 0] [0 0] [0 0]]</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; # ä½¿ç”¨æ•°ç»„å­—é¢é‡æ¥å£°æ˜å¹¶åˆå§‹åŒ–ä¸€ä¸ªäºŒç»´æ•°ç»„</span><br><span class="line">    array2 :&#x3D; [4][2]int&#123;&#123;10, 11&#125;, &#123;20, 21&#125;, &#123;30, 31&#125;, &#123;40, 41&#125;&#125;</span><br><span class="line">    fmt.Println(array2) &#x2F;&#x2F;  [[10 11] [20 21] [30 31] [40 41]]</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; # å£°æ˜å¹¶åˆå§‹åŒ–å¤–å±‚æ•°ç»„ä¸­ç´¢å¼•ä¸º1 å’Œ 3 çš„å…ƒç´ </span><br><span class="line">    array3 :&#x3D; [4][2]int&#123;1: &#123;20, 21&#125;, 3: &#123;40, 41&#125;&#125;</span><br><span class="line">    fmt.Println(array3) &#x2F;&#x2F;  [[0 0] [20 21] [0 0] [40 41]]</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; # å£°æ˜å¹¶åˆå§‹åŒ–å¤–å±‚æ•°ç»„å’Œå†…å±‚æ•°ç»„çš„å½“ä¸ªå…ƒç´ </span><br><span class="line">    array4 :&#x3D; [4][2]int&#123;1: &#123;0: 20&#125;, 3: &#123;1: 41&#125;&#125;</span><br><span class="line">    fmt.Println(array4) &#x2F;&#x2F; [[0 0] [20 0] [0 0] [0 41]]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å£°æ˜å¤šç»´æ•°ç»„æ—¶ï¼Œç¬¬ä¸€ç»´åº¦çš„æ•°ç»„é•¿åº¦ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>...</code> æ¥æ ¹æ®æ•°ç»„å€¼çš„ä¸ªæ•°æ¥ç¡®å®šï¼Œä½†åé¢ç»´åº¦ä¸èƒ½ä½¿ç”¨ <code>...</code>æ¥è‡ªåŠ¨æ¨æµ‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func main() &#123;</span><br><span class="line">    b :&#x3D; [...][2]int&#123;&#123;1, 1&#125;, &#123;2, 2&#125;, &#123;3, 3&#125;&#125;</span><br><span class="line">    fmt.Println(b) &#x2F;&#x2F;  [[1 1] [2 2] [3 3]]</span><br><span class="line">    fmt.Println(len(b)) &#x2F;&#x2F; 3</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="è®¿é—®äºŒç»´æ•°ç»„å…ƒç´ "><a href="#è®¿é—®äºŒç»´æ•°ç»„å…ƒç´ " class="headerlink" title="è®¿é—®äºŒç»´æ•°ç»„å…ƒç´ "></a>è®¿é—®äºŒç»´æ•°ç»„å…ƒç´ </h5><p>ä¸ºäº†è®¿é—®å•ä¸ªå…ƒç´ ï¼Œéœ€è¦åå¤ç»„åˆä½¿ç”¨ <code>[]</code> è¿ç®—ç¬¦ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func main() &#123;</span><br><span class="line">    &#x2F;&#x2F; # å£°æ˜ä¸€ä¸ªäºŒç»´æ•°ç»„</span><br><span class="line">    var array1 [4][2]int</span><br><span class="line">    fmt.Println(array1) &#x2F;&#x2F; [[0 0] [0 0] [0 0] [0 0]]</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; # è®¾ç½®æŒ‡å®šå…ƒç´ çš„å€¼</span><br><span class="line">    array1[1][0] &#x3D; 5</span><br><span class="line">    fmt.Println(array1) &#x2F;&#x2F; [[0 0] [5 0] [0 0] [0 0]]</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; # è·å–æŒ‡å®šä½ç½®çš„å…ƒç´ </span><br><span class="line">    fmt.Println(array1[1][0]) &#x2F;&#x2F;5</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="å¤šç»´æ•°ç»„ç›¸äº’èµ‹å€¼"><a href="#å¤šç»´æ•°ç»„ç›¸äº’èµ‹å€¼" class="headerlink" title="å¤šç»´æ•°ç»„ç›¸äº’èµ‹å€¼"></a>å¤šç»´æ•°ç»„ç›¸äº’èµ‹å€¼</h5><p>å¤šç»´æ•°ç»„çš„ç±»å‹åŒ…æ‹¬æ¯ä¸€ç»´åº¦çš„è—æ¯’ä»¥åŠæœ€ç»ˆå­˜å‚¨åœ¨å…ƒç´ ä¸­çš„æ•°æ®çš„ç±»å‹ã€‚åªè¦ç±»å‹ä¸€è‡´ï¼Œå°±å¯ä»¥å°†å¤šç»´æ•°ç»„äº’ç›¸èµ‹å€¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func main() &#123;</span><br><span class="line">    array1 :&#x3D; [2][2]int&#123;&#123;1, 2&#125;, &#123;3, 4&#125;&#125;</span><br><span class="line">    var array2 [2][2]int</span><br><span class="line"></span><br><span class="line">    array2 &#x3D; array1</span><br><span class="line">    fmt.Println(array2) &#x2F;&#x2F; [[1 2] [3 4]]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="åœ¨å‡½æ•°é—´ä¼ é€’æ•°ç»„"><a href="#åœ¨å‡½æ•°é—´ä¼ é€’æ•°ç»„" class="headerlink" title="åœ¨å‡½æ•°é—´ä¼ é€’æ•°ç»„"></a>åœ¨å‡½æ•°é—´ä¼ é€’æ•°ç»„</h5><p>åœ¨å‡½æ•°é—´ä¼ é€’å˜é‡æ—¶ï¼Œæ€»æ˜¯ä»¥<strong>å€¼</strong>çš„å½¢å¼ä¼ é€’ã€‚å¦‚æœå˜é‡æ˜¯ä¸ªæ•°ç»„ï¼Œé‚£ä¹ˆå°±ä¼šæ•´ä¸ªå¤åˆ¶ï¼Œå¹¶ä¼ é€’ç»™å‡½æ•°ï¼Œå¦‚æœæ•°ç»„éå¸¸å¤§ï¼Œå¯¹äºå†…å­˜æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„å¼€é”€ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func main() &#123;</span><br><span class="line">    array :&#x3D; [5]int&#123;1: 2, 3: 4&#125;</span><br><span class="line">    modify(array)</span><br><span class="line">    fmt.Println(array) &#x2F;&#x2F;[0 2 0 4 0]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func modify(a [5]int) &#123;</span><br><span class="line">    a[1] &#x3D; 3</span><br><span class="line">    fmt.Println(a) &#x2F;&#x2F; [0 3 0 4 0]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚ç¤ºä¾‹ï¼Œæ•°ç»„æ˜¯å¤åˆ¶çš„ï¼ŒåŸæ¥çš„æ•°ç»„æ²¡æœ‰ä¿®æ”¹ã€‚å¦‚æœå¤åˆ¶çš„æ•°ç»„éå¸¸å¤§ï¼Œå¯¹å†…å­˜æ˜¯ä¸€ä¸ªéå¸¸å¤§çš„æµªè´¹ã€‚</p>
<p>å¯ä»¥é€šè¿‡ä¼ é€’æ•°ç»„çš„æŒ‡é’ˆçš„æ–¹å¼æ¥åœ¨å‡½æ•°é—´ä¼ é€’å¤§æ•°ç»„ã€‚</p>
<h5 id="ä½¿ç”¨æŒ‡é’ˆåœ¨å‡½æ•°é—´ä¼ é€’å¤§æ•°ç»„"><a href="#ä½¿ç”¨æŒ‡é’ˆåœ¨å‡½æ•°é—´ä¼ é€’å¤§æ•°ç»„" class="headerlink" title="ä½¿ç”¨æŒ‡é’ˆåœ¨å‡½æ•°é—´ä¼ é€’å¤§æ•°ç»„"></a>ä½¿ç”¨æŒ‡é’ˆåœ¨å‡½æ•°é—´ä¼ é€’å¤§æ•°ç»„</h5><p>ä¼ é€’æ•°ç»„çš„æŒ‡é’ˆï¼Œå¤åˆ¶çš„å¤§å°åªæ˜¯ä¸€ä¸ªæ•°ç»„ç±»å‹çš„æŒ‡é’ˆå¤§å°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func main() &#123;</span><br><span class="line">    array :&#x3D; [5]int&#123;1: 2, 3: 4&#125;</span><br><span class="line">    modify(&amp;array)</span><br><span class="line">    fmt.Println(array) &#x2F;&#x2F;[0 3 0 4 0]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func modify(a *[5]int) &#123;</span><br><span class="line">    a[1] &#x3D; 3</span><br><span class="line">    fmt.Println(*a) &#x2F;&#x2F; [0 3 0 4 0]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚ç¤ºä¾‹ï¼Œé€šè¿‡ä¼ é€’æ•°ç»„çš„æŒ‡é’ˆï¼Œä¼šå‘ç°åŸæ¥çš„æ•°ç»„ä¹Ÿè¢«ä¿®æ”¹äº†ã€‚è¦æ„è¯†åˆ°çš„æ˜¯ï¼Œå› ä¸ºä¼ é€’çš„æ˜¯æŒ‡é’ˆï¼Œæ‰€ä»¥å¦‚æœæ”¹å˜æŒ‡é’ˆæŒ‡å‘çš„å€¼ï¼Œä¼šæ”¹å˜å…±äº«çš„å†…å­˜ã€‚</p>
<p>ä½¿ç”¨åˆ‡ç‰‡èƒ½æ›´å¥½çš„å¤„ç†å†…å­˜å…±äº«é—®é¢˜ã€‚</p>
<blockquote>
<p>è¿™é‡Œæ³¨æ„ï¼Œæ•°ç»„çš„æŒ‡é’ˆå’ŒæŒ‡é’ˆæ•°ç»„æ˜¯ä¸¤ä¸ªæ¦‚å¿µï¼Œæ•°ç»„çš„æŒ‡é’ˆæ˜¯ <code>*[5]int</code>,æŒ‡é’ˆæ•°ç»„æ˜¯ <code>[5]*int</code>ï¼Œæ³¨æ„ <code>*</code> çš„ä½ç½®ã€‚</p>
</blockquote>
<hr>
<h4 id="æ€»ç»“æ¦‚æ‹¬"><a href="#æ€»ç»“æ¦‚æ‹¬" class="headerlink" title="æ€»ç»“æ¦‚æ‹¬"></a>æ€»ç»“æ¦‚æ‹¬</h4><h5 id="æ•°ç»„çŸ¥è¯†ç‚¹"><a href="#æ•°ç»„çŸ¥è¯†ç‚¹" class="headerlink" title="æ•°ç»„çŸ¥è¯†ç‚¹"></a>æ•°ç»„çŸ¥è¯†ç‚¹</h5><ul>
<li>æ•°ç»„æ˜¯å€¼ç±»å‹ï¼Œèµ‹å€¼å’Œä¼ å‚ä¼šå¤åˆ¶æ•´ä¸ªæ•°ç»„ï¼Œè€Œä¸æ˜¯æŒ‡é’ˆã€‚</li>
<li>æ•°ç»„é•¿åº¦å¿…é¡»æ˜¯å¸¸é‡ï¼Œä¸”æ˜¯ç±»å‹çš„ç»„æˆéƒ¨åˆ†ã€‚<code>[2]int</code> å’Œ <code>[3]int</code> æ˜¯ä¸åŒç±»å‹ã€‚</li>
<li>æ”¯æŒ <code>&quot;==&quot;</code>ã€<code>&quot;!=&quot;</code> æ“ä½œç¬¦ï¼Œå› ä¸ºå†…å­˜æ€»æ˜¯è¢«åˆå§‹åŒ–è¿‡çš„ã€‚</li>
<li>æŒ‡é’ˆæ•°ç»„ <code>[n]*T</code>ï¼Œæ•°ç»„æŒ‡é’ˆ <code>*[n]T</code>ã€‚</li>
<li>å€¼æ‹·è´è¡Œä¸ºä¼šé€ æˆæ€§èƒ½é—®é¢˜ï¼Œé€šå¸¸ä¼šå»ºè®®ä½¿ç”¨ sliceï¼Œæˆ–æ•°ç»„æŒ‡é’ˆã€‚</li>
</ul>
<h5 id="å£°æ˜å¹¶åˆå§‹åŒ–-1"><a href="#å£°æ˜å¹¶åˆå§‹åŒ–-1" class="headerlink" title="å£°æ˜å¹¶åˆå§‹åŒ–"></a>å£°æ˜å¹¶åˆå§‹åŒ–</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func main() &#123;</span><br><span class="line">    &#x2F;&#x2F; a :&#x3D; [3]int&#123;1, 2&#125;         &#x2F;&#x2F;æœªåˆå§‹åŒ–å…ƒç´ å€¼æœªæ•°ç»„ç±»å‹é›¶å€¼</span><br><span class="line">    &#x2F;&#x2F; b :&#x3D; [...]int&#123;1, 2, 3, 4&#125; &#x2F;&#x2F;é€šè¿‡åˆå§‹åŒ–å€¼ç¡®å®šæ•°ç»„é•¿åº¦</span><br><span class="line">    &#x2F;&#x2F; c :&#x3D; [5]int&#123;2: 10, 4: 20&#125; &#x2F;&#x2F; ä½¿ç”¨ç´¢å¼•å·åˆå§‹åŒ–å…ƒç´ </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="å¤šç»´æ•°ç»„-1"><a href="#å¤šç»´æ•°ç»„-1" class="headerlink" title="å¤šç»´æ•°ç»„"></a>å¤šç»´æ•°ç»„</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func main() &#123;</span><br><span class="line">    d :&#x3D; [2][3]int&#123;&#123;1, 2, 3&#125;, &#123;4, 5, 6&#125;&#125;             &#x2F;&#x2F;å¤šç»´æ•°ç»„</span><br><span class="line">    e :&#x3D; [...][2]int&#123;&#123;1, 1&#125;, &#123;2, 2&#125;, &#123;3, 3&#125;, &#123;4, 4&#125;&#125; &#x2F;&#x2F;ç¬¬ 2 ç»´åº¦ä¸èƒ½ç”¨ &quot;...&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="å†…ç½®å‡½æ•°-len-å’Œ-cap-éƒ½è¿”å›æ•°ç»„é•¿åº¦-å…ƒç´ æ•°é‡"><a href="#å†…ç½®å‡½æ•°-len-å’Œ-cap-éƒ½è¿”å›æ•°ç»„é•¿åº¦-å…ƒç´ æ•°é‡" class="headerlink" title="å†…ç½®å‡½æ•° len å’Œ cap éƒ½è¿”å›æ•°ç»„é•¿åº¦ (å…ƒç´ æ•°é‡)"></a>å†…ç½®å‡½æ•° len å’Œ cap éƒ½è¿”å›æ•°ç»„é•¿åº¦ (å…ƒç´ æ•°é‡)</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func main() &#123;</span><br><span class="line">    f :&#x3D; [2]int&#123;&#125;</span><br><span class="line">    fmt.Println(len(f), cap(f)) &#x2F;&#x2F; 2 2 </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ä»0åˆ°1å­¦Golang</category>
      </categories>
      <tags>
        <tag>Golang</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»0åˆ°1å­¦Golangä¹‹åŸºç¡€--Go åŒ…</title>
    <url>/2017/05/12/learn-golang-from-0-to-1-of-go-package/</url>
    <content><![CDATA[<p>ã€ŠGo In Actionã€‹ ä¸­æ–‡ç‰ˆ ã€ŠGoè¯­è¨€å®æˆ˜ã€‹ è¯»ä¹¦ç¬”è®°</p>
<h4 id="ä»€ä¹ˆæ˜¯åŒ…"><a href="#ä»€ä¹ˆæ˜¯åŒ…" class="headerlink" title="ä»€ä¹ˆæ˜¯åŒ…"></a>ä»€ä¹ˆæ˜¯åŒ…</h4><p>goè¯­è¨€çš„åŒ…å…¶å®å°±æ˜¯æˆ‘ä»¬è®¡ç®—æœºé‡Œçš„ç›®å½•</p>
<h4 id="åŒ…çš„å‘½å"><a href="#åŒ…çš„å‘½å" class="headerlink" title="åŒ…çš„å‘½å"></a>åŒ…çš„å‘½å</h4><p>æ‰€æœ‰çš„ <code>.go</code> æ–‡ä»¶ï¼Œé™¤äº†ç©ºè¡Œå’Œæ³¨é‡Šï¼Œéƒ½åº”è¯¥åœ¨ç¬¬ä¸€è¡Œå£°æ˜è‡ªå·±æ‰€å±çš„åŒ…ã€‚</p>
<p>ä½¿ç”¨ <code>package</code> å…³é”®å­—å£°æ˜åŒ…ã€‚å¦‚ï¼š <code>package main</code> ã€‚</p>
<p>æ¯ä¸ªåŒ…éƒ½åœ¨ä¸€ä¸ªå•ç‹¬çš„ç›®å½•é‡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŒä¸€ä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰ <code>.go</code> æ–‡ä»¶å¿…é¡»å£°æ˜åŒä¸€ä¸ªåŒ…åã€‚</p>
<p>ä»¥ <code>net/http</code> åŒ…ä¸ºä¾‹ï¼Œåœ¨ <code>http</code> ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½å±äº <code>http</code> åŒ…ã€‚</p>
<p>goè¯­è¨€ä¸­ç»™åŒ…åŠå…¶ç›®å½•å‘½åï¼Œéµå¾ª <code>ç®€æ´</code> ã€<code>æ¸…æ™°</code> ã€<code>å…¨å°å†™</code> åŠ <code>å’Œæ‰€åœ¨ç›®å½•åŒå</code> çš„åŸåˆ™ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;net&#x2F;http&quot;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    http.ListenAndServe(&quot;127.0.0.1:80&quot;,handler);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸Š <code>net/http</code>ï¼Œåœ¨å¯¼å…¥åŒ…æ—¶é‡‡ç”¨ <code>å…¨è·¯å¾„</code> çš„æ–¹å¼ï¼Œæ‰€ä»¥å¯ä»¥åŒºåˆ†åŒåçš„ä¸åŒåŒ…ï¼Œåªè¦ä¿è¯å…¨è·¯å¾„ä¸åŒå°±å¯ä»¥ã€‚<br>ä½¿ç”¨å…¨è·¯å¾„çš„å¯¼å…¥ï¼Œä¹Ÿå¢åŠ äº†åŒ…åå‘½åçš„çµæ´»æ€§ã€‚</p>
<h4 id="main-åŒ…"><a href="#main-åŒ…" class="headerlink" title="main åŒ…"></a>main åŒ…</h4><p>åœ¨goè¯­è¨€ä¸­ï¼Œå‘½åä¸º <code>main</code> çš„åŒ…ä¼šè¢«å°è¯•ç¼–è¯‘ä¸ºä¸€ä¸ªäºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ã€‚</p>
<p>æ‰€æœ‰ç”¨goè¯­è¨€ç¼–è¯‘çš„å¯æ‰§è¡Œç¨‹åºéƒ½å¿…é¡»æœ‰ä¸€ä¸ªåä¸º <code>main</code> çš„åŒ…ã€‚</p>
<p>ä¸€ä¸ª <code>main</code> çš„åŒ…ï¼Œä¸€å®šä¼šåŒ…å«ä¸€ä¸ª <code>main()</code> å‡½æ•°ã€‚</p>
<p>åœ¨Goè¯­è¨€é‡ŒåŒæ—¶è¦æ»¡è¶³ <code>main</code> åŒ…å’ŒåŒ…å« <code>main()</code> å‡½æ•°ï¼Œæ‰ä¼šè¢«ç¼–è¯‘æˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ã€‚</p>
<p>Goç¨‹åºç¼–è¯‘æ—¶ï¼Œä¼šä½¿ç”¨å£°æ˜ <code>main</code> åŒ…çš„ä»£ç æ‰€åœ¨çš„ç›®å½•çš„ç›®å½•åä½œä¸ºäºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶çš„æ–‡ä»¶åã€‚</p>
<h4 id="åŒ…çš„å¯¼å…¥"><a href="#åŒ…çš„å¯¼å…¥" class="headerlink" title="åŒ…çš„å¯¼å…¥"></a>åŒ…çš„å¯¼å…¥</h4><p>ä½¿ç”¨ <code>import</code> å…³é”®å­—æ¥å¯¼å…¥åŒ…ã€‚å¯¼å…¥çš„åŒ…å¿…é¡»æ˜¯ä¸€ä¸ªå…¨è·¯å¾„çš„åŒ…ï¼Œä¹Ÿå°±æ˜¯åŒ…æ‰€åœ¨çš„ä½ç½®ã€‚</p>
<p>å¯¼å…¥å•ä¸ªåŒ…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &quot;fmt&quot;</span><br></pre></td></tr></table></figure>

<p>å¯¼å…¥å¤šä¸ªåŒ…æ—¶ï¼Œä½¿ç”¨ä¸€å¯¹æ‹¬å·åŒ…å«çš„å¯¼å…¥å—ï¼Œæ¯ä¸ªåŒ…ç‹¬å ä¸€è¡Œã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import (</span><br><span class="line">    &quot;fmt&quot;</span><br><span class="line">    &quot;net&#x2F;http&quot;</span><br><span class="line">    &quot;strings&quot;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>å¯¹äºå¤šäºä¸€ä¸ªè·¯å¾„çš„åŒ…åï¼Œåœ¨ä»£ç ä¸­å¼•ç”¨çš„æ—¶å€™ï¼Œä½¿ç”¨å…¨è·¯å¾„æœ€åä¸€ä¸ªåŒ…åä½œä¸ºå¼•ç”¨çš„åŒ…åï¼Œæ¯”å¦‚ <code>net/http</code> ,æˆ‘ä»¬åœ¨ä»£ç ä½¿ç”¨çš„æ˜¯ <code>http</code> ï¼Œè€Œä¸æ˜¯ <code>net</code> ã€‚</p>
<p>Goæœ‰ä¸¤ä¸ªå¾ˆé‡è¦çš„ç¯å¢ƒå˜é‡ <code>GOROOT</code> å’Œ <code>GOPATH</code> ,è¿™æ˜¯ä¸¤ä¸ªå®šä¹‰è·¯å¾„çš„ç¯å¢ƒå˜é‡ï¼ŒGOROOTæ˜¯å®‰è£…Goçš„è·¯å¾„ï¼Œæ¯”å¦‚/usr/local/goï¼›GOPATHæ˜¯æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„å¼€å‘è€…ä¸ªäººçš„å·¥ä½œç©ºé—´ï¼Œæ¯”å¦‚ <code>/home/myproject/go</code> ã€‚</p>
<p>æ ‡å‡†åº“ä¸­çš„åŒ…ä¼šåœ¨ <code>GOROOT</code> å»æŸ¥æ‰¾ï¼ŒGoå¼€å‘è€…åˆ›å»ºçš„åŒ…ä¼šåœ¨ <code>GOPATH</code> æŒ‡å®šçš„ç›®å½•ä¸­æŸ¥æ‰¾ã€‚</p>
<p>å¯¹äºåŒ…çš„æŸ¥æ‰¾ï¼Œæ˜¯æœ‰ä¼˜å…ˆçº§çš„ï¼Œç¼–è¯‘å™¨ä¼šä¼˜å…ˆåœ¨ <code>GOROOT</code> é‡Œæœç´¢ï¼Œå…¶æ¬¡æ˜¯ <code>GOPATH</code> ,ä¸€æ—¦æ‰¾åˆ°ï¼Œå°±ä¼šé©¬ä¸Šåœæ­¢æœç´¢ã€‚å¦‚æœæœ€ç»ˆéƒ½æ²¡æ‰¾åˆ°ï¼Œå°±æŠ¥ç¼–è¯‘å¼‚å¸¸äº†ã€‚</p>
<h4 id="è¿œç¨‹å¯¼å…¥"><a href="#è¿œç¨‹å¯¼å…¥" class="headerlink" title="è¿œç¨‹å¯¼å…¥"></a>è¿œç¨‹å¯¼å…¥</h4><p>Goè¯­è¨€çš„å·¥å…·é“¾æ”¯æŒä»Githubã€Bitbucketç­‰ç±»ä¼¼ç½‘ç«™è·å–æºä»£ç ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &quot;github.com&#x2F;spf13&#x2F;viper&quot;</span><br></pre></td></tr></table></figure>

<p>ç”¨å¯¼å…¥è·¯å¾„ç¼–è¯‘ç¨‹åºæ—¶ï¼Œgobuild å‘½ä»¤ä¼šå…ˆåœ¨ <code>GOPATH</code> ä¸‹æœç´¢è¿™ä¸ªåŒ…ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå°±ä¼šä½¿ç”¨ <code>go get</code> å·¥å…·é€šè¿‡URLä»ç½‘ç»œè·å–ï¼Œå¹¶æŠŠåŒ…çš„æºä»£ç ä¿å­˜åœ¨ <code>GOPATH</code> ç›®å½•ä¸‹å¯¹åº”URLçš„ç›®å½•é‡Œã€‚</p>
<p><code>go get</code> å·¥å…·å¯ä»¥é€’å½’è·å–ä¾èµ–åŒ…ã€‚</p>
<h4 id="å‘½åå¯¼å…¥"><a href="#å‘½åå¯¼å…¥" class="headerlink" title="å‘½åå¯¼å…¥"></a>å‘½åå¯¼å…¥</h4><p>å¦‚æœè¦å¯¼å…¥çš„å¤šä¸ªåŒ…å…·æœ‰ç›¸åŒçš„åå­—ï¼Œå¯ä»¥é€šè¿‡ <code>å‘½åå¯¼å…¥</code> çš„æ–¹å¼æ¥å¯¼å…¥ã€‚</p>
<p><strong>å‘½åå¯¼å…¥</strong>æ˜¯æŒ‡åœ¨ <code>import</code> è¯­å¥ç»™å‡ºçš„åŒ…è·¯å¾„çš„å·¦ä¾§å®šä¹‰ä¸€ä¸ªåå­—ï¼Œå°†å¯¼å…¥çš„åŒ…å‘½åä¸ºæ–°åå­—ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import (</span><br><span class="line">    &quot;fmt&quot;</span><br><span class="line">    myfmt &quot;mylib&#x2F;fmt&quot;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>Goè¯­è¨€è§„å®šï¼Œå¯¼å…¥çš„åŒ…å¿…é¡»è¦ä½¿ç”¨ï¼Œå¦åˆ™ä¼šæŠ¥ç¼–è¯‘é”™è¯¯ã€‚Goè¯­è¨€çš„è¿™ä¸ªç‰¹æ€§å¯ä»¥é˜²æ­¢å¯¼å…¥äº†æœªè¢«ä½¿ç”¨çš„åŒ…ï¼Œé¿å…ä»£ç å˜å¾—è‡ƒè‚¿ã€‚</p>
<p>ä½†æ˜¯æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦å¯¼å…¥ä¸€ä¸ªåŒ…ï¼Œä½†æ˜¯ä¸éœ€è¦å¼•ç”¨è¿™ä¸ªåŒ…çš„æ ‡è¯†ç¬¦ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ç©ºç™½æ ‡è¯†ç¬¦ <code>_</code> æ¥é‡å‘½åå¯¼å…¥çš„åŒ…å³å¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    &quot;fmt&quot;</span><br><span class="line">    _ &quot;mylib&#x2F;fmt&quot;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç©ºç™½æ ‡è¯†ç¬¦(_) ç”¨æ¥æŠ›å¼ƒä¸æƒ³ç»§ç»­ä½¿ç”¨çš„å€¼ï¼Œå¦‚ç»™å¯¼å…¥çš„åŒ…èµ‹äºˆä¸€ä¸ªç©ºåå­—ï¼Œæˆ–å¿½ç•¥å‡½æ•°è¿”å›çš„ä¸æ„Ÿå…´è¶£çš„å€¼ã€‚</p>
</blockquote>
<h4 id="initå‡½æ•°"><a href="#initå‡½æ•°" class="headerlink" title="initå‡½æ•°"></a>initå‡½æ•°</h4><p>æ¯ä¸ªåŒ…éƒ½å¯ä»¥æœ‰ä»»æ„å¤šä¸ªinitå‡½æ•°ï¼Œè¿™äº›initå‡½æ•°éƒ½ä¼šåœ¨mainå‡½æ•°ä¹‹å‰æ‰§è¡Œã€‚initå‡½æ•°é€šå¸¸ç”¨æ¥åšåˆå§‹åŒ–å˜é‡ã€è®¾ç½®åŒ…æˆ–è€…å…¶ä»–éœ€è¦åœ¨ç¨‹åºæ‰§è¡Œå‰çš„å¼•å¯¼å·¥ä½œã€‚initå‡½æ•°ç”¨åœ¨è®¾ç½®åŒ…ã€åˆå§‹åŒ–å˜é‡æˆ–è€…å…¶ä»–è¦åœ¨ç¨‹åºè¿è¡Œå‰ä¼˜å…ˆå®Œæˆçš„å¼•å¯¼å·¥ä½œã€‚</p>
<p>ä»¥æ•°æ®åº“é©±åŠ¨ä¸ºä¾‹ï¼Œ database ä¸‹çš„é©±åŠ¨åœ¨å¯åŠ¨æ—¶æ‰§è¡Œ init å‡½æ•°ä¼šå°†è‡ªèº«æ³¨å†Œåˆ° sql åŒ…é‡Œï¼Œå› ä¸º sql åŒ…åœ¨ç¼–è¯‘æ—¶å¹¶ä¸çŸ¥é“è¿™äº›é©±åŠ¨çš„å­˜åœ¨ï¼Œç­‰å¯åŠ¨ä¹‹å sql æ‰èƒ½è°ƒç”¨è¿™äº›é©±åŠ¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package postgres</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    &quot;database&#x2F;sql&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func init() &#123;</span><br><span class="line">    sql.Register(&quot;postgres&quot;, new(PostgresDriver))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºæˆ‘ä»¬åªæ˜¯æƒ³æ‰§è¡Œè¿™ä¸ª postgres åŒ…çš„ <code>init</code> æ–¹æ³•ï¼Œå¹¶ä¸æƒ³ä½¿ç”¨è¿™ä¸ªåŒ…ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨å¯¼å…¥çš„æ—¶å€™ï¼Œéœ€è¦ä½¿ç”¨ç©ºç™½æ ‡è¯†ç¬¦ <code>_</code> æ¥é‡å‘½ååŒ…åï¼Œé¿å…ç¼–è¯‘é”™è¯¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    &quot;database&#x2F;sql&quot;</span><br><span class="line">    _ &quot;github.com&#x2F;goinaction&#x2F;code&#x2F;chapter3&#x2F;dbdriver&#x2F;postgres&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    sql.Open(&quot;postgres&quot;, &quot;mydb&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸Šéå¸¸ç®€æ´ï¼Œå‰©ä¸‹å¾ˆå¯¹æ•°æ®åº“çš„æ“ä½œï¼Œéƒ½æ˜¯ä½¿ç”¨ <code>database/sql</code> æ ‡å‡†æ¥å£ã€‚å¦‚æœæˆ‘ä»¬æƒ³æ¢å…¶ä»–æ•°æ®åº“é©±åŠ¨ï¼Œåªéœ€è¦æ¢ä¸ªå¯¼å…¥å³å¯ï¼Œçµæ´»æ–¹ä¾¿ã€‚</p>
]]></content>
      <categories>
        <category>ä»0åˆ°1å­¦Golang</category>
      </categories>
      <tags>
        <tag>Golang</tag>
      </tags>
  </entry>
  <entry>
    <title>Golangè¿è¡Œç¯å¢ƒé…ç½®</title>
    <url>/2017/04/02/golang-running-environment-configuration/</url>
    <content><![CDATA[<h4 id="Winç³»ç»Ÿä¸‹é…ç½®Goè¯­è¨€ç¯å¢ƒ"><a href="#Winç³»ç»Ÿä¸‹é…ç½®Goè¯­è¨€ç¯å¢ƒ" class="headerlink" title="Winç³»ç»Ÿä¸‹é…ç½®Goè¯­è¨€ç¯å¢ƒ"></a>Winç³»ç»Ÿä¸‹é…ç½®Goè¯­è¨€ç¯å¢ƒ</h4><ol>
<li>ä»ç½‘ç«™ <a href="https://golang.org/dl/" target="_blank" rel="noopener">Downloads - The Go Programming Language</a> ä¸‹è½½ <code>go1.6.3.windows-amd64.msi</code> å®‰è£…åŒ…ã€‚</li>
<li>è¿è¡Œå¹¶å®‰è£…åˆ°é»˜è®¤ç›®å½• <code>C:\Go</code> ç›®å½•ä¸‹ã€‚</li>
<li>é…ç½® <code>GOROOT</code> å’Œ <code>GOPATH</code> :<ul>
<li>åœ¨ ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ä¸­çš„ <code>PATH</code> å˜é‡ä¸­æ·»åŠ Goçš„ç›®å½• <code>C:\Go\bin;</code> (é€šè¿‡å®‰è£…åŒ…å®‰è£…åå·²é»˜è®¤è®¾ç½®è¯¥é¡¹)</li>
<li>åœ¨ ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ä¸­æ·»åŠ  <code>GOROOT</code> å˜é‡ï¼Œè®¾ç½®å€¼ä¸º <code>C:\Go\</code> (é€šè¿‡å®‰è£…åŒ…å®‰è£…åå·²é»˜è®¤è®¾ç½®è¯¥é¡¹)</li>
<li>è¦éªŒè¯ <code>GOROOT</code> æ˜¯å¦è®¾ç½®æˆåŠŸï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å‘½ä»¤è¡Œçª—å£ä¸­è¾“å…¥ <code>go version</code>ï¼Œå¦‚æœè¾“å‡ºäº†Goçš„ç‰ˆæœ¬ä¿¡æ¯åˆ™è¯´æ˜é…ç½®æ­£ç¡®ã€‚</li>
<li><code>GOPATH</code> å°±éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨é…ç½®ä¸€ä¸‹ï¼Œ<code>GOPATH</code> å°±æ˜¯ä½ çš„å·¥ä½œç›®å½•ï¼Œç”¨äºå­˜æ”¾é¡¹ç›®å’Œgoä¾èµ–åŒ…ç­‰ã€‚å‡è®¾ç›®å½• <code>E:\GOProject</code> ä¸ºæˆ‘çš„Goé¡¹ç›®å·¥ä½œç›®å½•ï¼Œè¯¥å·¥ä½œç›®å½•ä¸‹é»˜è®¤åŒ…å«ä¸‰ä¸ªå­ç›®å½•ï¼š<code>bin/</code> <code>pkg/</code> <code>src</code> ã€‚ç„¶åæˆ‘ä»¬åœ¨ ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ä¸­ æ–°å»º <code>GOPATH</code> å˜é‡ï¼Œè®¾ç½®å€¼ä¸º <code>E:\GOProject;</code>ã€‚é»˜è®¤æƒ…å†µä¸‹ <code>GOPATH</code> ç›®å½•å¯ä»¥è®¾ç½®å¤šä¸ªï¼Œä¹‹é—´ç”¨åˆ†å· <code>;</code> åˆ†éš”ã€‚</li>
<li>ç„¶ååœ¨å‘½ä»¤è¡Œçª—å£ä¸­è¾“å…¥ <code>echo %GOPATH%</code> å¦‚æœæ‰“å°å‡ºäº†ä¸Šé¢è®¾ç½®çš„ <code>GOPATH</code> çš„ç›®å½•ï¼Œåˆ™è¯´æ˜é…ç½®æˆåŠŸã€‚</li>
</ul>
</li>
<li>ä¸ºäº†éªŒè¯Goå¼€å‘ç¯å¢ƒæ˜¯å¦è®¾ç½®æˆåŠŸï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸‹è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š(ä¿è¯å·²ç»å®‰è£…Git)</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">go get github.com&#x2F;golang&#x2F;example&#x2F;hello</span><br></pre></td></tr></table></figure>
<ol start="5">
<li>ç„¶åæ‰§è¡Œå‘½ä»¤ï¼š</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">%GOPATH%&#x2F;bin&#x2F;hello</span><br></pre></td></tr></table></figure>

<p>å¦‚æœè¾“å‡ºäº† <code>Hello,Go examples!</code> åˆ™è¯´æ˜Goè¯­è¨€çš„å¼€å‘ç¯å¢ƒæ­å»ºæˆåŠŸã€‚</p>
<p>å‚è€ƒè‡ªï¼š<a href="http://www.wadewegner.com/2014/12/easy-go-programming-setup-for-windows/" target="_blank" rel="noopener">Easy Go Programming Setup for Windows Wade Wegner</a></p>
<hr>
<h4 id="Winä¸‹é…ç½®Golangå¼€å‘ç¯å¢ƒæ·»åŠ å¤šä¸ªå·¥ä½œç›®å½•"><a href="#Winä¸‹é…ç½®Golangå¼€å‘ç¯å¢ƒæ·»åŠ å¤šä¸ªå·¥ä½œç›®å½•" class="headerlink" title="Winä¸‹é…ç½®Golangå¼€å‘ç¯å¢ƒæ·»åŠ å¤šä¸ªå·¥ä½œç›®å½•"></a>Winä¸‹é…ç½®Golangå¼€å‘ç¯å¢ƒæ·»åŠ å¤šä¸ªå·¥ä½œç›®å½•</h4><p>æˆ‘ä¸€èˆ¬ä¼šè®¾ç½®ä¸¤ä¸ªç›®å½•ç”¨ä½œæˆ‘çš„å·¥ä½œé¡¹ç›®ã€‚ä¸€èˆ¬æˆ‘ä¼šå‘½åä¸º <code>xgo</code> å’Œ <code>xgo_workspace</code> ï¼Œä¸€ä¸ªç”¨æ¥å­˜å‚¨ç½‘ç»œä¸Šå…¶ä»–çš„Golangä¾èµ–é¡¹ç›®ï¼Œä¸€ä¸ªä½œä¸ºæˆ‘è‡ªå·±çš„å¼€å‘é¡¹ç›®å­˜æ”¾ä½ç½®ã€‚</p>
<p>åœ¨Windowsç³»ç»Ÿä¸‹å®‰è£…ä¸ŠGoçš„msiå®‰è£…åŒ…åï¼Œé»˜è®¤çš„ <code>GOPATH</code> ç›®å½•ä¸ºå½“å‰ç®¡ç†å‘˜è´¦æˆ·ç›®å½•ä¸‹çš„goæ–‡ä»¶å¤¹ï¼š<code>C:\Users\xxxx\go</code> ä¸­ï¼Œåœ¨ <code>Cmder</code> æ§åˆ¶å°ä¸­é€šè¿‡ <code>go env</code> æŸ¥çœ‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Î» go env                                             </span><br><span class="line">set GOARCH&#x3D;amd64                                     </span><br><span class="line">set GOBIN&#x3D;                                           </span><br><span class="line">set GOEXE&#x3D;.exe                                       </span><br><span class="line">set GOHOSTARCH&#x3D;amd64                                 </span><br><span class="line">set GOHOSTOS&#x3D;windows                                 </span><br><span class="line">set GOOS&#x3D;windows                                     </span><br><span class="line">set GOPATH&#x3D;C:\Users\xxxx\go                           </span><br><span class="line">set GORACE&#x3D;                                          </span><br><span class="line">set GOROOT&#x3D;C:\Go                                     </span><br><span class="line">set GOTOOLDIR&#x3D;C:\Go\pkg\tool\windows_amd64           </span><br><span class="line">set GCCGO&#x3D;gccgo                                      </span><br><span class="line">set CC&#x3D;gcc                                           </span><br><span class="line">set GOGCCFLAGS&#x3D;-m64 -mthreads -fmessage-length&#x3D;0     </span><br><span class="line">set CXX&#x3D;g++                                          </span><br><span class="line">set CGO_ENABLED&#x3D;1                                    </span><br><span class="line">set CGO_CFLAGS&#x3D;-g -O2                                </span><br><span class="line">set CGO_CPPFLAGS&#x3D;                                    </span><br><span class="line">set CGO_CXXFLAGS&#x3D;-g -O2                              </span><br><span class="line">set CGO_FFLAGS&#x3D;-g -O2                                </span><br><span class="line">set CGO_LDFLAGS&#x3D;-g -O2                               </span><br><span class="line">set PKG_CONFIG&#x3D;pkg-config</span><br></pre></td></tr></table></figure>

<p>åœ¨ <code>ç¯å¢ƒå˜é‡</code> ä¸‹æ–°å¢ <code>GOPATH</code> é¡¹ï¼Œæ·»åŠ å€¼ä¸º <code>E:\GOProject\xgo;E:\GOProject\xgo_workspace</code> ï¼Œæ³¨æ„å¤šä¸ªç›®å½•åœ¨windowsä¸‹ä½¿ç”¨åˆ†å· <code>;</code> åˆ†éš”ï¼Œé‡å¯ <code>Cmder</code> å†æ¬¡é€šè¿‡ <code>go env</code> æŸ¥çœ‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Î» go env</span><br><span class="line">set GOARCH&#x3D;amd64</span><br><span class="line">set GOBIN&#x3D;</span><br><span class="line">set GOEXE&#x3D;.exe</span><br><span class="line">set GOHOSTARCH&#x3D;amd64</span><br><span class="line">set GOHOSTOS&#x3D;windows</span><br><span class="line">set GOOS&#x3D;windows</span><br><span class="line">set GOPATH&#x3D;E:\GOProject\xgo;E:\GOProject\xgo_workspace</span><br><span class="line">set GORACE&#x3D;</span><br><span class="line">set GOROOT&#x3D;C:\Go</span><br><span class="line">set GOTOOLDIR&#x3D;C:\Go\pkg\tool\windows_amd64</span><br><span class="line">set GCCGO&#x3D;gccgo</span><br><span class="line">set CC&#x3D;gcc</span><br><span class="line">set GOGCCFLAGS&#x3D;-m64 -mthreads -fmessage-length&#x3D;0</span><br><span class="line">set CXX&#x3D;g++</span><br><span class="line">set CGO_ENABLED&#x3D;1</span><br><span class="line">set CGO_CFLAGS&#x3D;-g -O2</span><br><span class="line">set CGO_CPPFLAGS&#x3D;</span><br><span class="line">set CGO_CXXFLAGS&#x3D;-g -O2</span><br><span class="line">set CGO_FFLAGS&#x3D;-g -O2</span><br><span class="line">set CGO_LDFLAGS&#x3D;-g -O2</span><br><span class="line">set PKG_CONFIG&#x3D;pkg-config</span><br></pre></td></tr></table></figure>


<hr>
<h4 id="Macä¸‹é…ç½®Golangå¼€å‘ç¯å¢ƒ"><a href="#Macä¸‹é…ç½®Golangå¼€å‘ç¯å¢ƒ" class="headerlink" title="Macä¸‹é…ç½®Golangå¼€å‘ç¯å¢ƒ"></a>Macä¸‹é…ç½®Golangå¼€å‘ç¯å¢ƒ</h4><h5 id="é€šè¿‡brewå®‰è£…"><a href="#é€šè¿‡brewå®‰è£…" class="headerlink" title="é€šè¿‡brewå®‰è£…"></a>é€šè¿‡brewå®‰è£…</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ brew install go</span><br></pre></td></tr></table></figure>

<h5 id="é€šè¿‡pkgåŒ…å®‰è£…"><a href="#é€šè¿‡pkgåŒ…å®‰è£…" class="headerlink" title="é€šè¿‡pkgåŒ…å®‰è£…"></a>é€šè¿‡pkgåŒ…å®‰è£…</h5><p>ä» <a href="https://golang.org/" target="_blank" rel="noopener">golangå®˜ç½‘</a> ä¸‹è½½Macä¸‹çš„pkgå®‰è£…åŒ…ç›´æ¥å®‰è£….</p>
<h5 id="ç¯å¢ƒå˜é‡é…ç½®"><a href="#ç¯å¢ƒå˜é‡é…ç½®" class="headerlink" title="ç¯å¢ƒå˜é‡é…ç½®"></a>ç¯å¢ƒå˜é‡é…ç½®</h5><p>GOPATHå…è®¸å¤šä¸ªç›®å½•ï¼Œå½“æœ‰å¤šä¸ªç›®å½•æ—¶ï¼Œè¯·æ³¨æ„åˆ†éš”ç¬¦ï¼Œå¤šä¸ªç›®å½•çš„æ—¶å€™Windowsæ˜¯åˆ†å· <code>;</code>ï¼ŒLinuxç³»ç»ŸåŠMacä¸‹æ˜¯å†’å· <code>:</code>ï¼Œå½“æœ‰å¤šä¸ªGOPATHæ—¶ï¼Œé»˜è®¤ä¼šå°† <code>go get</code> çš„å†…å®¹æ”¾åœ¨ç¬¬ä¸€ä¸ªç›®å½•ä¸‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ go env</span><br><span class="line">GOARCH&#x3D;&quot;amd64&quot;</span><br><span class="line">GOBIN&#x3D;&quot;&quot;</span><br><span class="line">GOEXE&#x3D;&quot;&quot;</span><br><span class="line">GOHOSTARCH&#x3D;&quot;amd64&quot;</span><br><span class="line">GOHOSTOS&#x3D;&quot;darwin&quot;</span><br><span class="line">GOOS&#x3D;&quot;darwin&quot;</span><br><span class="line">GOPATH&#x3D;&quot;&quot;</span><br><span class="line">GORACE&#x3D;&quot;&quot;</span><br><span class="line">GOROOT&#x3D;&quot;&#x2F;usr&#x2F;local&#x2F;go&quot;</span><br><span class="line">GOTOOLDIR&#x3D;&quot;&#x2F;usr&#x2F;local&#x2F;go&#x2F;pkg&#x2F;tool&#x2F;darwin_amd64&quot;</span><br><span class="line">CC&#x3D;&quot;clang&quot;</span><br><span class="line">GOGCCFLAGS&#x3D;&quot;-fPIC -m64 -pthread -fno-caret-diagnostics -Qunused-arguments -fmessage-length&#x3D;0 -fdebug-prefix-map&#x3D;&#x2F;var&#x2F;folders&#x2F;mk&#x2F;7c0w24ts0ps1g06q78gzd7dc0000gn&#x2F;T&#x2F;go-build098119519&#x3D;&#x2F;tmp&#x2F;go-build -gno-record-gcc-switches -fno-common&quot;</span><br><span class="line">CXX&#x3D;&quot;clang++&quot;</span><br><span class="line">CGO_ENABLED&#x3D;&quot;1&quot;</span><br></pre></td></tr></table></figure>


<p>å‡å¦‚æˆ‘çš„goé¡¹ç›®å¼€å‘ä¸»ç›®å½•ä¸º:<br><code>/Users/xxx/Learn/Go</code><br>åœ¨è¯¥ç›®å½•ä¸‹,ç¬¬ä¸€ä¸ªç›®å½•ä¸º <code>xgo</code>  ç¬¬äºŒä¸ªç›®å½•ä¸º <code>xgo_workspace</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># GOPATH</span><br><span class="line">export GOPATH&#x3D;$HOME&#x2F;Learn&#x2F;Go&#x2F;xgo:$HOME&#x2F;Learn&#x2F;Go&#x2F;xgo_workspace</span><br><span class="line"></span><br><span class="line"># GOPATH bin</span><br><span class="line">export PATH&#x3D;$PATH:$GOPATH&#x2F;bin</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ å®Œæˆå,é‡å¯ç»ˆç«¯å³å¯ç”Ÿæ•ˆ.å¦‚æœæƒ³ç«‹å³ç”Ÿæ•ˆ,åˆ™å¯æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ source ~&#x2F;.bash_profile</span><br></pre></td></tr></table></figure>

<p>å†æ¬¡æŸ¥çœ‹goç¯å¢ƒå˜é‡:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ go env</span><br><span class="line">GOARCH&#x3D;&quot;amd64&quot;</span><br><span class="line">GOBIN&#x3D;&quot;&quot;</span><br><span class="line">GOEXE&#x3D;&quot;&quot;</span><br><span class="line">GOHOSTARCH&#x3D;&quot;amd64&quot;</span><br><span class="line">GOHOSTOS&#x3D;&quot;darwin&quot;</span><br><span class="line">GOOS&#x3D;&quot;darwin&quot;</span><br><span class="line">GOPATH&#x3D;&quot;&#x2F;Users&#x2F;xxx&#x2F;Learn&#x2F;Go&#x2F;xgo:&#x2F;Users&#x2F;xxx&#x2F;Learn&#x2F;Go&#x2F;xgo_workspace&quot;</span><br><span class="line">GORACE&#x3D;&quot;&quot;</span><br><span class="line">GOROOT&#x3D;&quot;&#x2F;usr&#x2F;local&#x2F;go&quot;</span><br><span class="line">GOTOOLDIR&#x3D;&quot;&#x2F;usr&#x2F;local&#x2F;go&#x2F;pkg&#x2F;tool&#x2F;darwin_amd64&quot;</span><br><span class="line">CC&#x3D;&quot;clang&quot;</span><br><span class="line">GOGCCFLAGS&#x3D;&quot;-fPIC -m64 -pthread -fno-caret-diagnostics -Qunused-arguments -fmessage-length&#x3D;0 -fdebug-prefix-map&#x3D;&#x2F;var&#x2F;folders&#x2F;mk&#x2F;7c0w24ts0ps1g06q78gzd7dc0000gn&#x2F;T&#x2F;go-build346222074&#x3D;&#x2F;tmp&#x2F;go-build -gno-record-gcc-switches -fno-common&quot;</span><br><span class="line">CXX&#x3D;&quot;clang++&quot;</span><br><span class="line">CGO_ENABLED&#x3D;&quot;1&quot;</span><br></pre></td></tr></table></figure>

<hr>
<ul>
<li><a href="http://blog.helloarron.com/2015/08/29/go/mac-install-go/" target="_blank" rel="noopener">http://blog.helloarron.com/2015/08/29/go/mac-install-go/</a></li>
<li><a href="https://github.com/astaxie/build-web-application-with-golang/blob/master/zh/01.2.md" target="_blank" rel="noopener">https://github.com/astaxie/build-web-application-with-golang/blob/master/zh/01.2.md</a></li>
<li><a href="http://blog.studygolang.com/2013/01/%E5%86%8D%E7%9C%8Bgopath/" target="_blank" rel="noopener">http://blog.studygolang.com/2013/01/%E5%86%8D%E7%9C%8Bgopath/</a>  (è®¾ç½®å¤šä¸ªç›®å½•æ—¶åªä¼šå°†æœ€åä¸€ä¸ªç›®å½•æ·»åŠ ä¸Šbin è¿™é‡Œè¦è¯´æ˜)</li>
</ul>
<hr>
<h4 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h4><ul>
<li>2017-11-28 æ›´æ–°windowsä¸‹è®¾ç½®å¤šä¸ªå·¥ä½œç›®å½•çš„è¯´æ˜</li>
</ul>
]]></content>
      <categories>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>Golang</tag>
      </tags>
  </entry>
  <entry>
    <title>Goè¯­è¨€å­¦ä¹ èµ„æ–™æ•´ç†</title>
    <url>/2017/03/31/learning-golang/</url>
    <content><![CDATA[<p>æ•´ç†ç½‘ä¸Šæ‰¾åˆ°çš„Golangè¯­è¨€å­¦ä¹ èµ„æ–™</p>
<h4 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h4><h5 id="åŸºç¡€æ•™ç¨‹-ä¹¦ç±åœ¨çº¿ç‰ˆ"><a href="#åŸºç¡€æ•™ç¨‹-ä¹¦ç±åœ¨çº¿ç‰ˆ" class="headerlink" title="åŸºç¡€æ•™ç¨‹ ä¹¦ç±åœ¨çº¿ç‰ˆ"></a>åŸºç¡€æ•™ç¨‹ ä¹¦ç±åœ¨çº¿ç‰ˆ</h5><ul>
<li><a href="https://tour.go-zh.org/" target="_blank" rel="noopener">Go æŒ‡å—-A Tour of Go</a></li>
<li><a href="https://docs.ruanjiadeng.com/gopl-zh/" target="_blank" rel="noopener">Goè¯­è¨€åœ£ç»ï¼ˆä¸­æ–‡ç‰ˆï¼‰</a></li>
<li><a href="http://www.kancloud.cn/kancloud/effective" target="_blank" rel="noopener">Effective Goä¸­æ–‡ç‰ˆ</a></li>
<li><a href="https://github.com/astaxie/build-web-application-with-golang/blob/master/zh/preface.md" target="_blank" rel="noopener">Go Webç¼–ç¨‹ build-web-application-with-golang</a></li>
<li><a href="http://wiki.jikexueyuan.com/project/the-way-to-go/" target="_blank" rel="noopener">Goå…¥é—¨æŒ‡å— The Way to Go</a></li>
<li><a href="https://github.com/Unknwon/the-way-to-go_ZH_CN" target="_blank" rel="noopener">ã€ŠThe Way to Goã€‹ä¸­æ–‡è¯‘æœ¬ï¼Œä¸­æ–‡æ­£å¼åã€ŠGoå…¥é—¨æŒ‡å—ã€‹</a></li>
<li><a href="http://www.kancloud.cn/digest/batu-go" target="_blank" rel="noopener">Golangå­¦ä¹ å®¤</a></li>
<li><a href="https://github.com/jemygraw/TechDoc" target="_blank" rel="noopener">Goè½»æ¾å­¦ TechDoc</a></li>
<li><a href="https://github.com/astaxie/go-best-practice" target="_blank" rel="noopener">ã€ŠGoå®æˆ˜å¼€å‘ã€‹ go-best-practice</a></li>
</ul>
<hr>
<h5 id="åŸºç¡€æ•™ç¨‹-ä¹¦ç±ç¦»çº¿ç‰ˆ"><a href="#åŸºç¡€æ•™ç¨‹-ä¹¦ç±ç¦»çº¿ç‰ˆ" class="headerlink" title="åŸºç¡€æ•™ç¨‹ ä¹¦ç±ç¦»çº¿ç‰ˆ"></a>åŸºç¡€æ•™ç¨‹ ä¹¦ç±ç¦»çº¿ç‰ˆ</h5><ul>
<li><a href="https://github.com/qyuhen/book" target="_blank" rel="noopener">GitHub - qyuhen/book: å­¦ä¹ ç¬”è®°</a></li>
</ul>
<hr>
<h5 id="åŸºç¡€æ•™ç¨‹-è§†é¢‘"><a href="#åŸºç¡€æ•™ç¨‹-è§†é¢‘" class="headerlink" title="åŸºç¡€æ•™ç¨‹ è§†é¢‘"></a>åŸºç¡€æ•™ç¨‹ è§†é¢‘</h5><ul>
<li><a href="http://study.163.com/course/courseMain.htm?courseId=306002" target="_blank" rel="noopener">Goç¼–ç¨‹åŸºç¡€</a></li>
<li><a href="http://pan.baidu.com/share/link?uk=1059486155&shareid=1843715017" target="_blank" rel="noopener">Goç¼–ç¨‹åŸºç¡€_å…è´¹é«˜é€Ÿä¸‹è½½|ç™¾åº¦ç½‘ç›˜-åˆ†äº«æ— é™åˆ¶</a></li>
</ul>
<hr>
<h4 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h4><ul>
<li><a href="http://study.163.com/course/introduction.htm?courseId=328001" target="_blank" rel="noopener">Go Web åŸºç¡€ - ç½‘æ˜“äº‘è¯¾å ‚</a></li>
<li><a href="http://www.kancloud.cn/hello123/beego" target="_blank" rel="noopener">beegoå¼€å‘æ–‡æ¡£</a></li>
</ul>
<hr>
<h4 id="è¿›é˜¶"><a href="#è¿›é˜¶" class="headerlink" title="è¿›é˜¶"></a>è¿›é˜¶</h4><ul>
<li><a href="https://github.com/tiancaiamao/go-internals" target="_blank" rel="noopener">æ·±å…¥è§£æGo go-internals</a></li>
<li><a href="http://study.163.com/course/introduction.htm?courseId=510006" target="_blank" rel="noopener">Goååº“è®²è§£ - ç½‘æ˜“äº‘è¯¾å ‚</a></li>
<li><a href="https://github.com/polaris1119/The-Golang-Standard-Library-by-Example" target="_blank" rel="noopener">Goè¯­è¨€æ ‡å‡†åº“</a></li>
<li><a href="https://github.com/hyper0x/go_command_tutorial" target="_blank" rel="noopener">GO å‘½ä»¤æ•™ç¨‹ : Golang command tutorial in Chinese.</a></li>
<li><a href="http://www.jianshu.com/p/dd80f6be7969" target="_blank" rel="noopener">ç†è§£Goè¯­è¨€çš„nil - ç®€ä¹¦</a></li>
</ul>
<hr>
<h4 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h4><ul>
<li><a href="https://gowalker.org/" target="_blank" rel="noopener">Go Walker - Go è¯­è¨€åœ¨çº¿ API æ–‡æ¡£</a></li>
<li><a href="https://gopm.io/" target="_blank" rel="noopener">Go è¯­è¨€åŒ…ç®¡ç†</a></li>
<li><a href="http://regoio.herokuapp.com/" target="_blank" rel="noopener">Rego - A Go regular expression tester</a></li>
</ul>
<hr>
<h4 id="é¡¹ç›®"><a href="#é¡¹ç›®" class="headerlink" title="é¡¹ç›®"></a>é¡¹ç›®</h4><ul>
<li><a href="https://github.com/golang/go/wiki/Projects" target="_blank" rel="noopener">Projects Â· golang/go Wiki Â· GitHub</a></li>
</ul>
<hr>
<h4 id="Golangå¤§ç‰›"><a href="#Golangå¤§ç‰›" class="headerlink" title="Golangå¤§ç‰›"></a>Golangå¤§ç‰›</h4><ul>
<li><a href="https://github.com/Unknwon" target="_blank" rel="noopener">Unknwon (æ— é—») Â· GitHub</a></li>
<li><a href="https://github.com/qyuhen" target="_blank" rel="noopener">qyuhen (Q.yuhen) Â· GitHub</a></li>
</ul>
<hr>
<h4 id="Go-å¼€å‘å·¥å…·"><a href="#Go-å¼€å‘å·¥å…·" class="headerlink" title="Go å¼€å‘å·¥å…·"></a>Go å¼€å‘å·¥å…·</h4><ul>
<li>gosublimetext æ’ä»¶</li>
<li><a href="https://github.com/DisposaBoy/GoSublime" target="_blank" rel="noopener">GitHub - DisposaBoy/GoSublime: A Golang plugin collection for SublimeText <strong>3</strong>, providing code completion and other IDE-like features.</a></li>
<li><a href="http://blog.wiseturtles.com/posts/go-ide.html" target="_blank" rel="noopener">Wise Turtles - Goå­¦ä¹ ç¬”è®°3ä¹‹æ‰“é€ Sublime Text&nbsp;3ä½œä¸ºGoçš„é›†æˆå¼€å‘ç¯å¢ƒ</a></li>
<li><a href="http://blog.csdn.net/chenggong2dm/article/details/49423555" target="_blank" rel="noopener">Goè¯­è¨€ç¼–è¾‘å™¨IDEä¹‹JetBrainsç¯‡(PyCharm+goæ’ä»¶plugin)</a></li>
<li><a href="http://www.vckai.com/p/13" target="_blank" rel="noopener">Sublime Text3 &#43; Golangæ­å»ºå¼€å‘ç¯å¢ƒ_éšç¬” - Vckaiçš„ä¸ªäººæŠ€æœ¯åšå®¢. - Vckai.com</a></li>
<li><a href="http://www.cnblogs.com/sevenyuan/archive/2013/03/01/2938351.html" target="_blank" rel="noopener">Sublime Text 2æ­å»ºGoå¼€å‘ç¯å¢ƒï¼ˆWindowsï¼‰ - Bill Yuan - åšå®¢å›­</a></li>
<li><a href="https://my.oschina.net/Obahua/blog/110767" target="_blank" rel="noopener">Ubuntu é…ç½® Go è¯­è¨€å¼€å‘ç¯å¢ƒï¼ˆSublime Text+GoSublimeï¼‰  - æŠ›å¼ƒä¸–ä¿—ä¹‹æµ®èºï¼Œç•™æˆ‘é’»ç ”ä¹‹åˆ»è‹¦ - å¼€æºä¸­å›½ç¤¾åŒº</a></li>
</ul>
<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="http://www.jianshu.com/p/d7a03c8e4e8a" target="_blank" rel="noopener">Golangå­¦ä¹ å†ç¨‹ - ç®€ä¹¦</a></li>
<li><a href="https://github.com/Unknwon/go-study-index" target="_blank" rel="noopener">GitHub - Unknwon/go-study-index: Go è¯­è¨€å­¦ä¹ èµ„æ–™ç´¢å¼•</a></li>
<li><a href="http://ironxu.com/category/go" target="_blank" rel="noopener">Go æ ‡å‡†åº“ä»‹ç» ironxu</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/25493806" target="_blank" rel="noopener">GOè¯­è¨€å­¦ä¹ èµ„æºæ•´ç† - çŸ¥ä¹ä¸“æ </a></li>
<li><a href="https://github.com/carryxyh/GO-Start/blob/master/Go%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84%E9%97%AD%E5%8C%85.md" target="_blank" rel="noopener">GO-Start/Goè¯­è¨€ä¸­çš„é—­åŒ….md at master Â· carryxyh/GO-Start Â· GitHub</a></li>
<li><a href="https://xiequan.info/go%E7%9A%84%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/" target="_blank" rel="noopener">Goçš„æ–‡ä»¶æ“ä½œ - è°¢æƒSELF</a></li>
<li><a href="https://yq.aliyun.com/articles/72365" target="_blank" rel="noopener">Goè¯­è¨€å¹¶å‘æœºåˆ¶åˆæ¢-åšå®¢-äº‘æ –ç¤¾åŒº-é˜¿é‡Œäº‘</a></li>
<li><a href="http://www.flysnow.org/categories/Golang/" target="_blank" rel="noopener">Goè¯­è¨€å®æˆ˜ç¬”è®°</a></li>
<li><a href="https://segmentfault.com/a/1190000005757688" target="_blank" rel="noopener">Goå­¦ä¹ ã€äºŒã€‘å­¦ä¹ èµ„æ–™ - ä¸€èµ·å­¦ä¹  go - SegmentFault</a></li>
<li><a href="http://www.jianshu.com/p/a70098a94d18" target="_blank" rel="noopener">GOè¯­è¨€é›¶åŸºç¡€å…¥é—¨èµ„æ–™æ•´ç† - ç®€ä¹¦</a></li>
<li><a href="http://smallsoho.com/2016/11/20/Go%E7%AE%80%E6%98%8E%E6%95%99%E7%A8%8B.html" target="_blank" rel="noopener">Goç®€æ˜æ•™ç¨‹</a></li>
</ul>
<hr>
<h4 id="ç”µå­ä¹¦æ•™ç¨‹"><a href="#ç”µå­ä¹¦æ•™ç¨‹" class="headerlink" title="ç”µå­ä¹¦æ•™ç¨‹"></a>ç”µå­ä¹¦æ•™ç¨‹</h4><h5 id="Go-è¯­è¨€åŸºç¡€"><a href="#Go-è¯­è¨€åŸºç¡€" class="headerlink" title="Go è¯­è¨€åŸºç¡€"></a>Go è¯­è¨€åŸºç¡€</h5><ul>
<li><a href="https://www.gitbook.com/book/zengweigang/core-go/details" target="_blank" rel="noopener">goè¯­è¨€å…¥é—¨ Â· GitBook</a></li>
<li><a href="http://www.runoob.com/go/go-tutorial.html" target="_blank" rel="noopener">goè¯­è¨€æ•™ç¨‹</a></li>
<li><a href="http://mikespook.com/learning-go/" target="_blank" rel="noopener">ã€Šå­¦ä¹ GOè¯­è¨€ã€‹ä¸­æ–‡ç‰ˆ</a></li>
<li><a href="https://github.com/mikespook/Learning-Go-zh-cn" target="_blank" rel="noopener">ã€Šå­¦ä¹ GOè¯­è¨€ã€‹GitHub - mikespook/Learning-Go-zh-cn: ä¸€æœ¬å­¦ä¹  Go è¯­è¨€çš„å…è´¹ç”µå­ä¹¦ã€‚</a></li>
<li><a href="https://github.com/Unknwon/go-fundamental-programming" target="_blank" rel="noopener">GitHub - Unknwon/go-fundamental-programming: ã€ŠGoç¼–ç¨‹åŸºç¡€ã€‹æ˜¯ä¸€å¥—é’ˆå¯¹ Google å‡ºå“çš„ Go è¯­è¨€çš„è§†é¢‘è¯­éŸ³æ•™ç¨‹ï¼Œä¸»è¦é¢å‘æ–°æ‰‹çº§åˆ«çš„å­¦ä¹ è€…ã€‚</a></li>
<li><a href="https://github.com/Unknwon/go-rock-libraries-showcases" target="_blank" rel="noopener">GitHub - Unknwon/go-rock-libraries-showcases: ã€ŠGoååº“è®²è§£ã€‹æ˜¯ä¸€å¥—é’ˆå¯¹ Google å‡ºå“çš„ Go è¯­è¨€çš„ç¬¬ä¸‰æ–¹åº“è¿›è¡Œè¯„æµ‹è®²è§£çš„é›†åšå®¢ã€ç¤ºä¾‹ä¸è¯­éŸ³è§†é¢‘ä¸ºä¸€ä½“çš„ç»¼åˆæ•™ç¨‹ï¼Œé€‚åˆå®Œæˆå­¦ä¹ å®Œæˆã€ŠGoç¼–ç¨‹åŸºç¡€ã€‹æ•™ç¨‹çš„å­¦ä¹ è€…ã€‚</a></li>
<li><a href="https://github.com/Unknwon/the-way-to-go_ZH_CN" target="_blank" rel="noopener">GitHub - Unknwon/the-way-to-go_ZH_CN: ã€ŠThe Way to Goã€‹ä¸­æ–‡è¯‘æœ¬ï¼Œä¸­æ–‡æ­£å¼åã€ŠGoå…¥é—¨æŒ‡å—ã€‹</a></li>
<li><a href="http://docs.ruanjiadeng.com/gopl-zh/" target="_blank" rel="noopener">å‰è¨€ | Goè¯­è¨€åœ£ç»</a></li>
</ul>
<h5 id="Go-Web-å¼€å‘"><a href="#Go-Web-å¼€å‘" class="headerlink" title="Go Web å¼€å‘"></a>Go Web å¼€å‘</h5><ul>
<li><a href="https://github.com/Unknwon/go-web-foundation" target="_blank" rel="noopener">GitHub - Unknwon/go-web-foundation: ã€ŠGo WebåŸºç¡€ã€‹æ˜¯ä¸€å¥—é’ˆå¯¹ Google å‡ºå“çš„ Go è¯­è¨€çš„è§†é¢‘è¯­éŸ³æ•™ç¨‹ï¼Œä¸»è¦é¢å‘å®Œæˆã€ŠGoç¼–ç¨‹åŸºç¡€ã€‹æ•™ç¨‹åå¸Œæœ›è¿›ä¸€æ­¥äº†è§£æœ‰å…³ Go Web å¼€å‘çš„å­¦ä¹ è€…ã€‚</a></li>
<li><a href="https://github.com/astaxie/build-web-application-with-golang" target="_blank" rel="noopener">ã€ŠGO WEBç¼–ç¨‹ã€‹</a></li>
</ul>
<h4 id="è§†é¢‘æ•™ç¨‹"><a href="#è§†é¢‘æ•™ç¨‹" class="headerlink" title="è§†é¢‘æ•™ç¨‹"></a>è§†é¢‘æ•™ç¨‹</h4><ul>
<li><a href="http://edu.51cto.com/course/course_id-1762.html" target="_blank" rel="noopener">è·Ÿæ— é—»å­¦Goè¯­è¨€ï¼šGoç¼–ç¨‹åŸºç¡€è§†é¢‘æ•™ç¨‹ï¼ˆå…±15è¯¾æ—¶ï¼‰_åœ¨çº¿è‡ªå­¦è§†é¢‘æ•™ç¨‹_51CTOå­¦é™¢</a></li>
<li><a href="http://edu.51cto.com/course/course_id-2038.html" target="_blank" rel="noopener">è·Ÿæ— é—»å­¦Goè¯­è¨€ï¼šGo WebåŸºç¡€è§†é¢‘æ•™ç¨‹ï¼ˆå…±12è¯¾æ—¶ï¼‰_åœ¨çº¿è‡ªå­¦è§†é¢‘æ•™ç¨‹_51CTOå­¦é™¢</a></li>
<li><a href="http://www.imooc.com/learn/345" target="_blank" rel="noopener">Goè¯­è¨€ç¬¬ä¸€è¯¾_Goè¯­è¨€è§†é¢‘æ•™ç¨‹-æ…•è¯¾ç½‘</a></li>
<li><a href="http://pan.baidu.com/share/link?uk=2550574961&shareid=1455348293#list/path=%2FGo%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B%2FGo%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80%2FMP4%20%E5%9C%A8%E7%BA%BF%E6%92%AD%E6%94%BE&parentPath=%2F" target="_blank" rel="noopener">Goç¼–ç¨‹åŸºç¡€</a></li>
<li><a href="http://pan.baidu.com/share/link?uk=1812212015&shareid=3714035079#list/path=%2F" target="_blank" rel="noopener">Golangç¼–ç¨‹åŸºç¡€</a></li>
<li><a href="http://pan.baidu.com/share/link?uk=1898819075&shareid=1186516839#list/path=%2F&parentPath=%2F%E6%88%91%E7%9A%84%E8%B5%84%E6%BA%90%2F%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B" target="_blank" rel="noopener">Goå…¨å¥—</a></li>
</ul>
]]></content>
      <categories>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>Golang</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker-Ubuntu-Gogsä¸ªæ€§åŒ–è®¾ç½®</title>
    <url>/2017/03/27/docker-ubuntu-gogs-custom/</url>
    <content><![CDATA[<p>Docker Gogs ç”¨æ›´ç®€å•çš„æ–¹å¼éƒ¨ç½²ã€å‡çº§æˆ–è¿ç§»Gogså®¹å™¨æœåŠ¡ã€‚</p>
<p>ä¸ªæ€§åŒ–çš„é…ç½® Docker Gogs é¦–é¡µæ ·å¼ã€‚</p>
<h4 id="Gogs-MITå¼€æºåè®®"><a href="#Gogs-MITå¼€æºåè®®" class="headerlink" title="Gogs MITå¼€æºåè®®"></a>Gogs MITå¼€æºåè®®</h4><blockquote>
<p>Gogs é¡¹ç›®ä»£ç  100% å¼€æºå¹¶å¯æ— æ¡ä»¶å…è´¹ä½¿ç”¨ã€‚æ‰€æœ‰çš„æºä»£ç å‡é€šè¿‡ MIT æˆæƒåè®® æ‰˜ç®¡åœ¨ GitHub ä¸Šã€‚</p>
</blockquote>
<hr>
<h4 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h4><h5 id="åœ¨Dockerå®¿ä¸»æœºå’Œå®¹å™¨ä¹‹é—´æ‹·è´æ–‡ä»¶çš„å‘½ä»¤"><a href="#åœ¨Dockerå®¿ä¸»æœºå’Œå®¹å™¨ä¹‹é—´æ‹·è´æ–‡ä»¶çš„å‘½ä»¤" class="headerlink" title="åœ¨Dockerå®¿ä¸»æœºå’Œå®¹å™¨ä¹‹é—´æ‹·è´æ–‡ä»¶çš„å‘½ä»¤"></a>åœ¨Dockerå®¿ä¸»æœºå’Œå®¹å™¨ä¹‹é—´æ‹·è´æ–‡ä»¶çš„å‘½ä»¤</h5><p>ä»¥ä¸‹å‘½ä»¤å‡åœ¨ <code>å®¿ä¸»æœº</code> ä¸Šæ‰§è¡Œã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ‹·è´æ–‡ä»¶ä»å®¿ä¸»æœºè‡³å®¹å™¨ï¼š</span></span><br><span class="line">$ docker cp localfile &lt;ConName&gt;:/app/confile</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‹·è´æ–‡ä»¶ä»å®¹å™¨è‡³å®¿ä¸»æœºï¼š</span></span><br><span class="line">$ docker cp &lt;ConName&gt;:/app/confile localfile</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="å°†å¾…å¤„ç†æ–‡ä»¶è¿›è¡Œå¤‡ä»½æ“ä½œ"><a href="#å°†å¾…å¤„ç†æ–‡ä»¶è¿›è¡Œå¤‡ä»½æ“ä½œ" class="headerlink" title="å°†å¾…å¤„ç†æ–‡ä»¶è¿›è¡Œå¤‡ä»½æ“ä½œ"></a>å°†å¾…å¤„ç†æ–‡ä»¶è¿›è¡Œå¤‡ä»½æ“ä½œ</h5><p>ä½¿ç”¨ <code>docker exec</code> å‘½ä»¤è¿›å…¥è¿è¡Œä¸­çš„å®¹å™¨ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ docker <span class="built_in">exec</span> -it &lt;ConName&gt; /bin/bash</span><br></pre></td></tr></table></figure>

<p>å¤‡ä»½Gogsç›®å½•ä¸‹çš„ä»¥ä¸‹æ–‡ä»¶ï¼š</p>
<ul>
<li><code>templates/home.tmpl</code></li>
<li><code>templates/base/head.tmpl</code></li>
<li><code>templates/base/footer.tmpl</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker@ConName/templates<span class="comment"># cp ./home.tmpl ./home.tmpl.tmp</span></span><br></pre></td></tr></table></figure>

<hr>
<h4 id="æ›´æ”¹é¦–é¡µä»‹ç»-åªä¿ç•™LogoåŒºåŸŸ"><a href="#æ›´æ”¹é¦–é¡µä»‹ç»-åªä¿ç•™LogoåŒºåŸŸ" class="headerlink" title="æ›´æ”¹é¦–é¡µä»‹ç» åªä¿ç•™LogoåŒºåŸŸ"></a>æ›´æ”¹é¦–é¡µä»‹ç» åªä¿ç•™LogoåŒºåŸŸ</h4><p>é¦–é¡µä¸­éƒ¨å†…å®¹ â€“ <code>home.tmpl</code> â€“ å»é™¤é¦–é¡µä¸­ä¸‹éƒ¨åˆ†ä»‹ç»ï¼Œåªä¿ç•™LogoåŒºåŸŸ</p>
<p>å°†å®¹å™¨å†…çš„ <code>home.tmpl</code> æ–‡ä»¶æ‹·è´è‡³å®¿ä¸»æœºæœ¬åœ°ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ docker cp &lt;ConName&gt;:/home/git/gogs/templates/home.tmpl ./home.tmpl</span><br></pre></td></tr></table></figure>

<h5 id="ä¿®æ”¹é¦–é¡µç«™ç‚¹ä»‹ç»"><a href="#ä¿®æ”¹é¦–é¡µç«™ç‚¹ä»‹ç»" class="headerlink" title="ä¿®æ”¹é¦–é¡µç«™ç‚¹ä»‹ç»"></a>ä¿®æ”¹é¦–é¡µç«™ç‚¹ä»‹ç»</h5><p>ç½‘ç«™æ ‡é¢˜å’Œä»‹ç»éƒ¨åˆ†åœ¨é¡µé¢ä¸­çš„ <code>div.hero</code> éƒ¨åˆ†ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"hero"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">"ui icon header title"</span>&gt;</span></span><br><span class="line">		...</span><br><span class="line">	<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">h2</span>&gt;</span>...<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæˆ‘å°†ç«™ç‚¹ä»‹ç»ä¿®æ”¹ä¸ºäº† ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>ç”¨äº†é›ªå“¥Gitåº“ ä»æ­¤ç¼–ç¨‹ä¸å†å<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<h5 id="éšè—é¦–é¡µç«™ç‚¹è¯´æ˜éƒ¨åˆ†"><a href="#éšè—é¦–é¡µç«™ç‚¹è¯´æ˜éƒ¨åˆ†" class="headerlink" title="éšè—é¦–é¡µç«™ç‚¹è¯´æ˜éƒ¨åˆ†"></a>éšè—é¦–é¡µç«™ç‚¹è¯´æ˜éƒ¨åˆ†</h5><p>è¯´æ˜éƒ¨åˆ†æˆ‘ä»…ä»¥ <code>ç®€ä½“ä¸­æ–‡</code> å’Œ <code>English</code> ä¸¤ç§è¯­è¨€çš„ä¿®æ”¹æ¥è¯´æ˜ï¼š</p>
<p>ä¸­æ–‡è¯´æ˜éƒ¨åˆ†ï¼šå†…å®¹åœ¨é¡µé¢ä¸­çš„ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;&#123;else if eq .Lang &quot;zh-CN&quot;&#125;&#125;</span><br></pre></td></tr></table></figure>
<p>å’Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;&#123;else if eq .Lang &quot;fr-FR&quot;&#125;&#125;</span><br></pre></td></tr></table></figure>
<p>ä¹‹é—´ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&#123;&#123;else if eq .Lang "zh-CN"&#125;&#125;</span><br><span class="line">		...</span><br><span class="line">		...</span><br><span class="line">&#123;&#123;else if eq .Lang "fr-FR"&#125;&#125;</span><br></pre></td></tr></table></figure>

<p>è‹±æ–‡è¯´æ˜éƒ¨åˆ†ï¼šå†…å®¹åœ¨é¡µé¢ä¸­çš„ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;&#123;else&#125;&#125;</span><br></pre></td></tr></table></figure>
<p>å’Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;&#123;end&#125;&#125;</span><br></pre></td></tr></table></figure>
<p>ä¹‹é—´ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&#123;&#123;else&#125;&#125;</span><br><span class="line">	...</span><br><span class="line">	...</span><br><span class="line">&#123;&#123;end&#125;&#125;</span><br></pre></td></tr></table></figure>

<p>å°†è¿™ä¸¤éƒ¨åˆ†çš„å†…å®¹åˆ é™¤æˆ–ç”¨ <code>&lt;!-- --&gt;</code> éšè—ã€‚</p>
<p>æ›´æ”¹å®Œæˆåï¼Œä¿å­˜ï¼Œå¹¶æ›´æ–°å›å®¹å™¨ä¸­ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker cp ./home.tmpl &lt;ConName&gt;:/home/git/gogs/templates/home.tmpl</span></span><br></pre></td></tr></table></figure>

<hr>
<h4 id="å»é™¤æœªç™»å½•ç”¨æˆ·å·¦ä¸Šè§’æ˜¾ç¤ºçš„â€œå¸®åŠ©â€æŒ‰é’®åŠæ›´æ¢èƒŒæ™¯å›¾æ¡ˆ"><a href="#å»é™¤æœªç™»å½•ç”¨æˆ·å·¦ä¸Šè§’æ˜¾ç¤ºçš„â€œå¸®åŠ©â€æŒ‰é’®åŠæ›´æ¢èƒŒæ™¯å›¾æ¡ˆ" class="headerlink" title="å»é™¤æœªç™»å½•ç”¨æˆ·å·¦ä¸Šè§’æ˜¾ç¤ºçš„â€œå¸®åŠ©â€æŒ‰é’®åŠæ›´æ¢èƒŒæ™¯å›¾æ¡ˆ"></a>å»é™¤æœªç™»å½•ç”¨æˆ·å·¦ä¸Šè§’æ˜¾ç¤ºçš„â€œå¸®åŠ©â€æŒ‰é’®åŠæ›´æ¢èƒŒæ™¯å›¾æ¡ˆ</h4><p>å¤´éƒ¨å¯¼èˆª â€“ <code>head.tmpl</code> â€“ å»é™¤æœªç™»å½•ç”¨æˆ·å·¦ä¸Šè§’æ˜¾ç¤ºçš„â€œå¸®åŠ©â€æŒ‰é’®</p>
<p>å…ˆä»å®¹å™¨ä¸­è·å–è¯¥æ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ docker cp &lt;ConName&gt;:/home/git/gogs/templates/base/head.tmpl ./head.tmpl</span><br></pre></td></tr></table></figure>

<h5 id="å»é™¤æœªç™»å½•ç”¨æˆ·å·¦ä¸Šè§’æ˜¾ç¤ºçš„â€œå¸®åŠ©â€æŒ‰é’®"><a href="#å»é™¤æœªç™»å½•ç”¨æˆ·å·¦ä¸Šè§’æ˜¾ç¤ºçš„â€œå¸®åŠ©â€æŒ‰é’®" class="headerlink" title="å»é™¤æœªç™»å½•ç”¨æˆ·å·¦ä¸Šè§’æ˜¾ç¤ºçš„â€œå¸®åŠ©â€æŒ‰é’®"></a>å»é™¤æœªç™»å½•ç”¨æˆ·å·¦ä¸Šè§’æ˜¾ç¤ºçš„â€œå¸®åŠ©â€æŒ‰é’®</h5><p>å°†å¦‚ä¸‹éƒ¨åˆ†ä»£ç ä¸­çš„ <code>&lt;a&gt;...&lt;/a&gt;</code> æ³¨é‡Šæ‰æˆ–åˆ é™¤ï¼Œä¿®æ”¹åå¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&#123;&#123;else&#125;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--&lt;a class="item" target="_blank" href="https://gogs.io/docs" rel="noreferrer"&gt;&#123;&#123;.i18n.Tr "help"&#125;&#125;&lt;/a&gt;--&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right menu"</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<h5 id="æ›´æ”¹é¦–é¡µèƒŒæ™¯å›¾æ¡ˆä»¿ç…§-https-gogs-io-é¦–é¡µ"><a href="#æ›´æ”¹é¦–é¡µèƒŒæ™¯å›¾æ¡ˆä»¿ç…§-https-gogs-io-é¦–é¡µ" class="headerlink" title="æ›´æ”¹é¦–é¡µèƒŒæ™¯å›¾æ¡ˆä»¿ç…§ https://gogs.io/ é¦–é¡µ"></a>æ›´æ”¹é¦–é¡µèƒŒæ™¯å›¾æ¡ˆä»¿ç…§ <code>https://gogs.io/</code> é¦–é¡µ</h5><p>åœ¨ <code>head.tmpl</code> é¡µé¢ä¸­æ‰¾åˆ°å¦‚ä¸‹éƒ¨åˆ†:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Stylesheet --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"&#123;&#123;AppSubUrl&#125;&#125;/css/semantic-2.2.7.min.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"&#123;&#123;AppSubUrl&#125;&#125;/css/gogs.css?v=&#123;&#123;MD5 AppVer&#125;&#125;"</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>åœ¨è¿™æ®µä¸‹é¢æ·»åŠ å¦‚ä¸‹ä»£ç :</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&#123;&#123;if .PageIsHome&#125;&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"&#123;&#123;AppSubUrl&#125;&#125;/css/gghome.min.css"</span>&gt;</span></span><br><span class="line">&#123;&#123;end&#125;&#125;</span><br></pre></td></tr></table></figure>


<p>ç„¶ååœ¨æœ¬åœ°æ–°å»ºåä¸º <code>gghome.min.css</code> çš„æ ·å¼æ–‡ä»¶ï¼Œæ³¨æ„æ–‡ä»¶çš„æ ¼å¼ä¸º <code>UTF-8</code> ä¸”è¡Œç»“æŸæ ‡è¯†ä¸º <code>Unix(LF)</code> ï¼Œæ·»åŠ å¦‚ä¸‹æ ·å¼ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.full</span><span class="selector-class">.height</span>&#123;<span class="attribute">background-color</span>:<span class="number">#0F8DEC</span>;<span class="attribute">background-image</span>:<span class="built_in">url</span>(<span class="string">"data:image/svg+xml,%3Csvg width='304' height='304' viewBox='0 0 304 304' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M44.1 224c.463-2.282 2.48-4 4.9-4 2.76 0 5 2.24 5 5s-2.24 5-5 5c-2.42 0-4.437-1.718-4.9-4H0v-2h44.1zm160 48c.463-2.282 2.48-4 4.9-4 2.76 0 5 2.24 5 5s-2.24 5-5 5c-2.42 0-4.437-1.718-4.9-4H82v-2h122.1zm57.8-46c-.463 2.282-2.48 4-4.9 4-2.76 0-5-2.24-5-5s2.24-5 5-5c2.42 0 4.437 1.718 4.9 4H304v2h-42.1zm0 16c-.463 2.282-2.48 4-4.9 4-2.76 0-5-2.24-5-5s2.24-5 5-5c2.42 0 4.437 1.718 4.9 4H304v2h-42.1zm6.2-114c.463-2.282 2.48-4 4.9-4 2.76 0 5 2.24 5 5s-2.24 5-5 5c-2.42 0-4.437-1.718-4.9-4h-86.2c-.463 2.282-2.48 4-4.9 4-2.76 0-5-2.24-5-5s2.24-5 5-5c2.42 0 4.437 1.718 4.9 4h86.2zm-256-48c.463-2.282 2.48-4 4.9-4 2.76 0 5 2.24 5 5s-2.24 5-5 5c-2.42 0-4.437-1.718-4.9-4H0v-2h12.1zm185.8 34c-.463 2.282-2.48 4-4.9 4-2.76 0-5-2.24-5-5s2.24-5 5-5c2.42 0 4.437 1.718 4.9 4h86.2c.463-2.282 2.48-4 4.9-4 2.76 0 5 2.24 5 5s-2.24 5-5 5c-2.42 0-4.437-1.718-4.9-4h-86.2zM258 12.1c2.282.463 4 2.48 4 4.9 0 2.76-2.24 5-5 5s-5-2.24-5-5c0-2.42 1.718-4.437 4-4.9V0h2v12.1zm-64 208c2.282.463 4 2.48 4 4.9 0 2.76-2.24 5-5 5s-5-2.24-5-5c0-2.42 1.718-4.437 4-4.9v-54.2c-2.282-.463-4-2.48-4-4.9 0-2.76 2.24-5 5-5s5 2.24 5 5c0 2.42-1.718 4.437-4 4.9v54.2zm48-198.2c2.282-.463 4-2.48 4-4.9 0-2.76-2.24-5-5-5s-5 2.24-5 5c0 2.42 1.718 4.437 4 4.9V82h64v-2h-62V21.9zm16 16c2.282-.463 4-2.48 4-4.9 0-2.76-2.24-5-5-5s-5 2.24-5 5c0 2.42 1.718 4.437 4 4.9V66h48v-2h-46V37.9zm-128 96c2.282-.463 4-2.48 4-4.9 0-2.76-2.24-5-5-5s-5 2.24-5 5c0 2.42 1.718 4.437 4 4.9V210h16v10.1c-2.282.463-4 2.48-4 4.9 0 2.76 2.24 5 5 5s5-2.24 5-5c0-2.42-1.718-4.437-4-4.9V208h-16v-74.1zm-5.9-21.9c.463-2.282 2.48-4 4.9-4 2.76 0 5 2.24 5 5s-2.24 5-5 5c-2.42 0-4.437-1.718-4.9-4H114v48H85.9c-.463 2.282-2.48 4-4.9 4-2.76 0-5-2.24-5-5s2.24-5 5-5c2.42 0 4.437 1.718 4.9 4H112v-48h12.1zm-6.2 130c-.463 2.282-2.48 4-4.9 4-2.76 0-5-2.24-5-5s2.24-5 5-5c2.42 0 4.437 1.718 4.9 4H176v-74.1c-2.282-.463-4-2.48-4-4.9 0-2.76 2.24-5 5-5s5 2.24 5 5c0 2.42-1.718 4.437-4 4.9V242h-60.1zm-16-64c-.463 2.282-2.48 4-4.9 4-2.76 0-5-2.24-5-5s2.24-5 5-5c2.42 0 4.437 1.718 4.9 4H114v48h10.1c.463-2.282 2.48-4 4.9-4 2.76 0 5 2.24 5 5s-2.24 5-5 5c-2.42 0-4.437-1.718-4.9-4H112v-48h-10.1zM66 284.1c2.282.463 4 2.48 4 4.9 0 2.76-2.24 5-5 5s-5-2.24-5-5c0-2.42 1.718-4.437 4-4.9V274H50v30h-2v-32h18v12.1zM236.1 176c.463-2.282 2.48-4 4.9-4 2.76 0 5 2.24 5 5s-2.24 5-5 5c-2.42 0-4.437-1.718-4.9-4H226v94h48v32h-2v-30h-48v-98h12.1zm25.8-30c-.463 2.282-2.48 4-4.9 4-2.76 0-5-2.24-5-5s2.24-5 5-5c2.42 0 4.437 1.718 4.9 4H274v44.1c2.282.463 4 2.48 4 4.9 0 2.76-2.24 5-5 5s-5-2.24-5-5c0-2.42 1.718-4.437 4-4.9V146h-10.1zm-64 96c-.463 2.282-2.48 4-4.9 4-2.76 0-5-2.24-5-5s2.24-5 5-5c2.42 0 4.437 1.718 4.9 4H208v-80h16v-14h-42.1c-.463 2.282-2.48 4-4.9 4-2.76 0-5-2.24-5-5s2.24-5 5-5c2.42 0 4.437 1.718 4.9 4H226v18h-16v80h-12.1zm86.2-210c.463-2.282 2.48-4 4.9-4 2.76 0 5 2.24 5 5s-2.24 5-5 5c-2.42 0-4.437-1.718-4.9-4H272V0h2v32h10.1zM98 101.9c2.282-.463 4-2.48 4-4.9 0-2.76-2.24-5-5-5s-5 2.24-5 5c0 2.42 1.718 4.437 4 4.9V144H53.9c-.463-2.282-2.48-4-4.9-4-2.76 0-5 2.24-5 5s2.24 5 5 5c2.42 0 4.437-1.718 4.9-4H98v-44.1zM53.9 34c-.463 2.282-2.48 4-4.9 4-2.76 0-5-2.24-5-5s2.24-5 5-5c2.42 0 4.437 1.718 4.9 4H80V0h2v34H53.9zm60.1 3.9c2.282-.463 4-2.48 4-4.9 0-2.76-2.24-5-5-5s-5 2.24-5 5c0 2.42 1.718 4.437 4 4.9V64H80v64H69.9c-.463-2.282-2.48-4-4.9-4-2.76 0-5 2.24-5 5s2.24 5 5 5c2.42 0 4.437-1.718 4.9-4H82V66h32V37.9zM101.9 82c-.463 2.282-2.48 4-4.9 4-2.76 0-5-2.24-5-5s2.24-5 5-5c2.42 0 4.437 1.718 4.9 4H128V37.9c-2.282-.463-4-2.48-4-4.9 0-2.76 2.24-5 5-5s5 2.24 5 5c0 2.42-1.718 4.437-4 4.9V82h-28.1zm16-64c-.463 2.282-2.48 4-4.9 4-2.76 0-5-2.24-5-5s2.24-5 5-5c2.42 0 4.437 1.718 4.9 4H146v44.1c2.282.463 4 2.48 4 4.9 0 2.76-2.24 5-5 5s-5-2.24-5-5c0-2.42 1.718-4.437 4-4.9V18h-26.1zm102.2 270c.463-2.282 2.48-4 4.9-4 2.76 0 5 2.24 5 5s-2.24 5-5 5c-2.42 0-4.437-1.718-4.9-4H98v14h-2v-16h124.1zM242 149.9c2.282-.463 4-2.48 4-4.9 0-2.76-2.24-5-5-5s-5 2.24-5 5c0 2.42 1.718 4.437 4 4.9V162h16v30h-16v66h48v46h2v-48h-48v-62h16v-34h-16v-10.1zM53.9 18c-.463 2.282-2.48 4-4.9 4-2.76 0-5-2.24-5-5s2.24-5 5-5c2.42 0 4.437 1.718 4.9 4H64V2H48V0h18v18H53.9zm112 32c-.463 2.282-2.48 4-4.9 4-2.76 0-5-2.24-5-5s2.24-5 5-5c2.42 0 4.437 1.718 4.9 4H192V0h50v2h-48v48h-28.1zm-48-48c-.463 2.282-2.48 4-4.9 4-2.76 0-5-2.24-5-5 0-.342.034-.677.1-1h2.07c-.11.313-.17.65-.17 1 0 1.657 1.343 3 3 3s3-1.343 3-3c0-.35-.06-.687-.17-1H178v34h-18V21.9c-2.282-.463-4-2.48-4-4.9 0-2.76 2.24-5 5-5s5 2.24 5 5c0 2.42-1.718 4.437-4 4.9V32h14V2h-58.1zm0 96c-.463 2.282-2.48 4-4.9 4-2.76 0-5-2.24-5-5s2.24-5 5-5c2.42 0 4.437 1.718 4.9 4H137l32-32h39V21.9c-2.282-.463-4-2.48-4-4.9 0-2.76 2.24-5 5-5s5 2.24 5 5c0 2.42-1.718 4.437-4 4.9V66h-40.172l-32 32H117.9zm28.1 90.1c2.282.463 4 2.48 4 4.9 0 2.76-2.24 5-5 5s-5-2.24-5-5c0-2.42 1.718-4.437 4-4.9v-76.513L175.586 80H224V21.9c-2.282-.463-4-2.48-4-4.9 0-2.76 2.24-5 5-5s5 2.24 5 5c0 2.42-1.718 4.437-4 4.9V82h-49.586L146 112.414V188.1zm16 32c2.282.463 4 2.48 4 4.9 0 2.76-2.24 5-5 5s-5-2.24-5-5c0-2.42 1.718-4.437 4-4.9v-99.513L184.586 96H300.1c.398-1.96 1.94-3.502 3.9-3.9v2.07c-1.165.413-2 1.524-2 2.83s.835 2.417 2 2.83v2.07c-1.96-.398-3.502-1.94-3.9-3.9H185.414L162 121.414V220.1zm-144-64c2.282.463 4 2.48 4 4.9 0 2.76-2.24 5-5 5s-5-2.24-5-5c0-2.42 1.718-4.437 4-4.9v-3.513l48-48V48h32V0h2v50H66v55.413l-48 48v2.687zM50 53.9c2.282-.463 4-2.48 4-4.9 0-2.76-2.24-5-5-5s-5 2.24-5 5c0 2.42 1.718 4.437 4 4.9v42.686l-48 48V210h28.1c.463 2.282 2.48 4 4.9 4 2.76 0 5-2.24 5-5s-2.24-5-5-5c-2.42 0-4.437 1.718-4.9 4H2v-62.586l48-48V53.9zm-16 16c2.282-.463 4-2.48 4-4.9 0-2.76-2.24-5-5-5s-5 2.24-5 5c0 2.42 1.718 4.437 4 4.9v18.686l-32 32v2.828l34-34V69.9zM12.1 32c.463-2.282 2.48-4 4.9-4 2.76 0 5 2.24 5 5s-2.24 5-5 5c-2.42 0-4.437-1.718-4.9-4H9.414L0 43.414v-2.828L8.586 32H12.1zm265.8 18c-.463 2.282-2.48 4-4.9 4-2.76 0-5-2.24-5-5s2.24-5 5-5c2.42 0 4.437 1.718 4.9 4h18.686L304 40.586v2.828L297.414 50H277.9zm-16 160c-.463 2.282-2.48 4-4.9 4-2.76 0-5-2.24-5-5s2.24-5 5-5c2.42 0 4.437 1.718 4.9 4H288V136.587l16-16v2.827l-14 14V210h-28.1zm-208 32c-.463 2.282-2.48 4-4.9 4-2.76 0-5-2.24-5-5s2.24-5 5-5c2.42 0 4.437 1.718 4.9 4H64v-22.586L40.586 194H21.9c-.463 2.282-2.48 4-4.9 4-2.76 0-5-2.24-5-5s2.24-5 5-5c2.42 0 4.437 1.718 4.9 4h19.513L66 216.586V242H53.9zm150.2 14c.463-2.282 2.48-4 4.9-4 2.76 0 5 2.24 5 5s-2.24 5-5 5c-2.42 0-4.437-1.718-4.9-4H96v-56.598L56.598 162H37.9c-.463 2.282-2.48 4-4.9 4-2.76 0-5-2.24-5-5s2.24-5 5-5c2.42 0 4.437 1.718 4.9 4h19.502L98 200.598V256h106.1zm-150.2 2c-.463 2.282-2.48 4-4.9 4-2.76 0-5-2.24-5-5s2.24-5 5-5c2.42 0 4.437 1.718 4.9 4H80v-46.586L48.586 178H21.9c-.463 2.282-2.48 4-4.9 4-2.76 0-5-2.24-5-5s2.24-5 5-5c2.42 0 4.437 1.718 4.9 4h27.513L82 208.586V258H53.9zM97 100c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm0-16c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm16 16c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm16 16c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm0 16c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm-48 32c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm16 16c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm32 48c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm-16 16c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm32-16c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm0-32c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm16 32c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm32 16c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm0-16c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm-16-64c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm16 0c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm16 96c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm0 16c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm16 16c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm16-144c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm0 32c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm16-32c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm16-16c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm-96 0c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm0 16c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm16-32c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm96 0c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm-16-64c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm16-16c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm-32 0c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm0-16c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm-16 0c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm-16 0c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm-16 0c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM49 36c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm-32 0c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm32 16c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM33 68c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm16-48c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm0 240c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm16 32c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm-16-64c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm0 16c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm-16-32c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm80-176c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm16 0c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm-16-16c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm32 48c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm16-16c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm0-32c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm112 176c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm-16 16c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm0 16c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm0 16c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM17 180c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm0 16c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm0-32c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm16 0c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM17 84c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm32 64c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm16-16c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 39.793V0h-2v40.586L8.586 64H0v2h9.413L34 41.414v-1.62zM2 300.1V258h14v46h2v-48H0V302.17c.313-.11.65-.17 1-.17 1.306 0 2.417.835 2.83 2H5.9c-.398-1.96-1.94-3.502-3.9-3.9zM34 241v63h-2v-62H0v-2h34v1zM17 18h1V0h-2v16H0v2h17zm273-2V0h-2v18h16v-2h-14zm-32 273v15h-2v-14h-14v14h-2v-16h18v1zM0 92.1c.323-.066.658-.1 1-.1 2.76 0 5 2.24 5 5s-2.24 5-5 5c-.342 0-.677-.034-1-.1v-2.07c.313.11.65.17 1 .17 1.657 0 3-1.343 3-3s-1.343-3-3-3c-.35 0-.687.06-1 .17V92.1zM80 272h2v32h-2v-32zm37.9 32c-.463-2.282-2.48-4-4.9-4-2.42 0-4.437 1.718-4.9 4h2.07c.413-1.165 1.524-2 2.83-2s2.417.835 2.83 2h2.07zM5.9 0c.066.323.1.658.1 1 0 2.76-2.24 5-5 5-.342 0-.677-.034-1-.1V3.83C.313 3.94.65 4 1 4c1.657 0 3-1.343 3-3 0-.35-.06-.687-.17-1H5.9zm294.2 0c-.066.323-.1.658-.1 1 0 2.42 1.718 4.437 4 4.9V3.83c-1.165-.413-2-1.524-2-2.83 0-.35.06-.687.17-1h-2.07zm3.9 300.1c-1.96.398-3.502 1.94-3.9 3.9h2.07c.302-.852.978-1.528 1.83-1.83v-2.07z' fill='%23afcfe1' fill-opacity='0.23' fill-rule='evenodd'/%3E%3C/svg%3E"</span>)&#125;<span class="selector-class">.hero</span>&#123;<span class="attribute">color</span>:<span class="number">#fff</span>&#125;<span class="selector-class">.hero</span> <span class="selector-class">.ui</span><span class="selector-class">.header</span>&#123;<span class="attribute">color</span>:<span class="number">#fff</span>&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åå°†è¯¥æ–‡ä»¶ <code>gghome.min.css</code> æ·»åŠ åˆ°å®¹å™¨ä¸­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ docker cp ./gghome.min.css &lt;ConName&gt;:/home/git/gogs/public/css/gghome.min.css</span><br></pre></td></tr></table></figure>

<hr>
<p>å¾…ä»¥ä¸Šæ­¥éª¤æ“ä½œå®Œæˆåï¼Œæ›´æ–°å›å®¹å™¨ä¸­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ docker cp ./head.tmpl &lt;ConName&gt;:/home/git/gogs/templates/base/head.tmpl</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="æ›´æ”¹åº•æ â€œå®˜æ–¹ç½‘ç«™â€å­—æ ·ä¸ºâ€œGogså®˜æ–¹ç½‘ç«™â€"><a href="#æ›´æ”¹åº•æ â€œå®˜æ–¹ç½‘ç«™â€å­—æ ·ä¸ºâ€œGogså®˜æ–¹ç½‘ç«™â€" class="headerlink" title="æ›´æ”¹åº•æ â€œå®˜æ–¹ç½‘ç«™â€å­—æ ·ä¸ºâ€œGogså®˜æ–¹ç½‘ç«™â€"></a>æ›´æ”¹åº•æ â€œå®˜æ–¹ç½‘ç«™â€å­—æ ·ä¸ºâ€œGogså®˜æ–¹ç½‘ç«™â€</h4><p>åº•éƒ¨ â€“ <code>footer.tmpl</code> â€“ æ›´æ”¹åº•æ â€œå®˜æ–¹ç½‘ç«™â€å­—æ ·ä¸ºâ€œGogså®˜æ–¹ç½‘ç«™â€</p>
<p>ä»å®¹å™¨ä¸­è·å–è¯¥æ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ docker cp &lt;ConName&gt;:/home/git/gogs/templates/base/footer.tmpl ./footer.tmpl</span><br></pre></td></tr></table></figure>

<h5 id="æ›´æ”¹åº•æ â€œå®˜æ–¹ç½‘ç«™â€å­—æ ·ä¸ºâ€œGogså®˜æ–¹ç½‘ç«™â€-1"><a href="#æ›´æ”¹åº•æ â€œå®˜æ–¹ç½‘ç«™â€å­—æ ·ä¸ºâ€œGogså®˜æ–¹ç½‘ç«™â€-1" class="headerlink" title="æ›´æ”¹åº•æ â€œå®˜æ–¹ç½‘ç«™â€å­—æ ·ä¸ºâ€œGogså®˜æ–¹ç½‘ç«™â€"></a>æ›´æ”¹åº•æ â€œå®˜æ–¹ç½‘ç«™â€å­—æ ·ä¸ºâ€œGogså®˜æ–¹ç½‘ç«™â€</h5><p>å°†ä»¥ä¸‹éƒ¨åˆ†ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">href</span>=<span class="string">"https://gogs.io"</span>&gt;</span>&#123;&#123;.i18n.Tr "website"&#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ›´æ”¹ä¸ºï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">href</span>=<span class="string">"https://gogs.io"</span>&gt;</span>Gogs&#123;&#123;.i18n.Tr "website"&#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<h5 id="Markdownæ–‡æ¡£ä¸­çš„é“¾æ¥è·³è½¬åŠ ä¸Štargetæ ‡ç­¾"><a href="#Markdownæ–‡æ¡£ä¸­çš„é“¾æ¥è·³è½¬åŠ ä¸Štargetæ ‡ç­¾" class="headerlink" title="Markdownæ–‡æ¡£ä¸­çš„é“¾æ¥è·³è½¬åŠ ä¸Štargetæ ‡ç­¾"></a>Markdownæ–‡æ¡£ä¸­çš„é“¾æ¥è·³è½¬åŠ ä¸Štargetæ ‡ç­¾</h5><p>åº•éƒ¨ â€“ <code>footer.tmpl</code> â€“ Markdownæ–‡æ¡£ä¸­çš„é“¾æ¥è·³è½¬åŠ ä¸Štargetæ ‡ç­¾</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒGogsé¡¹ç›®ä¸­çš„Markdownæ–‡æ¡£ä¸­çš„é“¾æ¥æ˜¯åœ¨å½“å‰é¡µé¢è·³è½¬çš„ï¼Œä½†ä¸ªäººä¹ æƒ¯è¿˜æ˜¯å–œæ¬¢åœ¨æ–°é¡µé¢æ‰“å¼€é“¾æ¥ã€‚</p>
<p>æ‰¾åˆ° <code>footer.tmpl</code> é¡µé¢ä¸­å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"&#123;&#123;AppSubUrl&#125;&#125;/js/libs/clipboard-1.5.9.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;&#123;template "inject/footer" .&#125;&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸­é—´ä½ç½®æ·»åŠ ä¸€è¡Œï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"&#123;&#123;AppSubUrl&#125;&#125;/js/mdlinktarget.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>åœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ªjsæ–‡ä»¶ï¼Œæ³¨æ„æ–‡ä»¶çš„æ ¼å¼ä¸º <code>UTF-8</code> ä¸”è¡Œç»“æŸæ ‡è¯†ä¸º <code>Unix(LF)</code> å¹¶å‘½åä¸º <code>mdlinktarget.min.js</code> ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;$(<span class="string">'#file-content a[href^="http"]'</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;$(<span class="keyword">this</span>).attr(<span class="string">"target"</span>,<span class="string">"_blank"</span>)&#125;)&#125;);</span><br></pre></td></tr></table></figure>

<p>å°†è¯¥jsæ–‡ä»¶æ‹·è´æ·»åŠ åˆ°å®¹å™¨ä¸­çš„é¡¹ç›®ç›®å½•ä¸‹ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ docker cp ./mdlinktarget.min.js &lt;ConName&gt;:/home/git/gogs/public/js/mdlinktarget.min.js</span><br></pre></td></tr></table></figure>

<hr>
<p>ç„¶åå°†æ›´æ”¹åçš„ <code>footer.tmpl</code> æ›´æ–°å›å®¹å™¨ä¸­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ docker cp ./footer.tmpl &lt;ConName&gt;:/home/git/gogs/templates/base/footer.tmpl</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ä¿®æ”¹å®Œæˆ-é‡å¯å®¹å™¨"><a href="#ä¿®æ”¹å®Œæˆ-é‡å¯å®¹å™¨" class="headerlink" title="ä¿®æ”¹å®Œæˆ é‡å¯å®¹å™¨"></a>ä¿®æ”¹å®Œæˆ é‡å¯å®¹å™¨</h4><p>å¾…ä»¥ä¸Šå„æ­¥éª¤æ“ä½œå®Œæˆåï¼Œé‡å¯å®¹å™¨ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ docker restart gogs</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="å‘½ä»¤æ•´ç†"><a href="#å‘½ä»¤æ•´ç†" class="headerlink" title="å‘½ä»¤æ•´ç†"></a>å‘½ä»¤æ•´ç†</h4><h5 id="ç¤ºä¾‹å‘½ä»¤"><a href="#ç¤ºä¾‹å‘½ä»¤" class="headerlink" title="ç¤ºä¾‹å‘½ä»¤"></a>ç¤ºä¾‹å‘½ä»¤</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ docker cp ./home.tmpl &lt;ConName&gt;:/home/git/gogs/templates/home.tmpl</span><br><span class="line">$ docker cp ./footer.tmpl &lt;ConName&gt;:/home/git/gogs/templates/base/footer.tmpl</span><br><span class="line">$ docker cp ./head.tmpl &lt;ConName&gt;:/home/git/gogs/templates/base/head.tmpl</span><br><span class="line">$ docker cp ./mdlinktarget.min.js &lt;ConName&gt;:/home/git/gogs/public/js/mdlinktarget.min.js</span><br><span class="line">$ docker cp ./gghome.min.css &lt;ConName&gt;:/home/git/gogs/public/css/gghome.min.css</span><br><span class="line">$ docker restart &lt;ConName&gt;</span><br></pre></td></tr></table></figure>

<h5 id="æ“ä½œå‘½ä»¤"><a href="#æ“ä½œå‘½ä»¤" class="headerlink" title="æ“ä½œå‘½ä»¤"></a>æ“ä½œå‘½ä»¤</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ docker cp ./home.tmpl gogs:/home/git/gogs/templates/home.tmpl</span><br><span class="line">$ docker cp ./footer.tmpl gogs:/home/git/gogs/templates/base/footer.tmpl</span><br><span class="line">$ docker cp ./head.tmpl gogs:/home/git/gogs/templates/base/head.tmpl</span><br><span class="line">$ docker cp ./mdlinktarget.min.js gogs:/home/git/gogs/public/js/mdlinktarget.min.js</span><br><span class="line">$ docker cp ./gghome.min.css gogs:/home/git/gogs/public/css/gghome.min.css</span><br><span class="line">$ docker restart gogs</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="è·å–æ–‡ä»¶"><a href="#è·å–æ–‡ä»¶" class="headerlink" title="è·å–æ–‡ä»¶"></a>è·å–æ–‡ä»¶</h4><p>ä»¥ä¸Šæ“ä½œçš„æ‰€æœ‰æ–‡ä»¶å¯ä»¥ä» <a href="https://gist.github.com/Leafney/967c0122877f52729c49b1594a189c2e" target="_blank" rel="noopener">Docker Gogs custom files</a> æˆ– <a href="https://github.com/Leafney/ubuntu-gogs" target="_blank" rel="noopener">GitHub - Leafney/ubuntu-gogs: Docker Gogs ç”¨æ›´ç®€å•çš„æ–¹å¼éƒ¨ç½²ã€å‡çº§æˆ–è¿ç§»Gogså®¹å™¨æœåŠ¡ã€‚</a> ä¸­è·å–ã€‚</p>
]]></content>
      <categories>
        <category>Ubuntu-Gogs</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>Gogs</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker-Ubuntu-Gogséƒ¨ç½²åŠé…ç½®æ—¶é‡åˆ°çš„é—®é¢˜</title>
    <url>/2017/03/24/docker-ubuntu-gogs-problems/</url>
    <content><![CDATA[<p>Docker Gogs ç”¨æ›´ç®€å•çš„æ–¹å¼éƒ¨ç½²ã€å‡çº§æˆ–è¿ç§»Gogså®¹å™¨æœåŠ¡ã€‚</p>
<p>è¿™é‡Œä¸»è¦è®°å½•åœ¨Dockerä¸‹éƒ¨ç½²Gogsé¡¹ç›®è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ³•ã€‚</p>
<h4 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h4><ol>
<li>Installé¡µé¢ä¸­çš„æ³¨æ„é—®é¢˜</li>
<li><code>Connection timed out</code> é—®é¢˜</li>
<li><code>hooks/update: No such file or directory</code></li>
<li>æ·»åŠ  <code>SSH key</code> æ—¶æ˜¾ç¤ºæŠ¥é”™é¡µé¢ <code>500</code></li>
<li>è¦æ±‚è¾“å…¥gitè´¦æˆ·å¯†ç </li>
<li><code>SSH Connection refused</code> é—®é¢˜</li>
<li><code>Git SSH</code> ä½¿ç”¨éé»˜è®¤22ç«¯å£æ—¶ï¼Œå¦‚ä½•éšè—ç«¯å£å·</li>
<li><code>WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!</code></li>
<li>echo è¾“å‡º</li>
<li>Docker Gogs ä½¿ç”¨ <code>HTTPS</code></li>
<li>ä¸Šä¼ æ–‡ä»¶é‡åˆ° <code>413 Request Entity Too Large</code> é”™è¯¯</li>
</ol>
<h4 id="Installé¡µé¢ä¸­çš„æ³¨æ„é—®é¢˜"><a href="#Installé¡µé¢ä¸­çš„æ³¨æ„é—®é¢˜" class="headerlink" title="Installé¡µé¢ä¸­çš„æ³¨æ„é—®é¢˜"></a>Installé¡µé¢ä¸­çš„æ³¨æ„é—®é¢˜</h4><ul>
<li>domain: ensure that is the IP address of your docker host</li>
<li>SSH port: that is the forwarded ssh port. So if you forward 22 to 10022, itâ€™s 10022.</li>
<li>HTTP port: my error, here, you must enter the HTTP in the container. So itâ€™s 3000. Even if you forward it to 10080 ;)</li>
<li>Application URL: this is a combination of domain + forwarded HTTP port (I got this one wrong too). So, if youâ€™re forwarding 3000 to 10080, then itâ€™s <code>http://domain:10080</code>.</li>
<li>sshç«¯å£ä½¿ç”¨å¤–éƒ¨ç«¯å£ï¼Œè€Œhttpç«¯å£ä½¿ç”¨çš„æ˜¯å®¹å™¨å†…éƒ¨ç«¯å£.</li>
</ul>
<p>ç€é‡éœ€è¦è¯´æ˜çš„æ˜¯ï¼š</p>
<ul>
<li><p><code>Domain</code> å¡«å†™Dockerå®¿ä¸»æœºçš„ç‰©ç†IPåœ°å€ï¼Œæˆ–è€…åŸŸååœ°å€,æ³¨æ„è¿™é‡Œæ˜¯ä¸å¸¦ <code>http</code>çš„ å¦‚ï¼š <code>192.168.137.140</code> æˆ– <code>git.mydomain.com</code></p>
</li>
<li><p><code>SSH port</code> å‡å¦‚Dockeræ˜ å°„çš„ç«¯å£æ˜¯ <code>10022:22</code> é‚£ä¹ˆè¿™é‡Œå°±å¡«å†™å®¿ä¸»æœºå¼€æ”¾çš„ç«¯å£ <code>10022</code></p>
</li>
<li><p><code>HTTP port</code> å‡å¦‚Dockeræ˜ å°„çš„ç«¯å£æ˜¯ <code>10080:3000</code> è¿™é‡Œè¦å¡«å®¹å™¨å†…çš„ç›‘å¬ç«¯å£ <code>3000</code></p>
</li>
<li><p><code>Application URL</code> è¿™é‡Œè¦å¡«å†™çš„æ ¼å¼ä¸º <code>http(s):// + Domain + HTTP port</code> ï¼Œæ¯”å¦‚ï¼š<code>http://git.mydomain.com/10080</code> ã€‚è¿˜éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œå¦‚æœä½ ç”¨äº†nginxæ¥æ˜ å°„å®¿ä¸»æœºçš„ <code>10080</code> ç«¯å£ï¼Œè¿™é‡Œè¦å»æ‰åé¢çš„ç«¯å£ï¼Œå³ <code>http://git.mydomain.com/</code>ï¼Œè¯´ç™½äº†å°±æ˜¯ä½ åœ¨å¤–éƒ¨æµè§ˆå™¨ä¸Šè®¿é—®çš„åœ°å€ã€‚</p>
</li>
<li><p><a href="https://github.com/gogits/gogs/issues/3039" target="_blank" rel="noopener">Docker gogs web/ssh does not restart after reboot Â· Issue #3039 Â· gogits/gogs Â· GitHub</a></p>
</li>
</ul>
<hr>
<h4 id="Connection-timed-out-é—®é¢˜"><a href="#Connection-timed-out-é—®é¢˜" class="headerlink" title="Connection timed out é—®é¢˜"></a><code>Connection timed out</code> é—®é¢˜</h4><h5 id="ä½¿ç”¨HTTPæ–¹å¼-Push-ä»£ç æ—¶æŠ¥é”™ï¼Ÿ"><a href="#ä½¿ç”¨HTTPæ–¹å¼-Push-ä»£ç æ—¶æŠ¥é”™ï¼Ÿ" class="headerlink" title="ä½¿ç”¨HTTPæ–¹å¼ Push ä»£ç æ—¶æŠ¥é”™ï¼Ÿ"></a>ä½¿ç”¨HTTPæ–¹å¼ Push ä»£ç æ—¶æŠ¥é”™ï¼Ÿ</h5><p>ä½¿ç”¨HTTPæ–¹å¼è·å–ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git clone http:&#x2F;&#x2F;gogit.itfanr.cc&#x2F;xueer&#x2F;HelloWorld.git</span><br><span class="line">Cloning into &#39;HelloWorld&#39;...</span><br><span class="line">remote: Counting objects: 8, done.</span><br><span class="line">remote: Compressing objects: 100% (6&#x2F;6), done.</span><br><span class="line">remote: Total 8 (delta 1), reused 0 (delta 0)</span><br><span class="line">Unpacking objects: 100% (8&#x2F;8), done.</span><br><span class="line">Checking connectivity... done.</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨HTTPæ–¹å¼æäº¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git push</span><br><span class="line">Counting objects: 3, done.</span><br><span class="line">Writing objects: 100% (3&#x2F;3), 379 bytes | 0 bytes&#x2F;s, done.</span><br><span class="line">Total 3 (delta 0), reused 0 (delta 0)</span><br><span class="line">error: RPC failed; HTTP 504 curl 22 The requested URL returned error: 504 Gateway Time-out</span><br><span class="line">fatal: The remote end hung up unexpectedly</span><br><span class="line">fatal: The remote end hung up unexpectedly</span><br><span class="line">Everything up-to-date</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="ä½¿ç”¨SSHæ–¹å¼è·å–ä»£ç æ—¶æŠ¥é”™ï¼Ÿ"><a href="#ä½¿ç”¨SSHæ–¹å¼è·å–ä»£ç æ—¶æŠ¥é”™ï¼Ÿ" class="headerlink" title="ä½¿ç”¨SSHæ–¹å¼è·å–ä»£ç æ—¶æŠ¥é”™ï¼Ÿ"></a>ä½¿ç”¨SSHæ–¹å¼è·å–ä»£ç æ—¶æŠ¥é”™ï¼Ÿ</h5><p>ä½¿ç”¨SSHæ–¹å¼è·å–ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git clone ssh:&#x2F;&#x2F;git@gogit.itfanr.cc:10022&#x2F;xueer&#x2F;HelloWorld.git</span><br><span class="line">Cloning into &#39;HelloWorld&#39;...</span><br><span class="line">ssh: connect to host gogit.itfanr.cc port 10022: Connection timed out</span><br><span class="line">fatal: Could not read from remote repository.</span><br><span class="line"></span><br><span class="line">Please make sure you have the correct access rights</span><br><span class="line">and the repository exists.</span><br></pre></td></tr></table></figure>


<p>å¯¹äº <code>Connection timed out</code> çš„é—®é¢˜ï¼Œå¯èƒ½æ˜¯ä½¿ç”¨çš„ç«¯å£å·²ç»è¢«å…¶ä»–ç¨‹åºå ç”¨å¯¼è‡´ï¼Œä¹Ÿå¯èƒ½æ˜¯ç¼“å­˜æ–‡ä»¶å¯¼è‡´ã€‚</p>
<p>æœ€åçš„è§£å†³æ–¹æ³•æ˜¯å°† <code>data/sessions</code> ä¸­çš„ <code>session</code> æ–‡ä»¶åˆ é™¤ï¼Œç„¶åæ›´æ¢äº†å…¶ä»–ç«¯å£åå†æ¬¡è¿è¡Œåˆ™èƒ½å¤Ÿæäº¤æ•°æ®äº†ã€‚</p>
<hr>
<h4 id="æŠ¥é”™-hooks-update-No-such-file-or-directory"><a href="#æŠ¥é”™-hooks-update-No-such-file-or-directory" class="headerlink" title="æŠ¥é”™ hooks/update: No such file or directory"></a>æŠ¥é”™ <code>hooks/update: No such file or directory</code></h4><p>å°†æ—§çš„é…ç½®å’Œæ•°æ®åº“æ‹·è´åˆ°æ–°çš„Gogsé¡¹ç›®ä¸‹ï¼ˆæˆ‘è¿™é‡Œæ˜¯ä»v0.8.25.0129ç‰ˆæœ¬è¿ç§»åˆ°v0.10.18.0313ç‰ˆæœ¬ï¼‰ï¼Œæäº¤ä»£ç æ—¶ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git push origin master</span><br><span class="line">Counting objects: 3, done.</span><br><span class="line">Writing objects: 100% (3&#x2F;3), 432 bytes | 0 bytes&#x2F;s, done.</span><br><span class="line">Total 3 (delta 0), reused 0 (delta 0)</span><br><span class="line">remote: hooks&#x2F;update: line 2: &#x2F;home&#x2F;git&#x2F;gogs&#x2F;goapp&#x2F;gogs&#x2F;gogs: No such file or directory</span><br><span class="line">remote: error: hook declined to update refs&#x2F;heads&#x2F;master</span><br><span class="line">To http:&#x2F;&#x2F;gogit.itfanr.cc&#x2F;xueer&#x2F;HelloWorld.git</span><br><span class="line"> ! [remote rejected] master -&gt; master (hook declined)</span><br><span class="line">error: failed to push some refs to &#39;http:&#x2F;&#x2F;gogit.itfanr.cc&#x2F;xueer&#x2F;HelloWorld.git&#39;</span><br></pre></td></tr></table></figure>

<hr>
<p>è§£å†³æ–¹æ³•ï¼š</p>
<p>æ ¹æ®Gogså®˜ç½‘ä¸­çš„<code>æ•…éšœæ’æŸ¥</code>çš„è¯´æ˜ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Update é’©å­æŒ‡å‘é”™è¯¯çš„äºŒè¿›åˆ¶è·¯å¾„</span><br><span class="line"></span><br><span class="line">å¯èƒ½åŸå› ï¼šæ‚¨å‡çº§ &#96;Gogs&#96; åå°†å…¶ç§»åŠ¨åˆ°äº†å’Œä¹‹å‰å®‰è£…ä½ç½®ä¸åŒçš„ç›®å½•</span><br><span class="line">è§£å†³æ–¹æ¡ˆï¼šåˆ°ç®¡ç†å‘˜æ§åˆ¶é¢æ¿ï¼ˆ&#96;&#x2F;admin&#96;ï¼‰æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</span><br><span class="line">é‡æ–°ç”Ÿæˆ &#39;.ssh&#x2F;authorized_keys&#39; æ–‡ä»¶</span><br><span class="line">é‡æ–°åŒæ­¥æ‰€æœ‰ä»“åº“çš„ &#96;pre-receive&#96;ã€&#96;update&#96; å’Œ &#96;post-receive&#96; é’©å­</span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥ç›´æ¥ä½¿ç”¨ç®¡ç†å‘˜è´¦æˆ·åœ¨ç®¡ç†åå°ä¸­æ“ä½œå³å¯è§£å†³ã€‚</p>
<p>è¯¦è§ï¼š<a href="https://gogs.io/docs/intro/troubleshooting#update-%E9%92%A9%E5%AD%90%E6%8C%87%E5%90%91%E9%94%99%E8%AF%AF%E7%9A%84%E4%BA%8C%E8%BF%9B%E5%88%B6%E8%B7%AF%E5%BE%84" target="_blank" rel="noopener">æ•…éšœæ’æŸ¥</a></p>
<hr>
<p>ä¹‹å‰çš„è§£å†³æ–¹æ³•ï¼š</p>
<p>åœ¨æ–°çš„Gogsä½ç½®æ‰§è¡Œ <code>gogs fix location &lt;old Gogs path&gt;</code></p>
<p>ç»æµ‹è¯•ï¼Œè¯¥æ–¹æ³•ä¼¼ä¹å·²è¿‡æ—¶ï¼Œæ‰§è¡Œæ—¶ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;home&#x2F;git&#x2F;gogs# .&#x2F;gogs fix location &#x2F;home&#x2F;git&#x2F;gogs&#x2F;goapp&#x2F;gogs</span><br><span class="line">No help topic for &#39;fix&#39;</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://github.com/gogits/gogs/issues/659" target="_blank" rel="noopener">remote: hooks/update: line 2: /path/to/dir: No such file or directory Â· Issue #659 Â· gogits/gogs Â· GitHub</a></li>
<li><a href="https://github.com/gogits/gogs/issues/654" target="_blank" rel="noopener">Question: How do I move servers? Â· Issue #654 Â· gogits/gogs Â· GitHub</a></li>
</ul>
<hr>
<h4 id="æ·»åŠ -SSH-key-æ—¶æ˜¾ç¤ºæŠ¥é”™é¡µé¢-error-500"><a href="#æ·»åŠ -SSH-key-æ—¶æ˜¾ç¤ºæŠ¥é”™é¡µé¢-error-500" class="headerlink" title="æ·»åŠ  SSH key æ—¶æ˜¾ç¤ºæŠ¥é”™é¡µé¢ error 500"></a>æ·»åŠ  SSH key æ—¶æ˜¾ç¤ºæŠ¥é”™é¡µé¢ <code>error 500</code></h4><p>æŸ¥çœ‹æ—¥å¿—ï¼Œæ‰¾åˆ°å¦‚ä¸‹é”™è¯¯ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">AddPublicKey: addKey: open &#x2F;home&#x2F;git&#x2F;.ssh&#x2F;authorized_keys: permission denied</span><br></pre></td></tr></table></figure>

<p>æŒ‰ç…§å¦‚ä¸‹è¯´æ³•æ“ä½œæˆåŠŸï¼š</p>
<blockquote>
<p>So I changed the .ssh/ folder to 0700 and .ssh/authorize_keys to 0600. It works.</p>
</blockquote>
<p>è¯¦ç»†æ¥æºè§ï¼š<a href="https://github.com/gogits/gogs/issues/545" target="_blank" rel="noopener">ssh çš„é“¾æ¥åœ°å€ä¸å¯ä»¥ä½¿ç”¨</a></p>
<p>ä¿®æ”¹ <code>/home/git/.ssh</code> çš„æƒé™ä¸º <code>700</code><br>ä¿®æ”¹ <code>/home/git/.ssh/authorized_keys</code> çš„æƒé™ä¸º <code>600</code>   </p>
<p>æˆ‘çš„æ“ä½œï¼š</p>
<ol>
<li>ç™»é™†Gogsç«™ç‚¹ç®¡ç†å‘˜è´¦æˆ·ï¼Œè®¿é—® <code>/admin</code> é¡µé¢ï¼Œé€‰æ‹© <code>Rewrite &#39;.ssh/authorized_keys&#39; file (caution: non-Gogs keys will be lost)</code> é¡¹ ï¼Œç‚¹å‡» <code>Run</code> æŠ¥é”™ï¼š<code>open /home/git/.ssh/authorized_keys.tmp: permission denied</code> ã€‚</li>
<li>æŸ¥çœ‹æ—¥å¿— <code>gogs.log</code> æ–‡ä»¶ï¼Œå‘ç°é”™è¯¯ä¿¡æ¯ï¼š<code>AddPublicKey: addKey: open /home/git/.ssh/authorized_keys: permission denied</code> ã€‚</li>
<li>è¿›å…¥å®¹å™¨å†…éƒ¨ï¼š<code>docker exec -it gogs /bin/bash</code> ,åˆ‡æ¢è‡³gitç”¨æˆ·ï¼š<code>su git</code>,ç„¶åè¿›å…¥ <code>/home/git/</code> ç›®å½•ï¼Œæ›´æ”¹ <code>.ssh</code> ç›®å½•æƒé™ï¼š<code>chmod 0700 .ssh</code> ã€‚ï¼ˆæ­¤æ—¶ï¼Œè¯¥ .ssh ç›®å½•å†…ä¸ºç©ºï¼‰</li>
<li>ç„¶åå†æ¬¡è®¿é—® <code>/admin</code> é¡µé¢ï¼Œå†æ¬¡æ‰§è¡Œ <code>Run</code> æ“ä½œï¼Œæç¤ºâ€œæ‰€æœ‰å…¬é’¥é‡æ–°ç”ŸæˆæˆåŠŸï¼â€ä¿¡æ¯ã€‚æŸ¥çœ‹å®¹å™¨å†…çš„ <code>.ssh/</code> ç›®å½•ä¸‹ç”Ÿæˆäº†ä¸€ä¸ª <code>authorized_keys</code> æ–‡ä»¶ã€‚ç„¶åæ›´æ”¹è¯¥æ–‡ä»¶æƒé™ï¼š<code>chmod 0600 authorized_keys</code> ã€‚</li>
<li>ç„¶åé‡å¯è¯¥å®¹å™¨ã€‚</li>
</ol>
<p>é‡å¯å®¹å™¨åè¯¥é—®é¢˜è§£å†³ã€‚</p>
<hr>
<h4 id="è¦æ±‚è¾“å…¥gitè´¦æˆ·å¯†ç "><a href="#è¦æ±‚è¾“å…¥gitè´¦æˆ·å¯†ç " class="headerlink" title="è¦æ±‚è¾“å…¥gitè´¦æˆ·å¯†ç "></a>è¦æ±‚è¾“å…¥gitè´¦æˆ·å¯†ç </h4><p>æ·»åŠ æˆåŠŸSSHå¯†é’¥åï¼Œ<code>git clone</code> é¡¹ç›®ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git clone ssh:&#x2F;&#x2F;git@gogit.itfanr.cc:10022&#x2F;xueer&#x2F;HelloWorld.git</span><br><span class="line">Cloning into &#39;Hello&#39;...</span><br><span class="line">The authenticity of host &#39;[gogit.itfanr.cc]:10022 ([gogit.itfanr.cc]:10022)&#39; can&#39;t be established.</span><br><span class="line">ECDSA key fingerprint is SHA256:+LHU3V00S0g9kNnpByc9ysAM5n6DWutT51YOldIcf88.</span><br><span class="line">Are you sure you want to continue connecting (yes&#x2F;no)? yes</span><br><span class="line">Warning: Permanently added &#39;[gogit.itfanr.cc]:10022&#39; (ECDSA) to the list of known hosts.</span><br><span class="line">git@gogit.itfanr.cc&#39;s password:</span><br><span class="line">Permission denied, please try again.</span><br><span class="line">git@gogit.itfanr.cc&#39;s password:</span><br><span class="line">fatal: Could not read from remote repository.</span><br><span class="line"></span><br><span class="line">Please make sure you have the correct access rights</span><br><span class="line">and the repository exists.</span><br></pre></td></tr></table></figure>

<p>ä¸€ç§å¯èƒ½çš„è§£å†³æ–¹å¼æ˜¯ <code>Check if /home/git/.ssh/.authorized_keys&#39;s permission is 600.</code></p>
<p>è¿™ä¸ªé—®é¢˜è¿˜æ˜¯å…³äº <code>.ssh/authorize_keys</code> çš„æƒé™é—®é¢˜ã€‚</p>
<p>æˆ‘çš„è§£å†³æ–¹æ³•ï¼š</p>
<ol>
<li>ç™»é™†Gogsç«™ç‚¹ç®¡ç†å‘˜è´¦æˆ·ï¼Œè®¿é—® <code>/admin</code> é¡µé¢ï¼Œé€‰æ‹© <code>Rewrite &#39;.ssh/authorized_keys&#39; file (caution: non-Gogs keys will be lost)</code> é¡¹ ï¼Œç‚¹å‡» <code>Run</code> ï¼Œä¼šæç¤ºæ›´æ–°æˆåŠŸã€‚</li>
<li>é‡å¯è¯¥å®¹å™¨å³å¯ã€‚</li>
</ol>
<p>2017-7-21 add:</p>
<p>å¦‚æœä»¥ä¸Šæ–¹æ³•æ— æ•ˆï¼Œå¯ä»¥è¿›å…¥å®¹å™¨åå°† <code>authorize_keys</code> æ–‡ä»¶åˆ é™¤ï¼Œç„¶ååœ¨ç®¡ç†å‘˜æ“ä½œé¡µé¢ä¸­é‡æ–°ç”Ÿæˆã€‚è¿™æ ·åº”è¯¥èƒ½è§£å†³ã€‚</p>
<hr>
<ul>
<li><a href="https://github.com/gogits/gogs/issues/545" target="_blank" rel="noopener">ssh çš„é“¾æ¥åœ°å€ä¸å¯ä»¥ä½¿ç”¨ Â· Issue #545 Â· gogits/gogs Â· GitHub</a></li>
<li><a href="https://github.com/gogits/gogs/issues/2409" target="_blank" rel="noopener">SSH prompts for password in Docker Â· Issue #2409 Â· gogits/gogs Â· GitHub</a></li>
<li><a href="https://github.com/gogits/gogs/issues/1893" target="_blank" rel="noopener">How troubleshoot SSHd on Docker ?</a></li>
</ul>
<hr>
<h4 id="SSH-Connection-refused-é—®é¢˜"><a href="#SSH-Connection-refused-é—®é¢˜" class="headerlink" title="SSH Connection refused é—®é¢˜"></a><code>SSH Connection refused</code> é—®é¢˜</h4><p>æ·»åŠ æˆåŠŸSSHå¯†é’¥åï¼Œ<code>git clone</code> é¡¹ç›®ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git clone ssh:&#x2F;&#x2F;git@192.168.137.140:10022&#x2F;xueer&#x2F;HelloWorld.git</span><br><span class="line">Cloning into &#39;HelloWorld&#39;...</span><br><span class="line">ssh: connect to host 192.168.137.140 port 10022: Connection refused</span><br><span class="line">fatal: Could not read from remote repository.</span><br><span class="line"></span><br><span class="line">Please make sure you have the correct access rights</span><br><span class="line">and the repository exists.</span><br></pre></td></tr></table></figure>

<p>æˆ‘çš„æ¢ç´¢ï¼š</p>
<p>è¿›å…¥å®¹å™¨å†…éƒ¨ï¼š<code>docker exec -it gogs /bin/bash</code></p>
<p>æŸ¥çœ‹sshè¿æ¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root@b48dfa9583f9:&#x2F;home&#x2F;git&#x2F;gogs# ssh localhost</span><br><span class="line">ssh: connect to host localhost port 22: Connection refused</span><br></pre></td></tr></table></figure>

<p>é‚£ç°åœ¨è¿™ä¸ªé—®é¢˜å°±æ˜¯åœ¨ubuntuä¸‹é…ç½®sshé“¾æ¥çš„é—®é¢˜äº†ã€‚  </p>
<p>å‘ç°é—®é¢˜çš„åŸå› æ˜¯å®‰è£… <code>openssh</code> åï¼Œå¹¶æ²¡æœ‰å¯åŠ¨ <code>SSH</code> æœåŠ¡ã€‚æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¯åŠ¨ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/etc/init.d/ssh start</span><br><span class="line"><span class="comment"># æˆ–</span></span><br><span class="line">service ssh start</span><br><span class="line">service ssh status</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹sshæœåŠ¡æ˜¯å¦å¯åŠ¨ï¼š<code>ps -e |grep ssh</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root@b48dfa9583f9:&#x2F;home&#x2F;git&#x2F;gogs# ps -e |grep ssh</span><br><span class="line">   81 ?        00:00:00 sshd</span><br></pre></td></tr></table></figure>

<p>ç„¶åä½¿ç”¨ <code>ssh localhost</code> å‘½ä»¤æŸ¥çœ‹æ˜¯å¦èƒ½å¤Ÿè¿æ¥æœ¬åœ°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root@b48dfa9583f9:&#x2F;home&#x2F;git&#x2F;gogs# ssh localhost</span><br><span class="line">The authenticity of host &#39;localhost (::1)&#39; can&#39;t be established.</span><br><span class="line">ECDSA key fingerprint is SHA256:eKk78mnEXpwvFhbzC6BgM70jZx3be4Fz8okyagHA6QA.</span><br><span class="line">Are you sure you want to continue connecting (yes&#x2F;no)? no</span><br><span class="line">Host key verification failed.</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°SSHæœåŠ¡å·²ç»æ­£å¸¸è¿è¡Œäº†ã€‚</p>
<p>ç„¶ååœ¨å›åˆ°å®¿ä¸»æœºä¸‹ï¼Œå†æ¬¡æ‰§è¡Œ <code>git clone</code> å‘½ä»¤ï¼Œæµ‹è¯•æ˜¯å¦èƒ½å¤Ÿè¿é€šã€‚</p>
<hr>
<p>è¿™é‡Œæˆ‘æ•´ç†äº†ä¸¤ç§è¿æ¥æ–¹æ³•ï¼š</p>
<p>è¿æ¥æ–¹æ³•ä¸€ï¼š</p>
<p><code>git clone ssh://git@192.168.137.140:10022/qqq/Xweixin.git</code>   Pull and Push Test Ok.</p>
<p>è¿æ¥æ–¹æ³•äºŒï¼š</p>
<p>å¦‚æœå«Œä¸Šé¢å¸¦æœ‰ç«¯å£å·çš„é“¾æ¥å¤ªä¸æå®¢èŒƒå„¿ï¼Œå¯ä»¥åœ¨å®¢æˆ·ç«¯ç”µè„‘ä¸Šå½“å‰ç”¨æˆ·ä¸»ç›®å½•çš„ <code>.ssh</code> ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ²¡æœ‰æ‰©å±•åçš„ <code>config</code> æ–‡ä»¶ï¼ˆæ³¨æ„æ–‡ä»¶æ ¼å¼ä¸º <code>UTF-8</code> ä¸”è¡Œç»“æŸæ ‡è¯†ä¸º <code>Unix(LF)</code>ï¼‰ï¼Œå¡«å†™å¦‚ä¸‹å†…å®¹ï¼š</p>
<p><code>~/.ssh/config</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Host 192.168.137.140</span><br><span class="line">HostName 192.168.137.140</span><br><span class="line">Port 10022</span><br><span class="line">User git</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œï¼Œ</p>
<ul>
<li><code>Host</code> æ˜¯è¿œç¨‹gitä»“åº“æ‰€åœ¨å®¿ä¸»æœºçš„IPåœ°å€æˆ–åŸŸåï¼›</li>
<li><code>HostName</code> ä¸å¤ªé‡è¦ï¼Œä»…èµ·åˆ°æ ‡è¯†çš„ä½œç”¨ï¼›</li>
<li><code>Port</code> è¡¨ç¤ºè¿œç¨‹gitä»“åº“ä½¿ç”¨çš„ç«¯å£å·ï¼›</li>
<li><code>User</code> è¡¨ç¤ºè¿œç¨‹gitä»“åº“çš„é»˜è®¤ç”¨æˆ·ï¼Œè¿™é‡Œå¡«å†™é»˜è®¤çš„ <code>git</code> å³å¯ã€‚</li>
</ul>
<p>ç„¶åå°±å¯ä»¥ç›´æ¥è¯·æ±‚ä¸å¸¦ç«¯å£å·çš„sshä»“åº“åœ°å€äº†ï¼š</p>
<p><code>git clone ssh://git@192.168.137.140/qqq/Xweixin.git</code> Pull and Push Test Ok.</p>
<p>ç›¸å…³å‚è€ƒ</p>
<ul>
<li><a href="http://blog.csdn.net/jszhangyili/article/details/8881807" target="_blank" rel="noopener">ssh: connect to host localhost port 22: Connection refused é—®é¢˜</a></li>
<li><a href="http://os.51cto.com/art/201109/291634.htm" target="_blank" rel="noopener">ubuntuä¸‹å¦‚ä½•å®‰è£…ä½¿ç”¨SSHï¼Ÿ</a></li>
<li><a href="http://ubuntuhandbook.org/index.php/2016/04/enable-ssh-ubuntu-16-04-lts/" target="_blank" rel="noopener">How to Enable SSH in Ubuntu 16.04 LTS | UbuntuHandbook</a></li>
<li><a href="https://github.com/gogits/gogs/issues/1788" target="_blank" rel="noopener">SSH doesnâ€™t work on ports other than 22 in dockerized gogs</a></li>
</ul>
<hr>
<h4 id="Git-SSH-ä½¿ç”¨éé»˜è®¤22ç«¯å£æ—¶ï¼Œå¦‚ä½•éšè—ç«¯å£å·"><a href="#Git-SSH-ä½¿ç”¨éé»˜è®¤22ç«¯å£æ—¶ï¼Œå¦‚ä½•éšè—ç«¯å£å·" class="headerlink" title="Git SSH ä½¿ç”¨éé»˜è®¤22ç«¯å£æ—¶ï¼Œå¦‚ä½•éšè—ç«¯å£å·"></a>Git SSH ä½¿ç”¨éé»˜è®¤22ç«¯å£æ—¶ï¼Œå¦‚ä½•éšè—ç«¯å£å·</h4><p>Note that you can also add an entry to your <code>~/.ssh/config</code> file:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Host git.example.com</span><br><span class="line">Port 2222</span><br><span class="line">User git</span><br></pre></td></tr></table></figure>

<p>and then use the normal git clone <code>git@git.example.com:myuser/myproject.git</code> command.</p>
<p>ç›¸å…³å‚è€ƒ</p>
<ul>
<li><a href="http://stackoverflow.com/questions/1558719/using-a-remote-repository-with-non-standard-port" target="_blank" rel="noopener">git - Using a remote repository with non-standard port - Stack Overflow</a></li>
<li><a href="https://prestongarrison.com/change-port-git-is-using-for-ssh/" target="_blank" rel="noopener">Change port git is using for ssh</a></li>
<li><a href="http://serverfault.com/questions/218256/specify-ssh-port-for-git" target="_blank" rel="noopener">Specify SSH Port for Git - Server Fault</a></li>
</ul>
<hr>
<h4 id="æŠ¥é”™-WARNING-REMOTE-HOST-IDENTIFICATION-HAS-CHANGED"><a href="#æŠ¥é”™-WARNING-REMOTE-HOST-IDENTIFICATION-HAS-CHANGED" class="headerlink" title="æŠ¥é”™ WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!"></a>æŠ¥é”™ <code>WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!</code></h4><p>ä½¿ç”¨ SSH è·å–æ—¶æŠ¥é”™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git clone ssh:&#x2F;&#x2F;git@192.168.137.140:10022&#x2F;xueer&#x2F;HelloWorld.git</span><br><span class="line">Cloning into &#39;HelloWorld&#39;...</span><br><span class="line">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span><br><span class="line">@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @</span><br><span class="line">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span><br><span class="line">IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!</span><br><span class="line">Someone could be eavesdropping on you right now (man-in-the-middle attack)!</span><br><span class="line">It is also possible that a host key has just been changed.</span><br><span class="line">The fingerprint for the ECDSA key sent by the remote host is</span><br><span class="line">SHA256:+LHU3V00S0g9kNnpByc9ysAM5n6DWutT51YOldIcf88.</span><br><span class="line">Please contact your system administrator.</span><br><span class="line">Add correct host key in &#x2F;c&#x2F;Users&#x2F;Yx&#x2F;.ssh&#x2F;known_hosts to get rid of this message.</span><br><span class="line">Offending ECDSA key in &#x2F;c&#x2F;Users&#x2F;Yx&#x2F;.ssh&#x2F;known_hosts:5</span><br><span class="line">ECDSA host key for [192.168.137.140]:10022 has changed and you have requested strict checking.</span><br><span class="line">Host key verification failed.</span><br><span class="line">fatal: Could not read from remote repository.</span><br><span class="line"></span><br><span class="line">Please make sure you have the correct access rights</span><br><span class="line">and the repository exists.</span><br></pre></td></tr></table></figure>

<p>è¯¥é—®é¢˜æ˜¯ç”±äºå®¢æˆ·ç«¯ç”µè„‘ä¸Šçš„ <code>.ssh/known_hosts</code> æ–‡ä»¶ä¸­è®°å½•äº†é‡å¤æˆ–å†²çªçš„sshä¿¡æ¯ï¼Œåˆ é™¤è¯¥æ–‡ä»¶é‡æ–°è®¾ç½®sshè¿æ¥å³è§£å†³ã€‚</p>
<hr>
<h4 id="echo-è¾“å‡º"><a href="#echo-è¾“å‡º" class="headerlink" title="echo è¾“å‡º"></a>echo è¾“å‡º</h4><p>ä¸‹é¢ä¸¤è¡Œå‘½ä»¤çš„è¾“å‡ºç»“æœæ˜¯ä¸ä¸€æ ·çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ab&#x3D;$(service ssh status);echo $ab;</span><br><span class="line"></span><br><span class="line">ab&#x3D;$(service ssh status);echo &quot;$ab&quot;;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">you can get output of third solution in good way:</span><br><span class="line"></span><br><span class="line">echo &quot;$var&quot;</span><br><span class="line">and also in nasty way:</span><br><span class="line"></span><br><span class="line">echo $var</span><br></pre></td></tr></table></figure>

<p>å½“ <code>echo</code> åé¢çš„å†…å®¹å¸¦æœ‰å¼•å·æ—¶ï¼Œåªä¼šè¾“å‡ºå˜é‡å€¼çš„å†…å®¹ã€‚å½“æ²¡æœ‰å¼•å·æ—¶ï¼Œå¦‚æœå½“å‰æ‰€åœ¨ç›®å½•ä¸‹æœ‰å…¶ä»–æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶çš„æ–‡ä»¶åä¹Ÿä¼šè¢«è¾“å‡ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ab&#x3D;$(service ssh status);echo $ab;</span><br><span class="line">LICENSE README.md README_ZH.md custom data gogs log public scripts templates sshd is running</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="http://stackoverflow.com/questions/4651437/how-to-set-a-variable-to-the-output-from-a-command-in-bash" target="_blank" rel="noopener">linux - How to set a variable to the output from a command in Bash? - Stack Overflow</a></li>
</ul>
<hr>
<h4 id="Gogs-ä½¿ç”¨-HTTPS"><a href="#Gogs-ä½¿ç”¨-HTTPS" class="headerlink" title="Gogs ä½¿ç”¨ HTTPS"></a>Gogs ä½¿ç”¨ HTTPS</h4><p>è¯¦ç»†å¯è§æˆ‘çš„ç³»åˆ—æ–‡ç« ï¼š<a href="/2018/09/24/https-certificate-two-of-nginx-settings/">HTTPSæ³›åŸŸåè¯ä¹¦ç”³è¯·ä¹‹äºŒ-Nginxé…ç½® | ITèŒƒå„¿</a></p>
<ul>
<li><a href="https://github.com/Unknwon/wuwen.org/issues/12" target="_blank" rel="noopener">ä½¿ç”¨ HTTPS éƒ¨ç½² Gogs Â· Issue #12 Â· Unknwon/wuwen.org Â· GitHub</a></li>
<li><a href="https://github.com/richardskumat/gogsi/blob/master/gogs-nginx-ssl.conf" target="_blank" rel="noopener">gogsi/gogs-nginx-ssl.conf at master Â· richardskumat/gogsi Â· GitHub</a></li>
</ul>
<hr>
<h4 id="413-Request-Entity-Too-Large"><a href="#413-Request-Entity-Too-Large" class="headerlink" title="413 Request Entity Too Large"></a>413 Request Entity Too Large</h4><p>å‡ºç°è¿™ä¸ªé—®é¢˜æ˜¯å› ä¸ºæˆ‘åœ¨æœåŠ¡å™¨ä¸Šä½¿ç”¨Nginxå¯¹Gogsåšåå‘ä»£ç†ï¼Œä¸Šä¼ æ–‡ä»¶çš„å¤§å°è¶…å‡ºäº†Nginxçš„é™åˆ¶ã€‚</p>
<p>æˆ‘çš„Nginxé…ç½®å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name gogit.itfanr.cc;</span><br><span class="line"></span><br><span class="line">    location &#x2F; &#123;</span><br><span class="line">        # 3000 æ˜¯ Gogs è¿è¡Œçš„ç«¯å£</span><br><span class="line">        proxy_pass http:&#x2F;&#x2F;localhost:3000; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Nginxå…è®¸çš„æœ€å¤§è¯·æ±‚æ•°æ®å¤§å°é»˜è®¤ä¸º <code>1m</code> ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‚æ•° <code>client_max_body_size</code> æ¥è‡ªå®šä¹‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name gogit.itfanr.cc;</span><br><span class="line"></span><br><span class="line">    # è®¾ç½®æœ€å¤§ä¸º 100 M</span><br><span class="line">    client_max_body_size 100m;</span><br><span class="line"></span><br><span class="line">    location &#x2F; &#123;</span><br><span class="line">        # 3000 æ˜¯ Gogs è¿è¡Œçš„ç«¯å£</span><br><span class="line">        proxy_pass http:&#x2F;&#x2F;localhost:3000; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æˆ‘è®¾ç½®çš„æ˜¯ <code>100m</code> å¤§å°ã€‚</p>
<p>ä¹‹åï¼Œé‡å¯nginxæœåŠ¡å³å¯ï¼š<code>sudo systemctl reload nginx</code> ã€‚</p>
<hr>
<h4 id="One-More-Thingâ€¦"><a href="#One-More-Thingâ€¦" class="headerlink" title="One More Thingâ€¦"></a>One More Thingâ€¦</h4><p>æ ¹æ®ä»¥ä¸Šé‡åˆ°çš„é—®é¢˜ï¼Œè¿™é‡Œä¸»è¦æä¸€ç‚¹ï¼š</p>
<p>ä½†å‡¡æ˜¯SSHç›¸å…³çš„é—®é¢˜ï¼Œå°±æ˜¯è¦ä¿è¯ç›®å½• <code>/home/git/.ssh</code> å…·æœ‰ <code>0700</code> çš„æƒé™ï¼Œç›®å½• <code>/home/git/.ssh/</code> ä¸‹çš„æ–‡ä»¶å…·æœ‰ <code>0600</code> çš„æƒé™ã€‚</p>
<p>æˆ–è€…ç›´æ¥å°è¯•å¦‚ä¸‹æ“ä½œ:</p>
<ol>
<li>ç™»é™†Gogsç«™ç‚¹ç®¡ç†å‘˜è´¦æˆ·ï¼Œè®¿é—® <code>/admin</code> é¡µé¢ï¼Œé€‰æ‹© <code>Rewrite &#39;.ssh/authorized_keys&#39; file (caution: non-Gogs keys will be lost)</code> é¡¹ ï¼Œç‚¹å‡» <code>Run</code> æŒ‰é’®ï¼Œå¦‚æœæŠ¥é”™ï¼š<code>open /home/git/.ssh/authorized_keys.tmp: permission denied</code> ã€‚å¦åˆ™ç›´æ¥è·³è‡³æ­¥éª¤5ã€‚</li>
<li>æŸ¥çœ‹æ—¥å¿— <code>gogs.log</code> æ–‡ä»¶ï¼Œå‘ç°é”™è¯¯ä¿¡æ¯ï¼š<code>AddPublicKey: addKey: open /home/git/.ssh/authorized_keys: permission denied</code> ã€‚</li>
<li>è¿›å…¥å®¹å™¨å†…éƒ¨ï¼š<code>docker exec -it gogs /bin/bash</code> ,åˆ‡æ¢è‡³gitç”¨æˆ·ï¼š<code>su git</code>,ç„¶åè¿›å…¥ <code>/home/git/</code> ç›®å½•ï¼Œæ›´æ”¹ <code>.ssh</code> ç›®å½•æƒé™ï¼š<code>chmod 0700 .ssh</code> ã€‚ï¼ˆæ­¤æ—¶ï¼Œè¯¥ .ssh ç›®å½•å†…ä¸ºç©ºï¼‰</li>
<li>ç„¶åå†æ¬¡è®¿é—® <code>/admin</code> é¡µé¢ï¼Œå†æ¬¡æ‰§è¡Œ <code>Run</code> æ“ä½œï¼Œæç¤ºâ€œæ‰€æœ‰å…¬é’¥é‡æ–°ç”ŸæˆæˆåŠŸï¼â€ä¿¡æ¯ã€‚æŸ¥çœ‹å®¹å™¨å†…çš„ <code>.ssh/</code> ç›®å½•ä¸‹ç”Ÿæˆäº†ä¸€ä¸ª <code>authorized_keys</code> æ–‡ä»¶ã€‚ç„¶åæ›´æ”¹è¯¥æ–‡ä»¶æƒé™ï¼š<code>chmod 0600 authorized_keys</code> ã€‚</li>
<li>æœ€åé‡å¯è¯¥å®¹å™¨ã€‚</li>
</ol>
<hr>
]]></content>
      <categories>
        <category>Ubuntu-Gogs</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>Gogs</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker-Ubuntu-Gogséƒ¨ç½²gogså®¹å™¨è¿‡ç¨‹è®°å½•</title>
    <url>/2017/03/23/docker-ubuntu-gogs-deploy/</url>
    <content><![CDATA[<p>Docker Gogs ç”¨æ›´ç®€å•çš„æ–¹å¼éƒ¨ç½²ã€å‡çº§æˆ–è¿ç§»Gogså®¹å™¨æœåŠ¡ã€‚</p>
<p><code>Docker-Ubuntu-Gogs</code> ç³»åˆ—æ–‡ç« ä¸»è¦è®°å½•æˆ‘åœ¨Dockerä¸‹éƒ¨ç½²Gogsä»£ç ç®¡ç†é¡¹ç›®çš„è¿‡ç¨‹ã€‚ç³»åˆ—æ–‡ç« åŒ…æ‹¬Gogså®¹å™¨çš„éƒ¨ç½²è¿‡ç¨‹ï¼Œéƒ¨ç½²æ—¶é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ³•ï¼Œä¸ªæ€§åŒ–é…ç½®ç­‰ã€‚</p>
<p>è¿™é‡Œåº•å±‚ç³»ç»Ÿé€‰æ‹©äº† <code>Ubuntu16.04</code> ç‰ˆæœ¬ï¼Œä¹‹å‰ä¹Ÿæ›¾å°è¯•åœ¨ <code>Alpine</code> ç³»ç»Ÿä¸‹æ¥éƒ¨ç½²Gogsï¼Œä½†å®‰è£…å®Œæˆåä¼šæŠ¥ <code>./gogs web is not found</code> ä¹‹ç±»çš„é”™è¯¯ï¼Œæš‚æœªæ‰¾åˆ°è§£å†³æ–¹æ³•ã€‚é‚æœ€åå†³å®šé‡‡ç”¨Ubuntuæ¥éƒ¨ç½²ã€‚</p>
<p>å¯¹äº <code>Alpine</code> ç³»ç»Ÿä¸‹çš„éƒ¨ç½²æ–¹æ³•ï¼Œå¾…åæœŸå†æ¥å®Œå–„ã€‚</p>
<p>å¦å¤–ï¼ŒGogsä½œè€…åœ¨Githubä¸­å‘å¸ƒçš„Gogså®¹å™¨ç‰ˆæœ¬æ˜¯ç”¨Alpineç³»ç»Ÿæ¥åšçš„ï¼Œå¦‚æœæ¯”è¾ƒåœ¨æ„å®¹å™¨çš„å¤§å°ï¼Œå¯ä»¥ç›´æ¥ç”¨ä¹‹ã€‚</p>
<hr>
<h4 id="æµ‹è¯•æ“ä½œæ­¥éª¤"><a href="#æµ‹è¯•æ“ä½œæ­¥éª¤" class="headerlink" title="æµ‹è¯•æ“ä½œæ­¥éª¤"></a>æµ‹è¯•æ“ä½œæ­¥éª¤</h4><p>æ“ä½œè®°å½•ï¼š<code>Ubuntu16.04</code> ç³»ç»Ÿ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker run -it --name ugg1 -p 3000:3000 -p 8080:22 ubuntu /bin/bash</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">RUN <span class="built_in">echo</span> <span class="string">"deb http://cn.archive.ubuntu.com/ubuntu/ xenial main restricted universe multiverse"</span> &gt;&gt; /etc/apt/sources.list</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">apt-get update</span><br><span class="line"></span><br><span class="line">apt-get install -y git wget openssh-server</span><br><span class="line"></span><br><span class="line">adduser git  (and <span class="built_in">set</span> <span class="built_in">pwd</span> git)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‹·è´æœ¬åœ°çš„gogsé¡¹ç›®zipåŒ…åˆ°å®¹å™¨ä¸­</span></span><br><span class="line">docker cp linux_amd64.zip ugg1:/home/git/gogs.zip</span><br><span class="line"></span><br><span class="line">unzip gogs.zip</span><br><span class="line"></span><br><span class="line"><span class="comment">#***************</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> gogs</span><br><span class="line">mkdir -p custom/conf</span><br><span class="line">mkdir -p <span class="built_in">log</span></span><br><span class="line"></span><br><span class="line">chmod -R 777 custom</span><br><span class="line">chmod -R 777 <span class="built_in">log</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> ..</span><br><span class="line">chown -R git:git gogs</span><br><span class="line"></span><br><span class="line"><span class="comment">#*******************</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># gosu</span></span><br><span class="line">docker cp gosu-amd64 ugg1:/usr/<span class="built_in">local</span>/bin/gosu</span><br><span class="line">chmod +x /usr/<span class="built_in">local</span>/bin/gosu</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨é¡¹ç›®</span></span><br><span class="line"><span class="built_in">cd</span> gogs</span><br><span class="line">./gogs web</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨sshæœåŠ¡ï¼ˆä¹‹å‰æµ‹è¯•æ—¶æŠŠè¿™é¡¹ä¸¢äº†ï¼Œæ‰€ä»¥sshåŠŸèƒ½ä¸€ç›´æ— æ³•ä½¿ç”¨ï¼‰</span></span><br><span class="line">service ssh start </span><br><span class="line">service ssh restart</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">gosu git /home/git/gogs/gogs web</span><br><span class="line"></span><br><span class="line"><span class="comment"># é¡¹ç›®æ–‡ä»¶ç›®å½•</span></span><br><span class="line">/app</span><br><span class="line">	gogs-repositories</span><br><span class="line">	gogs</span><br><span class="line">		<span class="built_in">log</span></span><br><span class="line">		ssh</span><br><span class="line">		conf</span><br><span class="line">		data</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæ•°æ®æ–‡ä»¶</span></span><br><span class="line">mkdir -p /app/gogs-repositories /app/gogs/<span class="built_in">log</span> /app/gogs/ssh /app/gogs/data /app/gogs/conf</span><br><span class="line">chown -R git:git /app</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ln -sf /home/git/gogs/custom/conf/app.ini  /app/gogs/conf/app.ini</span><br><span class="line">chown -R git:git /app</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ docker run --name ugg1 -d -p 3002:3000 -p 8090:22 -v /home/tiger/xdk/dfile:/app gg1</span><br></pre></td></tr></table></figure>

<hr>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Link volumed data with app data</span><br><span class="line">ln -sf &#x2F;data&#x2F;gogs&#x2F;log  .&#x2F;log</span><br><span class="line">ln -sf &#x2F;data&#x2F;gogs&#x2F;data .&#x2F;data</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒè‡ªgogså®˜æ–¹githubä¸­çš„dockerfileï¼Œä½¿ç”¨gosuè°ƒç”¨gitç”¨æˆ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export USER&#x3D;git</span><br><span class="line">exec gosu $USER &#x2F;app&#x2F;gogs&#x2F;gogs web</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="é—®é¢˜ä¸€ï¼šä¸èƒ½ä½¿ç”¨-gosu-è°ƒç”¨-git-ç”¨æˆ·æ¥å¯åŠ¨"><a href="#é—®é¢˜ä¸€ï¼šä¸èƒ½ä½¿ç”¨-gosu-è°ƒç”¨-git-ç”¨æˆ·æ¥å¯åŠ¨" class="headerlink" title="é—®é¢˜ä¸€ï¼šä¸èƒ½ä½¿ç”¨ gosu è°ƒç”¨ git ç”¨æˆ·æ¥å¯åŠ¨"></a>é—®é¢˜ä¸€ï¼šä¸èƒ½ä½¿ç”¨ <code>gosu</code> è°ƒç”¨ <code>git</code> ç”¨æˆ·æ¥å¯åŠ¨</h4><p>å‘ç°ä¸èƒ½ä½¿ç”¨ <code>gosu</code> è°ƒç”¨ <code>git</code> ç”¨æˆ·æ¥å¯åŠ¨ï¼Œ<code>gosu git /home/git/gogs/gogs web</code> ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">gogs è¿è¡Œç³»ç»Ÿç”¨æˆ·éå½“å‰ç”¨æˆ·ï¼šgit &gt;</span><br></pre></td></tr></table></figure>

<p>ä¸æ¨èçš„è§£å†³æ–¹æ³•æ˜¯ï¼š åˆ‡æ¢åˆ°gitè´¦æˆ·ä¸‹æ‰§è¡Œï¼š<code>su - git</code>  <code>$ ./gogs web</code></p>
<p>é€šè¿‡æµ‹è¯•ï¼Œå¯ä»¥é‡‡ç”¨å¦‚ä¸‹çš„æ–¹å¼æ¥ä½¿ç”¨ <code>gosu</code> è°ƒç”¨ <code>git</code> ç”¨æˆ·ï¼ˆå‚è€ƒè‡ªgogså®˜æ–¹githubä¸­çš„dockerfileï¼‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export USER&#x3D;git</span><br><span class="line">exec gosu $USER &#x2F;app&#x2F;gogs&#x2F;gogs web</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="é—®é¢˜äºŒï¼šFail-to-start-SSH-server-listen-tcp-0-0-0-0-22-bind-permission-denied"><a href="#é—®é¢˜äºŒï¼šFail-to-start-SSH-server-listen-tcp-0-0-0-0-22-bind-permission-denied" class="headerlink" title="é—®é¢˜äºŒï¼šFail to start SSH server: listen tcp 0.0.0.0:22: bind: permission denied"></a>é—®é¢˜äºŒï¼š<code>Fail to start SSH server: listen tcp 0.0.0.0:22: bind: permission denied</code></h4><p>å¯ç”¨å†…ç½®SSHæœåŠ¡å™¨ä¼šæŠ¥è¯¥é”™è¯¯ï¼Œæš‚æœªæ‰¾åˆ°è§£å†³æ–¹æ³•ã€‚</p>
<p>é€šè¿‡æµ‹è¯•ï¼Œå°†é»˜è®¤çš„ <code>22</code> ç«¯å£æ”¹æˆå…¶ä»–ç«¯å£å³å¯ã€‚</p>
<p>ä½†æ˜¯ <strong>gogså®˜æ–¹çš„dockeré…ç½®ä¸­å»ºè®®ä¸è¦åœ¨Dockerå®¹å™¨ä¸­ä½¿ç”¨å†…ç½®çš„SSHæœåŠ¡å™¨</strong>ã€‚</p>
<hr>
<h4 id="é—®é¢˜ä¸‰ï¼šPANIC-session-start-mkdir-data-permission-denied"><a href="#é—®é¢˜ä¸‰ï¼šPANIC-session-start-mkdir-data-permission-denied" class="headerlink" title="é—®é¢˜ä¸‰ï¼šPANIC: session(start): mkdir data: permission denied"></a>é—®é¢˜ä¸‰ï¼š<code>PANIC: session(start): mkdir data: permission denied</code></h4><p>è¯¦ç»†é”™è¯¯ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[Macaron] 2017-03-21 06:05:40: Started GET &#x2F; for 192.168.137.1</span><br><span class="line">[Macaron] PANIC: session(start): mkdir data: permission denied</span><br><span class="line">&#x2F;usr&#x2F;local&#x2F;go&#x2F;src&#x2F;runtime&#x2F;panic.go:489 (0x4340bf)</span><br><span class="line">&#x2F;home&#x2F;vagrant&#x2F;gopath&#x2F;src&#x2F;github.com&#x2F;gogits&#x2F;gogs&#x2F;vendor&#x2F;github.com&#x2F;go-macaron&#x2F;session&#x2F;session.go:156 (0x8f478e)</span><br><span class="line">&#x2F;home&#x2F;vagrant&#x2F;gopath&#x2F;src&#x2F;github.com&#x2F;gogits&#x2F;gogs&#x2F;vendor&#x2F;gopkg.in&#x2F;macaron.v1&#x2F;context.go:79 (0x89ba01)</span><br><span class="line">&#x2F;home&#x2F;vagrant&#x2F;gopath&#x2F;src&#x2F;github.com&#x2F;gogits&#x2F;gogs&#x2F;vendor&#x2F;github.com&#x2F;go-macaron&#x2F;inject&#x2F;inject.go:157 (0x87dc92)</span><br><span class="line">&#x2F;home&#x2F;vagrant&#x2F;gopath&#x2F;src&#x2F;github.com&#x2F;gogits&#x2F;gogs&#x2F;vendor&#x2F;github.com&#x2F;go-macaron&#x2F;inject&#x2F;inject.go:135 (0x87da8b)</span><br><span class="line">&#x2F;home&#x2F;vagrant&#x2F;gopath&#x2F;src&#x2F;github.com&#x2F;gogits&#x2F;gogs&#x2F;vendor&#x2F;gopkg.in&#x2F;macaron.v1&#x2F;context.go:121 (0x89bc62)</span><br><span class="line">&#x2F;home&#x2F;vagrant&#x2F;gopath&#x2F;src&#x2F;github.com&#x2F;gogits&#x2F;gogs&#x2F;vendor&#x2F;gopkg.in&#x2F;macaron.v1&#x2F;context.go:112 (0x89bb86)</span><br><span class="line">&#x2F;home&#x2F;vagrant&#x2F;gopath&#x2F;src&#x2F;github.com&#x2F;gogits&#x2F;gogs&#x2F;vendor&#x2F;gopkg.in&#x2F;macaron.v1&#x2F;recovery.go:161 (0x8af50b)</span><br><span class="line">&#x2F;home&#x2F;vagrant&#x2F;gopath&#x2F;src&#x2F;github.com&#x2F;gogits&#x2F;gogs&#x2F;vendor&#x2F;gopkg.in&#x2F;macaron.v1&#x2F;logger.go:40 (0x89f118)</span><br></pre></td></tr></table></figure>

<p>è¯¥é—®é¢˜å¯¼è‡´çš„åŸå› æ˜¯ï¼Œå½“ <code>git</code> ç”¨æˆ·è¿è¡Œ <code>./gogs web</code> æ—¶ï¼Œä¼šåœ¨ <code>gogs</code> é¡¹ç›®çš„ä¸»ç›®å½•ä¸‹ ( è¿™é‡Œæ˜¯ <code>/home/git/gogs</code>ï¼‰åˆ›å»ºä¸€ä¸ª <code>data</code> ç›®å½•ç”¨äºå­˜æ”¾sessionç¼“å­˜ç­‰ä¸´æ—¶æ–‡ä»¶ã€‚å¦‚æœå½“å‰å·¥ä½œçš„ä¸»ç›®å½•ä¸æ˜¯åœ¨ <code>/home/git/gogs</code> ç›®å½•ï¼Œåˆ™gitè´¦æˆ·å°±æ²¡æœ‰æƒé™æ¥åˆ›å»ºç›®å½•ï¼Œä»è€Œå¯¼è‡´æƒé™é”™è¯¯ã€‚<br>è§£å†³æ–¹æ³•æ˜¯åœ¨Dockerfileä¸­æŒ‡å®šå·¥ä½œç›®å½• <code>WORKDIR /home/git/gogs</code> å³å¯ã€‚ </p>
<p>åç»æŸ¥è¯ï¼Œåœ¨ <code>Gogs</code> é¡¹ç›®ç›®å½•ä¸‹çš„ <code>custom</code> <code>data</code> å’Œ <code>log</code> ä¸‰ä¸ªç›®å½•æ˜¯ç”¨æ¥å­˜æ”¾é¡¹ç›®è¿è¡ŒæœŸé—´äº§ç”Ÿçš„æ—¥å¿—ã€é…ç½®æ–‡ä»¶ã€æ•°æ®ç­‰ä¿¡æ¯çš„ã€‚å½“Gogsé¡¹ç›®éœ€è¦å‡çº§æ—¶ï¼Œç›´æ¥æ‹·è´è¿™ä¸‰ä¸ªç›®å½•åˆ°æ–°é¡¹ç›®ç›®å½•ä¸‹å³å¯ã€‚<br>è¿™é‡Œçš„ <code>data</code> ç›®å½•éœ€è¦æå‰åˆ›å»ºå¥½ã€‚</p>
<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="http://amazingw.github.io/2016/03/22/ubuntu-with-gogs.html" target="_blank" rel="noopener">åœ¨ubuntuä¸Šå®‰è£…gogs</a></li>
<li><a href="https://libhappy.com/2016/01/build-gogs-service/" target="_blank" rel="noopener">ç”¨Gogsæ­å»ºè‡ªå·±çš„GitæœåŠ¡å™¨ - LibHappy</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-gogs-on-ubuntu-14-04" target="_blank" rel="noopener">How To Set Up Gogs on Ubuntu 14.04 | DigitalOcean</a></li>
<li><a href="http://www.cnblogs.com/sipher/articles/2429772.html" target="_blank" rel="noopener">chmod 777 ä¿®æ”¹æƒé™ - æ—¥å…‰ä¹‹ä¸‹æ— æ–°äº‹ - åšå®¢å›­</a></li>
<li><a href="https://segmentfault.com/q/1010000004608054" target="_blank" rel="noopener">linux - å®‰è£…gogsæ—¶æŠ¥é”™ï¼šè¿è¡Œç³»ç»Ÿç”¨æˆ·éå½“å‰ç”¨æˆ·ï¼šgit -&gt; rootã€‚ ä¸çŸ¥é“æ˜¯ä»€ä¹ˆæ„æ€ - SegmentFault</a></li>
</ul>
<hr>
<h4 id="Installæ—¶æ³¨æ„äº‹é¡¹"><a href="#Installæ—¶æ³¨æ„äº‹é¡¹" class="headerlink" title="Installæ—¶æ³¨æ„äº‹é¡¹"></a>Installæ—¶æ³¨æ„äº‹é¡¹</h4><ul>
<li><code>Database Type</code> é€‰æ‹© <code>SQLite3</code> ï¼ˆç›®å‰ä»…æµ‹è¯•äº†sqlite3æ•°æ®åº“ï¼‰</li>
<li><code>Sqlite Database Path</code> ä½¿ç”¨å›ºå®šè·¯å¾„ <code>/app/gogs/data/gogs.db</code> ï¼ˆåæœŸæ”¹æˆé»˜è®¤ç›®å½•ä¹Ÿå¯ä»¥ï¼Œè¯¦è§Githubï¼‰</li>
<li><code>Repository Root Path</code> ä½¿ç”¨å›ºå®šè·¯å¾„ <code>/app/gogs-repositories</code></li>
<li><code>Run User</code> ä½¿ç”¨é»˜è®¤çš„ <code>git</code></li>
<li><code>Domain</code> å¡«å†™Dockerå®¿ä¸»æœºçš„ä¸»æœºåæˆ–ç‰©ç†åœ°å€ ç±»ä¼¼äº <code>192.168.137.140</code></li>
<li><code>SSH Port</code> ä¸è¦å‹¾é€‰ä½¿ç”¨å†…ç½®SSHæœåŠ¡å™¨ï¼ˆDonâ€™t user <code>Use Builtin SSH Server</code>ï¼‰ å¦‚æœä½ æ˜ å°„Dockerå¤–éƒ¨ç«¯å£å¦‚ <code>10022:22</code> é‚£ä¹ˆè¿™é‡Œå¡«å†™ <code>10022</code></li>
<li><code>HTTP Port</code> å¦‚æœæ˜ å°„å¤–éƒ¨ç«¯å£ <code>10080:3000</code> è¿™é‡Œä»ç„¶ä½¿ç”¨ <code>3000</code></li>
<li><code>Application URL</code> ä½¿ç”¨åŸŸå’Œå…¬å¼€çš„HTTPç«¯å£å€¼çš„ç»„åˆ å¦‚ <code>http://192.168.137.140:10080</code></li>
<li><code>Log Path</code> å¡«å†™å›ºå®šè·¯å¾„ <code>/app/gogs/log</code>  ï¼ˆåæœŸæ”¹æˆé»˜è®¤ç›®å½•ä¹Ÿå¯ä»¥ï¼Œè¯¦è§Githubï¼‰</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong></p>
<p>Dockerfileä¸­å¿…éœ€æ·»åŠ  <code>WORKDIR /home/git/gogs</code> å³å¿…éœ€æŒ‡å®šå½“å‰å·¥ä½œç›®å½•ä¸º <code>gogs</code> ç›®å½•ä¸‹ï¼Œå› ä¸ºgogsåœ¨installå®Œæˆåä¼šåœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª <code>data</code> ç›®å½•ä¿å­˜ <code>sessions</code> ä¿¡æ¯ã€‚å¦‚æœå½“å‰ç›®å½•ä¸æ˜¯è¿™é‡Œï¼Œåˆ™ä¼šæŠ¥ <code>[Macaron] PANIC: session(start): mkdir data: permission denied</code> çš„é”™è¯¯ã€‚</p>
<hr>
<h4 id="æˆæœ"><a href="#æˆæœ" class="headerlink" title="æˆæœ"></a>æˆæœ</h4><p>æœ€ç»ˆé¡¹ç›®è§ï¼š<a href="https://github.com/Leafney/ubuntu-gogs" target="_blank" rel="noopener">GitHub - Leafney/ubuntu-gogs: Docker + Ubuntu + Gogs</a></p>
<hr>
]]></content>
      <categories>
        <category>Ubuntu-Gogs</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>Gogs</tag>
      </tags>
  </entry>
  <entry>
    <title>Dockerä¸‹é…ç½®Elasticsearchå®¹å™¨è¿‡ç¨‹è®°å½•</title>
    <url>/2017/03/22/elasticsearch-container-in-alpine/</url>
    <content><![CDATA[<p>ä¸»è¦è®°å½• Elasticsearch å®¹å™¨åˆ›å»ºæµç¨‹</p>
<h4 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h4><ul>
<li>Elasticsearch 2.4.x</li>
<li>Elasticsearch 5.x</li>
</ul>
<h4 id="alpine-ä¸‹é…ç½®javaç¯å¢ƒ"><a href="#alpine-ä¸‹é…ç½®javaç¯å¢ƒ" class="headerlink" title="alpine ä¸‹é…ç½®javaç¯å¢ƒ"></a>alpine ä¸‹é…ç½®javaç¯å¢ƒ</h4><p>å‚è€ƒè‡ª <code>https://github.com/docker-library/openjdk/blob/master/8-jdk/alpine/Dockerfile</code></p>
<p>åæœŸåˆ›å»ºä¸€ä¸ªjavaç¯å¢ƒçš„åŸºç¡€å®¹å™¨ã€‚</p>
<hr>
<h4 id="æµ‹è¯•è®°å½•"><a href="#æµ‹è¯•è®°å½•" class="headerlink" title="æµ‹è¯•è®°å½•"></a>æµ‹è¯•è®°å½•</h4><p>ä¸‹è½½ <code>elasticsearch.tar.gz</code> æ–‡ä»¶å¹¶è§£å‹åˆ°æŒ‡å®šç›®å½•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl -sSL https:&#x2F;&#x2F;download.elastic.co&#x2F;elasticsearch&#x2F;release&#x2F;org&#x2F;elasticsearch&#x2F;distribution&#x2F;tar&#x2F;elasticsearch&#x2F;2.4.0&#x2F;elasticsearch-2.4.0.tar.gz | tar -zxv -C &#x2F;usr&#x2F;share&#x2F;elasticsearch --strip-components 1</span><br></pre></td></tr></table></figure>

<h4 id="åªåœ¨-docker-run-æ—¶æ‰§è¡Œå®‰è£…-elasticsearch-analysis-ik-æ’ä»¶"><a href="#åªåœ¨-docker-run-æ—¶æ‰§è¡Œå®‰è£…-elasticsearch-analysis-ik-æ’ä»¶" class="headerlink" title="åªåœ¨ docker run æ—¶æ‰§è¡Œå®‰è£… elasticsearch-analysis-ik æ’ä»¶"></a>åªåœ¨ <code>docker run</code> æ—¶æ‰§è¡Œå®‰è£… <code>elasticsearch-analysis-ik</code> æ’ä»¶</h4><p>åœ¨ dockerfile ä¸­çš„ <code>ENTRYPOINT</code> å‘½ä»¤ä¼šåœ¨ <code>docker run</code> æˆ– <code>docker restart</code> æ—¶éƒ½æ‰§è¡Œï¼Œè¿™æ ·å°±å¯¼è‡´é‡å¤å®‰è£…æ’ä»¶çš„é—®é¢˜ã€‚</p>
<p>ç›®å‰é‡‡ç”¨çš„æ–¹æ³•æ˜¯åœ¨ <code>shell script</code> æ–‡ä»¶ä¸­ é€šè¿‡åˆ¤æ–­ <code>plugins</code> ç›®å½•ä¸‹æ˜¯å¦å­˜åœ¨ <code>elasticsearch-analysis-ik-${IK_ANALYSIS_VERSION}.zip</code> æ–‡ä»¶æ¥åˆ¤æ–­æ˜¯å¦å·²ç»æ·»åŠ è¯¥æ’ä»¶ã€‚</p>
<p>å¦ä¸€ç§æ–¹å¼: è€ƒè™‘é€šè¿‡ <code>docker exec</code> åœ¨å®¹å™¨å¯åŠ¨åæ¥å®‰è£…ã€‚</p>
<p>ä½¿ç”¨ <code>docker exec</code> å‘½ä»¤æ‰§è¡Œ <code>shell script</code> æ—¶ï¼Œæœ‰ä¸€ä¸ªç–‘æƒ‘ï¼šéœ€è¦æ‰§è¡Œçš„ <code>shell script</code> æ–‡ä»¶åº”è¯¥æ”¾åœ¨å®¹å™¨å†…éƒ¨è¿˜æ˜¯å¯ä»¥è°ƒç”¨å¤–éƒ¨å³å®¿ä¸»æœºä¸Šçš„ã€‚(åç»æµ‹è¯•ï¼Œæ”¾åœ¨å®¹å™¨å†…éƒ¨ã€‚)</p>
<hr>
<h4 id="Elasticsearch-é›†ç¾¤"><a href="#Elasticsearch-é›†ç¾¤" class="headerlink" title="Elasticsearch é›†ç¾¤"></a>Elasticsearch é›†ç¾¤</h4><p>å…¶ä¸­æœ‰ä¸€å°è¢«ä½œä¸ºMasterï¼Œå…¶ä»–ä¸ºSlaveã€‚</p>
<p>é…ç½® <code>elasticsearch.yml</code> ï¼ˆ<strong>æ³¨æ„é…ç½®æ–‡ä»¶å†’å·â€œï¼šâ€åè¦æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œå¦åˆ™æŠ¥é”™</strong>ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">network.host: 10.0.0.1</span><br><span class="line">cluster.name: elasticsearch    # é›†ç¾¤åç§°</span><br><span class="line">node.name: es-node1    # èŠ‚ç‚¹åç§° ï¼ˆåŒä¸€é›†ç¾¤ä¸‹å¤šä¸ªèŠ‚ç‚¹åç§°ä¸åŒï¼‰</span><br><span class="line">bootstrap.mlockall: true  # </span><br><span class="line">node.master: true  # æ˜¯å¦ä½œä¸ºä¸»èŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½å¯ä»¥è¢«é…ç½®æˆä¸ºä¸»èŠ‚ç‚¹ï¼Œé»˜è®¤å€¼ä¸ºtrue</span><br><span class="line">node.data: true  # æ˜¯å¦å­˜å‚¨æ•°æ®ï¼Œå³å­˜å‚¨ç´¢å¼•ç‰‡æ®µï¼Œé»˜è®¤å€¼ä¸ºtrue</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">discovery.zen.ping.unicast.hosts: [&quot;10.0.0.1:9300&quot;, &quot;10.0.0.2:9300&quot;]</span><br><span class="line">discovery.zen.minimum_master_nodes: 2</span><br></pre></td></tr></table></figure>


<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">network.host: [&quot;127.0.0.1&quot;, &quot;[::1]&quot;]</span><br><span class="line">cluster.name: elasticsearch</span><br><span class="line">node.name: $&#123;HOSTNAME&#125; # es_node_1</span><br><span class="line">discovery.zen.ping.unicast.hosts: [&quot;10.0.0.1&quot;, &quot;10.0.0.2&quot;, &quot;10.0.0.3&quot;]</span><br><span class="line"></span><br><span class="line">node.master: true</span><br><span class="line">node.data: false</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="å¦‚ä½•æŒ‡å®šè‡ªå®šä¹‰é…ç½®æ–‡ä»¶"><a href="#å¦‚ä½•æŒ‡å®šè‡ªå®šä¹‰é…ç½®æ–‡ä»¶" class="headerlink" title="å¦‚ä½•æŒ‡å®šè‡ªå®šä¹‰é…ç½®æ–‡ä»¶"></a>å¦‚ä½•æŒ‡å®šè‡ªå®šä¹‰é…ç½®æ–‡ä»¶</h4><h5 id="è‡ªå®šä¹‰é…ç½®æ–‡ä»¶å’Œé»˜è®¤é…ç½®æ–‡ä»¶çš„å…³ç³»"><a href="#è‡ªå®šä¹‰é…ç½®æ–‡ä»¶å’Œé»˜è®¤é…ç½®æ–‡ä»¶çš„å…³ç³»" class="headerlink" title="è‡ªå®šä¹‰é…ç½®æ–‡ä»¶å’Œé»˜è®¤é…ç½®æ–‡ä»¶çš„å…³ç³»"></a>è‡ªå®šä¹‰é…ç½®æ–‡ä»¶å’Œé»˜è®¤é…ç½®æ–‡ä»¶çš„å…³ç³»</h5><p>æŒ‡å®š é…ç½®æ–‡ä»¶è·¯å¾„ï¼š  <code>./bin/elasticsearch -Des.path.conf=/my/conf.yaml</code></p>
<p>æ³¨æ„ï¼š <strong>Des.config=/path/to/config/file doesnâ€™t replace $ES_HOME/elasticsearch.conf, just appends to it</strong></p>
<p>è¯¦è§ï¼š<a href="https://github.com/elastic/elasticsearch/issues/588" target="_blank" rel="noopener">-Des.config=/path/to/config/file doesn&#39;t replace $ES_HOME/elasticsearch.conf, just appends to it Â· Issue #588 Â· elastic/elasticsearch Â· GitHub</a></p>
<p>ES 2.4.0 </p>
<p>ä½¿ç”¨å¦‚ä¸‹æ–¹å¼å¯åŠ¨ <code>CMD gosu elasticsearch elasticsearch -Epath.conf=&quot;${ELASTICSEARCH_DATA}/config/elastic.yml&quot;</code> æŠ¥ä¸‹é¢çš„é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ERROR: Parameter [-Epath.conf&#x3D;&quot;$&#123;ELASTICSEARCH_DATA&#125;&#x2F;config&#x2F;elastic.yml&quot;]does not start with --</span><br></pre></td></tr></table></figure>


<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-Des.path.conf</span><br><span class="line"></span><br><span class="line">bin&#x2F;elasticsearch -Des.path.conf&#x3D;&#x2F;etc&#x2F;elasticsearch&#x2F;node1</span><br></pre></td></tr></table></figure>

<p><strong>æ€»ç»“</strong> ï¼šä½¿ç”¨ <code>--path.conf=configdir</code> æ¥æŒ‡å®šé…ç½®æ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼Œå¹¶ä¸”é…ç½®æ–‡ä»¶å¿…éœ€å‘½åä¸º <code>elasticsearch.yml</code> æ‰å¯ä»¥ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ .&#x2F;bin&#x2F;elasticsearch --path.conf&#x3D;&#x2F;path&#x2F;to&#x2F;conf&#x2F;dir</span><br></pre></td></tr></table></figure>

<p>è¯¦ç»†åˆ†æè¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<h5 id="æŠ¥é”™åˆ†æ"><a href="#æŠ¥é”™åˆ†æ" class="headerlink" title="æŠ¥é”™åˆ†æ"></a>æŠ¥é”™åˆ†æ</h5><p>å¯åŠ¨æ—¶æŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F; # gosu elasticsearch elasticsearch -Des.path.conf&#x3D;&#x2F;app&#x2F;config&#x2F;elastic.yml</span><br><span class="line">log4j:WARN No appenders could be found for logger (bootstrap).</span><br><span class="line">log4j:WARN Please initialize the log4j system properly.</span><br><span class="line">log4j:WARN See http:&#x2F;&#x2F;logging.apache.org&#x2F;log4j&#x2F;1.2&#x2F;faq.html#noconfig for more info.</span><br><span class="line">Exception in thread &quot;main&quot; java.lang.IllegalStateException: Unable to access &#39;path.conf&#39; (&#x2F;app&#x2F;config&#x2F;elastic.yml)</span><br><span class="line">Likely root cause: java.nio.file.NotDirectoryException: &#x2F;app&#x2F;config&#x2F;elastic.yml</span><br><span class="line">	at org.elasticsearch.bootstrap.Security.ensureDirectoryExists(Security.java:340)</span><br><span class="line">	at org.elasticsearch.bootstrap.Security.addPath(Security.java:314)</span><br><span class="line">	at org.elasticsearch.bootstrap.Security.addFilePermissions(Security.java:247)</span><br><span class="line">	at org.elasticsearch.bootstrap.Security.createPermissions(Security.java:212)</span><br><span class="line">	at org.elasticsearch.bootstrap.Security.configure(Security.java:118)</span><br><span class="line">	at org.elasticsearch.bootstrap.Bootstrap.setupSecurity(Bootstrap.java:212)</span><br><span class="line">	at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:183)</span><br><span class="line">	at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:286)</span><br><span class="line">	at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:35)</span><br><span class="line">Refer to the log for complete error details.</span><br></pre></td></tr></table></figure>

<p>è§£å†³æ–¹æ³•ï¼š</p>
<p>æ‰¾åˆ°ä¸€ä¸ªè®¨è®ºä¸­çš„å›ç­”ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">It is no longer possible to specify a custom config file with the CONF_FILE environment variable, or the -Des.config, -Des.default.config, or -Delasticsearch.config parameters.</span><br><span class="line"></span><br><span class="line">Instead, the config file must be named elasticsearch.yml and must be located in the default config&#x2F; directory, unless a custom config directory is specified.</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://discuss.elastic.co/t/problem-in-starting-a-node-in-es-2-2-1/45082/5" target="_blank" rel="noopener">Problem in starting a node in ES 2.2.1 - Elasticsearch - Discuss the Elastic Stack</a></li>
<li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/2.2/breaking_20_setting_changes.html#_custom_config_file" target="_blank" rel="noopener">Setting changes        | Elasticsearch Reference 2.2 | Elastic</a></li>
</ul>
<p>æ‰¾åˆ°è§£å†³æ–¹æ¡ˆï¼š</p>
<p>ä»æ–‡ç«  <a href="https://www.elastic.co/guide/en/elasticsearch/reference/2.4/breaking_20_setting_changes.html#_custom_config_file" target="_blank" rel="noopener">Setting changes | Elasticsearch Reference 2.4</a> ä¸­è¿™æ®µï¼š</p>
<blockquote>
<p>Custom config fileedit<br>It is no longer possible to specify a custom config file with the CONF_FILE environment variable, or the -Des.config, -Des.default.config, or -Delasticsearch.config parameters.<br>Instead, the config file must be named elasticsearch.yml and must be located in the default config/ directory, unless a custom config directory is specified.<br>The location of a custom config directory may be specified as follows:<br>./bin/elasticsearch â€“path.conf=/path/to/conf/dir<br>./bin/plugin -Des.path.conf=/path/to/conf/dir install analysis-icu<br>When using the RPM or debian packages, the plugin script and the init/service scripts will consult &gt; the CONF_DIR environment variable to check for a custom config location. The value of the CONF_DIR &gt; variable can be set in the environment config file which is located either in /etc/default/elasticsearch or /etc/sysconfig/elasticsearch.</p>
</blockquote>
<p>å¾—çŸ¥ï¼Œä¹‹å‰çš„è‡ªå®šä¹‰é…ç½®æ–‡ä»¶æ–¹æ³• <code>-Des.path.conf</code> æ”¹ä¸ºäº†è¿™ç§æ–¹å¼ <code>--path.conf</code> ï¼Œè€Œä¸”ï¼Œåªéœ€è¦æŒ‡å®šåˆ°é…ç½®æ–‡ä»¶æ‰€åœ¨ç›®å½•å³å¯ã€‚å¦å¤–ï¼Œé…ç½®æ–‡ä»¶çš„åç§°å¿…é¡»ä¸º <code>elasticsearch.yml</code> ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ gosu elasticsearch elasticsearch --path.conf&#x3D;&#x2F;app&#x2F;config</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="network-host-åŒæ—¶æ”¯æŒ-IPV4-å’Œ-IPV6-æŠ¥é”™"><a href="#network-host-åŒæ—¶æ”¯æŒ-IPV4-å’Œ-IPV6-æŠ¥é”™" class="headerlink" title="network.host åŒæ—¶æ”¯æŒ IPV4 å’Œ IPV6 æŠ¥é”™"></a>network.host åŒæ—¶æ”¯æŒ IPV4 å’Œ IPV6 æŠ¥é”™</h4><p>æŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: bind address: &#123;0.0.0.0&#125; is wildcard, but multiple addresses specified: this makes no sense</span><br><span class="line">	at org.elasticsearch.common.network.NetworkService.resolveBindHostAddresses(NetworkService.java:132)</span><br><span class="line">	at org.elasticsearch.transport.netty.NettyTransport.bindServerBootstrap(NettyTransport.java:435)</span><br><span class="line">	at org.elasticsearch.transport.netty.NettyTransport.doStart(NettyTransport.java:332)</span><br><span class="line">	at org.elasticsearch.common.component.AbstractLifecycleComponent.start(AbstractLifecycleComponent.java:68)</span><br><span class="line">	at org.elasticsearch.transport.TransportService.doStart(TransportService.java:182)</span><br><span class="line">	at org.elasticsearch.common.component.AbstractLifecycleComponent.start(AbstractLifecycleComponent.java:68)</span><br><span class="line">	at org.elasticsearch.node.Node.start(Node.java:278)</span><br><span class="line">	at org.elasticsearch.bootstrap.Bootstrap.start(Bootstrap.java:222)</span><br><span class="line">	at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:288)</span><br><span class="line">	at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:35)</span><br></pre></td></tr></table></figure>

<p>é…ç½®æ–‡ä»¶å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># default</span><br><span class="line">network.host: [&quot;0.0.0.0&quot;, &quot;[::1]&quot;]</span><br><span class="line">path.data: &#x2F;app&#x2F;data</span><br><span class="line">path.logs: &#x2F;app&#x2F;logs</span><br><span class="line"></span><br><span class="line"># cluster</span><br><span class="line">cluster.name: elasticsearch</span><br><span class="line">node.name: $&#123;HOSTNAME&#125;</span><br><span class="line">node.master: true</span><br><span class="line">node.data: true</span><br><span class="line"># bootstrap.mlockall: true</span><br><span class="line">discovery.zen.ping.unicast.hosts: [&quot;localhost:9300&quot;, &quot;localhost:9301&quot;]</span><br></pre></td></tr></table></figure>

<p>æ”¹ä¸º <code>network.host: 0.0.0.0</code> å å¯åŠ¨æˆåŠŸã€‚</p>
<p>å¯æŸ¥çœ‹è¯¥è®¨è®º: <a href="https://github.com/elastic/elasticsearch/issues/20703" target="_blank" rel="noopener">Binding to the wildcard of one address family should not prevent binding to addresses in another family Â· Issue #20703 Â· elastic/elasticsearch Â· GitHub</a></p>
<hr>
<h4 id="å½“åŠ ä¸Š-bootstrap-mlockall-true-è¿™è¡Œæ—¶ï¼Œä¹Ÿä¼šæŠ¥é”™ã€‚-å¾…æ¢ç©¶åŸå› ï¼ï¼ï¼"><a href="#å½“åŠ ä¸Š-bootstrap-mlockall-true-è¿™è¡Œæ—¶ï¼Œä¹Ÿä¼šæŠ¥é”™ã€‚-å¾…æ¢ç©¶åŸå› ï¼ï¼ï¼" class="headerlink" title="å½“åŠ ä¸Š bootstrap.mlockall: true è¿™è¡Œæ—¶ï¼Œä¹Ÿä¼šæŠ¥é”™ã€‚ å¾…æ¢ç©¶åŸå› ï¼ï¼ï¼"></a>å½“åŠ ä¸Š <code>bootstrap.mlockall: true</code> è¿™è¡Œæ—¶ï¼Œä¹Ÿä¼šæŠ¥é”™ã€‚ å¾…æ¢ç©¶åŸå› ï¼ï¼ï¼</h4><hr>
<h4 id="elasticsearch-cluster-é…ç½®-unicast-hosts"><a href="#elasticsearch-cluster-é…ç½®-unicast-hosts" class="headerlink" title="elasticsearch cluster é…ç½® unicast.hosts"></a>elasticsearch cluster é…ç½® unicast.hosts</h4><h5 id="æ¢ç©¶"><a href="#æ¢ç©¶" class="headerlink" title="æ¢ç©¶"></a>æ¢ç©¶</h5><p>ä¸Šé¢çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œè®¾ç½®çš„ <code>unicast.hosts</code> å€¼å¦‚ä¸‹ ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">discovery.zen.ping.unicast.hosts: [&quot;localhost:9300&quot;, &quot;localhost:9301&quot;]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">discovery.zen.ping.unicast.hosts: [&quot;172.17.0.4:9300&quot;, &quot;172.17.0.5:9301&quot;]</span><br></pre></td></tr></table></figure>

<p>ç»æµ‹è¯•ï¼Œä½¿ç”¨ <code>[&quot;localhost:9300&quot;, &quot;localhost:9301&quot;]</code> æ— æ•ˆã€‚å¿…é¡»ä½¿ç”¨æ˜ç¡®çš„IPåœ°å€ <code>[&quot;172.17.0.4:9300&quot;, &quot;172.17.0.5:9301&quot;]</code> åæ‰èƒ½äº’ç›¸å‘ç°ã€‚</p>
<p>é€šè¿‡ è®¿é—® <code>http://59.188.76.112:9200/_cluster/health?pretty</code> èƒ½çœ‹åˆ°æ˜¯å¦ç»„æˆé›†ç¾¤æ¨¡å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;cluster_name&quot;: &quot;elasticsearch&quot;,</span><br><span class="line">    &quot;status&quot;: &quot;green&quot;,</span><br><span class="line">    &quot;timed_out&quot;: false,</span><br><span class="line">    &quot;number_of_nodes&quot;: 2,</span><br><span class="line">    &quot;number_of_data_nodes&quot;: 2,</span><br><span class="line">    &quot;active_primary_shards&quot;: 0,</span><br><span class="line">    &quot;active_shards&quot;: 0,</span><br><span class="line">    &quot;relocating_shards&quot;: 0,</span><br><span class="line">    &quot;initializing_shards&quot;: 0,</span><br><span class="line">    &quot;unassigned_shards&quot;: 0,</span><br><span class="line">    &quot;delayed_unassigned_shards&quot;: 0,</span><br><span class="line">    &quot;number_of_pending_tasks&quot;: 0,</span><br><span class="line">    &quot;number_of_in_flight_fetch&quot;: 0,</span><br><span class="line">    &quot;task_max_waiting_in_queue_millis&quot;: 0,</span><br><span class="line">    &quot;active_shards_percent_as_number&quot;: 100</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è€ƒè™‘åˆ°Dockerä¸‹å®¹å™¨çš„ipåœ°å€æ˜¯éšæœºçš„ï¼Œå®¹å™¨é‡å¯åå¯èƒ½ä¼šæ”¹å˜ï¼Œéœ€è¦è€ƒè™‘å…¶ä»–ç¡®å®šçš„æ–¹å¼ã€‚</p>
<p>è®¾ç½®æˆ <code>localhost</code> å‚è€ƒè‡ª <a href="http://www.jianshu.com/p/265db8b05d85#" target="_blank" rel="noopener">å¦‚ä½•ä½¿ç”¨ä¸€ä¸ªIPæ­å»ºESé›†ç¾¤â€”â€”Dockerå¦‚ä½ æ‰€æ„¿ - ç®€ä¹¦</a></p>
<p>å¯èƒ½çš„ä¸€ç§æ–¹æ³•æ˜¯åœ¨ <code>docker run</code> æ—¶ æŒ‡å®š <code>--add-host=[]</code> å‚æ•°  ï¼Œå¾…ç ”ç©¶ï¼ï¼ï¼</p>
<p>ç»æµ‹è¯•ï¼Œä½¿ç”¨ <code>localhsot</code>  <code>127.0.0.1</code>  <code>0.0.0.0</code>  <code>docker name</code> å‡æ— æ•ˆã€‚</p>
<p>ç»æµ‹è¯•ï¼Œå¯ä»¥è®¾ç½®ä¸ºç›¸åº”å®¹å™¨çš„IP å¦‚ <code>172.17.0.5:9300</code> ã€‚é€šè¿‡å‘½ä»¤ :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">docker inspect --format&#x3D;&#39;&#123;&#123;.NetworkSettings.IPAddress&#125;&#125;&#39; $CONTAINER_ID</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥è·å¾—æŒ‡å®šå®¹å™¨çš„ipåœ°å€ã€‚ä½†è¿™é‡Œçš„é—®é¢˜æ˜¯ <code>å®¹å™¨çš„ipæ¯æ¬¡é‡å¯åéƒ½ä¼šæ”¹å˜ï¼ŒçŸ¥é“å®¹å™¨ipæ²¡ä»€ä¹ˆæ„ä¹‰ã€‚</code><br>æ‰€ä»¥è¿™ç§æ–¹å¼ä¹Ÿå¤±è´¥ã€‚</p>
<p>å¦‚æœä¸æŒ‡å®šå®¹å™¨çš„IP,ä½†å¯ä»¥æŒ‡å®šå®¹å™¨æ‰€åœ¨å®¿ä¸»æœºçš„IP <code>120.121.xx.xx:9300</code> ï¼Œè¿™æ ·èƒ½å‘ç°é›†ç¾¤ã€‚</p>
<hr>
<h5 id="ä»¥ä¸‹issureä¸­ï¼Œå¯ä»¥é€šè¿‡docker-compores-æ¥æŒ‡å®šå®¹å™¨ip-ï¼šå¾…ç ”ç©¶ï¼ï¼ï¼"><a href="#ä»¥ä¸‹issureä¸­ï¼Œå¯ä»¥é€šè¿‡docker-compores-æ¥æŒ‡å®šå®¹å™¨ip-ï¼šå¾…ç ”ç©¶ï¼ï¼ï¼" class="headerlink" title="ä»¥ä¸‹issureä¸­ï¼Œå¯ä»¥é€šè¿‡docker-compores æ¥æŒ‡å®šå®¹å™¨ip ï¼šå¾…ç ”ç©¶ï¼ï¼ï¼"></a>ä»¥ä¸‹issureä¸­ï¼Œå¯ä»¥é€šè¿‡docker-compores æ¥æŒ‡å®šå®¹å™¨ip ï¼šå¾…ç ”ç©¶ï¼ï¼ï¼</h5><ul>
<li><a href="https://github.com/docker-library/elasticsearch/issues/68" target="_blank" rel="noopener">Cannot set up an elasticsearch:2 cluster in docker any more Â· Issue #68 Â· docker-library/elasticsearch Â· GitHub</a></li>
<li><a href="https://github.com/spujadas/elk-docker/issues/19" target="_blank" rel="noopener">Problems in getting single node cluster working as per your docs Â· Issue #19 Â· spujadas/elk-docker Â· GitHub</a></li>
</ul>
<hr>
<h5 id="å¦å¤–ä¸€ç§æ–¹å¼ï¼Œé€šè¿‡-link-æ¥è®¾ç½®ï¼š"><a href="#å¦å¤–ä¸€ç§æ–¹å¼ï¼Œé€šè¿‡-link-æ¥è®¾ç½®ï¼š" class="headerlink" title="å¦å¤–ä¸€ç§æ–¹å¼ï¼Œé€šè¿‡ --link æ¥è®¾ç½®ï¼š"></a>å¦å¤–ä¸€ç§æ–¹å¼ï¼Œé€šè¿‡ <code>--link</code> æ¥è®¾ç½®ï¼š</h5><p>å‚è€ƒè‡ªï¼š<a href="https://github.com/itzg/dockerfiles/tree/master/elasticsearch" target="_blank" rel="noopener">dockerfiles/elasticsearch at master Â· itzg/dockerfiles Â· GitHub</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">docker run --name es5 -d -p 9230:9200 -p 9330:9300 e2</span><br><span class="line">docker run --name es6 -d --link es5 e2</span><br><span class="line">docker run --name es7 -d --link es5 e2</span><br><span class="line"></span><br><span class="line">docker cp elasticsearch.yml es5:&#x2F;app&#x2F;config&#x2F;elasticsearch.yml</span><br><span class="line">docker cp elasticsearch.yml es6:&#x2F;app&#x2F;config&#x2F;elasticsearch.yml</span><br><span class="line">docker cp elasticsearch.yml es7:&#x2F;app&#x2F;config&#x2F;elasticsearch.yml</span><br><span class="line"></span><br><span class="line">docker restart es5 es6 es7</span><br></pre></td></tr></table></figure>

<p>é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># default</span><br><span class="line">network.host: 0.0.0.0</span><br><span class="line">path.data: &#x2F;app&#x2F;data</span><br><span class="line">path.logs: &#x2F;app&#x2F;logs</span><br><span class="line"></span><br><span class="line"># cluster</span><br><span class="line">cluster.name: elasticsearch</span><br><span class="line">node.name: $&#123;HOSTNAME&#125;</span><br><span class="line">node.master: true</span><br><span class="line">node.data: true</span><br><span class="line">discovery.zen.ping.unicast.hosts: [&quot;es5:9330&quot;]</span><br></pre></td></tr></table></figure>

<p><strong>è¿™ç§æ–¹å¼ç»æµ‹è¯•ï¼Œæ— æ•ˆã€‚</strong> æŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">java.net.NoRouteToHostException: Host is unreachable</span><br><span class="line">	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)</span><br><span class="line">	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)</span><br><span class="line">	at org.jboss.netty.channel.socket.nio.NioClientBoss.connect(NioClientBoss.java:152)</span><br><span class="line">	at org.jboss.netty.channel.socket.nio.NioClientBoss.processSelectedKeys(NioClientBoss.java:105)</span><br><span class="line">	at org.jboss.netty.channel.socket.nio.NioClientBoss.process(NioClientBoss.java:79)</span><br><span class="line">	at org.jboss.netty.channel.socket.nio.AbstractNioSelector.run(AbstractNioSelector.java:337)</span><br><span class="line">	at org.jboss.netty.channel.socket.nio.NioClientBoss.run(NioClientBoss.java:42)</span><br><span class="line">	at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:108)</span><br><span class="line">	at org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)</span><br><span class="line">	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)</span><br><span class="line">	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)</span><br><span class="line">	at java.lang.Thread.run(Thread.java:745)</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Docker-elasticsearch-é›†ç¾¤"><a href="#Docker-elasticsearch-é›†ç¾¤" class="headerlink" title="Docker elasticsearch é›†ç¾¤"></a>Docker elasticsearch é›†ç¾¤</h4><ul>
<li><a href="https://hub.docker.com/r/itzg/elasticsearch/" target="_blank" rel="noopener">https://hub.docker.com/r/itzg/elasticsearch/</a></li>
<li><a href="https://github.com/Khezen/docker-elasticsearch/tree/2.4" target="_blank" rel="noopener">https://github.com/Khezen/docker-elasticsearch/tree/2.4</a></li>
</ul>
<p>çœ‹åˆ°ç½‘ä¸Šå¤§éƒ¨åˆ†äººéƒ½æ˜¯å°†é›†ç¾¤é…ç½®å‚æ•°é€šè¿‡ç¯å¢ƒå˜é‡çš„å½¢å¼åœ¨ <code>docker run</code> æ—¶é…ç½®ï¼Œè€ƒè™‘å°†é…ç½®æ–‡ä»¶æš´éœ²åœ¨ä¸»æœºç›®å½•ä¸‹æ˜¯å¦å®‰å…¨ï¼Ÿ</p>
<hr>
<h4 id="æŸ¥çœ‹é›†ç¾¤çŠ¶æ€"><a href="#æŸ¥çœ‹é›†ç¾¤çŠ¶æ€" class="headerlink" title="æŸ¥çœ‹é›†ç¾¤çŠ¶æ€"></a>æŸ¥çœ‹é›†ç¾¤çŠ¶æ€</h4><p>æŸ¥çœ‹é›†ç¾¤çŠ¶æ€:  <code>curl -XGET &#39;http://172.16.212.102:9200/_cluster/health?pretty&#39;</code></p>
<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><h5 id="Elasticsearché›†ç¾¤æ­å»ºç›¸å…³å‚è€ƒ"><a href="#Elasticsearché›†ç¾¤æ­å»ºç›¸å…³å‚è€ƒ" class="headerlink" title="Elasticsearché›†ç¾¤æ­å»ºç›¸å…³å‚è€ƒ"></a>Elasticsearché›†ç¾¤æ­å»ºç›¸å…³å‚è€ƒ</h5><ul>
<li><a href="http://www.wklken.me/posts/2016/06/29/deploy-es.html" target="_blank" rel="noopener">ElasticSearché›†ç¾¤éƒ¨ç½²æ–‡æ¡£</a></li>
<li><a href="https://my.oschina.net/shyloveliyi/blog/653751" target="_blank" rel="noopener">elasticsearch2.3.1 é›†ç¾¤å®‰è£… - å°šæµ©å®‡çš„åšå®¢</a> <strong>äº”è§’æ˜Ÿ é…ç½®</strong></li>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-a-production-elasticsearch-cluster-on-ubuntu-14-04" target="_blank" rel="noopener">How To Set Up a Production Elasticsearch Cluster on Ubuntu 14.04 | DigitalOcean</a></li>
<li><a href="https://forums.docker.com/t/easy-elasticsearch-cluster-with-docker-1-12-swarm/19648/12" target="_blank" rel="noopener">Easy Elasticsearch cluster with docker 1.12 swarm? - General - Docker Forums</a></li>
<li><a href="https://stefanprodan.com/2016/elasticsearch-cluster-with-docker/" target="_blank" rel="noopener">Running an Elasticsearch cluster with Docker</a></li>
<li><a href="http://www.jianshu.com/p/265db8b05d85" target="_blank" rel="noopener">å¦‚ä½•ä½¿ç”¨ä¸€ä¸ªIPæ­å»ºESé›†ç¾¤â€”â€”Dockerå¦‚ä½ æ‰€æ„¿ - ç®€ä¹¦</a> <strong>äº”è§’æ˜Ÿ</strong></li>
<li><a href="https://github.com/hangxin1940/docker-elasticsearch-cn/blob/master/docker-start" target="_blank" rel="noopener">docker-elasticsearch-cn/docker-start at master Â· hangxin1940/docker-elasticsearch-cn Â· GitHub</a></li>
<li><a href="http://forkday.com/elastic-search-ji-qun/" target="_blank" rel="noopener">elasticsearch é›†ç¾¤</a></li>
<li><a href="https://segmentfault.com/q/1010000001637726" target="_blank" rel="noopener">å®¿ä¸»æœºä¸Šå¦‚ä½•è·å¾— docker container å®¹å™¨çš„ ip åœ°å€ï¼Ÿ - SegmentFault</a></li>
</ul>
<hr>
<h5 id="Elasticsearchå®¹å™¨åˆ›å»ºç›¸å…³å‚è€ƒ"><a href="#Elasticsearchå®¹å™¨åˆ›å»ºç›¸å…³å‚è€ƒ" class="headerlink" title="Elasticsearchå®¹å™¨åˆ›å»ºç›¸å…³å‚è€ƒ"></a>Elasticsearchå®¹å™¨åˆ›å»ºç›¸å…³å‚è€ƒ</h5><ul>
<li><a href="https://github.com/soldair/docker-alpine-elasticsearch" target="_blank" rel="noopener">GitHub - soldair/docker-alpine-elasticsearch: 130mb ish Elasticsearch container based on alpine linux.</a></li>
<li><a href="https://github.com/docker-library/elasticsearch" target="_blank" rel="noopener">GitHub - docker-library/elasticsearch: Docker Official Image packaging for elasticsearch</a></li>
<li><a href="https://github.com/kiasaki/docker-alpine-elasticsearch" target="_blank" rel="noopener">GitHub - kiasaki/docker-alpine-elasticsearch: ElasticSearch container based on Alpine Linux</a></li>
<li><a href="https://github.com/docker-library/openjdk" target="_blank" rel="noopener">GitHub - docker-library/openjdk: Docker Official Image packaging for Java (openJDK)</a></li>
<li><a href="https://github.com/Khezen/docker-elasticsearch" target="_blank" rel="noopener">docker elasticsearch</a></li>
<li><a href="https://github.com/itzg/dockerfiles" target="_blank" rel="noopener">GitHub - itzg/dockerfiles: Contains the various Dockerfile definitions I&#39;m maintaining.</a></li>
</ul>
<hr>
<h4 id="æˆæœ"><a href="#æˆæœ" class="headerlink" title="æˆæœ"></a>æˆæœ</h4><p>æºç è§ï¼š<a href="https://github.com/Leafney/alpine-elasticsearch" target="_blank" rel="noopener">GitHub - Leafney/alpine-elasticsearch: Docker + Alpine + Elasticsearch</a></p>
]]></content>
      <tags>
        <tag>Docker</tag>
        <tag>ElasticSearch</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxä¸‹ä½¿ç”¨SSHå¯†é’¥è¿æ¥Github</title>
    <url>/2017/03/03/using-ssh-key-connection-github-in-linux/</url>
    <content><![CDATA[<p>åœ¨ Linux ç³»ç»Ÿä¸‹å¦‚ä½•é€šè¿‡ SSH å¯†é’¥æ¥è¿æ¥ GitHub (Macç³»ç»Ÿä¸‹è®¾ç½®æ–¹æ³•ç›¸åŒ)ã€‚</p>
<h4 id="å¼•ç”³"><a href="#å¼•ç”³" class="headerlink" title="å¼•ç”³"></a>å¼•ç”³</h4><ul>
<li>Linuxä¸‹ ï¼š<a href="/2017/03/03/using-ssh-key-connection-github-in-linux/">Linuxä¸‹ä½¿ç”¨SSHå¯†é’¥è¿æ¥Github</a></li>
<li>Windowsä¸‹ï¼š<a href="/2016/09/24/using-ssh-key-connection-github/">ä½¿ç”¨SSHå¯†é’¥è¿æ¥Github</a></li>
</ul>
<hr>
<h4 id="Ubuntu-ç³»ç»Ÿåˆå§‹åŒ–é…ç½®gitç¯å¢ƒ"><a href="#Ubuntu-ç³»ç»Ÿåˆå§‹åŒ–é…ç½®gitç¯å¢ƒ" class="headerlink" title="Ubuntu ç³»ç»Ÿåˆå§‹åŒ–é…ç½®gitç¯å¢ƒ"></a>Ubuntu ç³»ç»Ÿåˆå§‹åŒ–é…ç½®gitç¯å¢ƒ</h4><p>æµ‹è¯•ç³»ç»Ÿç‰ˆæœ¬ : <code>Ubuntu 16.04 LTS</code></p>
<h5 id="æ›´æ–°è½¯ä»¶æº"><a href="#æ›´æ–°è½¯ä»¶æº" class="headerlink" title="æ›´æ–°è½¯ä»¶æº"></a>æ›´æ–°è½¯ä»¶æº</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ echo &quot;deb http:&#x2F;&#x2F;cn.archive.ubuntu.com&#x2F;ubuntu&#x2F; xenial main restricted universe multiverse&quot; &gt;&gt; &#x2F;etc&#x2F;apt&#x2F;sources.list &amp;&amp; \</span><br><span class="line">echo &quot;deb http:&#x2F;&#x2F;cn.archive.ubuntu.com&#x2F;ubuntu&#x2F; xenial-security main restricted universe multiverse&quot; &gt;&gt; &#x2F;etc&#x2F;apt&#x2F;sources.list &amp;&amp; \</span><br><span class="line">echo &quot;deb http:&#x2F;&#x2F;cn.archive.ubuntu.com&#x2F;ubuntu&#x2F; xenial-updates main restricted universe multiverse&quot; &gt;&gt; &#x2F;etc&#x2F;apt&#x2F;sources.list</span><br></pre></td></tr></table></figure>

<h5 id="å®‰è£…gitä¾èµ–"><a href="#å®‰è£…gitä¾èµ–" class="headerlink" title="å®‰è£…gitä¾èµ–"></a>å®‰è£…gitä¾èµ–</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ apt-get update</span><br><span class="line">$ apt-get install git</span><br></pre></td></tr></table></figure>

<h5 id="è®¾ç½®æ—¶åŒº"><a href="#è®¾ç½®æ—¶åŒº" class="headerlink" title="è®¾ç½®æ—¶åŒº"></a>è®¾ç½®æ—¶åŒº</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ln -sf &#x2F;usr&#x2F;share&#x2F;zoneinfo&#x2F;Asia&#x2F;ShangHai &#x2F;etc&#x2F;localtime</span><br><span class="line">$ echo &quot;Asia&#x2F;Shanghai&quot; &gt; &#x2F;etc&#x2F;timezone</span><br><span class="line">$ dpkg-reconfigure -f noninteractive tzdata</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Alpine-ç³»ç»Ÿåˆå§‹åŒ–é…ç½®gitç¯å¢ƒ"><a href="#Alpine-ç³»ç»Ÿåˆå§‹åŒ–é…ç½®gitç¯å¢ƒ" class="headerlink" title="Alpine ç³»ç»Ÿåˆå§‹åŒ–é…ç½®gitç¯å¢ƒ"></a>Alpine ç³»ç»Ÿåˆå§‹åŒ–é…ç½®gitç¯å¢ƒ</h4><p>æµ‹è¯•ç³»ç»Ÿç‰ˆæœ¬ : <code>Alpine 3.5</code></p>
<h5 id="æ›´æ–°è½¯ä»¶æº-1"><a href="#æ›´æ–°è½¯ä»¶æº-1" class="headerlink" title="æ›´æ–°è½¯ä»¶æº"></a>æ›´æ–°è½¯ä»¶æº</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ echo &quot;http:&#x2F;&#x2F;dl-4.alpinelinux.org&#x2F;alpine&#x2F;v3.5&#x2F;main&quot; &gt;&gt; &#x2F;etc&#x2F;apk&#x2F;repositories</span><br><span class="line">$ echo &quot;http:&#x2F;&#x2F;dl-4.alpinelinux.org&#x2F;alpine&#x2F;v3.5&#x2F;community&quot; &gt;&gt; &#x2F;etc&#x2F;apk&#x2F;repositories</span><br></pre></td></tr></table></figure>

<h5 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h5><p>The <code>ssh-keygen</code> command is part of <code>OpenSSH</code> (package â€œopensshâ€).</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ apk update</span><br><span class="line">$ apk add git openssh</span><br></pre></td></tr></table></figure>

<h5 id="è®¾ç½®æ—¶åŒº-1"><a href="#è®¾ç½®æ—¶åŒº-1" class="headerlink" title="è®¾ç½®æ—¶åŒº"></a>è®¾ç½®æ—¶åŒº</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ apk add tzdata</span><br><span class="line">$ ln -sf &#x2F;usr&#x2F;share&#x2F;zoneinfo&#x2F;Asia&#x2F;Shanghai &#x2F;etc&#x2F;localtime</span><br><span class="line">$ echo &quot;Asia&#x2F;Shanghai&quot; &gt; &#x2F;etc&#x2F;timezone</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Mac-ç³»ç»Ÿåˆå§‹åŒ–é…ç½®gitç¯å¢ƒ"><a href="#Mac-ç³»ç»Ÿåˆå§‹åŒ–é…ç½®gitç¯å¢ƒ" class="headerlink" title="Mac ç³»ç»Ÿåˆå§‹åŒ–é…ç½®gitç¯å¢ƒ"></a>Mac ç³»ç»Ÿåˆå§‹åŒ–é…ç½®gitç¯å¢ƒ</h4><p>Macç³»ç»Ÿä¸Šå®‰è£…git,å¯ä»¥ç›´æ¥ä»gitç½‘ç«™ä¸‹è½½å®‰è£…åŒ…,è®¿é—® <a href="https://git-scm.com/download/mac" target="_blank" rel="noopener">Git - Downloads</a> å®‰è£….</p>
<p>ä¹Ÿå¯ä»¥é€šè¿‡ <code>homebrew</code> è¿›è¡Œå®‰è£…:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ brew install git</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="è®¾ç½®gitè´¦æˆ·"><a href="#è®¾ç½®gitè´¦æˆ·" class="headerlink" title="è®¾ç½®gitè´¦æˆ·"></a>è®¾ç½®gitè´¦æˆ·</h4><p>æ‰§è¡Œå¦‚ä¸‹ä¸¤æ¡å‘½ä»¤è®¾ç½®gitè´¦æˆ·çš„ç”¨æˆ·åå’Œå¯†ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git config --global user.name &quot;Your Name&quot;</span><br><span class="line">$ git config --global user.email &quot;youremail@domain.com&quot;</span><br><span class="line"></span><br><span class="line">$ git config --list</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ç”ŸæˆSSHå…¬é’¥"><a href="#ç”ŸæˆSSHå…¬é’¥" class="headerlink" title="ç”ŸæˆSSHå…¬é’¥"></a>ç”ŸæˆSSHå…¬é’¥</h4><p>SSH å…¬é’¥é»˜è®¤å‚¨å­˜åœ¨è´¦æˆ·çš„ä¸»ç›®å½•ä¸‹çš„ <code>~/.ssh</code> ç›®å½•ã€‚å…ˆç¡®è®¤æ˜¯å¦å·²ç»æœ‰ä¸€ä¸ªå…¬é’¥äº†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd ~&#x2F;.ssh</span><br><span class="line">&#x2F;bin&#x2F;sh: cd: can&#39;t cd to &#x2F;root&#x2F;.ssh</span><br></pre></td></tr></table></figure>

<p>ä¸»è¦æ˜¯çœ‹æ˜¯å¦å­˜åœ¨ <code>id_dsa</code> æˆ– <code>id_rsa</code> æ–‡ä»¶ã€‚æœ‰ <code>.pub</code> åç¼€çš„æ–‡ä»¶å°±æ˜¯ <code>å…¬é’¥</code>ï¼Œå¦ä¸€ä¸ªæ–‡ä»¶åˆ™æ˜¯å¯†é’¥ã€‚</p>
<h5 id="åˆ›å»ºæ–°çš„SSHå¯†é’¥"><a href="#åˆ›å»ºæ–°çš„SSHå¯†é’¥" class="headerlink" title="åˆ›å»ºæ–°çš„SSHå¯†é’¥"></a>åˆ›å»ºæ–°çš„SSHå¯†é’¥</h5><p>å¦‚æœå·²ç»å­˜åœ¨å…¬é’¥ï¼Œå¯è·³è¿‡è¿™æ­¥ã€‚å¦‚æœæ²¡æœ‰ï¼Œä½¿ç”¨ <code>ssh-keygen</code> æ¥åˆ›å»ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd ~</span><br><span class="line">$ ssh-keygen -t rsa -C &quot;youremail@domain.com&quot;</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ï¼š(<code>xxxxxx@126.com</code> ä¸ºæˆ‘çš„è´¦æˆ·é‚®ç®±)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">~ # ssh-keygen -t rsa -C &quot;xxxxxx@126.com&quot;</span><br><span class="line">Generating public&#x2F;private rsa key pair.</span><br><span class="line">Enter file in which to save the key (&#x2F;root&#x2F;.ssh&#x2F;id_rsa): # ç›´æ¥å›è½¦ï¼Œåˆ™å°†å¯†é’¥æŒ‰é»˜è®¤è·¯å¾„åŠæ–‡ä»¶åè¿›è¡Œå­˜å‚¨ã€‚æ­¤æ—¶ä¹Ÿå¯ä»¥è¾“å…¥ç‰¹å®šçš„æ–‡ä»¶å</span><br><span class="line">Created directory &#39;&#x2F;root&#x2F;.ssh&#39;.</span><br><span class="line">Enter passphrase (empty for no passphrase):  # æ ¹æ®æç¤ºï¼Œä½ éœ€è¦è¾“å…¥å¯†ç å’Œç¡®è®¤å¯†ç ã€‚å¯ä»¥ä¸å¡«ï¼Œè®¾ç½®ä¸ºç©ºå€¼ï¼Œç›´æ¥å›è½¦</span><br><span class="line">Enter same passphrase again: </span><br><span class="line">Your identification has been saved in &#x2F;root&#x2F;.ssh&#x2F;id_rsa.</span><br><span class="line">Your public key has been saved in &#x2F;root&#x2F;.ssh&#x2F;id_rsa.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line">SHA256:yFt14TcP0H+ixy9VKiILPPJ6DVevkKgrbxVFqk7mn5k xxxxxx@126.com</span><br><span class="line">The key&#39;s randomart image is:</span><br><span class="line">+---[RSA 2048]----+</span><br><span class="line">|            o.   |</span><br><span class="line">|      .    . o.  |</span><br><span class="line">|     o    . o +. |</span><br><span class="line">|    .... ... ..++|</span><br><span class="line">|   . o .So .   o+|</span><br><span class="line">|  + o Bo&#x3D; . + + .|</span><br><span class="line">| &#x3D;   *.* +   o o |</span><br><span class="line">|  ++o o o .   . .|</span><br><span class="line">|  E&#x3D;++         . |</span><br><span class="line">+----[SHA256]-----+</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹ç”Ÿæˆçš„æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd ~&#x2F;.ssh</span><br><span class="line">~&#x2F;.ssh $ ls</span><br><span class="line">id_rsa      id_rsa.pub</span><br></pre></td></tr></table></figure>

<p>æ–‡ä»¶ <code>id_rsa.pub</code> å°±æ˜¯å…¬é’¥ã€‚</p>
<hr>
<h4 id="åœ¨-GibHub-ä¸­æ·»åŠ ä½ çš„å…¬é’¥"><a href="#åœ¨-GibHub-ä¸­æ·»åŠ ä½ çš„å…¬é’¥" class="headerlink" title="åœ¨ GibHub ä¸­æ·»åŠ ä½ çš„å…¬é’¥"></a>åœ¨ GibHub ä¸­æ·»åŠ ä½ çš„å…¬é’¥</h4><p>å¤åˆ¶å…¬é’¥ <code>id_rsa.pub</code> æ–‡ä»¶ä¸­çš„å†…å®¹ã€‚</p>
<p>æˆ‘è¿™é‡Œä½¿ç”¨ <code>XShell</code> æ¥ç™»å½•çš„linuxæœåŠ¡å™¨ï¼Œå¯ä»¥ç›´æ¥å¤åˆ¶å‡ºæ¥ã€‚æˆ–åœ¨ <code>vim</code> ä¸‹ï¼Œå¯é€šè¿‡å‘½ä»¤ <code>ggVG</code> å…¨é€‰ï¼Œ<code>+y</code> å¤åˆ¶é€‰ä¸­å†…å®¹åˆ°+å¯„å­˜å™¨ï¼Œä¹Ÿå°±æ˜¯ç³»ç»Ÿçš„å‰ªè´´æ¿ï¼Œä¾›å…¶ä»–ç¨‹åºä½¿ç”¨ã€‚</p>
<p>ç™»é™†Githubç½‘ç«™ï¼Œé€‰æ‹© <code>Settings</code> â€“&gt; <code>SSH and GPG keys</code> èœå•ï¼Œç‚¹å‡» <code>New SSH key</code> æŒ‰é’®ã€‚<br>ç²˜è´´ä½ çš„å¯†é’¥åˆ° <code>Key</code> è¾“å…¥æ¡†ä¸­å¹¶è®¾ç½® <code>Title</code> ä¿¡æ¯ï¼Œç‚¹å‡» <code>Add SSH key</code> æŒ‰é’®å®Œæˆã€‚</p>
<hr>
<h4 id="è¿æ¥æµ‹è¯•"><a href="#è¿æ¥æµ‹è¯•" class="headerlink" title="è¿æ¥æµ‹è¯•"></a>è¿æ¥æµ‹è¯•</h4><p>æµ‹è¯• SSH keys æ˜¯å¦è®¾ç½®æˆåŠŸï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ssh -T git@github.com</span><br></pre></td></tr></table></figure>

<p>å½“æç¤ºå¦‚ä¸‹ä¿¡æ¯æ—¶ï¼Œè¯´æ˜æ­£å¸¸è¿é€šäº†github:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Hi xxxxxx! You&#39;ve successfully authenticated, but GitHub does not provide shell access.</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡è®¾ç½®è¿æ¥github.com,ä¼šè¯¢é—®ä½ æ˜¯å¦ç»§ç»­,è¾“å…¥ <code>yes</code> å³å¯,è¿™æ ·å°±ä¼šå°†è¿æ¥åœ°å€è®°å½•åœ¨æœ¬åœ°:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ssh -T git@github.com</span><br><span class="line">The authenticity of host &#39;github.com (192.30.253.112)&#39; can&#39;t be established.</span><br><span class="line">RSA key fingerprint is SHA256:nThbg6kXUpxxxxxxxxARLviKw6E5SY8.</span><br><span class="line">Are you sure you want to continue connecting (yes&#x2F;no)? yes</span><br><span class="line">Warning: Permanently added &#39;github.com,192.30.253.112&#39; (RSA) to the list of known hosts.</span><br><span class="line">Hi xxxxxx! You&#39;ve successfully authenticated, but GitHub does not provide shell access.</span><br></pre></td></tr></table></figure>

<hr>
<p>ç„¶åå°±å¯ä»¥å°†æœ¬åœ°çš„é¡¹ç›®ç”¨githubæ¥ç®¡ç†äº†ã€‚</p>
<hr>
<h4 id="æ›´æ–°æ—¥å¿—"><a href="#æ›´æ–°æ—¥å¿—" class="headerlink" title="æ›´æ–°æ—¥å¿—"></a>æ›´æ–°æ—¥å¿—</h4><ul>
<li>2017-10-27 - å®Œå–„â€è¿æ¥æµ‹è¯•â€å†…å®¹; æ·»åŠ Macç³»ç»Ÿä¸‹å®‰è£…gité…ç½®</li>
</ul>
]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>GitHub</tag>
        <tag>SSH</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxä¸‹ä¿®æ”¹æ—¶åŒº</title>
    <url>/2017/02/23/modify-timezone/</url>
    <content><![CDATA[<p>ä¸€èˆ¬é€šè¿‡é»˜è®¤æ–¹å¼å®‰è£…çš„linuxç³»ç»Ÿæ˜¾ç¤ºçš„éƒ½æ˜¯UTCæ—¶é—´ï¼Œè¿™æ ·å¯¼è‡´ä¸€äº›ä¾èµ–æ—¶é—´çš„ç¨‹åºå°±ä¼šå‡ºç°æ—¶å·®é—®é¢˜ã€‚ä¸‹é¢ä»‹ç»åœ¨Ubuntuå’ŒAlpineç³»ç»Ÿä¸‹å¦‚ä½•æ›´æ”¹UTCæ—¶åŒºä¸ºCSTæ—¶åŒºã€‚</p>
<h4 id="Alpine"><a href="#Alpine" class="headerlink" title="Alpine"></a>Alpine</h4><h5 id="alpine-ä¸‹ä¿®æ”¹UTCæ—¶é—´ä¸ºCSTæ—¶é—´-æµ‹è¯•é€šè¿‡"><a href="#alpine-ä¸‹ä¿®æ”¹UTCæ—¶é—´ä¸ºCSTæ—¶é—´-æµ‹è¯•é€šè¿‡" class="headerlink" title="alpine ä¸‹ä¿®æ”¹UTCæ—¶é—´ä¸ºCSTæ—¶é—´ (æµ‹è¯•é€šè¿‡)"></a>alpine ä¸‹ä¿®æ”¹UTCæ—¶é—´ä¸ºCSTæ—¶é—´ (æµ‹è¯•é€šè¿‡)</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ apk add tzdata </span><br><span class="line">$ ln -sf &#x2F;usr&#x2F;share&#x2F;zoneinfo&#x2F;Asia&#x2F;Shanghai &#x2F;etc&#x2F;localtime </span><br><span class="line">$ echo &quot;Asia&#x2F;Shanghai&quot; &gt; &#x2F;etc&#x2F;timezone</span><br></pre></td></tr></table></figure>

<h5 id="Docker-Alpine-ä¸‹ä¿®æ”¹utcæ—¶é—´ä¸ºcstæ—¶é—´"><a href="#Docker-Alpine-ä¸‹ä¿®æ”¹utcæ—¶é—´ä¸ºcstæ—¶é—´" class="headerlink" title="Docker + Alpine ä¸‹ä¿®æ”¹utcæ—¶é—´ä¸ºcstæ—¶é—´"></a>Docker + Alpine ä¸‹ä¿®æ”¹utcæ—¶é—´ä¸ºcstæ—¶é—´</h5><p>Dockerfile :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">RUN apk update &amp;&amp; apk add ca-certificates &amp;&amp; \</span><br><span class="line">    apk add tzdata &amp;&amp; \</span><br><span class="line">    ln -sf &#x2F;usr&#x2F;share&#x2F;zoneinfo&#x2F;Asia&#x2F;Shanghai &#x2F;etc&#x2F;localtime &amp;&amp; \</span><br><span class="line">    echo &quot;Asia&#x2F;Shanghai&quot; &gt; &#x2F;etc&#x2F;timezone</span><br></pre></td></tr></table></figure>

<h4 id="Ubuntu"><a href="#Ubuntu" class="headerlink" title="Ubuntu"></a>Ubuntu</h4><h5 id="Ubuntu-ä¸‹æ‰‹åŠ¨ä¿®æ”¹é…ç½®-å›¾å½¢åŒ–ç•Œé¢"><a href="#Ubuntu-ä¸‹æ‰‹åŠ¨ä¿®æ”¹é…ç½®-å›¾å½¢åŒ–ç•Œé¢" class="headerlink" title="Ubuntu ä¸‹æ‰‹åŠ¨ä¿®æ”¹é…ç½® (å›¾å½¢åŒ–ç•Œé¢)"></a>Ubuntu ä¸‹æ‰‹åŠ¨ä¿®æ”¹é…ç½® (å›¾å½¢åŒ–ç•Œé¢)</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo dpkg-reconfigure tzdata</span><br></pre></td></tr></table></figure>

<p>æˆ–ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo tzselect</span><br></pre></td></tr></table></figure>

<h5 id="Ubuntuä¸‹é€šè¿‡å‘½ä»¤æ›´æ”¹ï¼ˆå·²æµ‹è¯•ï¼‰"><a href="#Ubuntuä¸‹é€šè¿‡å‘½ä»¤æ›´æ”¹ï¼ˆå·²æµ‹è¯•ï¼‰" class="headerlink" title="Ubuntuä¸‹é€šè¿‡å‘½ä»¤æ›´æ”¹ï¼ˆå·²æµ‹è¯•ï¼‰"></a>Ubuntuä¸‹é€šè¿‡å‘½ä»¤æ›´æ”¹ï¼ˆå·²æµ‹è¯•ï¼‰</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo ln -sf &#x2F;usr&#x2F;share&#x2F;zoneinfo&#x2F;Asia&#x2F;ShangHai &#x2F;etc&#x2F;localtime</span><br><span class="line">$ sudo echo &quot;Asia&#x2F;Shanghai&quot; &gt; &#x2F;etc&#x2F;timezone</span><br><span class="line">$ sudo dpkg-reconfigure -f noninteractive tzdata</span><br></pre></td></tr></table></figure>

<p><strong>ç»æµ‹è¯•ï¼Œå¦‚æœä¸åŠ ç¬¬ä¸€è¡Œï¼Œç³»ç»Ÿé‡å¯ååˆæ¢å¤UTCæ—¶é—´äº†</strong> </p>
<h5 id="Docker-Ubuntu-ä¸‹ä¿®æ”¹UTCæ—¶é—´ä¸ºCSTæ—¶é—´"><a href="#Docker-Ubuntu-ä¸‹ä¿®æ”¹UTCæ—¶é—´ä¸ºCSTæ—¶é—´" class="headerlink" title="Docker + Ubuntu ä¸‹ä¿®æ”¹UTCæ—¶é—´ä¸ºCSTæ—¶é—´"></a>Docker + Ubuntu ä¸‹ä¿®æ”¹UTCæ—¶é—´ä¸ºCSTæ—¶é—´</h5><p>Dockerfile:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Setting timezone</span><br><span class="line">RUN ln -sf &#x2F;usr&#x2F;share&#x2F;zoneinfo&#x2F;Asia&#x2F;ShangHai &#x2F;etc&#x2F;localtime &amp;&amp; \</span><br><span class="line">	echo &quot;Asia&#x2F;Shanghai&quot; &gt; &#x2F;etc&#x2F;timezone &amp;&amp; \</span><br><span class="line">	dpkg-reconfigure -f noninteractive tzdata</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="https://lengzzz.com/note/timezone-in-docker" target="_blank" rel="noopener">docker ä¸­è®¾ç½®æ—¶åŒº | æ°´èƒ½è½½èˆŸ äº¦å¯èµ›è‰‡</a></li>
<li><a href="https://lesca.me/archives/set-timezone-with-command-line-on-ubuntu.html" target="_blank" rel="noopener">Ubuntu: ä»¥å‘½ä»¤è¡Œæ–¹å¼ä¿®æ”¹æ—¶åŒº</a></li>
<li><a href="https://www.zybuluo.com/zwh8800/note/337111" target="_blank" rel="noopener">docker ä¸­è®¾ç½®æ—¶åŒº - ä½œä¸šéƒ¨è½ Cmd Markdown ç¼–è¾‘é˜…è¯»å™¨</a></li>
</ul>
]]></content>
      <tags>
        <tag>Docker</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu16.04é…ç½®RabbitMQè¿è¡Œç¯å¢ƒ</title>
    <url>/2017/02/21/installation-rabbitmq-on-ubuntu/</url>
    <content><![CDATA[<p>è¯¥æ–‡ç« ä¸»è¦è®°å½•åœ¨ <code>Ubuntu 16.04.1 LTS</code> ç³»ç»Ÿä¸‹å®‰è£…åŠé…ç½® RabbitMQ çš„æ–¹æ³•ã€‚</p>
<h4 id="æ›´æ–°è½¯ä»¶æº"><a href="#æ›´æ–°è½¯ä»¶æº" class="headerlink" title="æ›´æ–°è½¯ä»¶æº"></a>æ›´æ–°è½¯ä»¶æº</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo echo &quot;deb http:&#x2F;&#x2F;cn.archive.ubuntu.com&#x2F;ubuntu&#x2F; xenial main restricted universe multiverse&quot; &gt; &#x2F;etc&#x2F;apt&#x2F;sources.list</span><br><span class="line">sudo echo &quot;deb http:&#x2F;&#x2F;cn.archive.ubuntu.com&#x2F;ubuntu&#x2F; xenial-security main restricted universe multiverse&quot; &gt;&gt; &#x2F;etc&#x2F;apt&#x2F;sources.list</span><br><span class="line"></span><br><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure>

<h4 id="å®‰è£…Erlangä¾èµ–"><a href="#å®‰è£…Erlangä¾èµ–" class="headerlink" title="å®‰è£…Erlangä¾èµ–"></a>å®‰è£…Erlangä¾èµ–</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd &#x2F;tmp</span><br><span class="line">wget http:&#x2F;&#x2F;packages.erlang-solutions.com&#x2F;ubuntu&#x2F;erlang_solutions.asc</span><br><span class="line">sudo apt-key add erlang_solutions.asc</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install erlang</span><br><span class="line">sudo apt-get install erlang-nox</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="å®‰è£…RabbitMQ"><a href="#å®‰è£…RabbitMQ" class="headerlink" title="å®‰è£…RabbitMQ"></a>å®‰è£…RabbitMQ</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo echo &quot;deb http:&#x2F;&#x2F;www.rabbitmq.com&#x2F;debian&#x2F; testing main&quot; &gt;&gt; &#x2F;etc&#x2F;apt&#x2F;sources.list</span><br><span class="line">sudo wget https:&#x2F;&#x2F;www.rabbitmq.com&#x2F;rabbitmq-release-signing-key.asc</span><br><span class="line">sudo apt-key add rabbitmq-release-signing-key.asc</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install rabbitmq-server</span><br></pre></td></tr></table></figure>

<h4 id="ç®¡ç†RabbitMQæœåŠ¡"><a href="#ç®¡ç†RabbitMQæœåŠ¡" class="headerlink" title="ç®¡ç†RabbitMQæœåŠ¡"></a>ç®¡ç†RabbitMQæœåŠ¡</h4><h5 id="ç®¡ç†æœåŠ¡"><a href="#ç®¡ç†æœåŠ¡" class="headerlink" title="ç®¡ç†æœåŠ¡"></a>ç®¡ç†æœåŠ¡</h5><p>å¯ä»¥ä½¿ç”¨ <code>rabbitmqctl</code> æˆ–ç³»ç»ŸæœåŠ¡ <code>service</code> æˆ–è€… <code>systemctl</code> æ¥ç®¡ç†.</p>
<p><strong>rabbitmqctl</strong> :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo rabbitmqctl [status|start|stop|reset]</span><br></pre></td></tr></table></figure>

<p><strong>systemctl</strong> :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo systemctl [status|start|stop|restart] rabbitmq-server</span><br></pre></td></tr></table></figure>

<p><strong>service</strong> :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo service rabbitmq-server [status|start|stop|restart]</span><br></pre></td></tr></table></figure>

<p>å¦‚æœ <code>status</code> çŠ¶æ€æ˜¾ç¤ºæ— æ³•è¿æ¥rabbitmqæœåŠ¡ï¼Œéœ€è¦å…ˆå¯åŠ¨è¯¥æœåŠ¡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo rabbitmqctl status</span><br><span class="line">Status of node rabbit@localhost ...</span><br><span class="line">Error: unable to connect to node rabbit@localhost: nodedown</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ sudo rabbitmqctl start</span><br><span class="line"># æˆ–è€…</span><br><span class="line">$ sudo service rabbitmq-server start&#x2F;restart</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ sudo rabbitmqctl status</span><br><span class="line">Status of node rabbit@localhost ...</span><br><span class="line">[&#123;pid,9286&#125;,</span><br><span class="line"> &#123;running_applications,[&#123;rabbit,&quot;RabbitMQ&quot;,&quot;3.6.6&quot;&#125;,</span><br><span class="line">                        &#123;mnesia,&quot;MNESIA  CXC 138 12&quot;,&quot;4.13.3&quot;&#125;,</span><br><span class="line">                        &#123;os_mon,&quot;CPO  CXC 138 46&quot;,&quot;2.4&quot;&#125;,</span><br><span class="line">                        &#123;rabbit_common,[],&quot;3.6.6&quot;&#125;,</span><br><span class="line">                        &#123;xmerl,&quot;XML parser&quot;,&quot;1.3.10&quot;&#125;,</span><br><span class="line">                        &#123;ranch,&quot;Socket acceptor pool for TCP protocols.&quot;,</span><br><span class="line">                               &quot;1.2.1&quot;&#125;,</span><br><span class="line">                        ...</span><br><span class="line">                        ...</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="åœ¨Dockerä¸‹ç®¡ç†"><a href="#åœ¨Dockerä¸‹ç®¡ç†" class="headerlink" title="åœ¨Dockerä¸‹ç®¡ç†"></a>åœ¨Dockerä¸‹ç®¡ç†</h5><p>æ³¨æ„ï¼šåœ¨Ubuntuç³»ç»Ÿçš„ <code>Docker</code> ä¸‹ ï¼Œä½¿ç”¨ <code>systemctl</code> å‘½ä»¤ä¼šæŠ¥é”™ï¼Œæ‰€ä»¥åœ¨dockerä¸‹è¿˜æ˜¯æ¨èä½¿ç”¨ <code>service</code> æ¥ç®¡ç†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root@6b16517eab27:&#x2F;tmp# systemctl</span><br><span class="line">Failed to connect to bus: No such file or directory</span><br><span class="line"></span><br><span class="line">root@6b16517eab27:&#x2F;tmp# service rabbitmq-server status</span><br><span class="line">Status of node rabbit@6b16517eab27 ...</span><br><span class="line">[&#123;pid,12184&#125;,</span><br><span class="line"> &#123;running_applications,</span><br><span class="line">     [&#123;rabbitmq_management,&quot;RabbitMQ Management Console&quot;,&quot;3.6.6&quot;&#125;,</span><br><span class="line">      &#123;rabbitmq_web_dispatch,&quot;RabbitMQ Web Dispatcher&quot;,&quot;3.6.6&quot;&#125;,</span><br><span class="line">      &#123;webmachine,&quot;webmachine&quot;,&quot;1.10.3&quot;&#125;,</span><br><span class="line">      &#123;mochiweb,&quot;MochiMedia Web Server&quot;,&quot;2.13.1&quot;&#125;,</span><br><span class="line">      &#123;amqp_client,&quot;RabbitMQ AMQP Client&quot;,&quot;3.6.6&quot;&#125;,</span><br><span class="line">      &#123;rabbitmq_management_agent,&quot;RabbitMQ Management Agent&quot;,&quot;3.6.6&quot;&#125;,</span><br><span class="line">      &#123;rabbit,&quot;RabbitMQ&quot;,&quot;3.6.6&quot;&#125;,</span><br><span class="line">      ...</span><br><span class="line">      ...</span><br></pre></td></tr></table></figure>

<blockquote>
<p>So the systemctl can not run inside docker, right? thanks!</p>
</blockquote>
<ul>
<li><a href="https://github.com/docker/docker/issues/2296" target="_blank" rel="noopener">Running systemctl in container fails with &quot;Failed to get D-Bus connection&quot; Â· Issue #2296 Â· docker/docker Â· GitHub</a></li>
<li><a href="http://stackoverflow.com/questions/39169403/systemd-and-systemctl-within-ubuntu-docker-images" target="_blank" rel="noopener">systemd and systemctl within Ubuntu Docker images - Stack Overflow</a></li>
</ul>
<hr>
<h4 id="RabbitMQ-Webç®¡ç†æ¥å£"><a href="#RabbitMQ-Webç®¡ç†æ¥å£" class="headerlink" title="RabbitMQ Webç®¡ç†æ¥å£"></a>RabbitMQ Webç®¡ç†æ¥å£</h4><h5 id="å¯ç”¨rabbitmq-management"><a href="#å¯ç”¨rabbitmq-management" class="headerlink" title="å¯ç”¨rabbitmq-management"></a>å¯ç”¨rabbitmq-management</h5><p>å¯ç”¨rabbitmq-managementæ’ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo rabbitmq-plugins enable rabbitmq_management</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo rabbitmq-plugins enable rabbitmq_management</span><br><span class="line">The following plugins have been enabled:</span><br><span class="line">  mochiweb</span><br><span class="line">  webmachine</span><br><span class="line">  rabbitmq_web_dispatch</span><br><span class="line">  amqp_client</span><br><span class="line">  rabbitmq_management_agent</span><br><span class="line">  rabbitmq_management</span><br><span class="line"></span><br><span class="line">Applying plugin configuration to rabbit@6b16517eab27... started 6 plugins.</span><br></pre></td></tr></table></figure>

<p>é‡å¯RabbitMQ:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo systemctl restart rabbitmq-server</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æµè§ˆå™¨è®¿é—® <code>http://localhost:15672</code> ï¼Œä½¿ç”¨é»˜è®¤çš„ <code>guest/guest</code> ç”¨æˆ·ç™»å½•ã€‚</p>
<hr>
<h5 id="ä½¿ç”¨guestè´¦æˆ·è¿œç¨‹è®¿é—®"><a href="#ä½¿ç”¨guestè´¦æˆ·è¿œç¨‹è®¿é—®" class="headerlink" title="ä½¿ç”¨guestè´¦æˆ·è¿œç¨‹è®¿é—®"></a>ä½¿ç”¨guestè´¦æˆ·è¿œç¨‹è®¿é—®</h5><p>æ³¨æ„ï¼šä½¿ç”¨è¿œç¨‹è®¿é—®æˆ–åœ¨Ubuntuç³»ç»Ÿçš„Dockerä¸‹ä½¿ç”¨æ‰€åœ¨æœåŠ¡å™¨çš„åœ°å€è®¿é—®æ—¶ä¼šæŠ¥æƒé™é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;error: &quot;not_authorised&quot;, reason: &quot;User can only log in via localhost&quot;&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯å› ä¸º rabbitmqä»3.3.0å¼€å§‹ç¦æ­¢ä½¿ç”¨ <code>guest/guest</code> æƒé™é€šè¿‡é™¤ <code>localhost</code> å¤–çš„è®¿é—®ã€‚</p>
<p>å¦‚æœæƒ³ä½¿ç”¨ <code>guest/guest</code> é€šè¿‡è¿œç¨‹æœºå™¨è®¿é—®ï¼Œéœ€è¦åœ¨rabbitmqé…ç½®æ–‡ä»¶ <code>(/etc/rabbitmq/rabbitmq.config)</code> ä¸­è®¾ç½® <code>loopback_usersä¸º[]</code> ã€‚</p>
<p><code>/etc/rabbitmq/rabbitmq.config</code> (ä¸å­˜åœ¨å…ˆåˆ›å»º) æ–‡ä»¶å®Œæ•´å†…å®¹å¦‚ä¸‹ï¼ˆæ³¨æ„åé¢çš„åŠè§’å¥å·ï¼‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[&#123;rabbit, [&#123;loopback_users, []&#125;]&#125;].</span><br></pre></td></tr></table></figure>

<p>æ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># ls &#x2F;etc&#x2F;rabbitmq&#x2F;</span><br><span class="line">enabled_plugins</span><br><span class="line"></span><br><span class="line">$ sudo vim &#x2F;etc&#x2F;rabbitmq&#x2F;rabbitmq.config</span><br><span class="line">    [&#123;rabbit, [&#123;loopback_users, []&#125;]&#125;].</span><br><span class="line"></span><br><span class="line">$ sudo service rabbitmq-server restart</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="åˆ›å»ºæ–°è´¦æˆ·"><a href="#åˆ›å»ºæ–°è´¦æˆ·" class="headerlink" title="åˆ›å»ºæ–°è´¦æˆ·"></a>åˆ›å»ºæ–°è´¦æˆ·</h5><p>å¦‚æœä¸æƒ³ä½¿ç”¨é»˜è®¤çš„ <code>guest</code> è´¦æˆ·ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„å…·æœ‰ç®¡ç†å‘˜æƒé™çš„è´¦æˆ·ï¼Œå¦‚åˆ›å»ºä¸€ä¸ª <code>test/test</code> è´¦æˆ·æ“ä½œå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rabbitmqctl add_user test test</span><br><span class="line">rabbitmqctl set_user_tags test administrator</span><br><span class="line">rabbitmqctl set_permissions -p &#x2F; test &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;</span><br></pre></td></tr></table></figure>

<hr>
<ul>
<li><a href="https://www.rabbitmq.com/access-control.html" target="_blank" rel="noopener">RabbitMQ - Access Control (Authentication, Authorisation) in RabbitMQ</a></li>
<li><a href="https://stackoverflow.com/questions/22850546/cant-access-rabbitmq-web-management-interface-after-fresh-install/22854222#22854222" target="_blank" rel="noopener">Can&#39;t access RabbitMQ web management interface after fresh install - Stack Overflow</a></li>
<li><a href="http://stackoverflow.com/questions/23669780/rabbitmq-3-3-1-can-not-login-with-guest-guest" target="_blank" rel="noopener">RabbitMQ 3.3.1 can not login with guest/guest - Stack Overflow</a></li>
<li><a href="http://www.cnblogs.com/lazyboy/p/3853371.html" target="_blank" rel="noopener">rabbitmqé—®é¢˜ä¹‹HTTP access denied: user &#39;guest&#39; - User can only log in via localhost - å¸ƒé›·æ³½ - åšå®¢å›­</a></li>
</ul>
<hr>
<h4 id="ç›¸å…³é“¾æ¥"><a href="#ç›¸å…³é“¾æ¥" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h4><ul>
<li><a href="http://idroot.net/linux/install-rabbitmq-ubuntu-16-04/" target="_blank" rel="noopener">How To Install RabbitMQ on Ubuntu 16.04 - idroot</a></li>
<li><a href="http://blog.topspeedsnail.com/archives/4750" target="_blank" rel="noopener">Ubuntu 16.04 å®‰è£… RabbitMQ</a></li>
</ul>
]]></content>
      <tags>
        <tag>RabbitMQ</tag>
        <tag>æ¶ˆæ¯é˜Ÿåˆ—</tag>
      </tags>
  </entry>
  <entry>
    <title>Gitä½¿ç”¨æŠ€å·§æ•´ç†</title>
    <url>/2017/02/07/git-use-skills/</url>
    <content><![CDATA[<h4 id="ä¸€æ¬¡æ·»åŠ å¤šä¸ªæ–‡ä»¶"><a href="#ä¸€æ¬¡æ·»åŠ å¤šä¸ªæ–‡ä»¶" class="headerlink" title="ä¸€æ¬¡æ·»åŠ å¤šä¸ªæ–‡ä»¶"></a>ä¸€æ¬¡æ·»åŠ å¤šä¸ªæ–‡ä»¶</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git add .</span><br></pre></td></tr></table></figure>

<p>*<em>ä¸ºä»€ä¹ˆç”¨ <code>.</code> ä¸ç”¨ `</em>` **</p>
<p>In order to add the files that are not in the gitignore file,</p>
<blockquote>
<p>use <code>git add .</code> in the place of  <code>git add *</code></p>
</blockquote>
<p>This will stop confusing the *unix system since * means all ( including the ignored ones ) while . means the ones relative to the active action</p>
<hr>
<h4 id="å¼ºåˆ¶æ·»åŠ æ–‡ä»¶"><a href="#å¼ºåˆ¶æ·»åŠ æ–‡ä»¶" class="headerlink" title="å¼ºåˆ¶æ·»åŠ æ–‡ä»¶"></a>å¼ºåˆ¶æ·»åŠ æ–‡ä»¶</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git add -f aaa.exe</span><br></pre></td></tr></table></figure>

<p>ä¸€èˆ¬åœ¨æ·»åŠ ä¸€ä¸ªè¢«å¿½ç•¥çš„æ–‡ä»¶æ—¶ï¼Œä¼šæç¤ºå¦‚ä¸‹é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git add phantomjs.exe</span><br><span class="line">The following paths are ignored by one of your .gitignore files:</span><br><span class="line">phantomjs.exe</span><br><span class="line">Use -f if you really want to add them.</span><br></pre></td></tr></table></figure>

<p>é‡åˆ°è¿™ç§æƒ…å†µæ—¶å€™éœ€è¦ä½¿ç”¨ <code>git add -f</code> å‘½ä»¤å¼ºåˆ¶æ·»åŠ è¿™ä¸ªæ–‡ä»¶ã€‚</p>
<p>è¯¦è§ï¼š<a href="http://m.blog.csdn.net/article/details?id=50906447" target="_blank" rel="noopener">gitå¼ºåˆ¶æ·»åŠ (add)æ–‡ä»¶</a></p>
<hr>
]]></content>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu16.04å®‰è£…DockeråŠé…ç½®é•œåƒåŠ é€Ÿå™¨</title>
    <url>/2017/01/14/ubuntu-install-docker-and-configure-mirror-accelerator/</url>
    <content><![CDATA[<p>æœ€è¿‘å°†è™šæ‹Ÿæœºä¸­çš„Ubuntuç³»ç»Ÿä»14.04æ›´æ–°åˆ°äº†16.04.1ç‰ˆæœ¬ï¼Œåˆè¦é‡æ–°å®‰è£…DockeræœåŠ¡ï¼Œåœ¨å®‰è£…çš„æ—¶å€™å‘ç°Dockerçš„å®˜æ–¹å®‰è£…æ•™ç¨‹åˆæœ‰äº†æ›´æ–°ï¼Œä¹‹å‰çš„å®‰è£…æ–¹æ³•å·²ç»è¿‡æ—¶ã€‚</p>
<h4 id="è¿‡æ—¶çš„å®‰è£…æ–¹æ³•"><a href="#è¿‡æ—¶çš„å®‰è£…æ–¹æ³•" class="headerlink" title="è¿‡æ—¶çš„å®‰è£…æ–¹æ³•"></a>è¿‡æ—¶çš„å®‰è£…æ–¹æ³•</h4><p>ä¹‹å‰å®˜ç½‘ä¸­æä¾›çš„å®‰è£…æ–¹æ³•ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl -sSL https:&#x2F;&#x2F;get.docker.com&#x2F; | sudo sh</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨å¦‚æœå†æ‰§è¡Œè¯¥å‘½ä»¤ï¼Œä¼šç›´æ¥æŠ¥é”™ã€‚</p>
<h4 id="å®˜æ–¹æ¨èå®‰è£…æ–¹æ³•"><a href="#å®˜æ–¹æ¨èå®‰è£…æ–¹æ³•" class="headerlink" title="å®˜æ–¹æ¨èå®‰è£…æ–¹æ³•"></a>å®˜æ–¹æ¨èå®‰è£…æ–¹æ³•</h4><h5 id="æŸ¥çœ‹ç³»ç»Ÿå†…æ ¸"><a href="#æŸ¥çœ‹ç³»ç»Ÿå†…æ ¸" class="headerlink" title="æŸ¥çœ‹ç³»ç»Ÿå†…æ ¸"></a>æŸ¥çœ‹ç³»ç»Ÿå†…æ ¸</h5><p>Dockeréœ€è¦å®‰è£…åœ¨Linux 64ä½ç³»ç»Ÿä¸‹ï¼Œå†…æ ¸ç‰ˆæœ¬åœ¨ 3.10 ä»¥ä¸Šã€‚å¯ä»¥é€šè¿‡ <code>uname -r</code> æ¥æŸ¥çœ‹å†…æ ¸ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ uname -r</span><br><span class="line">4.4.0-31-generic</span><br></pre></td></tr></table></figure>

<h5 id="æ›´æ–°æºï¼Œå®‰è£…CAè¯ä¹¦"><a href="#æ›´æ–°æºï¼Œå®‰è£…CAè¯ä¹¦" class="headerlink" title="æ›´æ–°æºï¼Œå®‰è£…CAè¯ä¹¦"></a>æ›´æ–°æºï¼Œå®‰è£…CAè¯ä¹¦</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get update</span><br><span class="line">$ sudo apt-get install apt-transport-https ca-certificates</span><br></pre></td></tr></table></figure>

<h5 id="å¯¼å…¥-GPG-å¯†é’¥"><a href="#å¯¼å…¥-GPG-å¯†é’¥" class="headerlink" title="å¯¼å…¥ GPG å¯†é’¥"></a>å¯¼å…¥ GPG å¯†é’¥</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-key adv \</span><br><span class="line">               --keyserver hkp:&#x2F;&#x2F;ha.pool.sks-keyservers.net:80 \</span><br><span class="line">               --recv-keys 58118E89F3A912897C070ADBF76221572C52609D</span><br></pre></td></tr></table></figure>

<h5 id="æ·»åŠ dockeræº"><a href="#æ·»åŠ dockeræº" class="headerlink" title="æ·»åŠ dockeræº"></a>æ·»åŠ dockeræº</h5><p>æ ¹æ®å½“å‰ç³»ç»Ÿç‰ˆæœ¬ï¼Œæ·»åŠ dockeræºå‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ echo &quot;&lt;REPO&gt;&quot; | sudo tee &#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;docker.list</span><br></pre></td></tr></table></figure>

<p>åªè¦å°† <code>&lt;REPO&gt;</code> æ›¿æ¢æˆç›¸åº”ç³»ç»Ÿçš„æºåœ°å€å³å¯ã€‚</p>
<p>æˆ‘è¿™é‡Œå½“å‰ç³»ç»ŸUbuntu16.04ï¼Œæºåœ°å€ä¸ºï¼š<code>deb https://apt.dockerproject.org/repo ubuntu-xenial main</code>ï¼Œæ‰€ä»¥åªéœ€å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ echo &quot;deb https:&#x2F;&#x2F;apt.dockerproject.org&#x2F;repo ubuntu-xenial main&quot; | sudo tee &#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;docker.list</span><br></pre></td></tr></table></figure>

<p>å…¶ä»–ç‰ˆæœ¬ç³»ç»Ÿæºåœ°å€å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>Ubuntu version</th>
<th>Repository</th>
</tr>
</thead>
<tbody><tr>
<td>Precise 12.04 (LTS)</td>
<td>deb <a href="https://apt.dockerproject.org/repo" target="_blank" rel="noopener">https://apt.dockerproject.org/repo</a> ubuntu-precise main</td>
</tr>
<tr>
<td>Trusty 14.04 (LTS)</td>
<td>deb <a href="https://apt.dockerproject.org/repo" target="_blank" rel="noopener">https://apt.dockerproject.org/repo</a> ubuntu-trusty main</td>
</tr>
<tr>
<td>Wily 15.10</td>
<td>deb <a href="https://apt.dockerproject.org/repo" target="_blank" rel="noopener">https://apt.dockerproject.org/repo</a> ubuntu-wily main</td>
</tr>
<tr>
<td>Xenial 16.04 (LTS)</td>
<td>deb <a href="https://apt.dockerproject.org/repo" target="_blank" rel="noopener">https://apt.dockerproject.org/repo</a> ubuntu-xenial main</td>
</tr>
</tbody></table>
<h5 id="æ›´æ–°æºåˆ—è¡¨"><a href="#æ›´æ–°æºåˆ—è¡¨" class="headerlink" title="æ›´æ–°æºåˆ—è¡¨"></a>æ›´æ–°æºåˆ—è¡¨</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get update</span><br></pre></td></tr></table></figure>

<h5 id="éªŒè¯-APT-èƒ½å¦æ­£ç¡®è·å–"><a href="#éªŒè¯-APT-èƒ½å¦æ­£ç¡®è·å–" class="headerlink" title="éªŒè¯ APT èƒ½å¦æ­£ç¡®è·å–"></a>éªŒè¯ APT èƒ½å¦æ­£ç¡®è·å–</h5><p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ä¼šä»dockerå®˜æ–¹ä»“åº“ä¸­åˆ—å‡ºæ‰€æœ‰dockerçš„å¯å®‰è£…ç‰ˆæœ¬ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ apt-cache policy docker-engine</span><br><span class="line">docker-engine:</span><br><span class="line">  Installed: null</span><br><span class="line">  Candidate: 1.12.6-0~ubuntu-xenial</span><br><span class="line">  Version table:</span><br><span class="line"> *** 1.12.6-0~ubuntu-xenial 500</span><br><span class="line">        500 https:&#x2F;&#x2F;apt.dockerproject.org&#x2F;repo ubuntu-xenial&#x2F;main amd64 Packages</span><br><span class="line">        100 &#x2F;var&#x2F;lib&#x2F;dpkg&#x2F;status</span><br><span class="line">     1.12.5-0~ubuntu-xenial 500</span><br><span class="line">        500 https:&#x2F;&#x2F;apt.dockerproject.org&#x2F;repo ubuntu-xenial&#x2F;main amd64 Packages</span><br><span class="line">     1.12.4-0~ubuntu-xenial 500</span><br><span class="line">        500 https:&#x2F;&#x2F;apt.dockerproject.org&#x2F;repo ubuntu-xenial&#x2F;main amd64 Packages</span><br><span class="line">     1.12.3-0~xenial 500</span><br><span class="line">        500 https:&#x2F;&#x2F;apt.dockerproject.org&#x2F;repo ubuntu-xenial&#x2F;main amd64 Packages</span><br><span class="line">     ...</span><br><span class="line">     ...</span><br></pre></td></tr></table></figure>

<h5 id="å®‰è£…docker"><a href="#å®‰è£…docker" class="headerlink" title="å®‰è£…docker"></a>å®‰è£…docker</h5><p>é»˜è®¤ä¼šå®‰è£…æ¨èçš„ç‰ˆæœ¬ <code>Candidate</code> é¡¹åˆ—å‡ºçš„ï¼Œä¹Ÿæ˜¯æœ€æ–°çš„ç‰ˆæœ¬</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install -y docker-engine</span><br></pre></td></tr></table></figure>

<h5 id="å¯åŠ¨dockeræœåŠ¡"><a href="#å¯åŠ¨dockeræœåŠ¡" class="headerlink" title="å¯åŠ¨dockeræœåŠ¡"></a>å¯åŠ¨dockeræœåŠ¡</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo service docker start</span><br></pre></td></tr></table></figure>

<h5 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h5><p>åœ¨å‘½ä»¤è¡Œä¸‹è¾“å…¥ <code>docker</code> ,å¦‚æç¤ºdockerçš„ <code>[OPTIONS]</code> è¯´æ˜ï¼Œåˆ™è¡¨ç¤ºdockeræœåŠ¡å·²ç»å®‰è£…æˆåŠŸäº†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ docker</span><br><span class="line">Usage: docker [OPTIONS] COMMAND [arg...]</span><br><span class="line">       docker [ --help | -v | --version ]</span><br><span class="line"></span><br><span class="line">A self-sufficient runtime for containers.</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line"></span><br><span class="line">  --config&#x3D;~&#x2F;.docker              Location of client config files</span><br><span class="line">  -D, --debug                     Enable debug mode</span><br><span class="line">  -H, --host&#x3D;[]                   Daemon socket(s) to connect to</span><br><span class="line">  -h, --help                      Print usage</span><br><span class="line">  -l, --log-level&#x3D;info            Set the logging level</span><br><span class="line">  --tls                           Use TLS; implied by --tlsverify</span><br><span class="line">  --tlscacert&#x3D;~&#x2F;.docker&#x2F;ca.pem    Trust certs signed only by this CA</span><br><span class="line">  --tlscert&#x3D;~&#x2F;.docker&#x2F;cert.pem    Path to TLS certificate file</span><br><span class="line">  --tlskey&#x3D;~&#x2F;.docker&#x2F;key.pem      Path to TLS key file</span><br><span class="line">  ...</span><br><span class="line">  ...</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="å°†å½“å‰ç”¨æˆ·æ·»åŠ åˆ°dockerçš„ç”¨æˆ·ç»„"><a href="#å°†å½“å‰ç”¨æˆ·æ·»åŠ åˆ°dockerçš„ç”¨æˆ·ç»„" class="headerlink" title="å°†å½“å‰ç”¨æˆ·æ·»åŠ åˆ°dockerçš„ç”¨æˆ·ç»„"></a>å°†å½“å‰ç”¨æˆ·æ·»åŠ åˆ°dockerçš„ç”¨æˆ·ç»„</h4><p>Dockerå®‰è£…æˆåŠŸåï¼Œå¦‚æœæƒ³æŸ¥çœ‹dockerçš„ä¿¡æ¯ï¼Œæ‰§è¡Œ <code>docker info</code> å‘½ä»¤æ—¶å¯èƒ½ä¼šæç¤ºå¦‚ä¸‹ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ docker info</span><br><span class="line">Cannot connect to the Docker daemon. Is the docker daemon running on this host?</span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯å› ä¸ºå¿…éœ€ä»¥ç®¡ç†å‘˜æƒé™æˆ–ä½¿ç”¨ <code>sudo</code> æ¥è¿è¡Œå‘½ä»¤æ‰å¯ä»¥ã€‚ä¸ºäº†ä»¥åæ‰§è¡Œå‘½ä»¤æ—¶ä¸ç”¨æ¯æ¬¡éƒ½å¿…éœ€æ·»åŠ  <code>sudo</code>ï¼Œå¯ä»¥å°†å½“å‰ç”¨æˆ·åŠ å…¥åˆ°dockerç”¨æˆ·ç»„ä¸­ã€‚</p>
<h5 id="åˆ›å»º-docker-åˆ†ç»„"><a href="#åˆ›å»º-docker-åˆ†ç»„" class="headerlink" title="åˆ›å»º docker åˆ†ç»„"></a>åˆ›å»º <code>docker</code> åˆ†ç»„</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo groupadd docker</span><br></pre></td></tr></table></figure>

<h5 id="å°†å½“å‰ç”¨æˆ·æ·»åŠ åˆ°ç»„"><a href="#å°†å½“å‰ç”¨æˆ·æ·»åŠ åˆ°ç»„" class="headerlink" title="å°†å½“å‰ç”¨æˆ·æ·»åŠ åˆ°ç»„"></a>å°†å½“å‰ç”¨æˆ·æ·»åŠ åˆ°ç»„</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo usermod -aG docker $USER</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šè¿™é‡Œä¸ç”¨æ›´æ”¹ <code>$USER</code> è¿™ä¸ªå‚æ•°ï¼Œ<code>$USER</code> è¿™ä¸ªç¯å¢ƒå˜é‡å°±æ˜¯æŒ‡å½“å‰ç”¨æˆ·å</p>
<h5 id="é‡å¯ç³»ç»Ÿ"><a href="#é‡å¯ç³»ç»Ÿ" class="headerlink" title="é‡å¯ç³»ç»Ÿ"></a>é‡å¯ç³»ç»Ÿ</h5><p>æ›´æ”¹å®Œæˆåï¼Œè¿˜éœ€è¦é‡å¯ç³»ç»Ÿæ‰èƒ½çœ‹åˆ°æ•ˆæœã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo reboot</span><br></pre></td></tr></table></figure>

<h5 id="åˆ›å»ºä¸€ä¸ªæµ‹è¯•å®¹å™¨"><a href="#åˆ›å»ºä¸€ä¸ªæµ‹è¯•å®¹å™¨" class="headerlink" title="åˆ›å»ºä¸€ä¸ªæµ‹è¯•å®¹å™¨"></a>åˆ›å»ºä¸€ä¸ªæµ‹è¯•å®¹å™¨</h5><p>å¯é€šè¿‡å¦‚ä¸‹å‘½ä»¤æ¥åˆ›å»ºä¸€ä¸ªæµ‹è¯•å®¹å™¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ docker run hello-world</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Hello from Docker.</span><br><span class="line">This message shows that your installation appears to be working correctly.</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="é…ç½®é˜¿é‡Œäº‘Dockeré•œåƒåŠ é€Ÿå™¨"><a href="#é…ç½®é˜¿é‡Œäº‘Dockeré•œåƒåŠ é€Ÿå™¨" class="headerlink" title="é…ç½®é˜¿é‡Œäº‘Dockeré•œåƒåŠ é€Ÿå™¨"></a>é…ç½®é˜¿é‡Œäº‘Dockeré•œåƒåŠ é€Ÿå™¨</h4><p>æ‰“å¼€ <a href="https://dev.aliyun.com/" target="_blank" rel="noopener">å¼€å‘è€…å¹³å°</a> â€“ <code>ç®¡ç†ä¸­å¿ƒ</code> â€“ <code>åŠ é€Ÿå™¨</code> ã€‚å¯ä»¥çœ‹åˆ° â€œæ‚¨çš„ä¸“å±åŠ é€Ÿå™¨åœ°å€â€ å³ <code>https://xxxxxxx.mirror.aliyuncs.com</code> ã€‚ </p>
<p>æ³¨æ„ï¼šè¿™é‡Œä»¥ <code>Ubuntu 16.04</code> ç³»ç»Ÿä¸ºä¾‹ï¼Œå…¶ä»–ç³»ç»Ÿè¯·åˆ°ä¸Šè¿°é¡µé¢ä¸­æŸ¥çœ‹ç›¸åº”æ“ä½œå‘½ä»¤ã€‚</p>
<h5 id="é…ç½®DockeråŠ é€Ÿå™¨"><a href="#é…ç½®DockeråŠ é€Ÿå™¨" class="headerlink" title="é…ç½®DockeråŠ é€Ÿå™¨"></a>é…ç½®DockeråŠ é€Ÿå™¨</h5><p>é€šè¿‡ <code>docker info</code> å‘½ä»¤å¯ä»¥çŸ¥é“ä¸Šé¢å®‰è£…å¥½çš„Dockerçš„ç‰ˆæœ¬ä¸º <code>1.12.6</code> ã€‚æ‰€ä»¥è¯·é€šè¿‡ä¿®æ”¹daemoné…ç½®æ–‡ä»¶ <code>/etc/docker/daemon.json</code> (æ²¡æœ‰æ—¶æ–°å»ºè¯¥æ–‡ä»¶) æ¥ä½¿ç”¨åŠ é€Ÿå™¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo mkdir -p &#x2F;etc&#x2F;docker</span><br><span class="line"></span><br><span class="line">sudo tee &#x2F;etc&#x2F;docker&#x2F;daemon.json &lt;&lt;-&#39;EOF&#39;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [&quot;https:&#x2F;&#x2F;xxxxxxx.mirror.aliyuncs.com&quot;]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>

<h5 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h5><p>é’ˆå¯¹äºDockerç‰ˆæœ¬åœ¨1.10ä»¥ä¸‹çš„æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„é…ç½®æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo mkdir -p &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;docker.service.d</span><br><span class="line"></span><br><span class="line">sudo tee &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;docker.service.d&#x2F;mirror.conf &lt;&lt;-&#39;EOF&#39;</span><br><span class="line">[Service]</span><br><span class="line">ExecStart&#x3D;&#x2F;usr&#x2F;bin&#x2F;docker daemon -H fd:&#x2F;&#x2F; --registry-mirror&#x3D;https:&#x2F;&#x2F;xxxxxxx.mirror.aliyuncs.com</span><br><span class="line">EOF</span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯è¯¥æ–¹æ³•å¹¶ä¸é€‚ç”¨äº1.12.0ç‰ˆæœ¬ä¹‹åçš„Dockerä¸Šã€‚å› ä¸ºDockerçš„å¯æ‰§è¡Œæ–‡ä»¶åç§°ä» <code>docker</code> æ”¹æˆäº† <code>dockerd</code>ã€‚å¦‚æœä½¿ç”¨äº†ä»¥ä¸Šè„šæœ¬ï¼Œå¯èƒ½ä¼šæŠ¥å¦‚ä¸‹çš„é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo systemctl restart docker</span><br><span class="line">Job for docker.service failed because the control process exited with error code. See &quot;systemctl status docker.service&quot; and &quot;journalctl -xe&quot; for details.</span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥åœ¨é…ç½®åŠ é€Ÿå™¨æ—¶ä¸€å®šè¦æŒ‰ç…§ç›¸åº”ç‰ˆæœ¬æ¥è®¾ç½®ã€‚</p>
<p>è¿˜è¦æ³¨æ„ä¸€ç‚¹ï¼š<strong>ä¸Šæ–‡ä»£ç æ®µä¸­ç»™å‡ºçš„é•œåƒåŠ é€Ÿå™¨åœ°å€ä¸­çš„ <code>xxxxxxx</code> ä¸ºé˜¿é‡Œäº‘åœ¨ä½ æ³¨å†Œè´¦æˆ·ååˆ†é…çš„æŒ‡å®šåœ°å€åç§°ï¼Œåˆ‡è®°è¦ä¿®æ”¹ä¸ºè‡ªå·±è´¦æˆ·çš„ç»™å®šåœ°å€ã€‚</strong></p>
<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="https://docs.docker.com/engine/installation/linux/ubuntulinux/" target="_blank" rel="noopener">Install Docker on Ubuntu - Docker</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-on-ubuntu-16-04" target="_blank" rel="noopener">How To Install and Use Docker on Ubuntu 16.04 | DigitalOcean</a></li>
<li><a href="http://www.voidcn.com/blog/gsls200808/article/p-6323832.html" target="_blank" rel="noopener">ubuntu16.04å®‰è£…docker - ç¨‹åºå›­</a></li>
<li><a href="https://yq.aliyun.com/ask/43505" target="_blank" rel="noopener">Ubuntu 16.04å®‰è£…dockeråŠ é€Ÿå™¨åæ— æ³•å¯åŠ¨docker-é—®ç­”-äº‘æ –ç¤¾åŒº-é˜¿é‡Œäº‘</a></li>
</ul>
]]></content>
      <tags>
        <tag>Docker</tag>
        <tag>Ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨Flaskä¸­ä½¿ç”¨SQLAlchemy</title>
    <url>/2017/01/06/use-sqlalchemy-by-flask/</url>
    <content><![CDATA[<p>åœ¨Flaskä¸­ä½¿ç”¨SQLAlchemyæ“ä½œæ•°æ®åº“ã€‚</p>
<h4 id="å®‰è£…-flask-sqlalchemy"><a href="#å®‰è£…-flask-sqlalchemy" class="headerlink" title="å®‰è£… flask-sqlalchemy"></a>å®‰è£… flask-sqlalchemy</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ pip install flask</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ pip install flask-sqlalchemy</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h4><p>ä½ æ‰€æœ‰æ¨¡å‹çš„åŸºç±»å«åš <code>db.Model</code> ã€‚å®ƒå­˜å‚¨åœ¨ä½ å¿…é¡»åˆ›å»ºçš„ <code>SQLAlchemy</code> å®ä¾‹ä¸Šã€‚</p>
<p>åœ¨ Flask-sqlalchemyä¸­ï¼Œè¡¨åå·²è‡ªåŠ¨è®¾ç½®å¥½ï¼Œé™¤éè‡ªå·±é‡è½½å®ƒï¼šeg: </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">__tablename__ &#x3D; &#39;students&#39; #æŒ‡å®šè¡¨å</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="Columnç±»å‹"><a href="#Columnç±»å‹" class="headerlink" title="Columnç±»å‹"></a>Columnç±»å‹</h5><table>
<thead>
<tr>
<th align="left">ç±»å‹å</th>
<th align="left">Python ç±»å‹</th>
<th align="left">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>Integer</code></td>
<td align="left">int</td>
<td align="left">æ•´æ•°</td>
</tr>
<tr>
<td align="left"><code>String(size)</code></td>
<td align="left">str</td>
<td align="left">æœ‰æœ€å¤§é•¿åº¦çš„å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td align="left"><code>Text</code></td>
<td align="left">str</td>
<td align="left">é•¿ unicode æ–‡æœ¬</td>
</tr>
<tr>
<td align="left"><code>Float</code></td>
<td align="left">float</td>
<td align="left">å­˜å‚¨æµ®ç‚¹å€¼</td>
</tr>
<tr>
<td align="left"><code>Boolean</code></td>
<td align="left">bool</td>
<td align="left">å­˜å‚¨å¸ƒå°”å€¼</td>
</tr>
<tr>
<td align="left"><code>Date</code></td>
<td align="left">datetime.date</td>
<td align="left">æ—¥æœŸ</td>
</tr>
<tr>
<td align="left"><code>Time</code></td>
<td align="left">datetime.time</td>
<td align="left">æ—¶é—´</td>
</tr>
<tr>
<td align="left"><code>DateTime</code></td>
<td align="left">datetime.datetime</td>
<td align="left">æ—¥æœŸå’Œæ—¶é—´</td>
</tr>
<tr>
<td align="left"><code>PickleType</code></td>
<td align="left">ä»»ä½•pythonå¯¹è±¡</td>
<td align="left">å­˜å‚¨ä¸€ä¸ªæŒä¹…åŒ– Python å¯¹è±¡</td>
</tr>
<tr>
<td align="left"><code>LargeBinary</code></td>
<td align="left">str</td>
<td align="left">å­˜å‚¨ä»»æ„å¤§çš„äºŒè¿›åˆ¶æ•°æ®</td>
</tr>
</tbody></table>
<h5 id="å¸¸ç”¨å­—æ®µ"><a href="#å¸¸ç”¨å­—æ®µ" class="headerlink" title="å¸¸ç”¨å­—æ®µ"></a>å¸¸ç”¨å­—æ®µ</h5><table>
<thead>
<tr>
<th align="left">é€‰é¡¹å</th>
<th align="left">è¯´æ˜</th>
<th align="left">ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>primary_key</code></td>
<td align="left">è®¾ç½®ä¸»é”®</td>
<td align="left"><code>primary_key=True</code></td>
</tr>
<tr>
<td align="left"><code>unique</code></td>
<td align="left">æ˜¯å¦å”¯ä¸€</td>
<td align="left"><code>unique=True</code></td>
</tr>
<tr>
<td align="left"><code>index</code></td>
<td align="left">æ˜¯å¦åˆ›å»ºç´¢å¼•</td>
<td align="left"><code>index=True</code></td>
</tr>
<tr>
<td align="left"><code>nullable</code></td>
<td align="left">æ˜¯å¦å…è®¸ä¸ºç©º</td>
<td align="left"><code>nullable=True</code></td>
</tr>
<tr>
<td align="left"><code>default</code></td>
<td align="left">è®¾ç½®é»˜è®¤å€¼</td>
<td align="left"><code>default=datetime.datetime.utcnow</code></td>
</tr>
</tbody></table>
<p>æ›´è¯¦ç»†çš„é…ç½®å¯å‚è€ƒ <a href="https://segmentfault.com/a/1190000002362175" target="_blank" rel="noopener">Flask Web Development â€”â€” æ•°æ®åº“ï¼ˆä¸Šï¼‰ - young - SegmentFault</a></p>
<hr>
<h5 id="è¿æ¥URIæ ¼å¼"><a href="#è¿æ¥URIæ ¼å¼" class="headerlink" title="è¿æ¥URIæ ¼å¼"></a>è¿æ¥URIæ ¼å¼</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">dialect+driver:&#x2F;&#x2F;username:password@host:port&#x2F;database</span><br></pre></td></tr></table></figure>

<ul>
<li>Mysql <code>mysql://scott:tiger@localhost/mydatabase</code></li>
<li>Postgres <code>postgresql://scott:tiger@localhost/mydatabase</code></li>
<li>SQLite <code>sqlite:////absolute/path/to/foo.db</code></li>
</ul>
<h5 id="Flask-SQLAlchemy-Sqliteè¿æ¥è·¯å¾„é—®é¢˜"><a href="#Flask-SQLAlchemy-Sqliteè¿æ¥è·¯å¾„é—®é¢˜" class="headerlink" title="Flask-SQLAlchemy Sqliteè¿æ¥è·¯å¾„é—®é¢˜"></a>Flask-SQLAlchemy Sqliteè¿æ¥è·¯å¾„é—®é¢˜</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sqlite:&#x2F;&#x2F;&#x2F;&#x2F;tmp&#x2F;test.db</span><br></pre></td></tr></table></figure>

<p>Sqliteè¿æ¥å­—ç¬¦ä¸²ä¸­çš„<code>/</code>æ–œæ è¯´æ˜ï¼šä¸‰æ–œæ ä¸ºç›¸å¯¹è·¯å¾„ï¼Œå››æ–œæ ä¸ºç»å¯¹è·¯å¾„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#39;sqlite:&#x2F;&#x2F;&#x2F;&#x2F;tmp&#x2F;test.db&#39;                #è¡¨ç¤ºæŒ‡å‘ç»å¯¹è·¯å¾„åœ¨ï¼´ï½ï½ç›®å½•çš„test.dbæ–‡ä»¶</span><br><span class="line">&#39;sqlite:&#x2F;&#x2F;&#x2F;Data&#x2F;test.db&#39;                #è¡¨ç¤ºæŒ‡å‘ç›¸å¯¹è·¯å¾„åœ¨å½“å‰Pyæ–‡ä»¶åŒç›®å½•çš„Dataç›®å½•ä¸‹test.dbæ–‡ä»¶</span><br></pre></td></tr></table></figure>

<p><a href="https://my.oschina.net/zhangzhe/blog/415084" target="_blank" rel="noopener">Flaskå°è®°ä¸€ï¼šFlask-SQLAlchemy Sqliteè¿æ¥è·¯å¾„é—®é¢˜ - ä¸æŠ˜è…¾éš¾å—æ–¯åŸº</a></p>
<hr>
<h5 id="è¿‡æ»¤å™¨"><a href="#è¿‡æ»¤å™¨" class="headerlink" title="è¿‡æ»¤å™¨"></a>è¿‡æ»¤å™¨</h5><table>
<thead>
<tr>
<th align="left">è¿‡æ»¤å™¨</th>
<th align="left">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>filter</code></td>
<td align="left">æŠŠè¿‡æ»¤å™¨æ·»åŠ åˆ°åŸæŸ¥è¯¢ä¸Šï¼Œè¿”å›ä¸€ä¸ªæ–°æŸ¥è¯¢</td>
</tr>
<tr>
<td align="left"><code>filter_by</code></td>
<td align="left">æŠŠç­‰å€¼è¿‡æ»¤å™¨æ·»åŠ åˆ°åŸæŸ¥è¯¢ä¸Šï¼Œè¿”å›ä¸€ä¸ªæ–°æŸ¥è¯¢</td>
</tr>
<tr>
<td align="left"><code>limit</code></td>
<td align="left">ä½¿ç”¨æŒ‡å®šçš„å€¼é™åˆ¶è¿”å›çš„ç»“æœæ•°é‡ï¼Œè¿”å›ä¸€ä¸ªæ–°æŸ¥è¯¢</td>
</tr>
<tr>
<td align="left"><code>offset</code></td>
<td align="left">ä¾¿å®œåŸæŸ¥è¯¢è¿”å›çš„ç»“æœï¼Œ è¿”å›ä¸€ä¸ªæ–°æŸ¥è¯¢</td>
</tr>
<tr>
<td align="left"><code>order_by</code></td>
<td align="left">æ ¹æ®æŒ‡å®šæ¡ä»¶å¯¹åŸæŸ¥è¯¢ç»“æœè¿›è¡Œæ’åºï¼Œè¿”å›ä¸€ä¸ªæ–°æŸ¥è¯¢</td>
</tr>
<tr>
<td align="left"><code>group_by</code></td>
<td align="left">æ ¹æ®æŒ‡å®šæ¡ä»¶å¯¹åŸæŸ¥è¯¢ç»“æ„è¿›è¡Œåˆ†ç»„ï¼Œè¿”å›ä¸€ä¸ªæ–°æŸ¥è¯¢</td>
</tr>
</tbody></table>
<h5 id="æ‰§è¡Œå™¨"><a href="#æ‰§è¡Œå™¨" class="headerlink" title="æ‰§è¡Œå™¨"></a>æ‰§è¡Œå™¨</h5><table>
<thead>
<tr>
<th align="left">æ–¹æ³•</th>
<th align="left">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>all</code></td>
<td align="left">ä»¥åˆ—è¡¨å½¢å¼è¿”å›æŸ¥è¯¢çš„æ‰€æœ‰ç»“æœ</td>
</tr>
<tr>
<td align="left"><code>first</code></td>
<td align="left">è¿”å›æŸ¥è¯¢çš„ç¬¬ä¸€ä¸ªç»“æœï¼Œå¦‚æœæ²¡æœ‰ç»“æœï¼Œåˆ™è¿”å› None</td>
</tr>
<tr>
<td align="left"><code>first_or_404</code></td>
<td align="left">è¿”å›æŸ¥è¯¢çš„ç¬¬ä¸€ä¸ªç»“æœï¼Œå¦‚æœæ²¡æœ‰ç»“æœï¼Œåˆ™ç»ˆæ­¢è¯·æ±‚ï¼Œè¿”å› 404 é”™è¯¯è¾“å‡º</td>
</tr>
<tr>
<td align="left"><code>get</code></td>
<td align="left">è¿”å›æŒ‡å®šä¸»é”®å¯¹åº”çš„è¡Œï¼Œå¦‚æœæ²¡æœ‰å¯¹åº”çš„è¡Œï¼Œåˆ™è¿”å› None</td>
</tr>
<tr>
<td align="left"><code>get_or_404</code></td>
<td align="left">è¿”å›æŒ‡å®šä¸»é”®å¯¹åº”çš„è¡Œï¼Œå¦‚æœæ²¡æ‰¾åˆ°æŒ‡å®šçš„ä¸»é”®ï¼Œåˆ™ç»ˆæ­¢è¯·æ±‚ï¼Œè¿”å› 404 é”™è¯¯è¾“å‡º</td>
</tr>
<tr>
<td align="left"><code>count</code></td>
<td align="left">è¿”å›æŸ¥è¯¢ç»“æœçš„æ•°é‡</td>
</tr>
<tr>
<td align="left"><code>paginate</code></td>
<td align="left">è¿”å›ä¸€ä¸ª Paginate å¯¹è±¡ï¼Œå®ƒåŒ…å«æŒ‡å®šèŒƒå›´å†…çš„ç»“æœ</td>
</tr>
</tbody></table>
<hr>
<h4 id="ç®€å•ç¤ºä¾‹"><a href="#ç®€å•ç¤ºä¾‹" class="headerlink" title="ç®€å•ç¤ºä¾‹"></a>ç®€å•ç¤ºä¾‹</h4><h5 id="å…¥é—¨ç¤ºä¾‹"><a href="#å…¥é—¨ç¤ºä¾‹" class="headerlink" title="å…¥é—¨ç¤ºä¾‹"></a>å…¥é—¨ç¤ºä¾‹</h5><p>å‚è€ƒè‡ªå®˜æ–¹å…¥é—¨æ•™ç¨‹ç¤ºä¾‹ä»£ç  <a href="http://flask-sqlalchemy.pocoo.org/2.1/quickstart/" target="_blank" rel="noopener">Quickstart Flask-SQLAlchemy Documentation (2.1)</a></p>
<p><strong>flsksql.py</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># coding:utf-8</span><br><span class="line"></span><br><span class="line">from flask import Flask</span><br><span class="line">from flask_sqlalchemy import SQLAlchemy</span><br><span class="line"></span><br><span class="line">app&#x3D;Flask(__name__)</span><br><span class="line">app.config[&#39;SQLALCHEMY_DATABASE_URI&#39;]&#x3D;&#39;sqlite:&#x2F;&#x2F;&#x2F;test.db&#39;  # è¿æ¥å½“å‰é¡¹ç›®åŒç›®å½•ä¸‹çš„test.dbæ•°æ®åº“æ–‡ä»¶</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.config[&#39;SQLALCHEMY_TRACK_MODIFICATIONS&#39;]&#x3D;True</span><br><span class="line"></span><br><span class="line">db&#x3D;SQLAlchemy(app)</span><br><span class="line"></span><br><span class="line">class User(db.Model):</span><br><span class="line">	&quot;&quot;&quot;docstring for User&quot;&quot;&quot;</span><br><span class="line">	__tablename__&#x3D;&#39;users&#39;</span><br><span class="line">	id&#x3D;db.Column(db.Integer,primary_key&#x3D;True)</span><br><span class="line">	username&#x3D;db.Column(db.String(80),unique&#x3D;True)</span><br><span class="line">	email&#x3D;db.Column(db.String(64),unique&#x3D;True)</span><br><span class="line"></span><br><span class="line">	def __init__(self, username,email):</span><br><span class="line">		self.username&#x3D;username</span><br><span class="line">		self.email&#x3D;email</span><br><span class="line"></span><br><span class="line">	def __repr__(self):</span><br><span class="line">		return &#39;&lt;User %r&gt;&#39; % self.username</span><br></pre></td></tr></table></figure>

<p><strong>app.py</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># coding:utf-8</span><br><span class="line"></span><br><span class="line">from flask import Flask</span><br><span class="line">from flsksql import db</span><br><span class="line">from flsksql import User</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">	</span><br><span class="line">	# åˆå§‹åŒ–æ•°æ®åº“</span><br><span class="line">	# db.create_all()</span><br><span class="line">	</span><br><span class="line">	# æ–°å¢</span><br><span class="line">	# user1&#x3D;User(&#39;abc&#39;,&#39;abc@124.com&#39;)</span><br><span class="line">	# user2&#x3D;User(&#39;def&#39;,&#39;def@129.com&#39;)</span><br><span class="line">	# db.session.add(user1)</span><br><span class="line">	# db.session.add(user2)</span><br><span class="line">	# ä½¿ç”¨commitæäº¤æ›´æ”¹</span><br><span class="line">	# db.session.commit()</span><br><span class="line"></span><br><span class="line">	# æŸ¥è¯¢æ‰€æœ‰æ•°æ®ä¿¡æ¯</span><br><span class="line">	# users&#x3D;User.query.all()</span><br><span class="line">	# print(users)</span><br><span class="line"></span><br><span class="line">	# æ¡ä»¶æŸ¥è¯¢</span><br><span class="line">	# admin&#x3D;User.query.filter_by(username&#x3D;&#39;abc&#39;).first()</span><br><span class="line">	# print(admin)</span><br><span class="line"></span><br><span class="line">	# æ¨¡ç³ŠæŸ¥è¯¢ </span><br><span class="line">	# user2_query&#x3D;User.query.filter(User.username.endswith(&#39;f&#39;)).first()</span><br><span class="line">	# print(user2_query)</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	# åˆ é™¤</span><br><span class="line">	# u3&#x3D;User.query.first()</span><br><span class="line">	# print(u3.username)</span><br><span class="line">	# db.session.delete(u3)</span><br><span class="line">	# db.session.commit()</span><br><span class="line"></span><br><span class="line">	# æ›´æ”¹</span><br><span class="line">	# u4&#x3D;User.query.first()</span><br><span class="line">	# u4.username&#x3D;u&#39;ä¸“å‡æœ¬&#39;  # ä¸­æ–‡å¿…é¡»ä¸ºunicodeç±»å‹ï¼Œè€Œä¸æ˜¯strç±»å‹</span><br><span class="line">	# db.session.commit()</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="é€šè¿‡ä¸Šä¸‹æ–‡çš„æ–¹å¼-init-app"><a href="#é€šè¿‡ä¸Šä¸‹æ–‡çš„æ–¹å¼-init-app" class="headerlink" title="é€šè¿‡ä¸Šä¸‹æ–‡çš„æ–¹å¼-init_app()"></a>é€šè¿‡ä¸Šä¸‹æ–‡çš„æ–¹å¼-init_app()</h5><h6 id="database-pyâ€“æ•°æ®æ“ä½œæ–¹æ³•"><a href="#database-pyâ€“æ•°æ®æ“ä½œæ–¹æ³•" class="headerlink" title="database.pyâ€“æ•°æ®æ“ä½œæ–¹æ³•"></a>database.pyâ€“æ•°æ®æ“ä½œæ–¹æ³•</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># coding:utf-8</span><br><span class="line"></span><br><span class="line">from flask import Flask</span><br><span class="line">from flask_sqlalchemy import SQLAlchemy</span><br><span class="line"></span><br><span class="line">db&#x3D;SQLAlchemy()</span><br><span class="line"></span><br><span class="line">def create_app(config_name&#x3D;None):</span><br><span class="line">	app&#x3D;Flask(__name__)</span><br><span class="line"></span><br><span class="line">	# åœ¨æ­¤å¤„åŠ è½½é…ç½®æ–‡ä»¶</span><br><span class="line">	if config_name is not None:</span><br><span class="line">		# app.config.from_object()  # é»˜è®¤çš„config.py</span><br><span class="line">		app.config.from_pyfile(config_name) # é€šè¿‡é…ç½®æ–‡ä»¶åç§°åŠ è½½é…ç½®æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">	db.init_app(app)</span><br><span class="line"></span><br><span class="line">	# åœ¨æ­¤å¤„åŠ è½½è“å›¾è®¾ç½®</span><br><span class="line"></span><br><span class="line">	with app.app_context():</span><br><span class="line">		# æ·»åŠ æ•°æ®å¯¹è±¡çš„å¼•ç”¨</span><br><span class="line">		from models import *</span><br><span class="line">		# åˆå§‹åŒ–æ•°æ®åº“</span><br><span class="line">		db.create_all()</span><br><span class="line"></span><br><span class="line">	return app</span><br></pre></td></tr></table></figure>

<h6 id="models-pyâ€“Modelå®ä½“"><a href="#models-pyâ€“Modelå®ä½“" class="headerlink" title="models.pyâ€“Modelå®ä½“"></a>models.pyâ€“Modelå®ä½“</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># coding:utf-8</span><br><span class="line"></span><br><span class="line">from database import db</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class User(db.Model):</span><br><span class="line">	&quot;&quot;&quot;docstring for User&quot;&quot;&quot;</span><br><span class="line">	__tablename__&#x3D;&#39;users&#39;</span><br><span class="line">	id&#x3D;db.Column(db.Integer,primary_key&#x3D;True)</span><br><span class="line">	username&#x3D;db.Column(db.String(80))</span><br><span class="line">	email&#x3D;db.Column(db.String(64))</span><br><span class="line"></span><br><span class="line">	def __init__(self, username,email):</span><br><span class="line">		self.username&#x3D;username</span><br><span class="line">		self.email&#x3D;email</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class Address(db.Model):</span><br><span class="line">	&quot;&quot;&quot;docstring for Address&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">	id&#x3D;db.Column(db.Integer,primary_key&#x3D;True)</span><br><span class="line">	name&#x3D;db.Column(db.String(32))</span><br><span class="line">	def __init__(self, name):</span><br><span class="line">		self.name&#x3D;name</span><br></pre></td></tr></table></figure>

<h6 id="config-pyâ€“sqlé…ç½®æ–‡ä»¶"><a href="#config-pyâ€“sqlé…ç½®æ–‡ä»¶" class="headerlink" title="config.pyâ€“sqlé…ç½®æ–‡ä»¶"></a>config.pyâ€“sqlé…ç½®æ–‡ä»¶</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DEBUG&#x3D;True</span><br><span class="line">SQLALCHEMY_DATABASE_URI&#x3D;&#39;sqlite:&#x2F;&#x2F;&#x2F;testabc.db&#39;</span><br><span class="line">SQLALCHEMY_TRACK_MODIFICATIONS&#x3D;True</span><br></pre></td></tr></table></figure>

<h6 id="app-pyâ€“é¡¹ç›®"><a href="#app-pyâ€“é¡¹ç›®" class="headerlink" title="app.pyâ€“é¡¹ç›®"></a>app.pyâ€“é¡¹ç›®</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># coding:utf-8</span><br><span class="line"></span><br><span class="line">from flask import Flask</span><br><span class="line">from database import db</span><br><span class="line">from database import create_app</span><br><span class="line">from models import User,Address</span><br><span class="line"></span><br><span class="line">app&#x3D;create_app(&#39;config.py&#39;)</span><br><span class="line"></span><br><span class="line">@app.route(&#39;&#x2F;&#39;)</span><br><span class="line">def index():</span><br><span class="line">	# user1&#x3D;User(&#39;aaa&#39;,&#39;aaa@124.com&#39;)</span><br><span class="line">	# user2&#x3D;User(u&#39;é©¬äº‘&#39;,&#39;mayun@111.com&#39;)</span><br><span class="line">	add1&#x3D;Address(&#39;beijing motuoluola&#39;)</span><br><span class="line">	# db.session.add(user1)</span><br><span class="line">	db.session.add(add1)</span><br><span class="line">	db.session.commit()</span><br><span class="line">	return &quot;create complate&quot;</span><br><span class="line"></span><br><span class="line">@app.route(&#39;&#x2F;show&#39;)</span><br><span class="line">def show():</span><br><span class="line">	u&#x3D;User.query.filter(User.email.startswith(&#39;m&#39;)).first()</span><br><span class="line">	return u.username</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">	app.run()</span><br></pre></td></tr></table></figure>

<h6 id="é¡¹ç›®ç›®å½•"><a href="#é¡¹ç›®ç›®å½•" class="headerlink" title="é¡¹ç›®ç›®å½•"></a>é¡¹ç›®ç›®å½•</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">flaskdemo</span><br><span class="line">	app.py</span><br><span class="line">	database.py</span><br><span class="line">	models.py</span><br><span class="line">	config.py</span><br><span class="line">	testabc.db</span><br></pre></td></tr></table></figure>

<h6 id="init-app-ç›¸å…³å‚è€ƒ"><a href="#init-app-ç›¸å…³å‚è€ƒ" class="headerlink" title="init_app() ç›¸å…³å‚è€ƒ"></a>init_app() ç›¸å…³å‚è€ƒ</h6><ul>
<li><a href="http://blog.csdn.net/yannanxiu/article/details/53426359" target="_blank" rel="noopener">ã€Flaskã€‘Flaskå’ŒSQLAlchemyï¼šinit_app - é˜¿ç§€çš„å­¦ä¹ ç¬”è®°        - åšå®¢é¢‘é“ - CSDN.NET</a></li>
<li><a href="http://piotr.banaszkiewicz.org/blog/2012/06/29/flask-sqlalchemy-init_app/" target="_blank" rel="noopener">Flask and SQLAlchemy: init_app &middot; Blog</a></li>
<li><a href="http://flask-sqlalchemy.pocoo.org/2.1/contexts/" target="_blank" rel="noopener">Introduction into Contexts &#8212; Flask-SQLAlchemy Documentation (2.1)</a></li>
</ul>
<hr>
<h4 id="ä¸€å¯¹å¤šã€å¤šå¯¹å¤šå…³ç³»"><a href="#ä¸€å¯¹å¤šã€å¤šå¯¹å¤šå…³ç³»" class="headerlink" title="ä¸€å¯¹å¤šã€å¤šå¯¹å¤šå…³ç³»"></a>ä¸€å¯¹å¤šã€å¤šå¯¹å¤šå…³ç³»</h4><h5 id="ä¸€å¯¹å¤š"><a href="#ä¸€å¯¹å¤š" class="headerlink" title="ä¸€å¯¹å¤š"></a>ä¸€å¯¹å¤š</h5><p>å¾…å®Œå–„ã€‚</p>
<h5 id="å¤šå¯¹å¤š"><a href="#å¤šå¯¹å¤š" class="headerlink" title="å¤šå¯¹å¤š"></a>å¤šå¯¹å¤š</h5><p>å¾…å®Œå–„ã€‚</p>
<hr>
<h4 id="æ–‡ä¸­æ‰€ç”¨å„ç±»åº“ç‰ˆæœ¬"><a href="#æ–‡ä¸­æ‰€ç”¨å„ç±»åº“ç‰ˆæœ¬" class="headerlink" title="æ–‡ä¸­æ‰€ç”¨å„ç±»åº“ç‰ˆæœ¬"></a>æ–‡ä¸­æ‰€ç”¨å„ç±»åº“ç‰ˆæœ¬</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Flask&#x3D;&#x3D;0.12</span><br><span class="line">Flask-SQLAlchemy&#x3D;&#x3D;2.1</span><br><span class="line">Jinja2&#x3D;&#x3D;2.8.1</span><br><span class="line">SQLAlchemy&#x3D;&#x3D;1.1.4</span><br></pre></td></tr></table></figure>

<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="http://docs.jinkan.org/docs/flask-sqlalchemy/index.html" target="_blank" rel="noopener">Flask-SQLAlchemy &mdash; Flask-SQLAlchemy 0.16 documentationâ€“ä¸­æ–‡ç‰ˆ</a></li>
<li><a href="http://flask-sqlalchemy.pocoo.org/2.1/" target="_blank" rel="noopener">Flask-SQLAlchemy &mdash; Flask-SQLAlchemy Documentation (2.1)â€“è‹±æ–‡ç‰ˆ</a> ï¼ˆè¿™ä¸¤ä¸ªæ–‡æ¡£æ¯”å¯¹ç€å‚è€ƒï¼Œ0.16ç‰ˆä¸­æœ‰äº›æ–¹æ³•å·²ç»è¿‡æ—¶äº†ï¼Œä»£ç æŒ‰ç…§2.1çš„æ¥ï¼Œä¸­æ–‡é‡Šä¹‰å‚è€ƒ0.16ç‰ˆçš„ï¼‰</li>
<li><a href="http://dormousehole.readthedocs.io/en/latest/patterns/sqlalchemy.html" target="_blank" rel="noopener">åœ¨ Flask ä¸­ä½¿ç”¨ SQLAlchemy &mdash; Flask 0.10 documentation</a></li>
<li><a href="http://www.jianshu.com/p/a52cf3907f29" target="_blank" rel="noopener">flask-sqlalchemy ç®€å•ç¬”è®° - ç®€ä¹¦</a></li>
<li><a href="http://www.cnblogs.com/agmcs/p/4445583.html" target="_blank" rel="noopener">Flaskå­¦ä¹ è®°å½•ä¹‹Flask-SQLAlchemy - agmcs - åšå®¢å›­</a></li>
<li><a href="https://segmentfault.com/a/1190000004618621" target="_blank" rel="noopener">Flask-SQLAlchemy å­¦ä¹ æ€»ç»“ - python å­¦ä¹  - SegmentFault</a></li>
<li><a href="https://segmentfault.com/a/1190000002362175" target="_blank" rel="noopener">Flask Web Development â€”â€” æ•°æ®åº“ï¼ˆä¸Šï¼‰ - young - SegmentFault</a> <strong>è¿™ä¸ªé…ç½®è¯´æ˜æ¯”è¾ƒè¯¦ç»†</strong></li>
<li><a href="http://www.cnblogs.com/cjnmy36723/p/5201551.html" target="_blank" rel="noopener">ä½¿ç”¨ Flask æ¡†æ¶å†™ç”¨æˆ·ç™»å½•åŠŸèƒ½çš„Demoæ—¶ç¢°åˆ°çš„å„ç§å‘ï¼ˆä¸€ï¼‰â€”â€”åˆ›å»ºåº”ç”¨ - cjnmy36723 - åšå®¢å›­</a></li>
<li><a href="https://wizardforcel.gitbooks.io/flask-extension-docs/content/flask-sqlalchemy.html" target="_blank" rel="noopener">Flask-SQLAlchemyâ€“GitBook</a></li>
</ul>
]]></content>
      <tags>
        <tag>Flask</tag>
        <tag>SQLAlchemy</tag>
      </tags>
  </entry>
  <entry>
    <title>Pythonä¸‹æ“ä½œSQLAlchemy</title>
    <url>/2017/01/06/use-sqlalchemy-by-python/</url>
    <content><![CDATA[<p>Pythonä¸­é€šè¿‡SQLAlchemyæ“ä½œæ•°æ®åº“ã€‚</p>
<h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><p>é€šè¿‡pipå®‰è£…SQLAlchemy</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ pip install sqlalchemy</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="åˆå§‹åŒ–æ•°æ®åº“è¿æ¥"><a href="#åˆå§‹åŒ–æ•°æ®åº“è¿æ¥" class="headerlink" title="åˆå§‹åŒ–æ•°æ®åº“è¿æ¥"></a>åˆå§‹åŒ–æ•°æ®åº“è¿æ¥</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># åˆå§‹åŒ–æ•°æ®åº“è¿æ¥</span><br><span class="line">engine&#x3D;create_engine(&#39;sqlite:&#x2F;&#x2F;&#x2F;.&#x2F;cnblogblog.db&#39;,echo&#x3D;True)</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼Œ<code>echo=True</code> è¡¨ç¤º æ˜¯å¦å°†æ‰§è¡Œè¿‡ç¨‹ä¸­çš„sqlè¯­å¥è¿›è¡Œè¾“å‡ºæ˜¾ç¤º</p>
<h5 id="å¸¸ç”¨æ•°æ®åº“è¿æ¥å†™æ³•"><a href="#å¸¸ç”¨æ•°æ®åº“è¿æ¥å†™æ³•" class="headerlink" title="å¸¸ç”¨æ•°æ®åº“è¿æ¥å†™æ³•"></a>å¸¸ç”¨æ•°æ®åº“è¿æ¥å†™æ³•</h5><h6 id="æ•´ç†å¸¸ç”¨-ç›´æ¥æ‹·è´"><a href="#æ•´ç†å¸¸ç”¨-ç›´æ¥æ‹·è´" class="headerlink" title="æ•´ç†å¸¸ç”¨-ç›´æ¥æ‹·è´"></a>æ•´ç†å¸¸ç”¨-ç›´æ¥æ‹·è´</h6><ol>
<li>sqliteå†…å­˜ï¼š<code>engine = create_engine(&#39;sqlite:///:memory:&#39;, echo=True)</code></li>
<li>sqliteæ–‡ä»¶: <code>engine=create_engine(&#39;sqlite:///./cnblogblog.db&#39;,echo=True)</code></li>
<li>mysql+pymysqlï¼š<code>engine = create_engine(&quot;mysql+pymysql://username:password@hostname:port/dbname&quot;,echo=True)</code></li>
<li>mssql+pymssql: <code>engine = create_engine(&#39;mssql+pymssql://username:password@hostname:port/dbname&#39;,echo=True)</code></li>
</ol>
<hr>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; from sqlalchemy import create_engine</span><br></pre></td></tr></table></figure>

<p><code>create_engine()</code> ç”¨æ¥åˆå§‹åŒ–æ•°æ®åº“è¿æ¥ã€‚SQLAlchemyç”¨ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºè¿æ¥ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#39;æ•°æ®åº“ç±»å‹+æ•°æ®åº“é©±åŠ¨åç§°:&#x2F;&#x2F;ç”¨æˆ·å:å£ä»¤@æœºå™¨åœ°å€:ç«¯å£å·&#x2F;æ•°æ®åº“å&#39;</span><br></pre></td></tr></table></figure>


<ol>
<li>sqlite å†…å­˜ ç¤ºä¾‹ <code>engine = create_engine(&#39;sqlite:///:memory:&#39;, echo=True)</code></li>
<li>sqlite æ–‡ä»¶ ç¤ºä¾‹ <code>engine=create_engine(&#39;sqlite:///./cnblogblog.db&#39;,echo=True)</code></li>
<li>mysqlé€šç”¨ <code>engine = create_engine(&#39;mysql+mysqlconnector://root:password@localhost:3306/test&#39;)</code></li>
<li>mysql+pymysql ç¤ºä¾‹ <code>engine = create_engine(&quot;mysql+pymysql://username:password@hostname/dbname&quot;, encoding=&quot;utf8&quot;, echo=True)</code></li>
<li>postgresql ç¤ºä¾‹ <code>engine = create_engine(&#39;postgresql://scott:tiger@localhost:5432/mydatabase&#39;)</code></li>
</ol>
<p><strong>PostgreSQL</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># default</span><br><span class="line">engine &#x3D; create_engine(&#39;postgresql:&#x2F;&#x2F;scott:tiger@localhost&#x2F;mydatabase&#39;)</span><br><span class="line"></span><br><span class="line"># psycopg2</span><br><span class="line">engine &#x3D; create_engine(&#39;postgresql+psycopg2:&#x2F;&#x2F;scott:tiger@localhost&#x2F;mydatabase&#39;)</span><br><span class="line"></span><br><span class="line"># pg8000</span><br><span class="line">engine &#x3D; create_engine(&#39;postgresql+pg8000:&#x2F;&#x2F;scott:tiger@localhost&#x2F;mydatabase&#39;)</span><br></pre></td></tr></table></figure>

<p><strong>MySQL</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># default</span><br><span class="line">engine &#x3D; create_engine(&#39;mysql:&#x2F;&#x2F;scott:tiger@localhost&#x2F;foo&#39;)</span><br><span class="line"></span><br><span class="line"># mysql-python</span><br><span class="line">engine &#x3D; create_engine(&#39;mysql+mysqldb:&#x2F;&#x2F;scott:tiger@localhost&#x2F;foo&#39;)</span><br><span class="line"></span><br><span class="line"># MySQL-connector-python</span><br><span class="line">engine &#x3D; create_engine(&#39;mysql+mysqlconnector:&#x2F;&#x2F;scott:tiger@localhost&#x2F;foo&#39;)</span><br><span class="line"></span><br><span class="line"># OurSQL</span><br><span class="line">engine &#x3D; create_engine(&#39;mysql+oursql:&#x2F;&#x2F;scott:tiger@localhost&#x2F;foo&#39;)</span><br></pre></td></tr></table></figure>

<p><strong>Oracle</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">engine &#x3D; create_engine(&#39;oracle:&#x2F;&#x2F;scott:tiger@127.0.0.1:1521&#x2F;sidname&#39;)</span><br><span class="line"></span><br><span class="line">engine &#x3D; create_engine(&#39;oracle+cx_oracle:&#x2F;&#x2F;scott:tiger@tnsname&#39;)</span><br></pre></td></tr></table></figure>

<p><strong>MS SQL</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># pyodbc</span><br><span class="line">engine &#x3D; create_engine(&#39;mssql+pyodbc:&#x2F;&#x2F;scott:tiger@mydsn&#39;)</span><br><span class="line"></span><br><span class="line"># pymssql</span><br><span class="line">engine &#x3D; create_engine(&#39;mssql+pymssql:&#x2F;&#x2F;scott:tiger@hostname:port&#x2F;dbname&#39;)</span><br></pre></td></tr></table></figure>

<p><strong>SQLite</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># sqlite:&#x2F;&#x2F;&lt;nohostname&gt;&#x2F;&lt;path&gt;</span><br><span class="line"># where &lt;path&gt; is relative:</span><br><span class="line">engine &#x3D; create_engine(&#39;sqlite:&#x2F;&#x2F;&#x2F;foo.db&#39;)</span><br><span class="line"></span><br><span class="line">#Unix&#x2F;Mac - 4 initial slashes in total</span><br><span class="line">engine &#x3D; create_engine(&#39;sqlite:&#x2F;&#x2F;&#x2F;&#x2F;absolute&#x2F;path&#x2F;to&#x2F;foo.db&#39;)</span><br><span class="line">#Windows</span><br><span class="line">engine &#x3D; create_engine(&#39;sqlite:&#x2F;&#x2F;&#x2F;C:\\path\\to\\foo.db&#39;)</span><br><span class="line">#Windows alternative using raw string</span><br><span class="line">engine &#x3D; create_engine(r&#39;sqlite:&#x2F;&#x2F;&#x2F;C:\path\to\foo.db&#39;)</span><br><span class="line"></span><br><span class="line">#memory</span><br><span class="line">engine &#x3D; create_engine(&#39;sqlite:&#x2F;&#x2F;&#39;)</span><br></pre></td></tr></table></figure>

<p>è¯¦è§å®˜ç½‘æ–‡æ¡£ï¼š<a href="http://docs.sqlalchemy.org/en/latest/core/engines.html" target="_blank" rel="noopener">Engine Configuration</a></p>
<hr>
<h5 id="å¦‚ä½•è®¾ç½®åˆå§‹åŒ–è¡¨ç»“æ„æ—¶å­—æ®µçš„-ä¸»é”®-è‡ªå¢-ç­‰å±æ€§"><a href="#å¦‚ä½•è®¾ç½®åˆå§‹åŒ–è¡¨ç»“æ„æ—¶å­—æ®µçš„-ä¸»é”®-è‡ªå¢-ç­‰å±æ€§" class="headerlink" title="å¦‚ä½•è®¾ç½®åˆå§‹åŒ–è¡¨ç»“æ„æ—¶å­—æ®µçš„ ä¸»é”® è‡ªå¢ ç­‰å±æ€§"></a>å¦‚ä½•è®¾ç½®åˆå§‹åŒ–è¡¨ç»“æ„æ—¶å­—æ®µçš„ <code>ä¸»é”®</code> <code>è‡ªå¢</code> ç­‰å±æ€§</h5><p>sqliteä¸­å¦‚æœè®¾ç½®ä¸»é”®è‡ªå¢ï¼Œè¿˜éœ€è¦æ·»åŠ  <code>__table_args__</code> å‚æ•°ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Person(Base):</span><br><span class="line">    __tablename__ &#x3D; &quot;person&quot;</span><br><span class="line">    __table_args__ &#x3D; &#123;&#39;sqlite_autoincrement&#39;: True&#125;</span><br><span class="line"></span><br><span class="line">	id&#x3D;Column(Integer,primary_key&#x3D;True,autoincrement&#x3D;True)</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="http://stackoverflow.com/questions/4567574/pylons-sqlite-and-autoincrementing-fields" target="_blank" rel="noopener">sqlalchemy - Pylons, SQlite and autoincrementing fields - Stack Overflow</a></li>
</ul>
<h5 id="è®¾ç½®è¡¨ç»“æ„çš„-ä¸å¯ç©º-é»˜è®¤å€¼-å”¯ä¸€-ç­‰å±æ€§"><a href="#è®¾ç½®è¡¨ç»“æ„çš„-ä¸å¯ç©º-é»˜è®¤å€¼-å”¯ä¸€-ç­‰å±æ€§" class="headerlink" title="è®¾ç½®è¡¨ç»“æ„çš„ ä¸å¯ç©º  é»˜è®¤å€¼  å”¯ä¸€ ç­‰å±æ€§"></a>è®¾ç½®è¡¨ç»“æ„çš„ <code>ä¸å¯ç©º</code>  <code>é»˜è®¤å€¼</code>  <code>å”¯ä¸€</code> ç­‰å±æ€§</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># å®šä¹‰Userå¯¹è±¡</span><br><span class="line">class User(Base):</span><br><span class="line">	&quot;&quot;&quot;Users table&quot;&quot;&quot;</span><br><span class="line">	# è¡¨çš„åå­—</span><br><span class="line">	__tablename__&#x3D;&#39;users&#39;</span><br><span class="line">	__table_args__&#x3D;&#123;&#39;sqlite_autoincrement&#39;: True&#125;</span><br><span class="line">	# è¡¨ç»“æ„</span><br><span class="line">	id&#x3D;Column(Integer,primary_key&#x3D;True,autoincrement&#x3D;True)</span><br><span class="line">	name&#x3D;Column(String(32),nullable&#x3D;False)</span><br><span class="line">	age&#x3D;Column(Integer,default&#x3D;0)</span><br><span class="line">	password&#x3D;Column(String(64),unique&#x3D;True)</span><br></pre></td></tr></table></figure>

<h5 id="æ’å…¥ä¸­æ–‡æ•°æ®"><a href="#æ’å…¥ä¸­æ–‡æ•°æ®" class="headerlink" title="æ’å…¥ä¸­æ–‡æ•°æ®"></a>æ’å…¥ä¸­æ–‡æ•°æ®</h5><p>ç›´æ¥æ’å…¥ä¸­æ–‡æ•°æ®ï¼Œå¯èƒ½ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ä¿¡æ¯ï¼š</p>
<blockquote>
<p>sqlalchemy.exc.ProgrammingError: (sqlite3.ProgrammingError) You must not use 8-bit bytestrings unless you use a text_factory that can interpret 8-bit bytestrings (like text_factory = str). It is highly recommended that you instead just switch your application to Unicode strings.</p>
</blockquote>
<p>ç›¸åº”çš„è§£å†³æ–¹æ³•æ˜¯ï¼šå°† <code>str</code> ç±»å‹çš„ä¸­æ–‡è½¬æˆ <code>unicode</code> ç±»å‹å†æ’å…¥å³å¯ã€‚</p>
<p>ç¤ºä¾‹ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æ·»åŠ ä¸€æ¡æ•°æ®</span><br><span class="line">def addUserForZhCn():</span><br><span class="line">	session&#x3D;DBSession()</span><br><span class="line">	new_user&#x3D;User(name&#x3D;u&#39;å…³ç¾½2&#39;,password&#x3D;&#39;12322233&#39;)</span><br><span class="line">	session.add(new_user)</span><br><span class="line">	session.commit()</span><br><span class="line">	session.close()</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒè‡ªï¼š</p>
<blockquote>
<p>Python å®˜æ–¹æ–‡æ¡£ä¸­ä¸å»ºè®®ä½¿ç”¨è¿™ç§æ–¹å¼ï¼šuse of sys.setdefaultencoding() has always been discouragedï¼Œåœ¨æ–‡ä»¶å¤´å†™ä¸Š # coding: utf-8 ä¹‹ç±»çš„æ³¨é‡Šå¹¶ä¸”åœ¨ Unicode å­—ç¬¦ä¸²å‰åŠ ä¸Š <code>u</code> å°±å¯ä»¥äº†ã€‚</p>
</blockquote>
<p><a href="http://python-china.org/t/1148" target="_blank" rel="noopener">Flask Sqlalchemyä¸­æ–‡æ¨¡ç³Šæœç´¢é”™è¯¯</a></p>
<hr>
<h5 id="Mysql-æŒ‡å®šè¡¨çš„å¼•æ“å’Œç¼–ç æ ¼å¼"><a href="#Mysql-æŒ‡å®šè¡¨çš„å¼•æ“å’Œç¼–ç æ ¼å¼" class="headerlink" title="Mysql æŒ‡å®šè¡¨çš„å¼•æ“å’Œç¼–ç æ ¼å¼"></a>Mysql æŒ‡å®šè¡¨çš„å¼•æ“å’Œç¼–ç æ ¼å¼</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">from sqlalchemy import Column, Integer, String</span><br><span class="line"></span><br><span class="line">class User(BaseModel):</span><br><span class="line">	__tablename__&#x3D;&#39;users&#39;</span><br><span class="line">	__table_args__&#x3D;&#123;</span><br><span class="line">		&quot;mysql_engine&quot;:&quot;InnoDB&quot;,   # è¡¨çš„å¼•æ“</span><br><span class="line">		&quot;mysql_charset&quot;:&quot;utf8&quot;   # è¡¨çš„ç¼–ç æ ¼å¼</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	id&#x3D;Column(&quot;id&quot;,Integer,primary_key&#x3D;True,autoincrement&#x3D;True)</span><br><span class="line">	name&#x3D;Column(&quot;name&quot;,String(50),nullable&#x3D;False)</span><br><span class="line">	age&#x3D;Column(&quot;age&quot;,Integer,default&#x3D;0)</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="å¦‚æœè®°å½•å­˜åœ¨åˆ™ä¿®æ”¹ï¼Œä¸å­˜åœ¨åˆ™æ·»åŠ "><a href="#å¦‚æœè®°å½•å­˜åœ¨åˆ™ä¿®æ”¹ï¼Œä¸å­˜åœ¨åˆ™æ·»åŠ " class="headerlink" title="å¦‚æœè®°å½•å­˜åœ¨åˆ™ä¿®æ”¹ï¼Œä¸å­˜åœ¨åˆ™æ·»åŠ "></a>å¦‚æœè®°å½•å­˜åœ¨åˆ™ä¿®æ”¹ï¼Œä¸å­˜åœ¨åˆ™æ·»åŠ </h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">session.merge()</span><br></pre></td></tr></table></figure>

<h5 id="æ¨¡å‹çš„å±æ€§åç§°å’Œè¡¨çš„å­—æ®µåç§°ä¸ä¸€è‡´"><a href="#æ¨¡å‹çš„å±æ€§åç§°å’Œè¡¨çš„å­—æ®µåç§°ä¸ä¸€è‡´" class="headerlink" title="æ¨¡å‹çš„å±æ€§åç§°å’Œè¡¨çš„å­—æ®µåç§°ä¸ä¸€è‡´"></a>æ¨¡å‹çš„å±æ€§åç§°å’Œè¡¨çš„å­—æ®µåç§°ä¸ä¸€è‡´</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">id&#x3D;Column(&quot;id&quot;,Integer,primary_key&#x3D;True,autoincrement&#x3D;True)</span><br><span class="line">name&#x3D;Column(&quot;name&quot;,String(50),nullable&#x3D;False)</span><br></pre></td></tr></table></figure>

<h5 id="å¢åˆ æ”¹-æŸ¥è¯¢"><a href="#å¢åˆ æ”¹-æŸ¥è¯¢" class="headerlink" title="å¢åˆ æ”¹ æŸ¥è¯¢"></a>å¢åˆ æ”¹ æŸ¥è¯¢</h5><p>å¢åˆ æ”¹éœ€è¦ <code>commit</code> æ“ä½œ :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">session&#x3D;DBSession()</span><br><span class="line">duser&#x3D;session.query(User).filter(User.id&#x3D;&#x3D;2).delete()</span><br><span class="line">session.commit()</span><br><span class="line">session.close()</span><br></pre></td></tr></table></figure>

<p>æŸ¥è¯¢ä¸éœ€è¦ <code>commit</code> æ“ä½œ: </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">session&#x3D;DBSession()</span><br><span class="line">quser&#x3D;session.query(User).filter(User.id&#x3D;&#x3D;4).one()</span><br><span class="line">print(&#39;name:&#39;,quser.name)</span><br><span class="line">session.close()</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="first-å’Œ-one-çš„åŒºåˆ«"><a href="#first-å’Œ-one-çš„åŒºåˆ«" class="headerlink" title="first() å’Œ one() çš„åŒºåˆ«"></a>first() å’Œ one() çš„åŒºåˆ«</h5><p>query.first()ï¼šè¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ <br>query.one()æœ‰ä¸”åªæœ‰ä¸€ä¸ªå…ƒç´ æ—¶æ‰æ­£ç¡®è¿”å›</p>
<p>first()æ–¹æ³•é™åˆ¶å¹¶ä»…ä½œä¸ºæ ‡é‡è¿”å›ç»“æœé›†çš„ç¬¬ä¸€æ¡è®°å½•</p>
<p>one()æ–¹æ³•ï¼Œå®Œæ•´çš„æå–æ‰€æœ‰çš„è®°å½•è¡Œï¼Œå¹¶ä¸”å¦‚æœæ²¡æœ‰æ˜ç¡®çš„ä¸€æ¡è®°å½•è¡Œ(æ²¡æœ‰æ‰¾åˆ°è¿™æ¡è®°å½•)æˆ–è€…ç»“æœä¸­å­˜åœ¨å¤šæ¡è®°å½•è¡Œï¼Œå°†ä¼šå¼•å‘é”™è¯¯å¼‚å¸¸NoResultFoundæˆ–è€…MultipleResultsFoundã€‚</p>
<p>å½“æ²¡æœ‰æ•°æ®è¡Œè¿”å›æ—¶ï¼Œä½¿ç”¨ <code>one()</code> æ–¹æ³•ä¼šæŠ¥é”™ï¼Œå¯ä»¥ä½¿ç”¨ <code>one_or_none()</code> æ–¹æ³•æ¥ä»£æ›¿ï¼Œå½“æ²¡æœ‰æ•°æ®æ—¶ï¼Œä¼šè¿”å› <code>None</code> è€Œä¸æ˜¯å¼‚å¸¸ã€‚</p>
<hr>
<h5 id="æ‰§è¡Œsqlè¯­å¥"><a href="#æ‰§è¡Œsqlè¯­å¥" class="headerlink" title="æ‰§è¡Œsqlè¯­å¥"></a>æ‰§è¡Œsqlè¯­å¥</h5><p>ç»‘å®šå‚æ•°ä¹Ÿå¯ä»¥ç”¨åŸºäºå­—ç¬¦ä¸²çš„SQLæŒ‡æ´¾ï¼Œä½¿ç”¨å†’å·æ¥æ ‡è®°æ›¿ä»£å‚æ•°ï¼Œç„¶åå†ä½¿ç”¨params()æ–¹æ³•æŒ‡å®šç›¸åº”çš„å€¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">session.query(User).filter(&quot;id&lt;:value and name&#x3D;:name&quot;).\</span><br><span class="line">params(value&#x3D;224, name&#x3D;&#39;fred&#39;).order_by(User.id).one()</span><br></pre></td></tr></table></figure>

<p><strong>execute() æ–¹æ³•</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">s&#x3D;DBSession()</span><br><span class="line"># ä¸èƒ½ç”¨ &#96;?&#96; çš„æ–¹å¼æ¥ä¼ é€’å‚æ•° è¦ç”¨ &#96;:param&#96; çš„å½¢å¼æ¥æŒ‡å®šå‚æ•°</span><br><span class="line"># s.execute(&#39;INSERT INTO users (name, age, password) VALUES (?, ?, ?)&#39;,(&#39;bigpang&#39;,2,&#39;1122121&#39;))  </span><br><span class="line"># è¿™æ ·æ‰§è¡ŒæŠ¥é”™ </span><br><span class="line"></span><br><span class="line"># s.execute(&#39;INSERT INTO users (name, age, password) VALUES (:aa, :bb, :cc)&#39;,(&#123;&#39;aa&#39;:&#39;bigpang2&#39;,&#39;bb&#39;:22,&#39;cc&#39;:&#39;998&#39;&#125;))</span><br><span class="line"># s.commit()</span><br><span class="line"># è¿™æ ·æ‰§è¡ŒæˆåŠŸ</span><br><span class="line"></span><br><span class="line">res&#x3D;s.execute(&#39;select * from users where age&#x3D;:aaa&#39;,&#123;&#39;aaa&#39;:4&#125;)</span><br><span class="line"># print(res[&#39;name&#39;])  # é”™è¯¯</span><br><span class="line"># print(res.name)    # é”™è¯¯</span><br><span class="line"># print(type(res))   # é”™è¯¯</span><br><span class="line">for r in res:</span><br><span class="line">	print(r[&#39;name&#39;])</span><br><span class="line">	</span><br><span class="line">s.close()</span><br></pre></td></tr></table></figure>

<p>å¯å‚è€ƒï¼š<a href="http://stackoverflow.com/questions/17972020/how-to-execute-raw-sql-in-sqlalchemy-flask-app" target="_blank" rel="noopener">python - How to execute raw SQL in SQLAlchemy-flask app - Stack Overflow</a></p>
<hr>
<h5 id="æ‰§è¡Œsqlè¯­å¥-é«˜çº§"><a href="#æ‰§è¡Œsqlè¯­å¥-é«˜çº§" class="headerlink" title="æ‰§è¡Œsqlè¯­å¥ é«˜çº§"></a>æ‰§è¡Œsqlè¯­å¥ é«˜çº§</h5><ul>
<li>æ‰§è¡Œsqlè¯­å¥ï¼Œå¯ä»¥ä½¿ç”¨ä¼ ç»Ÿçš„ <code>connection</code> æ–¹å¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>session</code> æ–¹å¼</li>
<li>sqlalchemyä¸‹çš„ä¼ ç»Ÿconnectionæ–¹å¼ï¼Œæ‰§è¡Œsqlè¯­å¥æ—¶ä¸éœ€è¦ <code>cursor</code> å…‰æ ‡ï¼Œæ‰§è¡Œå¢åˆ æ”¹ç›´æ¥ç”Ÿæ•ˆï¼Œæ‰§è¡Œsqlè¯­å¥ä¸éœ€è¦ <code>commit</code> æ“ä½œã€‚</li>
<li>sqlalchemyä¸‹çš„ä¼ ç»Ÿconnectionæ–¹å¼ï¼Œå‚æ•°å½¢å¼ä¸ä¼ ç»Ÿæ–¹å¼ç›¸åŒï¼Œä½¿ç”¨ <code>?</code> å ä½ï¼Œå…ƒç¥–å½¢å¼ä¼ å€¼</li>
<li>sqlalchemyä¸‹çš„sessionæ–¹å¼ï¼Œæ‰§è¡Œå¢åˆ æ”¹éœ€è¦ <code>commit</code> æ“ä½œã€‚</li>
<li>sqlalchemyä¸‹çš„sessionæ–¹å¼ï¼Œå‚æ•°å½¢å¼ä¸º dict, åœ¨sqlè¯­å¥ä¸­ä½¿ç”¨ <code>:key</code> å ä½ï¼Œdictå½¢å¼ä¼ å€¼</li>
</ul>
<hr>
<h4 id="ç¤ºä¾‹ä»£ç "><a href="#ç¤ºä¾‹ä»£ç " class="headerlink" title="ç¤ºä¾‹ä»£ç "></a>ç¤ºä¾‹ä»£ç </h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># **ä¼ ç»Ÿ connectionæ–¹å¼**</span><br><span class="line"># åˆ›å»ºä¸€ä¸ªconnectionå¯¹è±¡ï¼Œä½¿ç”¨æ–¹æ³•ä¸è°ƒç”¨pythonè‡ªå¸¦çš„sqliteä½¿ç”¨æ–¹å¼ç±»ä¼¼</span><br><span class="line"># ä½¿ç”¨with æ¥åˆ›å»º connï¼Œä¸éœ€è¦æ˜¾ç¤ºæ‰§è¡Œå…³é—­è¿æ¥</span><br><span class="line"># with engine.connect() as conn:</span><br><span class="line"># 	res&#x3D;conn.execute(&#39;select * from users&#39;)</span><br><span class="line"># 	data&#x3D;res.fetchone()</span><br><span class="line"># 	print(&#39;user is %s&#39; %data[1])</span><br><span class="line"></span><br><span class="line"># ä¸pythonè‡ªå¸¦çš„sqliteä¸åŒï¼Œè¿™é‡Œä¸éœ€è¦ cursor å…‰æ ‡ï¼Œæ‰§è¡Œsqlè¯­å¥ä¸éœ€è¦commitã€‚å¦‚æœæ˜¯å¢åˆ æ”¹ï¼Œåˆ™ç›´æ¥ç”Ÿæ•ˆï¼Œä¹Ÿä¸éœ€è¦commit.</span><br><span class="line"></span><br><span class="line"># **ä¼ ç»Ÿ connection äº‹åŠ¡**</span><br><span class="line">with engine.connect() as conn:</span><br><span class="line">	trans&#x3D;conn.begin()</span><br><span class="line">	try:</span><br><span class="line">		r1&#x3D;conn.execute(&quot;select * from users&quot;)</span><br><span class="line">		print(r1.fetchone()[1])</span><br><span class="line">		r2&#x3D;conn.execute(&quot;insert into users (name,age,password) values (?,?,?)&quot;,(&#39;tang&#39;,5,&#39;133444&#39;))</span><br><span class="line">		trans.commit()</span><br><span class="line">	except:</span><br><span class="line">		trans.rollback()</span><br><span class="line">		raise</span><br><span class="line"></span><br><span class="line"># **session**</span><br><span class="line">session&#x3D;DBSession()</span><br><span class="line"></span><br><span class="line">session.execute(&#39;select * from users&#39;)</span><br><span class="line">session.execute(&#39;insert into users (name,age,password) values (:name,:age,:password)&#39;,&#123;&quot;name&quot;:&#39;dayuzhishui&#39;,&#39;age&#39;:6,&#39;password&#39;:&#39;887&#39;&#125;)</span><br><span class="line"># æ³¨æ„å‚æ•°ä½¿ç”¨dictï¼Œå¹¶åœ¨sqlè¯­å¥ä¸­ä½¿ç”¨:keyå ä½</span><br><span class="line"></span><br><span class="line"># å¦‚æœæ˜¯å¢åˆ æ”¹ï¼Œéœ€è¦ commit</span><br><span class="line">session.commit()</span><br><span class="line"># ç”¨å®Œè®°å¾—å…³é—­ï¼Œä¹Ÿå¯ä»¥ç”¨ with</span><br><span class="line">session.close()</span><br></pre></td></tr></table></figure>

<p>è¯¦æƒ…å¯è§ï¼š<a href="https://segmentfault.com/a/1190000006949536" target="_blank" rel="noopener">sqlalchemyå­¦ä¹ ç¬”è®° - pythonå­¦ä¹ ç¬”è®° - SegmentFault</a></p>
<hr>
<h4 id="å®Œæ•´æµ‹è¯•ä»£ç "><a href="#å®Œæ•´æµ‹è¯•ä»£ç " class="headerlink" title="å®Œæ•´æµ‹è¯•ä»£ç "></a>å®Œæ•´æµ‹è¯•ä»£ç </h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># coding:utf-8</span><br><span class="line"></span><br><span class="line">from sqlalchemy import create_engine</span><br><span class="line"></span><br><span class="line">from sqlalchemy.ext.declarative import declarative_base</span><br><span class="line"></span><br><span class="line">from sqlalchemy import Column, Integer, String</span><br><span class="line"></span><br><span class="line">from sqlalchemy.orm import sessionmaker</span><br><span class="line"></span><br><span class="line"># ***************************</span><br><span class="line"></span><br><span class="line"># åˆå§‹åŒ–æ•°æ®åº“è¿æ¥</span><br><span class="line">engine&#x3D;create_engine(&#39;sqlite:&#x2F;&#x2F;&#x2F;.&#x2F;cnblogblog.db&#39;,echo&#x3D;True)</span><br><span class="line"></span><br><span class="line"># åˆ›å»ºå¯¹è±¡çš„åŸºç±»</span><br><span class="line">Base&#x3D;declarative_base()</span><br><span class="line"># åˆ›å»ºä¼šè¯ç±»</span><br><span class="line">DBSession&#x3D;sessionmaker(bind&#x3D;engine)</span><br><span class="line"></span><br><span class="line"># ******************</span><br><span class="line"></span><br><span class="line"># å®šä¹‰Userå¯¹è±¡</span><br><span class="line">class User(Base):</span><br><span class="line">	&quot;&quot;&quot;Users table&quot;&quot;&quot;</span><br><span class="line">	# è¡¨çš„åå­—</span><br><span class="line">	__tablename__&#x3D;&#39;users&#39;</span><br><span class="line">	__table_args__&#x3D;&#123;&#39;sqlite_autoincrement&#39;: True&#125;</span><br><span class="line">	# è¡¨ç»“æ„</span><br><span class="line">	id&#x3D;Column(Integer,primary_key&#x3D;True,autoincrement&#x3D;True)</span><br><span class="line">	name&#x3D;Column(String(32),nullable&#x3D;False)</span><br><span class="line">	age&#x3D;Column(Integer,default&#x3D;0)</span><br><span class="line">	password&#x3D;Column(String(64),unique&#x3D;True)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class Blog(Base):</span><br><span class="line">	&quot;&quot;&quot;docstring for Blog&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">	__tablename__&#x3D;&#39;blogs&#39;</span><br><span class="line"></span><br><span class="line">	id&#x3D;Column(Integer,primary_key&#x3D;True)</span><br><span class="line">	title&#x3D;Column(String(100))</span><br><span class="line">	desc&#x3D;Column(String(500))</span><br><span class="line"></span><br><span class="line">class Tips(Base):</span><br><span class="line">	&quot;&quot;&quot;docstring for Tips&quot;&quot;&quot;</span><br><span class="line">	</span><br><span class="line">	__tablename__&#x3D;&#39;tips&#39;</span><br><span class="line">		</span><br><span class="line">	id&#x3D;Column(Integer,primary_key&#x3D;True)</span><br><span class="line">	name&#x3D;Column(String(32))</span><br><span class="line"></span><br><span class="line"># ***********************</span><br><span class="line"></span><br><span class="line"># æ·»åŠ ä¸€æ¡æ•°æ®</span><br><span class="line">def newUser():</span><br><span class="line">	# åˆ›å»ºä¼šè¯å¯¹è±¡</span><br><span class="line">	session&#x3D;DBSession()</span><br><span class="line"></span><br><span class="line">	new_user&#x3D;User(name&#x3D;&#39;Jery&#39;,password&#x3D;&#39;123&#39;)</span><br><span class="line"></span><br><span class="line">	session.add(new_user)</span><br><span class="line"></span><br><span class="line">	session.commit()</span><br><span class="line">	session.close()</span><br><span class="line"></span><br><span class="line"># æ·»åŠ ä¸€æ¡æ•°æ®</span><br><span class="line">def addUserForZhCn():</span><br><span class="line">	session&#x3D;DBSession()</span><br><span class="line">	new_user&#x3D;User(name&#x3D;u&#39;å…³ç¾½2&#39;,password&#x3D;&#39;12322233&#39;)</span><br><span class="line">	session.add(new_user)</span><br><span class="line">	session.commit()</span><br><span class="line">	session.close()</span><br><span class="line"></span><br><span class="line"># æ–°å¢å¤šæ¡æ•°æ®</span><br><span class="line">def addmoreUser():</span><br><span class="line">	session&#x3D;DBSession()</span><br><span class="line">	session.add_all([</span><br><span class="line">		User(name&#x3D;&#39;guanyu&#39;,age&#x3D;4,password&#x3D;&#39;11111&#39;),</span><br><span class="line">		User(name&#x3D;&#39;zhangfei&#39;,password&#x3D;&#39;2233&#39;),</span><br><span class="line">		User(name&#x3D;&#39;zhenji&#39;,password&#x3D;&#39;44556&#39;)</span><br><span class="line">		])</span><br><span class="line">	session.commit()</span><br><span class="line">	session.close()</span><br><span class="line"></span><br><span class="line"># æŸ¥è¯¢</span><br><span class="line">def queryUser():</span><br><span class="line">	session&#x3D;DBSession()</span><br><span class="line">	quser&#x3D;session.query(User).filter(User.id&#x3D;&#x3D;4).one()</span><br><span class="line">	print(&#39;name:&#39;,quser.name)</span><br><span class="line">	session.close()</span><br><span class="line"></span><br><span class="line"># åˆ é™¤</span><br><span class="line">def deleteUser():</span><br><span class="line">	session&#x3D;DBSession()</span><br><span class="line">	duser&#x3D;session.query(User).filter(User.id&#x3D;&#x3D;2).delete()</span><br><span class="line">	session.commit()</span><br><span class="line">	session.close()</span><br><span class="line"></span><br><span class="line"># æ‰§è¡Œsqlè¯­å¥</span><br><span class="line">def SQlUser():</span><br><span class="line">	s&#x3D;DBSession()</span><br><span class="line">	# ä¸èƒ½ç”¨ &#96;?&#96; çš„æ–¹å¼æ¥ä¼ é€’å‚æ•° è¦ç”¨ &#96;:param&#96; çš„å½¢å¼æ¥æŒ‡å®šå‚æ•°</span><br><span class="line">	# s.execute(&#39;INSERT INTO users (name, age, password) VALUES (?, ?, ?)&#39;,(&#39;bigpang&#39;,2,&#39;1122121&#39;))  </span><br><span class="line">	# è¿™æ ·æ‰§è¡ŒæŠ¥é”™ </span><br><span class="line">	</span><br><span class="line">	# s.execute(&#39;INSERT INTO users (name, age, password) VALUES (:aa, :bb, :cc)&#39;,(&#123;&#39;aa&#39;:&#39;bigpang2&#39;,&#39;bb&#39;:22,&#39;cc&#39;:&#39;998&#39;&#125;))</span><br><span class="line">	# s.commit()</span><br><span class="line">	# è¿™æ ·æ‰§è¡ŒæˆåŠŸ</span><br><span class="line"></span><br><span class="line">	res&#x3D;s.execute(&#39;select * from users where age&#x3D;:aaa&#39;,&#123;&#39;aaa&#39;:4&#125;)</span><br><span class="line">	# print(res[&#39;name&#39;])  # é”™è¯¯</span><br><span class="line">	# print(res.name)    # é”™è¯¯</span><br><span class="line">	# print(type(res))   # é”™è¯¯</span><br><span class="line">	for r in res:</span><br><span class="line">		print(r[&#39;name&#39;])</span><br><span class="line"></span><br><span class="line">	s.close()</span><br><span class="line"></span><br><span class="line"># æ‰§è¡Œsqlè¯­å¥</span><br><span class="line">def SQlUser2():</span><br><span class="line"></span><br><span class="line">	# **ä¼ ç»Ÿ connectionæ–¹å¼**</span><br><span class="line">	# åˆ›å»ºä¸€ä¸ªconnectionå¯¹è±¡ï¼Œä½¿ç”¨æ–¹æ³•ä¸è°ƒç”¨pythonè‡ªå¸¦çš„sqliteä½¿ç”¨æ–¹å¼ç±»ä¼¼</span><br><span class="line">	# ä½¿ç”¨with æ¥åˆ›å»º connï¼Œä¸éœ€è¦æ˜¾ç¤ºæ‰§è¡Œå…³é—­è¿æ¥</span><br><span class="line">	# with engine.connect() as conn:</span><br><span class="line">	# 	res&#x3D;conn.execute(&#39;select * from users&#39;)</span><br><span class="line">	# 	data&#x3D;res.fetchone()</span><br><span class="line">	# 	print(&#39;user is %s&#39; %data[1])</span><br><span class="line"></span><br><span class="line">	# ä¸pythonè‡ªå¸¦çš„sqliteä¸åŒï¼Œè¿™é‡Œä¸éœ€è¦ cursor å…‰æ ‡ï¼Œæ‰§è¡Œsqlè¯­å¥ä¸éœ€è¦commitã€‚å¦‚æœæ˜¯å¢åˆ æ”¹ï¼Œåˆ™ç›´æ¥ç”Ÿæ•ˆï¼Œä¹Ÿä¸éœ€è¦commit.</span><br><span class="line">	</span><br><span class="line">	# **ä¼ ç»Ÿ connection äº‹åŠ¡**</span><br><span class="line">	with engine.connect() as conn:</span><br><span class="line">		trans&#x3D;conn.begin()</span><br><span class="line">		try:</span><br><span class="line">			r1&#x3D;conn.execute(&quot;select * from users&quot;)</span><br><span class="line">			print(r1.fetchone()[1])</span><br><span class="line">			r2&#x3D;conn.execute(&quot;insert into users (name,age,password) values (?,?,?)&quot;,(&#39;tang&#39;,5,&#39;133444&#39;))</span><br><span class="line">			trans.commit()</span><br><span class="line">		except:</span><br><span class="line">			trans.rollback()</span><br><span class="line">			raise</span><br><span class="line"></span><br><span class="line">	# **session**</span><br><span class="line">	session&#x3D;DBSession()</span><br><span class="line"></span><br><span class="line">	session.execute(&#39;select * from users&#39;)</span><br><span class="line">	session.execute(&#39;insert into users (name,age,password) values (:name,:age,:password)&#39;,&#123;&quot;name&quot;:&#39;dayuzhishui&#39;,&#39;age&#39;:6,&#39;password&#39;:&#39;887&#39;&#125;)</span><br><span class="line">	# æ³¨æ„å‚æ•°ä½¿ç”¨dictï¼Œå¹¶åœ¨sqlè¯­å¥ä¸­ä½¿ç”¨:keyå ä½</span><br><span class="line"></span><br><span class="line">	# å¦‚æœæ˜¯å¢åˆ æ”¹ï¼Œéœ€è¦ commit</span><br><span class="line">	session.commit()</span><br><span class="line">	# ç”¨å®Œè®°å¾—å…³é—­ï¼Œä¹Ÿå¯ä»¥ç”¨ with</span><br><span class="line">	session.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># æ›´å¤šæ“ä½œ</span><br><span class="line">def TestUser():</span><br><span class="line">	session&#x3D;DBSession()</span><br><span class="line"></span><br><span class="line">	# test1</span><br><span class="line">	# ä½¿ç”¨mergeæ–¹æ³•ï¼Œå¦‚æœå­˜åœ¨åˆ™ä¿®æ”¹ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™æ’å…¥ï¼ˆåªåˆ¤æ–­ä¸»é”®ï¼Œä¸åˆ¤æ–­uniqueåˆ—ï¼‰</span><br><span class="line">	# t1&#x3D;session.query(User).filter(User.name&#x3D;&#x3D;&#39;zhenji&#39;).first()</span><br><span class="line">	# t1.age&#x3D;34</span><br><span class="line">	# session.merge(t1)</span><br><span class="line">	# session.commit()</span><br><span class="line"></span><br><span class="line">	# test2</span><br><span class="line">	# mergeæ–¹æ³•ï¼Œå¦‚æœæ•°æ®åº“ä¸­æ²¡æœ‰åˆ™æ·»åŠ </span><br><span class="line">	# t2&#x3D;User()</span><br><span class="line">	# t2.name&#x3D;&#39;haha&#39;</span><br><span class="line">	# session.merge(t2)</span><br><span class="line">	# session.commit()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	# test3</span><br><span class="line">	# è·å–ç¬¬2-3é¡¹</span><br><span class="line">	# tUser&#x3D;session.query(User)[1:3]   </span><br><span class="line">	# for u in tUser:</span><br><span class="line">	# 	print(u.id)</span><br><span class="line"></span><br><span class="line">	# test4</span><br><span class="line">	# </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">	</span><br><span class="line">	# åˆ é™¤å…¨éƒ¨æ•°æ®åº“</span><br><span class="line">	# Base.metadata.drop_all(engine)</span><br><span class="line">	</span><br><span class="line">	# åˆå§‹åŒ–æ•°æ®åº“</span><br><span class="line">	# Base.metadata.create_all(engine)</span><br><span class="line"></span><br><span class="line">	# åˆ é™¤å…¨éƒ¨æ•°æ®åº“</span><br><span class="line">	# Base.metadata.drop_all(engine)</span><br><span class="line"></span><br><span class="line">	# åˆ é™¤æŒ‡å®šçš„æ•°æ®åº“</span><br><span class="line">	# å¦‚åˆ é™¤ Blogsè¡¨</span><br><span class="line">	# è¯¦è§ ï¼šhttp:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;35918605&#x2F;how-to-delete-a-table-in-sqlalchemy</span><br><span class="line">	# Blog.__table__.drop(engine)</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	# æ–°å¢æ•°æ®</span><br><span class="line">	# newUser()</span><br><span class="line"></span><br><span class="line">	# æ–°å¢å¤šæ¡æ•°æ®</span><br><span class="line">	# addmoreUser()</span><br><span class="line"></span><br><span class="line">	# æ–°å¢æ•°æ®å«ä¸­æ–‡</span><br><span class="line">	# addUserForZhCn()</span><br><span class="line"></span><br><span class="line">	# æŸ¥è¯¢æ•°æ®</span><br><span class="line">	# queryUser()</span><br><span class="line">	</span><br><span class="line">	# åˆ é™¤</span><br><span class="line">	# deleteUser()</span><br><span class="line"></span><br><span class="line">	# æµ‹è¯•</span><br><span class="line">	# TestUser()</span><br><span class="line">	 </span><br><span class="line">	# æ‰§è¡Œsqlè¯­å¥</span><br><span class="line">	# SQlUser()</span><br><span class="line">	</span><br><span class="line">	# æ‰§è¡Œsqlè¯­å¥2</span><br><span class="line">	SQlUser2()</span><br><span class="line"></span><br><span class="line">	print(&#39;ok&#39;)</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="sqlalchemy-æ•™ç¨‹"><a href="#sqlalchemy-æ•™ç¨‹" class="headerlink" title="sqlalchemy æ•™ç¨‹"></a>sqlalchemy æ•™ç¨‹</h4><h5 id="å…¥é—¨"><a href="#å…¥é—¨" class="headerlink" title="å…¥é—¨"></a>å…¥é—¨</h5><ul>
<li><a href="https://gist.github.com/tuxmartin/ea5783d1ebb99057dd81" target="_blank" rel="noopener">Test.py</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/23190728" target="_blank" rel="noopener">ä½œä¸ºä¸€ä¸ªPythonerï¼Œä¸ä¼šSQLAlchemy</a>  <strong>â˜†</strong></li>
<li><a href="http://www.jianshu.com/p/0d234e14b5d3" target="_blank" rel="noopener">SQLAlchemy ORMæ•™ç¨‹ä¹‹ä¸€ï¼šCreate - ç®€ä¹¦</a>  <strong>â˜†</strong></li>
<li><a href="http://www.jianshu.com/p/8d085e2f2657" target="_blank" rel="noopener">SQLAlchemy ORMæ•™ç¨‹ä¹‹äºŒï¼šQuery - ç®€ä¹¦</a>  <strong>â˜†</strong></li>
<li><a href="http://www.jianshu.com/p/9771b0a3e589" target="_blank" rel="noopener">SQLAlchemy ORMæ•™ç¨‹ä¹‹ä¸‰ï¼šRelationship - ç®€ä¹¦</a> <strong>â˜†</strong></li>
</ul>
<h5 id="å¢åˆ æ”¹æŸ¥å¸¸ç”¨å‘½ä»¤"><a href="#å¢åˆ æ”¹æŸ¥å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¢åˆ æ”¹æŸ¥å¸¸ç”¨å‘½ä»¤"></a>å¢åˆ æ”¹æŸ¥å¸¸ç”¨å‘½ä»¤</h5><ul>
<li><a href="https://segmentfault.com/a/1190000006949536" target="_blank" rel="noopener">sqlalchemyå­¦ä¹ ç¬”è®° - pythonå­¦ä¹ ç¬”è®° - SegmentFault</a> <strong>â˜†</strong></li>
<li><a href="https://www.keakon.net/2012/12/03/SQLAlchemy%E4%BD%BF%E7%94%A8%E7%BB%8F%E9%AA%8C" target="_blank" rel="noopener">SQLAlchemy ä½¿ç”¨ç»éªŒ</a></li>
<li><a href="https://github.com/lzjun567/note/blob/master/note/python/sqlalchemy.md" target="_blank" rel="noopener">note/sqlalchemy.md at master Â· lzjun567/note Â· GitHub</a></li>
</ul>
<hr>
]]></content>
      <tags>
        <tag>Python</tag>
        <tag>SQLAlchemy</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxç³»ç»Ÿå®æ—¶ç›‘æ§å·¥å…·-Glances</title>
    <url>/2017/01/05/linux-real-time-monitoring-glances/</url>
    <content><![CDATA[<h4 id="Ubuntuç³»ç»Ÿä¸‹å®‰è£…"><a href="#Ubuntuç³»ç»Ÿä¸‹å®‰è£…" class="headerlink" title="Ubuntuç³»ç»Ÿä¸‹å®‰è£…"></a>Ubuntuç³»ç»Ÿä¸‹å®‰è£…</h4><h5 id="é€šè¿‡-apt-get-æ–¹å¼æ¥å®‰è£…"><a href="#é€šè¿‡-apt-get-æ–¹å¼æ¥å®‰è£…" class="headerlink" title="é€šè¿‡ apt-get æ–¹å¼æ¥å®‰è£…"></a>é€šè¿‡ <code>apt-get</code> æ–¹å¼æ¥å®‰è£…</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get update</span><br><span class="line">$ sudo apt-get install glances</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="é€šè¿‡-pip-æ–¹å¼æ¥å®‰è£…-æ¨è"><a href="#é€šè¿‡-pip-æ–¹å¼æ¥å®‰è£…-æ¨è" class="headerlink" title="é€šè¿‡ pip æ–¹å¼æ¥å®‰è£…(æ¨è)"></a>é€šè¿‡ <code>pip</code> æ–¹å¼æ¥å®‰è£…(æ¨è)</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo pip install python-dev</span><br><span class="line">$ sudo pip install glances</span><br></pre></td></tr></table></figure>

<p>å»ºè®®é€šè¿‡ <code>pip</code> çš„æ–¹å¼æ¥å®‰è£…ï¼Œå› ä¸ºæˆ‘é€šè¿‡ <code>apt-get</code> æ–¹å¼å®‰è£…çš„ <code>glances</code> ç‰ˆæœ¬ä¸º <code>Glances version 1.7.3 with PsUtil 1.2.1</code> ï¼Œè€Œé€šè¿‡ <code>pip</code> å®‰è£…çš„ä¸º <code>Glances v2.7.1 with psutil v4.3.1</code> ï¼Œæ—§ç‰ˆæœ¬çš„åŠŸèƒ½æ¯”è¾ƒç®€å•ã€‚</p>
<hr>
<p>åœ¨å®‰è£…è¿‡ç¨‹ä¸­å¯èƒ½å‡ºç°æŠ¥é”™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">warning: no previously-included files matching &#39;*&#39; found under directory &#39;docs&#x2F;_build&#39;</span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¹¶å°è¯•å†æ¬¡å®‰è£…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt-get install libpq-dev python-dev</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="é€šè¿‡å®˜æ–¹ç»™å‡ºçš„æ–¹å¼å®‰è£…"><a href="#é€šè¿‡å®˜æ–¹ç»™å‡ºçš„æ–¹å¼å®‰è£…" class="headerlink" title="é€šè¿‡å®˜æ–¹ç»™å‡ºçš„æ–¹å¼å®‰è£…"></a>é€šè¿‡å®˜æ–¹ç»™å‡ºçš„æ–¹å¼å®‰è£…</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl -L https:&#x2F;&#x2F;bit.ly&#x2F;glances | &#x2F;bin&#x2F;bash</span><br></pre></td></tr></table></figure>

<p>or:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ wget -O- https:&#x2F;&#x2F;bit.ly&#x2F;glances | &#x2F;bin&#x2F;bash</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Alpineç³»ç»Ÿä¸‹å®‰è£…"><a href="#Alpineç³»ç»Ÿä¸‹å®‰è£…" class="headerlink" title="Alpineç³»ç»Ÿä¸‹å®‰è£…"></a>Alpineç³»ç»Ÿä¸‹å®‰è£…</h4><h5 id="æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…"><a href="#æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…" class="headerlink" title="æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…"></a>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ apk update</span><br><span class="line">$ apk add python-dev py-pip py2-psutil</span><br><span class="line">$ pip install glances</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><p>å®‰è£…å®Œæˆåï¼Œå¯ä»¥æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å¯åŠ¨ Glancesï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ glances</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ç±»ä¼¼ä¸‹é¢çš„è¾“å‡ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MyServer (Ubuntu 14.04 64bit &#x2F; Linux 4.4.0-38-generic)                                            Uptime: 1:41:59</span><br><span class="line"></span><br><span class="line">CPU  [  3.0%]   CPU       3.0%  nice:     0.0%  ctx_sw:   193   MEM      6.5%   SWAP      0.0%   LOAD    2-core</span><br><span class="line">MEM  [  6.5%]   user:     1.3%  irq:      0.0%  inter:    266   total:  1.95G   total:   2.24G   1 min:    0.00</span><br><span class="line">SWAP [    0%]   system:   1.3%  iowait:   0.0%  sw_int:   372   used:    129M   used:        0   5 min:    0.00</span><br><span class="line">                idle:    97.1%  steal:    0.2%                  free:   1.82G   free:    2.24G   15 min:   0.00</span><br><span class="line"></span><br><span class="line">NETWORK     Rx&#x2F;s   Tx&#x2F;s   TASKS 114 (140 thr), 1 run, 113 slp, 0 oth sorted automatically</span><br><span class="line">docker0       0b     0b</span><br><span class="line">eth0        75Kb   44Kb     CPU%  MEM%  VIRT   RES   PID USER        NI S     TIME+   R&#x2F;s   W&#x2F;s Command </span><br><span class="line">lo            0b     0b      4.7   1.2  377M 23.2M 11918 tiger        0 R   0:01.90     0     0 &#x2F;usr&#x2F;bin&#x2F;python &#x2F;</span><br><span class="line">                             0.3   0.1  250M 2.63M   556 syslog       0 S   0:00.18     0     0 rsyslogd</span><br><span class="line">DISK I&#x2F;O     R&#x2F;s    W&#x2F;s      0.0   0.0     0     0    18 root       -20 S   0:00.00     0     0 perf</span><br><span class="line">dm-0           0    19K      0.0   0.1 23.1M 2.12M   915 root         0 S   0:00.00     0     0 cron</span><br><span class="line">dm-1           0      0      0.0   0.2 42.4M 3.22M   630 root         0 S   0:00.10     0     0 &#x2F;lib&#x2F;systemd&#x2F;syst</span><br><span class="line">xvda1          0      0      0.0   0.0     0     0    19 root         0 S   0:00.00     0     0 xenwatch</span><br><span class="line">xvda2          0      0      0.0   0.0     0     0    81 root       -20 S   0:00.00     0     0 bioset</span><br><span class="line">xvda5          0    19K      0.0   0.0     0     0     2 root         0 S   0:00.00     0     0 kthreadd</span><br><span class="line">xvdb           0      0      0.0   0.0     0     0    71 root       -20 S   0:00.00     0     0 bioset</span><br></pre></td></tr></table></figure>

<p>è¦é€€å‡º <code>Glances</code> ç»ˆç«¯ï¼ŒæŒ‰ <code>ESC</code> é”®æˆ– <code>Ctrl + C</code>ã€‚</p>
<hr>
<h4 id="é€šè¿‡browseræŸ¥çœ‹"><a href="#é€šè¿‡browseræŸ¥çœ‹" class="headerlink" title="é€šè¿‡browseræŸ¥çœ‹"></a>é€šè¿‡browseræŸ¥çœ‹</h4><p>å…ˆå®‰è£… <code>bottle</code> ï¼Œç„¶åé€šè¿‡ <code>-w</code> å‚æ•°å¯åŠ¨æµè§ˆå™¨æœåŠ¡ï¼Œé»˜è®¤ä¼šç›‘å¬ <code>61208</code> ç«¯å£ã€‚</p>
<p>æ›´å¤šå‘½ä»¤å¯é€šè¿‡å‘½ä»¤ <code>glances --help</code> æŸ¥çœ‹å¸®åŠ©ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo pip install bottle</span><br><span class="line"></span><br><span class="line">$ glances -w</span><br><span class="line">Glances web server started on http:&#x2F;&#x2F;0.0.0.0:61208&#x2F;</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨æµè§ˆå™¨ç«¯è¾“å…¥ç½‘å€å³å¯æŸ¥çœ‹ã€‚</p>
<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="https://nicolargo.github.io/glances/" target="_blank" rel="noopener">glances</a></li>
<li><a href="https://github.com/nicolargo/glances" target="_blank" rel="noopener">GitHub - nicolargo/glances: Glances an Eye on your system. A top/htop alternative.</a></li>
<li><a href="https://glances.readthedocs.io/en/stable/index.html" target="_blank" rel="noopener">Glances &mdash; Glances 2.7.1 documentation</a></li>
</ul>
]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>Glances</tag>
      </tags>
  </entry>
  <entry>
    <title>å¾®ä¿¡å°ç¨‹åºå¼€å‘ä½“éªŒ</title>
    <url>/2017/01/05/wx-xiaochengxu-development-experience/</url>
    <content><![CDATA[<h4 id="ç®€æ˜“æ•™ç¨‹"><a href="#ç®€æ˜“æ•™ç¨‹" class="headerlink" title="ç®€æ˜“æ•™ç¨‹"></a>ç®€æ˜“æ•™ç¨‹</h4><p>å®˜æ–¹æ–‡æ¡£ <a href="https://mp.weixin.qq.com/debug/wxadoc/dev/" target="_blank" rel="noopener">ç®€æ˜“æ•™ç¨‹-å°ç¨‹åº</a></p>
<p>app.jsã€app.jsonã€app.wxss è¿™ä¸‰ä¸ªï¼Œ.jsåç¼€çš„æ˜¯è„šæœ¬æ–‡ä»¶ï¼Œ.jsonåç¼€çš„æ–‡ä»¶æ˜¯é…ç½®æ–‡ä»¶ï¼Œ.wxssåç¼€çš„æ˜¯æ ·å¼è¡¨æ–‡ä»¶ã€‚</p>
<ul>
<li>app.jsæ˜¯å°ç¨‹åºçš„è„šæœ¬ä»£ç ã€‚æˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ç›‘å¬å¹¶å¤„ç†å°ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€å£°æ˜å…¨å±€å˜é‡ã€‚è°ƒç”¨æ¡†æ¶æä¾›çš„ä¸°å¯Œçš„ APIï¼Œå¦‚æœ¬ä¾‹çš„åŒæ­¥å­˜å‚¨åŠåŒæ­¥è¯»å–æœ¬åœ°æ•°æ®ã€‚</li>
<li>app.json æ˜¯å¯¹æ•´ä¸ªå°ç¨‹åºçš„å…¨å±€é…ç½®ã€‚æˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­é…ç½®å°ç¨‹åºæ˜¯ç”±å“ªäº›é¡µé¢ç»„æˆï¼Œé…ç½®å°ç¨‹åºçš„çª—å£èƒŒæ™¯è‰²ï¼Œé…ç½®å¯¼èˆªæ¡æ ·å¼ï¼Œé…ç½®é»˜è®¤æ ‡é¢˜ã€‚æ³¨æ„è¯¥æ–‡ä»¶ä¸å¯æ·»åŠ ä»»ä½•æ³¨é‡Šã€‚è¯¦è§ï¼š<a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/config.html?t=1475052047016" target="_blank" rel="noopener">é…ç½®</a></li>
<li>app.wxss æ˜¯æ•´ä¸ªå°ç¨‹åºçš„å…¬å…±æ ·å¼è¡¨ã€‚</li>
</ul>
<h5 id="åˆ›å»ºé¡µé¢"><a href="#åˆ›å»ºé¡µé¢" class="headerlink" title="åˆ›å»ºé¡µé¢"></a>åˆ›å»ºé¡µé¢</h5><p>é¡µé¢éƒ½åœ¨ <code>pages</code> ç›®å½•ä¸‹ã€‚</p>
<p>å¾®ä¿¡å°ç¨‹åºä¸­çš„æ¯ä¸€ä¸ªé¡µé¢çš„ã€è·¯å¾„+é¡µé¢åã€‘éƒ½éœ€è¦å†™åœ¨ app.json çš„ pages ä¸­ï¼Œä¸” pages ä¸­çš„ç¬¬ä¸€ä¸ªé¡µé¢æ˜¯å°ç¨‹åºçš„é¦–é¡µã€‚</p>
<p>æ¯ä¸€ä¸ªå°ç¨‹åºé¡µé¢æ˜¯ç”±åŒè·¯å¾„ä¸‹åŒåçš„å››ä¸ªä¸åŒåç¼€æ–‡ä»¶çš„ç»„æˆï¼Œå¦‚ï¼šindex.jsã€index.wxmlã€index.wxssã€index.jsonã€‚.jsåç¼€çš„æ–‡ä»¶æ˜¯è„šæœ¬æ–‡ä»¶ï¼Œ.jsonåç¼€çš„æ–‡ä»¶æ˜¯é…ç½®æ–‡ä»¶ï¼Œ.wxssåç¼€çš„æ˜¯æ ·å¼è¡¨æ–‡ä»¶ï¼Œ.wxmlåç¼€çš„æ–‡ä»¶æ˜¯é¡µé¢ç»“æ„æ–‡ä»¶ã€‚</p>
<p>é¡µé¢çš„æ ·å¼è¡¨æ˜¯éå¿…è¦çš„ã€‚å½“æœ‰é¡µé¢æ ·å¼è¡¨æ—¶ï¼Œé¡µé¢çš„æ ·å¼è¡¨ä¸­çš„æ ·å¼è§„åˆ™ä¼šå±‚å è¦†ç›– app.wxss ä¸­çš„æ ·å¼è§„åˆ™ã€‚</p>
<hr>
<h4 id="æ¡†æ¶"><a href="#æ¡†æ¶" class="headerlink" title="æ¡†æ¶"></a>æ¡†æ¶</h4><p>æ¡†æ¶æä¾›äº†è‡ªå·±çš„è§†å›¾å±‚æè¿°è¯­è¨€ WXML å’Œ WXSSï¼Œä»¥åŠåŸºäº JavaScript çš„é€»è¾‘å±‚æ¡†æ¶ï¼Œå¹¶åœ¨è§†å›¾å±‚ä¸é€»è¾‘å±‚é—´æä¾›äº†æ•°æ®ä¼ è¾“å’Œäº‹ä»¶ç³»ç»Ÿï¼Œå¯ä»¥è®©å¼€å‘è€…å¯ä»¥æ–¹ä¾¿çš„èšç„¦äºæ•°æ®ä¸é€»è¾‘ä¸Šã€‚</p>
<h5 id="å“åº”çš„æ•°æ®ç»‘å®š"><a href="#å“åº”çš„æ•°æ®ç»‘å®š" class="headerlink" title="å“åº”çš„æ•°æ®ç»‘å®š"></a>å“åº”çš„æ•°æ®ç»‘å®š</h5><p>æ¡†æ¶çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªå“åº”çš„æ•°æ®ç»‘å®šç³»ç»Ÿã€‚</p>
<p>æ•´ä¸ªç³»ç»Ÿåˆ†ä¸ºä¸¤å—è§†å›¾å±‚ï¼ˆViewï¼‰å’Œé€»è¾‘å±‚ï¼ˆApp Serviceï¼‰</p>
<hr>
<h4 id="æ–‡ä»¶ç»“æ„"><a href="#æ–‡ä»¶ç»“æ„" class="headerlink" title="æ–‡ä»¶ç»“æ„"></a>æ–‡ä»¶ç»“æ„</h4><p>æ¡†æ¶ç¨‹åºåŒ…å«ä¸€ä¸ªæè¿°æ•´ä½“ç¨‹åºçš„ app å’Œå¤šä¸ªæè¿°å„è‡ªé¡µé¢çš„ pageã€‚</p>
<p>ä¸€ä¸ªæ¡†æ¶ç¨‹åºä¸»ä½“éƒ¨åˆ†ç”±ä¸‰ä¸ªæ–‡ä»¶ç»„æˆï¼Œå¿…é¡»æ”¾åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ï¼šapp.js app.json app.wxss</p>
<p>ä¸€ä¸ªæ¡†æ¶é¡µé¢ç”±å››ä¸ªæ–‡ä»¶ç»„æˆï¼Œåˆ†åˆ«æ˜¯ï¼š*.js  *.wxml *.wxss *.json</p>
<h4 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><p>ä½¿ç”¨app.jsonæ–‡ä»¶æ¥å¯¹å¾®ä¿¡å°ç¨‹åºè¿›è¡Œå…¨å±€é…ç½®ï¼Œå†³å®šé¡µé¢æ–‡ä»¶çš„è·¯å¾„ã€çª—å£è¡¨ç°ã€è®¾ç½®ç½‘ç»œè¶…æ—¶æ—¶é—´ã€è®¾ç½®å¤š tab ç­‰ã€‚</p>
<p>app.json é…ç½®é¡¹åˆ—è¡¨</p>
<ul>
<li><code>pages</code> è®¾ç½®é¡µé¢è·¯å¾„</li>
<li><code>window</code> è®¾ç½®é»˜è®¤é¡µé¢çš„çª—å£è¡¨ç°</li>
<li><code>tabBar</code> è®¾ç½®åº•éƒ¨ tab çš„è¡¨ç°</li>
<li><code>networkTimeout</code> è®¾ç½®ç½‘ç»œè¶…æ—¶æ—¶é—´ </li>
<li><code>debug</code> è®¾ç½®æ˜¯å¦å¼€å¯ debug æ¨¡å¼</li>
</ul>
<h5 id="pages"><a href="#pages" class="headerlink" title="pages"></a>pages</h5><ul>
<li>æ¥å—ä¸€ä¸ªæ•°ç»„ï¼Œæ¯ä¸€é¡¹éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œæ¥æŒ‡å®šå°ç¨‹åºç”±å“ªäº›é¡µé¢ç»„æˆã€‚</li>
<li>å¯¹åº”é¡µé¢çš„ã€è·¯å¾„+æ–‡ä»¶åã€‘ä¿¡æ¯</li>
<li>æ•°ç»„çš„ç¬¬ä¸€é¡¹ä»£è¡¨å°ç¨‹åºçš„åˆå§‹é¡µé¢ã€‚</li>
<li>å°ç¨‹åºä¸­æ–°å¢/å‡å°‘é¡µé¢ï¼Œéƒ½éœ€è¦å¯¹ pages æ•°ç»„è¿›è¡Œä¿®æ”¹</li>
<li>æ–‡ä»¶åä¸éœ€è¦å†™æ–‡ä»¶åç¼€</li>
</ul>
<h5 id="window"><a href="#window" class="headerlink" title="window"></a>window</h5><p>è®¾ç½®å°ç¨‹åºçš„çŠ¶æ€æ ã€å¯¼èˆªæ¡ã€æ ‡é¢˜ã€çª—å£èƒŒæ™¯è‰²ã€‚</p>
<ul>
<li><code>navigationBarBackgroundColor</code>   å¯¼èˆªæ èƒŒæ™¯é¢œè‰²ï¼Œå¦‚â€#000000â€</li>
<li><code>navigationBarTextStyle</code>  å¯¼èˆªæ æ ‡é¢˜é¢œè‰²ï¼Œä»…æ”¯æŒ black/white</li>
<li><code>navigationBarTitleText</code>  å¯¼èˆªæ æ ‡é¢˜æ–‡å­—å†…å®¹</li>
<li><code>backgroundColor</code>  çª—å£çš„èƒŒæ™¯è‰²</li>
<li><code>backgroundTextStyle</code>   ä¸‹æ‹‰èƒŒæ™¯å­—ä½“ã€loading å›¾çš„æ ·å¼ï¼Œä»…æ”¯æŒ dark/light</li>
<li><code>enablePullDownRefresh</code>  æ˜¯å¦å¼€å¯ä¸‹æ‹‰åˆ·æ–° false/true</li>
</ul>
<h5 id="tabBar"><a href="#tabBar" class="headerlink" title="tabBar"></a>tabBar</h5><p>å¤š tab åº”ç”¨ï¼ˆå®¢æˆ·ç«¯çª—å£çš„åº•éƒ¨æœ‰tabæ å¯ä»¥åˆ‡æ¢é¡µé¢ï¼‰, å¯ä»¥é€šè¿‡ tabBar é…ç½®é¡¹æŒ‡å®š tab æ çš„è¡¨ç°ï¼Œä»¥åŠ tab åˆ‡æ¢æ—¶æ˜¾ç¤ºçš„å¯¹åº”é¡µé¢ã€‚</p>
<p>tabBar æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œ<strong>åªèƒ½é…ç½®æœ€å°‘2ä¸ªã€æœ€å¤š5ä¸ª tab</strong>ï¼Œtab æŒ‰æ•°ç»„çš„é¡ºåºæ’åºã€‚</p>
<ul>
<li><code>color</code>  tab ä¸Šçš„æ–‡å­—é»˜è®¤é¢œè‰²</li>
<li><code>selectedColor</code>  tab ä¸Šçš„æ–‡å­—é€‰ä¸­æ—¶çš„é¢œè‰²</li>
<li><code>backgroundColor</code>  tab çš„èƒŒæ™¯è‰²</li>
<li><code>borderStyle</code>  tabbarä¸Šè¾¹æ¡†çš„é¢œè‰²ï¼Œ ä»…æ”¯æŒ black/white</li>
<li><code>list</code>  tab çš„åˆ—è¡¨ï¼Œæœ€å°‘2ä¸ªã€æœ€å¤š5ä¸ª tab</li>
</ul>
<p>list å±æ€§å€¼ï¼š</p>
<ul>
<li><code>pagePath</code>  é¡µé¢è·¯å¾„ï¼Œå¿…é¡»åœ¨ pages ä¸­å…ˆå®šä¹‰</li>
<li><code>text</code>  tab ä¸ŠæŒ‰é’®æ–‡å­—</li>
<li><code>iconPath</code>  å›¾ç‰‡è·¯å¾„ï¼Œicon å¤§å°é™åˆ¶ä¸º40kb</li>
<li><code>selectedIconPath</code>  é€‰ä¸­æ—¶çš„å›¾ç‰‡è·¯å¾„ï¼Œicon å¤§å°é™åˆ¶ä¸º40kb</li>
</ul>
<h5 id="networkTimeout"><a href="#networkTimeout" class="headerlink" title="networkTimeout"></a>networkTimeout</h5><p>è®¾ç½®å„ç§ç½‘ç»œè¯·æ±‚çš„è¶…æ—¶æ—¶é—´ã€‚</p>
<ul>
<li><code>request</code>  wx.requestçš„è¶…æ—¶æ—¶é—´ï¼Œå•ä½æ¯«ç§’</li>
<li><code>connectSocket</code>  wx.connectSocketçš„è¶…æ—¶æ—¶é—´ï¼Œå•ä½æ¯«ç§’</li>
<li><code>uploadFile</code>   wx.uploadFileçš„è¶…æ—¶æ—¶é—´ï¼Œå•ä½æ¯«ç§’</li>
<li><code>downloadFile</code>  wx.downloadFileçš„è¶…æ—¶æ—¶é—´ï¼Œå•ä½æ¯«ç§’</li>
</ul>
<h5 id="debug"><a href="#debug" class="headerlink" title="debug"></a>debug</h5><p>åœ¨æ§åˆ¶å°é¢æ¿ä¸­è°ƒè¯•ä¿¡æ¯ä»¥ <code>info</code> çš„å½¢å¼ç»™å‡ºï¼Œå…¶ä¿¡æ¯æœ‰Pageçš„æ³¨å†Œï¼Œé¡µé¢è·¯ç”±ï¼Œæ•°æ®æ›´æ–°ï¼Œäº‹ä»¶è§¦å‘ ã€‚</p>
<h4 id="page-json"><a href="#page-json" class="headerlink" title="page.json"></a>page.json</h4><p>æ¯ä¸€ä¸ªå°ç¨‹åºé¡µé¢ä¹Ÿå¯ä»¥ä½¿ç”¨.jsonæ–‡ä»¶æ¥å¯¹æœ¬é¡µé¢çš„çª—å£è¡¨ç°è¿›è¡Œé…ç½®ã€‚ é¡µé¢çš„é…ç½®æ¯”app.jsonå…¨å±€é…ç½®ç®€å•å¾—å¤šï¼Œåªæ˜¯è®¾ç½® app.json ä¸­çš„ window é…ç½®é¡¹çš„å†…å®¹ï¼Œé¡µé¢ä¸­é…ç½®é¡¹ä¼šè¦†ç›– app.json çš„ window ä¸­ç›¸åŒçš„é…ç½®é¡¹ã€‚</p>
<p>é¡µé¢çš„.jsonåªèƒ½è®¾ç½® window ç›¸å…³çš„é…ç½®é¡¹,ä»¥å†³å®šæœ¬é¡µé¢çš„çª—å£è¡¨ç°ï¼Œæ— éœ€å†™ window è¿™ä¸ªé”®ã€‚</p>
<hr>
<h4 id="é€»è¾‘å±‚"><a href="#é€»è¾‘å±‚" class="headerlink" title="é€»è¾‘å±‚"></a>é€»è¾‘å±‚</h4><h5 id="App"><a href="#App" class="headerlink" title="App"></a>App</h5><h6 id="App-1"><a href="#App-1" class="headerlink" title="App()"></a>App()</h6><p>App() å‡½æ•°ç”¨æ¥æ³¨å†Œä¸€ä¸ªå°ç¨‹åºã€‚æ¥å—ä¸€ä¸ª object å‚æ•°ï¼Œå…¶æŒ‡å®šå°ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ç­‰ã€‚</p>
<p>object å‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li><code>onLaunch</code>   å½“å°ç¨‹åºåˆå§‹åŒ–å®Œæˆæ—¶ï¼Œä¼šè§¦å‘ onLaunchï¼ˆå…¨å±€åªè§¦å‘ä¸€æ¬¡ï¼‰</li>
<li><code>onShow</code>   å½“å°ç¨‹åºå¯åŠ¨ï¼Œæˆ–ä»åå°è¿›å…¥å‰å°æ˜¾ç¤ºï¼Œä¼šè§¦å‘ onShow</li>
<li><code>onHide</code>   å½“å°ç¨‹åºä»å‰å°è¿›å…¥åå°ï¼Œä¼šè§¦å‘ onHide</li>
<li>å…¶ä»–   å¼€å‘è€…å¯ä»¥æ·»åŠ ä»»æ„çš„å‡½æ•°æˆ–æ•°æ®åˆ° Object å‚æ•°ä¸­ï¼Œç”¨ this å¯ä»¥è®¿é—®</li>
</ul>
<p>å‰å°ã€åå°å®šä¹‰ï¼š å½“ç”¨æˆ·ç‚¹å‡»å·¦ä¸Šè§’å…³é—­ï¼Œæˆ–è€…æŒ‰äº†è®¾å¤‡ Home é”®ç¦»å¼€å¾®ä¿¡ï¼Œå°ç¨‹åºå¹¶æ²¡æœ‰ç›´æ¥é”€æ¯ï¼Œè€Œæ˜¯è¿›å…¥äº†åå°ï¼›å½“å†æ¬¡è¿›å…¥å¾®ä¿¡æˆ–å†æ¬¡æ‰“å¼€å°ç¨‹åºï¼Œåˆä¼šä»åå°è¿›å…¥å‰å°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">App(&#123;</span><br><span class="line">  onLaunch: function() &#123; </span><br><span class="line">    &#x2F;&#x2F; Do something initial when launch.</span><br><span class="line">  &#125;,</span><br><span class="line">  onShow: function() &#123;</span><br><span class="line">      &#x2F;&#x2F; Do something when show.</span><br><span class="line">  &#125;,</span><br><span class="line">  onHide: function() &#123;</span><br><span class="line">      &#x2F;&#x2F; Do something when hide.</span><br><span class="line">  &#125;,</span><br><span class="line">  globalData: &#39;I am global data&#39;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h6 id="App-prototype-getCurrentPage"><a href="#App-prototype-getCurrentPage" class="headerlink" title="App.prototype.getCurrentPage()"></a>App.prototype.getCurrentPage()</h6><p>getCurrentPage() å‡½æ•°ç”¨æˆ·è·å–å½“å‰é¡µé¢çš„å®ä¾‹ã€‚</p>
<h6 id="getApp"><a href="#getApp" class="headerlink" title="getApp()"></a>getApp()</h6><p>å…¨å±€çš„ getApp() å‡½æ•°ï¼Œå¯ä»¥è·å–åˆ°å°ç¨‹åºå®ä¾‹ã€‚</p>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>App() å¿…é¡»åœ¨ app.js ä¸­æ³¨å†Œï¼Œä¸”ä¸èƒ½æ³¨å†Œå¤šä¸ªã€‚</li>
<li>ä¸è¦åœ¨å®šä¹‰äº App() å†…çš„å‡½æ•°ä¸­è°ƒç”¨ getApp() ï¼Œä½¿ç”¨ this å°±å¯ä»¥æ‹¿åˆ° app å®ä¾‹ã€‚</li>
<li>ä¸è¦åœ¨ onLaunch çš„æ—¶å€™è°ƒç”¨ getCurrentPage()ï¼Œæ­¤æ—¶ page è¿˜æ²¡æœ‰ç”Ÿæˆã€‚</li>
<li>é€šè¿‡ getApp() è·å–å®ä¾‹ä¹‹åï¼Œä¸è¦ç§è‡ªè°ƒç”¨ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚</li>
</ul>
<hr>
<h5 id="Page"><a href="#Page" class="headerlink" title="Page"></a>Page</h5><p>Page() å‡½æ•°ç”¨æ¥æ³¨å†Œä¸€ä¸ªé¡µé¢ã€‚æ¥å—ä¸€ä¸ª object å‚æ•°ï¼Œå…¶æŒ‡å®šé¡µé¢çš„åˆå§‹æ•°æ®ã€ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€äº‹ä»¶å¤„ç†å‡½æ•°ç­‰ã€‚</p>
<p>objectå‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li><code>data</code>  é¡µé¢çš„åˆå§‹æ•°æ®</li>
<li><code>onLoad</code>  ç”Ÿå‘½å‘¨æœŸå‡½æ•°â€“ç›‘å¬é¡µé¢åŠ è½½</li>
<li><code>onReady</code>  ç”Ÿå‘½å‘¨æœŸå‡½æ•°â€“ç›‘å¬é¡µé¢åˆæ¬¡æ¸²æŸ“å®Œæˆ</li>
<li><code>onShow</code>  ç”Ÿå‘½å‘¨æœŸå‡½æ•°â€“ç›‘å¬é¡µé¢æ˜¾ç¤º</li>
<li><code>onHide</code>  ç”Ÿå‘½å‘¨æœŸå‡½æ•°â€“ç›‘å¬é¡µé¢éšè—</li>
<li><code>onUnload</code>  ç”Ÿå‘½å‘¨æœŸå‡½æ•°â€“ç›‘å¬é¡µé¢å¸è½½</li>
<li><code>onPullDownRefreash</code>  é¡µé¢ç›¸å…³äº‹ä»¶å¤„ç†å‡½æ•°â€“ç›‘å¬ç”¨æˆ·ä¸‹æ‹‰åŠ¨ä½œ</li>
<li>å…¶ä»–  å¼€å‘è€…å¯ä»¥æ·»åŠ ä»»æ„çš„å‡½æ•°æˆ–æ•°æ®åˆ° object å‚æ•°ä¸­ï¼Œç”¨ this å¯ä»¥è®¿é—®</li>
</ul>
<h6 id="åˆå§‹åŒ–æ•°æ®"><a href="#åˆå§‹åŒ–æ•°æ®" class="headerlink" title="åˆå§‹åŒ–æ•°æ®"></a>åˆå§‹åŒ–æ•°æ®</h6><p>åˆå§‹åŒ–æ•°æ®å°†ä½œä¸ºé¡µé¢çš„ç¬¬ä¸€æ¬¡æ¸²æŸ“ã€‚æ•°æ®å¿…é¡»æ˜¯å¯ä»¥è½¬æˆ JSON çš„æ ¼å¼ï¼šå­—ç¬¦ä¸²ï¼Œæ•°å­—ï¼Œå¸ƒå°”å€¼ï¼Œå¯¹è±¡ï¼Œæ•°ç»„ã€‚</p>
<h6 id="Page-prototype-setData"><a href="#Page-prototype-setData" class="headerlink" title="Page.prototype.setData()"></a>Page.prototype.setData()</h6><p>setData å‡½æ•°ç”¨äºå°†æ•°æ®ä»é€»è¾‘å±‚å‘é€åˆ°è§†å›¾å±‚ï¼ŒåŒæ—¶æ”¹å˜å¯¹åº”çš„ this.data çš„å€¼ã€‚</p>
<p>æ³¨æ„ï¼š</p>
<ol>
<li>ç›´æ¥ä¿®æ”¹ <code>this.data</code> æ— æ•ˆ</li>
<li>å•æ¬¡è®¾ç½®çš„æ•°æ®ä¸èƒ½è¶…è¿‡ 1024 KB </li>
</ol>
<h6 id="setData-å‚æ•°æ ¼å¼"><a href="#setData-å‚æ•°æ ¼å¼" class="headerlink" title="setData() å‚æ•°æ ¼å¼"></a>setData() å‚æ•°æ ¼å¼</h6><p>æ¥å—ä¸€ä¸ªå¯¹è±¡ï¼Œä»¥ keyï¼Œvalue çš„å½¢å¼è¡¨ç¤ºå°† this.data ä¸­çš„ key å¯¹åº”çš„å€¼æ”¹å˜æˆ valueã€‚</p>
<h6 id="é¡µé¢çš„è·¯ç”±"><a href="#é¡µé¢çš„è·¯ç”±" class="headerlink" title="é¡µé¢çš„è·¯ç”±"></a>é¡µé¢çš„è·¯ç”±</h6><hr>
<h4 id="æ–‡ä»¶ä½œç”¨åŸŸ"><a href="#æ–‡ä»¶ä½œç”¨åŸŸ" class="headerlink" title="æ–‡ä»¶ä½œç”¨åŸŸ"></a>æ–‡ä»¶ä½œç”¨åŸŸ</h4><ul>
<li><p>åœ¨ JavaScript æ–‡ä»¶ä¸­å£°æ˜çš„å˜é‡å’Œå‡½æ•°åªåœ¨è¯¥æ–‡ä»¶ä¸­æœ‰æ•ˆï¼›</p>
</li>
<li><p>ä¸åŒçš„æ–‡ä»¶ä¸­å¯ä»¥å£°æ˜ç›¸åŒåå­—çš„å˜é‡å’Œå‡½æ•°ï¼Œä¸ä¼šäº’ç›¸å½±å“ã€‚</p>
</li>
<li><p>é€šè¿‡å…¨å±€å‡½æ•° getApp() å¯ä»¥è·å–å…¨å±€çš„åº”ç”¨å®ä¾‹</p>
</li>
<li><p>å¦‚æœéœ€è¦å…¨å±€çš„æ•°æ®å¯ä»¥åœ¨ App() ä¸­è®¾ç½®</p>
</li>
</ul>
<h4 id="æ¨¡å—åŒ–"><a href="#æ¨¡å—åŒ–" class="headerlink" title="æ¨¡å—åŒ–"></a>æ¨¡å—åŒ–</h4><p>æ¨¡å—åªæœ‰é€šè¿‡ module.exports æ‰èƒ½å¯¹å¤–æš´éœ²æ¥å£ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; common.js</span><br><span class="line">function sayHello(name) &#123;</span><br><span class="line">  console.log(&#39;Hello &#39; + name + &#39;!&#39;)</span><br><span class="line">&#125;</span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  sayHello: sayHello</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨éœ€è¦ä½¿ç”¨è¿™äº›æ¨¡å—çš„æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨ require(path) å°†å…¬å…±ä»£ç å¼•å…¥ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var common &#x3D; require(&#39;common.js&#39;)</span><br><span class="line">Page(&#123;</span><br><span class="line">  helloMINA: function() &#123;</span><br><span class="line">    common.sayHello(&#39;MINA&#39;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<hr>
]]></content>
      <tags>
        <tag>å¾®ä¿¡å°ç¨‹åº</tag>
      </tags>
  </entry>
  <entry>
    <title>HTTP 413 curl 22 The requested URL returned error 413 Request Entity Too Large</title>
    <url>/2016/12/30/nginx-request-entity-too-large/</url>
    <content><![CDATA[<h4 id="é—®é¢˜åŸå› "><a href="#é—®é¢˜åŸå› " class="headerlink" title="é—®é¢˜åŸå› "></a>é—®é¢˜åŸå› </h4><p>åœ¨ä½¿ç”¨gogsæ—¶ï¼Œ<code>git push</code> ä»£ç æŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">error: RPC failed; HTTP 413 curl 22 The requested URL returned error: 413 Request Entity Too Large</span><br></pre></td></tr></table></figure>

<p>ç»æŸ¥è¯ï¼Œæ˜¯æœåŠ¡å™¨ä¸Šçš„nginxé»˜è®¤æƒ…å†µä¸‹åªå…è®¸ä¸Šä¼ æœ€å¤§ <code>1m</code> å¤§å°çš„æ–‡ä»¶ã€‚nginxé»˜è®¤é…ç½®å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Syntax:		client_max_body_size size;</span><br><span class="line">Default:	client_max_body_size 1m;</span><br><span class="line">Context:	http, server, location</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h4><p>åœ¨ <code>nginx</code> çš„é…ç½®æ–‡ä»¶ <code>nginx.conf</code> ä¸­çš„ <code>http</code> æ®µå†…ï¼Œæ·»åŠ  <code>client_max_body_size</code> é…ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http &#123;</span><br><span class="line">	...</span><br><span class="line">	client_max_body_size 50m;</span><br><span class="line">	...</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<p>åé¢çš„ <code>50m</code> è¡¨ç¤ºæœ€å¤§å…è®¸ä¸Šä¼  <code>50M</code> å¤§å°çš„æ–‡ä»¶ã€‚</p>
<p>ç„¶åé‡æ–°åŠ è½½ <code>nginx</code> é…ç½®ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo service nginx reload</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="http://nginx.org/en/docs/http/ngx_http_core_module.html#client_max_body_size" target="_blank" rel="noopener">Module ngx_http_core_module</a></li>
<li><a href="http://yanghao.org/blog/archives/365" target="_blank" rel="noopener">nginx client_max_body_size çš„é—®é¢˜ | yanghao&#039;s blog</a></li>
<li><a href="http://stackoverflow.com/questions/7489813/github-push-error-rpc-failed-result-22-http-code-413" target="_blank" rel="noopener">git - Github Push Error: RPC failed; result=22, HTTP code = 413 - Stack Overflow</a></li>
</ul>
]]></content>
      <tags>
        <tag>Nginx</tag>
      </tags>
  </entry>
  <entry>
    <title>Pythonç‹¬ç«‹è¿è¡Œç¯å¢ƒVirtualenv</title>
    <url>/2016/12/28/python-independent-operating-environment-virtualenv/</url>
    <content><![CDATA[<p>Virtualenvå¯ä»¥ä¸ºæ¯ä¸ªPythonåº”ç”¨åˆ›å»ºç‹¬ç«‹çš„å¼€å‘ç¯å¢ƒï¼Œä½¿ä»–ä»¬äº’ä¸å½±å“ï¼ŒVirtualenvèƒ½å¤Ÿåšåˆ°ï¼š</p>
<ul>
<li>åœ¨æ²¡æœ‰æƒé™çš„æƒ…å†µä¸‹å®‰è£…æ–°å¥—ä»¶</li>
<li>ä¸åŒåº”ç”¨å¯ä»¥ä½¿ç”¨ä¸åŒçš„å¥—ä»¶ç‰ˆæœ¬</li>
<li>å¥—ä»¶å‡çº§ä¸å½±å“å…¶ä»–åº”ç”¨</li>
</ul>
<hr>
<h4 id="å®‰è£…virtualenv"><a href="#å®‰è£…virtualenv" class="headerlink" title="å®‰è£…virtualenv"></a>å®‰è£…virtualenv</h4><h5 id="ä½¿ç”¨pipå®‰è£…ï¼ˆæ¨èï¼‰"><a href="#ä½¿ç”¨pipå®‰è£…ï¼ˆæ¨èï¼‰" class="headerlink" title="ä½¿ç”¨pipå®‰è£…ï¼ˆæ¨èï¼‰"></a>ä½¿ç”¨pipå®‰è£…ï¼ˆæ¨èï¼‰</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo pip install virtualenv</span><br></pre></td></tr></table></figure>

<h5 id="ä½¿ç”¨-easy-install-å®‰è£…ï¼š"><a href="#ä½¿ç”¨-easy-install-å®‰è£…ï¼š" class="headerlink" title="ä½¿ç”¨ easy_install å®‰è£…ï¼š"></a>ä½¿ç”¨ easy_install å®‰è£…ï¼š</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo easy_install virtualenv</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h4><p>æˆ‘é€šå¸¸åˆ›å»ºä¸€ä¸ªåŒ…å«è™šæ‹Ÿåç§°ä¸º <code>venv</code> æ–‡ä»¶å¤¹çš„é¡¹ç›®æ–‡ä»¶å¤¹:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ mkdir myproject</span><br><span class="line">$ cd myproject</span><br><span class="line">$ virtualenv venv</span><br><span class="line">New python executable in venv&#x2F;bin&#x2F;python2</span><br><span class="line">Also creating executable in venv&#x2F;bin&#x2F;python</span><br><span class="line">Installing setuptools, pip...done.</span><br></pre></td></tr></table></figure>

<h4 id="æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ"><a href="#æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ"></a>æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</h4><p>ç°åœ¨ï¼Œæ¯æ¬¡éœ€è¦ä½¿ç”¨é¡¹ç›®æ—¶ï¼Œå¿…é¡»å…ˆæ¿€æ´»ç›¸åº”çš„ç¯å¢ƒã€‚</p>
<h5 id="åœ¨Linuxç³»ç»Ÿä¸‹æ‰§è¡Œ"><a href="#åœ¨Linuxç³»ç»Ÿä¸‹æ‰§è¡Œ" class="headerlink" title="åœ¨Linuxç³»ç»Ÿä¸‹æ‰§è¡Œ"></a>åœ¨Linuxç³»ç»Ÿä¸‹æ‰§è¡Œ</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ls</span><br><span class="line">-- venv</span><br><span class="line">$ source .&#x2F;venv&#x2F;bin&#x2F;activate</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;ç»“æœï¼š</span><br><span class="line">(venv)tiger@VirtualBox:~&#x2F;xbox&#x2F;myflask$</span><br></pre></td></tr></table></figure>

<h5 id="åœ¨Winç³»ç»Ÿä¸‹æ‰§è¡Œ"><a href="#åœ¨Winç³»ç»Ÿä¸‹æ‰§è¡Œ" class="headerlink" title="åœ¨Winç³»ç»Ÿä¸‹æ‰§è¡Œ"></a>åœ¨Winç³»ç»Ÿä¸‹æ‰§è¡Œ</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; ls</span><br><span class="line">venv&#x2F;</span><br><span class="line">&gt; venv\Scripts\activate.bat</span><br><span class="line">(venv) D:\YYYY</span><br></pre></td></tr></table></figure>

<p>ä½ ç°åœ¨å°±è¿›å…¥ä½ çš„ <code>virtualenv</code> è™šæ‹Ÿç¯å¢ƒäº†ï¼ˆ<strong>æ³¨æ„æŸ¥çœ‹ä½ çš„ <code>shell</code> æç¤ºç¬¦å·²ç»æ”¹å˜äº†</strong>ï¼‰ã€‚</p>
<hr>
<h4 id="é€€å‡ºè™šæ‹Ÿç¯å¢ƒ"><a href="#é€€å‡ºè™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="é€€å‡ºè™šæ‹Ÿç¯å¢ƒ"></a>é€€å‡ºè™šæ‹Ÿç¯å¢ƒ</h4><p>é€šè¿‡ <code>deactivate</code> å‘½ä»¤é€€å‡ºè™šæ‹Ÿç¯å¢ƒã€‚</p>
<hr>
<h4 id="virtualenv-å‘½ä»¤æ•´ç†"><a href="#virtualenv-å‘½ä»¤æ•´ç†" class="headerlink" title="virtualenv å‘½ä»¤æ•´ç†"></a>virtualenv å‘½ä»¤æ•´ç†</h4><h5 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pip install virtualenv</span><br></pre></td></tr></table></figure>

<h5 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">virtualenv &lt;EnvName&gt;</span><br></pre></td></tr></table></figure>

<h5 id="nix"><a href="#nix" class="headerlink" title="*nix"></a>*nix</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ source .&#x2F;venv&#x2F;bin&#x2F;activate</span><br></pre></td></tr></table></figure>

<p>æ­¤å¤„ <code>venv</code> ä¸º <code>&lt;EnvName&gt;</code></p>
<h5 id="Win"><a href="#Win" class="headerlink" title="Win"></a>Win</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; venv\Scripts\activate</span><br></pre></td></tr></table></figure>

<p>æ­¤å¤„ <code>venv</code> ä¸º <code>&lt;EnvName&gt;</code></p>
<h5 id="é€€å‡º"><a href="#é€€å‡º" class="headerlink" title="é€€å‡º"></a>é€€å‡º</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">deactivate</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="https://virtualenv-chinese-docs.readthedocs.io/en/latest/" target="_blank" rel="noopener">virtualenv &mdash; virtualenv 1.7.1.2.post1 documentation</a></li>
</ul>
<hr>
]]></content>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxç³»ç»Ÿä¸‹ä½¿ç”¨Gogsæ­å»ºGit Service</title>
    <url>/2016/12/26/use-gogs-to-build-yourself-git-server/</url>
    <content><![CDATA[<h4 id="åŸºæœ¬ç¯å¢ƒæ­å»º"><a href="#åŸºæœ¬ç¯å¢ƒæ­å»º" class="headerlink" title="åŸºæœ¬ç¯å¢ƒæ­å»º"></a>åŸºæœ¬ç¯å¢ƒæ­å»º</h4><ul>
<li>æ–°å»ºç”¨æˆ·</li>
</ul>
<p>Gogs é»˜è®¤ä»¥ <code>git</code> ç”¨æˆ·è¿è¡Œï¼ˆä½ åº”è¯¥ä¹Ÿä¸ä¼šæƒ³ä¸€ä¸ªèƒ½ä¿®æ”¹ <code>ssh</code> é…ç½®çš„ç¨‹åºä»¥ <code>root</code> ç”¨æˆ·è¿è¡Œå§ï¼Ÿï¼‰ã€‚<br>è¿è¡Œ <code>sudo adduser git</code> æ–°å»ºå¥½ <code>git</code> ç”¨æˆ·å¹¶è®¾ç½®å¯†ç ã€‚</p>
<p>ç„¶å <code>su - git</code> åˆ‡æ¢è‡³ <code>git</code> ç”¨æˆ·ç™»å½•ã€‚</p>
<p>å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo adduser git</span><br></pre></td></tr></table></figure>

<p>æ ¹æ®æç¤ºä¿¡æ¯ï¼Œè¾“å…¥æ–°è´¦æˆ· <code>git</code> å¯†ç ï¼Œå…¶ä»–ç”¨æˆ·ä¿¡æ¯ç›´æ¥æ•²å›è½¦å³å¯ã€‚</p>
<hr>
<ul>
<li>å®‰è£…git</li>
</ul>
<p>å› ä¸ºæ–°åˆ›å»ºçš„ç”¨æˆ· <code>git</code> æ²¡æœ‰è®¾ç½®ç®¡ç†å‘˜æƒé™ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆåœ¨ <code>root</code> è´¦æˆ·æˆ–å…¶ä»–ç®¡ç†å‘˜è´¦æˆ·ä¸‹å®‰è£… <code>git</code> :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get update</span><br><span class="line">$ sudo apt-get install git</span><br><span class="line">$ git --version  &#x2F;&#x2F;æ£€æŸ¥gitæ˜¯å¦å®‰è£…æˆåŠŸ</span><br></pre></td></tr></table></figure>

<hr>
<p>åˆ‡æ¢åˆ°æ–°åˆ›å»ºçš„gitç”¨æˆ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ su - git</span><br></pre></td></tr></table></figure>

<p>è¿›å…¥ç”¨æˆ·gitçš„æ ¹ç›®å½•ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd ~</span><br></pre></td></tr></table></figure>

<hr>
<ul>
<li>ä¸‹è½½è§£åŒ…</li>
</ul>
<p>æˆ‘ä½¿ç”¨çš„æ˜¯é¢„ç¼–è¯‘çš„äºŒè¿›åˆ¶å®‰è£…åŒ…ã€‚éœ€è¦ä»æºç ç¼–è¯‘çš„è¯ï¼Œè¯·å‚è€ƒä¸€èˆ¬ Go è¯­è¨€é¡¹ç›®çš„ç¼–è¯‘ã€‚</p>
<p>æ•°æ®åº“é‡‡ç”¨ <code>Sqlite3</code> æ•°æ®åº“ï¼Œå¦‚æƒ³ä½¿ç”¨<code>Mysql</code> è·å–å…¶ä»–æ•°æ®åº“ï¼Œè¯·å‚è€ƒå®˜ç½‘çš„å®‰è£…æ–¹æ³•ã€‚</p>
<p>åˆ›å»ºgogsåº”ç”¨çš„è§£å‹ç›®å½•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ mkdir goapp</span><br><span class="line">$ cd goapp</span><br><span class="line">$ pwd</span><br><span class="line">&#x2F;home&#x2F;git&#x2F;goapp</span><br></pre></td></tr></table></figure>

<p>ä» <a href="https://gogs.io/docs/installation/install_from_binary.html" target="_blank" rel="noopener">å®˜ç½‘</a> æˆ–ä» <a href="https://github.com/gogits/gogs/tags" target="_blank" rel="noopener">GitHub Tags</a> ä¸‹è½½å½“å‰æœ€æ–°çš„ç‰ˆæœ¬ <code>v0.9.13</code> ç‰ˆï¼Œ<a href="https://dl.gogs.io/gogs_v0.9.13_linux_amd64.zip" target="_blank" rel="noopener">linux amd64</a> å¹¶è§£å‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ wget https:&#x2F;&#x2F;dl.gogs.io&#x2F;gogs_v0.9.13_linux_amd64.zip</span><br><span class="line">$ unzip gogs_v0.9.13_linux_amd64.zip</span><br><span class="line">$ ls</span><br><span class="line">gogs gogs_v0.9.13_linux_amd64.zip</span><br></pre></td></tr></table></figure>

<p>è¿›å…¥ <code>gogs</code> ç›®å½•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd gogs</span><br><span class="line">$ ls</span><br><span class="line">gogs LICENSE public README.md README_ZH.md scripts templates</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºè‡ªå®šä¹‰é…ç½®æ–‡ä»¶ç›®å½•å¹¶ä¿®æ”¹æ–‡ä»¶å¤¹æƒé™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ mkdir custom</span><br><span class="line">$ mkdir custom&#x2F;conf</span><br><span class="line"></span><br><span class="line">$ sudo chmod -R 777 custom</span><br></pre></td></tr></table></figure>

<p>åœ¨å½“å‰ <code>git</code> ç”¨æˆ·ä¸‹ï¼Œå¦‚æœæç¤ºæ²¡æœ‰ <code>sudo</code> æƒé™ï¼Œå¯ä»¥å…ˆä¸´æ—¶æ›´æ–°ä¸ºå…¶ä»–ç”¨æˆ·ï¼Œæ›´æ”¹ç›®å½•è¯»å†™æƒé™ï¼Œæ”¹å®Œåå†åˆ‡æ¢å› <code>git</code> ç”¨æˆ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ su root</span><br><span class="line">$ sudo chmod -R 777 custom</span><br><span class="line">$ su - git</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºæ—¥å¿—ç›®å½•å¹¶ä¿®æ”¹æ–‡ä»¶å¤¹æƒé™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ mkdir log</span><br><span class="line"></span><br><span class="line">$ sudo chmod -R 777 log</span><br></pre></td></tr></table></figure>

<hr>
<ul>
<li>å¯åŠ¨gogs:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ pwd</span><br><span class="line">&#x2F;home&#x2F;git&#x2F;goapp&#x2F;gogs</span><br><span class="line"></span><br><span class="line">$ .&#x2F;gogs web</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œå‘½ä»¤åï¼Œå‡ºç° <code>Listen:http://0.0.0.0:3000</code> æç¤ºä¿¡æ¯ï¼Œè¡¨ç¤º <code>gogs</code> å¯åŠ¨æˆåŠŸã€‚</p>
<p>ç„¶åè®¿é—® <code>http://æœåŠ¡å™¨IP:3000/</code> æ¥è¿›è¡Œå®‰è£…ï¼Œå¡«å†™å¥½è¡¨å•ä¹‹åæäº¤å°±å¯ä»¥äº†ã€‚é»˜è®¤ç¬¬ä¸€ä¸ªåˆ›å»ºçš„è´¦æˆ·ä¸ºç®¡ç†å‘˜è´¦æˆ·ã€‚</p>
<p>è¡¨å•ä¸­æŒ‡å®šäº† <code>Database Settings</code> â€“ <code>Path</code> ä¸ºæ•°æ®åº“çš„å­˜æ”¾ç›®å½•ã€‚<code>Application General Settings</code> â€“ <code>Repository Root Path</code> ä¸ºä»“åº“æ–‡ä»¶çš„å­˜æ”¾ç›®å½•ã€‚</p>
<hr>
<h4 id="é…ç½®Nginx"><a href="#é…ç½®Nginx" class="headerlink" title="é…ç½®Nginx"></a>é…ç½®Nginx</h4><p>åœ¨ç®¡ç†å‘˜è´¦æˆ·ä¸‹æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install nginx</span><br></pre></td></tr></table></figure>

<p>åœ¨ <code>/etc/nginx/conf.d</code> ç›®å½•ä¸‹æ·»åŠ  <code>gogsweb.conf</code> æ–‡ä»¶ï¼Œå¡«å…¥å¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">server &#123;		</span><br><span class="line">	server_name git.****.com;</span><br><span class="line">	listen 80;</span><br><span class="line"></span><br><span class="line">	location &#x2F; &#123;</span><br><span class="line">		proxy_pass http:&#x2F;&#x2F;127.0.0.1:3000&#x2F;;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åé€šè¿‡ <code>sudo service nginx restart</code> é‡å¯ <code>nginx</code> æœåŠ¡ã€‚</p>
<hr>
<h4 id="é…ç½®-supervisor-å¯åŠ¨"><a href="#é…ç½®-supervisor-å¯åŠ¨" class="headerlink" title="é…ç½® supervisor å¯åŠ¨"></a>é…ç½® supervisor å¯åŠ¨</h4><p>åœ¨ç®¡ç†å‘˜è´¦æˆ·ä¸‹æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install supervisor</span><br></pre></td></tr></table></figure>

<p>åœ¨ <code>/etc/supervisor/conf.d</code> ç›®å½•ä¸‹æ·»åŠ  <code>gogsweb.conf</code> æ–‡ä»¶ï¼Œå¡«å…¥å¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[program:gogs]</span><br><span class="line">directory&#x3D;&#x2F;home&#x2F;git&#x2F;goapp&#x2F;gogs&#x2F;</span><br><span class="line">command&#x3D;&#x2F;home&#x2F;git&#x2F;goapp&#x2F;gogs&#x2F;gogs web</span><br><span class="line">autostart&#x3D;true</span><br><span class="line">autorestart&#x3D;true</span><br><span class="line">startsecs&#x3D;10</span><br><span class="line">stdout_logfile&#x3D;&#x2F;home&#x2F;git&#x2F;goapp&#x2F;gogs&#x2F;log&#x2F;stdout.log</span><br><span class="line">stdout_logfile_maxbytes&#x3D;1MB</span><br><span class="line">stdout_logfile_backups&#x3D;10</span><br><span class="line">stdout_capture_maxbytes&#x3D;1MB</span><br><span class="line">stderr_logfile&#x3D;&#x2F;home&#x2F;git&#x2F;goapp&#x2F;gogs&#x2F;log&#x2F;stderr.log</span><br><span class="line">stderr_logfile_maxbytes&#x3D;1MB</span><br><span class="line">stderr_logfile_backups&#x3D;10</span><br><span class="line">stderr_capture_maxbytes&#x3D;1MB</span><br><span class="line">user &#x3D; git</span><br><span class="line">environment &#x3D; HOME&#x3D;&quot;&#x2F;home&#x2F;git&quot;, USER&#x3D;&quot;git&quot;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šçš„é…ç½®ä¿¡æ¯åœ¨ <code>gogs</code> ç›®å½•ä¸‹çš„ <code>Scripts</code> æ–‡ä»¶å¤¹ä¸‹æœ‰ç»™å‡ºï¼Œå¯å‚è€ƒã€‚</p>
<h5 id="å¼€å¯-supervisor-UI-ç®¡ç†å°"><a href="#å¼€å¯-supervisor-UI-ç®¡ç†å°" class="headerlink" title="å¼€å¯ supervisor UI ç®¡ç†å°"></a>å¼€å¯ supervisor UI ç®¡ç†å°</h5><p>ç¼–è¾‘ <code>/etc/supervisor/supervisor.conf</code> ä¸»é…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹æˆ–æ·»åŠ (é€šè¿‡apt-getçš„æ–¹å¼å®‰è£…åä¸åŒ…å«è¯¥é…ç½®) ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[inet_http_server]         ; inet (TCP) server disabled by default</span><br><span class="line">port&#x3D;*:9001        ; (ip_address:port specifier, *:port for all iface)</span><br><span class="line">username&#x3D;user              ; (default is no username (open server))</span><br><span class="line">password&#x3D;123               ; (default is no password (open server))</span><br></pre></td></tr></table></figure>

<p><code>port</code> ä¸­ <code>*.9001</code> è¡¨ç¤ºæ¥å—ä»»æ„ç½‘ç»œçš„è¯·æ±‚ï¼Œå¦‚æœè®¾ç½®æˆ <code>127.0.0.1</code> åˆ™åªæ¥å—æœ¬åœ°è®¿é—®è¯·æ±‚ã€‚</p>
<p>é€šè¿‡é€šè¿‡ <code>sudo supervisorctl reload</code> é‡å¯æœåŠ¡ã€‚</p>
<p>é‡å¯ä¹‹åï¼Œå¦‚æœä¹‹å‰çš„é…ç½®ä¹Ÿæ²¡æœ‰é—®é¢˜çš„è¯ï¼Œç°åœ¨åœ¨æµè§ˆå™¨ä¸Šé€šè¿‡åŸŸåå³å¯æµè§ˆè¯¥ç«™ç‚¹äº†ã€‚</p>
<p>åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ <code>æœåŠ¡å™¨IP:9001</code> æ¥è®¿é—® supervisor UI çš„ç®¡ç†ç«¯é¡µé¢ã€‚</p>
<hr>
<h4 id="Gogsçš„ä¸ªæ€§åŒ–é…ç½®"><a href="#Gogsçš„ä¸ªæ€§åŒ–é…ç½®" class="headerlink" title="Gogsçš„ä¸ªæ€§åŒ–é…ç½®"></a>Gogsçš„ä¸ªæ€§åŒ–é…ç½®</h4><ol>
<li><p>é¡¶éƒ¨å¯¼èˆªèœå•ä¸­ â€œå¸®åŠ©â€ é“¾æ¥æ–‡å­—ï¼Œæœªç™»å½•ç”¨æˆ·ä¸æ˜¾ç¤º â€œå¸®åŠ©â€ æŒ‰é’®ï¼š</p>
<ul>
<li>ç›®å½•:   <code>gogs\templates\base\head.tmpl</code></li>
<li>ä½ç½®ï¼š  </li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;a class&#x3D;&quot;item&quot; target&#x3D;&quot;_blank&quot; href&#x3D;&quot;http:&#x2F;&#x2F;gogs.io&#x2F;docs&quot; rel&#x3D;&quot;noreferrer&quot;&gt;&#123;&#123;.i18n.Tr &quot;help&quot;&#125;&#125;&lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>å°† <code></code> æ ‡ç­¾ä¸‹é¢çš„æ”¹è¡Œæ³¨é‡Šæ‰ã€‚</li>
</ul>
</li>
<li><p>åº•éƒ¨å³ä¸‹è§’æ˜¾ç¤º â€œå®˜æ–¹ç½‘ç«™â€ å­—æ ·ï¼Œä¿®æ”¹ä¸º â€œGogså®˜æ–¹ç½‘ç«™â€ï¼š</p>
<ul>
<li>ç›®å½•ï¼š <code>gogs\templates\base\footer.tmpl</code></li>
<li>ä½ç½®ï¼š </li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;a target&#x3D;&quot;_blank&quot; href&#x3D;&quot;http:&#x2F;&#x2F;gogs.io&quot;&gt;&#123;&#123;.i18n.Tr &quot;website&quot;&#125;&#125;&lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ›´æ”¹ä¸ºï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;a target&#x3D;&quot;_blank&quot; href&#x3D;&quot;https:&#x2F;&#x2F;gogs.io&quot;&gt;Gogs&#123;&#123;.i18n.Tr &quot;website&quot;&#125;&#125;&lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é¦–é¡µï¼Œé¦–é¡µæ ·å¼æ”¹ç‰ˆï¼š</p>
<ul>
<li>ç›®å½•ï¼š <code>gogs\templates\home.tmpl</code></li>
</ul>
</li>
<li><p>ä¸ºmdæ–‡ä»¶ä¸­çš„aæ ‡ç­¾é“¾æ¥æ·»åŠ targetå±æ€§ï¼Œåœ¨æ–°é¡µé¢æ‰“å¼€</p>
<p> åœ¨ <code>goapp/gogs/public/js/</code> ç›®å½•ä¸‹ï¼Œæ·»åŠ åä¸º <code>mdlinktarget-1.0.min.js</code> å†…å®¹å¦‚ä¸‹ï¼š</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$(document).ready(function()&#123;$(&#39;#file-content a[href^&#x3D;&quot;http&quot;]&#39;).each(function()&#123;$(this).attr(&quot;target&quot;,&quot;_blank&quot;)&#125;)&#125;);</span><br></pre></td></tr></table></figure>

<p>åœ¨é¡¹ç›®ç›®å½• <code>gogs\templates\base</code> ä¸‹æ‰¾åˆ° <code>footer.tmpl</code> æ–‡ä»¶ï¼Œåœ¨æœ€ä¸‹é¢æ·»åŠ jså¼•ç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script src&#x3D;&quot;&#123;&#123;AppSubUrl&#125;&#125;&#x2F;js&#x2F;mdlinktarget-1.0.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h4><ul>
<li><a href="https://gogs.io/docs/installation" target="_blank" rel="noopener">Installation - Gogs - Go Git Service</a></li>
<li><a href="https://mynook.info/blog/post/host-your-own-git-server-using-gogs" target="_blank" rel="noopener">ä½¿ç”¨ Gogs æ­å»ºè‡ªå·±çš„ Git æœåŠ¡å™¨ - My Nook</a></li>
</ul>
]]></content>
      <tags>
        <tag>Gogs</tag>
        <tag>Git Server</tag>
        <tag>ä»£ç ç®¡ç†</tag>
      </tags>
  </entry>
  <entry>
    <title>é…ç½®Dockeré•œåƒåŠ é€Ÿå™¨</title>
    <url>/2016/12/26/setting-docker-mirror-image-accelerator/</url>
    <content><![CDATA[<p>ç”±äºâ€œä½ æ‡‚å¾—â€çš„åŸå› ï¼Œåœ¨å›½å†…è·å–Dockeré•œåƒæ—¶ç»å¸¸å› ä¸ºç½‘ç»œåŸå› è€Œä¸‹è½½å¤±è´¥ï¼Œæœ‰äº›äººä¼šé€‰æ‹©â€œç•ªèŒ„â€ï¼Œä½†æ˜¯é…ç½®èµ·æ¥ç€å®éº»çƒ¦ã€‚æ‰€ä»¥é€‰æ‹©å›½å†…çš„é•œåƒåŠ é€Ÿå™¨æ˜¯ç›®å‰è§£å†³è¯¥é—®é¢˜çš„æœ€å¥½æ–¹æ³•ã€‚è¿™é‡Œæˆ‘ä¸»è¦ä»‹ç»é˜¿é‡Œäº‘çš„Dockeré•œåƒåŠ é€Ÿå™¨å’ŒDaoCloadçš„é•œåƒåŠ é€Ÿå™¨çš„é…ç½®æ–¹æ³•ã€‚</p>
<p>æ³¨æ„ï¼šé’ˆå¯¹äº Ubunt16.04ç³»ç»Ÿä¸‹çš„Dockeré…ç½®é•œåƒåŠ é€Ÿå™¨ï¼Œå¯ç›´æ¥å‚è€ƒæ•´ç†çš„æœ€æ–°æ–‡ç« ï¼š<a href="/2017/01/14/ubuntu-install-docker-and-configure-mirror-accelerator/">Ubuntu16.04å®‰è£…DockeråŠé…ç½®é•œåƒåŠ é€Ÿå™¨</a></p>
<p><strong>æ³¨æ„ï¼šç”±äºè¯¥æ–‡ç« å†™äº2016å¹´12æœˆï¼Œå…¶ä¸­çš„ä¸€äº›é…ç½®æ–¹æ³•å¯èƒ½å·²è¿‡æ—¶ï¼Œå»ºè®®æœç´¢æœ¬ç«™å…¶ä»–ç›¸å…³æ–‡ç« ä¸­çš„æœ€æ–°è®¾ç½®æ–¹æ³•ã€‚</strong></p>
<h4 id="é…ç½®é˜¿é‡Œäº‘Dockeré•œåƒåŠ é€Ÿå™¨"><a href="#é…ç½®é˜¿é‡Œäº‘Dockeré•œåƒåŠ é€Ÿå™¨" class="headerlink" title="é…ç½®é˜¿é‡Œäº‘Dockeré•œåƒåŠ é€Ÿå™¨"></a>é…ç½®é˜¿é‡Œäº‘Dockeré•œåƒåŠ é€Ÿå™¨</h4><p>æ‰“å¼€ <code>å®˜æ–¹åœ°å€</code> <a href="https://dev.aliyun.com/" target="_blank" rel="noopener">å¼€å‘è€…å¹³å°</a>  â€“  <code>ç®¡ç†ä¸­å¿ƒ</code> â€“ <code>åŠ é€Ÿå™¨</code> ã€‚å¯ä»¥çœ‹åˆ° â€œæ‚¨çš„ä¸“å±åŠ é€Ÿå™¨åœ°å€â€ å³ <code>https://xxxxxxx.mirror.aliyuncs.com</code> ã€‚</p>
<h5 id="Ubuntuç³»ç»Ÿä¸‹å¦‚ä½•é…ç½®"><a href="#Ubuntuç³»ç»Ÿä¸‹å¦‚ä½•é…ç½®" class="headerlink" title="Ubuntuç³»ç»Ÿä¸‹å¦‚ä½•é…ç½®"></a>Ubuntuç³»ç»Ÿä¸‹å¦‚ä½•é…ç½®</h5><p>å› ä¸ºæˆ‘çš„ç³»ç»Ÿä¸º <code>Ubuntu 15.04</code> , æ‰€ä»¥è¿™é‡Œä»…ä»¥Ubuntuç³»ç»Ÿä¸‹çš„é…ç½®æ–¹æ³•ä¸ºä¾‹ï¼Œå…¶ä»–ç³»ç»Ÿå¯å‚è€ƒå®˜ç½‘ä¸­çš„è¯´æ˜ã€‚</p>
<h6 id="å®‰è£…æˆ–å‡çº§Docker"><a href="#å®‰è£…æˆ–å‡çº§Docker" class="headerlink" title="å®‰è£…æˆ–å‡çº§Docker"></a>å®‰è£…æˆ–å‡çº§Docker</h6><p>è¿™é‡Œè¦æ±‚å¿…é¡»æ˜¯ 1.6.0 ä»¥ä¸Šç‰ˆæœ¬çš„Dockerã€‚å¯ä»¥ä»é˜¿é‡Œäº‘çš„é•œåƒä»“åº“ä¸‹è½½ <a href="mirrors.aliyun.com/help/docker-engine">mirrors.aliyun.com/help/docker-engine</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl -sSL http:&#x2F;&#x2F;acs-public-mirror.oss-cn-hangzhou.aliyuncs.com&#x2F;docker-engine&#x2F;internet | sh -</span><br></pre></td></tr></table></figure>

<h6 id="é…ç½®DockeråŠ é€Ÿå™¨"><a href="#é…ç½®DockeråŠ é€Ÿå™¨" class="headerlink" title="é…ç½®DockeråŠ é€Ÿå™¨"></a>é…ç½®DockeråŠ é€Ÿå™¨</h6><p>å¦‚æœUbuntuç³»ç»Ÿæ˜¯ <code>12.04</code> <code>14.04</code> ï¼Œ<code>Docker 1.9</code> ä»¥ä¸Šï¼Œ æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">echo &quot;DOCKER_OPTS&#x3D;\&quot;\$DOCKER_OPTS --registry-mirror&#x3D;https:&#x2F;&#x2F;xxxxxxx.mirror.aliyuncs.com\&quot;&quot; | sudo tee -a &#x2F;etc&#x2F;default&#x2F;docker</span><br><span class="line">sudo service docker restart</span><br></pre></td></tr></table></figure>

<p>å¦‚æœUbuntuç³»ç»Ÿæ˜¯ <code>15.04</code> <code>16.04</code> ï¼Œ<code>Docker 1.9</code> ä»¥ä¸Šï¼Œ æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo mkdir -p &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;docker.service.d</span><br><span class="line">sudo tee &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;docker.service.d&#x2F;mirror.conf &lt;&lt;-&#39;EOF&#39;</span><br><span class="line">[Service]</span><br><span class="line">ExecStart&#x3D;</span><br><span class="line">ExecStart&#x3D;&#x2F;usr&#x2F;bin&#x2F;docker daemon -H fd:&#x2F;&#x2F; --registry-mirror&#x3D;https:&#x2F;&#x2F;xxxxxxx.mirror.aliyuncs.com</span><br><span class="line">EOF</span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>

<p>ç­‰å¾…DockeræœåŠ¡é‡å¯åï¼Œå†æ¬¡ä¸‹è½½é•œåƒåˆ™éå¸¸å¿«äº†ã€‚</p>
<hr>
<h4 id="é…ç½®DaoCloadçš„é•œåƒåŠ é€Ÿå™¨"><a href="#é…ç½®DaoCloadçš„é•œåƒåŠ é€Ÿå™¨" class="headerlink" title="é…ç½®DaoCloadçš„é•œåƒåŠ é€Ÿå™¨"></a>é…ç½®DaoCloadçš„é•œåƒåŠ é€Ÿå™¨</h4><p>æ‰“å¼€ <code>å®˜æ–¹åœ°å€</code> <a href="http://www.daocloud.io/" target="_blank" rel="noopener">DaoCloud</a> â€“ <code>äº§å“</code> â€“ <code>åŠ é€Ÿå™¨</code> â€“ <code>ç«‹å³ä½¿ç”¨</code> ã€‚</p>
<h5 id="Linuxç³»ç»Ÿé…ç½®-Docker-åŠ é€Ÿå™¨"><a href="#Linuxç³»ç»Ÿé…ç½®-Docker-åŠ é€Ÿå™¨" class="headerlink" title="Linuxç³»ç»Ÿé…ç½® Docker åŠ é€Ÿå™¨"></a>Linuxç³»ç»Ÿé…ç½® Docker åŠ é€Ÿå™¨</h5><h6 id="å‘½ä»¤è„šæœ¬è‡ªåŠ¨é…ç½®-ï¼ˆæ¨èï¼‰"><a href="#å‘½ä»¤è„šæœ¬è‡ªåŠ¨é…ç½®-ï¼ˆæ¨èï¼‰" class="headerlink" title="å‘½ä»¤è„šæœ¬è‡ªåŠ¨é…ç½® ï¼ˆæ¨èï¼‰"></a>å‘½ä»¤è„šæœ¬è‡ªåŠ¨é…ç½® ï¼ˆæ¨èï¼‰</h6><p>DaoCloudä¹Ÿä¼šä¸ºä½ åˆ†é…ä¸€ä¸ªä¸“å±çš„åŠ é€Ÿå™¨åœ°å€ï¼Œå¯ä»¥ç›´æ¥æ‹·è´é¡µé¢ä¸­ç»™å‡ºçš„ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># curl -sSL https:&#x2F;&#x2F;get.daocloud.io&#x2F;daotools&#x2F;set_mirror.sh | sh -s http:&#x2F;&#x2F;xxxxxx.m.daocloud.io</span><br></pre></td></tr></table></figure>

<p>è¯¥è„šæœ¬å¯ä»¥å°† <code>--registry-mirror</code> åŠ å…¥åˆ°ä½ çš„ Docker é…ç½®æ–‡ä»¶ <code>/etc/default/docker</code> ä¸­ã€‚é€‚ç”¨äº Ubuntu14.04ã€Debianã€CentOS6 ã€CentOS7ã€Fedoraã€Arch Linuxã€openSUSE Leap 42.1ï¼Œå…¶ä»–ç‰ˆæœ¬å¯èƒ½æœ‰ç»†å¾®ä¸åŒã€‚</p>
<h6 id="æ‰‹åŠ¨é…ç½®"><a href="#æ‰‹åŠ¨é…ç½®" class="headerlink" title="æ‰‹åŠ¨é…ç½®"></a>æ‰‹åŠ¨é…ç½®</h6><p>ä¹Ÿå¯ä»¥è‡ªå·±æ‰‹åŠ¨ä¿®æ”¹ã€‚</p>
<p>åœ¨ <code>/etc/default/docker</code> æ–‡ä»¶åº•éƒ¨æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo vim &#x2F;etc&#x2F;default&#x2F;docker</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DOCKER_OPTS&#x3D;&quot;$DOCKER_OPTS --registry-mirror&#x3D;http:&#x2F;&#x2F;xxxxxx.m.daocloud.io&quot;</span><br></pre></td></tr></table></figure>

<h6 id="é‡å¯DockeræœåŠ¡"><a href="#é‡å¯DockeræœåŠ¡" class="headerlink" title="é‡å¯DockeræœåŠ¡"></a>é‡å¯DockeræœåŠ¡</h6><p>é…ç½®å®Œæˆåéœ€è¦é‡å¯dockeræœåŠ¡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo service docker restart</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h4><ul>
<li>å¦‚æœä½ çš„ç³»ç»Ÿå½“å‰ç™»é™†ç”¨æˆ·ä¸æ˜¯ç®¡ç†å‘˜è´¦æˆ·çš„è¯ï¼Œè®°å¾—æ·»åŠ  <code>sudo</code> ä»¥å…æ‰§è¡Œå¤±è´¥ã€‚</li>
<li><strong>ä¸Šæ–‡ä»£ç æ®µä¸­ç»™å‡ºçš„é•œåƒåŠ é€Ÿå™¨åœ°å€ä¸­çš„ <code>xxxxxxx</code> ä¸ºé˜¿é‡Œäº‘æˆ–DaoCloudåœ¨ä½ æ³¨å†Œè´¦æˆ·ååˆ†é…çš„æŒ‡å®šåœ°å€åç§°ï¼Œåˆ‡è®°è¦ä¿®æ”¹ä¸ºè‡ªå·±è´¦æˆ·çš„ç»™å®šåœ°å€ã€‚</strong></li>
</ul>
<hr>
<h4 id="ç›¸å…³é“¾æ¥"><a href="#ç›¸å…³é“¾æ¥" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h4><ul>
<li><a href="https://dev.aliyun.com/" target="_blank" rel="noopener">é˜¿é‡Œäº‘å¼€å‘è€…å¹³å°</a></li>
<li><a href="http://www.daocloud.io/" target="_blank" rel="noopener">DaoCloud</a></li>
<li><a href="https://yq.aliyun.com/articles/29941" target="_blank" rel="noopener">Docker é•œåƒåŠ é€Ÿå™¨-åšå®¢-äº‘æ –ç¤¾åŒº-é˜¿é‡Œäº‘</a></li>
<li><a href="http://www.jianshu.com/p/bc35ea82b61d" target="_blank" rel="noopener">ä½¿ç”¨DaoCloudå®‰è£…Dockerå’Œé•œåƒ - ç®€ä¹¦</a></li>
</ul>
]]></content>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>Alpineä¸‹é…ç½®Seleniumè¿è¡Œç¯å¢ƒ</title>
    <url>/2016/10/19/configuration-the-selenium-running-environment-in-alpine/</url>
    <content><![CDATA[<h4 id="é…ç½®ç¯å¢ƒ"><a href="#é…ç½®ç¯å¢ƒ" class="headerlink" title="é…ç½®ç¯å¢ƒ"></a>é…ç½®ç¯å¢ƒ</h4><ul>
<li>Alpine Linux 3.4</li>
</ul>
<h4 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h4><h5 id="è®¾ç½®è½¯ä»¶å®‰è£…æº"><a href="#è®¾ç½®è½¯ä»¶å®‰è£…æº" class="headerlink" title="è®¾ç½®è½¯ä»¶å®‰è£…æº"></a>è®¾ç½®è½¯ä»¶å®‰è£…æº</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ echo &quot;http:&#x2F;&#x2F;dl-4.alpinelinux.org&#x2F;alpine&#x2F;v3.4&#x2F;main&quot; &gt;&gt; &#x2F;etc&#x2F;apk&#x2F;repositories</span><br></pre></td></tr></table></figure>

<h5 id="å®‰è£…ä¾èµ–åŒ…"><a href="#å®‰è£…ä¾èµ–åŒ…" class="headerlink" title="å®‰è£…ä¾èµ–åŒ…"></a>å®‰è£…ä¾èµ–åŒ…</h5><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ apk update</span><br><span class="line">$ apk add python py-pip curl unzip</span><br><span class="line">$ pip install selenium</span><br></pre></td></tr></table></figure>

<h4 id="æ”¯æŒçš„æµè§ˆå™¨åŠ-WebDriver-é©±åŠ¨"><a href="#æ”¯æŒçš„æµè§ˆå™¨åŠ-WebDriver-é©±åŠ¨" class="headerlink" title="æ”¯æŒçš„æµè§ˆå™¨åŠ WebDriver é©±åŠ¨"></a>æ”¯æŒçš„æµè§ˆå™¨åŠ WebDriver é©±åŠ¨</h4><p>è¿™é‡Œæˆ‘ä»¥å¸¸ç”¨çš„Chrome å’Œ Firefox ä¸ºä¾‹ï¼Œæ¥é…ç½®è¿è¡Œç¯å¢ƒã€‚</p>
<h4 id="Seleniumè°ƒç”¨Chromeæµè§ˆå™¨"><a href="#Seleniumè°ƒç”¨Chromeæµè§ˆå™¨" class="headerlink" title="Seleniumè°ƒç”¨Chromeæµè§ˆå™¨"></a>Seleniumè°ƒç”¨Chromeæµè§ˆå™¨</h4><p>Alpineç³»ç»Ÿä¸‹é¢ä½¿ç”¨Chromeæ¨èå®‰è£…å¼€æºçš„ Chromium æµè§ˆå™¨</p>
<h5 id="å®‰è£…-Chromium"><a href="#å®‰è£…-Chromium" class="headerlink" title="å®‰è£… Chromium"></a>å®‰è£… Chromium</h5><p>å› ä¸ºåœ¨è½¯ä»¶åº“ä¸­å­˜åœ¨ <code>Chromium</code> çš„åŒ…ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥é€šè¿‡ <code>apk</code> æ¥å®‰è£…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ apk add chromium</span><br></pre></td></tr></table></figure>

<p>ç„¶åè¿˜è¦å®‰è£… chromium çš„ä¾èµ–åŒ…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ apk add libexif udev</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ²¡æœ‰å®‰è£… <code>libexif</code> <code>udev</code> è¿™ä¸¤ä¸ªä¾èµ–åŒ…ï¼Œä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ï¼ŒChromiumæµè§ˆå™¨ä¼šæ— æ³•å¯åŠ¨ï¼š</p>
<blockquote>
<p>selenium.common.exceptions.WebDriverException: Message: unknown error: Chrome failed to start: crashed</p>
</blockquote>
<p>ä¸Šé¢å‘½ä»¤æ‰§è¡Œå®Œæˆåï¼Œchromium æµè§ˆå™¨å°±å®‰è£…å¥½äº†ã€‚å¯ä»¥é€šè¿‡å‘½ä»¤ <code>chromium-browser</code> æ¥æµ‹è¯•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ chromium-browser</span><br><span class="line">[54:54:1019&#x2F;081743:ERROR:browser_main_loop.cc(261)] Gtk: cannot open display:</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºåœ¨ Server ç³»ç»Ÿä¸‹æ²¡æœ‰æ˜¾ç¤ºçª—å£ï¼Œæç¤ºä¸Šé¢çš„ä¿¡æ¯è¯´æ˜ chromium ç¨‹åºå¯ä»¥è°ƒç”¨çš„åˆ°ï¼Œåªæ˜¯æ— æ³•æ˜¾ç¤ºã€‚</p>
<h5 id="å®‰è£…-ChromeDriver"><a href="#å®‰è£…-ChromeDriver" class="headerlink" title="å®‰è£… ChromeDriver"></a>å®‰è£… ChromeDriver</h5><p>ChromeDriveræ˜¯ä¸€ä¸ªå®ç°äº†WebDriverä¸Chromiumè”æ¥åè®®çš„ç‹¬ç«‹æœåŠ¡ã€‚</p>
<h6 id="é€šè¿‡-apk-å®‰è£…"><a href="#é€šè¿‡-apk-å®‰è£…" class="headerlink" title="é€šè¿‡ apk å®‰è£…"></a>é€šè¿‡ apk å®‰è£…</h6><p>æˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤æ¥å®‰è£… <code>chromedriver</code> ç¨‹åºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ apk add chromium-chromedriver</span><br></pre></td></tr></table></figure>

<h6 id="æµ‹è¯•-ChromeDriver"><a href="#æµ‹è¯•-ChromeDriver" class="headerlink" title="æµ‹è¯• ChromeDriver"></a>æµ‹è¯• ChromeDriver</h6><p>æ‰§è¡Œ <code>chromedriver</code> æŸ¥çœ‹æ˜¯å¦èƒ½æ­£å¸¸è¿è¡Œã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ chromedriver</span><br><span class="line">Starting ChromeDriver 2.22 (5e2d5494d735a71aa5c2e7ef9bf5ce96945e92e9) on port 9515</span><br><span class="line">Only local connections are allowed.</span><br></pre></td></tr></table></figure>

<p>å½“æç¤º <code>Starting ChromeDriver xxx on port 9515</code> ä¿¡æ¯æ—¶ï¼Œè¯´æ˜ <code>ChromeDriver</code> è®¾ç½®æˆåŠŸã€‚  </p>
<hr>
<h4 id="Seleniumè°ƒç”¨Firefoxæµè§ˆå™¨"><a href="#Seleniumè°ƒç”¨Firefoxæµè§ˆå™¨" class="headerlink" title="Seleniumè°ƒç”¨Firefoxæµè§ˆå™¨"></a>Seleniumè°ƒç”¨Firefoxæµè§ˆå™¨</h4><h5 id="å®‰è£…-Firefox-æµè§ˆå™¨"><a href="#å®‰è£…-Firefox-æµè§ˆå™¨" class="headerlink" title="å®‰è£… Firefox æµè§ˆå™¨"></a>å®‰è£… Firefox æµè§ˆå™¨</h5><p>å¯ä»¥é€šè¿‡ <code>apk</code> ç›´æ¥å®‰è£… Firefox æµè§ˆå™¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ apk add firefox-esr</span><br></pre></td></tr></table></figure>

<p>ç„¶åè¿˜è¦å®‰è£… firefox çš„ä¾èµ–åŒ…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ apk add dbus-x11 ttf-freefont</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ <code>dbus-x11</code> ä¸­ <code>x11</code> ä¸­æ˜¯æ•°å­—1ï¼Œ<code>D-Bus</code> æ˜¯ä¸€ä¸ªæ¶ˆæ¯æ€»çº¿ï¼Œç”¨äºåœ¨åº”ç”¨ç¨‹åºé—´å‘é€æ¶ˆæ¯ã€‚ å¦‚æœä¸å®‰è£…ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ä¿¡æ¯ï¼š</p>
<blockquote>
<p>selenium.common.exceptions.WebDriverException: Message: connection refused</p>
</blockquote>
<p>åœ¨ geckodriver.log æ–‡ä»¶ä¸­æŸ¥çœ‹åˆ°å¦‚ä¸‹ä¿¡æ¯:</p>
<blockquote>
<p>process 116: D-Bus library appears to be incorrectly set up; failed to read machine uuid: Failed to open â€œ/etc/machine-idâ€: No such file or directory<br>See the manual page for dbus-uuidgen to correct this issue.<br>  D-Bus not compiled with backtrace support so unable to print a backtrace<br>Redirecting call to abort() to mozalloc_abort</p>
</blockquote>
<hr>
<p>å…¶ä¸­ <code>ttf-freefont</code> æ˜¯ä¸€ä¸ªå­—ä½“ç›¸å…³çš„ä¾èµ–åŒ…ï¼Œå¦‚æœä¸å®‰è£…ä¼šæŠ¥å¦‚ä¸‹é”™ï¼š</p>
<blockquote>
<p>selenium.common.exceptions.WebDriverException: Message: Failed to decode response from marionette</p>
</blockquote>
<p>åœ¨ geckodriver.log æ–‡ä»¶ä¸­æŸ¥çœ‹åˆ°å¦‚ä¸‹ä¿¡æ¯:</p>
<blockquote>
<p>Crash Annotation GraphicsCriticalError: |[0][GFX1]: no fonts - init: 1 fonts: 0 loader: 0[GFX1]: no fonts - init: 1 fonts: 0 loader: 0<br>^G[162] ###!!! ABORT: unable to find a usable font (serif): file /home/buildozer/aports/community/firefox-esr/src/firefox-45.4.0esr/gfx/thebes/gfxTextRun.cpp<br>[162] ###!!! ABORT: unable to find a usable font (serif): file /home/buildozer/aports/community/firefox-esr/src/firefox-45.4.0esr/gfx/thebes/gfxTextRun.cpp,</p>
</blockquote>
<hr>
<p>å¯é€šè¿‡å‘½ä»¤ <code>firefox</code> æµ‹è¯• firefoxæµè§ˆå™¨æ˜¯å¦å®‰è£…æˆåŠŸï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ firefox</span><br><span class="line">Error: no display specified</span><br></pre></td></tr></table></figure>

<p>åŒæ ·çš„ï¼Œç”±äºæ²¡æœ‰æ˜¾ç¤ºçª—å£ï¼Œä¹Ÿä¼šæç¤º <code>no display</code> çš„é”™è¯¯ã€‚</p>
<h5 id="å®‰è£…-geckodriver"><a href="#å®‰è£…-geckodriver" class="headerlink" title="å®‰è£… geckodriver"></a>å®‰è£… geckodriver</h5><h6 id="ä¸‹è½½-geckodriver"><a href="#ä¸‹è½½-geckodriver" class="headerlink" title="ä¸‹è½½ geckodriver"></a>ä¸‹è½½ geckodriver</h6><p>è®¿é—®ç«™ç‚¹ <a href="https://github.com/mozilla/geckodriver/releases" target="_blank" rel="noopener">geckodriver</a> ä¸‹è½½å½“å‰ç³»ç»Ÿå¯¹åº” geckodriver ç¨‹åºã€‚</p>
<p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl https:&#x2F;&#x2F;github.com&#x2F;mozilla&#x2F;geckodriver&#x2F;releases&#x2F;download&#x2F;v0.11.1&#x2F;geckodriver-v0.11.1-linux64.tar.gz -O</span><br><span class="line"></span><br><span class="line">$ tar -zxvf geckodriver-v0.11.1-linux64.tar.gz</span><br><span class="line"></span><br><span class="line">$ ls</span><br><span class="line">geckodriver</span><br></pre></td></tr></table></figure>

<p>è§£å‹åæˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ª <code>geckodriver</code> æ‰§è¡Œç¨‹åºã€‚</p>
<p>è¯¥ <code>geckodriver</code> å‹ç¼©åŒ…å¯èƒ½ç”±äºç½‘ç»œåŸå› ä¸‹è½½å¤±è´¥ï¼Œå¯é€šè¿‡è¿…é›·ç­‰è½¯ä»¶ä¸‹è½½åæ‹·è´åˆ°Linuxç³»ç»Ÿä¸­ã€‚</p>
<h6 id="å°†-geckodriver-æ”¾åˆ°ç³»ç»Ÿ-PATH-ç›®å½•ä¸‹"><a href="#å°†-geckodriver-æ”¾åˆ°ç³»ç»Ÿ-PATH-ç›®å½•ä¸‹" class="headerlink" title="å°† geckodriver æ”¾åˆ°ç³»ç»Ÿ PATH ç›®å½•ä¸‹"></a>å°† geckodriver æ”¾åˆ°ç³»ç»Ÿ PATH ç›®å½•ä¸‹</h6><p>æˆ‘ä»¬å¯ä»¥åœ¨ç¨‹åºä¸­æŒ‡å®šå…·ä½“çš„ geckodriver æ‰€åœ¨çš„ç›®å½•ï¼Œä¸æŒ‡å®šçš„è¯ä¼šé»˜è®¤å»ç³»ç»ŸPATHç›®å½•ä¸‹æ‰¾ã€‚ä¸ºäº†ç¼–ç¨‹æ–¹ä¾¿ï¼Œæˆ‘ä»¬å°†å…¶æ”¾åˆ°ç³»ç»ŸPATHç›®å½•ä¸‹ã€‚</p>
<p>æŸ¥çœ‹ç³»ç»Ÿç›®å½•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ echo $PATH</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæˆ‘å°†å…¶æ”¾åˆ° <code>/usr/local/bin/</code> ç›®å½•ä¸‹ï¼Œå¹¶æ·»åŠ å¯æ‰§è¡Œæƒé™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ mv .&#x2F;geckodriver &#x2F;usr&#x2F;local&#x2F;bin&#x2F;</span><br><span class="line"></span><br><span class="line">$ chmod a+x &#x2F;usr&#x2F;local&#x2F;bin&#x2F;geckodriver</span><br></pre></td></tr></table></figure>

<h6 id="æµ‹è¯•-geckodriver"><a href="#æµ‹è¯•-geckodriver" class="headerlink" title="æµ‹è¯• geckodriver"></a>æµ‹è¯• geckodriver</h6><p>æ‰§è¡Œ <code>geckodriver</code> æŸ¥çœ‹æ˜¯å¦èƒ½æ­£å¸¸è¿è¡Œã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ geckodriver </span><br><span class="line">1476443497207	geckodriver	INFO	Listening on 127.0.0.1:4444</span><br></pre></td></tr></table></figure>

<p>å½“æç¤º <code>Listening on 127.0.0.1:4444</code> ä¿¡æ¯æ—¶ï¼Œè¯´æ˜ <code>geckodriver</code> è®¾ç½®æˆåŠŸã€‚  </p>
<p>å¦‚æœæç¤ºå¦‚ä¸‹é”™è¯¯ä¿¡æ¯ï¼Œåˆ™æ˜¯åœ¨ç³»ç»ŸPATHä¸‹æ‰¾ä¸åˆ° <code>geckodriver</code> :</p>
<blockquote>
<p>selenium.common.exceptions.WebDriverException: Message: â€˜geckodriverâ€™ executable needs to be in PATH.</p>
</blockquote>
<hr>
<h4 id="å®‰è£…è™šæ‹Ÿæ˜¾ç¤ºå™¨-xvfb"><a href="#å®‰è£…è™šæ‹Ÿæ˜¾ç¤ºå™¨-xvfb" class="headerlink" title="å®‰è£…è™šæ‹Ÿæ˜¾ç¤ºå™¨ xvfb"></a>å®‰è£…è™šæ‹Ÿæ˜¾ç¤ºå™¨ xvfb</h4><h5 id="ä¸ºä»€ä¹ˆè¦ç”¨-xvfb"><a href="#ä¸ºä»€ä¹ˆè¦ç”¨-xvfb" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ç”¨ xvfb??"></a>ä¸ºä»€ä¹ˆè¦ç”¨ xvfb??</h5><p>xvfb è¿™ä¸ªå·¥å…·ç›¸å½“äºä¸€ä¸ªwrapperï¼Œç»™åº”ç”¨ç¨‹åºæä¾›è™šæ‹Ÿçš„ X server</p>
<h5 id="æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…"><a href="#æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…" class="headerlink" title="æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…"></a>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ apk add xvfb</span><br><span class="line">$ pip install pyvirtualdisplay</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="æµ‹è¯•-selenium-è°ƒç”¨æµè§ˆå™¨è·å–ç½‘é¡µ"><a href="#æµ‹è¯•-selenium-è°ƒç”¨æµè§ˆå™¨è·å–ç½‘é¡µ" class="headerlink" title="æµ‹è¯• selenium è°ƒç”¨æµè§ˆå™¨è·å–ç½‘é¡µ"></a>æµ‹è¯• selenium è°ƒç”¨æµè§ˆå™¨è·å–ç½‘é¡µ</h4><h5 id="Chrome-ç‰ˆæœ¬"><a href="#Chrome-ç‰ˆæœ¬" class="headerlink" title="Chrome ç‰ˆæœ¬"></a>Chrome ç‰ˆæœ¬</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#coding:utf-8</span><br><span class="line"></span><br><span class="line">import time</span><br><span class="line">from selenium import webdriver</span><br><span class="line">from pyvirtualdisplay import Display</span><br><span class="line"></span><br><span class="line">display&#x3D;Display(visible&#x3D;0,size&#x3D;(800,800))</span><br><span class="line">display.start()</span><br><span class="line"></span><br><span class="line">driver&#x3D;webdriver.Chrome()</span><br><span class="line">driver.get(&#39;http:&#x2F;&#x2F;www.cnblogs.com&#x2F;&#39;)</span><br><span class="line">time.sleep(5)</span><br><span class="line">title&#x3D;driver.title</span><br><span class="line">print(title.encode(&#39;utf-8&#39;))</span><br><span class="line">driver.close()</span><br><span class="line"></span><br><span class="line">display.stop()</span><br></pre></td></tr></table></figure>

<p>å°†ä»¥ä¸Šä»£ç ä¿å­˜ä¸º <code>chrome.py</code> ï¼Œæ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ python chrome.py</span><br><span class="line">åšå®¢å›­ - å¼€å‘è€…çš„ç½‘ä¸Šå®¶å›­</span><br></pre></td></tr></table></figure>

<h5 id="Firefox-ç‰ˆæœ¬"><a href="#Firefox-ç‰ˆæœ¬" class="headerlink" title="Firefox ç‰ˆæœ¬"></a>Firefox ç‰ˆæœ¬</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#coding:utf-8</span><br><span class="line"></span><br><span class="line">import time</span><br><span class="line">from selenium import webdriver</span><br><span class="line">from pyvirtualdisplay import Display</span><br><span class="line"></span><br><span class="line">display&#x3D;Display(visible&#x3D;0,size&#x3D;(800,800))</span><br><span class="line">display.start()</span><br><span class="line"></span><br><span class="line">driver&#x3D;webdriver.Firefox()</span><br><span class="line">driver.get(&#39;http:&#x2F;&#x2F;www.cnblogs.com&#x2F;&#39;)</span><br><span class="line">time.sleep(5)</span><br><span class="line">title&#x3D;driver.title</span><br><span class="line">print(title.encode(&#39;utf-8&#39;))</span><br><span class="line">driver.close()</span><br><span class="line"></span><br><span class="line">display.stop()</span><br></pre></td></tr></table></figure>

<p>å°†ä»¥ä¸Šä»£ç ä¿å­˜ä¸º <code>firefox.py</code> ï¼Œæ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ python firefox.py</span><br><span class="line">åšå®¢å›­ - å¼€å‘è€…çš„ç½‘ä¸Šå®¶å›­</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Dockerå®ç°"><a href="#Dockerå®ç°" class="headerlink" title="Dockerå®ç°"></a>Dockerå®ç°</h4><p>è¯¦æƒ…è¯·å‚è€ƒå¼€æºé¡¹ç›®ï¼š</p>
<ul>
<li><a href="https://github.com/Leafney/alpine-selenium-chrome" target="_blank" rel="noopener">Leafney/alpine-selenium-chrome</a></li>
<li><a href="https://hub.docker.com/r/leafney/alpine-selenium-chrome/" target="_blank" rel="noopener">leafney/alpine-selenium-chrome</a></li>
<li><a href="https://github.com/Leafney/alpine-selenium-firefox" target="_blank" rel="noopener">Leafney/alpine-selenium-firefox</a></li>
<li><a href="https://hub.docker.com/r/leafney/alpine-selenium-firefox/" target="_blank" rel="noopener">leafney/alpine-selenium-firefox</a></li>
</ul>
<hr>
]]></content>
      <tags>
        <tag>Python</tag>
        <tag>Alpine</tag>
        <tag>Selenium</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntuä¸‹é…ç½®Seleniumè¿è¡Œç¯å¢ƒ</title>
    <url>/2016/10/19/configuration-the-selenium-running-environment-in-ubuntu/</url>
    <content><![CDATA[<p>Seleniumï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·ã€‚</p>
<h4 id="é…ç½®ç¯å¢ƒ"><a href="#é…ç½®ç¯å¢ƒ" class="headerlink" title="é…ç½®ç¯å¢ƒ"></a>é…ç½®ç¯å¢ƒ</h4><ul>
<li>Ubuntu 16.04 TLS</li>
</ul>
<h4 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h4><h5 id="è®¾ç½®è½¯ä»¶å®‰è£…æº"><a href="#è®¾ç½®è½¯ä»¶å®‰è£…æº" class="headerlink" title="è®¾ç½®è½¯ä»¶å®‰è£…æº"></a>è®¾ç½®è½¯ä»¶å®‰è£…æº</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ echo &quot;deb http:&#x2F;&#x2F;cn.archive.ubuntu.com&#x2F;ubuntu&#x2F; xenial main restricted universe multiverse&quot; &gt;&gt; &#x2F;etc&#x2F;apt&#x2F;sources.list</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥æ”¹æˆï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ echo &quot;deb http:&#x2F;&#x2F;cn.archive.ubuntu.com&#x2F;ubuntu&#x2F; xenial main restricted universe multiverse&quot; &gt; &#x2F;etc&#x2F;apt&#x2F;sources.list</span><br></pre></td></tr></table></figure>

<h5 id="å®‰è£…ä¾èµ–åŒ…"><a href="#å®‰è£…ä¾èµ–åŒ…" class="headerlink" title="å®‰è£…ä¾èµ–åŒ…"></a>å®‰è£…ä¾èµ–åŒ…</h5><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get update</span><br><span class="line">$ sudo apt-get install python python-pip curl unzip -y</span><br><span class="line">$ sudo pip install selenium</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="æ”¯æŒçš„æµè§ˆå™¨åŠ-WebDriver-é©±åŠ¨"><a href="#æ”¯æŒçš„æµè§ˆå™¨åŠ-WebDriver-é©±åŠ¨" class="headerlink" title="æ”¯æŒçš„æµè§ˆå™¨åŠ WebDriver é©±åŠ¨"></a>æ”¯æŒçš„æµè§ˆå™¨åŠ WebDriver é©±åŠ¨</h4><p>Seleniumå¯ä»¥è°ƒç”¨Chrome ã€Firefox ã€Safari ç­‰æµè§ˆå™¨ã€‚</p>
<p>WebDriver æ”¯æŒä»¥ä¸‹çš„</p>
<ul>
<li>ChromeDriver</li>
<li>EventFiringWebDriver</li>
<li>FirefoxDriver</li>
<li>HtmlUnitDriver</li>
<li>InternetExplorerDriver</li>
<li>PhantomJSDriver</li>
<li>RemoteWebDriver</li>
<li>SafariDriver</li>
</ul>
<p>è¿™é‡Œæˆ‘ä»¥å¸¸ç”¨çš„Chrome å’Œ Firefox ä¸ºä¾‹ï¼Œæ¥é…ç½®è¿è¡Œç¯å¢ƒã€‚</p>
<p>æˆ‘ä»¬éœ€è¦å®‰è£…ç›¸å¯¹åº”çš„æµè§ˆå™¨å’Œæµè§ˆå™¨é©±åŠ¨ WebDriver ã€‚æ¯”å¦‚ Selenium æ— æ³•ç›´æ¥å¯åŠ¨ Chrome ï¼Œéœ€è¦ç”¨ç¬¬ä¸‰æ–¹æ’ä»¶ ChromeDriver æ¥è°ƒç”¨ã€‚</p>
<h4 id="Seleniumè°ƒç”¨Chromeæµè§ˆå™¨"><a href="#Seleniumè°ƒç”¨Chromeæµè§ˆå™¨" class="headerlink" title="Seleniumè°ƒç”¨Chromeæµè§ˆå™¨"></a>Seleniumè°ƒç”¨Chromeæµè§ˆå™¨</h4><p>Chromeæµè§ˆå™¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®˜æ–¹çš„ Google Chrome æµè§ˆå™¨ æˆ–è€… å¼€æºçš„ Chromium æµè§ˆå™¨</p>
<h5 id="å®‰è£…-Google-Chrome"><a href="#å®‰è£…-Google-Chrome" class="headerlink" title="å®‰è£… Google Chrome"></a>å®‰è£… Google Chrome</h5><p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©çš„æ˜¯ <code>google-chrome-stable</code> ç‰ˆæœ¬ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ wget -q -O - https:&#x2F;&#x2F;dl-ssl.google.com&#x2F;linux&#x2F;linux_signing_key.pub | sudo apt-key add -</span><br><span class="line"></span><br><span class="line">$ sudo sh -c &#39;echo &quot;deb [arch&#x3D;amd64] http:&#x2F;&#x2F;dl.google.com&#x2F;linux&#x2F;chrome&#x2F;deb&#x2F; stable main&quot; &gt;&gt; &#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;google.list&#39;</span><br><span class="line"></span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install google-chrome-stable</span><br></pre></td></tr></table></figure>

<p>è¯¦ç»†å¯è®¿é—®ï¼š</p>
<ul>
<li><a href="http://www.ubuntuupdates.org/ppa/google_chrome" target="_blank" rel="noopener">UbuntuUpdates-Google Chrome</a></li>
<li><a href="http://www.ubuntuupdates.org/pm/google-chrome-stable" target="_blank" rel="noopener">All â€œgoogle-chrome-stableâ€ versions</a></li>
</ul>
<p>æˆ–è€…å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤ç›´æ¥ä¸‹è½½ <code>*.deb</code> å®‰è£…åŒ…ï¼š</p>
<ul>
<li>x64 â€“ <code>$ curl http://dl.google.com/linux/chrome/deb/pool/main/g/google-chrome-stable/google-chrome-stable_54.0.2840.59-1_amd64.deb -O</code></li>
<li>x32 â€“ 32ä½ç‰ˆæœ¬å·²ä¸å¯ç”¨</li>
</ul>
<p>å®‰è£…debå®‰è£…åŒ…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ dpkg -i google-chrome-stable_54.0.2840.59-1_amd64.deb</span><br></pre></td></tr></table></figure>

<p>å®‰è£…è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå®‰è£…å¤±è´¥ï¼Œç¼ºå°‘ä¾èµ–ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">dpkg: error processing package google-chrome-stable (--install):</span><br><span class="line"> dependency problems - leaving unconfigured</span><br><span class="line">Processing triggers for mime-support (3.59ubuntu1) ...</span><br><span class="line">Errors were encountered while processing:</span><br><span class="line"> google-chrome-stable</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡å¦‚ä¸‹å‘½ä»¤è§£å†³ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ apt-get -f install</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="http://askubuntu.com/questions/510056/how-to-install-google-chrome" target="_blank" rel="noopener">software installation - How to install Google Chrome? - Ask Ubuntu</a></li>
</ul>
<hr>
<h5 id="å®‰è£…-Chromium"><a href="#å®‰è£…-Chromium" class="headerlink" title="å®‰è£… Chromium"></a>å®‰è£… Chromium</h5><p>Google Chrome isnâ€™t in the repositories - however, Chromium is.</p>
<p>å› ä¸ºåœ¨è½¯ä»¶åº“ä¸­å­˜åœ¨ Chromium çš„åŒ…ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥é€šè¿‡ <code>apt-get</code> æ¥å®‰è£…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get update</span><br><span class="line">$ sudo apt-get install chromium-browser</span><br></pre></td></tr></table></figure>

<h5 id="æœªå®‰è£…Chromeæµè§ˆå™¨å¼‚å¸¸"><a href="#æœªå®‰è£…Chromeæµè§ˆå™¨å¼‚å¸¸" class="headerlink" title="æœªå®‰è£…Chromeæµè§ˆå™¨å¼‚å¸¸"></a>æœªå®‰è£…Chromeæµè§ˆå™¨å¼‚å¸¸</h5><p>å¦‚æœæœªå®‰è£… Google-Chrome æˆ–  Chromium æµè§ˆå™¨ï¼Œä¼šæç¤ºå¦‚ä¸‹é”™è¯¯ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">selenium.common.exceptions.WebDriverException: Message: unknown error: cannot find Chrome binary</span><br></pre></td></tr></table></figure>

<h5 id="å®‰è£…-ChromeDriver"><a href="#å®‰è£…-ChromeDriver" class="headerlink" title="å®‰è£… ChromeDriver"></a>å®‰è£… ChromeDriver</h5><p>ChromeDriveræ˜¯ä¸€ä¸ªå®ç°äº†WebDriverä¸Chromiumè”æ¥åè®®çš„ç‹¬ç«‹æœåŠ¡ã€‚</p>
<h6 id="ä¸‹è½½-ChromeDriver"><a href="#ä¸‹è½½-ChromeDriver" class="headerlink" title="ä¸‹è½½ ChromeDriver"></a>ä¸‹è½½ ChromeDriver</h6><p>è®¿é—®ç«™ç‚¹ <a href="http://chromedriver.storage.googleapis.com/index.html" target="_blank" rel="noopener">chromedriver</a> ä¸‹è½½å½“å‰ç³»ç»Ÿå¯¹åº”çš„ <code>chromedriver</code> ç¨‹åº, é¡µé¢ä¸­ç»™å‡ºäº†ä¸åŒChromeç‰ˆæœ¬å¯¹åº”çš„ ChromeDriver ç¨‹åºã€‚</p>
<p>æ‰§è¡Œå‘½ä»¤å¦‚ä¸‹ï¼Œä¸‹è½½å¹¶è§£å‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl http:&#x2F;&#x2F;chromedriver.storage.googleapis.com&#x2F;2.24&#x2F;chromedriver_linux64.zip -O</span><br><span class="line"></span><br><span class="line">$ unzip chromedriver_linux64.zip</span><br><span class="line"></span><br><span class="line">$ ls</span><br><span class="line">chromedriver</span><br></pre></td></tr></table></figure>

<p>è§£å‹åæˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ª <code>chromedriver</code> æ‰§è¡Œç¨‹åºã€‚</p>
<h6 id="å°†-ChromeDriver-æ”¾åˆ°ç³»ç»Ÿ-PATH-ç›®å½•ä¸‹"><a href="#å°†-ChromeDriver-æ”¾åˆ°ç³»ç»Ÿ-PATH-ç›®å½•ä¸‹" class="headerlink" title="å°† ChromeDriver æ”¾åˆ°ç³»ç»Ÿ PATH ç›®å½•ä¸‹"></a>å°† ChromeDriver æ”¾åˆ°ç³»ç»Ÿ PATH ç›®å½•ä¸‹</h6><p>æˆ‘ä»¬å¯ä»¥åœ¨ç¨‹åºä¸­æŒ‡å®šå…·ä½“çš„ ChromeDriver æ‰€åœ¨çš„ç›®å½•ï¼Œä¸æŒ‡å®šçš„è¯ä¼šé»˜è®¤å»ç³»ç»ŸPATHç›®å½•ä¸‹æ‰¾ã€‚ä¸ºäº†ç¼–ç¨‹æ–¹ä¾¿ï¼Œæˆ‘ä»¬å°†å…¶æ”¾åˆ°ç³»ç»ŸPATHç›®å½•ä¸‹ã€‚</p>
<p>æŸ¥çœ‹ç³»ç»Ÿç›®å½•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ echo $PATH</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæˆ‘å°†å…¶æ”¾åˆ° <code>/usr/local/bin/</code> ç›®å½•ä¸‹ï¼Œå¹¶æ·»åŠ å¯æ‰§è¡Œæƒé™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo mv .&#x2F;chromedriver &#x2F;usr&#x2F;local&#x2F;bin&#x2F;</span><br><span class="line"></span><br><span class="line">$ sudo chmod a+x &#x2F;usr&#x2F;local&#x2F;bin&#x2F;chromedriver</span><br></pre></td></tr></table></figure>

<h6 id="æµ‹è¯•-ChromeDriver"><a href="#æµ‹è¯•-ChromeDriver" class="headerlink" title="æµ‹è¯• ChromeDriver"></a>æµ‹è¯• ChromeDriver</h6><p>æ‰§è¡Œ <code>chromedriver</code> æŸ¥çœ‹æ˜¯å¦èƒ½æ­£å¸¸è¿è¡Œã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ chromedriver </span><br><span class="line">Starting ChromeDriver 2.24.417424 (c5c5ea873213ee72e3d0929b47482681555340c3) on port 9515</span><br><span class="line">Only local connections are allowed.</span><br></pre></td></tr></table></figure>

<p>å½“æç¤º <code>Starting ChromeDriver xxx on port 9515</code> ä¿¡æ¯æ—¶ï¼Œè¯´æ˜ <code>ChromeDriver</code> è®¾ç½®æˆåŠŸã€‚  </p>
<p>å¦‚æœæç¤ºå¦‚ä¸‹é”™è¯¯ä¿¡æ¯ï¼Œåˆ™æ˜¯åœ¨ç³»ç»ŸPATHä¸‹æ‰¾ä¸åˆ° <code>ChromeDriver</code> :</p>
<blockquote>
<p>selenium.common.exceptions.WebDriverException: Message: â€˜chromedriverâ€™ executable needs to be in PATH. Please see <a href="https://sites.google.com/a/chromium.org/chromedriver/home" target="_blank" rel="noopener">https://sites.google.com/a/chromium.org/chromedriver/home</a></p>
</blockquote>
<hr>
<h4 id="Seleniumè°ƒç”¨Firefoxæµè§ˆå™¨"><a href="#Seleniumè°ƒç”¨Firefoxæµè§ˆå™¨" class="headerlink" title="Seleniumè°ƒç”¨Firefoxæµè§ˆå™¨"></a>Seleniumè°ƒç”¨Firefoxæµè§ˆå™¨</h4><h5 id="å®‰è£…-Firefox-æµè§ˆå™¨"><a href="#å®‰è£…-Firefox-æµè§ˆå™¨" class="headerlink" title="å®‰è£… Firefox æµè§ˆå™¨"></a>å®‰è£… Firefox æµè§ˆå™¨</h5><p>å¯ä»¥é€šè¿‡ <code>apt-get</code> ç›´æ¥å®‰è£… Firefox æµè§ˆå™¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install firefox</span><br></pre></td></tr></table></figure>

<h5 id="æœªå®‰è£…Firefoxæµè§ˆå™¨å¼‚å¸¸"><a href="#æœªå®‰è£…Firefoxæµè§ˆå™¨å¼‚å¸¸" class="headerlink" title="æœªå®‰è£…Firefoxæµè§ˆå™¨å¼‚å¸¸"></a>æœªå®‰è£…Firefoxæµè§ˆå™¨å¼‚å¸¸</h5><p>å¦‚æœæœªå®‰è£… Firefox æµè§ˆå™¨ç¨‹åºï¼Œåˆ™ä¼šæç¤ºå¦‚ä¸‹é”™è¯¯ï¼š</p>
<blockquote>
<p>selenium.common.exceptions.WebDriverException: Message: Expected browser binary location, but unable to find binary in default location, no â€˜moz:firefoxOptions.binaryâ€™ capability provided, and no binary flag set on the command line</p>
</blockquote>
<h5 id="å®‰è£…-geckodriver"><a href="#å®‰è£…-geckodriver" class="headerlink" title="å®‰è£… geckodriver"></a>å®‰è£… geckodriver</h5><h6 id="ä¸‹è½½-geckodriver"><a href="#ä¸‹è½½-geckodriver" class="headerlink" title="ä¸‹è½½ geckodriver"></a>ä¸‹è½½ geckodriver</h6><p>è®¿é—®ç«™ç‚¹ <a href="https://github.com/mozilla/geckodriver/releases" target="_blank" rel="noopener">geckodriver</a> ä¸‹è½½å½“å‰ç³»ç»Ÿå¯¹åº” geckodriver ç¨‹åºã€‚</p>
<p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl https:&#x2F;&#x2F;github.com&#x2F;mozilla&#x2F;geckodriver&#x2F;releases&#x2F;download&#x2F;v0.11.1&#x2F;geckodriver-v0.11.1-linux64.tar.gz -O</span><br><span class="line"></span><br><span class="line">$ tar -zxvf geckodriver-v0.11.1-linux64.tar.gz</span><br><span class="line"></span><br><span class="line">$ ls</span><br><span class="line">geckodriver</span><br></pre></td></tr></table></figure>

<p>è§£å‹åæˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ª <code>geckodriver</code> æ‰§è¡Œç¨‹åºã€‚</p>
<p>è¯¥ <code>geckodriver</code> å‹ç¼©åŒ…å¯èƒ½ç”±äºç½‘ç»œåŸå› ä¸‹è½½å¤±è´¥ï¼Œå¯é€šè¿‡è¿…é›·ç­‰è½¯ä»¶ä¸‹è½½åæ‹·è´åˆ°Linuxç³»ç»Ÿä¸­ã€‚</p>
<h6 id="å°†-geckodriver-æ”¾åˆ°ç³»ç»Ÿ-PATH-ç›®å½•ä¸‹"><a href="#å°†-geckodriver-æ”¾åˆ°ç³»ç»Ÿ-PATH-ç›®å½•ä¸‹" class="headerlink" title="å°† geckodriver æ”¾åˆ°ç³»ç»Ÿ PATH ç›®å½•ä¸‹"></a>å°† geckodriver æ”¾åˆ°ç³»ç»Ÿ PATH ç›®å½•ä¸‹</h6><p>æˆ‘ä»¬å¯ä»¥åœ¨ç¨‹åºä¸­æŒ‡å®šå…·ä½“çš„ geckodriver æ‰€åœ¨çš„ç›®å½•ï¼Œä¸æŒ‡å®šçš„è¯ä¼šé»˜è®¤å»ç³»ç»ŸPATHç›®å½•ä¸‹æ‰¾ã€‚ä¸ºäº†ç¼–ç¨‹æ–¹ä¾¿ï¼Œæˆ‘ä»¬å°†å…¶æ”¾åˆ°ç³»ç»ŸPATHç›®å½•ä¸‹ã€‚</p>
<p>æŸ¥çœ‹ç³»ç»Ÿç›®å½•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ echo $PATH</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæˆ‘å°†å…¶æ”¾åˆ° <code>/usr/local/bin/</code> ç›®å½•ä¸‹ï¼Œå¹¶æ·»åŠ å¯æ‰§è¡Œæƒé™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo mv .&#x2F;geckodriver &#x2F;usr&#x2F;local&#x2F;bin&#x2F;</span><br><span class="line"></span><br><span class="line">$ sudo chmod a+x &#x2F;usr&#x2F;local&#x2F;bin&#x2F;geckodriver</span><br></pre></td></tr></table></figure>

<h6 id="æµ‹è¯•-geckodriver"><a href="#æµ‹è¯•-geckodriver" class="headerlink" title="æµ‹è¯• geckodriver"></a>æµ‹è¯• geckodriver</h6><p>æ‰§è¡Œ <code>geckodriver</code> æŸ¥çœ‹æ˜¯å¦èƒ½æ­£å¸¸è¿è¡Œã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ geckodriver </span><br><span class="line">1476443497207	geckodriver	INFO	Listening on 127.0.0.1:4444</span><br></pre></td></tr></table></figure>

<p>å½“æç¤º <code>Listening on 127.0.0.1:4444</code> ä¿¡æ¯æ—¶ï¼Œè¯´æ˜ <code>geckodriver</code> è®¾ç½®æˆåŠŸã€‚  </p>
<p>å¦‚æœæç¤ºå¦‚ä¸‹é”™è¯¯ä¿¡æ¯ï¼Œåˆ™æ˜¯åœ¨ç³»ç»ŸPATHä¸‹æ‰¾ä¸åˆ° <code>geckodriver</code> :</p>
<blockquote>
<p>selenium.common.exceptions.WebDriverException: Message: â€˜geckodriverâ€™ executable needs to be in PATH.</p>
</blockquote>
<hr>
<h4 id="å®‰è£…è™šæ‹Ÿæ˜¾ç¤ºå™¨-xvfb"><a href="#å®‰è£…è™šæ‹Ÿæ˜¾ç¤ºå™¨-xvfb" class="headerlink" title="å®‰è£…è™šæ‹Ÿæ˜¾ç¤ºå™¨ xvfb"></a>å®‰è£…è™šæ‹Ÿæ˜¾ç¤ºå™¨ xvfb</h4><h5 id="ä¸ºä»€ä¹ˆè¦ç”¨-xvfb"><a href="#ä¸ºä»€ä¹ˆè¦ç”¨-xvfb" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ç”¨ xvfb??"></a>ä¸ºä»€ä¹ˆè¦ç”¨ xvfb??</h5><p>xvfb è¿™ä¸ªå·¥å…·ç›¸å½“äºä¸€ä¸ªwrapperï¼Œç»™åº”ç”¨ç¨‹åºæä¾›è™šæ‹Ÿçš„ X server</p>
<h5 id="æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…"><a href="#æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…" class="headerlink" title="æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…"></a>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install xvfb</span><br><span class="line">$ sudo pip install pyvirtualdisplay</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="æµ‹è¯•seleniumè°ƒç”¨æµè§ˆå™¨è·å–ç½‘é¡µ"><a href="#æµ‹è¯•seleniumè°ƒç”¨æµè§ˆå™¨è·å–ç½‘é¡µ" class="headerlink" title="æµ‹è¯•seleniumè°ƒç”¨æµè§ˆå™¨è·å–ç½‘é¡µ"></a>æµ‹è¯•seleniumè°ƒç”¨æµè§ˆå™¨è·å–ç½‘é¡µ</h4><h5 id="Chrome-ç‰ˆæœ¬"><a href="#Chrome-ç‰ˆæœ¬" class="headerlink" title="Chrome ç‰ˆæœ¬"></a>Chrome ç‰ˆæœ¬</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#coding:utf-8</span><br><span class="line"></span><br><span class="line">import time</span><br><span class="line">from selenium import webdriver</span><br><span class="line">from pyvirtualdisplay import Display</span><br><span class="line"></span><br><span class="line">display&#x3D;Display(visible&#x3D;0,size&#x3D;(800,800))</span><br><span class="line">display.start()</span><br><span class="line"></span><br><span class="line">driver&#x3D;webdriver.Chrome()</span><br><span class="line">driver.get(&#39;http:&#x2F;&#x2F;www.cnblogs.com&#x2F;&#39;)</span><br><span class="line">time.sleep(5)</span><br><span class="line">title&#x3D;driver.title</span><br><span class="line">print(title.encode(&#39;utf-8&#39;))</span><br><span class="line">driver.close()</span><br><span class="line"></span><br><span class="line">display.stop()</span><br></pre></td></tr></table></figure>

<p>å°†ä»¥ä¸Šä»£ç ä¿å­˜ä¸º <code>chrome.py</code> ï¼Œæ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ python chrome.py</span><br><span class="line">åšå®¢å›­ - å¼€å‘è€…çš„ç½‘ä¸Šå®¶å›­</span><br></pre></td></tr></table></figure>

<h5 id="Firefox-ç‰ˆæœ¬"><a href="#Firefox-ç‰ˆæœ¬" class="headerlink" title="Firefox ç‰ˆæœ¬"></a>Firefox ç‰ˆæœ¬</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#coding:utf-8</span><br><span class="line"></span><br><span class="line">import time</span><br><span class="line">from selenium import webdriver</span><br><span class="line">from pyvirtualdisplay import Display</span><br><span class="line"></span><br><span class="line">display&#x3D;Display(visible&#x3D;0,size&#x3D;(800,800))</span><br><span class="line">display.start()</span><br><span class="line"></span><br><span class="line">driver&#x3D;webdriver.Firefox()</span><br><span class="line">driver.get(&#39;http:&#x2F;&#x2F;www.cnblogs.com&#x2F;&#39;)</span><br><span class="line">time.sleep(5)</span><br><span class="line">title&#x3D;driver.title</span><br><span class="line">print(title.encode(&#39;utf-8&#39;))</span><br><span class="line">driver.close()</span><br><span class="line"></span><br><span class="line">display.stop()</span><br></pre></td></tr></table></figure>

<p>å°†ä»¥ä¸Šä»£ç ä¿å­˜ä¸º <code>firefox.py</code> ï¼Œæ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ python firefox.py</span><br><span class="line">åšå®¢å›­ - å¼€å‘è€…çš„ç½‘ä¸Šå®¶å›­</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ä»£ç è¯¦è§£"><a href="#ä»£ç è¯¦è§£" class="headerlink" title="ä»£ç è¯¦è§£"></a>ä»£ç è¯¦è§£</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#coding:utf-8</span><br><span class="line"></span><br><span class="line">import time</span><br><span class="line">from selenium import webdriver</span><br><span class="line">from pyvirtualdisplay import Display</span><br><span class="line"></span><br><span class="line"># è®¾ç½®è™šæ‹Ÿæ˜¾ç¤ºå™¨çš„çª—å£å¤§å°</span><br><span class="line">display&#x3D;Display(visible&#x3D;0,size&#x3D;(800,800))</span><br><span class="line">display.start()</span><br><span class="line"></span><br><span class="line">driver&#x3D;webdriver.Chrome()</span><br><span class="line">driver.get(&#39;http:&#x2F;&#x2F;www.cnblogs.com&#x2F;&#39;)</span><br><span class="line">time.sleep(5)</span><br><span class="line"></span><br><span class="line"># æ‰“å°ç½‘é¡µçš„æ ‡é¢˜</span><br><span class="line">title&#x3D;driver.title</span><br><span class="line">print(title.encode(&#39;utf-8&#39;))</span><br><span class="line"># é€€å‡ºæµè§ˆå™¨</span><br><span class="line">driver.close()</span><br><span class="line"></span><br><span class="line"># å…³é—­è™šæ‹Ÿæ˜¾ç¤ºå™¨çª—å£</span><br><span class="line">display.stop()</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Dockerå®ç°"><a href="#Dockerå®ç°" class="headerlink" title="Dockerå®ç°"></a>Dockerå®ç°</h4><p>è¯¦æƒ…è¯·å‚è€ƒå¼€æºé¡¹ç›®ï¼š</p>
<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="http://chromedriver.storage.googleapis.com/index.html" target="_blank" rel="noopener">ChromeDriver</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/QA/Marionette/WebDriver" target="_blank" rel="noopener">WebDriver - Mozilla | MDN</a></li>
<li><a href="https://github.com/mozilla/geckodriver" target="_blank" rel="noopener">GitHub - mozilla/geckodriver: WebDriver &lt;-&gt; Marionette proxy</a> <strong>â˜†</strong></li>
<li><a href="http://stackoverflow.com/questions/6183276/how-do-i-run-selenium-in-xvfb" target="_blank" rel="noopener">python - How do I run Selenium in Xvfb? - Stack Overflow</a> <strong>â˜†</strong></li>
<li><a href="http://blog.163.com/he_junwei/blog/static/1979376462013126105119274/" target="_blank" rel="noopener">Selenium2.0</a></li>
</ul>
]]></content>
      <tags>
        <tag>Python</tag>
        <tag>Selenium</tag>
        <tag>Ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntuä¸‹å®‰è£…åŠé…ç½®MySqlæ•°æ®åº“</title>
    <url>/2016/10/06/ubuntu-install-mysql-db/</url>
    <content><![CDATA[<h4 id="å®‰è£…è¿‡ç¨‹"><a href="#å®‰è£…è¿‡ç¨‹" class="headerlink" title="å®‰è£…è¿‡ç¨‹"></a>å®‰è£…è¿‡ç¨‹</h4><p>æµ‹è¯•ç³»ç»Ÿä¸º <code>Ubuntu 16.04 LTS</code></p>
<h5 id="æ›´æ–°Ubuntuè½¯ä»¶å®‰è£…æº"><a href="#æ›´æ–°Ubuntuè½¯ä»¶å®‰è£…æº" class="headerlink" title="æ›´æ–°Ubuntuè½¯ä»¶å®‰è£…æº"></a>æ›´æ–°Ubuntuè½¯ä»¶å®‰è£…æº</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ echo &quot;deb http:&#x2F;&#x2F;cn.archive.ubuntu.com&#x2F;ubuntu&#x2F; xenial main restricted universe multiverse&quot; &gt;&gt; &#x2F;etc&#x2F;apt&#x2F;sources.list</span><br></pre></td></tr></table></figure>

<h5 id="å®‰è£…mysql-server"><a href="#å®‰è£…mysql-server" class="headerlink" title="å®‰è£…mysql-server"></a>å®‰è£…mysql-server</h5><p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…mysql:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get update</span><br><span class="line">$ sudo apt-get install mysql-server</span><br></pre></td></tr></table></figure>

<p>å®‰è£…è¿‡ç¨‹ä¼šå¼¹å‡ºæç¤ºæ¡†ï¼Œè¾“å…¥rootç”¨æˆ·çš„å¯†ç ï¼Œè¿™é‡Œè®¾ç½®å¯†ç ä¸º <code>mysql</code> ã€‚</p>
<p>å®‰è£…å®Œæˆåï¼Œé€šè¿‡å‘½ä»¤ <code>mysql -V</code> æŸ¥çœ‹mysqlç‰ˆæœ¬ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># mysql -V</span><br><span class="line">mysql  Ver 14.14 Distrib 5.7.15, for Linux (x86_64) using  EditLine wrapper</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="è§£å†³mysqlè¿æ¥é”™è¯¯-ERROR-2002-HY000"><a href="#è§£å†³mysqlè¿æ¥é”™è¯¯-ERROR-2002-HY000" class="headerlink" title="è§£å†³mysqlè¿æ¥é”™è¯¯ ERROR 2002 (HY000)"></a>è§£å†³mysqlè¿æ¥é”™è¯¯ ERROR 2002 (HY000)</h4><p>åœ¨ä½¿ç”¨ <code>root</code> è´¦æˆ·è¿æ¥mysqlæ—¶ï¼ŒæŠ¥äº†å¦‚ä¸‹çš„ <code>2002</code> é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># mysql -uroot -p</span><br><span class="line">Enter password: </span><br><span class="line">ERROR 2002 (HY000): Can&#39;t connect to local MySQL server through socket &#39;&#x2F;var&#x2F;run&#x2F;mysqld&#x2F;mysqld.sock&#39; (2)</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹ <code>mysql</code> æœåŠ¡æ˜¯å¦å¯åŠ¨ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># ps -aux |grep mysqld</span><br><span class="line">root       984  0.0  0.0  11276   728 ?        S+   07:23   0:00 grep --color&#x3D;auto mysqld</span><br><span class="line"># ps -aux |grep mysql </span><br><span class="line">root       986  0.0  0.0  11276   728 ?        S+   07:23   0:00 grep --color&#x3D;auto mysql</span><br></pre></td></tr></table></figure>

<p>å¯è§mysqlçš„æœåŠ¡å¹¶æ²¡æœ‰å¯åŠ¨ï¼Œç„¶åæˆ‘ä»¬å°è¯•å¯åŠ¨æœåŠ¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo service mysql start</span><br><span class="line"></span><br><span class="line"># service mysql start</span><br><span class="line"> * Starting MySQL database server mysqld                                                                                                                       No directory, logging in with HOME&#x3D;&#x2F;</span><br></pre></td></tr></table></figure>

<p>mysqlçš„æœåŠ¡å±…ç„¶æ— æ³•å¯åŠ¨ã€‚</p>
<p>æœ€ç»ˆæ‰¾åˆ°åŸå› æ˜¯å½“å‰ç”¨æˆ·å¯¹ <code>/var/run/mysqld</code> ç›®å½•æ²¡æœ‰æ“ä½œæƒé™å¯¼è‡´çš„ã€‚</p>
<p>å…ˆæŸ¥çœ‹ <code>/var/run/</code> ä¸‹æ˜¯å¦å­˜åœ¨ mysqldç›®å½•ï¼Œæ²¡æœ‰å…ˆåˆ›å»ºã€‚</p>
<p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo chown -R mysql:mysql &#x2F;var&#x2F;run&#x2F;mysqld</span><br></pre></td></tr></table></figure>

<p>ç„¶åå†æ¬¡å°è¯•å¯åŠ¨mysqlæœåŠ¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo service mysql start</span><br><span class="line"></span><br><span class="line"># service mysql status</span><br><span class="line"> * &#x2F;usr&#x2F;bin&#x2F;mysqladmin  Ver 8.42 Distrib 5.7.15, for Linux on x86_64</span><br><span class="line">Copyright (c) 2000, 2016, Oracle and&#x2F;or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and&#x2F;or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Server version		5.7.15-0ubuntu0.16.04.1</span><br><span class="line">Protocol version	10</span><br><span class="line">Connection		Localhost via UNIX socket</span><br><span class="line">UNIX socket		&#x2F;var&#x2F;run&#x2F;mysqld&#x2F;mysqld.sock</span><br><span class="line">Uptime:			7 sec</span><br><span class="line"></span><br><span class="line">Threads: 1  Questions: 8  Slow queries: 0  Opens: 105  Flush tables: 1  Open tables: 98  Queries per second avg: 1.142</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°mysqlæœåŠ¡å¯åŠ¨æˆåŠŸäº†ã€‚</p>
<p>ç½‘ä¸ŠæŸ¥æ‰¾å„ç§è§£å†³è¯¥é—®é¢˜çš„æ–¹æ³•ï¼Œä¹Ÿåªæœ‰è¿™ä¸€ç§æ–¹æ³•æ˜¯æ ¹æœ¬åŸå› ã€‚</p>
<p>æ‰€ä»¥å½“å†æ¬¡é‡åˆ°è¯¥é—®é¢˜çš„æ—¶å€™ï¼Œå…ˆæŸ¥çœ‹ä¸€ä¸‹ç›®å½•æ˜¯å¦æœ‰æ“ä½œæƒé™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ls -al &#x2F;var&#x2F;run&#x2F;mysqld&#x2F;</span><br></pre></td></tr></table></figure>

<p><strong>chownå‘½ä»¤å°†æŒ‡å®šæ–‡ä»¶çš„æ‹¥æœ‰è€…æ”¹ä¸ºæŒ‡å®šçš„ç”¨æˆ·æˆ–ç»„</strong></p>
<ul>
<li><a href="http://www.faceye.net/search/79276.html" target="_blank" rel="noopener">Canâ€™t connect to local MySQL server through socket â€˜/var/run/mysqld/mysqld.sockâ€™çš„è§£å†³</a></li>
</ul>
<hr>
<h4 id="æ–°å¢è´¦æˆ·åŠæƒé™è®¾ç½®"><a href="#æ–°å¢è´¦æˆ·åŠæƒé™è®¾ç½®" class="headerlink" title="æ–°å¢è´¦æˆ·åŠæƒé™è®¾ç½®"></a>æ–°å¢è´¦æˆ·åŠæƒé™è®¾ç½®</h4><h5 id="ç¬¬ä¸€ç§æ–¹æ³•"><a href="#ç¬¬ä¸€ç§æ–¹æ³•" class="headerlink" title="ç¬¬ä¸€ç§æ–¹æ³•"></a>ç¬¬ä¸€ç§æ–¹æ³•</h5><h6 id="ä»¥ç®¡ç†å‘˜èº«ä»½ç™»é™†mysql"><a href="#ä»¥ç®¡ç†å‘˜èº«ä»½ç™»é™†mysql" class="headerlink" title="ä»¥ç®¡ç†å‘˜èº«ä»½ç™»é™†mysql"></a>ä»¥ç®¡ç†å‘˜èº«ä»½ç™»é™†mysql</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ mysql -uroot -p</span><br></pre></td></tr></table></figure>
<p>è¾“å…¥ä¹‹å‰è®¾ç½®çš„å¯†ç ï¼Œç™»é™†mysqlå‘½ä»¤æ¨¡å¼ã€‚</p>
<h6 id="é€‰æ‹©-mysql-æ•°æ®åº“"><a href="#é€‰æ‹©-mysql-æ•°æ®åº“" class="headerlink" title="é€‰æ‹© mysql æ•°æ®åº“"></a>é€‰æ‹© <code>mysql</code> æ•°æ®åº“</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; use mysql;</span><br></pre></td></tr></table></figure>

<h6 id="åˆ›å»ºç”¨æˆ·å¹¶è®¾å®šå¯†ç "><a href="#åˆ›å»ºç”¨æˆ·å¹¶è®¾å®šå¯†ç " class="headerlink" title="åˆ›å»ºç”¨æˆ·å¹¶è®¾å®šå¯†ç "></a>åˆ›å»ºç”¨æˆ·å¹¶è®¾å®šå¯†ç </h6><p>å…ˆæŸ¥çœ‹é»˜è®¤å­˜åœ¨å“ªäº›è´¦æˆ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; select host,user from user;</span><br><span class="line"></span><br><span class="line">+-----------+------------------+</span><br><span class="line">| host      | user             |</span><br><span class="line">+-----------+------------------+</span><br><span class="line">| localhost | debian-sys-maint |</span><br><span class="line">| localhost | mysql.sys        |</span><br><span class="line">| localhost | root             |</span><br><span class="line">+-----------+------------------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥åˆ›å»ºæ–°ç”¨æˆ·è´¦æˆ·åŠå¯†ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; create user &#39;testuser1&#39;@&#39;localhost&#39; identified by &#39;testpassword&#39;;</span><br></pre></td></tr></table></figure>

<p>å°† <code>testpassword</code> æ›¿æ¢ä¸ºä½ è‡ªå·±çš„å¯†ç ã€‚</p>
<p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ä½¿æ“ä½œç”Ÿæ•ˆï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; flush privileges;</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹æ“ä½œå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; create user &#39;testuser1&#39;@&#39;localhost&#39; identified by &#39;123456&#39;;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; flush privileges;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select host,user from user;</span><br><span class="line">+-----------+------------------+</span><br><span class="line">| host      | user             |</span><br><span class="line">+-----------+------------------+</span><br><span class="line">| localhost | debian-sys-maint |</span><br><span class="line">| localhost | mysql.sys        |</span><br><span class="line">| localhost | root             |</span><br><span class="line">| localhost | testuser1        |</span><br><span class="line">+-----------+------------------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h6 id="ä¸ºæ–°è´¦æˆ·åˆ›å»ºæ•°æ®åº“"><a href="#ä¸ºæ–°è´¦æˆ·åˆ›å»ºæ•°æ®åº“" class="headerlink" title="ä¸ºæ–°è´¦æˆ·åˆ›å»ºæ•°æ®åº“"></a>ä¸ºæ–°è´¦æˆ·åˆ›å»ºæ•°æ®åº“</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; create database testdb;</span><br><span class="line">Query OK, 1 row affected (0.03 sec)</span><br></pre></td></tr></table></figure>

<h6 id="ä¸ºæ–°è´¦æˆ·èµ‹äºˆæ“ä½œæ–°å»ºæ•°æ®åº“-testdb-çš„æƒé™"><a href="#ä¸ºæ–°è´¦æˆ·èµ‹äºˆæ“ä½œæ–°å»ºæ•°æ®åº“-testdb-çš„æƒé™" class="headerlink" title="ä¸ºæ–°è´¦æˆ·èµ‹äºˆæ“ä½œæ–°å»ºæ•°æ®åº“ testdb çš„æƒé™"></a>ä¸ºæ–°è´¦æˆ·èµ‹äºˆæ“ä½œæ–°å»ºæ•°æ®åº“ <code>testdb</code> çš„æƒé™</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; grant all privileges on testdb.* to &#39;testuser1&#39;@&#39;localhost&#39; identified by &#39;123456&#39;;</span><br><span class="line">Query OK, 0 rows affected, 1 warning (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; flush privileges;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br></pre></td></tr></table></figure>

<ul>
<li><code>testdb.*</code> è¡¨ç¤ºæ“ä½œ <code>testdb</code> è¿™ä¸ªæ•°æ®åº“ä¸­æ‰€æœ‰çš„è¡¨</li>
<li><code>&#39;testuser1&#39;@&#39;localhost&#39;</code> è¡¨ç¤ºä½¿ç”¨è´¦æˆ· <code>testuser1</code> ç™»é™†åˆ° <code>localhost</code></li>
<li><code>&#39;123456&#39;</code> è¡¨ç¤ºç™»é™†å¯†ç </li>
</ul>
<h6 id="ä½¿ç”¨æ–°è´¦æˆ·ç™»é™†"><a href="#ä½¿ç”¨æ–°è´¦æˆ·ç™»é™†" class="headerlink" title="ä½¿ç”¨æ–°è´¦æˆ·ç™»é™†"></a>ä½¿ç”¨æ–°è´¦æˆ·ç™»é™†</h6><p>æˆ‘ä»¬åœ¨ä¸Šé¢çš„æ­¥éª¤ä¸­åˆ›å»ºçš„æ–°ç”¨æˆ·ä¸º <code>testuse1</code> å¯†ç ä¸º <code>123456</code> ç®¡ç†çš„æ•°æ®åº“ä¸º <code>testdb</code>ã€‚</p>
<p>ä½¿ç”¨ <code>exit</code> é€€å‡º <code>root</code> è´¦æˆ·çš„ç™»é™†ï¼Œç„¶åä½¿ç”¨æ–°è´¦æˆ·ç™»é™†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; exit</span><br><span class="line">Bye</span><br><span class="line"></span><br><span class="line">$ mysql -u testuser1 -p</span><br><span class="line">Enter password: </span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br></pre></td></tr></table></figure>

<p>ç™»é™†æˆåŠŸåï¼ŒæŸ¥çœ‹æ•°æ®åº“åˆ—è¡¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| testdb             |</span><br><span class="line">+--------------------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="ç¬¬äºŒç§æ–¹æ³•-é€šè¿‡GRANTæˆæƒçš„æ–¹å¼æ–°å¢ç”¨æˆ·"><a href="#ç¬¬äºŒç§æ–¹æ³•-é€šè¿‡GRANTæˆæƒçš„æ–¹å¼æ–°å¢ç”¨æˆ·" class="headerlink" title="ç¬¬äºŒç§æ–¹æ³•  é€šè¿‡GRANTæˆæƒçš„æ–¹å¼æ–°å¢ç”¨æˆ·"></a>ç¬¬äºŒç§æ–¹æ³•  é€šè¿‡GRANTæˆæƒçš„æ–¹å¼æ–°å¢ç”¨æˆ·</h5><h6 id="ä»¥rootè´¦æˆ·ç™»å½•ï¼š"><a href="#ä»¥rootè´¦æˆ·ç™»å½•ï¼š" class="headerlink" title="ä»¥rootè´¦æˆ·ç™»å½•ï¼š"></a>ä»¥rootè´¦æˆ·ç™»å½•ï¼š</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ mysql -uroot -p </span><br><span class="line">Enter password: </span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br></pre></td></tr></table></figure>

<h6 id="æ–°å¢æ•°æ®åº“"><a href="#æ–°å¢æ•°æ®åº“" class="headerlink" title="æ–°å¢æ•°æ®åº“"></a>æ–°å¢æ•°æ®åº“</h6><p>ä¸ºæ–°è´¦æˆ·åˆ›å»ºæ•°æ®åº“ <code>testdb2</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; create database testdb2;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br></pre></td></tr></table></figure>

<h6 id="æ–°å¢è´¦æˆ·å¹¶è®¾ç½®å¯†ç "><a href="#æ–°å¢è´¦æˆ·å¹¶è®¾ç½®å¯†ç " class="headerlink" title="æ–°å¢è´¦æˆ·å¹¶è®¾ç½®å¯†ç "></a>æ–°å¢è´¦æˆ·å¹¶è®¾ç½®å¯†ç </h6><p>æ–°å¢è´¦æˆ· <code>testuser2</code> å¯†ç ä¸º <code>123456</code> ç®¡ç† <code>testdb2</code> æ•°æ®åº“ã€‚</p>
<p>é€šè¿‡ <code>grant all privileges on</code> è¯­å¥æ¥æ“ä½œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">| testdb             |</span><br><span class="line">| testdb2            |</span><br><span class="line">+--------------------+</span><br><span class="line">6 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; grant all privileges on testdb2.* to &#39;testuser2&#39;@&#39;localhost&#39; identified by &#39;123456&#39;;</span><br><span class="line">Query OK, 0 rows affected, 1 warning (0.00 sec)</span><br></pre></td></tr></table></figure>

<p><code>grant all</code> è¯­å¥ä¸éœ€è¦ä½¿ç”¨ <code>flush privilege;</code> åˆ·æ–°ç³»ç»Ÿæƒé™è¡¨ï¼Œè¯¥æ“ä½œç«‹å³ç”Ÿæ•ˆã€‚</p>
<h6 id="ä½¿ç”¨æ–°è´¦æˆ·-testuser2-ç™»é™†"><a href="#ä½¿ç”¨æ–°è´¦æˆ·-testuser2-ç™»é™†" class="headerlink" title="ä½¿ç”¨æ–°è´¦æˆ· testuser2 ç™»é™†"></a>ä½¿ç”¨æ–°è´¦æˆ· <code>testuser2</code> ç™»é™†</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; exit</span><br><span class="line">Bye</span><br><span class="line"></span><br><span class="line">$ mysql -utestuser2 -p</span><br><span class="line">Enter password: </span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line"></span><br><span class="line">mysql&gt; show databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| testdb2            |</span><br><span class="line">+--------------------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="å°†é»˜è®¤ç¼–ç æ”¹ä¸ºutf8"><a href="#å°†é»˜è®¤ç¼–ç æ”¹ä¸ºutf8" class="headerlink" title="å°†é»˜è®¤ç¼–ç æ”¹ä¸ºutf8"></a>å°†é»˜è®¤ç¼–ç æ”¹ä¸ºutf8</h4><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒMySQLçš„å­—ç¬¦é›†æ˜¯ <code>latin1</code> ï¼Œå› æ­¤åœ¨å­˜å‚¨ä¸­æ–‡çš„æ—¶å€™ï¼Œä¼šå‡ºç°ä¹±ç çš„æƒ…å†µï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠå­—ç¬¦é›†ç»Ÿä¸€æ”¹æˆ <code>UTF-8</code> ã€‚</p>
<h5 id="mysql-é»˜è®¤ç¼–ç "><a href="#mysql-é»˜è®¤ç¼–ç " class="headerlink" title="mysql é»˜è®¤ç¼–ç "></a>mysql é»˜è®¤ç¼–ç </h5><p>é€šè¿‡å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹mysqlé»˜è®¤ç¼–ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; show variables like &quot;%character%&quot;;show variables like &quot;%collation%&quot;;</span><br><span class="line"></span><br><span class="line">+--------------------------+----------------------------+</span><br><span class="line">| Variable_name            | Value                      |</span><br><span class="line">+--------------------------+----------------------------+</span><br><span class="line">| character_set_client     | latin1                     |</span><br><span class="line">| character_set_connection | latin1                     |</span><br><span class="line">| character_set_database   | latin1                     |</span><br><span class="line">| character_set_filesystem | binary                     |</span><br><span class="line">| character_set_results    | latin1                     |</span><br><span class="line">| character_set_server     | latin1                     |</span><br><span class="line">| character_set_system     | utf8                       |</span><br><span class="line">| character_sets_dir       | &#x2F;usr&#x2F;share&#x2F;mysql&#x2F;charsets&#x2F; |</span><br><span class="line">+--------------------------+----------------------------+</span><br><span class="line">8 rows in set (0.01 sec)</span><br><span class="line"></span><br><span class="line">+----------------------+-------------------+</span><br><span class="line">| Variable_name        | Value             |</span><br><span class="line">+----------------------+-------------------+</span><br><span class="line">| collation_connection | latin1_swedish_ci |</span><br><span class="line">| collation_database   | latin1_swedish_ci |</span><br><span class="line">| collation_server     | latin1_swedish_ci |</span><br><span class="line">+----------------------+-------------------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h5 id="æ›´æ”¹é…ç½®æ–‡ä»¶"><a href="#æ›´æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="æ›´æ”¹é…ç½®æ–‡ä»¶"></a>æ›´æ”¹é…ç½®æ–‡ä»¶</h5><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåœ¨ Ubuntu 14.04 ç³»ç»Ÿä¸­ï¼Œmysqlçš„é…ç½®æ–‡ä»¶ç›®å½•ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;etc&#x2F;mysql&#x2F;my.cnf</span><br></pre></td></tr></table></figure>

<p>åœ¨ Ubuntu 16.04 ç³»ç»Ÿä¸‹ï¼Œmysqlçš„é…ç½®æ–‡ä»¶ç›®å½•ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;etc&#x2F;mysql&#x2F;my.cnf</span><br><span class="line"></span><br><span class="line">&#x2F;etc&#x2F;mysql&#x2F;mysql.conf.d&#x2F;mysqld.cnf</span><br></pre></td></tr></table></figure>

<p>æˆ‘å½“å‰çš„ç³»ç»Ÿä¸º <code>Ubuntu16.04</code> ã€‚å…¶å®åœ¨ ubuntu 16.04 ç³»ç»Ÿä¸­ï¼Œmysqlçš„é…ç½®æ–‡ä»¶è·¯å¾„ä¹Ÿä¸º <code>/etc/mysql/my.cnf</code> ï¼Œåªä¸è¿‡è¿™ä¸ª <code>my.cnf</code> æ˜¯å…¨å±€é…ç½®æ–‡ä»¶ï¼Œåœ¨è¯¥æ–‡ä»¶å†…éƒ¨å¯ä»¥çœ‹åˆ°å¦‚ä¸‹é…ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># </span><br><span class="line">!includedir &#x2F;etc&#x2F;mysql&#x2F;conf.d&#x2F;</span><br><span class="line">!includedir &#x2F;etc&#x2F;mysql&#x2F;mysql.conf.d&#x2F;</span><br></pre></td></tr></table></figure>

<p>å…·ä½“çš„é…ç½®æ–‡ä»¶æ˜¯å­˜æ”¾åœ¨ä¸Šé¢ä¸¤ä¸ªç›®å½•ä¸‹çš„ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ›´æ”¹ <code>/etc/mysql/my.cnf</code> è¿™ä¸ªæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æ›´æ”¹ <code>/etc/mysql/mysql.conf.d/mysqld.cnf</code> è¿™ä¸ªæ–‡ä»¶ã€‚æˆ–è€…ä¹Ÿå¯ä»¥è‡ªå·±æ–°å¢ä¸€ä¸ªæ‰©å±•åä¸º <code>*.cnf</code> çš„é…ç½®æ–‡ä»¶æ”¾åœ¨ä¸Šé¢åŒ…å«çš„ä¸¤ä¸ªç›®å½•å†…ã€‚</p>
<p>ä»ç½‘ä¸Šæ‰¾åˆ°å„ç§è¯´æ³•çš„ä¿®æ”¹ç¼–ç ä¸ºutf-8çš„æ–¹æ³•ï¼Œç»æµ‹è¯•åéœ€è¦ä¿®æ”¹çš„é…ç½®å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[client]</span><br><span class="line">default-character-set&#x3D;utf8</span><br><span class="line"></span><br><span class="line">[mysql]</span><br><span class="line">default-character-set&#x3D;utf8</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">init_connect&#x3D;&#39;SET NAMES utf8&#39;</span><br><span class="line">character-set-server&#x3D;utf8</span><br><span class="line">collation-server&#x3D;utf8_unicode_ci</span><br></pre></td></tr></table></figure>

<p>ç¼–è¾‘ <code>/etc/mysql/my.cnf</code> é…ç½®æ–‡ä»¶ï¼Œä¾æ¬¡æ·»åŠ ä¸Šé¢çš„ç¼–ç è®¾ç½®ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#</span><br><span class="line"></span><br><span class="line">[client]</span><br><span class="line">default-character-set&#x3D;utf8</span><br><span class="line"></span><br><span class="line">[mysql]</span><br><span class="line">default-character-set&#x3D;utf8</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">init_connect&#x3D;&#39;SET NAMES utf8&#39;</span><br><span class="line">character-set-server&#x3D;utf8</span><br><span class="line">collation-server&#x3D;utf8_unicode_ci</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">!includedir &#x2F;etc&#x2F;mysql&#x2F;conf.d&#x2F;</span><br><span class="line">!includedir &#x2F;etc&#x2F;mysql&#x2F;mysql.conf.d&#x2F;</span><br></pre></td></tr></table></figure>

<hr>
<p>ç„¶åé‡å¯ mysql æœåŠ¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ service mysql restart</span><br></pre></td></tr></table></figure>

<p>å†æ¬¡ç™»å½•mysqlå‘½ä»¤æ¨¡å¼æŸ¥çœ‹é»˜è®¤ç¼–ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ mysql -uroot -p</span><br><span class="line">Enter password: </span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line"></span><br><span class="line">mysql&gt; show variables like &quot;%character%&quot;;show variables like &quot;%collation%&quot;;</span><br><span class="line">+--------------------------+----------------------------+</span><br><span class="line">| Variable_name            | Value                      |</span><br><span class="line">+--------------------------+----------------------------+</span><br><span class="line">| character_set_client     | utf8                       |</span><br><span class="line">| character_set_connection | utf8                       |</span><br><span class="line">| character_set_database   | utf8                       |</span><br><span class="line">| character_set_filesystem | binary                     |</span><br><span class="line">| character_set_results    | utf8                       |</span><br><span class="line">| character_set_server     | utf8                       |</span><br><span class="line">| character_set_system     | utf8                       |</span><br><span class="line">| character_sets_dir       | &#x2F;usr&#x2F;share&#x2F;mysql&#x2F;charsets&#x2F; |</span><br><span class="line">+--------------------------+----------------------------+</span><br><span class="line">8 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">+----------------------+-----------------+</span><br><span class="line">| Variable_name        | Value           |</span><br><span class="line">+----------------------+-----------------+</span><br><span class="line">| collation_connection | utf8_general_ci |</span><br><span class="line">| collation_database   | utf8_unicode_ci |</span><br><span class="line">| collation_server     | utf8_unicode_ci |</span><br><span class="line">+----------------------+-----------------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>å¯è§ï¼Œæˆ‘ä»¬å·²ç»æ›´æ”¹æˆåŠŸäº†ã€‚</p>
<ul>
<li><a href="http://stackoverflow.com/questions/3513773/change-mysql-default-character-set-to-utf-8-in-my-cnf" target="_blank" rel="noopener">Change MySQL default character set to UTF-8 in my.cnf? - Stack Overflow</a></li>
</ul>
<hr>
<h4 id="è®©MySQLæœåŠ¡å™¨è¢«è¿œç¨‹è®¿é—®"><a href="#è®©MySQLæœåŠ¡å™¨è¢«è¿œç¨‹è®¿é—®" class="headerlink" title="è®©MySQLæœåŠ¡å™¨è¢«è¿œç¨‹è®¿é—®"></a>è®©MySQLæœåŠ¡å™¨è¢«è¿œç¨‹è®¿é—®</h4><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œrootè´¦æˆ·åªèƒ½ä» <code>localhost</code> å³æœ¬æœºä¸‹æ¥è®¿é—®mysqlçš„æœåŠ¡ã€‚è€Œåœ¨æ­£å¼ä½¿ç”¨æ—¶ï¼Œmysqlæ•°æ®åº“éƒ½æ˜¯æ”¾åœ¨è¿œç¨‹çš„æ•°æ®åº“æœåŠ¡å™¨ä¸Šï¼Œè¿™æ ·ä¹Ÿå°±éœ€è¦æˆ‘ä»¬é€šè¿‡è¿œç¨‹çš„æ–¹å¼èƒ½å¤Ÿè®¿é—®åˆ°mysqlæœåŠ¡ã€‚</p>
<h5 id="å¼€å¯ç»‘å®šç«¯å£"><a href="#å¼€å¯ç»‘å®šç«¯å£" class="headerlink" title="å¼€å¯ç»‘å®šç«¯å£"></a>å¼€å¯ç»‘å®šç«¯å£</h5><p>ç¼–è¾‘é…ç½®æ–‡ä»¶ <code>/etc/mysql/my.cnf</code> æˆ– <code>/etc/mysql/mysql.conf.d/mysqld.cnf</code> ï¼Œå°†ç»‘å®šåœ°å€è¡Œæ³¨é‡Šæ‰æˆ–è€…ä¿®æ”¹ä¸ºæŒ‡å®šIPï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#æ³¨é‡Šbind-address</span><br><span class="line"># bind-address                   &#x3D; 127.0.0.1</span><br></pre></td></tr></table></figure>

<ul>
<li>æ³¨é‡Šæ‰åˆ™å…è®¸æ‰€æœ‰ipéƒ½èƒ½å¤Ÿè®¿é—®ï¼Œä¹Ÿå¯ä»¥è®¾ç½®æˆ <code>0.0.0.0</code></li>
<li>ä¿®æ”¹ä¸ºæŒ‡å®šçš„IPåœ°å€ï¼Œåˆ™åªå…è®¸è¯¥IPç½‘æ®µå¯ä»¥è®¿é—®</li>
</ul>
<p>ä¿®æ”¹é…ç½®æ–‡ä»¶åï¼Œé‡å¯ mysql æœåŠ¡ç”Ÿæ•ˆï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ service mysql restart</span><br></pre></td></tr></table></figure>

<p>å¦‚æœè¿™æ—¶é€šè¿‡å¤–ç½‘è¿æ¥mysqlï¼Œåœ¨è¿æ¥æ—¶ä¼šå‡ºç°é”™è¯¯ â€œâ€™Host XXX is not allowed to connect to this MySQL serverâ€™ â€ ï¼Œåˆ™è¿˜éœ€è¦ä¿®æ”¹æ•°æ®åº“ä¸­ç”¨æˆ·çš„è®¿é—®æƒé™ã€‚</p>
<h5 id="ä¿®æ”¹æ•°æ®åº“ä¸­è´¦æˆ·è®¿é—®æƒé™"><a href="#ä¿®æ”¹æ•°æ®åº“ä¸­è´¦æˆ·è®¿é—®æƒé™" class="headerlink" title="ä¿®æ”¹æ•°æ®åº“ä¸­è´¦æˆ·è®¿é—®æƒé™"></a>ä¿®æ”¹æ•°æ®åº“ä¸­è´¦æˆ·è®¿é—®æƒé™</h5><p>è¿™é‡Œä»¥ <code>root</code> è´¦æˆ·ä¸ºä¾‹æ¥è®¾ç½®è¿œç¨‹è®¿é—®ã€‚</p>
<h6 id="æŸ¥çœ‹rootè´¦æˆ·å¯è®¿é—®æƒé™"><a href="#æŸ¥çœ‹rootè´¦æˆ·å¯è®¿é—®æƒé™" class="headerlink" title="æŸ¥çœ‹rootè´¦æˆ·å¯è®¿é—®æƒé™"></a>æŸ¥çœ‹rootè´¦æˆ·å¯è®¿é—®æƒé™</h6><p>ä»¥ <code>root</code> è´¦æˆ·ç™»å½•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql -u root -p</span><br><span class="line">Enter password: &lt;enter password&gt;</span><br></pre></td></tr></table></figure>

<p>åˆ‡æ¢åˆ° <code>mysql</code> æ•°æ®åº“ï¼Œå¹¶æŸ¥è¯¢ <code>user</code> è¡¨ä¸­çš„è´¦æˆ·è®¾ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; use mysql;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup with -A</span><br><span class="line"></span><br><span class="line">Database changed</span><br><span class="line"></span><br><span class="line">mysql&gt; select host,user from user;</span><br><span class="line">+-----------+------------------+</span><br><span class="line">| host      | user             |</span><br><span class="line">+-----------+------------------+</span><br><span class="line">| localhost | debian-sys-maint |</span><br><span class="line">| localhost | mysql.sys        |</span><br><span class="line">| localhost | root             |</span><br><span class="line">| localhost | testuser1        |</span><br><span class="line">| localhost | testuser2        |</span><br><span class="line">+-----------+------------------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œrootè´¦æˆ·é»˜è®¤ä¸‹ä¸å…è®¸ä»è¿œç¨‹ç™»é™†ï¼Œåªèƒ½ä» <code>localhost</code> æ¥è®¿é—®ï¼Œæˆ‘ä»¬è¿˜è¦ä¸º <code>root</code> è´¦æˆ·æ·»åŠ è®¿é—®æƒé™ã€‚</p>
<h6 id="æ·»åŠ è¿œç¨‹è®¿é—®æˆæƒ"><a href="#æ·»åŠ è¿œç¨‹è®¿é—®æˆæƒ" class="headerlink" title="æ·»åŠ è¿œç¨‹è®¿é—®æˆæƒ"></a>æ·»åŠ è¿œç¨‹è®¿é—®æˆæƒ</h6><p>è¿™é‡Œæœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§æ˜¯å°†ä¸Šé¢çš„ <code>mysql</code> æ•°æ®åº“ä¸­çš„ <code>user</code> è¡¨é‡Œçš„ <code>host</code> é¡¹ï¼Œå°† <code>localhost</code> æ”¹ä¸º <code>%</code>ï¼Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; use mysql;</span><br><span class="line">mysql&gt; update user set host &#x3D;&#39;%&#39; where user &#x3D;&#39;root&#39;;</span><br></pre></td></tr></table></figure>

<p>å¦å¤–ä¸€ç§æ˜¯ä¸ºè´¦å· <code>root</code> æ·»åŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹è®¿é—®æˆæƒã€‚</p>
<p>è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨ç¬¬äºŒç§æ–¹æ³•ã€‚</p>
<p>é€šè¿‡å‘½ä»¤ <code>GRANT ALL PRIVILEGES ON *.* to root@&#39;%&#39; IDENTIFIED BY &#39;put-your-password&#39; WITH GRANT OPTION;</code> æ¥æ“ä½œã€‚</p>
<p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql -u root -p</span><br><span class="line">Enter password: &lt;enter password&gt;</span><br><span class="line"></span><br><span class="line">mysql&gt; GRANT ALL PRIVILEGES ON *.* to root@&#39;%&#39; IDENTIFIED BY &#39;mysql&#39; WITH GRANT OPTION;</span><br><span class="line"></span><br><span class="line">mysql&gt; FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure>

<p>å†æ¬¡æŸ¥çœ‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; select host,user from user;</span><br><span class="line">+-----------+------------------+</span><br><span class="line">| host      | user             |</span><br><span class="line">+-----------+------------------+</span><br><span class="line">| %         | root             |</span><br><span class="line">| localhost | debian-sys-maint |</span><br><span class="line">| localhost | mysql.sys        |</span><br><span class="line">| localhost | root             |</span><br><span class="line">| localhost | testuser1        |</span><br><span class="line">| localhost | testuser2        |</span><br><span class="line">+-----------+------------------+</span><br><span class="line">6 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨å†å°è¯•é€šè¿‡å¤–ç½‘æ¥è¿æ¥ <code>mysql</code> æ•°æ®åº“ï¼Œå°±èƒ½è¿æ¥æˆåŠŸäº†ã€‚</p>
<hr>
<h6 id="æœ¬åœ°å’Œè¿œç¨‹è®¿é—®ä½¿ç”¨ä¸åŒæƒé™æˆ–å¯†ç "><a href="#æœ¬åœ°å’Œè¿œç¨‹è®¿é—®ä½¿ç”¨ä¸åŒæƒé™æˆ–å¯†ç " class="headerlink" title="æœ¬åœ°å’Œè¿œç¨‹è®¿é—®ä½¿ç”¨ä¸åŒæƒé™æˆ–å¯†ç "></a>æœ¬åœ°å’Œè¿œç¨‹è®¿é—®ä½¿ç”¨ä¸åŒæƒé™æˆ–å¯†ç </h6><p>åœ¨ä¸Šé¢çš„è¡¨ä¸­æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œ<code>root</code> è´¦æˆ·æœ‰ä¸¤ä¸ª <code>host</code> é…ç½®é¡¹ï¼Œä¸€ä¸ªæœ¬åœ°çš„ï¼Œä¸€ä¸ªè¿œç¨‹çš„ã€‚å…¶å®æˆ‘ä»¬å¯ä»¥å°†ä¸¤é¡¹è®¾ç½®æˆä¸åŒçš„å¯†ç ï¼Œä»¥é˜²æ­¢æœ¬åœ°æˆ–è¿œç¨‹çš„å¯†ç æ³„éœ²é—®é¢˜ã€‚ä¹Ÿå¯ä»¥åœ¨ <code>grant</code> åè·Ÿè¯¦ç»†çš„æŸ¥è¯¢æ¡ä»¶ <code>select,delete</code> ç­‰ï¼Œä¸ºæœ¬åœ°æˆ–è¿œç¨‹è®¿é—®è®¾ç½®ä¸åŒçš„è®¿é—®æƒé™ã€‚æ¯”å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; GRANT SELECT,UPDATE,INSERT,DELETE on *.* to root@&#39;%&#39; IDENTIFIED BY &#39;mysql&#39; WITH GRANT OPTION;</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="http://www.cnblogs.com/redfox241/archive/2009/08/07/1541212.html" target="_blank" rel="noopener">mysql grant å‘½ä»¤ä¸‰ç§å¸¸ç”¨ - redfox - åšå®¢å›­</a></li>
<li><a href="http://5iwww.blog.51cto.com/856039/267499" target="_blank" rel="noopener">mysql Grant è¯­æ³•è¯¦è§£</a></li>
</ul>
<hr>
<h6 id="æ·»åŠ ç‰¹å®šè¿œç¨‹è®¿é—®æƒé™"><a href="#æ·»åŠ ç‰¹å®šè¿œç¨‹è®¿é—®æƒé™" class="headerlink" title="æ·»åŠ ç‰¹å®šè¿œç¨‹è®¿é—®æƒé™"></a>æ·»åŠ ç‰¹å®šè¿œç¨‹è®¿é—®æƒé™</h6><p>å‡è®¾è´¦æˆ· <code>myuser</code> å¯†ç  <code>mypwd</code></p>
<ol>
<li><code>grant all privileges on *.* to &#39;myuser&#39;@&#39;localhost&#39; identified by &#39;mypwd&#39;</code></li>
<li><code>grant all privileges on *.* to &#39;myuser&#39;@&#39;%&#39; identified by &#39;mypwd&#39;</code></li>
<li><code>grant all privileges on *.* to &#39;myuser&#39;@&#39;10.22.255.18&#39; identified by &#39;mypwd&#39;</code></li>
</ol>
<p>è¯´æ˜ï¼š</p>
<ol>
<li>æ·»åŠ ä¸€ä¸ªæœ¬åœ°ç”¨æˆ· <code>myuser</code> ,ä¸€èˆ¬ç”¨äºwebæœåŠ¡å™¨å’Œæ•°æ®åº“æœåŠ¡å™¨åœ¨ä¸€èµ·çš„æƒ…å†µ</li>
<li>æ·»åŠ ä¸€ä¸ªç”¨æˆ· <code>myuser</code> ,åªè¦èƒ½è¿æ¥æ•°æ®åº“æœåŠ¡å™¨çš„æœºå™¨éƒ½å¯ä»¥ä½¿ç”¨ï¼Œè¿™ä¸ªæ¯”è¾ƒå±é™©ï¼Œä¸€èˆ¬ä¸ç”¨</li>
<li>åœ¨æ•°æ®åº“æœåŠ¡å™¨ä¸Šç»™ <code>10.22.255.18</code> æœºå™¨æ·»åŠ ä¸€ä¸ªç”¨æˆ· <code>myuser</code>ï¼Œä¸€èˆ¬ç”¨äºwebæœåŠ¡å™¨å’Œæ•°æ®åº“æœåŠ¡å™¨åˆ†ç¦»çš„æƒ…å†µ</li>
</ol>
<p><strong>æ³¨æ„</strong>ï¼šçœŸæ­£ä½¿ç”¨çš„æ—¶å€™ä¸ä¼šç”¨ <code>grant all PRIVILEGES on *.*</code> ï¼Œè€Œæ˜¯æ ¹æ®å®é™…éœ€è¦è®¾å®šç›¸å…³çš„æƒé™ã€‚</p>
<hr>
<h6 id="ç‰¹å®šè®¿é—®æƒé™"><a href="#ç‰¹å®šè®¿é—®æƒé™" class="headerlink" title="ç‰¹å®šè®¿é—®æƒé™"></a>ç‰¹å®šè®¿é—®æƒé™</h6><ul>
<li>å¦‚æœæƒ³è®©è´¦æˆ· <code>myuser</code> ä½¿ç”¨ <code>mypwd</code> ä»ä»»ä½•ä¸»æœºè¿æ¥åˆ° <code>mysql</code> æœåŠ¡å™¨ï¼Œæ‰§è¡Œï¼š  <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GRANT ALL PRIVILEGES ON *.* to myuser@&#39;%&#39; IDENTIFIED BY &#39;mypwd&#39; WITH GRANT OPTION;</span><br></pre></td></tr></table></figure></li>
<li>å¦‚æœæƒ³è®©è´¦æˆ· <code>myuser</code> ä½¿ç”¨å¯†ç  <code>123456</code> ä» ipä¸º <code>123.123.123.123</code> çš„ä¸»æœºè¿æ¥åˆ° <code>mysql</code> æœåŠ¡å™¨ï¼Œæ‰§è¡Œï¼š<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GRANT ALL PRIVILEGES ON *.* to myuser@&#39;123.123.123.123&#39; IDENTIFIED BY &#39;123456&#39; WITH GRANT OPTION;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>å³  â€˜%â€™ è¡¨ç¤ºä»»ä½•ä¸»æœºã€‚</p>
<hr>
<h6 id="WITH-GRANT-OPTION-æ˜¯å•¥æ„æ€"><a href="#WITH-GRANT-OPTION-æ˜¯å•¥æ„æ€" class="headerlink" title="WITH GRANT OPTION æ˜¯å•¥æ„æ€"></a><code>WITH GRANT OPTION</code> æ˜¯å•¥æ„æ€</h6><p><code>WITH GRANT OPTION</code> è¡¨ç¤ºå…·æœ‰æˆäºˆæƒé™çš„æƒåˆ©ã€‚æ¯”å¦‚ ä¸Šé¢çš„ï¼š </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GRANT ALL PRIVILEGES ON *.* to myuser@&#39;%&#39; IDENTIFIED BY &#39;mypwd&#39; WITH GRANT OPTION;</span><br></pre></td></tr></table></figure>

<p>ä¸º <code>root</code> ç”¨æˆ·èµ‹äºˆäº† <code>ALL PRIVILEGES</code> çš„æƒé™ï¼Œé‚£ä¹ˆ <code>root</code> è´¦æˆ·å°±å¯ä»¥ä¸ºå…¶ä»–çš„è´¦æˆ·æ¯”å¦‚ <code>testuser1</code> è®¾ç½®ä¸åŒçš„æƒé™ã€‚</p>
<hr>
]]></content>
      <tags>
        <tag>Ubuntu</tag>
        <tag>Mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntuç³»ç»Ÿä¸‹å®‰è£…ç»ˆæShell-zsh</title>
    <url>/2016/10/05/ubuntu-install-zsh/</url>
    <content><![CDATA[<h4 id="æŸ¥çœ‹ç³»ç»Ÿ-shell"><a href="#æŸ¥çœ‹ç³»ç»Ÿ-shell" class="headerlink" title="æŸ¥çœ‹ç³»ç»Ÿ shell"></a>æŸ¥çœ‹ç³»ç»Ÿ shell</h4><p>ç»ˆç«¯è¾“å…¥ <code>echo $SHELL</code> ï¼Œå¯ä»¥è¾“å‡ºå½“å‰ä½¿ç”¨çš„shellã€‚</p>
<p>ç»ˆç«¯è¾“å…¥ <code>cat /etc/shells</code> ï¼Œå¯ä»¥è¾“å‡ºå½“å‰ç³»ç»Ÿå·²ç»å®‰è£…çš„shellã€‚</p>
<hr>
<h4 id="å®‰è£…-zsh"><a href="#å®‰è£…-zsh" class="headerlink" title="å®‰è£… zsh"></a>å®‰è£… zsh</h4><p>å®‰è£… <code>zsh</code> éœ€è¦ <code>git</code> ç¯å¢ƒæ”¯æŒï¼Œè¯·å…ˆç¡®ä¿å·²å®‰è£… <code>git</code> ç¯å¢ƒï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install git</span><br></pre></td></tr></table></figure>

<h5 id="å®‰è£…-zsh-1"><a href="#å®‰è£…-zsh-1" class="headerlink" title="å®‰è£… zsh"></a>å®‰è£… zsh</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get update</span><br><span class="line">$ sudo apt-get install zsh</span><br></pre></td></tr></table></figure>

<h5 id="å®‰è£…å¢å¼ºæ’ä»¶-oh-my-zsh"><a href="#å®‰è£…å¢å¼ºæ’ä»¶-oh-my-zsh" class="headerlink" title="å®‰è£…å¢å¼ºæ’ä»¶ oh-my-zsh"></a>å®‰è£…å¢å¼ºæ’ä»¶ oh-my-zsh</h5><p>å¯ä»¥é€šè¿‡ <code>wget</code> æˆ–è€… <code>curl</code> æ¥å®‰è£…ã€‚ä¸‹é¢çš„å‘½ä»¤æ˜¯åœ¨ <a href="https://ohmyz.sh/" target="_blank" rel="noopener">Oh My Zsh</a> å®˜ç½‘ä¸­æŸ¥çœ‹åˆ°çš„æœ€æ–°å®‰è£…å‘½ä»¤ï¼Œå»ºè®®ç”¨å®˜ç½‘ä¸­çš„æ¨èå®‰è£…æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; wget</span><br><span class="line">$ sh -c &quot;$(wget https:&#x2F;&#x2F;raw.github.com&#x2F;robbyrussell&#x2F;oh-my-zsh&#x2F;master&#x2F;tools&#x2F;install.sh -O -)&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; curl</span><br><span class="line">$ sh -c &quot;$(curl -fsSL https:&#x2F;&#x2F;raw.github.com&#x2F;robbyrussell&#x2F;oh-my-zsh&#x2F;master&#x2F;tools&#x2F;install.sh)&quot;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œå®Œä¸Šé¢çš„å‘½ä»¤åï¼Œå¯èƒ½ä¼šå‡ºç°ä¸¤ç§æƒ…å†µã€‚</p>
<h6 id="è¾“å…¥å¯†ç åç«‹å³ç”Ÿæ•ˆ"><a href="#è¾“å…¥å¯†ç åç«‹å³ç”Ÿæ•ˆ" class="headerlink" title="è¾“å…¥å¯†ç åç«‹å³ç”Ÿæ•ˆ"></a>è¾“å…¥å¯†ç åç«‹å³ç”Ÿæ•ˆ</h6><p>å½“æç¤ºåœç•™åœ¨ <code>Password</code> å¤„è¦æ±‚è¾“å…¥å½“å‰è´¦æˆ·çš„å¯†ç æ—¶ï¼Œç›´æ¥è¾“å…¥å¯†ç ï¼Œç­‰å¾…è‡ªåŠ¨é…ç½®å®Œæˆå³å¯ã€‚<code>oh-my-zsh</code> ä¼šç«‹å³ç”Ÿæ•ˆã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ubuntu@VM-46-228-ubuntu:~$ sh -c &quot;$(curl -fsSL https:&#x2F;&#x2F;raw.github.com&#x2F;robbyrussell&#x2F;oh-my-zsh&#x2F;master&#x2F;tools&#x2F;install.sh)&quot;</span><br><span class="line">Cloning Oh My Zsh...</span><br><span class="line">Cloning into &#39;&#x2F;home&#x2F;ubuntu&#x2F;.oh-my-zsh&#39;...</span><br><span class="line">remote: Counting objects: 891, done.</span><br><span class="line">remote: Compressing objects: 100% (756&#x2F;756), done.</span><br><span class="line">remote: Total 891 (delta 20), reused 708 (delta 7), pack-reused 0</span><br><span class="line">Receiving objects: 100% (891&#x2F;891), 590.35 KiB | 111.00 KiB&#x2F;s, done.</span><br><span class="line">Resolving deltas: 100% (20&#x2F;20), done.</span><br><span class="line">Checking connectivity... done.</span><br><span class="line">Looking for an existing zsh config...</span><br><span class="line">Using the Oh My Zsh template file and adding it to ~&#x2F;.zshrc</span><br><span class="line">Time to change your default shell to zsh!</span><br><span class="line">Password:</span><br><span class="line">         __                                     __</span><br><span class="line">  ____  &#x2F; &#x2F;_     ____ ___  __  __   ____  _____&#x2F; &#x2F;_</span><br><span class="line"> &#x2F; __ \&#x2F; __ \   &#x2F; __ &#96;__ \&#x2F; &#x2F; &#x2F; &#x2F;  &#x2F;_  &#x2F; &#x2F; ___&#x2F; __ \</span><br><span class="line">&#x2F; &#x2F;_&#x2F; &#x2F; &#x2F; &#x2F; &#x2F;  &#x2F; &#x2F; &#x2F; &#x2F; &#x2F; &#x2F; &#x2F;_&#x2F; &#x2F;    &#x2F; &#x2F;_(__  ) &#x2F; &#x2F; &#x2F;</span><br><span class="line">\____&#x2F;_&#x2F; &#x2F;_&#x2F;  &#x2F;_&#x2F; &#x2F;_&#x2F; &#x2F;_&#x2F;\__, &#x2F;    &#x2F;___&#x2F;____&#x2F;_&#x2F; &#x2F;_&#x2F;</span><br><span class="line">                        &#x2F;____&#x2F;                       ....is now installed!</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Please look over the ~&#x2F;.zshrc file to select plugins, themes, and options.</span><br><span class="line"></span><br><span class="line">p.s. Follow us at https:&#x2F;&#x2F;twitter.com&#x2F;ohmyzsh.</span><br><span class="line"></span><br><span class="line">p.p.s. Get stickers and t-shirts at https:&#x2F;&#x2F;shop.planetargon.com.</span><br><span class="line"></span><br><span class="line">âœ  ~</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°å‰é¢çš„æç¤ºç¬¦å·²ç»å˜äº†ã€‚</p>
<h6 id="éœ€è¦é‡å¯ç”Ÿæ•ˆ"><a href="#éœ€è¦é‡å¯ç”Ÿæ•ˆ" class="headerlink" title="éœ€è¦é‡å¯ç”Ÿæ•ˆ"></a>éœ€è¦é‡å¯ç”Ÿæ•ˆ</h6><p>å¦‚æœæç¤ºå¦‚ä¸‹ä¿¡æ¯ï¼Œåˆ™ç›´æ¥å¿½ç•¥å³å¯ï¼Œç»§ç»­æ‰§è¡Œä¸‹é¢çš„æ­¥éª¤ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Looking for an existing zsh config...</span><br><span class="line">Using the Oh My Zsh template file and adding it to ~&#x2F;.zshrc</span><br><span class="line">Time to change your default shell to zsh!</span><br><span class="line">Password: chsh: PAM: Authentication failure</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæç¤º <code>Authentication failure</code>ï¼Œåˆ™è¿˜éœ€è¦æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å°†zshæ›´æ”¹ä¸ºé»˜è®¤shell,æ ¹æ®æç¤ºè¾“å…¥å½“å‰ç”¨æˆ·çš„å¯†ç ,é‡æ–°ç™»å½•ç»ˆç«¯æˆ–é‡å¯åç”Ÿæ•ˆï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ chsh -s &#x2F;bin&#x2F;zsh</span><br><span class="line">&#x2F;&#x2F;æˆ–:</span><br><span class="line">$ chsh -s &#96;which zsh&#96;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ sudo reboot</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="zsh-ä¸»é¢˜"><a href="#zsh-ä¸»é¢˜" class="headerlink" title="zsh ä¸»é¢˜"></a>zsh ä¸»é¢˜</h4><p>zshçš„é»˜è®¤é…ç½®é¡¹éƒ½åœ¨ <code>~/.zshrc</code> æ–‡ä»¶ä¸­ï¼Œä¾‹å¦‚é‡Œé¢çš„<code>ZSH_THEME=&quot;robbyrussell&quot;</code> è¡¨ç¤ºå½“å‰zshçš„ä¸»é¢˜ä¸º<code>robbyrussell</code>.</p>
<p>é…ç½®å®Œä¹‹åï¼Œæˆ‘ä»¬éœ€è¦é‡å¯ç»ˆç«¯æˆ–æ‰“å¼€æ–°çš„æ ‡ç­¾ï¼Œæˆ–è€…ç”¨ä»¥ä¸‹å‘½ä»¤åˆ·æ–°é…ç½®ï¼š </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">source ~&#x2F;.zshrc</span><br></pre></td></tr></table></figure>

<p><code>oh-my-zsh</code> æä¾›äº†æ•°åç§ä¸»é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç›®å½• <code>~/.oh-my-zsh/themes</code> ä¸­çœ‹åˆ°ä»–ä»¬ï¼š  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">~&#x2F;.oh-my-zsh&#x2F;themes</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½ ä¸çŸ¥é“é€‰å“ªä¸ªå¥½ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®æˆéšæœºé¡¹ï¼š  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ZSH_THEME&#x3D;&quot;random&quot;</span><br></pre></td></tr></table></figure>

<p>oh-my-zshå®˜æ–¹æä¾›çš„ä¸»é¢˜å¦‚ä¸‹ï¼š<br><a href="https://github.com/robbyrussell/oh-my-zsh/wiki/themes" target="_blank" rel="noopener">Themes Â· robbyrussell/oh-my-zsh Wiki Â· GitHub</a></p>
<hr>
<h4 id="zsh-ä¸‹çš„åå°ç¨‹åº"><a href="#zsh-ä¸‹çš„åå°ç¨‹åº" class="headerlink" title="zsh ä¸‹çš„åå°ç¨‹åº"></a>zsh ä¸‹çš„åå°ç¨‹åº</h4><p>åœ¨ <code>zsh</code> ä¸‹ï¼Œå¦‚æœæœ‰åå°è¿è¡Œçš„ç¨‹åºï¼Œæ­¤æ—¶æ‰§è¡Œ <code>exit</code> ä¼šæç¤ºå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  ~ exit</span><br><span class="line">zsh: you have running jobs.</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸€èˆ¬çš„ <code>Bash</code> ä¸‹ï¼Œæˆ‘ä»¬è®¾ç½®åå°è¿è¡Œç¨‹åºç”¨ <code>&amp;</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ python cnblog.py &amp;</span><br></pre></td></tr></table></figure>

<p>è€Œåœ¨ <code>zsh</code> ä¸‹ï¼Œæˆ‘ä»¬è®¾ç½®åå°è¿è¡Œç¨‹åºåˆ™éœ€è¦ç”¨ <code>&amp;!</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ python cnblog.py &amp;!</span><br></pre></td></tr></table></figure>

<p>StackOverflowä¸Šçš„æç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Start the program withâ€”</span><br><span class="line">dolphin &amp;!</span><br><span class="line">The &amp;! (or equivalently, &amp;|) is a zsh-specific shortcut to both background and disown the process, such that exiting the shell will leave it running.</span><br></pre></td></tr></table></figure>

<p>è¯¦è§ï¼š<a href="http://stackoverflow.com/questions/19302913/exit-zsh-but-leave-running-jobs-open" target="_blank" rel="noopener">bash - Exit zsh, but leave running jobs open? - Stack Overflow</a></p>
<hr>
<h4 id="ç›¸å…³å‚è€ƒ"><a href="#ç›¸å…³å‚è€ƒ" class="headerlink" title="ç›¸å…³å‚è€ƒ"></a>ç›¸å…³å‚è€ƒ</h4><ul>
<li><a href="http://logicmd.net/2012/11/installing-zsh-on-ubuntu/" target="_blank" rel="noopener">åœ¨Ubuntuä¸Šå®‰è£…zsh</a></li>
<li><a href="https://ldsink.com/archives/install-zsh-on-ubuntu.html" target="_blank" rel="noopener">Ubuntu ä¸Šå®‰è£… zsh</a></li>
<li><a href="https://segmentfault.com/a/1190000003019439" target="_blank" rel="noopener">[Linux] ubuntuå®‰è£…zsh - TangShangWen - SegmentFault</a></li>
<li><a href="https://github.com/robbyrussell/oh-my-zsh" target="_blank" rel="noopener">oh-my-zsh</a></li>
</ul>
]]></content>
      <tags>
        <tag>zsh</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxä¸‹è¿›ç¨‹ç®¡ç†Supervisor</title>
    <url>/2016/10/04/supervisor-process-management/</url>
    <content><![CDATA[<h4 id="Supervisor"><a href="#Supervisor" class="headerlink" title="Supervisor"></a>Supervisor</h4><blockquote>
<p>Supervisor,æ˜¯ä¸€ä¸ªè¿›ç¨‹æ§åˆ¶ç³»ç»Ÿï¼Œæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯/æœåŠ¡å™¨ç«¯ç³»ç»Ÿå…è®¸ç”¨æˆ·åœ¨UNIX-LIKE æ“ä½œç³»ç»Ÿä¸­å»ç›‘æ§ï¼Œæ§åˆ¶ä¸€äº›è¿›ç¨‹ã€‚Supervisorä½œä¸ºä¸»è¿›ç¨‹ï¼ŒSupervisorä¸‹ç®¡ç†çš„æ—¶ä¸€äº›å­è¿›ç¨‹ï¼Œå½“æŸä¸€ä¸ªå­è¿›ç¨‹å¼‚å¸¸é€€å‡ºæ—¶ï¼ŒSupervisorä¼šç«‹é©¬å¯¹æ­¤åšå¤„ç†ï¼Œé€šå¸¸ä¼šå®ˆæŠ¤è¿›ç¨‹ï¼Œé‡å¯è¯¥è¿›ç¨‹ã€‚</p>
</blockquote>
<p><code>Supervisor</code> æœ‰ä¸¤ä¸ªä¸»è¦çš„ç»„æˆéƒ¨åˆ†ï¼š</p>
<ul>
<li><code>supervisord</code>ï¼Œè¿è¡Œ <code>Supervisor</code> æ—¶ä¼šå¯åŠ¨ä¸€ä¸ªè¿›ç¨‹ <code>supervisord</code>ï¼Œå®ƒè´Ÿè´£å¯åŠ¨æ‰€ç®¡ç†çš„è¿›ç¨‹ï¼Œå¹¶å°†æ‰€ç®¡ç†çš„è¿›ç¨‹ä½œä¸ºè‡ªå·±çš„å­è¿›ç¨‹æ¥å¯åŠ¨ï¼Œè€Œä¸”å¯ä»¥åœ¨æ‰€ç®¡ç†çš„è¿›ç¨‹å‡ºç°å´©æºƒæ—¶è‡ªåŠ¨é‡å¯ã€‚</li>
<li><code>supervisorctl</code>ï¼Œæ˜¯å‘½ä»¤è¡Œç®¡ç†å·¥å…·ï¼Œå¯ä»¥ç”¨æ¥æ‰§è¡Œ <code>stop</code>ã€<code>start</code>ã€<code>restart</code> ç­‰å‘½ä»¤ï¼Œæ¥å¯¹è¿™äº›å­è¿›ç¨‹è¿›è¡Œç®¡ç†ã€‚</li>
</ul>
<hr>
<h4 id="Supervisor-å®‰è£…"><a href="#Supervisor-å®‰è£…" class="headerlink" title="Supervisor å®‰è£…"></a><code>Supervisor</code> å®‰è£…</h4><p>é€šå¸¸é™¤äº†é€šè¿‡æºç çš„ <code>setup.py</code> çš„æ–¹å¼æ¥å®‰è£…(è¯¦è§å®˜ç½‘æ–‡æ¡£ <a href="http://supervisord.org/index.html" target="_blank" rel="noopener">Supervisor: A Process Control System &mdash; Supervisor 3.3.0 documentation</a> )ï¼Œè¿˜æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install supervisor</span><br><span class="line">$ sudo pip install supervisor</span><br></pre></td></tr></table></figure>

<p>ä½†è¿™ä¸¤ç§å®‰è£…æ–¹å¼æ˜¯æœ‰åŒºåˆ«çš„ã€‚</p>
<p>é€šè¿‡ <code>pip</code> çš„æ–¹å¼å®‰è£…åä¸ä¼šå®‰è£…ä¸ºé»˜è®¤æœåŠ¡ï¼Œè¿˜éœ€è¦è‡ªå·±å°†supervisorç¨‹åºè®¾ç½®ä¸ºåå°æœåŠ¡ã€‚è€Œé€šè¿‡ <code>apt-get</code> çš„æ–¹å¼å®‰è£…åå°±é»˜è®¤åˆ›å»ºä¸ºäº†åå°æœåŠ¡ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ <code>service supervisor restart</code> çš„æ–¹å¼æ¥ç®¡ç†ã€‚</p>
<p>å¯è§ï¼š<a href="http://stackoverflow.com/questions/12226113/supervisor-conf-default-location" target="_blank" rel="noopener">python - supervisor.conf default location - Stack Overflow</a></p>
<hr>
<h4 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h4><p>supervisorçš„é…ç½®æ–‡ä»¶é€šå¸¸å‘½åä¸º <code>supervisord.conf</code>ã€‚</p>
<p>é…ç½®æ–‡ä»¶æ£€æµ‹é¡ºåºå¦‚ä¸‹(é»˜è®¤ä¼šä½¿ç”¨æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ª):</p>
<ul>
<li><code>$CWD/supervisord.conf</code></li>
<li><code>$CWD/etc/supervisord.conf</code></li>
<li><code>/etc/supervisord.conf</code></li>
<li><code>/etc/supervisor/supervisord.conf (since Supervisor 3.3.0)</code></li>
<li><code>../etc/supervisord.conf (Relative to the executable)</code></li>
<li><code>../supervisord.conf (Relative to the executable)</code></li>
</ul>
<hr>
<h4 id="é€šè¿‡-apt-get-install-supervisor-æ–¹å¼å®‰è£…"><a href="#é€šè¿‡-apt-get-install-supervisor-æ–¹å¼å®‰è£…" class="headerlink" title="é€šè¿‡ apt-get install supervisor æ–¹å¼å®‰è£…"></a>é€šè¿‡ <code>apt-get install supervisor</code> æ–¹å¼å®‰è£…</h4><p>æ‰§è¡Œ ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install supervisor</span><br></pre></td></tr></table></figure>

<p>å®‰è£…å®Œæˆåä¼šé»˜è®¤å°† <code>supervisord</code> å¯åŠ¨ä¸ºåå°æœåŠ¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ps -ef|grep supervisor</span><br><span class="line">root      1455     1  0 15:46 ?        00:00:00 &#x2F;usr&#x2F;bin&#x2F;python &#x2F;usr&#x2F;bin&#x2F;supervisord -c &#x2F;etc&#x2F;supervisor&#x2F;supervisord.conf</span><br><span class="line">tiger     1470  1298  0 15:46 pts&#x2F;1    00:00:00 grep --color&#x3D;auto supervisor</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ <code>apt-get</code> å®‰è£…çš„ <code>supervisord</code> ç¨‹åºä½äº <code>/usr/bin/</code> ç›®å½•ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo whereis supervisord</span><br><span class="line">[sudo] password for tiger:</span><br><span class="line">supervisord: &#x2F;usr&#x2F;bin&#x2F;supervisord</span><br></pre></td></tr></table></figure>

<p>å®‰è£…å®ŒæˆåæŸ¥çœ‹ <code>ls /etc/supervisor/</code> :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ls &#x2F;etc&#x2F;supervisor&#x2F;</span><br><span class="line">conf.d  supervisord.conf</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬çœ‹åˆ°ä¼šç”Ÿæˆä¸€ä¸ªé»˜è®¤çš„ <code>supervisord.conf</code> é…ç½®æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥åœ¨ <code>conf.d</code> ç›®å½•ä¸‹åˆ›å»ºè‡ªå·±çš„é…ç½®æ–‡ä»¶ã€‚</p>
<p>æŸ¥çœ‹æ–‡ä»¶ <code>supervisord.conf</code> å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">; supervisor config file</span><br><span class="line"></span><br><span class="line">[unix_http_server]</span><br><span class="line">file&#x3D;&#x2F;var&#x2F;run&#x2F;supervisor.sock   ; (the path to the socket file)</span><br><span class="line">chmod&#x3D;0700                       ; sockef file mode (default 0700)</span><br><span class="line"></span><br><span class="line">[supervisord]</span><br><span class="line">logfile&#x3D;&#x2F;var&#x2F;log&#x2F;supervisor&#x2F;supervisord.log ; (main log file;default $CWD&#x2F;supervisord.log)</span><br><span class="line">pidfile&#x3D;&#x2F;var&#x2F;run&#x2F;supervisord.pid ; (supervisord pidfile;default supervisord.pid)</span><br><span class="line">childlogdir&#x3D;&#x2F;var&#x2F;log&#x2F;supervisor            ; (&#39;AUTO&#39; child log dir, default $TEMP)</span><br><span class="line"></span><br><span class="line">; the below section must remain in the config file for RPC</span><br><span class="line">; (supervisorctl&#x2F;web interface) to work, additional interfaces may be</span><br><span class="line">; added by defining them in separate rpcinterface: sections</span><br><span class="line">[rpcinterface:supervisor]</span><br><span class="line">supervisor.rpcinterface_factory &#x3D; supervisor.rpcinterface:make_main_rpcinterface</span><br><span class="line"></span><br><span class="line">[supervisorctl]</span><br><span class="line">serverurl&#x3D;unix:&#x2F;&#x2F;&#x2F;var&#x2F;run&#x2F;supervisor.sock ; use a unix:&#x2F;&#x2F; URL  for a unix socket</span><br><span class="line"></span><br><span class="line">; The [include] section can just contain the &quot;files&quot; setting.  This</span><br><span class="line">; setting can list multiple files (separated by whitespace or</span><br><span class="line">; newlines).  It can also contain wildcards.  The filenames are</span><br><span class="line">; interpreted as relative to this file.  Included files *cannot*</span><br><span class="line">; include files themselves.</span><br><span class="line"></span><br><span class="line">[include]</span><br><span class="line">files &#x3D; &#x2F;etc&#x2F;supervisor&#x2F;conf.d&#x2F;*.conf</span><br></pre></td></tr></table></figure>

<p>è¯¥é»˜è®¤é…ç½®æ–‡ä»¶ä¸­æ˜¯åŒ…å«ç€ <code>conf.d</code> ç›®å½•ä¸‹çš„æ‰€æœ‰ <code>*.conf</code> æ–‡ä»¶çš„ã€‚æˆ‘ä»¬å¯ä»¥å¯¹äºä¸åŒçš„é¡¹ç›®ï¼Œä½¿ç”¨å„è‡ªç‹¬ç«‹çš„é…ç½®æ–‡ä»¶ï¼Œæ”¾ç½®åœ¨ <code>/etc/supervisor/conf.d</code> ç›®å½•ä¸‹ã€‚</p>
<hr>
<p>æˆ‘ä»¬åœ¨ <code>conf.d</code> ç›®å½•ä¸‹ä½¿ç”¨ <code>echo_supervisord_conf</code> å‘½ä»¤æ¥åˆ›å»ºä¸€ä¸ª <code>hello.conf</code> é…ç½®æ–‡ä»¶(æˆ–è€…ç›´æ¥é€šè¿‡ <code>vim</code> åˆ›å»ºä¸€ä¸ªç©ºçš„ <code>.conf</code> æ–‡ä»¶ä¹Ÿå¯)ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ tiger@localhost:&#x2F;etc&#x2F;supervisor&#x2F;conf.d$ echo_supervisord_conf &gt; hello.conf</span><br><span class="line">-bash: Hello.conf: æƒé™ä¸å¤Ÿ</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæç¤ºæ²¡æœ‰æƒé™çš„é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo su - root -c &quot;echo_supervisord_conf &gt; &#x2F;etc&#x2F;supervisor&#x2F;conf.d&#x2F;hello.conf&quot;</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹ç”Ÿæˆçš„ <code>hello.conf</code> :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">;[program:theprogramname]</span><br><span class="line">;command&#x3D;&#x2F;bin&#x2F;cat              ; the program (relative uses PATH, can take args)</span><br><span class="line">;process_name&#x3D;%(program_name)s ; process_name expr (default %(program_name)s)</span><br><span class="line">;numprocs&#x3D;1                    ; number of processes copies to start (def 1)</span><br><span class="line">;directory&#x3D;&#x2F;tmp                ; directory to cwd to before exec (def no cwd)</span><br><span class="line">;umask&#x3D;022                     ; umask for process (default None)</span><br><span class="line">;priority&#x3D;999                  ; the relative start priority (default 999)</span><br><span class="line">;autostart&#x3D;true                ; start at supervisord start (default: true)</span><br><span class="line">;autorestart&#x3D;unexpected        ; whether&#x2F;when to restart (default: unexpected)</span><br><span class="line">;startsecs&#x3D;1                   ; number of secs prog must stay running (def. 1)</span><br><span class="line">;startretries&#x3D;3                ; max # of serial start failures (default 3)</span><br><span class="line">;exitcodes&#x3D;0,2                 ; &#39;expected&#39; exit codes for process (default 0,2)</span><br><span class="line">;stopsignal&#x3D;QUIT               ; signal used to kill process (default TERM)</span><br><span class="line">;stopwaitsecs&#x3D;10               ; max num secs to wait b4 SIGKILL (default 10)</span><br><span class="line">;stopasgroup&#x3D;false             ; send stop signal to the UNIX process group (default false)</span><br><span class="line">;killasgroup&#x3D;false             ; SIGKILL the UNIX process group (def false)</span><br><span class="line">;user&#x3D;chrism                   ; setuid to this UNIX account to run the program</span><br><span class="line">;redirect_stderr&#x3D;true          ; redirect proc stderr to stdout (default false)</span><br><span class="line">;stdout_logfile&#x3D;&#x2F;a&#x2F;path        ; stdout log path, NONE for none; default AUTO</span><br><span class="line">;stdout_logfile_maxbytes&#x3D;1MB   ; max # logfile bytes b4 rotation (default 50MB)</span><br><span class="line">;stdout_logfile_backups&#x3D;10     ; # of stdout logfile backups (default 10)</span><br><span class="line">;stdout_capture_maxbytes&#x3D;1MB   ; number of bytes in &#39;capturemode&#39; (default 0)</span><br><span class="line">;stdout_events_enabled&#x3D;false   ; emit events on stdout writes (default false)</span><br><span class="line">;stderr_logfile&#x3D;&#x2F;a&#x2F;path        ; stderr log path, NONE for none; default AUTO</span><br><span class="line">;stderr_logfile_maxbytes&#x3D;1MB   ; max # logfile bytes b4 rotation (default 50MB)</span><br><span class="line">;stderr_logfile_backups&#x3D;10     ; # of stderr logfile backups (default 10)</span><br><span class="line">;stderr_capture_maxbytes&#x3D;1MB   ; number of bytes in &#39;capturemode&#39; (default 0)</span><br><span class="line">;stderr_events_enabled&#x3D;false   ; emit events on stderr writes (default false)</span><br><span class="line">;environment&#x3D;A&#x3D;1,B&#x3D;2           ; process environment additions (def no adds)</span><br><span class="line">;serverurl&#x3D;AUTO                ; override serverurl computation (childutils)</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬éœ€è¦ç®¡ç†çš„ç¨‹åºåªè¦ä¾ç…§ä¸Šé¢çš„è¯´æ˜è¿›è¡Œé…ç½®å³å¯ï¼š</p>
<p>å‡å¦‚åœ¨ç›®å½• <code>/home/tiger/py</code> ä¸‹æœ‰ä¸€ä¸ªéœ€è¦åœ¨åå°è¿è¡Œçš„ Python ç¨‹åº <code>hello.py</code> ã€‚æ—¥å¿—æ–‡ä»¶ä¿å­˜åœ¨ <code>/home/tiger/py/logs</code> ä¸‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># coding:utf-8</span><br><span class="line"></span><br><span class="line">import time</span><br><span class="line"></span><br><span class="line">def make_log():</span><br><span class="line">	while True:</span><br><span class="line">		time.sleep(2)</span><br><span class="line">		with open(&#39;hello.log&#39;,&#39;a&#39;) as f:</span><br><span class="line">			f.write(&#39;hello_&#39;+time.strftime(&quot;%H:%M:%S&quot;)+&#39;\r&#39;)</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">	make_log()</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å‘ä¸Šé¢åˆ›å»ºçš„é…ç½®æ–‡ä»¶ <code>/etc/supervisor/conf.d/hello.conf</code> ä¸­å†™å…¥å¦‚ä¸‹æ•°æ®(å¯æŠŠå·²æœ‰çš„æ•°æ®æ¸…ç©ºï¼Œåˆ†å· <code>;</code> å¼€å¤´çš„è¡¨ç¤ºæ³¨é‡Šä¿¡æ¯)ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[program:hello]  ;æœåŠ¡çš„åç§°</span><br><span class="line">command&#x3D;python hello.py     				; supervisorå¯åŠ¨å‘½ä»¤</span><br><span class="line">directory&#x3D;&#x2F;home&#x2F;tiger&#x2F;py 			        ; é¡¹ç›®çš„æ–‡ä»¶å¤¹è·¯å¾„</span><br><span class="line">user&#x3D;tiger  								; è¿›ç¨‹æ‰§è¡Œçš„ç”¨æˆ·èº«ä»½</span><br><span class="line">autostart&#x3D;true                           	; æ˜¯å¦è‡ªåŠ¨å¯åŠ¨</span><br><span class="line">autorestart&#x3D;true                         	; æ˜¯å¦è‡ªåŠ¨é‡å¯</span><br><span class="line">startsecs&#x3D;1  								; è‡ªåŠ¨é‡å¯é—´éš”</span><br><span class="line">;logæ—¥å¿—æ–‡ä»¶çš„ä½ç½®</span><br><span class="line">stdout_logfile&#x3D;&#x2F;home&#x2F;tiger&#x2F;py&#x2F;logs&#x2F;hellopy.log     ; log æ—¥å¿—</span><br><span class="line">stderr_logfile&#x3D;&#x2F;home&#x2F;tiger&#x2F;py&#x2F;logs&#x2F;hellopy.err     ; é”™è¯¯æ—¥å¿—</span><br></pre></td></tr></table></figure>

<p>ä½¿æ–‡ä»¶å…·æœ‰å¯å†™æƒé™:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo chmod 777 &#x2F;etc&#x2F;supervisor&#x2F;conf.d&#x2F;hello.conf</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡å¦‚ä¸‹å‘½ä»¤å¯åŠ¨ supervisorï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo supervisord -c &#x2F;etc&#x2F;supervisor&#x2F;supervisord.conf</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ <code>apt-get</code> å®‰è£…çš„ <code>supervisor</code> åœ¨å®‰è£…å®Œæˆåå·²ç»ä½œä¸ºäº†åå°æœåŠ¡å¯åŠ¨äº†ï¼Œä¿®æ”¹äº†é…ç½®æ–‡ä»¶ååªéœ€è¦é‡æ–°åŠ è½½å³å¯ç”Ÿæ•ˆã€‚</p>
<p>é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ä½¿ç”¨å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo supervisorctl reload</span><br></pre></td></tr></table></figure>

<p>å…¶ä»–æ“ä½œå‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo supervisorctl -c &#x2F;etc&#x2F;supervisor&#x2F;supervisord.conf status  æŸ¥çœ‹ç®¡ç†è¿›ç¨‹çŠ¶æ€</span><br><span class="line">$ sudo supervisorctl -c &#x2F;etc&#x2F;supervisor&#x2F;supervisord.conf reload  é‡æ–°è½½å…¥é…ç½®é¡¹</span><br><span class="line">$ sudo supervisorctl -c &#x2F;etc&#x2F;supervisor&#x2F;supervisord.conf start [all]|[appname]     å¯åŠ¨æŒ‡å®š&#x2F;æ‰€æœ‰ç¨‹åºè¿›ç¨‹</span><br><span class="line">$ sudo supervisorctl -c &#x2F;etc&#x2F;supervisor&#x2F;supervisord.conf stop [all]|[appname]      å…³é—­æŒ‡å®š&#x2F;æ‰€æœ‰ç¨‹åºè¿›ç¨‹</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼š</p>
<p><code>supervisor</code> é»˜è®¤æƒ…å†µä¸‹å¦‚æœä¸æŒ‡å®šè¦æ‰§è¡Œçš„é…ç½®æ–‡ä»¶è·¯å¾„ä¼šæŒ‰ç…§é»˜è®¤çš„é¡ºåºå»æŸ¥è¯¢ç›¸åº”çš„é…ç½®æ–‡ä»¶ï¼ŒæŒ‰æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªä¸ºå‡†ã€‚<br>æ‰€ä»¥ï¼Œæ‰§è¡Œä»¥ä¸Šä»£ç æ—¶ï¼Œç²¾ç®€çš„ä»£ç ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo supervisorctl status</span><br></pre></td></tr></table></figure>

<p>å®Œæ•´çš„ä»£ç ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo supervisorctl -c &#x2F;etc&#x2F;supervisor&#x2F;supervisord.conf status</span><br></pre></td></tr></table></figure>

<p><code>-c</code> å‚æ•°æŒ‡å®šä½¿ç”¨çš„é…ç½®æ–‡ä»¶ç›®å½• æ›´å¤šå‚æ•°è¯·é€šè¿‡ <code>supervisorctl -h/--help</code> æŸ¥çœ‹ã€‚</p>
<hr>
<p><del>æµ‹è¯•æ—¶å‘ç°åœ¨ <code>Ubuntu 16.04</code> ç³»ç»Ÿä¸‹é€šè¿‡ <code>apt-get</code> æ–¹å¼å®‰è£…çš„ <code>Supervisor 3.3.0</code> ä¹‹å‰ç‰ˆæœ¬(eg:3.2.0.x) é»˜è®¤ä¸ä¼šæ³¨å†Œä¸ºåå°æœåŠ¡ï¼Œ3.3.0.xåçš„ç‰ˆæœ¬ä¼šé»˜è®¤æ³¨å†Œä¸ºåå°æœåŠ¡ã€‚</del>  å¾…è€ƒè¯</p>
<hr>
<h4 id="é€šè¿‡-pip-install-supervisor-çš„æ–¹å¼å®‰è£…"><a href="#é€šè¿‡-pip-install-supervisor-çš„æ–¹å¼å®‰è£…" class="headerlink" title="é€šè¿‡ pip install supervisor çš„æ–¹å¼å®‰è£…"></a>é€šè¿‡ <code>pip install supervisor</code> çš„æ–¹å¼å®‰è£…</h4><p>é€šè¿‡ <code>sudo pip install supervisor</code> å®‰è£…å®Œæˆåä¸ä¼šåœ¨ <code>/etc/</code> ä¸‹ç”Ÿæˆ <code>supervisor</code> ç›®å½•åŠå…¶ä¸‹çš„æ–‡ä»¶ã€‚åº”ç”¨ç¨‹åºæ˜¯å­˜åœ¨äº <code>/usr/local/bin/</code> ç›®å½•ä¸­:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ls &#x2F;usr&#x2F;local&#x2F;bin&#x2F;</span><br><span class="line">echo_supervisord_conf  pidproxy  supervisorctl  supervisord</span><br></pre></td></tr></table></figure>

<p>å¯è§å®‰è£…æ—¶çš„è„šæœ¬å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">......</span><br><span class="line">......</span><br><span class="line">Installing &#x2F;usr&#x2F;local&#x2F;lib&#x2F;python2.7&#x2F;dist-packages&#x2F;supervisor-3.3.0-nspkg.pth</span><br><span class="line">   Installing echo_supervisord_conf script to &#x2F;usr&#x2F;local&#x2F;bin</span><br><span class="line">   Installing pidproxy script to &#x2F;usr&#x2F;local&#x2F;bin</span><br><span class="line">   Installing supervisorctl script to &#x2F;usr&#x2F;local&#x2F;bin</span><br><span class="line">   Installing supervisord script to &#x2F;usr&#x2F;local&#x2F;bin</span><br></pre></td></tr></table></figure>

<p>å¯è§é€šè¿‡ <code>pip</code> å®‰è£…çš„ <code>supervisord</code> ç¨‹åºä½äº <code>/usr/local/bin/</code> ç›®å½•ä¸‹(æˆ–è€…é€šè¿‡å¦‚ä¸‹å‘½ä»¤æŸ¥æ‰¾)ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo whereis supervisord</span><br><span class="line">[sudo] password for tiger:</span><br><span class="line">supervisord: &#x2F;usr&#x2F;local&#x2F;bin&#x2F;supervisord</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="é…ç½®æ–‡ä»¶-1"><a href="#é…ç½®æ–‡ä»¶-1" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h5><p>é€šå¸¸é»˜è®¤é…ç½®æ–‡ä»¶ä½äº <code>/etc/supervisord.conf</code>ã€‚</p>
<p>é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥åˆ›å»ºé»˜è®¤é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ echo_supervisord_conf &gt; &#x2F;etc&#x2F;supervisord.conf</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå‡ºç°æ²¡æœ‰æƒé™çš„é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨è¿™æ¡å‘½ä»¤:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo su - root -c &quot;echo_supervisord_conf &gt; &#x2F;etc&#x2F;supervisord.conf&quot;</span><br></pre></td></tr></table></figure>

<hr>
<p>é»˜è®¤çš„é…ç½®æ–‡ä»¶æ˜¯ä¸‹é¢è¿™æ ·çš„ï¼Œä½†æ˜¯è¿™é‡Œæœ‰ä¸ªå‘éœ€è¦æ³¨æ„ï¼š<code>supervisord.pid</code> ä»¥åŠ <code>supervisor.sock</code> æ˜¯æ”¾åœ¨ <code>/tmp</code> ç›®å½•ä¸‹ï¼Œä½†æ˜¯ <code>/tmp</code> ç›®å½•æ˜¯å­˜æ”¾ä¸´æ—¶æ–‡ä»¶ï¼Œé‡Œé¢çš„æ–‡ä»¶ä¼šè¢«linuxç³»ç»Ÿåˆ é™¤çš„ï¼Œä¸€æ—¦è¿™äº›æ–‡ä»¶ä¸¢å¤±ï¼Œå°±æ— æ³•å†é€šè¿‡ <code>supervisorctl</code> æ¥æ‰§è¡Œ <code>restart</code> å’Œ <code>stop</code> å‘½ä»¤äº†ï¼Œå°†åªä¼šå¾—åˆ° <code>unix:///tmp/supervisor.sock</code> ä¸å­˜åœ¨çš„é”™è¯¯ã€‚(é€šè¿‡ <code>apt-get</code> æ–¹å¼å®‰è£…çš„é…ç½®æ–‡ä»¶ä¸­ä¸æ˜¯ <code>/tmp</code> è€Œæ˜¯<code>/var/run</code>)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[unix_http_server]</span><br><span class="line">file&#x3D;&#x2F;tmp&#x2F;supervisor.sock   ; (the path to the socket file)</span><br><span class="line">;chmod&#x3D;0700                 ; socket file mode (default 0700)</span><br><span class="line">;chown&#x3D;nobody:nogroup       ; socket file uid:gid owner</span><br><span class="line">;username&#x3D;user              ; (default is no username (open server))</span><br><span class="line">;password&#x3D;123               ; (default is no password (open server))</span><br><span class="line"></span><br><span class="line">;[inet_http_server]         ; inet (TCP) server disabled by default</span><br><span class="line">;port&#x3D;127.0.0.1:9001        ; (ip_address:port specifier, *:port for all iface)</span><br><span class="line">;username&#x3D;user              ; (default is no username (open server))</span><br><span class="line">;password&#x3D;123               ; (default is no password (open server))</span><br><span class="line"></span><br><span class="line">[supervisord]</span><br><span class="line">logfile&#x3D;&#x2F;tmp&#x2F;supervisord.log ; (main log file;default $CWD&#x2F;supervisord.log)</span><br><span class="line">logfile_maxbytes&#x3D;50MB        ; (max main logfile bytes b4 rotation;default 50MB)</span><br><span class="line">logfile_backups&#x3D;10           ; (num of main logfile rotation backups;default 10)</span><br><span class="line">loglevel&#x3D;info                ; (log level;default info; others: debug,warn,trace)</span><br><span class="line">pidfile&#x3D;&#x2F;tmp&#x2F;supervisord.pid ; (supervisord pidfile;default supervisord.pid)</span><br><span class="line">nodaemon&#x3D;false               ; (start in foreground if true;default false)</span><br><span class="line">minfds&#x3D;1024                  ; (min. avail startup file descriptors;default 1024)</span><br><span class="line">minprocs&#x3D;200                 ; (min. avail process descriptors;default 200)</span><br><span class="line">;umask&#x3D;022                   ; (process file creation umask;default 022)</span><br><span class="line">;user&#x3D;chrism                 ; (default is current user, required if root)</span><br><span class="line">;identifier&#x3D;supervisor       ; (supervisord identifier, default is &#39;supervisor&#39;)</span><br><span class="line">;directory&#x3D;&#x2F;tmp              ; (default is not to cd during start)</span><br><span class="line">;nocleanup&#x3D;true              ; (don&#39;t clean up tempfiles at start;default false)</span><br><span class="line">;childlogdir&#x3D;&#x2F;tmp            ; (&#39;AUTO&#39; child log dir, default $TEMP)</span><br><span class="line">;environment&#x3D;KEY&#x3D;&quot;value&quot;     ; (key value pairs to add to environment)</span><br><span class="line">;strip_ansi&#x3D;false            ; (strip ansi escape codes in logs; def. false)</span><br><span class="line"></span><br><span class="line">; the below section must remain in the config file for RPC</span><br><span class="line">; (supervisorctl&#x2F;web interface) to work, additional interfaces may be</span><br><span class="line">; added by defining them in separate rpcinterface: sections</span><br><span class="line">[rpcinterface:supervisor]</span><br><span class="line">supervisor.rpcinterface_factory &#x3D; supervisor.rpcinterface:make_main_rpcinterface</span><br><span class="line"></span><br><span class="line">[supervisorctl]</span><br><span class="line">serverurl&#x3D;unix:&#x2F;&#x2F;&#x2F;tmp&#x2F;supervisor.sock ; use a unix:&#x2F;&#x2F; URL  for a unix socket</span><br><span class="line">;serverurl&#x3D;http:&#x2F;&#x2F;127.0.0.1:9001 ; use an http:&#x2F;&#x2F; url to specify an inet socket</span><br><span class="line">;username&#x3D;chris              ; should be same as http_username if set</span><br><span class="line">;password&#x3D;123                ; should be same as http_password if set</span><br><span class="line">;prompt&#x3D;mysupervisor         ; cmd line prompt (default &quot;supervisor&quot;)</span><br><span class="line">...</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>å°†é»˜è®¤é…ç½®æ–‡ä»¶ä¸­çš„ä»¥ä¸‹é¡¹è¿›è¡Œä¿®æ”¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">;file&#x3D;&#x2F;tmp&#x2F;supervisor.sock</span><br><span class="line">;ä¿®æ”¹ä¸º &#96;&#x2F;var&#x2F;run&#96; ç›®å½•</span><br><span class="line">file&#x3D;&#x2F;var&#x2F;run&#x2F;supervisor.sock</span><br><span class="line"></span><br><span class="line">;logfile&#x3D;&#x2F;tmp&#x2F;supervisord.log</span><br><span class="line">;ä¿®æ”¹ä¸º &#96;&#x2F;var&#x2F;log&#96; ç›®å½•</span><br><span class="line">logfile&#x3D;&#x2F;var&#x2F;log&#x2F;supervisord.log</span><br><span class="line"></span><br><span class="line">;pidfile&#x3D;&#x2F;tmp&#x2F;supervisord.pid</span><br><span class="line">;ä¿®æ”¹ä¸º &#96;&#x2F;var&#x2F;run&#96; ç›®å½•</span><br><span class="line">pidfile&#x3D;&#x2F;var&#x2F;run&#x2F;supervisord.pid</span><br><span class="line"></span><br><span class="line">;serverurl&#x3D;unix:&#x2F;&#x2F;&#x2F;tmp&#x2F;supervisor.sock</span><br><span class="line">;ä¿®æ”¹ä¸º &#96;&#x2F;var&#x2F;run&#96; ç›®å½•</span><br><span class="line">serverurl&#x3D;unix:&#x2F;&#x2F;&#x2F;var&#x2F;run&#x2F;supervisor.sock</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¯åŠ¨çš„ç¨‹åºé…ç½®é¡¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[program:hello]   							;æœåŠ¡çš„åç§°</span><br><span class="line">command&#x3D;python hello.py     				; supervisorå¯åŠ¨å‘½ä»¤</span><br><span class="line">directory&#x3D;&#x2F;home&#x2F;tiger&#x2F;py 			        ; é¡¹ç›®çš„æ–‡ä»¶å¤¹è·¯å¾„</span><br><span class="line">user&#x3D;tiger  								; è¿›ç¨‹æ‰§è¡Œçš„ç”¨æˆ·èº«ä»½</span><br><span class="line">autostart&#x3D;true                           	; æ˜¯å¦è‡ªåŠ¨å¯åŠ¨</span><br><span class="line">autorestart&#x3D;true                         	; æ˜¯å¦è‡ªåŠ¨é‡å¯</span><br><span class="line">startsecs&#x3D;1  								; è‡ªåŠ¨é‡å¯é—´éš”</span><br><span class="line">;logæ—¥å¿—æ–‡ä»¶çš„ä½ç½®</span><br><span class="line">stdout_logfile&#x3D;&#x2F;home&#x2F;tiger&#x2F;py&#x2F;logs&#x2F;hellopy.log     ; log æ—¥å¿—</span><br><span class="line">stderr_logfile&#x3D;&#x2F;home&#x2F;tiger&#x2F;py&#x2F;logs&#x2F;hellopy.err     ; é”™è¯¯æ—¥å¿—</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="å¯åŠ¨-supervisord"><a href="#å¯åŠ¨-supervisord" class="headerlink" title="å¯åŠ¨ supervisord"></a>å¯åŠ¨ supervisord</h5><p>æ‰§è¡Œ <code>supervisord</code> å‘½ä»¤ï¼Œå°†ä¼šå¯åŠ¨ <code>supervisord</code> è¿›ç¨‹ï¼ŒåŒæ—¶æˆ‘ä»¬åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®çš„è¿›ç¨‹ä¹Ÿä¼šç›¸åº”å¯åŠ¨ã€‚</p>
<p>ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ¥å¯åŠ¨:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo supervisord -c &#x2F;etc&#x2F;supervisord.conf</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹æ“ä½œå‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tiger@localhost:~&#x2F;py$ ps -ef | grep supervisor</span><br><span class="line"></span><br><span class="line">tiger@localhost:~&#x2F;py$ sudo supervisord -c &#x2F;etc&#x2F;supervisord.conf</span><br><span class="line"></span><br><span class="line">tiger@localhost:~&#x2F;py$ ps -ef | grep supervisor</span><br><span class="line">root      7363     1  0 11:42 ?        00:00:00 &#x2F;usr&#x2F;bin&#x2F;python &#x2F;usr&#x2F;local&#x2F;bin&#x2F;supervisord -c &#x2F;etc&#x2F;supervisord.conf</span><br><span class="line"></span><br><span class="line">tiger@localhost:~&#x2F;py$ ps -ef | grep hello</span><br><span class="line">tiger     7364  7363  0 11:42 ?        00:00:00 python hello.py</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä½¿ç”¨ <code>supervisord</code> æ¥å¯åŠ¨ç®¡ç†è¿›ç¨‹ï¼Œä¹‹åæ‰€æœ‰çš„æ“ä½œéƒ½ç”¨ <code>supervisorctl</code> æ¥æ§åˆ¶ã€‚ (default /etc/supervisord.conf)</p>
<h5 id="supervisorctl-å‘½ä»¤ä»‹ç»"><a href="#supervisorctl-å‘½ä»¤ä»‹ç»" class="headerlink" title="supervisorctl å‘½ä»¤ä»‹ç»"></a>supervisorctl å‘½ä»¤ä»‹ç»</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># appname ä¸º [program:x] é‡Œçš„ x</span><br><span class="line">$ sudo supervisorctl start [appname]|[all]      å¯åŠ¨æŒ‡å®š&#x2F;æ‰€æœ‰ç¨‹åºè¿›ç¨‹</span><br><span class="line">$ sudo supervisorctl stop [appname]|[all]       åœæ­¢æŒ‡å®š&#x2F;æ‰€æœ‰ç¨‹åºè¿›ç¨‹</span><br><span class="line">$ sudo supervisorctl status  					æŸ¥çœ‹ç®¡ç†æ‰€æœ‰è¿›ç¨‹çŠ¶æ€</span><br><span class="line">$ sudo supervisorctl status [appname]  			æŸ¥çœ‹ç®¡ç†æŒ‡å®šè¿›ç¨‹çŠ¶æ€</span><br><span class="line">$ sudo supervisorctl reload  	è½½å…¥æœ€æ–°çš„é…ç½®æ–‡ä»¶ï¼Œåœæ­¢åŸæœ‰è¿›ç¨‹å¹¶æŒ‰æ–°çš„é…ç½®å¯åŠ¨ã€ç®¡ç†æ‰€æœ‰è¿›ç¨‹</span><br><span class="line">$ sudo supervisorctl update  	æ ¹æ®æœ€æ–°çš„é…ç½®æ–‡ä»¶ï¼Œå¯åŠ¨æ–°é…ç½®æˆ–æœ‰æ”¹åŠ¨çš„è¿›ç¨‹ï¼Œé…ç½®æ²¡æœ‰æ”¹åŠ¨çš„è¿›ç¨‹ä¸ä¼šå—å½±å“è€Œé‡å¯</span><br><span class="line">$ sudo supervisorctl restart [appname]  		é‡å¯æŸä¸ªè¿›ç¨‹</span><br><span class="line">$ sudo supervisorctl shutdown  	å…³é—­æ‰€æœ‰ç®¡ç†è¿›ç¨‹</span><br><span class="line"></span><br><span class="line">$ sudo supervisorctl start&#x2F;stop&#x2F;restart&#x2F;status groupworker:    		ç®¡ç†æ‰€æœ‰å±äºåä¸º groupworker è¿™ä¸ªåˆ†ç»„çš„è¿›ç¨‹</span><br><span class="line">$ sudo supervisorctl start&#x2F;stop&#x2F;restart&#x2F;status groupworker:name1    ç®¡ç†åˆ†ç»„é‡ŒæŒ‡å®šçš„è¿›ç¨‹</span><br></pre></td></tr></table></figure>

<p><del>æ³¨æ„ï¼šæ˜¾ç¤ºç”¨ <code>stop</code> åœæ­¢æ‰çš„è¿›ç¨‹ï¼Œç”¨ <code>reload</code> æˆ–è€… <code>update</code> éƒ½ä¸ä¼šè‡ªåŠ¨é‡å¯ã€‚</del>  è¯¥é—®é¢˜å¾…è€ƒè¯</p>
<p>ç¤ºä¾‹æ“ä½œå‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tiger@localhost:~&#x2F;py$ sudo supervisorctl status</span><br><span class="line">hello                            RUNNING   pid 7382, uptime 0:01:50</span><br><span class="line">tiger@localhost:~&#x2F;py$ sudo supervisorctl stop hello</span><br><span class="line">hello: stopped</span><br><span class="line">tiger@localhost:~&#x2F;py$ sudo supervisorctl status</span><br><span class="line">hello                            STOPPED   Jul 27 11:47 AM</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="å¼€æœºè‡ªåŠ¨å¯åŠ¨-Supervisord"><a href="#å¼€æœºè‡ªåŠ¨å¯åŠ¨-Supervisord" class="headerlink" title="å¼€æœºè‡ªåŠ¨å¯åŠ¨ Supervisord"></a>å¼€æœºè‡ªåŠ¨å¯åŠ¨ Supervisord</h5><p>é€šè¿‡ <code>pip</code> å®‰è£…çš„ <code>Supervisord</code> é»˜è®¤æƒ…å†µä¸‹å¹¶æ²¡æœ‰è¢«å®‰è£…æˆæœåŠ¡ï¼Œå®ƒæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªè¿›ç¨‹ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®‰è£…è„šæœ¬å°†supervisordè®¾ç½®ä¸ºæœåŠ¡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># ä¸‹è½½è„šæœ¬ (éœ€è¦rootæƒé™)</span><br><span class="line">$ sudo su - root -c &quot;sudo curl https:&#x2F;&#x2F;gist.githubusercontent.com&#x2F;howthebodyworks&#x2F;176149&#x2F;raw&#x2F;d60b505a585dda836fadecca8f6b03884153196b&#x2F;supervisord.sh &gt; &#x2F;etc&#x2F;init.d&#x2F;supervisord&quot;</span><br><span class="line"># è®¾ç½®è¯¥è„šæœ¬ä¸ºå¯ä»¥æ‰§è¡Œ</span><br><span class="line">$ sudo chmod +x &#x2F;etc&#x2F;init.d&#x2F;supervisord</span><br><span class="line"># è®¾ç½®ä¸ºå¼€æœºè‡ªåŠ¨è¿è¡Œ</span><br><span class="line">% sudo update-rc.d supervisord defaults</span><br><span class="line"># è¯•ä¸€ä¸‹ï¼Œæ˜¯å¦å·¥ä½œæ­£å¸¸</span><br><span class="line">$ sudo service supervisord stop</span><br><span class="line">$ sudo service supervisord start</span><br><span class="line"># æŸ¥çœ‹supervisordè¿›ç¨‹</span><br><span class="line">$ sudo ps -ef| grep supervisor</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šä¸‹è½½äº† <code>supervisord.sh</code> æ–‡ä»¶åï¼Œè¯·æ ¸å¯¹å¥½é‡Œé¢çš„é…ç½®å‚æ•°å’Œæœ¬åœ°æ–‡ä»¶æ‰€åœ¨ç›®å½•æ˜¯å¦ä¸€è‡´(ä¸»è¦æ˜¯ä»¥ä¸‹éƒ¨åˆ†)ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">	...</span><br><span class="line"># PATH should only include &#x2F;usr&#x2F;* if it runs after the mountnfs.sh script</span><br><span class="line">PATH&#x3D;&#x2F;sbin:&#x2F;usr&#x2F;sbin:&#x2F;bin:&#x2F;usr&#x2F;bin</span><br><span class="line">DESC&#x3D;&quot;Description of the service&quot;</span><br><span class="line">NAME&#x3D;supervisord</span><br><span class="line">DAEMON&#x3D;&#x2F;usr&#x2F;local&#x2F;bin&#x2F;supervisord</span><br><span class="line">DAEMON_ARGS&#x3D;&quot;&quot;</span><br><span class="line">PIDFILE&#x3D;&#x2F;var&#x2F;run&#x2F;$NAME.pid</span><br><span class="line">SCRIPTNAME&#x3D;&#x2F;etc&#x2F;init.d&#x2F;$NAME</span><br><span class="line">	...</span><br></pre></td></tr></table></figure>

<p>è¯¦ç»†å®‰è£…æ–¹æ³•åŠè„šæœ¬æ–‡ä»¶è§ä¸‹é¢ä¸¤ä¸ªé“¾æ¥è¯´æ˜ï¼š</p>
<ul>
<li><a href="http://serverfault.com/questions/96499/how-to-automatically-start-supervisord-on-linux-ubuntu" target="_blank" rel="noopener">python - How to automatically start supervisord on Linux (Ubuntu) - Server Fault</a></li>
<li><a href="https://gist.github.com/howthebodyworks/176149" target="_blank" rel="noopener">an init.d script for supervisord Â· GitHub</a></li>
</ul>
<p>è¿˜æœ‰ç¬¬äºŒç§æ–¹æ³•å°†supervisoréšç³»ç»Ÿå¯åŠ¨è€Œå¯åŠ¨ï¼ŒLinux åœ¨å¯åŠ¨çš„æ—¶å€™ä¼šæ‰§è¡Œ <code>/etc/rc.local</code> é‡Œé¢çš„è„šæœ¬ï¼Œæ‰€ä»¥åªè¦åœ¨è¿™é‡Œæ·»åŠ æ‰§è¡Œå‘½ä»¤å³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># å¦‚æœæ˜¯ Ubuntu æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼ˆè¿™é‡Œè¦å†™å…¨è·¯å¾„ï¼Œå› ä¸ºæ­¤æ—¶PATHçš„ç¯å¢ƒå˜é‡æœªå¿…è®¾ç½®ï¼‰</span><br><span class="line">&#x2F;usr&#x2F;local&#x2F;bin&#x2F;supervisord -c &#x2F;etc&#x2F;supervisord.conf</span><br><span class="line"></span><br><span class="line"># å¦‚æœæ˜¯ Centos æ·»åŠ ä»¥ä¸‹å†…å®¹</span><br><span class="line">&#x2F;usr&#x2F;bin&#x2F;supervisord -c &#x2F;etc&#x2F;supervisord.conf</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="æµ‹è¯•-supervisor-ç®¡ç†çš„è¿›ç¨‹èƒ½è‡ªåŠ¨é‡å¯"><a href="#æµ‹è¯•-supervisor-ç®¡ç†çš„è¿›ç¨‹èƒ½è‡ªåŠ¨é‡å¯" class="headerlink" title="æµ‹è¯• supervisor ç®¡ç†çš„è¿›ç¨‹èƒ½è‡ªåŠ¨é‡å¯"></a>æµ‹è¯• supervisor ç®¡ç†çš„è¿›ç¨‹èƒ½è‡ªåŠ¨é‡å¯</h5><p>å°† <code>supervisor</code> ç®¡ç†çš„è¿›ç¨‹ç”¨ <code>kill</code> å‘½ä»¤æ€æ‰ï¼Œçœ‹æ˜¯å¦èƒ½å¤Ÿè‡ªåŠ¨é‡å¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tiger@localhost:~&#x2F;py$ ps -ef | grep hello</span><br><span class="line">tiger     7364  7363  0 11:42 ?        00:00:00 python hello.py</span><br><span class="line">tiger     7368  1255  0 11:42 pts&#x2F;0    00:00:00 grep --color&#x3D;auto hello</span><br><span class="line">tiger@localhost:~&#x2F;py$ kill 7364</span><br><span class="line">tiger@localhost:~&#x2F;py$ ps -ef | grep hello</span><br><span class="line">tiger     7382  7363  2 11:45 ?        00:00:00 python hello.py</span><br><span class="line">tiger     7384  1255  0 11:45 pts&#x2F;0    00:00:00 grep --color&#x3D;auto hello</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="ä½¿ç”¨-include"><a href="#ä½¿ç”¨-include" class="headerlink" title="ä½¿ç”¨ include"></a>ä½¿ç”¨ include</h5><p>åœ¨é…ç½®æ–‡ä»¶çš„æœ€åï¼Œæœ‰ä¸€ä¸ª <code>[include]</code> çš„é…ç½®é¡¹ã€‚æˆ‘ä»¬å¯ä»¥ <code>include</code> æŸä¸ªæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰é…ç½®æ–‡ä»¶ï¼Œè¿™æ ·å°±èƒ½ä¸ºæ¯ä¸ªè¿›ç¨‹æˆ–ç›¸å…³çš„å‡ ä¸ªè¿›ç¨‹çš„é…ç½®å•ç‹¬å†™æˆä¸€ä¸ªæ–‡ä»¶ã€‚</p>
<p>é…ç½®æ–‡ä»¶çš„åç¼€åå¯ä»¥ä¸º <code>.conf</code> æˆ– <code>.ini</code>ã€‚</p>
<p>åœ¨ <code>/etc/supervisord.conf</code> æœ«å°¾æ·»åŠ å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[include]</span><br><span class="line">files &#x3D; &#x2F;etc&#x2F;supervisord.d&#x2F;*.conf</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬åœ¨ <code>/home/tiger/py</code> ç›®å½•ä¸‹å†å»ºç«‹ä¸€ä¸ª <code>world.py</code> çš„pythonç¨‹åºæ¥åšæµ‹è¯•ã€‚</p>
<p>ç„¶ååœ¨ <code>/etc</code> ç›®å½•ä¸‹åˆ›å»º <code>supervisord.d</code> ç›®å½•ï¼Œæ·»åŠ ä¸€ä¸ª <code>world.conf</code> é…ç½®æ–‡ä»¶ï¼Œå†™å…¥å¦‚ä¸‹é…ç½®ä¿¡æ¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[program:world]  ;æœåŠ¡çš„åç§°ï¼Œåé¢æ“ä½œä¼šç”¨åˆ°</span><br><span class="line">command&#x3D;python world.py     				; supervisorå¯åŠ¨å‘½ä»¤</span><br><span class="line">directory&#x3D;&#x2F;home&#x2F;tiger&#x2F;py 			        ; é¡¹ç›®çš„æ–‡ä»¶å¤¹è·¯å¾„</span><br><span class="line">user&#x3D;tiger  								; è¿›ç¨‹æ‰§è¡Œçš„ç”¨æˆ·èº«ä»½</span><br><span class="line">autostart&#x3D;true                           	; æ˜¯å¦è‡ªåŠ¨å¯åŠ¨</span><br><span class="line">autorestart&#x3D;true                         	; æ˜¯å¦è‡ªåŠ¨é‡å¯</span><br><span class="line">startsecs&#x3D;1  								; è‡ªåŠ¨é‡å¯é—´éš”</span><br><span class="line">;logæ—¥å¿—æ–‡ä»¶çš„ä½ç½®</span><br><span class="line">stdout_logfile&#x3D;&#x2F;home&#x2F;tiger&#x2F;py&#x2F;logs&#x2F;worldpy.log     ; log æ—¥å¿—</span><br><span class="line">stderr_logfile&#x3D;&#x2F;home&#x2F;tiger&#x2F;py&#x2F;logs&#x2F;worldpy.err     ; é”™è¯¯æ—¥å¿—</span><br></pre></td></tr></table></figure>

<p>ç„¶åé‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo supervisorctl reload</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo supervisorctl status</span><br><span class="line">hello                            RUNNING   pid 1549, uptime 0:00:28</span><br><span class="line">world                            RUNNING   pid 1548, uptime 0:00:28</span><br><span class="line">$ sudo supervisorctl stop hello</span><br><span class="line">hello: stopped</span><br><span class="line">$ sudo supervisorctl status</span><br><span class="line">hello                            STOPPED   Jul 27 04:53 PM</span><br><span class="line">world                            RUNNING   pid 1573, uptime 0:00:21</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·æˆ‘ä»¬å°±é€šè¿‡ä¸åŒçš„é…ç½®æ–‡ä»¶æ¥ç®¡ç†ä¸åŒçš„ç¨‹åºè¿›ç¨‹äº†ã€‚</p>
<hr>
<h4 id="Supervisor-UI-ç®¡ç†å°ï¼š"><a href="#Supervisor-UI-ç®¡ç†å°ï¼š" class="headerlink" title="Supervisor UI ç®¡ç†å°ï¼š"></a>Supervisor UI ç®¡ç†å°ï¼š</h4><p>åœ¨é»˜è®¤é…ç½®æ–‡ä»¶ä¸­æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°ä¸‹é¢çš„é…ç½®é¡¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">;[inet_http_server]         ; inet (TCP) server disabled by default</span><br><span class="line">;port&#x3D;127.0.0.1:9001        ; (ip_address:port specifier, *:port for all iface)</span><br><span class="line">;username&#x3D;user              ; (default is no username (open server))</span><br><span class="line">;password&#x3D;123               ; (default is no password (open server))</span><br></pre></td></tr></table></figure>

<p>å»é™¤ <code>[inet_http_server]</code> å’Œ <code>port=127.0.0.1:9001</code> å‰é¢çš„åˆ†å·ï¼Œç„¶åæ‰§è¡Œ <code>sudo supervisorctl reload</code> é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ã€‚ä¹‹ååœ¨æµè§ˆå™¨ä¸­è®¿é—® <code>http://localhost:9001</code> å°±èƒ½æŸ¥çœ‹åˆ°Webç‰ˆçš„è¿›ç¨‹ç®¡ç†ç•Œé¢äº†ã€‚</p>
<p>æ³¨æ„ï¼šå¦‚æœè®¾ç½®ä¸º <code>port=127.0.0.1:9001</code>ï¼Œåˆ™åªèƒ½åœ¨æœ¬æœºè®¿é—®ï¼›å¦‚æœä¸º <code>port=*:9001</code> åˆ™å¯ä»¥åœ¨å¤–ç½‘è¿›è¡Œè®¿é—®ã€‚</p>
<p>æ³¨æ„ï¼š<code>;[inet_http_server]</code> è¿™ä¸ªå‰é¢çš„åˆ†å·å¿…é¡»å»æ‰ï¼Œè¦ä¸ç„¶ä¸ç®¡ç”¨ã€‚</p>
<hr>
<h4 id="Supervisor-é›†ç¾¤ç®¡ç†"><a href="#Supervisor-é›†ç¾¤ç®¡ç†" class="headerlink" title="Supervisor é›†ç¾¤ç®¡ç†"></a>Supervisor é›†ç¾¤ç®¡ç†</h4><p>é›†ä¸­è¿›ç¨‹ç®¡ç†ï¼Œå¯åœ¨ä¸€å°æœºå™¨ä¸‹ç®¡ç†å¤šå°æœºå™¨çš„è¿›ç¨‹ã€‚</p>
<p>è¯¦è§ï¼šSupervisoré›†ç¾¤ç®¡ç†å¼€å‘ æ–‡æ¡£</p>
<ul>
<li><a href="http://supervisord.org/api.html" target="_blank" rel="noopener">XML-RPC API Documentation &mdash; Supervisor 3.3.0 documentation</a></li>
<li><a href="https://segmentfault.com/a/1190000000606682" target="_blank" rel="noopener">supervisord çš„ XML-RPC API ä½¿ç”¨è¯´æ˜ - yexiaoxiaobai - SegmentFault</a></li>
<li><a href="http://blog.csdn.net/u013411478/article/details/25387587" target="_blank" rel="noopener">Supervisoré›†ç¾¤ç®¡ç†WEB UI (monitor) - WisZhouçš„æƒ³åˆ°å•¥å†™å•¥        - åšå®¢é¢‘é“ - CSDN.NET</a></li>
<li><a href="https://github.com/WisZhou/supervisord-monitor" target="_blank" rel="noopener">GitHub - WisZhou/supervisord-monitor: Supervisord Monitoring Tool</a></li>
<li><a href="https://github.com/luxbet/supervisorui" target="_blank" rel="noopener">GitHub - luxbet/supervisorui: Supervisor multi-server dashboard</a></li>
</ul>
<hr>
<h4 id="unix-var-run-supervisor-sock-no-such-file"><a href="#unix-var-run-supervisor-sock-no-such-file" class="headerlink" title="unix:///var/run/supervisor.sock no such file"></a><code>unix:///var/run/supervisor.sock no such file</code></h4><p>æŸäº›æƒ…å†µä¸‹ï¼Œå¯èƒ½ä¼šå‡ºç°å¦‚ä¸‹é”™è¯¯ï¼š<code>unix:///var/run/supervisor.sock no such file</code> </p>
<p>å¯¹äºè¯¥é—®é¢˜ï¼Œæˆ‘çš„æ“ä½œæ˜¯ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo supervisord</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://github.com/Supervisor/supervisor/issues/480" target="_blank" rel="noopener">unix:///var/run/supervisor.sock no such file #480</a></li>
</ul>
<hr>
<h4 id="æ³¨æ„ï¼šè¢«ç›‘æ§çš„è¿›ç¨‹è¦ä»¥édaemonæ–¹å¼è¿è¡Œ"><a href="#æ³¨æ„ï¼šè¢«ç›‘æ§çš„è¿›ç¨‹è¦ä»¥édaemonæ–¹å¼è¿è¡Œ" class="headerlink" title="æ³¨æ„ï¼šè¢«ç›‘æ§çš„è¿›ç¨‹è¦ä»¥édaemonæ–¹å¼è¿è¡Œ"></a>æ³¨æ„ï¼šè¢«ç›‘æ§çš„è¿›ç¨‹è¦ä»¥édaemonæ–¹å¼è¿è¡Œ</h4><p>è¯¥é—®é¢˜æš‚æœªç ”ç©¶ã€‚ç•¥ã€‚</p>
<hr>
<h4 id="supervisoræ·±å…¥ç ”ç©¶ä¹‹-å¤šè¿›ç¨‹"><a href="#supervisoræ·±å…¥ç ”ç©¶ä¹‹-å¤šè¿›ç¨‹" class="headerlink" title="supervisoræ·±å…¥ç ”ç©¶ä¹‹ å¤šè¿›ç¨‹"></a>supervisoræ·±å…¥ç ”ç©¶ä¹‹ <strong>å¤šè¿›ç¨‹</strong></h4><p>ç•¥ã€‚</p>
<hr>
<h4 id="supervisoræ·±å…¥ç ”ç©¶ä¹‹-group-åˆ†ç»„ç®¡ç†"><a href="#supervisoræ·±å…¥ç ”ç©¶ä¹‹-group-åˆ†ç»„ç®¡ç†" class="headerlink" title="supervisoræ·±å…¥ç ”ç©¶ä¹‹ group åˆ†ç»„ç®¡ç†"></a>supervisoræ·±å…¥ç ”ç©¶ä¹‹ <strong>group</strong> åˆ†ç»„ç®¡ç†</h4><p>ç•¥ã€‚</p>
<hr>
<h4 id="supervisorè°ƒç”¨-virtualenv-ç¯å¢ƒä¸­çš„pythoné¡¹ç›®"><a href="#supervisorè°ƒç”¨-virtualenv-ç¯å¢ƒä¸­çš„pythoné¡¹ç›®" class="headerlink" title="supervisorè°ƒç”¨ virtualenv ç¯å¢ƒä¸­çš„pythoné¡¹ç›®"></a>supervisorè°ƒç”¨ virtualenv ç¯å¢ƒä¸­çš„pythoné¡¹ç›®</h4><p>é…ç½® .conf æ–‡ä»¶æ—¶ï¼ŒåŠ ä¸Š <code>environment</code> å‚æ•°ï¼ŒæŒ‡å®š virtualenv çš„ç›®å½•:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">command &#x3D; &#x2F;home&#x2F;www&#x2F;flasky&#x2F;env&#x2F;bin&#x2F;gunicorn -w 2 -b 0.0.0.0:8080 --max-requests 2000 --log-level debug --name %(program_name)s &quot;app:create_app(&#39;development&#39;)&quot;</span><br><span class="line">directory &#x3D; &#x2F;home&#x2F;www&#x2F;flasky</span><br><span class="line">environment&#x3D;PATH&#x3D;&quot;&#x2F;home&#x2F;www&#x2F;flasky&#x2F;env&#x2F;bin&quot;, GEVENT_RESOLVER&#x3D;&quot;ares&quot;</span><br><span class="line">user &#x3D; root</span><br><span class="line">numprocs&#x3D;1</span><br><span class="line">autostart&#x3D;false</span><br><span class="line">autorestart&#x3D;true</span><br><span class="line">...</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ç›¸å…³é“¾æ¥"><a href="#ç›¸å…³é“¾æ¥" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h4><ul>
<li><p><a href="http://www.cnblogs.com/restran/p/4854623.html" target="_blank" rel="noopener">Python è¿›ç¨‹ç®¡ç†å·¥å…· Supervisor ä½¿ç”¨æ•™ç¨‹ - restran - åšå®¢å›­</a></p>
</li>
<li><p><a href="https://www.restran.net/2015/10/04/supervisord-tutorial/" target="_blank" rel="noopener">Python è¿›ç¨‹ç®¡ç†å·¥å…· Supervisor ä½¿ç”¨æ•™ç¨‹ | æ·¡æ°´ç½‘å¿—</a></p>
</li>
<li><p><a href="http://serverfault.com/questions/96499/how-to-automatically-start-supervisord-on-linux-ubuntu" target="_blank" rel="noopener">python - How to automatically start supervisord on Linux (Ubuntu) - Server Fault</a></p>
</li>
<li><p><a href="http://ju.outofmemory.cn/entry/208687" target="_blank" rel="noopener">ubuntuä¸‹supervisorå®‰è£…ä¸ä½¿ç”¨ç¬”è®° - ä¸ºç¨‹åºå‘˜æœåŠ¡</a></p>
</li>
<li><p><a href="http://liyangliang.me/posts/2015/06/using-supervisor/" target="_blank" rel="noopener">ä½¿ç”¨ supervisor ç®¡ç†è¿›ç¨‹ - ææ—å…‹æ–¯</a></p>
</li>
<li><p><a href="http://everet.org/supervisor.html" target="_blank" rel="noopener">ä½¿ç”¨Supervisorç®€åŒ–è¿›ç¨‹ç®¡ç†å·¥ä½œ - EverET.org</a></p>
</li>
<li><p><a href="http://stackoverflow.com/questions/12226113/supervisor-conf-default-location" target="_blank" rel="noopener">python - supervisor.conf default location - Stack Overflow</a> supervisorçš„é…ç½®æ–‡ä»¶æŸ¥è¯¢ç›®å½• </p>
</li>
<li><p><a href="http://www.cnblogs.com/youxin/p/4147384.html" target="_blank" rel="noopener">linux åå°è¿›ç¨‹ç®¡ç†åˆ©å™¨supervisor - youxin - åšå®¢å›­</a></p>
</li>
<li><p><a href="http://andrewliu.in/2016/02/19/Supervisor%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/" target="_blank" rel="noopener">Supervisorä½¿ç”¨æ•™ç¨‹ | Snow Memory</a> <strong>â˜†</strong></p>
</li>
<li><p><a href="http://cpper.info/2016/04/14/supervisor-usage.html" target="_blank" rel="noopener">Linuxè¿›ç¨‹ç®¡ç†å·¥å…·supervisorå®‰è£…åŠä½¿ç”¨ | cpper</a> <strong>â˜†</strong></p>
</li>
<li><p><a href="http://supervisord.org/index.html" target="_blank" rel="noopener">Supervisor: A Process Control System &mdash; Supervisor 3.3.0 documentation</a> å®˜æ–¹æ–‡æ¡£</p>
</li>
<li><p><a href="https://www.digitalocean.com/community/tutorials/how-to-install-and-manage-supervisor-on-ubuntu-and-debian-vps" target="_blank" rel="noopener">How To Install and Manage Supervisor on Ubuntu and Debian VPS | DigitalOcean</a></p>
</li>
<li><p><a href="http://www.jianshu.com/p/9abffc905645" target="_blank" rel="noopener">supervisoråˆä½“éªŒ - ç®€ä¹¦</a></p>
</li>
<li><p><a href="http://liyangliang.me/posts/2015/06/using-supervisor/" target="_blank" rel="noopener">ä½¿ç”¨ supervisor ç®¡ç†è¿›ç¨‹ - ææ—å…‹æ–¯</a>  æ’ç‰ˆå¥½çœ‹</p>
</li>
<li><p><a href="https://liuliqiang.info/deploy-flask-gunicorn-by-supervisord/" target="_blank" rel="noopener">supervisord éƒ¨ç½² Flask &#8211; Angiris Council</a> å¥½</p>
</li>
<li><p><a href="https://www.gitbook.com/book/wohugb/supervisor/details" target="_blank" rel="noopener">Supervisoræ‰‹å†Œ  - GitBook</a></p>
</li>
<li><p><a href="https://liuliqiang.info/deploy-flask-gunicorn-by-supervisord/" target="_blank" rel="noopener">supervisord éƒ¨ç½² Flask</a></p>
</li>
</ul>
<ul>
<li><a href="https://liuliqiang.info/post/125/" target="_blank" rel="noopener">virtualenv wrapper</a></li>
</ul>
]]></content>
      <tags>
        <tag>Supervisor</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨Shadowsocksè½»æ¾å®ç°ç§‘å­¦ä¸Šç½‘</title>
    <url>/2016/10/02/use-shadowsocks-to-have-better-internet-experience/</url>
    <content><![CDATA[<p>ç”±äºä¸ªäººå¯¹ç™¾åº¦çš„åŒæ¶ï¼Œå¹³æ—¶ä¸Šç½‘å¾ˆå°‘ç”¨ç™¾åº¦æœç´¢ã€‚è€Œåˆå› ä¸ºä¼—æ‰€å‘¨çŸ¥çš„åŸå› ï¼Œåœ¨å›½å†…è¦æƒ³ç”¨Googleæ¥ä¸Šç½‘ç€å®æ˜¯è¦è´¹ä¸€ç¿»å¿ƒæ€çš„ã€‚æ‰€ä»¥ä¹Ÿåªèƒ½é€€è€Œæ±‚å…¶æ¬¡ï¼Œç”¨å¾®è½¯çš„Bingæ¥æŸ¥è¯¢ä¸€äº›èµ„æ–™ã€‚</p>
<p>å‰å‡ å¤©åˆšåˆšæŠŠæˆ‘åœ¨é¦™æ¸¯çš„äº‘æœåŠ¡å™¨è¿›è¡Œäº†ç³»ç»Ÿæ›´æ¢ï¼Œä»Windows Serveræ¢æˆäº†Linuxç³»ç»Ÿï¼Œæƒ³èµ·ä¹‹å‰æ›¾çœ‹è¿‡çš„ä½¿ç”¨Shadowsockså®ç°ä»£ç†ä¸Šç½‘çš„æ–‡ç« ï¼Œæ‰€ä»¥å°±æƒ³è¦äº²è‡ªå®ç°ä¸€ä¸‹ã€‚</p>
<p>shadowsocksæ˜¯ä¸€ä¸ªè‘—åçš„è½»é‡çº§socketä»£ç†ï¼ŒåŸå§‹ç‰ˆæœ¬æ˜¯åŸºäºPythonç¼–å†™ï¼Œåæ¥åˆæœ‰äº†Goè¯­è¨€ç‰ˆæœ¬ã€‚ä¸è¿‡è¯¥ç‰ˆæœ¬åœ¨Githubä¸Šçš„æºä»£ç ç”±äºâ€œä½ æ‡‚å¾—â€çš„åŸå› ï¼Œå·²ç»è¢«å¼€å‘è€…åˆ é™¤äº†ã€‚</p>
<p>è¿™é‡Œæˆ‘æ¨èå®‰è£…çš„æ˜¯ <code>shadowsocks-libev</code> ç‰ˆæœ¬ã€‚<code>shadowsocks-libev</code> æ˜¯ä¸€ä¸ª shadowsocks åè®®çš„è½»é‡çº§å®ç°ï¼Œæ˜¯ shadowsocks-android, shadowsocks-ios ä»¥åŠ shadowsocks-openwrt çš„ä¸Šæ¸¸é¡¹ç›®ã€‚å…¶ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p>
<ul>
<li>ä½“ç§¯å°å·§ï¼Œé™æ€ç¼–è¯‘å¹¶æ‰“åŒ…ååªæœ‰ 100 KB</li>
<li>é«˜å¹¶å‘ï¼ŒåŸºäº libev å®ç°çš„å¼‚æ­¥ I/Oï¼Œä»¥åŠåŸºäºçº¿ç¨‹æ± çš„å¼‚æ­¥ DNSï¼ŒåŒæ—¶è¿æ¥æ•°å¯ä¸Šä¸‡ã€‚</li>
<li>åŸºäºCè¯­è¨€å®ç°ï¼Œå†…å­˜å ç”¨å°ï¼ˆ600kå·¦å³ï¼‰ï¼Œä½ CPU æ¶ˆè€—</li>
</ul>
<hr>
<h4 id="shadowsocks-libev-çš„å®‰è£…"><a href="#shadowsocks-libev-çš„å®‰è£…" class="headerlink" title="shadowsocks-libev çš„å®‰è£…"></a>shadowsocks-libev çš„å®‰è£…</h4><p>æˆ‘çš„äº‘æœåŠ¡å™¨ç³»ç»Ÿä¸º <code>Ubuntu 14.04 TFS</code></p>
<p>é€šå¸¸ <code>shadowsocks-libev</code> ç‰ˆæœ¬æœ‰ä¸¤ç§å®‰è£…æ–¹å¼ï¼Œä»æºç å®‰è£…å’Œé€šè¿‡è½¯ä»¶æºæ¥å®‰è£…ã€‚è¿™é‡Œæˆ‘æ¨èä½¿ç”¨æºç å®‰è£…çš„æ–¹å¼ã€‚</p>
<h5 id="ä»æºç å®‰è£…-Ubuntu-Debianç³»ç»Ÿä¸‹"><a href="#ä»æºç å®‰è£…-Ubuntu-Debianç³»ç»Ÿä¸‹" class="headerlink" title="ä»æºç å®‰è£… (Ubuntu/Debianç³»ç»Ÿä¸‹)"></a>ä»æºç å®‰è£… (Ubuntu/Debianç³»ç»Ÿä¸‹)</h5><h6 id="å®‰è£…å¿…é¡»çš„åŒ…"><a href="#å®‰è£…å¿…é¡»çš„åŒ…" class="headerlink" title="å®‰è£…å¿…é¡»çš„åŒ…"></a>å®‰è£…å¿…é¡»çš„åŒ…</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get udpate</span><br><span class="line"></span><br><span class="line">$ mkdir shadowsocks-libev &amp;&amp; cd shadowsocks-libev</span><br><span class="line"></span><br><span class="line">$ sudo apt-get install build-essential autoconf libtool libssl-dev gawk debhelper dh-systemd init-system-helpers pkg-config asciidoc xmlto apg libpcre3-dev</span><br></pre></td></tr></table></figure>

<p>å®‰è£…è¿‡ç¨‹ä¼šéœ€è¦ä¸€äº›æ—¶é—´ã€‚</p>
<h6 id="é€šè¿‡Gitä¸‹è½½æºç "><a href="#é€šè¿‡Gitä¸‹è½½æºç " class="headerlink" title="é€šè¿‡Gitä¸‹è½½æºç "></a>é€šè¿‡Gitä¸‹è½½æºç </h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git clone https:&#x2F;&#x2F;github.com&#x2F;shadowsocks&#x2F;shadowsocks-libev.git</span><br></pre></td></tr></table></figure>

<p>ç„¶åç”ŸæˆdebåŒ…å¹¶å®‰è£…ï¼Œä¾ç…§ä»¥ä¸‹æ­¥éª¤ä¾æ¬¡æ‰§è¡Œ(å¦‚æœå‡ºé”™è¯·æ£€æŸ¥ç³»ç»Ÿæˆ–è€…ä¹‹å‰çš„æ­¥éª¤)ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd shadowsocks-libev</span><br><span class="line"></span><br><span class="line">$ dpkg-buildpackage -b -us -uc -i</span><br><span class="line"></span><br><span class="line">$ cd ..</span><br><span class="line"></span><br><span class="line">$ sudo dpkg -i shadowsocks-libev*.deb</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šé¢çš„ç¬¬ä¸‰æ­¥ <code>cd ..</code> åï¼Œå¯ä»¥çœ‹åˆ°ç›®å½•ä¸‹ç¼–è¯‘ç”Ÿæˆäº†ä¸‰ä¸ª <code>*.deb</code> æ–‡ä»¶ï¼Œæˆ‘è¿™é‡Œçš„æ˜¯ï¼š</p>
<ul>
<li><code>libshadowsocks-libev-dev_2.5.3-1_amd64.deb</code></li>
<li><code>libshadowsocks-libev2_2.5.3-1_amd64.deb</code></li>
<li><code>shadowsocks-libev_2.5.3-1_amd64.deb</code></li>
</ul>
<p>ä¸Šé¢çš„æ­¥éª¤æ“ä½œå®Œæˆåï¼Œæˆ‘ä»¬å°±å·²ç»å®‰è£…æˆåŠŸäº† <code>shadowsocks-libev</code> ã€‚</p>
<p>é€šè¿‡å¦‚ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo service shadowsocks-libev status</span><br><span class="line"> * shadowsocks-libev is not running</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡debåŒ…å®‰è£…çš„æ–¹å¼é»˜è®¤ä¼šå¼€å¯è‡ªå¯ã€‚</p>
<hr>
<h5 id="ç›´æ¥ä»ä½œè€…æä¾›çš„è½¯ä»¶æºå®‰è£…ï¼ˆUbuntu-Debianï¼‰"><a href="#ç›´æ¥ä»ä½œè€…æä¾›çš„è½¯ä»¶æºå®‰è£…ï¼ˆUbuntu-Debianï¼‰" class="headerlink" title="ç›´æ¥ä»ä½œè€…æä¾›çš„è½¯ä»¶æºå®‰è£…ï¼ˆUbuntu/Debianï¼‰"></a>ç›´æ¥ä»ä½œè€…æä¾›çš„è½¯ä»¶æºå®‰è£…ï¼ˆUbuntu/Debianï¼‰</h5><p>ç”±äºä½œè€…æ›´æ–°æºç åå¹¶ä¸ä¸€å®šåŠæ—¶æ›´æ–°è¿™äº›é¢„ç¼–è¯‘çš„åŒ…ï¼Œæ‰€ä»¥æ— æ³•ä¿è¯æœ€æ–°ç‰ˆæœ¬ï¼Œä½†æ“ä½œæ­¥éª¤æ¯”è¾ƒç®€å•ã€‚</p>
<h6 id="å…ˆæ·»åŠ GPG-Key"><a href="#å…ˆæ·»åŠ GPG-Key" class="headerlink" title="å…ˆæ·»åŠ GPG Key"></a>å…ˆæ·»åŠ GPG Key</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ wget -O- http:&#x2F;&#x2F;shadowsocks.org&#x2F;debian&#x2F;1D27208A.gpg | sudo apt-key add -</span><br></pre></td></tr></table></figure>

<h6 id="é…ç½®å®‰è£…æºï¼Œåœ¨-etc-apt-sources-listæœ«å°¾æ·»åŠ "><a href="#é…ç½®å®‰è£…æºï¼Œåœ¨-etc-apt-sources-listæœ«å°¾æ·»åŠ " class="headerlink" title="é…ç½®å®‰è£…æºï¼Œåœ¨/etc/apt/sources.listæœ«å°¾æ·»åŠ "></a>é…ç½®å®‰è£…æºï¼Œåœ¨/etc/apt/sources.listæœ«å°¾æ·»åŠ </h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Ubuntu 14.04 or above</span><br><span class="line">$ deb http:&#x2F;&#x2F;shadowsocks.org&#x2F;ubuntu trusty main</span><br><span class="line"></span><br><span class="line"># Debian Wheezy, Ubuntu 12.04 or any distribution with libssl &gt; 1.0.1</span><br><span class="line">$ deb http:&#x2F;&#x2F;shadowsocks.org&#x2F;debian wheezy main</span><br></pre></td></tr></table></figure>

<h6 id="æ‰§è¡Œå®‰è£…"><a href="#æ‰§è¡Œå®‰è£…" class="headerlink" title="æ‰§è¡Œå®‰è£…"></a>æ‰§è¡Œå®‰è£…</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ apt-get update</span><br><span class="line">$ apt-get install shadowsocks-libev</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæˆ‘åœ¨ é…ç½® <code>wget -O- http://shadowsocks.org/debian/1D27208A.gpg | sudo apt-key add -</code> æ—¶æ— æ³•è¿æ¥åˆ° <code>http://shadowsocks.org</code> ç«™ç‚¹ï¼Œæ‰€ä»¥è¿™ç§æ–¹æ³•æˆ‘å°±æ²¡æœ‰ç»§ç»­æµ‹è¯•ã€‚</p>
<hr>
<h5 id="shadowsocks-libev-ä¸€é”®å®‰è£…"><a href="#shadowsocks-libev-ä¸€é”®å®‰è£…" class="headerlink" title="shadowsocks-libev ä¸€é”®å®‰è£…"></a>shadowsocks-libev ä¸€é”®å®‰è£…</h5><p>å¾…å®Œå–„ï¼Œè¯¦è§ï¼š<a href="https://github.com/iMeiji/shadowsocks_install/wiki/shadowsocks-libev-%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85" target="_blank" rel="noopener">https://github.com/iMeiji/shadowsocks_install/wiki/shadowsocks-libev-%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85</a></p>
<hr>
<h4 id="é…ç½®ä¸å¯åŠ¨"><a href="#é…ç½®ä¸å¯åŠ¨" class="headerlink" title="é…ç½®ä¸å¯åŠ¨"></a>é…ç½®ä¸å¯åŠ¨</h4><h5 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h5><p><code>shadowsocks-divev</code> ç”Ÿæˆçš„é»˜è®¤é…ç½®æ–‡ä»¶åœ¨ç›®å½• <code>/etc/shadowsocks-libev</code> ä¸‹ï¼Œæ‰¾åˆ° <code>config.json</code> æ–‡ä»¶å¹¶ç¼–è¾‘ï¼š</p>
<p>å°†é…ç½®ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;server&quot;:&quot;127.0.0.1&quot;,</span><br><span class="line">    &quot;server_port&quot;:8388,</span><br><span class="line">    &quot;local_port&quot;:1080,</span><br><span class="line">    &quot;password&quot;:&quot;OikIryahoa&quot;,</span><br><span class="line">    &quot;timeout&quot;:60,</span><br><span class="line">    &quot;method&quot;:null</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ä¸ºå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;server&quot;:&quot;0.0.0.0&quot;,</span><br><span class="line">    &quot;server_port&quot;:8388,</span><br><span class="line">    &quot;local_port&quot;:1080,</span><br><span class="line">    &quot;password&quot;:&quot;OikIryahoa&quot;,</span><br><span class="line">    &quot;timeout&quot;:60,</span><br><span class="line">    &quot;method&quot;:&quot;aes-256-cfb&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼š</p>
<ul>
<li><code>server</code> ï¼šä¸»æœºåŸŸåæˆ–è€…IPåœ°å€ï¼Œå°½é‡å¡«IP (å¯ä»¥ä¸ºæœåŠ¡å™¨å®é™…çš„IPåœ°å€æˆ– <code>0.0.0.0</code> ) </li>
<li><code>server_port</code> ï¼šæœåŠ¡å™¨ç›‘å¬ç«¯å£</li>
<li>local_port: å®¢æˆ·ç«¯è¿æ¥ç«¯å£</li>
<li><code>password</code> ï¼šå¯†ç </li>
<li><code>timeout</code> ï¼šè¿æ¥è¶…æ—¶æ—¶é—´ï¼Œå•ä½ç§’ã€‚è¦é€‚ä¸­</li>
<li><code>method</code> ï¼šåŠ å¯†æ–¹å¼ é»˜è®¤ä¸ºtable,å…¶ä»–æœ‰rc4,rc4-md5,aes-128-cfb, aes-192-cfb, aes-256-cfb,bf-cfb, camellia-128-cfb, camellia-192-cfb,camellia-256-cfb, cast5-cfb, des-cfb</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong> </p>
<ul>
<li>å¦‚æœå®¢æˆ·ç«¯æœ‰OpenWRTè·¯ç”±å™¨ç­‰è®¾å¤‡ï¼Œæ¨è <code>rc4-md5</code> ï¼Œæ€§èƒ½æ›´å¥½ï¼›å¦åˆ™å¯ä»¥é€‰ç”¨å®‰å…¨æ€§æ›´å¥½çš„ <code>aes-256-cfb</code> ç­‰ã€‚</li>
<li><code>server</code> é…ç½®é¡¹è¡¨ç¤ºä¸»æœºçš„åŸŸåæˆ–IPåœ°å€ï¼Œè¿™é‡Œé»˜è®¤æƒ…å†µä¸‹æ˜¯ <code>127.0.0.1</code> ä½†ä¸å»ºè®®è®¾ç½®æˆ <code>127.0.0.1</code> ï¼Œæµ‹è¯•æ—¶å‘ç°æ— æ³•æ­£ç¡®è¿é€šã€‚ä½ å¯ä»¥è®¾ç½®æˆ <strong><code>0.0.0.0</code></strong> æˆ– <strong>çœŸå®çš„æœåŠ¡å™¨æ‰€åœ¨çš„IPåœ°å€</strong>ã€‚ä¿®æ”¹é…ç½®æ–‡ä»¶é‡å¯åç”Ÿæ•ˆã€‚</li>
<li>é»˜è®¤çš„å®¢æˆ·ç«¯çš„IPåœ°å€ä¸º <code>127.0.0.1</code></li>
</ul>
<hr>
<h5 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h5><p>ä¸Šé¢æœ‰æåˆ°ï¼Œé€šè¿‡debåŒ…å®‰è£…åå°±é»˜è®¤å¯åŠ¨äº†ï¼Œé€šè¿‡å¦‚ä¸‹å‘½ä»¤æ¥æ§åˆ¶ï¼š  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo service shadowsocks-libev start</span><br><span class="line">$ sudo service shadowsocks-libev stop</span><br><span class="line">$ sudo service shadowsocks-libev status</span><br><span class="line">$ sudo service shadowsocks-libev restart</span><br></pre></td></tr></table></figure>

<p>å®‰è£…åçš„shadowsocksç¨‹åºåä¸º <code>ss-server</code> ï¼Œç¨‹åºç›®å½•ä¸º <code>/usr/bin/ss-server</code> ã€‚</p>
<p>æŸ¥çœ‹ <code>ss-server</code> çš„å¯åŠ¨ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo service shadowsocks-libev status</span><br><span class="line"> * shadowsocks-libev is not running</span><br><span class="line"></span><br><span class="line">$ ps ax |grep ss-server</span><br><span class="line">40160 ?        Ss     0:00 &#x2F;usr&#x2F;bin&#x2F;ss-server -c &#x2F;etc&#x2F;shadowsocks-libev&#x2F;config.json -a root -u -f &#x2F;var&#x2F;run&#x2F;shadowsocks-libev&#x2F;shadowsocks-libev.pid -u</span><br><span class="line">40162 ?        S+     0:00 grep --color&#x3D;auto ss-server</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„å…¶ä¸­æœ‰ <code>-u</code>ï¼Œè¡¨ç¤ºä¼šé€šè¿‡udpçš„æ–¹å¼è¿›è¡Œè¿æ¥ã€‚</p>
<p>é€šè¿‡ <code>netstat -lnp</code> å¯ä»¥æŸ¥çœ‹ <code>ss-server</code> ç›‘å¬çš„ç«¯å£ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ netstat -lnp</span><br><span class="line">(No info could be read for &quot;-p&quot;: geteuid()&#x3D;1000 but you should be root.)</span><br><span class="line">Active Internet connections (only servers)</span><br><span class="line">Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID&#x2F;Program name</span><br><span class="line">tcp        0      0 0.0.0.0:8388            0.0.0.0:*               LISTEN      -                          </span><br><span class="line">tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      -               </span><br><span class="line">tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      -               </span><br><span class="line">tcp6       0      0 :::80                   :::*                    LISTEN      -               </span><br><span class="line">tcp6       0      0 :::22                   :::*                    LISTEN      -                        </span><br><span class="line">udp        0      0 0.0.0.0:8388            0.0.0.0:*                           -</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ° <code>ss-server</code> é€šè¿‡ <code>tcp</code> å’Œ <code>udp</code> ä¸¤ç§æ–¹å¼ç›‘å¬äº† <code>8388</code> ç«¯å£ã€‚</p>
<hr>
<h4 id="shadowsocks-å®¢æˆ·ç«¯çš„è®¾ç½®"><a href="#shadowsocks-å®¢æˆ·ç«¯çš„è®¾ç½®" class="headerlink" title="shadowsocks å®¢æˆ·ç«¯çš„è®¾ç½®"></a>shadowsocks å®¢æˆ·ç«¯çš„è®¾ç½®</h4><p>shadowsocks é»˜è®¤æ”¯æŒå¤šç§å®¢æˆ·ç«¯ã€‚å¯ä»¥ä» <a href="https://shadowsocks.org/en/download/clients.html" target="_blank" rel="noopener">Shadowsocks - Clients</a> ä¸‹è½½å¯¹åº”å¹³å°çš„å®¢æˆ·ç«¯è½¯ä»¶ã€‚</p>
<h5 id="windows-å®¢æˆ·ç«¯"><a href="#windows-å®¢æˆ·ç«¯" class="headerlink" title="windows å®¢æˆ·ç«¯"></a>windows å®¢æˆ·ç«¯</h5><p>windowsç”¨æˆ·å¯ä»¥ä» <a href="https://github.com/shadowsocks/shadowsocks-windows/releases" target="_blank" rel="noopener">Releases Â· shadowsocks/shadowsocks-windows Â· GitHub</a> ä¸‹è½½å®‰è£…åŒ…ã€‚è§£å‹åå¾—åˆ° <code>Shadowsocks.exe</code> ç¨‹åºã€‚</p>
<p>è¿è¡Œï¼Œé…ç½® <code>æœåŠ¡å™¨åœ°å€</code> <code>æœåŠ¡å™¨ç«¯å£</code> <code>å¯†ç </code> <code>åŠ å¯†æ–¹å¼</code> å³å¯ã€‚æŒ‰ç…§é…ç½®æ–‡ä»¶ä¸­çš„è®¾ç½®ï¼Œé»˜è®¤ç›‘å¬å®¢æˆ·ç«¯æ‰€åœ¨æœ¬åœ°ç³»ç»Ÿ <code>127.0.0.1</code> çš„ <code>1080</code> ç«¯å£ã€‚</p>
<p>æ›´åŠ è¯¦ç»†çš„å†…å®¹å¯ä»¥å‚è€ƒå¦‚ä¸‹æ–‡ç« ï¼š</p>
<ul>
<li><a href="https://github.com/shadowsocks/shadowsocks-windows/wiki/Shadowsocks-Windows-%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E" target="_blank" rel="noopener">Shadowsocks Windows ä½¿ç”¨è¯´æ˜ Â· shadowsocks/shadowsocks-windows Wiki Â· GitHub</a></li>
</ul>
<hr>
<h5 id="Chrome-SwitchyOmegaå®ç°ç§‘å­¦ä¸Šç½‘"><a href="#Chrome-SwitchyOmegaå®ç°ç§‘å­¦ä¸Šç½‘" class="headerlink" title="Chrome+SwitchyOmegaå®ç°ç§‘å­¦ä¸Šç½‘"></a>Chrome+SwitchyOmegaå®ç°ç§‘å­¦ä¸Šç½‘</h5><p>è¯¦è§å¦ä¸€ç¯‡æ–‡ç« ï¼š<a href="/2019/09/04/autoproxy-by-shadowsocks-and-switchyomega/">Chromeæµè§ˆå™¨é€šè¿‡SwitchyOmegaå®ç°è‡ªåŠ¨ä»£ç†åˆ‡æ¢ | ITèŒƒå„¿</a></p>
<hr>
<h4 id="shadowsocks-libev-çš„å¤šç”¨æˆ·é…ç½®"><a href="#shadowsocks-libev-çš„å¤šç”¨æˆ·é…ç½®" class="headerlink" title="shadowsocks-libev çš„å¤šç”¨æˆ·é…ç½®"></a>shadowsocks-libev çš„å¤šç”¨æˆ·é…ç½®</h4><p>Cè¯­è¨€ç¼–å†™çš„shadowsockså®¢æˆ·ç«¯/æœåŠ¡ç«¯è½¯ä»¶shadowsocks-libevå¹¶ä¸åƒgoç‰ˆæœ¬æˆ–pythonç‰ˆæœ¬çš„shadowsockså®¢æˆ·ç«¯/æœåŠ¡ç«¯è½¯ä»¶é‚£æ ·ç›´æ¥æ”¯æŒå¤šå®ä¾‹é…ç½®ï¼Œå…·ä½“å¯ä»¥æŸ¥çœ‹å¦‚ä¸‹è¯´æ˜ï¼š</p>
<ul>
<li><a href="https://github.com/shadowsocks/shadowsocks-libev/issues/5" target="_blank" rel="noopener">please support multi-port config.json Â· Issue #5</a></li>
</ul>
<p><code>shadowsocks-libev</code> ç‰ˆæœ¬é»˜è®¤ä¸æ”¯æŒåœ¨åŒä¸€ä¸ªé…ç½®æ–‡ä»¶ <code>config.json</code> ä¸­ä¸€æ¬¡è®¾ç½®å¤šä¸ªç«¯å£å’Œå¯†ç ï¼Œå¦‚æœæƒ³è¦è®¾ç½®å¤šä¸ªï¼Œå¯ä»¥é€šè¿‡æ·»åŠ å¤šä¸ªé…ç½®æ–‡ä»¶æ¥å®ç°ã€‚</p>
<h5 id="æ–¹å¼ä¸€"><a href="#æ–¹å¼ä¸€" class="headerlink" title="æ–¹å¼ä¸€"></a>æ–¹å¼ä¸€</h5><p>å…ˆåœæ­¢ <code>ss-server</code> æœåŠ¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo service shadowsocks-libev status</span><br><span class="line"> * shadowsocks-libev is running</span><br><span class="line">$ sudo service shadowsocks-libev stop</span><br><span class="line">$ sudo service shadowsocks-libev status</span><br><span class="line"> * shadowsocks-libev is not running</span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼Œæ‹·è´ä¸€ä»½åŸæ¥çš„é…ç½®æ–‡ä»¶ï¼Œè‡ªå®šä¹‰æ–°çš„æ–‡ä»¶åï¼Œåªè¦ä¿è¯æ‰©å±•åä¸º <code>.json</code> å³å¯ï¼Œæˆ‘è¿™é‡Œå‘½åä¸º <code>configuser1.json</code> ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd &#x2F;etc&#x2F;shadowsocks-libev</span><br><span class="line">$ sudo cp config.json configuser1.json</span><br><span class="line">$ sudo vim configuser1.json</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹é…ç½®å‚æ•°ä¸­çš„ç«¯å£å·ï¼Œå¯†ç ç­‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;server&quot;:&quot;0.0.0.0&quot;,</span><br><span class="line">    &quot;server_port&quot;:8398,</span><br><span class="line">    &quot;local_port&quot;:1080,</span><br><span class="line">    &quot;password&quot;:&quot;OikIrya3oyt&quot;,</span><br><span class="line">    &quot;timeout&quot;:60,</span><br><span class="line">    &quot;method&quot;:&quot;aes-256-cfb&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åå¯åŠ¨ <code>ss-server</code> æœåŠ¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo service shadowsocks-libev start</span><br><span class="line">$ sudo service shadowsocks-libev status</span><br><span class="line"> * shadowsocks-libev is running</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ·»åŠ æ–°çš„é…ç½®æ–‡ä»¶è®¾ç½® ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ setsid ss-server -c &#x2F;etc&#x2F;shadowsocks-libev&#x2F;***.json -u</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„å°†å…¶ä¸­çš„ <code>***</code> æ›¿æ¢ä¸ºä½ çš„é…ç½®æ–‡ä»¶åç§°ã€‚</p>
<hr>
<h5 id="æ–¹å¼äºŒ"><a href="#æ–¹å¼äºŒ" class="headerlink" title="æ–¹å¼äºŒ"></a>æ–¹å¼äºŒ</h5><p>å¦‚æœä½ å«Œä¸Šé¢çš„â€œåœæ­¢-æ‹·è´å·²æœ‰é…ç½®æ–‡ä»¶-é‡å¯â€æ“ä½œå¤ªéº»çƒ¦ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æ–°å»ºä¸€ä¸ªjsoné…ç½®æ–‡ä»¶ï¼Œç„¶åå¡«å…¥å¦‚ä¸‹é…ç½®ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;server&quot;:&quot;0.0.0.0&quot;,</span><br><span class="line">    &quot;server_port&quot;:8398,</span><br><span class="line">    &quot;local_port&quot;:1080,</span><br><span class="line">    &quot;password&quot;:&quot;OikIrya3oyt&quot;,</span><br><span class="line">    &quot;timeout&quot;:60,</span><br><span class="line">    &quot;method&quot;:&quot;aes-256-cfb&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ <code>server_port</code> è¦è®¾ç½®æˆæ–°çš„ç«¯å£å·ã€‚</p>
<p>ç„¶åç›´æ¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ setsid ss-server -c &#x2F;etc&#x2F;shadowsocks-libev&#x2F;***.json -u</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹å¯åŠ¨ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ps ax |grep ss-server</span><br><span class="line">40103 ?        Ss     0:00 ss-server -c &#x2F;etc&#x2F;shadowsocks-libev&#x2F;configuser1.json -u</span><br><span class="line">40160 ?        Ss     0:00 &#x2F;usr&#x2F;bin&#x2F;ss-server -c &#x2F;etc&#x2F;shadowsocks-libev&#x2F;config.json -a root -u -f &#x2F;var&#x2F;run&#x2F;shadowsocks-libev&#x2F;shadowsocks-libev.pid -u</span><br><span class="line">40162 ?        S+     0:00 grep --color&#x3D;auto ss-server</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°æ¯”ä¹‹å‰å¤šäº†ä¸€æ¡åå°æœåŠ¡ã€‚</p>
<p>é€šè¿‡ <code>netstat -lnp</code> æ¥æŸ¥çœ‹ <code>ss-server</code> æ˜¯å¦ç›‘å¬äº†å¤šä¸ªç«¯å£ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ netstat -lnp</span><br><span class="line">(No info could be read for &quot;-p&quot;: geteuid()&#x3D;1000 but you should be root.)</span><br><span class="line">Active Internet connections (only servers)</span><br><span class="line">Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID&#x2F;Program name</span><br><span class="line">tcp        0      0 0.0.0.0:8388            0.0.0.0:*               LISTEN      -                          </span><br><span class="line">tcp        0      0 0.0.0.0:8398            0.0.0.0:*               LISTEN      -      </span><br><span class="line">tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      -               </span><br><span class="line">tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      -               </span><br><span class="line">tcp6       0      0 :::80                   :::*                    LISTEN      -               </span><br><span class="line">tcp6       0      0 :::22                   :::*                    LISTEN      -                        </span><br><span class="line">udp        0      0 0.0.0.0:8388            0.0.0.0:*                           -     </span><br><span class="line">udp        0      0 0.0.0.0:8398            0.0.0.0:*                           -</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ï¼Œå°±å®ç°äº†ç›‘å¬å¤šä¸ªç«¯å£ï¼Œå®ç°å¤šç”¨æˆ·è¿æ¥äº†ã€‚å¦‚æœæƒ³è¦åœæ­¢æ–°å¢çš„ç›‘å¬ç«¯å£ï¼Œåªéœ€è¦é‡å¯shadowsocksæœåŠ¡å°±åˆæ¢å¤é»˜è®¤ï¼Œåªä¼šç›‘å¬çš„ <code>config.json</code> ä¸­é…ç½®çš„ç«¯å£äº†ã€‚</p>
<hr>
<h4 id="ç›¸å…³é“¾æ¥"><a href="#ç›¸å…³é“¾æ¥" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h4><ul>
<li><a href="https://github.com/iMeiji/shadowsocks_install/wiki/shadowsocks-libev" target="_blank" rel="noopener">shadowsocks libev</a> <strong>â˜†</strong></li>
<li><a href="https://shadowsocks.org/en/download/clients.html" target="_blank" rel="noopener">shadowsocks client</a></li>
<li><a href="https://github.com/shadowsocks/shadowsocks-windows/wiki/Shadowsocks-Windows-%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E" target="_blank" rel="noopener">Shadowsocks Windows ä½¿ç”¨è¯´æ˜</a></li>
</ul>
]]></content>
      <tags>
        <tag>Shadowsocks</tag>
      </tags>
  </entry>
  <entry>
    <title>é‡æ–°å®‰è£…Ubuntuç³»ç»Ÿåçš„å¿…è¦è®¾ç½®</title>
    <url>/2016/10/01/first-install-ubuntu-need-config/</url>
    <content><![CDATA[<p>ä»¥ä¸‹ä¸ºæˆ‘åœ¨é‡è£…Linuxç³»ç»Ÿåè¿›è¡Œçš„ä¸€äº›å¿…è¦çš„æ“ä½œï¼Œç‰¹æ­¤è®°å½•ã€‚</p>
<h4 id="ubuntu-14-04-å‡çº§åˆ°-16-04"><a href="#ubuntu-14-04-å‡çº§åˆ°-16-04" class="headerlink" title="ubuntu 14.04 å‡çº§åˆ° 16.04"></a>ubuntu 14.04 å‡çº§åˆ° 16.04</h4><p>å¦‚æœç›´æ¥æ‰§è¡Œ <code># do-release-upgrade</code> å‡çº§å‘½ä»¤ï¼Œä¼šé‡åˆ°ï¼š<code>éœ€è¦çš„ä¾èµ–å…³ç³»æœªå®‰è£…</code> çš„æŠ¥é”™ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">The required dependency &#39;apt (&gt;&#x3D; 1.0.1ubuntu2.13)&#39; is not installed.</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬éœ€è¦å…ˆæ›´æ–° <code>apt</code> åˆ° <code>1.0.1ubuntu2.13</code> ä»¥ä¸Šæ‰èƒ½è¿›è¡Œå‡çº§æ“ä½œã€‚</p>
<p>é€šè¿‡ä»¥ä¸‹æ“ä½œæ¥æ›´æ–°ï¼š</p>
<ol>
<li>ä¿æŒè½¯ä»¶æºæŒ‡å‘ 14.04(trusty) ä¸å˜</li>
<li><code>sudo apt-get update &amp;&amp; sudo apt-get upgrade</code></li>
</ol>
<p>æ­¤æ—¶ <code>apt</code> åº”å·²å‡çº§åˆ° <code>1.0.1ubuntu2.13</code>ï¼Œå¯ä»¥ç»§ç»­ <code>do-release-upgrade</code> äº†ã€‚</p>
<p>æ€»ç»“éœ€è¦æ‰§è¡Œçš„å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># sudo apt-get update</span><br><span class="line"># sudo apt-get upgrade</span><br><span class="line"># sudo do-release-upgrade</span><br></pre></td></tr></table></figure>

<p>æ“ä½œå®Œæˆåï¼Œé‡å¯ç³»ç»Ÿå³å¯ï¼š<code># sudo reboot</code> ã€‚</p>
<hr>
<h4 id="æ›´æ–°è½¯ä»¶åŒ…åŠå‡çº§ç³»ç»Ÿåˆ°æœ€æ–°çš„å†…æ ¸"><a href="#æ›´æ–°è½¯ä»¶åŒ…åŠå‡çº§ç³»ç»Ÿåˆ°æœ€æ–°çš„å†…æ ¸" class="headerlink" title="æ›´æ–°è½¯ä»¶åŒ…åŠå‡çº§ç³»ç»Ÿåˆ°æœ€æ–°çš„å†…æ ¸"></a>æ›´æ–°è½¯ä»¶åŒ…åŠå‡çº§ç³»ç»Ÿåˆ°æœ€æ–°çš„å†…æ ¸</h4><h5 id="æ›´æ–°è½¯ä»¶åŒ…"><a href="#æ›´æ–°è½¯ä»¶åŒ…" class="headerlink" title="æ›´æ–°è½¯ä»¶åŒ…"></a>æ›´æ–°è½¯ä»¶åŒ…</h5><p>åˆšè£…å®Œlinuxç³»ç»Ÿåï¼Œè½¯ä»¶åŠå†…æ ¸ç‰ˆæœ¬éƒ½æ¯”è¾ƒä½ï¼Œéœ€è¦å…ˆæ›´æ–°ä¸€ä¸‹ï¼š</p>
<p>åˆšè£…å®Œåç³»ç»Ÿç‰ˆæœ¬ä¸ºï¼š <code>Ubuntu 16.04.1 LTS</code></p>
<p>å› ä¸ºæˆ‘çš„æœåŠ¡å™¨åœ¨é¦™æ¸¯ï¼Œæ‰€ä»¥èƒ½è¿æ¥åˆ°ubuntuå®˜æ–¹çš„è½¯ä»¶æºï¼Œå¦‚æœä½ çš„ç³»ç»Ÿæ˜¯åœ¨å›½å†…ï¼Œå¯èƒ½éœ€è¦æ›´æ–°ä¸€ä¸‹è½¯ä»¶æºï¼Œä»¥å…ä¸‹è½½å¤ªæ…¢æˆ–æ›´æ–°å¤±è´¥ï¼Œè®¾ç½®è½¯ä»¶æºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># echo &quot;deb http:&#x2F;&#x2F;cn.archive.ubuntu.com&#x2F;ubuntu&#x2F; trusty main restricted universe multiverse&quot; &gt;&gt; &#x2F;etc&#x2F;apt&#x2F;sources.list</span><br></pre></td></tr></table></figure>

<p>å…¶ä»–ç³»ç»Ÿå¯å‚è€ƒ ï¼š<a href="http://wiki.ubuntu.org.cn/%E6%BA%90%E5%88%97%E8%A1%A8" target="_blank" rel="noopener">Ubuntu æºåˆ—è¡¨</a></p>
<p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤è¿›è¡Œæ›´æ–°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># sudo apt-get update</span><br><span class="line"># sudo apt-get upgrade</span><br></pre></td></tr></table></figure>

<p>æ›´æ–°åçš„ç³»ç»Ÿæ˜¾ç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Welcome to Ubuntu 14.04.5 LTS (GNU&#x2F;Linux 3.16.0-30-generic x86_64)</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="å‡çº§ç³»ç»Ÿå†…æ ¸"><a href="#å‡çº§ç³»ç»Ÿå†…æ ¸" class="headerlink" title="å‡çº§ç³»ç»Ÿå†…æ ¸"></a>å‡çº§ç³»ç»Ÿå†…æ ¸</h5><p>å‡çº§å†…æ ¸ç‰ˆæœ¬ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># sudo apt-get install linux-generic-lts-xenial linux-image-generic-lts-xenial</span><br></pre></td></tr></table></figure>

<p>å®‰è£…å®Œæˆåé‡å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># sudo reboot</span><br></pre></td></tr></table></figure>

<p>ç™»é™†åæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå†…æ ¸å·²ç»æ›´æ–°äº†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Welcome to Ubuntu 14.04.5 LTS (GNU&#x2F;Linux 4.4.0-38-generic x86_64)</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Ubuntuæ–°å¢æ™®é€šç®¡ç†å‘˜è´¦æˆ·å¹¶è®¾ç½®ç®¡ç†å‘˜æƒé™"><a href="#Ubuntuæ–°å¢æ™®é€šç®¡ç†å‘˜è´¦æˆ·å¹¶è®¾ç½®ç®¡ç†å‘˜æƒé™" class="headerlink" title="Ubuntuæ–°å¢æ™®é€šç®¡ç†å‘˜è´¦æˆ·å¹¶è®¾ç½®ç®¡ç†å‘˜æƒé™"></a>Ubuntuæ–°å¢æ™®é€šç®¡ç†å‘˜è´¦æˆ·å¹¶è®¾ç½®ç®¡ç†å‘˜æƒé™</h4><p>åœ¨Linuxç³»ç»Ÿä¸‹ï¼Œ<code>$</code> æ˜¯æ™®é€šç®¡ç†å‘˜å‘½ä»¤æ ‡è¯†ï¼Œ<code>#</code> æ˜¯ç³»ç»Ÿç®¡ç†å‘˜å‘½ä»¤æ ‡è¯†</p>
<h5 id="æ›´æ”¹å·²æœ‰ç”¨æˆ·è´¦æˆ·å¯†ç "><a href="#æ›´æ”¹å·²æœ‰ç”¨æˆ·è´¦æˆ·å¯†ç " class="headerlink" title="æ›´æ”¹å·²æœ‰ç”¨æˆ·è´¦æˆ·å¯†ç "></a>æ›´æ”¹å·²æœ‰ç”¨æˆ·è´¦æˆ·å¯†ç </h5><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>passwd</code> å‘½ä»¤æ¥æ›´æ”¹è´¦æˆ·çš„å‘½ä»¤ï¼Œæ‰§è¡Œåè¾“å…¥ä¸¤æ¬¡æ–°å¯†ç å³å¯ã€‚ä¾‹å¦‚ä¸º <code>root</code> è´¦æˆ·ä¿®æ”¹å¯†ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo passwd root</span><br></pre></td></tr></table></figure>

<h5 id="æ–°å¢ç”¨æˆ·è´¦æˆ·"><a href="#æ–°å¢ç”¨æˆ·è´¦æˆ·" class="headerlink" title="æ–°å¢ç”¨æˆ·è´¦æˆ·"></a>æ–°å¢ç”¨æˆ·è´¦æˆ·</h5><p>å¯ä»¥é€šè¿‡ <code>adduser</code> å‘½ä»¤æ¥æ–°å¢è´¦æˆ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo adduser username</span><br></pre></td></tr></table></figure>

<p>åŒæ ·çš„éœ€è¦è¾“å…¥ä¸¤æ¬¡å¯†ç ï¼Œå…¶ä»–çš„è®¾ç½®é¡¹ç›´æ¥æŒ‰å›è½¦å³å¯ã€‚</p>
<p>æ–°åˆ›å»ºçš„ç”¨æˆ·åªæœ‰æ™®é€šç”¨æˆ·æƒé™ï¼Œå¦‚æœæƒ³è¦å®‰è£…è½¯ä»¶æˆ–æ›´æ–°è½¯ä»¶åŒ…ï¼Œè¿˜éœ€è¦èµ‹äºˆè´¦æˆ·ç®¡ç†å‘˜æƒé™æ‰è¡Œã€‚</p>
<hr>
<h5 id="ä½¿æ–°å¢ç”¨æˆ·å…·æœ‰-root-æƒé™â€“å‘½ä»¤æ³•-ä¸æ¨è"><a href="#ä½¿æ–°å¢ç”¨æˆ·å…·æœ‰-root-æƒé™â€“å‘½ä»¤æ³•-ä¸æ¨è" class="headerlink" title="ä½¿æ–°å¢ç”¨æˆ·å…·æœ‰ root æƒé™â€“å‘½ä»¤æ³•(ä¸æ¨è)"></a>ä½¿æ–°å¢ç”¨æˆ·å…·æœ‰ <code>root</code> æƒé™â€“å‘½ä»¤æ³•(ä¸æ¨è)</h5><p>åœ¨ç½‘ä¸ŠæŸ¥çœ‹ä¸ºæ–°å¢ç”¨æˆ·è´¦æˆ·å¯ä»¥é€šè¿‡å¦‚ä¸‹çš„å‘½ä»¤æ¥æ·»åŠ ç®¡ç†å‘˜æƒé™ï¼Œä½†æˆ‘åœ¨å®é™…æ“ä½œåå¹¶æ²¡æœ‰ç”Ÿæ•ˆï¼Œæ‰€ä»¥è¿™é‡Œæš‚ä¸æ¨èè¯¥æ–¹æ³•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo usermod -G root username</span><br></pre></td></tr></table></figure>

<p>è¦æ·»åŠ æ–°ç”¨æˆ·åˆ° <code>sudo</code>ï¼Œæœ€ç®€å•çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨ <code>usermod</code> å‘½ä»¤ã€‚è¿è¡Œ :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$sudo usermod -G root username</span><br></pre></td></tr></table></figure>

<p>ç„¶è€Œï¼Œå¦‚æœç”¨æˆ·å·²ç»æ˜¯å…¶ä»–ç»„çš„æˆå‘˜ï¼Œä½ éœ€è¦æ·»åŠ  <code>-a</code> è¿™ä¸ªé€‰é¡¹ï¼Œè±¡è¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$sudo usermod -a -G root username</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæš‚ä½œè®°å½•ï¼Œå¾…ä»¥åæ‰¾åˆ°ä¸ºä½•æ— æ•ˆçš„åŸå› å†æ¥ä¿®æ”¹ã€‚</p>
<hr>
<h5 id="ä½¿æ–°å¢ç”¨æˆ·å…·æœ‰-root-æƒé™â€“ä¿®æ”¹æ–‡ä»¶æ³•-æ¨è"><a href="#ä½¿æ–°å¢ç”¨æˆ·å…·æœ‰-root-æƒé™â€“ä¿®æ”¹æ–‡ä»¶æ³•-æ¨è" class="headerlink" title="ä½¿æ–°å¢ç”¨æˆ·å…·æœ‰ root æƒé™â€“ä¿®æ”¹æ–‡ä»¶æ³•(æ¨è)"></a>ä½¿æ–°å¢ç”¨æˆ·å…·æœ‰ <code>root</code> æƒé™â€“ä¿®æ”¹æ–‡ä»¶æ³•(æ¨è)</h5><p>ä½¿ç”¨æ–°åˆ›å»ºçš„ç”¨æˆ·è´¦æˆ·ç™»é™†ã€‚è¿™é‡Œæˆ‘æ–°å»ºçš„ç”¨æˆ·æ˜¯ <code>tiger</code> è´¦æˆ·ã€‚æ‰§è¡Œæ›´æ–°å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tiger@MyServer:~$ apt-get update</span><br><span class="line">E: Could not open lock file &#x2F;var&#x2F;lib&#x2F;apt&#x2F;lists&#x2F;lock - open (13: Permission denied)</span><br><span class="line">E: Unable to lock directory &#x2F;var&#x2F;lib&#x2F;apt&#x2F;lists&#x2F;</span><br><span class="line">E: Could not open lock file &#x2F;var&#x2F;lib&#x2F;dpkg&#x2F;lock - open (13: Permission denied)</span><br><span class="line">E: Unable to lock the administration directory (&#x2F;var&#x2F;lib&#x2F;dpkg&#x2F;), are you root?</span><br><span class="line">tiger@MyServer:~$ sudo apt-get update</span><br><span class="line">[sudo] password for tiger: </span><br><span class="line">tiger is not in the sudoers file.  This incident will be reported.</span><br><span class="line">tiger@MyServer:~$</span><br></pre></td></tr></table></figure>

<p>æŠ¥é”™ä¿¡æ¯ï¼š<code>tiger is not in the sudoers file.  This incident will be reported.</code> è¡¨åæˆ‘ä»¬æ–°å»ºçš„è´¦æˆ· <code>tiger</code> åœ¨ <code>sudoers</code> æ–‡ä»¶ä¸­å¹¶æ²¡æœ‰æŒ‡å®šæƒé™ï¼Œæ‰€ä»¥ä¹Ÿå°±æ— æ³•ä»¥ç®¡ç†å‘˜æƒé™æ‰§è¡Œå‘½ä»¤ã€‚</p>
<p>æ‰§è¡Œä¸‹é¢çš„æ“ä½œï¼š</p>
<p>å…ˆåˆ‡æ¢å› <code>root</code> è´¦æˆ·ä¸‹(æ³¨æ„ <code>su -</code> åé¢çš„ <code>-</code> å’Œåé¢çš„è´¦æˆ·åä¹‹é—´æœ‰ä¸€ä¸ªç©ºæ ¼)ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tiger@MyServer:~$ su - root</span><br></pre></td></tr></table></figure>

<p>ä¸ºæ–‡ä»¶ <code>/etc/sudoers</code> æ·»åŠ å†™æƒé™ï¼Œé»˜è®¤æƒ…å†µä¸‹è¯¥æ–‡ä»¶ä¸ºåªè¯»å±æ€§ã€‚æ‰§è¡Œå‘½ä»¤ï¼š<code># chmod u+w /etc/sudoers</code> ã€‚</p>
<p>ç„¶åç¼–è¾‘è¯¥æ–‡ä»¶ï¼Œæ‰¾åˆ°è¿™ä¸€è¡Œ :  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root  ALL&#x3D;(ALL:ALL)  ALL</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸‹é¢æŒ‰ç…§åŒæ ·çš„æ ¼å¼æ·»åŠ :  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">xxx  ALL&#x3D;(ALL:ALL)  ALL</span><br></pre></td></tr></table></figure>

<p>(è¿™é‡Œçš„xxxæ˜¯ä½ è¦è®¾ç½®çš„ç”¨æˆ·å)ï¼Œç„¶åä¿å­˜é€€å‡ºã€‚</p>
<p>æ’¤é”€æ–‡ä»¶çš„å†™æƒé™ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š<code># chmod u-w /etc/sudoers</code> ã€‚</p>
<p>å®Œæ•´çš„å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root@MyCloudServer:&#x2F;home&#x2F;tiger# chmod u+w &#x2F;etc&#x2F;sudoers</span><br><span class="line">root@MyCloudServer:&#x2F;home&#x2F;tiger# vim &#x2F;etc&#x2F;sudoers</span><br><span class="line">root@MyCloudServer:&#x2F;home&#x2F;tiger# ls -al &#x2F;etc&#x2F;sudoers </span><br><span class="line">-rw-r----- 1 root root 770 Sep 28 02:15 &#x2F;etc&#x2F;sudoers</span><br><span class="line">root@MyCloudServer:&#x2F;home&#x2F;tiger# chmod u-w &#x2F;etc&#x2F;sudoers</span><br><span class="line">root@MyCloudServer:&#x2F;home&#x2F;tiger# su - tiger</span><br><span class="line">tiger@MyCloudServer:~$ apt-get update</span><br><span class="line"></span><br><span class="line">E: Could not open lock file &#x2F;var&#x2F;lib&#x2F;apt&#x2F;lists&#x2F;lock - open (13: Permission denied)</span><br><span class="line">E: Unable to lock directory &#x2F;var&#x2F;lib&#x2F;apt&#x2F;lists&#x2F;</span><br><span class="line">E: Could not open lock file &#x2F;var&#x2F;lib&#x2F;dpkg&#x2F;lock - open (13: Permission denied)</span><br><span class="line">E: Unable to lock the administration directory (&#x2F;var&#x2F;lib&#x2F;dpkg&#x2F;), are you root?</span><br><span class="line">tiger@MyCloudServer:~$ sudo apt-get update</span><br><span class="line"></span><br><span class="line">Get:1 http:&#x2F;&#x2F;security.ubuntu.com trusty-security InRelease [65.9 kB]</span><br><span class="line">Ign http:&#x2F;&#x2F;us.archive.ubuntu.com trusty InRelease          </span><br><span class="line">Get:2 http:&#x2F;&#x2F;us.archive.ubuntu.com trusty-updates InRelease [65.9 kB]</span><br><span class="line">Get:3 http:&#x2F;&#x2F;security.ubuntu.com trusty-security&#x2F;main Sources [120 kB] </span><br><span class="line">Get:4 http:&#x2F;&#x2F;us.archive.ubuntu.com trusty-backports InRelease [65.9 kB]        </span><br><span class="line">Get:5 http:&#x2F;&#x2F;security.ubuntu.com trusty-security&#x2F;restricted Sources [4,064 B]  </span><br><span class="line">Hit http:&#x2F;&#x2F;us.archive.ubuntu.com trusty Release.gpg        </span><br><span class="line">Get:6 http:&#x2F;&#x2F;security.ubuntu.com trusty-security&#x2F;universe Sources [42.5 kB]</span><br><span class="line">Get:7 http:&#x2F;&#x2F;us.archive.ubuntu.com trusty-updates&#x2F;main Sources [383 kB]</span><br><span class="line">Get:8 http:&#x2F;&#x2F;security.ubuntu.com trusty-security&#x2F;multiverse Sources [2,749 B]</span><br><span class="line">...</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±ä¸ºæ–°åˆ›å»ºçš„è´¦æˆ· <code>tiger</code> è®¾ç½®äº†ç®¡ç†å‘˜æƒé™ï¼Œæ‰§è¡Œå‘½ä»¤æ—¶å°±å¯ä»¥é€šè¿‡ <code>sudo</code> æ¥ææƒäº†ã€‚</p>
<p>å‚è€ƒï¼š</p>
<ul>
<li><a href="http://www.cnblogs.com/evasnowind/archive/2011/02/04/1949113.html" target="_blank" rel="noopener">xx is not in the sudoers file é—®é¢˜è§£å†³ã€è½¬è½½ã€‘ - evasnowind - åšå®¢å›­</a></li>
<li><a href="http://www.linuxidc.com/Linux/2010-12/30386.htm" target="_blank" rel="noopener">UbuntuæŠ€å·§ä¹‹ is not in the sudoers fileè§£å†³æ–¹æ³•_Linuxæ•™ç¨‹_Linuxå…¬ç¤¾-Linuxç³»ç»Ÿé—¨æˆ·ç½‘ç«™</a></li>
</ul>
<hr>
<h4 id="Ubuntu-sudo-Error-unable-to-resolve-host"><a href="#Ubuntu-sudo-Error-unable-to-resolve-host" class="headerlink" title="Ubuntu sudo Error:unable to resolve host"></a>Ubuntu sudo Error:unable to resolve host</h4><p>ä¸ºæ–°å¢ç”¨æˆ·è®¾ç½®äº†ç®¡ç†å‘˜æƒé™åï¼Œæ¯æ¬¡æ‰§è¡Œ <code>$ sudo xxxx</code> å‘½ä»¤æ—¶éƒ½ä¼šå¼¹å‡ºä¸‹é¢ä¸€æ¡ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Ubuntu sudo Error:unable to resolve host</span><br></pre></td></tr></table></figure>

<p>è¿™ç§æƒ…å†µæ˜¯ ç³»ç»Ÿçš„ä¸»æœºåå’Œé…ç½®æ–‡ä»¶ä¸­çš„ä¸»æœºåä¸ä¸€è‡´é€ æˆçš„ã€‚</p>
<p>ç¼–è¾‘ <code>/etc/hostname</code> æ›´æ”¹ä¸»æœºå(hostname)<br>ä¸»æœºåæ˜¯åœ¨å‘½ä»¤è¡Œä¸­ <code>tiger@MyServer:~$</code> @ç¬¦åˆåé¢çš„ã€‚</p>
<p>ç¼–è¾‘ <code>/etc/hosts</code> æ–‡ä»¶ä¸­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">127.0.0.1	localhost</span><br><span class="line"></span><br><span class="line">127.0.1.1	ubuntu</span><br></pre></td></tr></table></figure>

<p>æ›´æ”¹ <code>ubuntu</code> ä¸ºä½ çš„ <code>hostname</code> çš„åç§°ã€‚</p>
<p>ç»“æœä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">127.0.0.1       localhost</span><br><span class="line">127.0.1.1       myhostname</span><br><span class="line"></span><br><span class="line"># The following lines are desirable for IPv6 capable hosts</span><br><span class="line">::1     localhost ip6-localhost ip6-loopback</span><br><span class="line">ff02::1 ip6-allnodes</span><br><span class="line">ff02::2 ip6-allrouters</span><br></pre></td></tr></table></figure>


<p>ç„¶åé‡å¯ç³»ç»Ÿã€‚<code>sudo reboot</code> ã€‚å¿…éœ€é‡å¯ä¹‹åæ‰æœ‰æ•ˆã€‚</p>
<ul>
<li><a href="http://blog.csdn.net/wzb56_earl/article/details/6289988" target="_blank" rel="noopener">ubuntu ä¸‹ä¿®å¤ä½¿ç”¨sudoå‘½ä»¤åå‡ºç°ä¸»æœºåå­—ä¸èƒ½è§£æçš„é”™è¯¯ï¼šFix Ubuntu sudo Error:unable to resolve host - wzb56çš„èµ„æ–™åº“        - åšå®¢é¢‘é“ - CSDN.NET</a></li>
</ul>
<hr>
<h4 id="Ubuntu-14-04-ä¿®æ”¹æ—¶åŒº"><a href="#Ubuntu-14-04-ä¿®æ”¹æ—¶åŒº" class="headerlink" title="Ubuntu 14.04 ä¿®æ”¹æ—¶åŒº"></a>Ubuntu 14.04 ä¿®æ”¹æ—¶åŒº</h4><p>åœ¨ç³»ç»Ÿä¸‹é€šè¿‡ <code>date</code> å‘½ä»¤æŸ¥çœ‹æ—¶é—´ï¼Œå¯èƒ½ä¼šä¸æœ¬åœ°çš„ä¹‹é—´ä¸ä¸€è‡´ã€‚</p>
<p>æ¯”å¦‚ æˆ‘å½“å‰ç³»ç»Ÿçš„æ—¶é—´ä¸º <code>2016-10-5 15:53:54</code> è€Œ æœåŠ¡å™¨çš„æ—¶é—´ä¸º <code>Wed Oct  5 03:58:37 EDT 2016</code> ã€‚æŒ‰ç†è¯´ï¼ŒLinuxç³»ç»Ÿåœ¨é‡å¯åä¼šè‡ªåŠ¨åŒæ­¥æ—¶é—´çš„ï¼Œè€Œè¿™ç§æƒ…å†µå¯èƒ½æ˜¯æ—¶åŒºä¸ä¸€è‡´çš„åŸå› ã€‚</p>
<p>æ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼Œå¹¶æŒ‰ç…§æç¤ºé€‰æ‹© â€œAsia/Shanghaiâ€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># sudo dpkg-reconfigure tzdata</span><br></pre></td></tr></table></figure>

<p>é€‰æ‹©å®Œæˆåï¼Œä¼šè¾“å‡ºå¦‚ä¸‹ç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Current default time zone: &#39;Asia&#x2F;Shanghai&#39;</span><br><span class="line">Local time is now:      Wed Oct  5 16:01:12 CST 2016.</span><br><span class="line">Universal Time is now:  Wed Oct  5 08:01:12 UTC 2016.</span><br></pre></td></tr></table></figure>

<p>å†æ¬¡æŸ¥çœ‹æ—¶é—´ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tiger@MyServer:~$ date</span><br><span class="line">Wed Oct  5 16:02:13 CST 2016</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://my.oschina.net/zhangrf/blog/224758" target="_blank" rel="noopener">Ubuntu 14.04 ä¿®æ”¹æ—¶åŒº - MyPyçš„ä¸ªäººé¡µé¢ - å¼€æºä¸­å›½ç¤¾åŒº</a></li>
</ul>
<hr>
<h4 id="Linux-ä¸‹åˆ‡æ¢ç”¨æˆ·"><a href="#Linux-ä¸‹åˆ‡æ¢ç”¨æˆ·" class="headerlink" title="Linux ä¸‹åˆ‡æ¢ç”¨æˆ·"></a>Linux ä¸‹åˆ‡æ¢ç”¨æˆ·</h4><p><code>su</code> å’Œ <code>su -</code> çš„åŒºåˆ«</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">su abc</span><br><span class="line">su - abc</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼Œ<code>su -</code> åœ¨ <code>-</code> å’Œè´¦æˆ·ååé¢è¿˜æœ‰ä¸€ä¸ªç©ºæ ¼åˆ†éš”ã€‚</p>
<ul>
<li><a href="http://www.ha97.com/4001.html" target="_blank" rel="noopener">ï¼ˆæ€»ç»“ï¼‰Linuxä¸‹suä¸su -å‘½ä»¤çš„æœ¬è´¨åŒºåˆ«</a></li>
<li><a href="http://unix.stackexchange.com/questions/7013/why-do-we-use-su-and-not-just-su" target="_blank" rel="noopener">linux - Why do we use su - and not just su? - Unix &amp; Linux Stack Exchange</a></li>
</ul>
<hr>
<h4 id="Ubuntuä¸‹SSHèƒ½è¿æ¥è€ŒSFTPä¸èƒ½è¿æ¥"><a href="#Ubuntuä¸‹SSHèƒ½è¿æ¥è€ŒSFTPä¸èƒ½è¿æ¥" class="headerlink" title="Ubuntuä¸‹SSHèƒ½è¿æ¥è€ŒSFTPä¸èƒ½è¿æ¥"></a>Ubuntuä¸‹SSHèƒ½è¿æ¥è€ŒSFTPä¸èƒ½è¿æ¥</h4><p><a href="http://m.2cto.com/os/201211/169172.html" target="_blank" rel="noopener">sshèƒ½å¤Ÿè¿æ¥è€Œsftpä¸èƒ½è¿æ¥çš„è§£å†³æ–¹æ³•</a></p>
<p>ç”¨FileZillaä¸€ç›´ä¸èƒ½ç™»å½•è¿œç¨‹çš„æœåŠ¡å™¨ï¼Œsshçš„ç™»å½•å°±OK</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># locate sftp-server</span><br></pre></td></tr></table></figure>

<p>locateä¸€ä¸‹ftp-serverï¼Œå‘ç°ç›®å½•è·Ÿé…ç½®æ–‡ä»¶ä¸­çš„ä¸åŒ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># vi &#x2F;etc&#x2F;ssh&#x2F;sshd_config</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Allow client to pass locale environment variables</span><br><span class="line">AcceptEnv LANG LC_*</span><br><span class="line"></span><br><span class="line">#Subsystem sftp &#x2F;usr&#x2F;lib&#x2F;openssh&#x2F;sftp-server</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ locate æŸ¥çœ‹åˆ°çš„åˆ—è¡¨ï¼Œæˆ‘æ›´æ”¹æˆäº†å¦‚ä¸‹çš„è®¾ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Allow client to pass locale environment variables</span><br><span class="line">AcceptEnv LANG LC_*</span><br><span class="line"></span><br><span class="line">Subsystem sftp &#x2F;usr&#x2F;lib&#x2F;sftp-server</span><br></pre></td></tr></table></figure>

<p>å³æŠŠå®ƒé»˜è®¤æˆç¬¬äºŒä¸ªæ”¹æˆäº†åˆ—è¡¨ä¸­çš„ç¬¬ä¸€é¡¹ã€‚</p>
<p>ç„¶åé‡å¯sshæœåŠ¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo service ssh restart</span><br></pre></td></tr></table></figure>

<p>å†æ¬¡å°è¯•ï¼Œåˆ™èƒ½å¤Ÿæ­£å¸¸è¿æ¥äº†ã€‚</p>
<hr>
]]></content>
      <tags>
        <tag>Ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker+Flaskæ­å»ºå¾®ä¿¡å…¬ä¼—å¹³å°ä¹‹ä¸€</title>
    <url>/2016/09/24/docker-and-flask-build-wechat-public-platform-first/</url>
    <content><![CDATA[<p>ä¹‹å‰ç”³è¯·çš„ä¸ªäººå…¬ä¼—å·åœ¨ç”³è¯·é€šè¿‡åç”¨.NETå¼€å‘äº†ä¸€ç‰ˆæ¯”è¾ƒç®€å•çš„äº¤äº’é€»è¾‘åŠŸèƒ½ï¼Œæœ€è¿‘åœ¨çŸ¥ä¹ä¸­çœ‹åˆ°æœ‰å…³Pythonå¼€å‘å¾®ä¿¡å…¬ä¼—å·çš„æ–‡ç« ï¼Œæ­£å¥½å‰å‡ å¤©ä¹Ÿåœ¨å­¦ä¹ DockeræŠ€æœ¯ï¼Œæ‰€ä»¥å°±æƒ³ç ”ç©¶ä¸€ä¸‹åœ¨Dockerä¸‹å¦‚ä½•ç”¨Flaské…ç½®å¾®ä¿¡å…¬ä¼—å¹³å°çš„å¼€å‘ç¯å¢ƒã€‚</p>
<p>å› ä¸ºæˆ‘çš„å…¬ä¼—å·æ˜¯ <strong>ä¸ªäººå·ä¸”æ˜¯æœªè®¤è¯</strong> çš„ï¼Œå¯è·å¾—çš„æƒé™æœ‰é™ï¼Œæ‰€ä»¥ç›®å‰æˆ‘åªåšäº†æ¶ˆæ¯çš„å‘é€å’Œæ¥æ”¶ç›¸å…³çš„åŠŸèƒ½ï¼Œæ›´å¤šåŠŸèƒ½åæœŸå†è€ƒè™‘åŠ å…¥ã€‚</p>
<p>ä¸‹é¢æµ‹è¯•Demoæ˜¯ç”³è¯·çš„å¾®ä¿¡å…¬ä¼—å¹³å°çš„æµ‹è¯•å·æ¥å¼€å‘çš„ã€‚</p>
<h4 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h4><ul>
<li><strong>ä¸»ç³»ç»Ÿ</strong> ä¸º <code>Win10</code></li>
<li><strong>å®¿ä¸»æœº</strong> ä¸º åœ¨ <code>Win10</code> ä¸‹çš„ <code>Hyper-V</code> è™šæ‹Ÿæœºä¸­å®‰è£…çš„ <code>Ubuntu 14.04 LTS</code> ç³»ç»Ÿ å®¿ä¸»æœºipåœ°å€ä¸º <code>http://192.168.137.219/</code></li>
<li><strong>æµ‹è¯•Dockerå®¹å™¨</strong> ä¸ºåœ¨ <code>å®¿ä¸»æœº</code> ä¸‹å®‰è£…çš„ <code>Ubuntu 14.04 LTS</code> ç³»ç»Ÿ </li>
<li>ä½¿ç”¨çš„è½¯ä»¶æ˜¯ <code>Sublime Text</code> å’Œ <code>Xshell 4</code> ã€<code>FileZilla</code></li>
<li>Pythonç¯å¢ƒä¸º <code>2.7.12</code></li>
</ul>
<p>è¿™é‡Œæä¸€ç‚¹ï¼Œå¦‚æœä½ ä¸çŸ¥å¦‚ä½•é…ç½®Dockerç¯å¢ƒï¼Œæˆ–ä»æœªæ¥è§¦è¿‡DockeræŠ€æœ¯ï¼Œåœ¨æˆ‘ä¹‹åçš„æ–‡ç« ä¸­æˆ‘ä¼šæœ‰è¯¦ç»†çš„ä»‹ç»ï¼Œæ¬¢è¿å…³æ³¨ã€‚</p>
<hr>
<h4 id="å®‰è£…æµç¨‹"><a href="#å®‰è£…æµç¨‹" class="headerlink" title="å®‰è£…æµç¨‹"></a>å®‰è£…æµç¨‹</h4><h5 id="é…ç½®-Flask-è¿è¡Œç¯å¢ƒ"><a href="#é…ç½®-Flask-è¿è¡Œç¯å¢ƒ" class="headerlink" title="é…ç½® Flask è¿è¡Œç¯å¢ƒ"></a>é…ç½® Flask è¿è¡Œç¯å¢ƒ</h5><p>åœ¨ å®¿ä¸»æœºä¸­ï¼Œå½“å‰çš„è´¦æˆ·ä¸º <code>tiger</code>ã€‚åœ¨ä¸»ç›®å½•ä¸‹åˆ›å»º <code>xweixin</code> ç›®å½•ï¼Œæ·»åŠ çš„ <code>Flask</code> ç¨‹åºä¸º <code>app.py</code> æ–‡ä»¶ã€‚ </p>
<p>å¯åŠ¨ä¸€ä¸ªå‰å°è¿è¡Œçš„å®¹å™¨ï¼Œå°†å®¿ä¸»æœºç›®å½• <code>xweixin</code> æ˜ å°„åˆ°å®¹å™¨çš„ <code>weixin</code> ç›®å½•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">docker run -it --name weixin01 -p 80:80 -v &#x2F;home&#x2F;tiger&#x2F;xweixin:&#x2F;weixin ubuntu &#x2F;bin&#x2F;bash</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹å®¹å™¨ä¸­ä¸»ç›®å½•ä¸‹æ˜¯å¦å­˜åœ¨ <code>weixin</code> ç›®å½•ï¼ŒåŠè¯¥ç›®å½•ä¸‹æ˜¯å¦å­˜åœ¨ <code>app.py</code> æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ls </span><br><span class="line"> ****** weixin</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong> ä¸‹é¢çš„æ“ä½œä¸»è¦åœ¨ <code>æµ‹è¯•Dockerå®¹å™¨</code> ä¸­è¿›è¡Œï¼Œå› ä¸ºåœ¨Dockerä¸­é»˜è®¤æ˜¯ <code>root</code> è´¦æˆ·ï¼Œæ‰€ä»¥ä¸‹é¢çš„å‘½ä»¤å‰é¢éƒ½æ²¡æœ‰åŠ  <code>sudo</code> ã€‚</p>
<p>è®¾ç½®å®‰è£…æºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ echo &quot;deb http:&#x2F;&#x2F;archive.ubuntu.com&#x2F;ubuntu&#x2F; precise universe&quot; &gt;&gt; &#x2F;etc&#x2F;apt&#x2F;sources.list</span><br></pre></td></tr></table></figure>

<p>æ›´æ–°ï¼Œå®‰è£…python ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ apt-get update</span><br><span class="line"></span><br><span class="line">$ apt-get install python -y  # é»˜è®¤å®‰è£…çš„æ˜¯ 2.7.12</span><br></pre></td></tr></table></figure>

<p>å®‰è£… virtualenv : (ç”±äºæ˜¯åœ¨å®¹å™¨å†…æ“ä½œï¼Œåªç”¨æ¥æ­å»ºFlaskçš„è¿è¡Œç¯å¢ƒï¼Œæ‰€ä»¥å¯ä»¥ä¸å®‰è£…è™šæ‹Ÿç¯å¢ƒ)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ apt-get install python-virtualenv</span><br></pre></td></tr></table></figure>

<p>å®‰è£… pip ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ apt-get install python-pip -y</span><br></pre></td></tr></table></figure>

<p>å®‰è£… flask:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ pip install Flask</span><br></pre></td></tr></table></figure>

<p>å®‰è£… vim ï¼š(ä¸»è¦ç”¨äºæŸ¥çœ‹)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ apt-get install vim</span><br></pre></td></tr></table></figure>

<p>æ€»ç»“ä¸Šé¢çš„æ“ä½œï¼šä» <code>Win10</code> ç³»ç»Ÿåˆ›å»º flask ç¨‹åº <code>app.py</code> åï¼Œé€šè¿‡ SFTP ä¼ è¾“åˆ° å®¿ä¸»è®¡ç®—æœºçš„ <code>/home/tiger/xweixin</code> ç›®å½•ä¸‹ï¼Œè¯¥ç›®å½•ç›´æ¥æ˜ å°„åˆ°äº†å®¹å™¨çš„ <code>/weixin</code> ç›®å½•ã€‚</p>
<p>app.py å†…å®¹ ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">from flask import Flask</span><br><span class="line">app &#x3D; Flask(__name__)</span><br><span class="line"></span><br><span class="line">@app.route(&#39;&#x2F;&#39;)</span><br><span class="line">def hello_world():</span><br><span class="line">    return &#39;Hello World!&#39;</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">    app.run(host&#x3D;&#39;0.0.0.0&#39;,port&#x3D;80,debug&#x3D;True)</span><br></pre></td></tr></table></figure>

<p>åœ¨å®¹å™¨ä¸­æ‰§è¡Œ <code>python app.py</code> è¿è¡Œã€‚</p>
<p>åœ¨ <code>ä¸»ç³»ç»ŸWin10</code> ä¸‹è®¿é—® å®¿ä¸»æœº çš„ipåœ°å€ <code>http://192.168.137.219/</code>ï¼Œçœ‹åˆ°è¾“å‡º <code>Hello World!</code> è¯´æ˜Flaské…ç½®æˆåŠŸã€‚</p>
<hr>
<h5 id="ä½¿ç”¨-ngrok-å®ç°å¤–ç½‘è®¿é—®"><a href="#ä½¿ç”¨-ngrok-å®ç°å¤–ç½‘è®¿é—®" class="headerlink" title="ä½¿ç”¨ ngrok å®ç°å¤–ç½‘è®¿é—®"></a>ä½¿ç”¨ ngrok å®ç°å¤–ç½‘è®¿é—®</h5><p><code>ngrok.exe</code> ç¨‹åºå¯ä»¥ä» <a href="https://ngrok.com/download" target="_blank" rel="noopener">ngrok - download</a> ä¸‹è½½ã€‚</p>
<p>åœ¨ <code>ä¸»ç³»ç»ŸWin10</code> ä¸‹ä½¿ç”¨ <code>CMD</code> å‘½ä»¤è¿è¡Œ <code>ngrok</code> å·¥å…·ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; ngrok http 192.168.137.219:80</span><br></pre></td></tr></table></figure>

<p>åé¢çš„ ipåœ°å€ä¸è¦å¸¦ <code>http://</code> , ç«¯å£å·ä¸è¦ä¸¢ã€‚</p>
<p>å¯ä»¥çœ‹åˆ° ngrok ç”Ÿæˆäº†ä¸€ä¸ª å¤–ç½‘å¯ä»¥è®¿é—®åˆ°çš„åœ°å€ <code>http://c62f4a09.ngrok.io/</code> ,åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼Œçœ‹åˆ°è¾“å‡º <code>Hello World!</code> è¯´æ˜å¯ä»¥å®ç°å¤–ç½‘è®¿é—®äº†ã€‚</p>
<hr>
<h4 id="æ­å»ºå¾®ä¿¡å…¬ä¼—å¹³å°å¤„ç†é€»è¾‘"><a href="#æ­å»ºå¾®ä¿¡å…¬ä¼—å¹³å°å¤„ç†é€»è¾‘" class="headerlink" title="æ­å»ºå¾®ä¿¡å…¬ä¼—å¹³å°å¤„ç†é€»è¾‘"></a>æ­å»ºå¾®ä¿¡å…¬ä¼—å¹³å°å¤„ç†é€»è¾‘</h4><h5 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h5><p>ç”±äº <code>ngrok</code> æ¯æ¬¡é‡æ–°å¯åŠ¨å°±ä¼šé‡æ–°åˆ†é…ä¸€ä¸ªæ–°çš„åŸŸååœ°å€ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨å¯åŠ¨ngrokä¹‹åï¼Œå°±ä¸éœ€è¦å†å»ç®¡å®ƒäº†ã€‚Flaskä¸­å¯ç”¨äº† <code>debug=True</code> çš„é€‰é¡¹åï¼Œæ¯æ¬¡æ›´æ–°æ–‡ä»¶ <code>app.py</code> éƒ½ä¼šè‡ªåŠ¨é‡æ–°åŠ è½½(é™¤éç¨‹åºæŠ¥é”™å¯¼è‡´å¼‚å¸¸é€€å‡º)ï¼Œæ‰€ä»¥è¿™æ ·ä¸‹æ¥æˆ‘ä»¬åªéœ€è¦è´Ÿè´£ä¿®æ”¹ <code>app.py</code> æ”¹å®Œäº†ä¸Šä¼ åˆ°å®¿ä¸»æœºï¼Œç›´æ¥åˆ·æ–°å³å¯ï¼Œä¸éœ€è¦å†è¿›è¡Œé‡å¯ngrokï¼Œé‡æ–°æ‰§è¡Œ <code>python app.py</code>å¯åŠ¨ç¨‹åºç­‰æ“ä½œï¼Œéå¸¸æ–¹ä¾¿ã€‚</p>
<p>ä¿®æ”¹ <code>app.py</code> çš„æ¡†æ¶ï¼Œå‡è®¾ç½‘ç«™çš„äºŒçº§ç›®å½• <code>/weixin</code> æ¥å®ç°æˆ‘ä»¬çš„å¾®ä¿¡å…¬ä¼—å¹³å°çš„æ¥å£æ“ä½œã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># coding:utf-8</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">å¾®ä¿¡å…¬ä¼—å¹³å°</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">from flask import Flask</span><br><span class="line">app &#x3D; Flask(__name__)</span><br><span class="line"></span><br><span class="line">@app.route(&#39;&#x2F;&#39;)</span><br><span class="line">def hello_world():</span><br><span class="line">	return &#39;Hello World!&#39;</span><br><span class="line"></span><br><span class="line"># å¾®ä¿¡å…¬ä¼—å¹³å°æ¥å£</span><br><span class="line">@app.route(&#39;&#x2F;weixin&#39;)</span><br><span class="line">def weixin_interface():</span><br><span class="line">	return &quot;è¿™æ˜¯å¾®ä¿¡æ¥å£&quot;</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">	app.run(host&#x3D;&#39;0.0.0.0&#39;,port&#x3D;80,debug&#x3D;True)</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ <code>ngrok</code> åˆ†é…çš„åŸŸåä¸º <code>http://d0dd1f96.ngrok.io/weixin</code> ,è¯¥åŸŸåç”¨äºä¹‹åå¡«å…¥ å¾®ä¿¡å…¬ä¼—å¹³å° çš„æ¥å£é…ç½®çš„URLå¤„(æ­¤æ—¶å¦‚æœå°è¯•æ·»åŠ ï¼Œåœ¨å¾®ä¿¡å…¬ä¼—å¹³å°é¡µé¢ä¸€ç›´ä¼šæŠ¥é…ç½®é”™è¯¯çš„é—®é¢˜ï¼Œå› ä¸ºåœ¨ç‚¹å‡»ç¡®å®šåå¾®ä¿¡ä¼šå‘æˆ‘ä»¬çš„æœåŠ¡å™¨å‘é€éªŒè¯æ¶ˆæ¯ï¼Œåªæœ‰éªŒè¯é€šè¿‡åæ‰èƒ½ä¿å­˜)ã€‚</p>
<hr>
<h5 id="å¤„ç†é€»è¾‘"><a href="#å¤„ç†é€»è¾‘" class="headerlink" title="å¤„ç†é€»è¾‘"></a>å¤„ç†é€»è¾‘</h5><h6 id="åœ¨-Flask-ä¸­é€šè¿‡ä¸åŒçš„-method-å¤„ç†å¾®ä¿¡çš„éªŒè¯è¯·æ±‚å’Œäº¤äº’è¯·æ±‚"><a href="#åœ¨-Flask-ä¸­é€šè¿‡ä¸åŒçš„-method-å¤„ç†å¾®ä¿¡çš„éªŒè¯è¯·æ±‚å’Œäº¤äº’è¯·æ±‚" class="headerlink" title="åœ¨ Flask ä¸­é€šè¿‡ä¸åŒçš„ method å¤„ç†å¾®ä¿¡çš„éªŒè¯è¯·æ±‚å’Œäº¤äº’è¯·æ±‚"></a>åœ¨ Flask ä¸­é€šè¿‡ä¸åŒçš„ <code>method</code> å¤„ç†å¾®ä¿¡çš„éªŒè¯è¯·æ±‚å’Œäº¤äº’è¯·æ±‚</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># å¾®ä¿¡å…¬ä¼—å¹³å°æ¥å£</span><br><span class="line">@app.route(&#39;&#x2F;weixin&#39;,methods&#x3D;[&#39;GET&#39;,&#39;POST&#39;])</span><br><span class="line">def weixin_interface():</span><br><span class="line">	# return &quot;è¿™æ˜¯å¾®ä¿¡æ¥å£&quot;</span><br><span class="line">	if request.method&#x3D;&#x3D;&#39;GET&#39;:</span><br><span class="line">		# å¤„ç†éªŒè¯</span><br><span class="line">	else:</span><br><span class="line">		# å¤„ç†é€»è¾‘äº¤äº’</span><br></pre></td></tr></table></figure>

<h6 id="è®¾ç½®å¾®ä¿¡éªŒè¯è¯·æ±‚-éªŒè¯æ¶ˆæ¯çš„ç¡®æ¥è‡ªå¾®ä¿¡æœåŠ¡å™¨"><a href="#è®¾ç½®å¾®ä¿¡éªŒè¯è¯·æ±‚-éªŒè¯æ¶ˆæ¯çš„ç¡®æ¥è‡ªå¾®ä¿¡æœåŠ¡å™¨" class="headerlink" title="è®¾ç½®å¾®ä¿¡éªŒè¯è¯·æ±‚ - éªŒè¯æ¶ˆæ¯çš„ç¡®æ¥è‡ªå¾®ä¿¡æœåŠ¡å™¨"></a>è®¾ç½®å¾®ä¿¡éªŒè¯è¯·æ±‚ - éªŒè¯æ¶ˆæ¯çš„ç¡®æ¥è‡ªå¾®ä¿¡æœåŠ¡å™¨</h6><p>ä¿®æ”¹ <code>weixin_interface</code> ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">....</span><br><span class="line">çœç•¥</span><br><span class="line">....</span><br><span class="line"></span><br><span class="line">from flask import Flask</span><br><span class="line">from flask import request</span><br><span class="line">import hashlib</span><br><span class="line">import time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># é…ç½®å‚æ•°</span><br><span class="line">X_TOKEN&#x3D;&#39;leafney&#39; #è¿™é‡Œæ”¹å†™ä½ åœ¨å¾®ä¿¡å…¬ä¼—å¹³å°é‡Œè¾“å…¥çš„token</span><br><span class="line"></span><br><span class="line">....</span><br><span class="line">çœç•¥</span><br><span class="line">....</span><br><span class="line"></span><br><span class="line"># å¾®ä¿¡å…¬ä¼—å¹³å°æ¥å£</span><br><span class="line">@app.route(&#39;&#x2F;weixin&#39;,methods&#x3D;[&#39;GET&#39;,&#39;POST&#39;])</span><br><span class="line">def weixin_interface():</span><br><span class="line">	# return &quot;è¿™æ˜¯å¾®ä¿¡æ¥å£&quot;</span><br><span class="line">	if request.method&#x3D;&#x3D;&#39;GET&#39;:</span><br><span class="line">		# å¤„ç†éªŒè¯</span><br><span class="line"></span><br><span class="line">		# æ¥æ”¶å‚æ•°</span><br><span class="line">		wx_signature&#x3D;request.args.get(&#39;signature&#39;)</span><br><span class="line">		wx_timestamp&#x3D;request.args.get(&#39;timestamp&#39;)</span><br><span class="line">		wx_nonce&#x3D;request.args.get(&#39;nonce&#39;)</span><br><span class="line">		wx_echostr&#x3D;request.args.get(&#39;echostr&#39;)</span><br><span class="line">		# è‡ªå·±çš„token</span><br><span class="line">		wx_token&#x3D;X_TOKEN</span><br><span class="line">		# å­—å…¸åºæ’åº</span><br><span class="line">		w_list&#x3D;[wx_token,wx_timestamp,wx_nonce]</span><br><span class="line">		w_list.sort()</span><br><span class="line">		# sha1åŠ å¯†ç®—æ³•</span><br><span class="line">		w_sha1&#x3D;hashlib.sha1()</span><br><span class="line">		map(w_sha1.update,w_list)</span><br><span class="line">		w_hashcode&#x3D;w_sha1.hexdigest()</span><br><span class="line"></span><br><span class="line">		# å¦‚æœæ˜¯æ¥è‡ªå¾®ä¿¡çš„è¯·æ±‚ï¼Œåˆ™è¿”å›echostr</span><br><span class="line">		if w_hashcode &#x3D;&#x3D; wx_signature:</span><br><span class="line">			return wx_echostr</span><br><span class="line"></span><br><span class="line">	else:</span><br><span class="line">		# å¤„ç†é€»è¾‘äº¤äº’</span><br><span class="line">		pass</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºæˆ‘ç”¨çš„æ˜¯å¾®ä¿¡çš„æµ‹è¯•å·æ¥è¿›è¡Œé…ç½®ï¼Œå°†ç¨‹åºä¸Šä¼ å¹¶å¯åŠ¨ä¹‹åï¼Œåœ¨ â€œæµ‹è¯•å·é…ç½®â€ é¡µé¢ä¸­çš„ â€œæ¥å£é…ç½®ä¿¡æ¯â€ å¤„ å¡«å…¥ <code>URL</code> å’Œ <code>Token</code> ç„¶åç‚¹å‡» â€œç¡®å®šâ€ ã€‚</p>
<p>å¦‚æœç¨‹åºæ¥å…¥æˆåŠŸï¼Œä¼šæç¤º â€œé…ç½®æˆåŠŸâ€ ï¼Œå¦åˆ™å¯ä»¥åœ¨ä¹‹å‰é…ç½®çš„ <code>æµ‹è¯•Dockerå®¹å™¨</code> ä¸‹æŸ¥çœ‹è°ƒè¯•ä¿¡æ¯ï¼Œæ¥è¿›è¡Œç›¸åº”çš„ä¿®æ”¹ã€‚</p>
<hr>
<h6 id="å®ç°ä¸šåŠ¡é€»è¾‘"><a href="#å®ç°ä¸šåŠ¡é€»è¾‘" class="headerlink" title="å®ç°ä¸šåŠ¡é€»è¾‘"></a>å®ç°ä¸šåŠ¡é€»è¾‘</h6><p>â€‹å½“æ™®é€šå¾®ä¿¡ç”¨æˆ·å‘å…¬ä¼—è´¦å·å‘æ¶ˆæ¯æ—¶ï¼Œå¾®ä¿¡æœåŠ¡å™¨å°†POSTæ¶ˆæ¯çš„XMLæ•°æ®åŒ…åˆ°å¼€å‘è€…å¡«å†™çš„URLä¸Šã€‚</p>
<p>æ¥æ”¶æ¶ˆæ¯å†…å®¹ï¼Œåœ¨ Flask ä¸­å¯ä»¥ä½¿ç”¨ <code>request.data</code> æ¥è·å–ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">xml_data&#x3D;request.data</span><br></pre></td></tr></table></figure>

<p>æ ¹æ®å¾®ä¿¡å…¬ä¼—å¹³å°å¼€å‘æ–‡æ¡£çš„è¯´æ˜ <a href="http://mp.weixin.qq.com/wiki/10/79502792eef98d6e0c6e1739da387346.html" target="_blank" rel="noopener">æ¥æ”¶æ™®é€šæ¶ˆæ¯ - å¾®ä¿¡å…¬ä¼—å¹³å°å¼€å‘è€…æ–‡æ¡£</a> æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>MsgType</code> å‚æ•°æ¥åŒºåˆ†æ¥æ”¶çš„æ¶ˆæ¯çš„ç±»å‹ï¼Œ</p>
<p>ä¾‹å¦‚æ–‡æœ¬æ¶ˆæ¯çš„æ•°æ®åŒ…å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;xml&gt;</span><br><span class="line">&lt;ToUserName&gt;&lt;![CDATA[toUser]]&gt;&lt;&#x2F;ToUserName&gt;</span><br><span class="line">&lt;FromUserName&gt;&lt;![CDATA[fromUser]]&gt;&lt;&#x2F;FromUserName&gt; </span><br><span class="line">&lt;CreateTime&gt;1348831860&lt;&#x2F;CreateTime&gt;</span><br><span class="line">&lt;MsgType&gt;&lt;![CDATA[text]]&gt;&lt;&#x2F;MsgType&gt;</span><br><span class="line">&lt;Content&gt;&lt;![CDATA[this is a test]]&gt;&lt;&#x2F;Content&gt;</span><br><span class="line">&lt;MsgId&gt;1234567890123456&lt;&#x2F;MsgId&gt;</span><br><span class="line">&lt;&#x2F;xml&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>ToUserName è¡¨ç¤ºæ¶ˆæ¯çš„æ¥æ”¶è€…</li>
<li>FromUserName è¡¨ç¤ºæ¶ˆæ¯çš„å‘é€è€…</li>
<li>CreateTime è¡¨ç¤ºæ¶ˆæ¯åˆ›å»ºçš„æ—¶é—´æˆ³</li>
<li>MsgType è¡¨ç¤ºæ¶ˆæ¯çš„ç±»å‹</li>
<li>Content è¡¨ç¤ºæ¶ˆæ¯çš„å†…å®¹</li>
<li>MsgId è¡¨ç¤ºæ¶ˆæ¯çš„idï¼Œå¯ä»¥ç”¨æ¥å¯¹æ¶ˆæ¯æ’é‡</li>
</ul>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>lxml</code> æ¥è§£æxmlæ–‡æ¡£ï¼Œè·å–ç›¸åº”çš„å‚æ•°å€¼ã€‚</p>
<p>æ·»åŠ å¼•ç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import lxml</span><br><span class="line">from lxml import etree</span><br></pre></td></tr></table></figure>

<p>è§£æå¾—åˆ°æ‰€éœ€çš„å‚æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wx_xml&#x3D;etree.fromstring(xml_data) # è¿›è¡Œxmlè§£æ</span><br><span class="line">print(etree.tostring(wx_xml,pretty_print&#x3D;True))  # è·å–è¯·æ±‚å†…å®¹</span><br><span class="line"></span><br><span class="line"># è·å–è¯·æ±‚å‚æ•°</span><br><span class="line">wx_msgType&#x3D;wx_xml.find(&#39;MsgType&#39;).text</span><br><span class="line">wx_fromUser&#x3D;wx_xml.find(&#39;FromUserName&#39;).text  # å¾®ä¿¡å…¬ä¼—å·</span><br><span class="line">wx_toUser&#x3D;wx_xml.find(&#39;ToUserName&#39;).text # ç”¨æˆ·</span><br></pre></td></tr></table></figure>

<p>åœ¨å‘å¾®ä¿¡æœåŠ¡å™¨å›å¤æ¶ˆæ¯æ—¶ï¼Œä¹Ÿè¦æŒ‰ç…§å¾®ä¿¡çš„è§„å®šæ¥è¿”å›ç‰¹å®šXMLç»“æ„çš„æ•°æ®ï¼Œè¯¦ç»†å¯è§ <a href="http://mp.weixin.qq.com/wiki/14/89b871b5466b19b3efa4ada8e577d45e.html" target="_blank" rel="noopener">è¢«åŠ¨å›å¤ç”¨æˆ·æ¶ˆæ¯ - å¾®ä¿¡å…¬ä¼—å¹³å°å¼€å‘è€…æ–‡æ¡£</a> ï¼Œæ¯”å¦‚å›å¤æ–‡æœ¬æ¶ˆæ¯æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;xml&gt;</span><br><span class="line">&lt;ToUserName&gt;&lt;![CDATA[toUser]]&gt;&lt;&#x2F;ToUserName&gt;</span><br><span class="line">&lt;FromUserName&gt;&lt;![CDATA[fromUser]]&gt;&lt;&#x2F;FromUserName&gt;</span><br><span class="line">&lt;CreateTime&gt;12345678&lt;&#x2F;CreateTime&gt;</span><br><span class="line">&lt;MsgType&gt;&lt;![CDATA[text]]&gt;&lt;&#x2F;MsgType&gt;</span><br><span class="line">&lt;Content&gt;&lt;![CDATA[ä½ å¥½]]&gt;&lt;&#x2F;Content&gt;</span><br><span class="line">&lt;&#x2F;xml&gt;</span><br></pre></td></tr></table></figure>

<p>åœ¨å‘å¾®ä¿¡ç«¯å›å¤æ¶ˆæ¯æ—¶ï¼Œ<code>ToUserName</code> å’Œ <code>FromUserName</code> æˆ‘ä»¬å¯ä»¥ä»æ¥æ”¶æ—¶çš„æ¶ˆæ¯å†…å®¹ä¸­æ¥å¾—åˆ°ï¼Œåªéœ€è¦æŠŠæ¥æ”¶è€…å’Œå‘é€è€…çš„è§’è‰²äº’æ¢ä¸€ä¸‹å³å¯ï¼Œ<code>Content</code> ä¸ºæˆ‘ä»¬è¦å›å¤çš„å†…å®¹ã€‚</p>
<p>è¯¦ç»†çš„å¤„ç†ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æ ¹æ®è¯·æ±‚ç±»å‹æ¥è¿”å›ä¸åŒçš„å¤„ç†ç»“æœ</span><br><span class="line">if wx_msgType &#x3D;&#x3D; &#39;text&#39;:</span><br><span class="line">	# æ–‡æœ¬æ¶ˆæ¯</span><br><span class="line"></span><br><span class="line">	# è·å–æ–‡æœ¬æ¶ˆæ¯å†…å®¹</span><br><span class="line">	wx_content&#x3D;wx_xml.find(&#39;Content&#39;).text</span><br><span class="line">	content&#x3D;wx_content.encode(&#39;utf-8&#39;)</span><br><span class="line"></span><br><span class="line">	print(content)</span><br><span class="line">	if content &#x3D;&#x3D; &#39;å¤©æ°”&#39;:</span><br><span class="line">		# return &#39;åŒ—äº¬å¤©æ°”æŒºå¥½çš„ï¼&#39;</span><br><span class="line">		# æ³¨æ„å›å¤æ¶ˆæ¯æ—¶ï¼Œæ¥æ”¶è€…å’Œå‘é€è€…çš„ä½ç½®è¦äº’æ¢ä¸€ä¸‹</span><br><span class="line">		return TextReply(wx_fromUser,wx_toUser,u&#39;åŒ—äº¬å¤©æ°”æŒºå¥½çš„ï¼&#39;).render()</span><br><span class="line"></span><br><span class="line">	else:</span><br><span class="line">		return TextReply(wx_fromUser,wx_toUser,wx_content).render()</span><br><span class="line"></span><br><span class="line">elif wx_msgType &#x3D;&#x3D; &#39;image&#39;:</span><br><span class="line">	return &#39;success&#39;</span><br><span class="line">else:</span><br><span class="line">	return &#39;success&#39;</span><br></pre></td></tr></table></figure>

<p>æ¶ˆæ¯æ¨¡æ¿ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class TextReply(object):</span><br><span class="line">	&quot;&quot;&quot;å›å¤æ–‡æœ¬æ¶ˆæ¯&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">	TEMPLATE&#x3D;u&quot;&quot;&quot;</span><br><span class="line">	&lt;xml&gt;</span><br><span class="line">    &lt;ToUserName&gt;&lt;![CDATA[&#123;target&#125;]]&gt;&lt;&#x2F;ToUserName&gt;</span><br><span class="line">    &lt;FromUserName&gt;&lt;![CDATA[&#123;source&#125;]]&gt;&lt;&#x2F;FromUserName&gt;</span><br><span class="line">    &lt;CreateTime&gt;&#123;time&#125;&lt;&#x2F;CreateTime&gt;</span><br><span class="line">    &lt;MsgType&gt;&lt;![CDATA[text]]&gt;&lt;&#x2F;MsgType&gt;</span><br><span class="line">    &lt;Content&gt;&lt;![CDATA[&#123;content&#125;]]&gt;&lt;&#x2F;Content&gt;</span><br><span class="line">    &lt;&#x2F;xml&gt;</span><br><span class="line">	&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">	def __init__(self, target,source,content):</span><br><span class="line">		self.target&#x3D;target</span><br><span class="line">		self.source&#x3D;source</span><br><span class="line">		self.content&#x3D;content</span><br><span class="line">		self.time&#x3D;int(time.time())</span><br><span class="line"></span><br><span class="line">	def render(self):</span><br><span class="line">		return TextReply.TEMPLATE.format(target&#x3D;self.target,source&#x3D;self.source,time&#x3D;self.time,content&#x3D;self.content)</span><br></pre></td></tr></table></figure>

<p>è‡³æ­¤ï¼Œæ¥æ”¶å›å¤æ–‡æœ¬æ¶ˆæ¯çš„åŠŸèƒ½æˆ‘ä»¬å°±åšå¥½äº†ï¼Œä¸Šä¼ åˆ° <code>å®¿ä¸»æœº</code> çš„ <code>xweixin</code> ç›®å½•ä¸‹å³å¯ã€‚</p>
<hr>
<p>åœ¨è¿è¡Œä»£ç ä¹‹å‰ï¼Œå…ˆè¦å®‰è£…ä¾èµ–åŒ… <code>lxml</code> ,ä¸ç„¶ä¼šæŠ¥ <code>No module named lxml</code> çš„é”™è¯¯ã€‚</p>
<h5 id="å®‰è£…-lxml"><a href="#å®‰è£…-lxml" class="headerlink" title="å®‰è£… lxml"></a>å®‰è£… lxml</h5><p>å…ˆå®‰è£… lxml çš„ä¾èµ–åŒ…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ apt-get install python-dev libxml2-dev libxslt1-dev zlib1g-dev</span><br></pre></td></tr></table></figure>

<p>å†å®‰è£… lxml :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ pip install lxml</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="å®Œæ•´çš„ä»£ç å®ç°"><a href="#å®Œæ•´çš„ä»£ç å®ç°" class="headerlink" title="å®Œæ•´çš„ä»£ç å®ç°"></a>å®Œæ•´çš„ä»£ç å®ç°</h5><p>app.py (ä¸»ç¨‹åº)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># coding:utf-8</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">å¾®ä¿¡å…¬ä¼—å¹³å°</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">from flask import Flask</span><br><span class="line">from flask import request</span><br><span class="line">import hashlib</span><br><span class="line">import lxml</span><br><span class="line">from lxml import etree</span><br><span class="line">import time</span><br><span class="line"> </span><br><span class="line"># æ¶ˆæ¯è¿”å›æ¨¡æ¿</span><br><span class="line">from reply import TextReply</span><br><span class="line"></span><br><span class="line"># é…ç½®å‚æ•°</span><br><span class="line">X_TOKEN&#x3D;&#39;leafney&#39; #è¿™é‡Œæ”¹å†™ä½ åœ¨å¾®ä¿¡å…¬ä¼—å¹³å°é‡Œè¾“å…¥çš„token</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app &#x3D; Flask(__name__)</span><br><span class="line"></span><br><span class="line">@app.route(&#39;&#x2F;&#39;)</span><br><span class="line">def hello_world():</span><br><span class="line">	return &#39;Hello World!&#39;</span><br><span class="line"></span><br><span class="line"># å¾®ä¿¡å…¬ä¼—å¹³å°æ¥å£</span><br><span class="line">@app.route(&#39;&#x2F;weixin&#39;,methods&#x3D;[&#39;GET&#39;,&#39;POST&#39;])</span><br><span class="line">def weixin_interface():</span><br><span class="line">	# return &quot;è¿™æ˜¯å¾®ä¿¡æ¥å£&quot;</span><br><span class="line">	if request.method&#x3D;&#x3D;&#39;GET&#39;:</span><br><span class="line">		# å¤„ç†éªŒè¯</span><br><span class="line"></span><br><span class="line">		# æ¥æ”¶å‚æ•°</span><br><span class="line">		wx_signature&#x3D;request.args.get(&#39;signature&#39;)</span><br><span class="line">		wx_timestamp&#x3D;request.args.get(&#39;timestamp&#39;)</span><br><span class="line">		wx_nonce&#x3D;request.args.get(&#39;nonce&#39;)</span><br><span class="line">		wx_echostr&#x3D;request.args.get(&#39;echostr&#39;)</span><br><span class="line">		# è‡ªå·±çš„token</span><br><span class="line">		wx_token&#x3D;X_TOKEN</span><br><span class="line">		# å­—å…¸åºæ’åº</span><br><span class="line">		w_list&#x3D;[wx_token,wx_timestamp,wx_nonce]</span><br><span class="line">		w_list.sort()</span><br><span class="line">		# sha1åŠ å¯†ç®—æ³•</span><br><span class="line">		w_sha1&#x3D;hashlib.sha1()</span><br><span class="line">		map(w_sha1.update,w_list)</span><br><span class="line">		w_hashcode&#x3D;w_sha1.hexdigest()</span><br><span class="line"></span><br><span class="line">		# å¦‚æœæ˜¯æ¥è‡ªå¾®ä¿¡çš„è¯·æ±‚ï¼Œåˆ™è¿”å›echostr</span><br><span class="line">		if w_hashcode &#x3D;&#x3D; wx_signature:</span><br><span class="line">			return wx_echostr</span><br><span class="line"></span><br><span class="line">	else:</span><br><span class="line">		# å¤„ç†é€»è¾‘äº¤äº’</span><br><span class="line"></span><br><span class="line">		xml_data&#x3D;request.data # è·å¾—postæ¥çš„æ•°æ®</span><br><span class="line">		wx_xml&#x3D;etree.fromstring(xml_data) # è¿›è¡Œxmlè§£æ</span><br><span class="line">		# print(etree.tostring(wx_xml,pretty_print&#x3D;True))  # è·å–è¯·æ±‚å†…å®¹</span><br><span class="line">		</span><br><span class="line">		# è·å–è¯·æ±‚å‚æ•°</span><br><span class="line">		wx_msgType&#x3D;wx_xml.find(&#39;MsgType&#39;).text</span><br><span class="line">		wx_fromUser&#x3D;wx_xml.find(&#39;FromUserName&#39;).text  # å¾®ä¿¡å…¬ä¼—å·</span><br><span class="line">		wx_toUser&#x3D;wx_xml.find(&#39;ToUserName&#39;).text # ç”¨æˆ·</span><br><span class="line"></span><br><span class="line">		# æ ¹æ®è¯·æ±‚ç±»å‹æ¥è¿”å›ä¸åŒçš„å¤„ç†ç»“æœ</span><br><span class="line">		if wx_msgType &#x3D;&#x3D; &#39;text&#39;:</span><br><span class="line">			# æ–‡æœ¬æ¶ˆæ¯</span><br><span class="line"></span><br><span class="line">			# è·å–æ–‡æœ¬æ¶ˆæ¯å†…å®¹</span><br><span class="line">			wx_content&#x3D;wx_xml.find(&#39;Content&#39;).text</span><br><span class="line">			content&#x3D;wx_content.encode(&#39;utf-8&#39;)</span><br><span class="line"></span><br><span class="line">			print(content)</span><br><span class="line">			if content &#x3D;&#x3D; &#39;å¤©æ°”&#39;:</span><br><span class="line">				# return &#39;åŒ—äº¬å¤©æ°”æŒºå¥½çš„ï¼&#39;</span><br><span class="line">				# æ³¨æ„å›å¤æ¶ˆæ¯æ—¶ï¼Œæ¥æ”¶è€…å’Œå‘é€è€…çš„ä½ç½®è¦äº’æ¢ä¸€ä¸‹</span><br><span class="line">				return TextReply(wx_fromUser,wx_toUser,u&#39;åŒ—äº¬å¤©æ°”æŒºå¥½çš„ï¼&#39;).render()</span><br><span class="line"></span><br><span class="line">			else:</span><br><span class="line">				return TextReply(wx_fromUser,wx_toUser,wx_content).render()</span><br><span class="line"></span><br><span class="line">		elif wx_msgType &#x3D;&#x3D; &#39;image&#39;:</span><br><span class="line">			return &#39;success&#39;</span><br><span class="line">		else:</span><br><span class="line">			return &#39;success&#39;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">	app.run(host&#x3D;&#39;0.0.0.0&#39;,port&#x3D;80,debug&#x3D;True)</span><br></pre></td></tr></table></figure>

<p>reply.py (æ¶ˆæ¯æ¨¡æ¿)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># coding:utf-8</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">å¾®ä¿¡å…¬ä¼—å¹³å° æ¶ˆæ¯å›å¤æ¨¡æ¿</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">import time</span><br><span class="line"></span><br><span class="line">class TextReply(object):</span><br><span class="line">	&quot;&quot;&quot;å›å¤æ–‡æœ¬æ¶ˆæ¯&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">	TEMPLATE&#x3D;u&quot;&quot;&quot;</span><br><span class="line">	&lt;xml&gt;</span><br><span class="line">    &lt;ToUserName&gt;&lt;![CDATA[&#123;target&#125;]]&gt;&lt;&#x2F;ToUserName&gt;</span><br><span class="line">    &lt;FromUserName&gt;&lt;![CDATA[&#123;source&#125;]]&gt;&lt;&#x2F;FromUserName&gt;</span><br><span class="line">    &lt;CreateTime&gt;&#123;time&#125;&lt;&#x2F;CreateTime&gt;</span><br><span class="line">    &lt;MsgType&gt;&lt;![CDATA[text]]&gt;&lt;&#x2F;MsgType&gt;</span><br><span class="line">    &lt;Content&gt;&lt;![CDATA[&#123;content&#125;]]&gt;&lt;&#x2F;Content&gt;</span><br><span class="line">    &lt;&#x2F;xml&gt;</span><br><span class="line">	&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">	def __init__(self, target,source,content):</span><br><span class="line">		self.target&#x3D;target</span><br><span class="line">		self.source&#x3D;source</span><br><span class="line">		self.content&#x3D;content</span><br><span class="line">		self.time&#x3D;int(time.time())</span><br><span class="line"></span><br><span class="line">	def render(self):</span><br><span class="line">		return TextReply.TEMPLATE.format(target&#x3D;self.target,source&#x3D;self.source,time&#x3D;self.time,content&#x3D;self.content)</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="æœªå®Œå¾…ç»­"><a href="#æœªå®Œå¾…ç»­" class="headerlink" title="æœªå®Œå¾…ç»­"></a>æœªå®Œå¾…ç»­</h4><p>è‡³æ­¤ï¼Œä¸Šé¢æˆ‘ä»¬å°±å®ç°äº†æœ€åŸºæœ¬çš„å¾®ä¿¡å…¬ä¼—å·çš„éªŒè¯å’Œç®€å•æ–‡æœ¬æ¶ˆæ¯çš„æ¥æ”¶å’Œå›å¤åŠŸèƒ½ã€‚</p>
<p>ä¹‹åæˆ‘ä¼šä»‹ç»å¦‚ä½•æ¥å¤„ç†å¤æ‚çš„æ¶ˆæ¯å†…å®¹ï¼Œå›¾ç‰‡ã€è¯­éŸ³ã€å›¾æ–‡ç­‰ç­‰ã€‚ç„¶åé€šè¿‡ä¸€äº›æœ‰è¶£çš„å°åŠŸèƒ½æ¥è®©æˆ‘ä»¬è¿™å³ä½¿æ²¡æœ‰ç‰¹æ®Šæƒé™çš„å…¬ä¼—å·ä¹Ÿèƒ½ç©å¾—æ›´æœ‰æ„æ€ï¼Œæ¬¢è¿å…³æ³¨ï¼</p>
<hr>
<p>PublishTime: 2016-9-24 22:35:16</p>
]]></content>
      <categories>
        <category>å¾®ä¿¡å…¬ä¼—å¹³å°</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>Python</tag>
        <tag>Flask</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨SSHå¯†é’¥è¿æ¥Github</title>
    <url>/2016/09/24/using-ssh-key-connection-github/</url>
    <content><![CDATA[<p>æ¯æ¬¡å‘GitHubç­¾å…¥ä»£ç æ—¶ï¼Œéƒ½è¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œè®©äººæ„Ÿè§‰éå¸¸éº»çƒ¦ã€‚å¦‚æœä½¿ç”¨SSHï¼Œé€šè¿‡å¯†é’¥çš„æ–¹å¼æ¥è¿æ¥GitHubï¼Œæ¯æ¬¡æäº¤ä»£ç å°±å¯ä»¥äº«å—ä¸ç”¨è¾“å…¥å¯†ç çš„å¿«æ„Ÿäº†ï¼</p>
<p>ä¸‹é¢æˆ‘ä¸»è¦ä»‹ç»åœ¨Windowsä¸‹å¦‚ä½•é€šè¿‡ SSHå¯†é’¥ æ¥è¿æ¥GitHubã€‚</p>
<h4 id="å¼•ç”³"><a href="#å¼•ç”³" class="headerlink" title="å¼•ç”³"></a>å¼•ç”³</h4><ul>
<li>Linuxä¸‹ï¼š<a href="/2017/03/03/using-ssh-key-connection-github-in-linux/">Linuxä¸‹ä½¿ç”¨SSHå¯†é’¥è¿æ¥Github</a></li>
<li>Windowsä¸‹ï¼š<a href="/2016/09/24/using-ssh-key-connection-github/">ä½¿ç”¨SSHå¯†é’¥è¿æ¥Github</a></li>
</ul>
<hr>
<h4 id="ç¬¬ä¸€æ­¥-æŸ¥çœ‹æ˜¯å¦å·²ç»å­˜åœ¨SSHç§˜é’¥-keys"><a href="#ç¬¬ä¸€æ­¥-æŸ¥çœ‹æ˜¯å¦å·²ç»å­˜åœ¨SSHç§˜é’¥-keys" class="headerlink" title="ç¬¬ä¸€æ­¥ æŸ¥çœ‹æ˜¯å¦å·²ç»å­˜åœ¨SSHç§˜é’¥(keys)"></a>ç¬¬ä¸€æ­¥ æŸ¥çœ‹æ˜¯å¦å·²ç»å­˜åœ¨SSHç§˜é’¥(keys)</h4><p>å³é”®æ‰“å¼€ <code>Git Bash</code> ,å¹¶è¿è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd ~&#x2F;.ssh</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæç¤ºå¦‚ä¸‹ä¿¡æ¯ä¸º <code>No such file or directory</code>ï¼Œåˆ™è¯´æ˜ä¸å­˜åœ¨SSHç§˜é’¥ï¼Œå¦‚æœå·²ç»å­˜åœ¨ï¼Œå¯ä»¥ç›´æ¥è¿›å…¥<strong>ç¬¬ä¸‰æ­¥</strong>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd ~&#x2F;.ssh</span><br><span class="line">sh.exe&quot;: cd: &#x2F;c&#x2F;Users&#x2F;Xue&#x2F;.ssh: No such file or directory</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ— æç¤ºä¿¡æ¯ï¼Œè¿›å…¥ <code>.ssh</code> ç›®å½•æ‰§è¡Œ <code>ls</code> å‘½ä»¤ï¼Œå¯æŸ¥çœ‹æœ¬æœºå·²ç»å­˜åœ¨çš„SSHçš„å…¬é’¥å’Œç§é’¥ã€‚</p>
<hr>
<h4 id="ç¬¬äºŒæ­¥-åˆ›å»ºæ–°çš„SSHå¯†é’¥-keys"><a href="#ç¬¬äºŒæ­¥-åˆ›å»ºæ–°çš„SSHå¯†é’¥-keys" class="headerlink" title="ç¬¬äºŒæ­¥ åˆ›å»ºæ–°çš„SSHå¯†é’¥(keys)"></a>ç¬¬äºŒæ­¥ åˆ›å»ºæ–°çš„SSHå¯†é’¥(keys)</h4><p>è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd ~   		# ä¿è¯å½“å‰è·¯å¾„åœ¨ &#96;~&#96; ä¸‹ï¼Œå³ &#96;C:&#x2F;Users&#x2F;ç”¨æˆ·å&#96; ç›®å½•</span><br><span class="line">$ ssh-keygen -t rsa -C &quot;your_email@example.com&quot;   # è¿™å°†æ ¹æ®ä½ æä¾›çš„é‚®ç®±åœ°å€ï¼Œåˆ›å»ºä¸€å¯¹å¯†é’¥</span><br></pre></td></tr></table></figure>

<p>æç¤ºä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C &quot;your_email@example.com&quot;</span><br><span class="line">Generating public&#x2F;private rsa key pair.</span><br><span class="line">Enter file in which to save the key (&#x2F;c&#x2F;Users&#x2F;ç”¨æˆ·å&#x2F;.ssh&#x2F;id_rsa):   # ç›´æ¥å›è½¦ï¼Œåˆ™å°†å¯†é’¥æŒ‰é»˜è®¤è·¯å¾„åŠæ–‡ä»¶åè¿›è¡Œå­˜å‚¨ã€‚æ­¤æ—¶ä¹Ÿå¯ä»¥è¾“å…¥ç‰¹å®šçš„æ–‡ä»¶å</span><br><span class="line">Created directory &#39;&#x2F;c&#x2F;Users&#x2F;ç”¨æˆ·å&#x2F;.ssh&#39;.</span><br><span class="line">Enter passphrase (empty for no passphrase):   # æ ¹æ®æç¤ºï¼Œä½ éœ€è¦è¾“å…¥å¯†ç å’Œç¡®è®¤å¯†ç ã€‚å¯ä»¥ä¸å¡«ï¼Œè®¾ç½®ä¸ºç©ºå€¼ï¼Œç›´æ¥å›è½¦</span><br><span class="line">Enter same passphrase again:</span><br><span class="line">Your identification has been saved in &#x2F;c&#x2F;Users&#x2F;ç”¨æˆ·å&#x2F;.ssh&#x2F;id_rsa.</span><br><span class="line">Your public key has been saved in &#x2F;c&#x2F;Users&#x2F;ç”¨æˆ·å&#x2F;.ssh&#x2F;id_rsa.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line">6d:40:da:xx:xx:xx:xx:b8:60:4a:bd:61:5f:c5:d6:db your_email@example.com</span><br><span class="line">The key&#39;s randomart image is:</span><br><span class="line">+--[ RSA 2048]----+</span><br><span class="line">|   .   .&#x3D;oo.     |</span><br><span class="line">|  . * .&#x3D;.*o .    |</span><br><span class="line">| . + &#x3D;oo+..  o   |</span><br><span class="line">|  . ..o. o  . E  |</span><br><span class="line">|      . S o      |</span><br><span class="line">|         .       |</span><br><span class="line">|                 |</span><br><span class="line">|                 |</span><br><span class="line">|                 |</span><br><span class="line">+-----------------+</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨ç›®å½• <code>~/.ssh</code> ä¸‹ï¼Œå°±æ–°åˆ›å»ºäº†ä¸¤ä¸ªæ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd ~&#x2F;.ssh</span><br><span class="line">$ ls</span><br><span class="line">id_rsa  id_rsa.pub</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ç¬¬ä¸‰æ­¥-åœ¨GitHubè´¦æˆ·ä¸­æ·»åŠ ä½ çš„å…¬é’¥"><a href="#ç¬¬ä¸‰æ­¥-åœ¨GitHubè´¦æˆ·ä¸­æ·»åŠ ä½ çš„å…¬é’¥" class="headerlink" title="ç¬¬ä¸‰æ­¥ åœ¨GitHubè´¦æˆ·ä¸­æ·»åŠ ä½ çš„å…¬é’¥"></a>ç¬¬ä¸‰æ­¥ åœ¨GitHubè´¦æˆ·ä¸­æ·»åŠ ä½ çš„å…¬é’¥</h4><p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå°†å…¬é’¥çš„å†…å®¹å¤åˆ¶åˆ°ç³»ç»Ÿå‰ªåˆ‡æ¿ä¸­(æˆ–ç›´æ¥æ‰“å¼€è¯¥æ–‡ä»¶è¿›è¡Œå¤åˆ¶æ“ä½œ)ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">clip &lt; ~&#x2F;.ssh&#x2F;id_rsa.pub</span><br></pre></td></tr></table></figure>

<p>ç™»é™†Githubç½‘ç«™ï¼Œé€‰æ‹© <code>Settings</code> â€“&gt; <code>SSH and GPG keys</code> èœå•ï¼Œç‚¹å‡» <code>New SSH key</code> æŒ‰é’®ã€‚<br>ç²˜è´´ä½ çš„å¯†é’¥åˆ° <code>Key</code> è¾“å…¥æ¡†ä¸­å¹¶è®¾ç½® <code>Title</code> ä¿¡æ¯ï¼Œç‚¹å‡» <code>Add SSH key</code> æŒ‰é’®å®Œæˆã€‚</p>
<p>è‡³æ­¤ï¼Œæ·»åŠ å®Œæ¯•ã€‚</p>
<hr>
<h4 id="ç¬¬å››æ­¥-è¿æ¥æµ‹è¯•"><a href="#ç¬¬å››æ­¥-è¿æ¥æµ‹è¯•" class="headerlink" title="ç¬¬å››æ­¥ è¿æ¥æµ‹è¯•"></a>ç¬¬å››æ­¥ è¿æ¥æµ‹è¯•</h4><p>å…ˆä¿è¯æœ¬åœ° <code>Git</code> å·²è®¾ç½®å¥½gitè´¦æˆ·çš„ <code>ç”¨æˆ·å</code> å’Œ <code>é‚®ç®±</code> ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git config --global user.name &quot;your_username&quot;   # è®¾ç½®ç”¨æˆ·å</span><br><span class="line">$ git config --global user.email &quot;your_email@example.com&quot;  # è®¾ç½®é‚®ç®±åœ°å€</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•SSH keys æ˜¯å¦è®¾ç½®æˆåŠŸï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ssh -T git@github.com</span><br></pre></td></tr></table></figure>

<p>æç¤ºä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ssh -T git@github.com</span><br><span class="line">The authenticity of host &#39;github.com (192.30.253.113)&#39; can&#39;t be established.</span><br><span class="line">RSA key fingerprint is 16:27:xx:xx:xx:xx:xx:36:63:1b:56:4d:eb:df:a6:48.</span><br><span class="line">Are you sure you want to continue connecting (yes&#x2F;no)? yes  # ç¡®è®¤ä½ æ˜¯å¦ç»§ç»­è¿æ¥ï¼Œè¾“å…¥yes</span><br><span class="line">Warning: Permanently added &#39;github.com,192.30.253.113&#39; (RSA) to the list of know</span><br><span class="line">n hosts.</span><br><span class="line">Hi xxx! You&#39;ve successfully authenticated, but GitHub does not provide shell</span><br><span class="line"> access.  #  å‡ºç°è¿™å¥è¯ï¼Œè¯´æ˜è®¾ç½®æˆåŠŸ</span><br></pre></td></tr></table></figure>

<p>å½“æç¤ºå¦‚ä¸‹ä¿¡æ¯ï¼Œè¯´æ˜è¿é€šGithubæˆåŠŸï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Hi xxx! You&#39;ve successfully authenticated, but GitHub does not provide shell</span><br><span class="line"> access.</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ç¬¬äº”æ­¥-å°†æœ¬åœ°é¡¹ç›®é€šè¿‡-SSH-push-åˆ°-GitHub"><a href="#ç¬¬äº”æ­¥-å°†æœ¬åœ°é¡¹ç›®é€šè¿‡-SSH-push-åˆ°-GitHub" class="headerlink" title="ç¬¬äº”æ­¥ å°†æœ¬åœ°é¡¹ç›®é€šè¿‡ SSH push åˆ° GitHub"></a>ç¬¬äº”æ­¥ å°†æœ¬åœ°é¡¹ç›®é€šè¿‡ SSH push åˆ° GitHub</h4><p>åœ¨githubæ–°å»ºä¸€ä¸ªä»“åº“ï¼Œå¦‚ <code>test_ssh</code> ã€‚</p>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">## åˆ›å»ºç›®å½•</span><br><span class="line">$ mkdir test</span><br><span class="line">$ cd test</span><br><span class="line">## åˆå§‹åŒ–gitä»“åº“</span><br><span class="line">$ git init</span><br><span class="line">## åˆ›å»ºreadme.mdæ–‡ä»¶</span><br><span class="line">$ echo &quot;this is a test ssh keys&quot; &gt; README.md</span><br><span class="line">## æäº¤åˆ°æœ¬åœ°</span><br><span class="line">## æäº¤å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</span><br><span class="line">$ git add .</span><br><span class="line">## æäº¤è®°å½•è¯´æ˜</span><br><span class="line">$ git commit -m &quot;add readme.md&quot;</span><br><span class="line">## æäº¤åˆ°github</span><br><span class="line">$ git remote add origin git@github.com:your_github_name&#x2F;test_ssh.git</span><br><span class="line">$ git push -u origin master</span><br></pre></td></tr></table></figure>

<p>åˆ·æ–° <code>test_ssh</code> ä»“åº“ï¼Œå°±èƒ½çœ‹åˆ°æäº¤çš„æ–‡ä»¶äº†ã€‚</p>
<p>å¦‚æœæ˜¯æœ¬åœ°å·²ç»å­˜åœ¨çš„gité¡¹ç›®ï¼Œåªéœ€è¦æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">## æäº¤åˆ°github</span><br><span class="line">$ git remote add origin git@github.com:your_github_name&#x2F;test_ssh.git</span><br><span class="line">$ git push -u origin master</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ç›¸å…³å‚è€ƒæ–‡ç« "><a href="#ç›¸å…³å‚è€ƒæ–‡ç« " class="headerlink" title="ç›¸å…³å‚è€ƒæ–‡ç« "></a>ç›¸å…³å‚è€ƒæ–‡ç« </h4><ul>
<li><a href="http://www.xuanfengge.com/using-ssh-key-link-github-photo-tour.html" target="_blank" rel="noopener">ä½¿ç”¨SSHå¯†é’¥è¿æ¥Githubã€å›¾æ–‡æ•™ç¨‹ã€‘ - è½©æ«é˜ â€“ å‰ç«¯å¼€å‘ | webå‰ç«¯æŠ€æœ¯åšå®¢</a></li>
</ul>
]]></content>
      <tags>
        <tag>GitHub</tag>
        <tag>SSH</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨GitHubæ­å»ºHexoé™æ€åšå®¢</title>
    <url>/2016/09/24/use-github-to-build-hexo-static-blog/</url>
    <content><![CDATA[<h4 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h4><p>ä¹‹å‰ä¸€ç›´åœ¨ç”¨è‡ªå·±åˆ›å»ºçš„.Netç½‘ç«™æ¥å†™åšå®¢æ–‡ç« ï¼Œåªæœ‰ç®€å•çš„CRUDçš„åŠŸèƒ½ï¼Œæ•°æ®ä¹Ÿæ˜¯ä»æ•°æ®åº“ä¸­ç›´æ¥æŸ¥è¯¢çš„ã€‚è‡ªä»æ¥è§¦äº†markdownä¹‹åï¼Œæ¸æ¸ä¹ æƒ¯äº†ç”¨markdownæ¥è®°å½•è‡ªå·±åœ¨å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜å’Œå­¦åˆ°çš„æ–°çŸ¥è¯†ã€‚ä½†ç”±äºä¹‹å‰åšå®¢ä¸­æ˜¯é€šè¿‡ç™¾åº¦çš„ <code>ueditor</code> ç¼–è¾‘å™¨æ¥ç¼–è¾‘æ–‡ç« ï¼Œä¸èƒ½ç›´æ¥å¤„ç†markdownï¼Œæ‰€ä»¥åæ¥å°±ä¸€ç›´è€ƒè™‘æœ‰æ²¡æœ‰å…¶ä»–çš„æ–¹æ³•æ¥æ›´æ–¹ä¾¿çš„ç®¡ç†å’Œå‘å¸ƒåšå®¢ã€‚</p>
<p>è‡ªä»å‘ç°äº† Hexoï¼Œä¸å¾—ä¸è¯´è¿™ä¸å°±æ˜¯æˆ‘ä¸€ç›´æƒ³è¦æ‰¾çš„åšå®¢å·¥å…·å—ï¼Ÿ</p>
<p>é™æ€åšå®¢çš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p>
<ul>
<li>ä¸ç”¨æ•°æ®åº“</li>
<li>è®¿é—®é€Ÿåº¦å¿«</li>
<li>æ”¯æŒmarkdownï¼Œæ›´åŠ æ³¨é‡åšå®¢å†…å®¹</li>
</ul>
<p>è€Œä¸”éƒ¨ç½²åˆ° GitHub ä¸Šï¼Œæˆ‘ä»¬è¿˜ä¸éœ€è¦å»é…ç½®æœåŠ¡å™¨ï¼Œéå¸¸çš„æ–¹ä¾¿ã€‚</p>
<p>ä¸‹é¢è¯¦ç»†è®°å½•æˆ‘è¿™ä¸ªåšå®¢çš„æ­å»ºéƒ¨ç½²æµç¨‹ï¼Œå¸Œæœ›èƒ½å¸®åˆ°æœ‰éœ€è¦çš„æœ‹å‹ä»¬ï¼</p>
<h4 id="æ­å»ºæµç¨‹"><a href="#æ­å»ºæµç¨‹" class="headerlink" title="æ­å»ºæµç¨‹"></a>æ­å»ºæµç¨‹</h4><h5 id="å¼€å§‹å‰ä¿è¯å·²å®‰è£…ï¼š"><a href="#å¼€å§‹å‰ä¿è¯å·²å®‰è£…ï¼š" class="headerlink" title="å¼€å§‹å‰ä¿è¯å·²å®‰è£…ï¼š"></a>å¼€å§‹å‰ä¿è¯å·²å®‰è£…ï¼š</h5><ul>
<li>Node.js<ul>
<li>Linux ä¸‹æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ¥å®‰è£…ï¼š<ul>
<li><code>$ curl https://raw.github.com/creationix/nvm/master/install.sh | sh</code></li>
<li><code>$ nvm install stable</code></li>
</ul>
</li>
<li>Windows ä¸‹å¯ä»¥ä» <a href="https://nodejs.org/en/download/" target="_blank" rel="noopener">Node.js Download</a> å¤„é€‰æ‹© <code>Windows Installer</code> ä¸‹è½½msiå®‰è£…åŒ…</li>
</ul>
</li>
<li>Git<ul>
<li>Linux(Ubuntu) ä¸‹æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ¥å®‰è£…ï¼š<ul>
<li><code>$ sudo apt-get install git-core</code></li>
</ul>
</li>
<li>Windows ä¸‹å¯ä»¥ä» <a href="https://git-scm.com/download/win" target="_blank" rel="noopener">Git Download</a> å¤„ä¸‹è½½ <code>Git for Windows</code> å®‰è£…åŒ…</li>
</ul>
</li>
</ul>
<h5 id="å®‰è£…Hexo"><a href="#å®‰è£…Hexo" class="headerlink" title="å®‰è£…Hexo"></a>å®‰è£…Hexo</h5><p>é€‰æ‹©ä¸€ä¸ªç”¨æ¥åˆ›å»ºåšå®¢çš„ç›®å½•ï¼Œåœ¨è¯¥ç›®å½•ä¸‹ä½¿ç”¨ <code>CMD</code> å‘½ä»¤è¡Œçª—å£ï¼Œè¿™é‡Œæ¨èä½¿ç”¨ <a href="http://cmder.net/" target="_blank" rel="noopener">Cmder</a> æ¥ä»£æ›¿Windowsä¸Šé»˜è®¤çš„å‘½ä»¤è¡Œã€‚</p>
<p>é€šè¿‡ <code>npm</code> å‘½ä»¤æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; npm install -g hexo-cli</span><br></pre></td></tr></table></figure>

<h5 id="å»ºç«™"><a href="#å»ºç«™" class="headerlink" title="å»ºç«™"></a>å»ºç«™</h5><p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼ŒHexo å°†ä¼šåœ¨æŒ‡å®šæ–‡ä»¶å¤¹ä¸­æ–°å»ºæ‰€éœ€è¦çš„æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; hexo init &lt;folder&gt;</span><br><span class="line">&gt; cd &lt;folder&gt;</span><br><span class="line">&gt; npm install</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œå‡è®¾æˆ‘è¦åˆ›å»ºçš„åšå®¢æ‰€åœ¨ç›®å½•åä¸º <code>xblog</code> ,åˆ™å‘½ä»¤ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; hexo init xblog</span><br><span class="line">&gt; cd xblog</span><br><span class="line">&gt; npm install</span><br></pre></td></tr></table></figure>

<h5 id="ç”Ÿæˆé™æ€é¡µ"><a href="#ç”Ÿæˆé™æ€é¡µ" class="headerlink" title="ç”Ÿæˆé™æ€é¡µ"></a>ç”Ÿæˆé™æ€é¡µ</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; hexo g</span><br></pre></td></tr></table></figure>

<p>è¯¥å‘½ä»¤çš„å®Œæ•´æ ¼å¼ä¸º:  <code>hexo generate</code></p>
<h5 id="å¯åŠ¨æœåŠ¡"><a href="#å¯åŠ¨æœåŠ¡" class="headerlink" title="å¯åŠ¨æœåŠ¡"></a>å¯åŠ¨æœåŠ¡</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; hexo s</span><br></pre></td></tr></table></figure>

<p>è¯¥å‘½ä»¤çš„å®Œæ•´æ ¼å¼ä¸ºï¼š <code>hexo server</code></p>
<p>hexoé»˜è®¤ä½¿ç”¨ <code>4000</code> ç«¯å£è¿›è¡Œé¢„è§ˆï¼Œå¯ä»¥é€šè¿‡æµè§ˆå™¨æ‰“å¼€ <code>http://localhost:4000/</code> æŸ¥çœ‹ã€‚å¦‚æœç«¯å£è¢«å ç”¨ï¼Œå¯ä»¥ç”¨ <code>hexo s -p 5000</code>  æŒ‡å®šç«¯å£å·ä¸º <code>5000</code> æˆ–è€…å…¶ä»–æœªè¢«å ç”¨çš„ç«¯å£ã€‚ä½¿ç”¨ <code>Ctrl+C</code> æ¥åœæ­¢é¢„è§ˆã€‚</p>
<h5 id="æŸ¥çœ‹Hexoç‰ˆæœ¬"><a href="#æŸ¥çœ‹Hexoç‰ˆæœ¬" class="headerlink" title="æŸ¥çœ‹Hexoç‰ˆæœ¬"></a>æŸ¥çœ‹Hexoç‰ˆæœ¬</h5><p>å¯ä»¥é€šè¿‡å‘½ä»¤ <code>hexo -v</code> æŸ¥çœ‹å½“å‰hexoçš„ç‰ˆæœ¬ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; hexo -v</span><br><span class="line">hexo: 3.2.2</span><br><span class="line">hexo-cli: 1.0.2</span><br><span class="line">os: Windows_NT 10.0.10586 win32 x64</span><br><span class="line">http_parser: 2.5.2</span><br><span class="line">node: 4.4.0</span><br><span class="line">v8: 4.5.103.35</span><br><span class="line">uv: 1.8.0</span><br><span class="line">zlib: 1.2.8</span><br><span class="line">ares: 1.10.1-DEV</span><br><span class="line">icu: 56.1</span><br><span class="line">modules: 46</span><br><span class="line">openssl: 1.0.2g</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Hexoé…ç½®"><a href="#Hexoé…ç½®" class="headerlink" title="Hexoé…ç½®"></a>Hexoé…ç½®</h4><h5 id="æ›´æ¢ä¸»é¢˜-theme"><a href="#æ›´æ¢ä¸»é¢˜-theme" class="headerlink" title="æ›´æ¢ä¸»é¢˜ theme"></a>æ›´æ¢ä¸»é¢˜ theme</h5><p>ä»¥ä¸»é¢˜ <a href="http://theme-next.iissnan.com/" target="_blank" rel="noopener">NexT</a> ä¸ºä¾‹ï¼Œé¦–å…ˆä¸‹è½½è¯¥ä¸»é¢˜ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; cd your-hexo-site (æˆ‘è¿™é‡Œæ˜¯ &#96;cd xblog&#96;)</span><br><span class="line">&gt; git clone https:&#x2F;&#x2F;github.com&#x2F;iissnan&#x2F;hexo-theme-next themes&#x2F;next</span><br></pre></td></tr></table></figure>

<p>åœ¨ç«™ç‚¹ç«™ç‚¹æ ¹ç›®å½•ä¸‹æ‰“å¼€ <code>_config.yml</code>ï¼Œæ‰¾åˆ° <code>theme</code> å­—æ®µï¼Œå°† <code>theme: landscape</code> æ”¹ä¸º <code>theme: next</code> ï¼Œç„¶åå†æ¬¡æ‰§è¡Œ <code>hexo g</code> æ¥é‡æ–°ç”Ÿæˆã€‚</p>
<h5 id="ä¸»é¢˜è®¾ç½®"><a href="#ä¸»é¢˜è®¾ç½®" class="headerlink" title="ä¸»é¢˜è®¾ç½®"></a>ä¸»é¢˜è®¾ç½®</h5><p>å…³äºä¸»é¢˜çš„é…ç½®å¯ç›´æ¥å‚è€ƒNexTå®˜ç½‘çš„é…ç½®æµç¨‹ <a href="http://theme-next.iissnan.com/getting-started.html" target="_blank" rel="noopener">å¼€å§‹ä½¿ç”¨-NexT</a> ï¼Œè¿™é‡Œæˆ‘ä¼šæŠŠè‡ªå·±åœ¨é…ç½®æ—¶çš„æ“ä½œç®€å•è®°å½•ï¼Œä»…ä¾›å¤§å®¶å‚è€ƒã€‚</p>
<p>åœ¨ Hexo ä¸­æœ‰ä¸¤ä»½ä¸»è¦çš„é…ç½®æ–‡ä»¶ï¼Œå…¶åç§°éƒ½æ˜¯ <code>_config.yml</code>ã€‚ å…¶ä¸­ï¼Œä¸€ä»½ä½äºç«™ç‚¹æ ¹ç›®å½•ä¸‹ï¼Œä¸»è¦åŒ…å« Hexo æœ¬èº«çš„é…ç½®ï¼›å¦ä¸€ä»½ä½äºä¸»é¢˜ç›®å½•ä¸‹ï¼Œè¿™ä»½é…ç½®ç”±ä¸»é¢˜ä½œè€…æä¾›ï¼Œä¸»è¦ç”¨äºé…ç½®ä¸»é¢˜ç›¸å…³çš„é€‰é¡¹ã€‚</p>
<p>ä¸ºäº†æè¿°æ–¹ä¾¿ï¼Œåœ¨ä»¥ä¸‹è¯´æ˜ä¸­ï¼Œå°†å‰è€…ç§°ä¸º <code>ç«™ç‚¹é…ç½®æ–‡ä»¶</code>ï¼Œ åè€…ç§°ä¸º <code>ä¸»é¢˜é…ç½®æ–‡ä»¶</code>ã€‚</p>
<hr>
<h6 id="é€‰æ‹©Scheme"><a href="#é€‰æ‹©Scheme" class="headerlink" title="é€‰æ‹©Scheme"></a>é€‰æ‹©Scheme</h6><p>å€ŸåŠ©äº Schemeï¼ŒNexT æä¾›äº†å¤šç§ä¸åŒçš„å¤–è§‚ã€‚ç›®å‰ NexT æ”¯æŒä¸‰ç§ Scheme ï¼š</p>
<ul>
<li>Muse - é»˜è®¤ Schemeï¼Œè¿™æ˜¯ NexT æœ€åˆçš„ç‰ˆæœ¬ï¼Œé»‘ç™½ä¸»è°ƒï¼Œå¤§é‡ç•™ç™½</li>
<li>Mist - Muse çš„ç´§å‡‘ç‰ˆæœ¬ï¼Œæ•´æ´æœ‰åºçš„å•æ å¤–è§‚</li>
<li>Pisces - åŒæ  Schemeï¼Œå°å®¶ç¢§ç‰ä¼¼çš„æ¸…æ–°</li>
</ul>
<p>Scheme çš„åˆ‡æ¢é€šè¿‡æ›´æ”¹ <code>ä¸»é¢˜é…ç½®æ–‡ä»¶</code> ï¼Œæœç´¢ <code>scheme</code> å…³é”®å­—ã€‚ ä½ ä¼šçœ‹åˆ°æœ‰ä¸‰è¡Œ <code>scheme</code> çš„é…ç½®ï¼Œå°†ä½ éœ€è¦å¯ç”¨çš„ <code>scheme</code> å‰é¢æ³¨é‡Š <code>#</code> å»æ‰å³å¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#scheme: Muse</span><br><span class="line">#scheme: Mist</span><br><span class="line">scheme: Pisces</span><br></pre></td></tr></table></figure>

<hr>
<h6 id="è®¾ç½®-è¯­è¨€"><a href="#è®¾ç½®-è¯­è¨€" class="headerlink" title="è®¾ç½® è¯­è¨€"></a>è®¾ç½® è¯­è¨€</h6><p>ç¼–è¾‘ <code>ç«™ç‚¹é…ç½®æ–‡ä»¶</code>ï¼Œ å°† <code>language</code> è®¾ç½®æˆä½ æ‰€éœ€è¦çš„è¯­è¨€ã€‚è¿™é‡Œæˆ‘é€‰æ‹©äº†ç®€ä½“ä¸­æ–‡ï¼Œé…ç½®å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">language: zh-Hans</span><br></pre></td></tr></table></figure>

<hr>
<h6 id="è®¾ç½®-èœå•"><a href="#è®¾ç½®-èœå•" class="headerlink" title="è®¾ç½® èœå•"></a>è®¾ç½® èœå•</h6><p>èœå•å³æ˜¯ä½ çš„å¯¼èˆªèœå•ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®èœå•é¡¹çš„ <code>æ˜¾ç¤ºåç§°</code>å’Œ é“¾æ¥ ä»¥åŠ <code>èœå•é¡¹å¯¹åº”çš„å›¾æ ‡</code> ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥åœ¨ <code>ä¸»é¢˜é…ç½®æ–‡ä»¶</code> ä¸­æ¥ä¿®æ”¹ï¼Œå¯¹åº”çš„å­—æ®µæ˜¯ <code>menu</code> ã€‚æˆ‘çš„é…ç½®å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: &#x2F;   				# ä¸»é¡µ</span><br><span class="line">  categories: &#x2F;categories   # åˆ†ç±»é¡µ</span><br><span class="line">  tags: &#x2F;tags   			# æ ‡ç­¾é¡µ</span><br><span class="line">  archives: &#x2F;archives  		# å½’æ¡£é¡µ</span><br><span class="line">  about: &#x2F;about 			# å…³äºé¡µé¢</span><br></pre></td></tr></table></figure>

<p>èœå•é¡¹çš„æ˜¾ç¤ºæ–‡æœ¬æ”¾ç½®åœ¨ <code>NexT</code> ä¸»é¢˜ç›®å½•ä¸‹çš„ <code>languages/{language}.yml</code> ï¼ˆ<code>{language}</code> ä¸ºä½ æ‰€ä½¿ç”¨çš„è¯­è¨€ï¼‰ã€‚</p>
<p>èœå•é¡¹çš„å›¾æ ‡ï¼Œå¯¹åº”çš„å­—æ®µæ˜¯ <code>menu_icons</code>ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>enable</code> æ¥æ§åˆ¶æ˜¯å¦æ˜¾ç¤ºå›¾æ ‡ã€‚</p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥æ·»åŠ è‡ªå·±çš„é“¾æ¥ï¼Œåªè¦æŠŠä¸Šé¢çš„ <code>åç§°-é“¾æ¥-å›¾æ ‡</code> ä¸‰è€…å¯¹åº”å¥½å³å¯ã€‚</p>
<blockquote>
<p>è¯·æ³¨æ„é”®å€¼ï¼ˆå¦‚ <code>home</code>ï¼‰çš„å¤§å°å†™è¦ä¸¥æ ¼åŒ¹é…</p>
</blockquote>
<hr>
<h6 id="è®¾ç½®-å¤´åƒ"><a href="#è®¾ç½®-å¤´åƒ" class="headerlink" title="è®¾ç½® å¤´åƒ"></a>è®¾ç½® å¤´åƒ</h6><p>ç¼–è¾‘ <code>ç«™ç‚¹é…ç½®æ–‡ä»¶</code>ï¼Œ æ–°å¢å­—æ®µ <code>avatar</code>ï¼Œ å€¼è®¾ç½®æˆå¤´åƒçš„é“¾æ¥åœ°å€ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥å°†è‡ªå·±çš„å¤´åƒå›¾ç‰‡æ–‡ä»¶ä¸Šä¼ åˆ°ä¸»é¢˜ç›®å½•ä¸‹çš„ <code>source/uploads/</code> ç›®å½•ä¸‹(æ–°å»ºuploadsç›®å½•è‹¥ä¸å­˜åœ¨) æˆ– <code>source/images/</code> ç›®å½•ä¸‹ã€‚å®Œæ•´çš„ç›®å½•å°±æ˜¯ <code>your-hexo-site\themes\next\source\images\</code> ä¸‹ã€‚</p>
<p>ç„¶åå°† <code>avatar</code> å­—æ®µé…ç½®å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># avatar ä¸ªäººå¤´åƒ</span><br><span class="line">avatar: &#x2F;images&#x2F;avatar.jpg</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ä¹Ÿå¯ä»¥ä½¿ç”¨ç½‘ç»œä¸Šçš„å¤´åƒæ¥è¿›è¡Œè®¾ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">avatar: http:&#x2F;&#x2F;example.com&#x2F;avatar.png</span><br></pre></td></tr></table></figure>

<hr>
<h6 id="è®¾ç½®-ä½œè€…æ˜µç§°åŠç«™ç‚¹æè¿°"><a href="#è®¾ç½®-ä½œè€…æ˜µç§°åŠç«™ç‚¹æè¿°" class="headerlink" title="è®¾ç½® ä½œè€…æ˜µç§°åŠç«™ç‚¹æè¿°"></a>è®¾ç½® ä½œè€…æ˜µç§°åŠç«™ç‚¹æè¿°</h6><p>ç¼–è¾‘ <code>ç«™ç‚¹é…ç½®æ–‡ä»¶</code>ï¼Œ è®¾ç½® <code>author</code> ä¸ºä½ çš„æ˜µç§°ã€‚</p>
<p>ç¼–è¾‘ <code>ç«™ç‚¹é…ç½®æ–‡ä»¶</code>ï¼Œ è®¾ç½® <code>description</code> å­—æ®µä¸ºä½ çš„ç«™ç‚¹æè¿°ã€‚</p>
<hr>
<h6 id="è®¾ç½®ä»£ç é«˜äº®ä¸»é¢˜"><a href="#è®¾ç½®ä»£ç é«˜äº®ä¸»é¢˜" class="headerlink" title="è®¾ç½®ä»£ç é«˜äº®ä¸»é¢˜"></a>è®¾ç½®ä»£ç é«˜äº®ä¸»é¢˜</h6><p>NexTå…±æä¾›äº†5æ¬¾ä¸»é¢˜å¯ä»¥é€‰æ‹©ï¼Œé»˜è®¤ä½¿ç”¨ç™½è‰²çš„ <code>normal</code> ä¸»é¢˜ã€‚</p>
<p><code>normal</code>ï¼Œ<code>night</code>ï¼Œ <code>night blue</code>ï¼Œ <code>night bright</code>ï¼Œ <code>night eighties</code></p>
<p>åœ¨ <code>ä¸»é¢˜é…ç½®æ–‡ä»¶</code> ä¸­æ‰¾åˆ° <code>highlight_theme</code> å­—æ®µï¼Œæ›´æ”¹å³å¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">highlight_theme: night eighties</span><br></pre></td></tr></table></figure>

<hr>
<h6 id="å¼€å¯æ‰“èµåŠŸèƒ½"><a href="#å¼€å¯æ‰“èµåŠŸèƒ½" class="headerlink" title="å¼€å¯æ‰“èµåŠŸèƒ½"></a>å¼€å¯æ‰“èµåŠŸèƒ½</h6><p>NexTå¯ä»¥æ”¯æŒå¾®ä¿¡æ‰“èµå’Œæ”¯ä»˜å®æ‰“èµï¼Œåœ¨ <code>ä¸»é¢˜é…ç½®æ–‡ä»¶</code> ä¸­æ·»åŠ å¦‚ä¸‹å­—æ®µå³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æ‰“èµåŠŸèƒ½</span><br><span class="line">reward_comment: åšæŒåŸåˆ›æŠ€æœ¯åˆ†äº«ï¼Œæ‚¨çš„æ”¯æŒå°†é¼“åŠ±æˆ‘ç»§ç»­åˆ›ä½œï¼</span><br><span class="line">wechatpay: &#x2F;images&#x2F;wechat-reward-image.jpg</span><br><span class="line">alipay: &#x2F;images&#x2F;alipay-reward-image.jpg</span><br></pre></td></tr></table></figure>

<p>å¾®ä¿¡ä¸ªäººæ”¶æ¬¾äºŒç»´ç å¯ä»¥ä»å¾®ä¿¡APPå³ä¸Šè§’â€œ+â€å¤„ï¼Œé€‰æ‹© <code>æ”¶ä»˜æ¬¾</code> â€“ <code>æˆ‘è¦æ”¶æ¬¾</code> â€“ <code>é•¿æŒ‰äºŒç»´ç </code> æ¥è·å–ã€‚<br>æ”¯ä»˜å®ä¸ªäººæ”¶æ¬¾äºŒç»´ç å¯ä»¥ä»æ”¯ä»˜å®APPçš„å³ä¸Šè§’â€œ+â€å¤„ï¼Œé€‰æ‹© <code>æˆ‘çš„äºŒç»´ç /æ”¶æ¬¾</code> æ¥è·å–ã€‚</p>
<p>äºŒç»´ç å›¾ç‰‡å¯ä»¥å’Œå¤´åƒä¸€æ ·ä¿å­˜åœ¨ <code>source/images/</code> ç›®å½•ä¸‹ã€‚</p>
<hr>
<h5 id="ä¸»é¢˜æ ç›®è®¾ç½®"><a href="#ä¸»é¢˜æ ç›®è®¾ç½®" class="headerlink" title="ä¸»é¢˜æ ç›®è®¾ç½®"></a>ä¸»é¢˜æ ç›®è®¾ç½®</h5><p>åœ¨ä¸Šé¢è®¾ç½®å¯¼èˆªèœå•æ—¶æˆ‘ä»¬å·²ç»æ·»åŠ äº†å¯¼èˆªèœå•: <code>categories</code> å’Œ <code>tags</code> ï¼Œä½†åœ¨é¢„è§ˆæ—¶ä¼šç›´æ¥æŠ¥é”™ï¼Œå› ä¸ºæˆ‘ä»¬è¿˜æ²¡æœ‰åˆ›å»ºè¿™ä¸¤ä¸ªåˆ†ç±»é¡µé¢ã€‚</p>
<h6 id="æ·»åŠ ã€Œæ ‡ç­¾ã€é¡µé¢"><a href="#æ·»åŠ ã€Œæ ‡ç­¾ã€é¡µé¢" class="headerlink" title="æ·»åŠ ã€Œæ ‡ç­¾ã€é¡µé¢"></a>æ·»åŠ ã€Œæ ‡ç­¾ã€é¡µé¢</h6><p>ã€Œæ ‡ç­¾ã€é¡µé¢å°†å±•ç¤ºç«™ç‚¹çš„æ‰€æœ‰æ ‡ç­¾ï¼Œè‹¥ä½ çš„æ‰€æœ‰æ–‡ç« éƒ½æœªåŒ…å«æ ‡ç­¾ï¼Œæ­¤é¡µé¢å°†æ˜¯ç©ºçš„ã€‚</p>
<p>è¿™é‡Œå…ˆè¯¦ç»†ä»‹ç»ä¸¤ä¸ªå‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; hexo n about</span><br><span class="line"></span><br><span class="line">&gt; hexo n page about</span><br></pre></td></tr></table></figure>

<p><code>hexo n</code> çš„å®Œæ•´æ ¼å¼ä¸º <code>hexo new</code> ï¼Œæ‰€ä»¥ä¸Šé¢çš„å‘½ä»¤ä¹Ÿå¯ä»¥å†™æˆï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; hexo new about</span><br><span class="line"></span><br><span class="line">&gt; hexo new page about</span><br></pre></td></tr></table></figure>

<p>ä¸¤è€…çš„åŒºåˆ«æ˜¯ï¼š</p>
<p><code>hexo new xxxx</code> è¡¨ç¤ºåˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ç« é¡µé¢ã€‚åœ¨Hexoä¸­, ä½ å†™çš„åšå®¢æ–‡ç« ä¼šé»˜è®¤å­˜å‚¨åœ¨ <code>your-hexo-site/source/_posts</code> ä¸‹ã€‚æ¯”å¦‚ä¸Šé¢çš„å‘½ä»¤ <code>hexo new about</code> æˆ‘ä»¬å°±åœ¨ <code>your-hexo-site\source\_posts</code> ç›®å½•ä¸‹æ–°å»ºäº†ä¸€ä¸ª <code>about.md</code> çš„æ–‡ä»¶ã€‚</p>
<p><code>hexo new page xxxx</code> è¡¨ç¤ºåˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†ç±»ä¸»é¡µé¢ã€‚æ¯”å¦‚ä¸Šé¢çš„å‘½ä»¤ <code>hexo new page about</code> æˆ‘ä»¬å°±åœ¨ <code>your-hexo-site\source\</code> ç›®å½•ä¸‹åˆ›å»ºäº†ä¸€ä¸ªåä¸º <code>about</code> çš„ç›®å½•ï¼Œè¯¥ç›®å½•ä¸‹æœ‰ä¸€ä¸ªåä¸º <code>index.md</code> çš„æ–‡ä»¶ã€‚</p>
<hr>
<p>åœ¨å‘½ä»¤è¡Œçª—å£ä¸‹ï¼Œå®šä½åˆ° <code>Hexo</code> ç«™ç‚¹ç›®å½•ä¸‹ã€‚ä½¿ç”¨ <code>hexo new page</code> æ–°å»ºä¸€ä¸ªåˆ†ç±»ä¸»é¡µé¢ï¼Œå‘½åä¸º <code>tags</code> ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; cd your-hexo-site</span><br><span class="line">&gt; hexo new page tags</span><br></pre></td></tr></table></figure>

<p>ç„¶åæ‰“å¼€ <code>your-hexo-site\source\tags</code> ç›®å½•ä¸‹çš„ <code>index.md</code> æ–‡ä»¶ï¼Œå°†é¡µé¢çš„ç±»å‹è®¾ç½®ä¸º <code>tags</code> ï¼Œä¸»é¢˜å°†è‡ªåŠ¨ä¸ºè¿™ä¸ªé¡µé¢æ˜¾ç¤ºæ ‡ç­¾äº‘ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: æ ‡ç­¾</span><br><span class="line">date: 2016-09-24 01:05:02</span><br><span class="line">type: &quot;tags&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„ï¼šå¦‚æœæœ‰å¯ç”¨ <code>å¤šè¯´</code> æˆ–è€… <code>Disqus</code> è¯„è®ºï¼Œé¡µé¢ä¹Ÿä¼šå¸¦æœ‰è¯„è®ºã€‚ è‹¥éœ€è¦å…³é—­çš„è¯ï¼Œè¯·æ·»åŠ å­—æ®µ <code>comments</code> å¹¶å°†å€¼è®¾ç½®ä¸º <code>false</code> ï¼Œå¦‚ï¼š</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: æ ‡ç­¾</span><br><span class="line">date: 2016-09-24 01:05:02</span><br><span class="line">type: &quot;tags&quot;</span><br><span class="line">comments: false</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆæˆ‘ä»¬åœ¨æ–°åˆ›å»ºçš„æ–‡ç« é¡µé¢ä¸­è¦å¦‚ä½•æ¥æ˜¾ç¤ºæ ‡ç­¾å‘¢ï¼Ÿ</p>
<p>æˆ‘ä»¬å¯ä»¥åœ¨æ–‡ç« é¡µé¢ä¸­é€šè¿‡æ·»åŠ  <code>tags</code> æ ‡è®°æ¥è®¾ç½®æ–‡ç« è¦æ˜¾ç¤ºçš„æ ‡ç­¾ã€‚</p>
<p>Hexo ä¸­æœ‰ <code>Front-matter</code> è¿™ä¸ªæ¦‚å¿µï¼Œæ˜¯æ–‡ä»¶æœ€ä¸Šæ–¹ä»¥ <code>---</code> åˆ†éš”çš„åŒºåŸŸï¼Œç”¨äºæŒ‡å®šä¸ªåˆ«æ–‡ä»¶çš„å˜é‡ã€‚</p>
<p><code>Front-matter</code> æ”¯æŒ â€œæ•°ç»„â€ æ–¹å¼æˆ– â€œyamlâ€ æ–¹å¼æ¥è®¾ç½®ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">title: hexo index</span><br><span class="line">date: 2016-09-24 01:05:02</span><br><span class="line">tags: [github,html5,css3]</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">title: hexo index</span><br><span class="line">date: 2016-09-24 01:05:02</span><br><span class="line">tags: </span><br><span class="line">- github</span><br><span class="line">- html5</span><br><span class="line">- css3</span><br></pre></td></tr></table></figure>

<hr>
<h6 id="æ·»åŠ ã€Œåˆ†ç±»ã€é¡µé¢"><a href="#æ·»åŠ ã€Œåˆ†ç±»ã€é¡µé¢" class="headerlink" title="æ·»åŠ ã€Œåˆ†ç±»ã€é¡µé¢"></a>æ·»åŠ ã€Œåˆ†ç±»ã€é¡µé¢</h6><p>ã€Œåˆ†ç±»ã€é¡µé¢å°†å±•ç¤ºç«™ç‚¹çš„æ‰€æœ‰åˆ†ç±»ï¼Œè‹¥ä½ çš„æ‰€æœ‰æ–‡ç« éƒ½æœªåŒ…å«åˆ†ç±»ï¼Œæ­¤é¡µé¢å°†æ˜¯ç©ºçš„ã€‚ </p>
<p>å’Œä¸Šé¢é…ç½® <code>tags</code> çš„æ–¹æ³•ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‘½ä»¤ <code>hexo new page xxxx</code> æ¥åˆ›å»ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; cd your-hexo-site</span><br><span class="line">&gt; hexo new page categories</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿™é‡Œéœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œæˆ‘ä»¬å‘½ä»¤ä¸­çš„åç§° <code>tags</code> å’Œ <code>categories</code> æ˜¯åœ¨ä¹‹å‰é…ç½®å¯¼èˆªèœå•æ—¶åœ¨ <code>menu</code> å­—æ®µä¸‹æŒ‡å®šçš„åç§°ï¼Œå¤§å°å†™ä¸èƒ½é”™ã€‚</p>
</blockquote>
<p>ç›¸åº”çš„é¡µé¢ç±»å‹è®¾ç½®å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: åˆ†ç±»</span><br><span class="line">date: 2016-09-24 01:08:49</span><br><span class="line">type: &quot;categories&quot;</span><br><span class="line">comments: false</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<p>åŒæ ·çš„ï¼Œåœ¨æ–‡ç« é¡µé¢ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>categories</code> å­—æ®µæ¥ä¸ºæ–‡ç« æŒ‡å®šæ‰€å±çš„åˆ†ç±»ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: åˆ†ç±»æµ‹è¯•æ–‡ç« </span><br><span class="line">categories: Testing</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="å…³äº-Hexo-ä¸‹çš„æ–‡ç« é¡µé¢"><a href="#å…³äº-Hexo-ä¸‹çš„æ–‡ç« é¡µé¢" class="headerlink" title="å…³äº Hexo ä¸‹çš„æ–‡ç« é¡µé¢"></a>å…³äº Hexo ä¸‹çš„æ–‡ç« é¡µé¢</h4><p>ä¸Šé¢å·²ç»æåˆ°è¿‡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>hexo n xxxx</code> æˆ– <code>hexo new xxxx</code> æ¥åˆ›å»ºæ–°çš„æ–‡ç« é¡µé¢ï¼Œé»˜è®¤ä¼šä¿å­˜åœ¨ <code>your-hexo-site\source\_posts</code> ç›®å½•ä¸‹ã€‚</p>
<p>ä¸€èˆ¬çš„æ–‡ç« é¡µé¢å¤´éƒ¨çš„ <code>Front-matter</code> æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: hexo next  		    # æ–‡ç« æ ‡é¢˜</span><br><span class="line">date: 2016-09-24 01:08:49   # æ–‡ç« å‘å¸ƒæ—¥æœŸ</span><br><span class="line">tags: [github,html5]</span><br><span class="line">tags:</span><br><span class="line">	- github</span><br><span class="line">	- html5 			  # tags æ–‡ç« çš„æ ‡ç­¾ï¼Œå¯ä»¥é€šè¿‡æ•°ç»„æ–¹å¼æˆ–yamlæ–¹å¼æŒ‡å®š</span><br><span class="line">categories: å‰ç«¯   		  # æ–‡ç« æ‰€å±åˆ†ç±»</span><br><span class="line">description: è¿™é‡Œæ˜¯æ–‡ç« æè¿°ï¼Œå¤§æ¦‚140ä¸ªå­—å·¦å³  # æ–‡ç« æè¿°</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">ä¸‹é¢æ˜¯æ–‡ç« æ­£æ–‡ ...</span><br></pre></td></tr></table></figure>

<h5 id="éœ€è¦æ³¨æ„çš„æ˜¯"><a href="#éœ€è¦æ³¨æ„çš„æ˜¯" class="headerlink" title="éœ€è¦æ³¨æ„çš„æ˜¯"></a>éœ€è¦æ³¨æ„çš„æ˜¯</h5><ul>
<li>å†’å·åé¢ä¸å†…å®¹ç›´æ¥è¦æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œå¦åˆ™æ— æ³•ç¼–è¯‘ç”Ÿæˆ</li>
<li>æ­£æ–‡ä¸ <code>Front-matter</code> ä¹‹é—´è¦æœ‰ä¸€ä¸ªç©ºè¡Œ</li>
<li>ä¸ºæ–‡ç« æ·»åŠ æè¿°æ–‡å­—é™¤äº†æŒ‡å®š <code>description</code> ä¹‹å¤–ï¼Œè¿˜å¯ä»¥åœ¨æ­£æ–‡ä¸­é€šè¿‡æ·»åŠ  <code>&lt;!--more--&gt;</code> æ ‡ç­¾åˆ†éš”å†…å®¹</li>
</ul>
<h5 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h5><ul>
<li>ä¿®æ”¹é…ç½®æ–‡ä»¶æ—¶æ³¨æ„YAMLè¯­æ³•ï¼Œå‚æ•°å†’å·:åä¸€å®šè¦ç•™ä¸€ç©ºæ ¼</li>
<li>ä¸­æ–‡ä¹±ç è¯·ä¿®æ”¹æ–‡ä»¶ç¼–ç æ ¼å¼ä¸ºUTF-8</li>
<li>ymlæ–‡ä»¶ä¸­æ‰€æœ‰æœ‰ç©ºæ ¼çš„å­—æ®µéƒ½ç”¨åŒå¼•å·æ‹¬èµ·æ¥</li>
</ul>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ–°å»ºæ–‡ç« çš„æ–‡ä»¶åå’Œæ ‡é¢˜åæ˜¯ç›¸åŒçš„ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å¦‚æœæ–‡ä»¶åæ˜¯ä¸­æ–‡ï¼Œé‚£ä¹ˆç”Ÿæˆçš„é“¾æ¥åé¢ä¼šè‡ªåŠ¨æ·»åŠ æœ«å°¾æ–œæ  <code>http://localhost:4000/2016/09/xxxxxxx/</code> å¦‚æœæ‰‹åŠ¨å»æ‰è¯¥æ–œæ  <code>/</code> ä¼šç›´æ¥æŠ¥é”™ã€‚æ‰€ä»¥æ¨èæ–‡ä»¶åæœ€å¥½ç”¨ <code>è‹±æ–‡</code> æ¥å†™ï¼Œæ–‡ç« å†…çš„æ ‡é¢˜å¯ä»¥æ”¹æˆä¸­æ–‡ã€‚</p>
<p>å¦å¤–ï¼Œ<strong>æ–‡ç« æ–‡ä»¶åä¸­æ–‡æœ«å°¾æ–œæ </strong> çš„é—®é¢˜ä¹Ÿå¯ä»¥é€šè¿‡é…ç½® <code>Nginx</code> æ¥è§£å†³ã€‚(è¿™é‡Œæš‚ä¸è®¨è®ºè¯¥æ–¹æ³•)</p>
<hr>
<h4 id="Hexo-ä¸­å¸¸ç”¨å‘½ä»¤"><a href="#Hexo-ä¸­å¸¸ç”¨å‘½ä»¤" class="headerlink" title="Hexo ä¸­å¸¸ç”¨å‘½ä»¤"></a>Hexo ä¸­å¸¸ç”¨å‘½ä»¤</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo generate (hexo g) 	  # ç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªæ–°çš„å«åšpublicçš„æ–‡ä»¶å¤¹</span><br><span class="line">hexo server (hexo s)  	  # å¯åŠ¨æœ¬åœ°webæœåŠ¡ï¼Œç”¨äºåšå®¢çš„é¢„è§ˆ</span><br><span class="line">hexo deploy (hexo d)      # éƒ¨ç½²æ’­å®¢åˆ°è¿œç«¯ï¼ˆæ¯”å¦‚github, herokuç­‰å¹³å°ï¼‰</span><br><span class="line">hexo new &quot;postName&quot;       # æ–°å»ºæ–‡ç« </span><br><span class="line">hexo new page &quot;pageName&quot;  # æ–°å»ºé¡µé¢</span><br><span class="line">hexo clean    		  	  # æ¸…ç†publicæ–‡ä»¶å¤¹</span><br></pre></td></tr></table></figure>

<p>ç®€å†™å½¢å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo n &#x3D;&#x3D; hexo new</span><br><span class="line">hexo g &#x3D;&#x3D; hexo generate</span><br><span class="line">hexo s &#x3D;&#x3D; hexo server</span><br><span class="line">hexo d &#x3D;&#x3D; hexo deploy</span><br><span class="line">hexo d -g # ç”Ÿæˆéƒ¨ç½²</span><br><span class="line">hexo s -g # ç”Ÿæˆé¢„è§ˆ</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="å°†-Hexo-éƒ¨ç½²åˆ°-Github"><a href="#å°†-Hexo-éƒ¨ç½²åˆ°-Github" class="headerlink" title="å°† Hexo éƒ¨ç½²åˆ° Github"></a>å°† Hexo éƒ¨ç½²åˆ° Github</h4><p>åˆ° GitHub æ–°å»ºä¸€ä¸ªé¡¹ç›®ï¼Œé¡¹ç›®åä¸ºï¼š<code>ä½ çš„ç”¨æˆ·å.github.io</code> <strong>å¿…é¡»ä¸ºè¿™ä¸ªåå­—</strong></p>
<p>Hexo ç›®å‰æ²¡æœ‰è‡ªå¸¦ Git éƒ¨ç½²æ¨¡å—ï¼Œéœ€æ‰‹åŠ¨å®‰è£…:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼Œåœ¨ <code>ç«™ç‚¹é…ç½®æ–‡ä»¶</code> <code>_config.yml</code> ä¸­è®¾ç½® <code>deploy</code> å­—æ®µï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: git@github.com:ä½ çš„å¸å·&#x2F;ä½ çš„å¸å·.github.io.git  #ä¾‹å¦‚æˆ‘çš„ï¼šrepository: git@github.com:Leafney&#x2F;Leafney.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„ï¼šè¿™ä¸ªrespositoryçš„åœ°å€ä½ åœ¨GitHubåˆ›å»ºåŒåä»“åº“åï¼Œä¼šåœ¨é¡µé¢ä¸­ç»™å‡ºï¼Œç›´æ¥å¤åˆ¶å³å¯ã€‚å¦å¤–ï¼Œ<code>branch</code> è¦è®¾ç½®ä¸º <code>master</code> åˆ†æ”¯ã€‚</p>
</blockquote>
<p>åœ¨æ­¤ä¹‹å‰ï¼Œè¿˜è¦æ³¨æ„ä½ æœ¬åœ°çš„ Git å·²ç»é€šè¿‡ <code>SSH</code> å’Œä½ çš„ GitHub è¿æ¥èµ·æ¥äº†ã€‚</p>
<p>å¦‚ä½•é€šè¿‡SSHè¿æ¥GitHubå¯ä»¥æŸ¥çœ‹æˆ‘çš„å¦ä¸€ç¯‡æ–‡ç«  <strong><a href="/2016/09/24/using-ssh-key-connection-github/">ä½¿ç”¨SSHå¯†é’¥è¿æ¥Github</a></strong> æ¥è¿›è¡Œè®¾ç½®ã€‚</p>
<hr>
<p>ç„¶åæ‰§è¡Œå‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; hexo clean  # å…ˆæ¸…ç†publicæ–‡ä»¶å¤¹</span><br><span class="line">&gt; hexo g      # ç”Ÿæˆ</span><br><span class="line">&gt; hexo d      # éƒ¨ç½²</span><br><span class="line"></span><br><span class="line"># æˆ–é€šè¿‡ä¸‹é¢ä¸€æ¡å‘½ä»¤ç›´æ¥ç”Ÿæˆå¹¶éƒ¨ç½²</span><br><span class="line">&gt; hexo g -d</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œå®Œæˆä¹‹åä¼šåœ¨ä½ çš„åšå®¢æ ¹ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶å¤¹ï¼š<code>.deploy_git</code>ï¼Œ è¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶ä¼šè‡ªåŠ¨è¢«å‘å¸ƒåˆ°ä½ çš„ GitHub ä¸Šï¼Œé¡µé¢æ–‡ä»¶åœ¨ <code>master</code> åˆ†æ”¯ä¸‹ã€‚</p>
<p>ç„¶åæ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥ä½ çš„ GitHub pages çš„åœ°å€ <code>xxxxx.github.io</code> å³å¯ã€‚</p>
<hr>
<p>PublishTime: 2016-9-24 14:06:00</p>
]]></content>
      <categories>
        <category>Hexoåšå®¢æ­å»º</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>GitHub</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2016/09/24/hello-world/</url>
    <content><![CDATA[<p>Hello Firends! ç°åœ¨æ˜¯åŒ—äº¬æ—¶é—´ <code>2016-9-24 1:45:58</code> ,é…é…¿äº†å¾ˆä¹…çš„ä¸ªäººåšå®¢Hexoç‰ˆç»ˆäºè¦å‘å¸ƒä¸Šçº¿äº†ï¼æ­¤å¤„åº”è¯¥æœ‰æŒå£°ï¼ï¼ï¼</p>
<p>ä¹‹å‰å†™åšå®¢ä¸€ç›´ç”¨çš„è‡ªå·±æ­å»ºçš„.netç‰ˆçš„ç½‘ç«™ï¼Œåªæœ‰ç®€å•çš„CRUDçš„åŠŸèƒ½ï¼Œå½“æ—¶åªæ˜¯è€ƒè™‘ç”¨æ¥ä½œä¸ºè‡ªå·±çš„ä¸€ä¸ªå¯ä»¥è®°äº‹çš„åœ°æ–¹ï¼Œè®°ä¸‹è‡ªå·±åœ¨å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ï¼Œå­¦åˆ°çš„æ–°çŸ¥è¯†ç­‰ç­‰ï¼Œå¹¶æ²¡æœ‰è€ƒè™‘è¦å»å†™ä¸€äº›æŠ€æœ¯ç±»çš„æ–‡ç« ï¼Œå»åˆ†äº«ã€‚æ¯•ç«Ÿè‡ªå·±çš„èƒ½åŠ›è¿˜æ˜¯æœ‰é™çš„ã€‚</p>
<p>éšç€æ¥è§¦è¶Šæ¥è¶Šå¤šçš„å¼€æºé¡¹ç›®ï¼Œé€æ¸æ„è¯†åˆ°â€œåˆ†äº«â€ç¡®å®æ˜¯ä¸€ä¸ªå¾ˆæœ‰æ„ä¹‰çš„äº‹æƒ…ã€‚æ‰€ä»¥å†³å®šæŠŠè‡ªå·±å¹³æ—¶å­¦åˆ°çš„çŸ¥è¯†ã€æŠ€å·§ç­‰è®°å½•äºæ­¤ï¼Œä»¥ä¾¿èƒ½å¸®åŠ©åˆ°é‡åˆ°ç›¸å…³é—®é¢˜çš„å¼€å‘æœ‹å‹ä»¬ã€‚</p>
<p>åšå®¢ä¸­çš„æ–‡ç« ä¼šæ¶‰åŠ.Net ã€Python ã€Golangã€Linuxã€å‰ç«¯ç­‰ç›¸å…³æ–¹é¢ï¼ŒåŸºæœ¬å±äºå…¨æ ˆï¼Œä¹Ÿä¼šæ¶‰åŠåˆ°ä¸€äº›å‰æ²¿çš„æŠ€æœ¯ã€‚</p>
<p>å¸Œæœ›å¤§å®¶å¤šå¤šæ”¯æŒï¼</p>
]]></content>
  </entry>
  <entry>
    <title>Nginxåˆçº§å…¥é—¨</title>
    <url>/2016/07/03/nginx-introduction/</url>
    <content><![CDATA[<p>å®‰è£…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install nginx</span><br></pre></td></tr></table></figure>

<p>åœ¨Ubuntuä¸‹å®‰è£…åçš„æ–‡ä»¶ç»“æ„ï¼š</p>
<ul>
<li>æ‰€æœ‰çš„é…ç½®æ–‡ä»¶éƒ½åœ¨ <code>/etc/nginx/</code> ä¸‹<ul>
<li><code>nginx.conf</code> ä¸ºä¸»é…ç½®æ–‡ä»¶</li>
<li><code>sites-available/default</code> ä¸ºé»˜è®¤é…ç½®æ–‡ä»¶</li>
</ul>
</li>
<li>ç¨‹åºæ–‡ä»¶åœ¨ <code>/usr/sbin/nginx</code> ä¸‹</li>
<li>æ—¥å¿—æ”¾åœ¨äº† <code>/var/log/nginx</code> ä¸‹</li>
<li>å¯åŠ¨è„šæœ¬ <code>/etc/init.d/nginx</code></li>
<li>é»˜è®¤çš„è™šæ‹Ÿä¸»æœºçš„ç›®å½•è®¾ç½®åœ¨äº† <code>/var/www/</code> ä¸‹ï¼ˆå‚è€ƒé»˜è®¤é…ç½®æ–‡ä»¶ï¼‰</li>
</ul>
<p>åœ¨ <code>nginx.conf</code> é…ç½®æ–‡ä»¶ä¸­ï¼Œå¯çœ‹åˆ°ä¸‹é¢ä¸¤è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">include &#x2F;etc&#x2F;nginx&#x2F;conf.d&#x2F;*.conf;</span><br><span class="line">include &#x2F;etc&#x2F;nginx&#x2F;sites-enabled&#x2F;*;</span><br></pre></td></tr></table></figure>

<p>ç½‘ä¸Šæ‰¾åˆ°çš„è‡ªå®šä¹‰é…ç½®æ–‡ä»¶çš„è®¾ç½®æ–¹æ³•ä¸ºï¼š</p>
<ol>
<li>æˆ‘ä»¬å¯ä»¥åœ¨ <code>/etc/nginx/sites-available</code> ç›®å½•ä¸‹æ·»åŠ è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ï¼Œç„¶åä¸ºè¯¥æ–‡ä»¶åˆ›å»ºè½¯é“¾æ¥åˆ° <code>/etc/nginx/sites-enabled</code> ç›®å½•ä¸­ã€‚</li>
<li>ä¹Ÿå¯ä»¥åœ¨ <code>/etc/nginx/conf.d</code> ç›®å½•ä¸‹åˆ›å»ºè‡ªå®šä¹‰é…ç½®æ–‡ä»¶å¹¶ä»¥ <code>.conf</code> ä¸ºæ‰©å±•åã€‚</li>
</ol>
<hr>
<p>nginx çš„å¯åŠ¨ æš‚åœ é‡å¯ </p>
<ul>
<li>å¯åŠ¨ <code>sudo /etc/init.d/nginx start</code></li>
<li>æš‚åœ <code>sudo /etc/init.d/nginx stop</code></li>
<li>é‡å¯ <code>sudo /etc/init.d/nginx restart</code></li>
</ul>
<hr>
<p>nginx åŸºæœ¬çš„é…ç½®æ–‡ä»¶å†™æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sever &#123;</span><br><span class="line">    listen 8080;</span><br><span class="line">    server_name _;</span><br><span class="line"></span><br><span class="line">    root &#x2F;home&#x2F;tiger&#x2F;myweb&#x2F;site;</span><br><span class="line">    index index.html;</span><br><span class="line"></span><br><span class="line">    location &#x2F; &#123;</span><br><span class="line">            try_files $uri $uri&#x2F; &#x3D;404;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹æ–‡ä»¶ <code>web.conf</code> ,æ‰€åœ¨ç›®å½•ä¸º <code>/etc/nginx/conf.d</code> :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sever &#123;</span><br><span class="line">    listen 8081;</span><br><span class="line">    server_name _;</span><br><span class="line"></span><br><span class="line">    root &#x2F;home&#x2F;tiger&#x2F;myweb&#x2F;site2;</span><br><span class="line">    index index.html aaa.html;</span><br><span class="line"></span><br><span class="line">    location &#x2F; &#123;</span><br><span class="line">            try_files $uri $uri&#x2F; &#x3D;404;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">    listen 8082;</span><br><span class="line">    server_name _; # è®¿é—® localhost</span><br><span class="line"></span><br><span class="line">    error_page 404 &#x2F;404.html; # æŒ‡å®š404é”™è¯¯é¡µ</span><br><span class="line"></span><br><span class="line">    root &#x2F;home&#x2F;tiger&#x2F;myweb&#x2F;site2&#x2F;aaa;</span><br><span class="line">    index abc.html;</span><br><span class="line">    location &#x2F; &#123;</span><br><span class="line">            allow all;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹ç›®å½•ä¸‹æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ls &#x2F;home&#x2F;tiger&#x2F;myweb&#x2F;site2</span><br><span class="line">aaa aaa.html</span><br><span class="line">$ ls &#x2F;home&#x2F;tiger&#x2F;myweb&#x2F;site2&#x2F;aaa</span><br><span class="line">404.html abc.html</span><br></pre></td></tr></table></figure>

<hr>
]]></content>
      <categories>
        <category>å¼€å‘ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Scrapyçˆ¬è™«åˆæ¢</title>
    <url>/2016/06/27/scrapy-introduction/</url>
    <content><![CDATA[<p>Scrapy æ˜¯ä¸€ä¸ªå¿«é€Ÿçš„é«˜å±‚æ¬¡çš„å±å¹•æŠ“å–å’Œç½‘é¡µçˆ¬è™«æ¡†æ¶ï¼Œçˆ¬å–ç½‘ç«™ï¼Œä»ç½‘ç«™é¡µé¢å¾—åˆ°ç»“æ„åŒ–çš„æ•°æ®ï¼Œå®ƒæœ‰ç€å¹¿æ³›çš„ç”¨é€”ï¼Œä»æ•°æ®æŒ–æ˜åˆ°ç›‘æµ‹å’Œè‡ªåŠ¨æµ‹è¯•ï¼ŒScrapyå®Œå…¨ç”¨Pythonå®ç°ï¼Œå®Œå…¨å¼€æºï¼Œä»£ç æ‰˜ç®¡åœ¨Githubä¸Šï¼Œå¯è¿è¡Œåœ¨Linuxï¼ŒWindowsï¼ŒMacå’ŒBSDå¹³å°ä¸Šï¼ŒåŸºäºTwistedçš„å¼‚æ­¥ç½‘ç»œåº“æ¥å¤„ç†ç½‘ç»œé€šè®¯ï¼Œç”¨æˆ·åªéœ€è¦å®šåˆ¶å¼€å‘å‡ ä¸ªæ¨¡å—å°±å¯ä»¥è½»æ¾çš„å®ç°ä¸€ä¸ªçˆ¬è™«ï¼Œç”¨æ¥æŠ“å–ç½‘é¡µå†…å®¹ä»¥åŠå„ç§å›¾ç‰‡ã€‚</p>
<h4 id="å®‰è£…Scrapy"><a href="#å®‰è£…Scrapy" class="headerlink" title="å®‰è£…Scrapy"></a>å®‰è£…Scrapy</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo pip install Scrapy</span><br></pre></td></tr></table></figure>

<p>scrapyä¾èµ– <code>lxml</code> ,è¯·ä¿è¯å·²ç»å®‰è£…äº† <code>lxml</code> åº“ã€‚</p>
<h4 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h4><p>åˆå§‹åŒ–é¡¹ç›®æ¡†æ¶</p>
<p>è¿™é‡Œä»¥æŠ“å– <code>http://www.cnbeta.com/topics/9.htm</code> é¡µé¢ä¸­çš„æ–‡ç« æ ‡é¢˜å’Œç®€ä»‹ä¸ºä¾‹ï¼Œåˆ›å»ºé¡¹ç›®åç§°ä¸º <code>cnbetaSpider</code> ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ scrapy startproject cnbetaSpider</span><br></pre></td></tr></table></figure>

<p>è¯¥å‘½ä»¤å°†ä¼šåˆ›å»ºåŒ…å«ä¸‹åˆ—å†…å®¹çš„ <code>cnbetaSpider</code> ç›®å½•:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cnbetaSpider&#x2F;</span><br><span class="line">    scrapy.cfg</span><br><span class="line">    cnbetaSpider&#x2F;</span><br><span class="line">        __init__.py</span><br><span class="line">        items.py</span><br><span class="line">        pipelines.py</span><br><span class="line">        settings.py</span><br><span class="line">        spiders&#x2F;</span><br><span class="line">            __init__.py</span><br><span class="line">            ...</span><br></pre></td></tr></table></figure>

<p>è¿™äº›æ–‡ä»¶åˆ†åˆ«æ˜¯:</p>
<ul>
<li><code>scrapy.cfg</code> : é¡¹ç›®çš„é…ç½®æ–‡ä»¶</li>
<li><code>cnbetaSpider/</code> : è¯¥é¡¹ç›®çš„pythonæ¨¡å—ã€‚ä¹‹åæ‚¨å°†åœ¨æ­¤åŠ å…¥ä»£ç ã€‚</li>
<li><code>cnbetaSpider/items.py</code> : é¡¹ç›®ä¸­çš„itemæ–‡ä»¶.</li>
<li><code>cnbetaSpider/pipelines.py</code> : é¡¹ç›®ä¸­çš„pipelinesæ–‡ä»¶.</li>
<li><code>cnbetaSpider/settings.py</code> : é¡¹ç›®çš„è®¾ç½®æ–‡ä»¶.</li>
<li><code>cnbetaSpider/spiders/</code> : æ”¾ç½®spiderä»£ç çš„ç›®å½•.</li>
</ul>
<hr>
<h4 id="å®šä¹‰Item"><a href="#å®šä¹‰Item" class="headerlink" title="å®šä¹‰Item"></a>å®šä¹‰Item</h4><p><code>Item</code> æ˜¯ä¿å­˜çˆ¬å–åˆ°çš„æ•°æ®çš„å®¹å™¨ã€‚æˆ‘ä»¬éœ€è¦ä»ç½‘é¡µä¸­æå– æ–‡ç« çš„æ ‡é¢˜ï¼Œé“¾æ¥ï¼Œæè¿°ï¼Œå¯¹æ­¤ï¼Œåœ¨ <code>item</code> ä¸­å®šä¹‰ç›¸åº”çš„å­—æ®µã€‚ç¼–è¾‘ <code>cnbetaSpider</code> ç›®å½•ä¸­çš„ <code>items.py</code> æ–‡ä»¶:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import scrapy</span><br><span class="line"></span><br><span class="line">class CnbetaspiderItem(scrapy.Item):</span><br><span class="line">    # define the fields for your item here like:</span><br><span class="line">    # name &#x3D; scrapy.Field()</span><br><span class="line">    title&#x3D;scrapy.Field()</span><br><span class="line">    link&#x3D;scrapy.Field()</span><br><span class="line">    desc&#x3D;scrapy.Field()</span><br><span class="line">    pass</span><br></pre></td></tr></table></figure>

<h4 id="åˆ›å»ºSpider"><a href="#åˆ›å»ºSpider" class="headerlink" title="åˆ›å»ºSpider"></a>åˆ›å»ºSpider</h4><p><code>Spider</code> æ˜¯ç”¨æˆ·ç¼–å†™ç”¨äºä»å•ä¸ªç½‘ç«™(æˆ–è€…ä¸€äº›ç½‘ç«™)çˆ¬å–æ•°æ®çš„ç±»ã€‚<br>å…¶åŒ…å«äº†ä¸€ä¸ªç”¨äºä¸‹è½½çš„åˆå§‹URLï¼Œå¦‚ä½•è·Ÿè¿›ç½‘é¡µä¸­çš„é“¾æ¥ä»¥åŠå¦‚ä½•åˆ†æé¡µé¢ä¸­çš„å†…å®¹ï¼Œ æå–ç”Ÿæˆ <code>item</code> çš„æ–¹æ³•ã€‚</p>
<p>ä¸ºäº†åˆ›å»ºä¸€ä¸ª <code>Spider</code> ï¼Œæ‚¨å¿…é¡»ç»§æ‰¿ <code>scrapy.Spider</code> ç±»ï¼Œ ä¸”å®šä¹‰ä»¥ä¸‹ä¸‰ä¸ªå±æ€§:</p>
<ul>
<li><code>name</code> æŒ‡å®šSpiderçš„åç§°ï¼Œå”¯ä¸€</li>
<li><code>start_urls</code>  åŒ…å«äº†Spideråœ¨å¯åŠ¨æ—¶è¿›è¡Œçˆ¬å–çš„urlåˆ—è¡¨</li>
<li><code>parse()</code> æ¥æ”¶å®Œæˆä¸‹è½½åç”Ÿæˆçš„ <code>Response</code> å¯¹è±¡ï¼Œè¯¥æ–¹æ³•è´Ÿè´£è§£æè¿”å›çš„æ•°æ®ï¼Œæå–æ•°æ®(ç”Ÿæˆitem)ä»¥åŠç”Ÿæˆéœ€è¦è¿›ä¸€æ­¥å¤„ç†çš„URLçš„ <code>Request</code> å¯¹è±¡ã€‚</li>
</ul>
<p>åœ¨ç›®å½• <code>cnbetaSpider/spiders</code> ä¸‹åˆ›å»ºæ–‡ä»¶ <code>cnbetaspider.py</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># coding:utf-8</span><br><span class="line"></span><br><span class="line">import scrapy</span><br><span class="line"></span><br><span class="line">class cnbetaSpider(scrapy.Spider):</span><br><span class="line">    &quot;&quot;&quot;docstring for cnbetaSpider&quot;&quot;&quot;</span><br><span class="line">    name&#x3D;&quot;cnbeta&quot;</span><br><span class="line">    allowed_domains&#x3D;[&quot;cnbeta.com&quot;]</span><br><span class="line">    start_urls&#x3D;[</span><br><span class="line">        &quot;http:&#x2F;&#x2F;www.cnbeta.com&#x2F;topics&#x2F;9.htm&quot;</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    def parse(self,response):</span><br><span class="line">        filename&#x3D;response.url.split(&quot;&#x2F;&quot;)[-2]</span><br><span class="line">        with open(filename,&#39;wb&#39;) as f:</span><br><span class="line">            f.write(response.body)</span><br></pre></td></tr></table></figure>

<h4 id="çˆ¬å–"><a href="#çˆ¬å–" class="headerlink" title="çˆ¬å–"></a>çˆ¬å–</h4><p>è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡Œä¸‹åˆ—å‘½ä»¤å¯åŠ¨spider:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ls</span><br><span class="line">cnbetaSpider  scrapy.cfg</span><br><span class="line"># æ‰§è¡Œå‘½ä»¤</span><br><span class="line">$ scrapy crawl cnbeta</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸‰ä¸ªå‚æ•°ä¸º <code>cnbetaspider.py</code> ä¸­çš„ <code>name</code> å±æ€§å€¼ã€‚</p>
<p>æ‰§è¡Œå®Œæˆåå¯åœ¨å½“å‰ç›®å½•ä¸‹çœ‹åˆ°ç”Ÿæˆçš„æ–‡ä»¶ <code>topics</code>,é‡Œé¢ä¿å­˜çš„è·å–åˆ°çš„ç½‘é¡µçš„å†…å®¹ã€‚</p>
<hr>
<h4 id="æå–"><a href="#æå–" class="headerlink" title="æå–"></a>æå–</h4><p>Scrapyä½¿ç”¨äº†ä¸€ç§åŸºäº <code>XPath</code> å’Œ <code>CSS</code> è¡¨è¾¾å¼æœºåˆ¶: <code>Scrapy Selectors</code> ã€‚è¯¦è§ï¼š<a href="http://scrapy-chs.readthedocs.io/zh_CN/latest/topics/selectors.html#topics-selectors" target="_blank" rel="noopener">é€‰æ‹©å™¨(Selectors) &mdash; Scrapy 0.24.1 æ–‡æ¡£</a></p>
<p>é€‰æ‹©å™¨æ–¹æ³•( <code>.xpath()</code> or <code>.css()</code> )</p>
<p>ä¸ºäº†æå–çœŸå®çš„åŸæ–‡æ•°æ®ï¼Œä½ éœ€è¦è°ƒç”¨ <code>.extract()</code> æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; response.xpath(&#39;&#x2F;&#x2F;title&#x2F;text()&#39;).extract()</span><br><span class="line">[u&#39;Example website&#39;]</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œç»™å‡ºXPathè¡¨è¾¾å¼çš„ä¾‹å­åŠå¯¹åº”çš„å«ä¹‰:</p>
<ul>
<li><code>/html/head/title</code>  : é€‰æ‹©HTMLæ–‡æ¡£ä¸­ <code>&lt;head&gt;</code> æ ‡ç­¾å†…çš„ <code>&lt;title&gt;</code> å…ƒç´ </li>
<li><code>/html/head/title/text()</code> : é€‰æ‹©ä¸Šé¢æåˆ°çš„ <code>&lt;title&gt;</code> å…ƒç´ çš„æ–‡å­—</li>
<li><code>//td</code> : é€‰æ‹©æ‰€æœ‰çš„ <code>&lt;td&gt;</code> å…ƒç´ </li>
<li><code>//div[@class=&quot;mine&quot;]</code> : é€‰æ‹©æ‰€æœ‰å…·æœ‰ <code>class=&quot;mine&quot;</code> å±æ€§çš„ <code>div</code> å…ƒç´ </li>
</ul>
<p>Selectoræœ‰å››ä¸ªåŸºæœ¬çš„æ–¹æ³•:</p>
<ul>
<li><code>xpath()</code> : ä¼ å…¥xpathè¡¨è¾¾å¼ï¼Œè¿”å›è¯¥è¡¨è¾¾å¼æ‰€å¯¹åº”çš„æ‰€æœ‰èŠ‚ç‚¹çš„selector liståˆ—è¡¨ ã€‚</li>
<li><code>css()</code> : ä¼ å…¥CSSè¡¨è¾¾å¼ï¼Œè¿”å›è¯¥è¡¨è¾¾å¼æ‰€å¯¹åº”çš„æ‰€æœ‰èŠ‚ç‚¹çš„selector liståˆ—è¡¨.</li>
<li><code>extract()</code> : åºåˆ—åŒ–è¯¥èŠ‚ç‚¹ä¸ºunicodeå­—ç¬¦ä¸²å¹¶è¿”å›listã€‚</li>
<li><code>re()</code> : æ ¹æ®ä¼ å…¥çš„æ­£åˆ™è¡¨è¾¾å¼å¯¹æ•°æ®è¿›è¡Œæå–ï¼Œè¿”å›unicodeå­—ç¬¦ä¸²liståˆ—è¡¨ã€‚</li>
</ul>
<p>åˆ†æç½‘é¡µ <code>http://www.cnbeta.com/topics/9.htm</code> ä¸­çš„æ–‡ç« ï¼š</p>
<p>æ–‡ç« åˆ—è¡¨åœ¨ <code>item</code> å…ƒç´ ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;*[@class&#x3D;&quot;all_news_wildlist&quot;]&#x2F;div[@class&#x3D;&quot;items&quot;]&#x2F;div[@class&#x3D;&quot;item&quot;]</span><br></pre></td></tr></table></figure>

<p>æ ‡é¢˜ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">xpath(&#39;&#x2F;&#x2F;*[@class&#x3D;&quot;all_news_wildlist&quot;]&#x2F;div[@class&#x3D;&quot;items&quot;]&#x2F;div[@class&#x3D;&quot;item&quot;]&#x2F;*[@class&#x3D;&quot;hd&quot;]&#x2F;div[@class&#x3D;&quot;title&quot;]&#x2F;a&#x2F;text()&#39;).extract()</span><br></pre></td></tr></table></figure>

<p>é“¾æ¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">xpath(&#39;&#x2F;&#x2F;*[@class&#x3D;&quot;all_news_wildlist&quot;]&#x2F;div[@class&#x3D;&quot;items&quot;]&#x2F;div[@class&#x3D;&quot;item&quot;]&#x2F;*[@class&#x3D;&quot;hd&quot;]&#x2F;div[@class&#x3D;&quot;title&quot;]&#x2F;a&#x2F;@href&#39;).extract()</span><br></pre></td></tr></table></figure>

<p>æè¿°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">xpath(&#39;&#x2F;&#x2F;*[@class&#x3D;&quot;all_news_wildlist&quot;]&#x2F;div[@class&#x3D;&quot;items&quot;]&#x2F;div[@class&#x3D;&quot;item&quot;]&#x2F;*[@class&#x3D;&quot;hd&quot;]&#x2F;*[@class&#x3D;&quot;newsinfo&quot;]&#x2F;p&#x2F;text()&#39;).extract()</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹æˆ‘ä»¬ä¹‹å‰å®šä¹‰çš„ <code>cnbetaspider.py</code> ä¸­çš„ <code>parse()</code> æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import scrapy</span><br><span class="line"></span><br><span class="line">class cnbetaSpider(scrapy.Spider):</span><br><span class="line">    &quot;&quot;&quot;docstring for cnbetaSpider&quot;&quot;&quot;</span><br><span class="line">    name&#x3D;&quot;cnbeta&quot;</span><br><span class="line">    allowed_domains&#x3D;[&quot;cnbeta.com&quot;]</span><br><span class="line">    start_urls&#x3D;[</span><br><span class="line">        &quot;http:&#x2F;&#x2F;www.cnbeta.com&#x2F;topics&#x2F;9.htm&quot;</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    def parse(self,response):</span><br><span class="line">        for sel in response.xpath(&#39;&#x2F;&#x2F;*[@class&#x3D;&quot;all_news_wildlist&quot;]&#x2F;div[@class&#x3D;&quot;items&quot;]&#x2F;div[@class&#x3D;&quot;item&quot;]&#39;):</span><br><span class="line">            title&#x3D;sel.xpath(&#39;*[@class&#x3D;&quot;hd&quot;]&#x2F;div[@class&#x3D;&quot;title&quot;]&#x2F;a&#x2F;text()&#39;).extract()</span><br><span class="line">            link&#x3D;sel.xpath(&#39;*[@class&#x3D;&quot;hd&quot;]&#x2F;div[@class&#x3D;&quot;title&quot;]&#x2F;a&#x2F;@href&#39;).extract()</span><br><span class="line">            desc&#x3D;sel.xpath(&#39;*[@class&#x3D;&quot;hd&quot;]&#x2F;*[@class&#x3D;&quot;newsinfo&quot;]&#x2F;p&#x2F;text()&#39;).extract()</span><br><span class="line">            print(title,link,desc)</span><br></pre></td></tr></table></figure>

<p>å†æ¬¡æ‰§è¡Œï¼Œèƒ½çœ‹åˆ°çˆ¬å–åˆ°çš„ç½‘ç«™ä¿¡æ¯è¢«æˆåŠŸè¾“å‡º:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ scapy crawl cnbeta</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ç»“æœ"><a href="#ç»“æœ" class="headerlink" title="ç»“æœ"></a>ç»“æœ</h4><p>å°†ä¹‹å‰è®¾ç½®çš„ <code>Item</code> å¯¹è±¡å¼•å…¥ï¼Œä½¿ç”¨æ ‡å‡†çš„å­—å…¸è¯­æ³•æ¥ä¿æŒè·å–åˆ°çš„æ¯ä¸ªå­—æ®µçš„å€¼ã€‚æœ€ç»ˆçš„ä»£ç ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># coding:utf-8</span><br><span class="line"></span><br><span class="line">import scrapy</span><br><span class="line">from cnbetaSpider.items import CnbetaspiderItem</span><br><span class="line"></span><br><span class="line">class cnbetaSpider(scrapy.Spider):</span><br><span class="line">    &quot;&quot;&quot;docstring for cnbetaSpider&quot;&quot;&quot;</span><br><span class="line">    name&#x3D;&quot;cnbeta&quot;</span><br><span class="line">    allowed_domains&#x3D;[&quot;cnbeta.com&quot;]</span><br><span class="line">    start_urls&#x3D;[</span><br><span class="line">        &quot;http:&#x2F;&#x2F;www.cnbeta.com&#x2F;topics&#x2F;9.htm&quot;</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    def parse(self,response):</span><br><span class="line">        items&#x3D;[]</span><br><span class="line">        for sel in response.xpath(&#39;&#x2F;&#x2F;*[@class&#x3D;&quot;all_news_wildlist&quot;]&#x2F;div[@class&#x3D;&quot;items&quot;]&#x2F;div[@class&#x3D;&quot;item&quot;]&#39;):</span><br><span class="line">            item&#x3D;CnbetaspiderItem()</span><br><span class="line">            item[&#39;title&#39;]&#x3D;sel.xpath(&#39;*[@class&#x3D;&quot;hd&quot;]&#x2F;div[@class&#x3D;&quot;title&quot;]&#x2F;a&#x2F;text()&#39;).extract()</span><br><span class="line">            item[&#39;link&#39;]&#x3D;sel.xpath(&#39;*[@class&#x3D;&quot;hd&quot;]&#x2F;div[@class&#x3D;&quot;title&quot;]&#x2F;a&#x2F;@href&#39;).extract()</span><br><span class="line">            item[&#39;desc&#39;]&#x3D;sel.xpath(&#39;*[@class&#x3D;&quot;hd&quot;]&#x2F;*[@class&#x3D;&quot;newsinfo&quot;]&#x2F;p&#x2F;text()&#39;).extract()</span><br><span class="line">            # yield item</span><br><span class="line">            items.append(item)</span><br><span class="line"></span><br><span class="line">        return items</span><br></pre></td></tr></table></figure>

<hr>
<p>å¦‚æœæƒ³æŠŠå¾—åˆ°çš„ç»“æœä¿å­˜åœ¨ä¸´æ—¶æ–‡ä»¶ä¸­ï¼Œå¯ä»¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ scrapy crawl cnbeta &gt; abc.html</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±æŠŠç»“æœä¿å­˜åœ¨å½“å‰ç›®å½•ä¸‹çš„ <code>abc.html</code> ä¸­äº†ã€‚</p>
<hr>
<h4 id="Scrapyçˆ¬è™«è¿è¡Œæ—¶æŠ¥é”™-â€œForbidden-by-robots-txtâ€"><a href="#Scrapyçˆ¬è™«è¿è¡Œæ—¶æŠ¥é”™-â€œForbidden-by-robots-txtâ€" class="headerlink" title="Scrapyçˆ¬è™«è¿è¡Œæ—¶æŠ¥é”™ â€œForbidden by robots.txtâ€"></a>Scrapyçˆ¬è™«è¿è¡Œæ—¶æŠ¥é”™ â€œForbidden by robots.txtâ€</h4><p>è§£å†³è¯¥é—®é¢˜åªéœ€è¦å°† <code>settings.py</code> æ–‡ä»¶ä¸­çš„ <code>ROBOTSTXT_OBEY</code> å€¼æ”¹ä¸º <code>False</code> å³å¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ROBOTSTXT_OBEY &#x3D; False</span><br></pre></td></tr></table></figure>

<h4 id="ç›¸å…³é“¾æ¥"><a href="#ç›¸å…³é“¾æ¥" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h4><ul>
<li><a href="http://scrapy-chs.readthedocs.io/zh_CN/latest/index.html" target="_blank" rel="noopener">Scrapy 0.25 æ–‡æ¡£ &mdash; Scrapy 0.24.1 æ–‡æ¡£</a></li>
<li><a href="http://scrapy-chs.readthedocs.io/zh_CN/1.0/index.html" target="_blank" rel="noopener">Scrapy 1.0 æ–‡æ¡£(æœªå®Œæˆ,åªæ›´æ–°äº†introéƒ¨åˆ†,è¯·è°¨æ…å‚è€ƒ) &mdash; Scrapy 1.0.5 æ–‡æ¡£</a></li>
<li><a href="https://segmentfault.com/a/1190000000583419" target="_blank" rel="noopener">ä½¿ç”¨ScrapyæŠ“å–æ•°æ®</a></li>
<li><a href="http://blog.csdn.net/zzk1995/article/details/51628205" target="_blank" rel="noopener">çˆ¬è™«å‡ºç°Forbidden by robots.txt - èœé¸¡çè®²- åšå®¢é¢‘é“ - CSDN.NET</a></li>
<li><a href="http://www.jianshu.com/p/887af1ab4200" target="_blank" rel="noopener">Scrapyç”¨Cookieå®ç°æ¨¡æ‹Ÿç™»å½• - ç®€ä¹¦</a></li>
</ul>
]]></content>
      <categories>
        <category>å¼€å‘ç¬”è®°</category>
      </categories>
      <tags>
        <tag>æ•°æ®æŠ“å–</tag>
        <tag>Python</tag>
        <tag>Scrapy</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ†å¸ƒå¼æœç´¢å¼•æ“ElasticSearchåˆæ¢</title>
    <url>/2016/06/20/distributed-search-engine-elasticsearch/</url>
    <content><![CDATA[<p>ElasticSearchæ˜¯ä¸€ä¸ªåŸºäºLuceneæ„å»ºçš„å¼€æºï¼Œåˆ†å¸ƒå¼ï¼ŒRESTfulæœç´¢å¼•æ“ã€‚</p>
<h4 id="ä»»åŠ¡ç‚¹"><a href="#ä»»åŠ¡ç‚¹" class="headerlink" title="ä»»åŠ¡ç‚¹"></a>ä»»åŠ¡ç‚¹</h4><ul>
<li>åœ¨Ubuntuä¸‹å®‰è£…</li>
<li>åœ¨Windowsä¸‹å®‰è£…</li>
<li>ä½¿ç”¨Restful APIå®ç°æœç´¢å¼•æ“çš„CURDæ“ä½œ</li>
<li>åœ¨Pythonç½‘ç«™Flaskä¸‹ä½¿ç”¨ElasticSearchå®ç°æ–‡ç« æœç´¢</li>
<li>ElasticSearchçš„Pythonè¿æ¥å™¨ï¼šPyes</li>
</ul>
<h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><p>Java (JVM) versionedit</p>
<p>Elasticsearch is built using Java, and requires at least Java 7 in order to run. Only Oracleâ€™s Java and the OpenJDK are supported. The same JVM version should be used on all Elasticsearch nodes and clients.<br>We recommend installing the Java 8 update 20 or later, or Java 7 update 55 or later. Previous versions of Java 7 are known to have bugs that can cause index corruption and data loss. Elasticsearch will refuse to start if a known-bad version of Java is used.<br>The version of Java to use can be configured by setting the JAVA_HOME environment variable.</p>
<h5 id="Linux-Ubuntu-ä¸‹å®‰è£…"><a href="#Linux-Ubuntu-ä¸‹å®‰è£…" class="headerlink" title="Linux(Ubuntu)ä¸‹å®‰è£…"></a>Linux(Ubuntu)ä¸‹å®‰è£…</h5><h6 id="Installing-the-oracle-JDK"><a href="#Installing-the-oracle-JDK" class="headerlink" title="Installing the oracle JDK"></a>Installing the oracle JDK</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo add-apt-repository ppa:webupd8team&#x2F;java</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install oracle-java8-installer</span><br><span class="line">java -version</span><br></pre></td></tr></table></figure>

<h6 id="RPM-based-distributions"><a href="#RPM-based-distributions" class="headerlink" title="RPM based distributions"></a>RPM based distributions</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo &#x2F;bin&#x2F;systemctl daemon-reload</span><br><span class="line">sudo &#x2F;bin&#x2F;systemctl enable elasticsearch.service</span><br><span class="line">sudo &#x2F;bin&#x2F;systemctl start elasticsearch.service</span><br></pre></td></tr></table></figure>

<h5 id="Windowsä¸‹å®‰è£…"><a href="#Windowsä¸‹å®‰è£…" class="headerlink" title="Windowsä¸‹å®‰è£…"></a>Windowsä¸‹å®‰è£…</h5><p>ä»ç½‘ç«™ <a href="https://www.elastic.co/downloads/elasticsearch" target="_blank" rel="noopener"></a> ä¸‹è½½windowsä¸‹çš„msiå®‰è£…åŒ…ï¼Œ<br>åœ¨cmdå‘½ä»¤è¡Œè¿›å…¥å®‰è£…ç›®å½•ï¼Œå†è¿›å…¥ <code>bin</code> ç›®å½•ï¼Œè¿è¡Œ <code>elasticsearch.bat</code> ã€‚</p>
<hr>
<h4 id="Ubuntuä¸‹é…ç½®ElasticSearchç¯å¢ƒå®å½•"><a href="#Ubuntuä¸‹é…ç½®ElasticSearchç¯å¢ƒå®å½•" class="headerlink" title="Ubuntuä¸‹é…ç½®ElasticSearchç¯å¢ƒå®å½•"></a>Ubuntuä¸‹é…ç½®ElasticSearchç¯å¢ƒå®å½•</h4><h4 id="å®‰è£…Javaç¯å¢ƒ"><a href="#å®‰è£…Javaç¯å¢ƒ" class="headerlink" title="å®‰è£…Javaç¯å¢ƒ"></a>å®‰è£…Javaç¯å¢ƒ</h4><p>ç”±äºElasticSearchçš„è¿è¡Œéœ€è¦Javaç¯å¢ƒçš„æ”¯æŒï¼Œå…ˆå®‰è£…javaç¯å¢ƒã€‚<br>ç”±äºUbuntuç³»ç»Ÿä¸­ç”±äºæˆæƒé—®é¢˜ï¼Œé»˜è®¤åªå®‰è£…äº†OpenJDKçš„åŒ…ï¼Œé€šè¿‡<code>java</code>å’Œ<code>javac</code>å¯ä»¥çœ‹åˆ°ï¼š  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">* default-jdk</span><br><span class="line">* ecj</span><br><span class="line">* gcj-4.9-jdk</span><br><span class="line">* openjdk-8-jdk-headless</span><br><span class="line">* gcj-4.8-jdk</span><br><span class="line">* gcj-5-jdk</span><br><span class="line">* openjdk-9-jdk</span><br></pre></td></tr></table></figure>

<p>æ ¹æ®ElasticSearchå®˜æ–¹æ¨èå®‰è£…æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo add-apt-repository ppa:webupd8team&#x2F;java</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install oracle-java8-installer</span><br><span class="line">java -version</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå‡ºç°å¦‚ä¸‹æç¤ºä¿¡æ¯ï¼Œå¹¶æœ‰è¿›åº¦æ¡æ˜¾ç¤ºï¼Œåˆ™è¯´æ˜è¿è¡Œé¡ºåˆ©å¹¶æ­£åœ¨ä¸‹è½½æ‰€éœ€æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">HTTP request sent, awaiting response... 200 OK</span><br><span class="line">Length: 181367942 (173M) [application&#x2F;x-gzip]</span><br><span class="line">Saving to: â€˜jdk-8u91-linux-x64.tar.gzâ€™</span><br><span class="line"></span><br><span class="line">     0K ........ ........ ........ ........ ........ ........  1%  566K 5m8s</span><br><span class="line">  3072K ........ ........ ........ ........ ........ ........  3% 1.15M 3m44s</span><br><span class="line">  6144K ........ ........ ........ ........ ........ ........  5% 1.10M 3m16s</span><br><span class="line">  9216K ........ ........ ........ ........ ........ ........  6% 1002K 3m5s</span><br><span class="line"> 12288K ........ ........ ........ ........ ........ ........  8%  715K 3m11s</span><br><span class="line"> 15360K ........ ........ ........ ........ ........ ........ 10%  624K 3m18s</span><br><span class="line"> 18432K ........ ........ ........ ........ ........ ........ 12%  417K 3m40s</span><br></pre></td></tr></table></figure>

<p>å¦åˆ™å¯èƒ½ç”±äºç½‘ç»œåŸå› æˆ–å…¶ä»–é—®é¢˜ï¼Œä¼šä¸­æ–­ä¸‹è½½æˆ–æŠ¥é”™ã€‚</p>
<h5 id="é”™è¯¯ä¸€ï¼š"><a href="#é”™è¯¯ä¸€ï¼š" class="headerlink" title="é”™è¯¯ä¸€ï¼š"></a>é”™è¯¯ä¸€ï¼š</h5><p>å®‰è£…æ—¶å‡ºç°é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sha256sum mismatch jdk-8u91-linux-x64.tar.gz</span><br><span class="line">Oracle JDK 8 is NOT installed.</span><br><span class="line">dpkg: å¤„ç†è½¯ä»¶åŒ… oracle-java8-installer (--configure)æ—¶å‡ºé”™ï¼š</span><br><span class="line"> å­è¿›ç¨‹ å·²å®‰è£… post-installation è„šæœ¬ è¿”å›é”™è¯¯çŠ¶æ€ 1</span><br><span class="line">æ­£åœ¨è®¾ç½® gsfonts-x11 (0.24) ...</span><br><span class="line">åœ¨å¤„ç†æ—¶æœ‰é”™è¯¯å‘ç”Ÿï¼š</span><br><span class="line"> oracle-java8-installer</span><br><span class="line">E: Sub-process &#x2F;usr&#x2F;bin&#x2F;dpkg returned an error code (1)</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ç”¨è¯¥æ–‡ç« ä¸­ä»‹ç»çš„æ–¹æ³•è§£å†³ï¼Œäº²æµ‹æœ‰æ•ˆï¼š<br><a href="http://www.miaoqiyuan.cn/p/ubuntu-e-sub-process-dpkg-returned-an-error-code" target="_blank" rel="noopener">http://www.miaoqiyuan.cn/p/ubuntu-e-sub-process-dpkg-returned-an-error-code</a></p>
<h5 id="é”™è¯¯äºŒï¼š"><a href="#é”™è¯¯äºŒï¼š" class="headerlink" title="é”™è¯¯äºŒï¼š"></a>é”™è¯¯äºŒï¼š</h5><p>æ ¹æ®ä¸Šé¢çš„æ–¹æ³•æ‰§è¡Œå®Œå‘½ä»¤åï¼Œæ‰§è¡Œ <code>java -version</code> æ—¶åªä¼šæ˜¾ç¤ºä¸‹åˆ—è¾“å‡ºä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tiger@vbox:~$ java -version</span><br><span class="line">ç¨‹åº &#39;java&#39; å·²åŒ…å«åœ¨ä¸‹åˆ—è½¯ä»¶åŒ…ä¸­ï¼š</span><br><span class="line"> * default-jre</span><br><span class="line"> * gcj-4.9-jre-headless</span><br><span class="line"> * gcj-5-jre-headless</span><br><span class="line"> * openjdk-8-jre-headless</span><br><span class="line"> * gcj-4.8-jre-headless</span><br><span class="line"> * openjdk-9-jre-headless</span><br><span class="line">è¯·å°è¯•ï¼šsudo apt install &lt;é€‰å®šçš„è½¯ä»¶åŒ…&gt;</span><br></pre></td></tr></table></figure>

<p>å³ä½¿æ˜¯é‡å¤æ‰§è¡Œä¸Šé¢çš„å®‰è£…æ–¹æ³•ï¼Œç»“æœä»æ˜¯å¦‚æ­¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tiger@vbox:~$ sudo apt-get install oracle-java8-installer</span><br><span class="line">æ­£åœ¨è¯»å–è½¯ä»¶åŒ…åˆ—è¡¨... å®Œæˆ</span><br><span class="line">æ­£åœ¨åˆ†æè½¯ä»¶åŒ…çš„ä¾èµ–å…³ç³»æ ‘       </span><br><span class="line">æ­£åœ¨è¯»å–çŠ¶æ€ä¿¡æ¯... å®Œæˆ       </span><br><span class="line">oracle-java8-installer å·²ç»æ˜¯æœ€æ–°ç‰ˆ (8u92+8u91arm-2~really8u91~webupd8~0)ã€‚</span><br><span class="line">å‡çº§äº† 0 ä¸ªè½¯ä»¶åŒ…ï¼Œæ–°å®‰è£…äº† 0 ä¸ªè½¯ä»¶åŒ…ï¼Œè¦å¸è½½ 0 ä¸ªè½¯ä»¶åŒ…ï¼Œæœ‰ 196 ä¸ªè½¯ä»¶åŒ…æœªè¢«å‡çº§ã€‚</span><br><span class="line">tiger@vbox:~$ sudo apt-get install oracle-java8-set-default</span><br><span class="line">æ­£åœ¨è¯»å–è½¯ä»¶åŒ…åˆ—è¡¨... å®Œæˆ</span><br><span class="line">æ­£åœ¨åˆ†æè½¯ä»¶åŒ…çš„ä¾èµ–å…³ç³»æ ‘       </span><br><span class="line">æ­£åœ¨è¯»å–çŠ¶æ€ä¿¡æ¯... å®Œæˆ       </span><br><span class="line">oracle-java8-set-default å·²ç»æ˜¯æœ€æ–°ç‰ˆ (8u92+8u91arm-2~really8u91~webupd8~0)ã€‚</span><br><span class="line">å‡çº§äº† 0 ä¸ªè½¯ä»¶åŒ…ï¼Œæ–°å®‰è£…äº† 0 ä¸ªè½¯ä»¶åŒ…ï¼Œè¦å¸è½½ 0 ä¸ªè½¯ä»¶åŒ…ï¼Œæœ‰ 196 ä¸ªè½¯ä»¶åŒ…æœªè¢«å‡çº§ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æ ¹æœ¬é—®é¢˜æ˜¯ä»€ä¹ˆ</strong></p>
<p>è½¬åˆ°ç›®å½•<code>/usr/lib/jvm/</code> ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°ä¸€ä¸ªåä¸º <code>java-8-oracle</code> çš„ç›®å½•ï¼Œä½†æŸ¥çœ‹è¯¥ç›®å½•å´å‘ç°é‡Œé¢æ˜¯ç©ºçš„ã€‚æ‰€ä»¥è™½ç„¶æç¤ºæ˜¯å®‰è£…æˆåŠŸäº†ï¼Œä½†å´æ²¡æœ‰å¯æ‰§è¡Œçš„æ–‡ä»¶ï¼Œå¯èƒ½æ˜¯åœ¨ä¸‹è½½æ–‡ä»¶æ—¶å‡ºé”™äº†ã€‚</p>
<p>ç”±äºç›´æ¥å®‰è£…é”™è¯¯ï¼Œä¸‹é¢å°è¯•æ‰‹åŠ¨è¿›è¡Œå®‰è£…ã€‚</p>
<h5 id="ä»€ä¹ˆæƒ…å†µä¸‹è¡¨ç¤ºå®‰è£…æˆåŠŸï¼Œä»€ä¹ˆæƒ…å†µä¸‹è¡¨ç¤ºå®‰è£…å¤±è´¥"><a href="#ä»€ä¹ˆæƒ…å†µä¸‹è¡¨ç¤ºå®‰è£…æˆåŠŸï¼Œä»€ä¹ˆæƒ…å†µä¸‹è¡¨ç¤ºå®‰è£…å¤±è´¥" class="headerlink" title="ä»€ä¹ˆæƒ…å†µä¸‹è¡¨ç¤ºå®‰è£…æˆåŠŸï¼Œä»€ä¹ˆæƒ…å†µä¸‹è¡¨ç¤ºå®‰è£…å¤±è´¥"></a>ä»€ä¹ˆæƒ…å†µä¸‹è¡¨ç¤ºå®‰è£…æˆåŠŸï¼Œä»€ä¹ˆæƒ…å†µä¸‹è¡¨ç¤ºå®‰è£…å¤±è´¥</h5><p>é€šè¿‡ <code>java -version</code> æ¥æŸ¥çœ‹</p>
<p>å¦‚æœè¾“å‡ºå¦‚ä¸‹ï¼Œåˆ™è¯´æ˜ Orancel JDK å®‰è£…å¤±è´¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root@ubuntu:~# java -version</span><br><span class="line">The program &#39;java&#39; can be found in the following packages:</span><br><span class="line"> * default-jre</span><br><span class="line"> * gcj-4.8-jre-headless</span><br><span class="line"> * openjdk-7-jre-headless</span><br><span class="line"> * gcj-4.6-jre-headless</span><br><span class="line"> * openjdk-6-jre-headless</span><br><span class="line">Try: apt-get install &lt;selected package&gt;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœè¾“å‡ºå¦‚ä¸‹ï¼Œåˆ™è¯´æ˜å®‰è£…æˆåŠŸï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tiger@vbox:&#x2F;usr&#x2F;lib&#x2F;jvm$ java -version</span><br><span class="line">java version &quot;1.8.0_91&quot;</span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_91-b14)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.91-b14, mixed mode)</span><br></pre></td></tr></table></figure>

<h4 id="Ubuntuä¸‹æ‰‹åŠ¨å®‰è£…JDK"><a href="#Ubuntuä¸‹æ‰‹åŠ¨å®‰è£…JDK" class="headerlink" title="Ubuntuä¸‹æ‰‹åŠ¨å®‰è£…JDK"></a>Ubuntuä¸‹æ‰‹åŠ¨å®‰è£…JDK</h4><ol>
<li>åˆ°Oracleå®˜ç½‘ä¸‹è½½å¯¹åº”å½“å‰ç³»ç»Ÿçš„jdkç‰ˆæœ¬ <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" target="_blank" rel="noopener">Java SE Development Kit 8 Downloads</a> ï¼š</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; ä¸‹è½½å¯¹åº”ç‰ˆæœ¬jdkå‹ç¼©åŒ…ï¼Œè¿™é‡Œé€‰æ‹© &#96;Linux64&#96;</span><br><span class="line">wget http:&#x2F;&#x2F;download.oracle.com&#x2F;otn-pub&#x2F;java&#x2F;jdk&#x2F;8u91-b14&#x2F;jdk-8u91-linux-x64.tar.gz</span><br><span class="line">&#x2F;&#x2F; ç­‰å¾…ä¸‹è½½å®Œæˆåï¼Œæ‰§è¡Œï¼š</span><br><span class="line">tar zxvf jdk-8u91-linux-x64.tar.gz</span><br><span class="line">&#x2F;&#x2F; æŸ¥çœ‹  &#96;ls&#96;</span><br><span class="line">jdk1.8.0_91 jdk-8u91-linux-x64.tar.gz</span><br></pre></td></tr></table></figure>

<p>å°†è§£å‹åçš„ç›®å½• <code>jdk1.8.0_91</code> å¤åˆ¶åˆ° <code>/usr/lib/jvm</code> ç›®å½•é‡Œï¼Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo cp -r jdk1.8.0_91&#x2F; &#x2F;usr&#x2F;lib&#x2F;jvm</span><br></pre></td></tr></table></figure>

<p>é…ç½®ç¯å¢ƒå˜é‡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo vim &#x2F;etc&#x2F;profile</span><br></pre></td></tr></table></figure>

<p>åœ¨æ–‡ä»¶çš„æœ«å°¾æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š(æ³¨æ„å¯¹åº”è‡ªå·±çš„ç›®å½•è·¯å¾„å’Œjdkçš„ç‰ˆæœ¬å·)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">JAVA_HOME&#x3D;&#x2F;usr&#x2F;lib&#x2F;jvm&#x2F;jdk1.8.0_91</span><br><span class="line">export JRE_HOME&#x3D;&#x2F;usr&#x2F;lib&#x2F;jvm&#x2F;jdk1.8.0_91&#x2F;jre</span><br><span class="line">export CLASSPATH&#x3D;.:$JAVA_HOME&#x2F;lib:$JRE_HOME&#x2F;lib:$CLASSPATH</span><br><span class="line">export PATH&#x3D;$JAVA_HOME&#x2F;bin:$JRE_HOME&#x2F;bin:$PATH</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹å®Œåï¼Œæ‰§è¡Œ <code>:wq</code> é€€å‡ºvim ï¼Œä½¿ç”¨<code>source</code>åˆ·æ–°ä¸€ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">source &#x2F;etc&#x2F;profile</span><br></pre></td></tr></table></figure>

<p>ç„¶åæ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">java -version</span><br><span class="line">&#x2F;&#x2F;çœ‹åˆ°å¦‚ä¸‹ä¿¡æ¯è¡¨ç¤ºå®‰è£…æˆåŠŸï¼š</span><br><span class="line">tiger@vbox:&#x2F;usr&#x2F;lib&#x2F;jvm$ java -version</span><br><span class="line">java version &quot;1.8.0_91&quot;</span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_91-b14)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.91-b14, mixed mode)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;æ‰§è¡Œ &#96;java&#96;</span><br><span class="line"></span><br><span class="line">tiger@vbox:&#x2F;usr&#x2F;lib&#x2F;jvm$ java</span><br><span class="line">ç”¨æ³•: java [-options] class [args...]</span><br><span class="line">           (æ‰§è¡Œç±»)</span><br><span class="line">   æˆ–  java [-options] -jar jarfile [args...]</span><br><span class="line">           (æ‰§è¡Œ jar æ–‡ä»¶)</span><br><span class="line">å…¶ä¸­é€‰é¡¹åŒ…æ‹¬:</span><br><span class="line">    -d32      ä½¿ç”¨ 32 ä½æ•°æ®æ¨¡å‹ (å¦‚æœå¯ç”¨)</span><br><span class="line">    -d64      ä½¿ç”¨ 64 ä½æ•°æ®æ¨¡å‹ (å¦‚æœå¯ç”¨)</span><br><span class="line">    -server   é€‰æ‹© &quot;server&quot; VM</span><br><span class="line">                  é»˜è®¤ VM æ˜¯ server.</span><br><span class="line"></span><br><span class="line">    -cp &lt;ç›®å½•å’Œ zip&#x2F;jar æ–‡ä»¶çš„ç±»æœç´¢è·¯å¾„&gt;</span><br><span class="line">    -classpath &lt;ç›®å½•å’Œ zip&#x2F;jar æ–‡ä»¶çš„ç±»æœç´¢è·¯å¾„&gt;</span><br><span class="line">                  ç”¨ : åˆ†éš”çš„ç›®å½•, JAR æ¡£æ¡ˆ</span><br><span class="line">                  å’Œ ZIP æ¡£æ¡ˆåˆ—è¡¨, ç”¨äºæœç´¢ç±»æ–‡ä»¶ã€‚</span><br><span class="line">    -D&lt;åç§°&gt;&#x3D;&lt;å€¼&gt;</span><br><span class="line">                  è®¾ç½®ç³»ç»Ÿå±æ€§</span><br><span class="line">    -verbose:[class|gc|jni]</span><br><span class="line">                  å¯ç”¨è¯¦ç»†è¾“å‡º</span><br><span class="line">    -version      è¾“å‡ºäº§å“ç‰ˆæœ¬å¹¶é€€å‡º</span><br><span class="line">....</span><br><span class="line">....</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;æ‰§è¡Œ &#96;javac&#96;</span><br><span class="line"></span><br><span class="line">tiger@vbox:&#x2F;usr&#x2F;lib&#x2F;jvm$ javac</span><br><span class="line">ç”¨æ³•: javac &lt;options&gt; &lt;source files&gt;</span><br><span class="line">å…¶ä¸­, å¯èƒ½çš„é€‰é¡¹åŒ…æ‹¬:</span><br><span class="line">  -g                         ç”Ÿæˆæ‰€æœ‰è°ƒè¯•ä¿¡æ¯</span><br><span class="line">  -g:none                    ä¸ç”Ÿæˆä»»ä½•è°ƒè¯•ä¿¡æ¯</span><br><span class="line">  -g:&#123;lines,vars,source&#125;     åªç”ŸæˆæŸäº›è°ƒè¯•ä¿¡æ¯</span><br><span class="line">  -nowarn                    ä¸ç”Ÿæˆä»»ä½•è­¦å‘Š</span><br><span class="line">  -verbose                   è¾“å‡ºæœ‰å…³ç¼–è¯‘å™¨æ­£åœ¨æ‰§è¡Œçš„æ“ä½œçš„æ¶ˆæ¯</span><br><span class="line">  -deprecation               è¾“å‡ºä½¿ç”¨å·²è¿‡æ—¶çš„ API çš„æºä½ç½®</span><br><span class="line">  -classpath &lt;è·¯å¾„&gt;            æŒ‡å®šæŸ¥æ‰¾ç”¨æˆ·ç±»æ–‡ä»¶å’Œæ³¨é‡Šå¤„ç†ç¨‹åºçš„ä½ç½®</span><br><span class="line">  -cp &lt;è·¯å¾„&gt;                   æŒ‡å®šæŸ¥æ‰¾ç”¨æˆ·ç±»æ–‡ä»¶å’Œæ³¨é‡Šå¤„ç†ç¨‹åºçš„ä½ç½®</span><br><span class="line">  -sourcepath &lt;è·¯å¾„&gt;           æŒ‡å®šæŸ¥æ‰¾è¾“å…¥æºæ–‡ä»¶çš„ä½ç½®</span><br><span class="line">  -bootclasspath &lt;è·¯å¾„&gt;        è¦†ç›–å¼•å¯¼ç±»æ–‡ä»¶çš„ä½ç½®</span><br><span class="line">.... </span><br><span class="line">....</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>ä¸‹é¢çš„æ­¥éª¤æœªæµ‹è¯•ï¼Œä»…ä¾›å‚è€ƒ</strong></p>
<p>å¦‚æœåˆ°è¿™ä¸€æ­¥ï¼Œä»»ç„¶ä¸æˆåŠŸçš„è¯ï¼Œåˆ™å±äºæ‰‹åŠ¨é…ç½®é»˜è®¤çš„JDKç‰ˆæœ¬ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo update-alternatives --install &#x2F;usr&#x2F;bin&#x2F;java java &#x2F;usr&#x2F;lib&#x2F;jvm&#x2F;java&#x2F;bin&#x2F;java 300  </span><br><span class="line">sudo update-alternatives --install &#x2F;usr&#x2F;bin&#x2F;javac javac &#x2F;usr&#x2F;lib&#x2F;jvm&#x2F;java&#x2F;bin&#x2F;javac 300  </span><br><span class="line">sudo update-alternatives --install &#x2F;usr&#x2F;bin&#x2F;jar jar &#x2F;usr&#x2F;lib&#x2F;jvm&#x2F;java&#x2F;bin&#x2F;jar 300   </span><br><span class="line">sudo update-alternatives --install &#x2F;usr&#x2F;bin&#x2F;javah javah &#x2F;usr&#x2F;lib&#x2F;jvm&#x2F;java&#x2F;bin&#x2F;javah 300   </span><br><span class="line">sudo update-alternatives --install &#x2F;usr&#x2F;bin&#x2F;javap javap &#x2F;usr&#x2F;lib&#x2F;jvm&#x2F;java&#x2F;bin&#x2F;javap 300 </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;ç„¶åæ‰§è¡Œ</span><br><span class="line">sudo update-alternatives --config java</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; åœ¨é€šè¿‡ java -version æ¥åˆ¤æ–­</span><br><span class="line">java -version</span><br></pre></td></tr></table></figure>


<p>å‚è€ƒ ï¼š</p>
<ul>
<li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/setup-service.html" target="_blank" rel="noopener">Running as a Service on Linux        | Elasticsearch Reference [2.3]      | Elastic</a></li>
<li><a href="http://www.cnblogs.com/plinx/archive/2013/06/01/3113106.html" target="_blank" rel="noopener">ubuntu 13.04 å®‰è£… JDK - plinx - åšå®¢å›­</a></li>
<li><a href="http://www.orangeclk.com/2014/08/10/install-java-on-linux/" target="_blank" rel="noopener">åœ¨ Ubuntu ç³»ç»Ÿä¸Šå®‰è£… Oracle Java 8 | åŠç“¶</a></li>
</ul>
<hr>
<h4 id="å®‰è£…ElasticSearch"><a href="#å®‰è£…ElasticSearch" class="headerlink" title="å®‰è£…ElasticSearch"></a>å®‰è£…ElasticSearch</h4><p>ä¸‹è½½æœ€æ–°å®‰è£…åŒ…ï¼š</p>
<p>ä» <a href="https://www.elastic.co/downloads/elasticsearch" target="_blank" rel="noopener">download Elasticsearch free</a> ä¸‹è½½Linuxçš„å®‰è£…åŒ…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; ä¸‹è½½</span><br><span class="line">$ wget -c https:&#x2F;&#x2F;download.elastic.co&#x2F;elasticsearch&#x2F;release&#x2F;org&#x2F;elasticsearch&#x2F;distribution&#x2F;zip&#x2F;elasticsearch&#x2F;2.3.3&#x2F;elasticsearch-2.3.3.zip</span><br><span class="line">&#x2F;&#x2F; è§£å‹å®‰è£…</span><br><span class="line">unzip elasticsearch-2.3.3.zip</span><br></pre></td></tr></table></figure>

<p>è¿›å…¥è§£å‹åå¾—åˆ°çš„ç›®å½• <code>elasticsearch-2.3.3</code> ï¼Œå‚è€ƒå®˜ç½‘å®‰è£…æ•™ç¨‹ <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/setup.html#setup-installation" target="_blank" rel="noopener">Setup</a> æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ¥è¿è¡Œ:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ bin&#x2F;elasticsearch</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸Šä¸€æ­¥çš„javaç¯å¢ƒæ²¡æœ‰å®‰è£…æˆåŠŸï¼Œæ‰§è¡Œè¯¥å‘½ä»¤ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Could not find any executable java binary. Please install java in your PATH or set JAVA_HOME</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ²¡æœ‰å‡ºç°é”™è¯¯ï¼Œæç¤ºä¿¡æ¯ä¸­è¾“å‡º å¦‚ <code>[INFO] .....</code> ç­‰ä¿¡æ¯ï¼Œè¯´æ˜è¿è¡ŒæˆåŠŸã€‚</p>
<p>å†æ–°å¼€ä¸€ä¸ªå‘½ä»¤è¡Œç»ˆç«¯ï¼Œæ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tiger@vbox:~$ curl http:&#x2F;&#x2F;localhost:9200&#x2F;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;name&quot; : &quot;Rune&quot;,</span><br><span class="line">  &quot;cluster_name&quot; : &quot;elasticsearch&quot;,</span><br><span class="line">  &quot;version&quot; : &#123;</span><br><span class="line">    &quot;number&quot; : &quot;2.3.3&quot;,</span><br><span class="line">    &quot;build_hash&quot; : &quot;218bdf10790eef486ff2c41a3df5cfa32dadcfde&quot;,</span><br><span class="line">    &quot;build_timestamp&quot; : &quot;2016-05-17T15:40:04Z&quot;,</span><br><span class="line">    &quot;build_snapshot&quot; : false,</span><br><span class="line">    &quot;lucene_version&quot; : &quot;5.5.0&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;tagline&quot; : &quot;You Know, for Search&quot;</span><br><span class="line">&#125;</span><br><span class="line">tiger@vbox:~$</span><br></pre></td></tr></table></figure>

<p>å‡ºç°ä¸Šé¢çš„æç¤ºåˆ™è¯´æ˜ElasticSearchå®‰è£…æˆåŠŸã€‚</p>
<ul>
<li><a href="http://www.cnblogs.com/kid551/p/4273256.html" target="_blank" rel="noopener">ElasticSearch - kid551 - åšå®¢å›­</a></li>
</ul>
<hr>
<p>é»˜è®¤æƒ…å†µä¸‹ <code>Elasticsearch</code> çš„ <code>RESTful</code> æœåŠ¡åªæœ‰æœ¬æœºæ‰èƒ½è®¿é—®ã€‚ä¹Ÿå°±æ˜¯è¯´æ— æ³•ä»ä¸»æœºè®¿é—®è™šæ‹Ÿæœºä¸­çš„æœåŠ¡ã€‚ä¸ºäº†æ–¹ä¾¿è°ƒè¯•ï¼Œå¯ä»¥ä¿®æ”¹ <code>/config/elasticsarch.yml</code> æ–‡ä»¶ï¼ŒåŠ å…¥ä»¥ä¸‹ä¸¤è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">network.bind_host: &quot;0.0.0.0&quot;</span><br><span class="line">network.publish_host: _non_loopback:ipv4_</span><br></pre></td></tr></table></figure>

<p>ä½†çº¿ä¸Šç¯å¢ƒåˆ‡å¿Œä¸è¦è¿™æ ·é…ç½®ï¼Œå¦åˆ™ä»»ä½•äººéƒ½å¯ä»¥é€šè¿‡è¿™ä¸ªæ¥å£ä¿®æ”¹ä½ çš„æ•°æ®ã€‚</p>
<hr>
<h4 id="å®‰è£…-IK-Analysis-å¤„ç†ä¸­æ–‡æœç´¢"><a href="#å®‰è£…-IK-Analysis-å¤„ç†ä¸­æ–‡æœç´¢" class="headerlink" title="å®‰è£… IK Analysis å¤„ç†ä¸­æ–‡æœç´¢"></a>å®‰è£… IK Analysis å¤„ç†ä¸­æ–‡æœç´¢</h4><p>Elasticsearch è‡ªå¸¦çš„åˆ†è¯å™¨ä¼šç²—æš´åœ°æŠŠæ¯ä¸ªæ±‰å­—ç›´æ¥åˆ†å¼€ï¼Œæ²¡æœ‰æ ¹æ®è¯åº“æ¥åˆ†è¯ã€‚ä¸ºäº†å¤„ç†ä¸­æ–‡æœç´¢ï¼Œè¿˜éœ€è¦å®‰è£…ä¸­æ–‡åˆ†è¯æ’ä»¶ã€‚æˆ‘ä½¿ç”¨çš„æ˜¯ <a href="https://github.com/medcl/elasticsearch-analysis-ik" target="_blank" rel="noopener">elasticsearch-analysis-ik</a>ï¼Œæ”¯æŒè‡ªå®šä¹‰è¯åº“ã€‚</p>
<p>é¦–å…ˆï¼Œä¸‹è½½ä¸ Elasticsearch åŒ¹é…çš„ elasticsearch-analysis-ik æ’ä»¶ï¼š{2.3.3â€“1.9.3}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; ä»github ä¸‹è½½å†…å®¹</span><br><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;medcl&#x2F;elasticsearch-analysis-ik.git</span><br><span class="line">cd elasticsearch-analysis-ik</span><br><span class="line">&#x2F;&#x2F; è¿›å…¥æŒ‡å®šçš„ tag v1.9.3</span><br><span class="line">git checkout v1.9.3</span><br><span class="line">&#x2F;&#x2F; å½“å‰ç›®å½•</span><br><span class="line">ls</span><br><span class="line">config  LICENSE.txt  pom.xml  README.md  src</span><br></pre></td></tr></table></figure>

<p>è¦ç¼–è¯‘ <code>elasticsearch-analysis-ik</code> ,éœ€è¦å®‰è£… <code>Apache Maven</code> å·¥å…·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install maven</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;æŸ¥çœ‹æ˜¯å¦æ­£ç¡®å®‰è£…</span><br><span class="line">mvn -v</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œç¼–è¯‘ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; å½“å‰ç›®å½•</span><br><span class="line">ls</span><br><span class="line">config  LICENSE.txt  pom.xml  README.md  src</span><br><span class="line">&#x2F;&#x2F; ç¼–è¯‘</span><br><span class="line">mvn package</span><br></pre></td></tr></table></figure>

<p>ç­‰å¾…ç›´åˆ°å‡ºç°å¦‚ä¸‹æç¤ºæ—¶ï¼Œè¡¨ç¤ºç¼–è¯‘æˆåŠŸï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] BUILD SUCCESS</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] Total time: 7:43.935s</span><br><span class="line">[INFO] Finished at: Sun Jun 19 18:36:59 CST 2016</span><br><span class="line">[INFO] Final Memory: 15M&#x2F;56M</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;æŸ¥çœ‹ç›®å½•</span><br><span class="line">ls</span><br><span class="line">config  LICENSE.txt  pom.xml  README.md  src  target</span><br></pre></td></tr></table></figure>

<p>å‘ç°ä¼šå¤šå‡ºäº†ä¸€ä¸ª <code>target</code> ç›®å½•ï¼Œ<code>copy and unzip</code> ç›®å½•ä¸‹çš„æ–‡ä»¶ <code>target/releases/elasticsearch-analysis-ik-{version}.zip</code>  åˆ° ä¸Šé¢å®‰è£…çš„ <code>elasticsearch/plugins/ik</code> ç›®å½•ä¸­ï¼Œéœ€è¦æ–°å»º <code>ik</code> ç›®å½•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; target ç›®å½•</span><br><span class="line">$ pwd</span><br><span class="line">elasticsearch-analysis-ik&#x2F;target&#x2F;releases</span><br><span class="line">$ ls </span><br><span class="line">elasticsearch-analysis-ik-1.9.3.zip</span><br></pre></td></tr></table></figure>

<p>åœ¨ <code>elasticsearch-2.3.3/plugins/</code> ä¸‹æ–°å»ºç›®å½•<code>ik</code> :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ls &#x2F;elastic&#x2F;elasticsearch-2.3.3&#x2F;plugins</span><br><span class="line">$ mkdir &#x2F;elastic&#x2F;elasticsearch-2.3.3&#x2F;plugins&#x2F;ik</span><br><span class="line">$ ls &#x2F;elastic&#x2F;elasticsearch-2.3.3&#x2F;plugins</span><br><span class="line">ik</span><br></pre></td></tr></table></figure>

<p>å°†ä¸Šé¢ç¼–è¯‘å®Œæˆçš„ <code>elasticsearch-analysis-ik-1.9.3.zip</code> æ‹·è´åˆ° <code>ik</code> ç›®å½•å¹¶è§£å‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cp elasticsearch-analysis-ik-1.9.3.zip ~&#x2F;elastic&#x2F;elasticsearch-2.3.3&#x2F;plugins&#x2F;ik</span><br><span class="line">$ ls &#x2F;elastic&#x2F;elasticsearch-2.3.3&#x2F;plugins&#x2F;ik</span><br><span class="line">elasticsearch-analysis-ik-1.9.3.zip</span><br><span class="line">&#x2F;&#x2F; è§£å‹</span><br><span class="line">$ unzip elasticsearch-analysis-ik-1.9.3.zip</span><br><span class="line">&#x2F;&#x2F; å¾—åˆ°å¦‚ä¸‹å†…å®¹ï¼š</span><br><span class="line">$ ls</span><br><span class="line">commons-codec-1.9.jar                elasticsearch-analysis-ik-1.9.3.zip</span><br><span class="line">commons-logging-1.2.jar              httpclient-4.4.1.jar</span><br><span class="line">config                               httpcore-4.4.1.jar</span><br><span class="line">elasticsearch-analysis-ik-1.9.3.jar  plugin-descriptor.properties</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼šä¸Šé¢çš„æ“ä½œç›®å½•è¯·æ ¹æ®ä¸ªäººçš„ç›®å½•å’Œæ‰€ä¸‹è½½çš„ç‰ˆæœ¬å·è¿›è¡Œä¿®æ”¹</strong></p>
<hr>
<p>å¦‚æœä½ è§‰å¾—ä¸Šé¢çš„ç¼–è¯‘æ­¥éª¤å¤ªç¹çï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨githubé¡µé¢çš„<code>release</code>ä¸­ä¸‹è½½å·²ç»ç¼–è¯‘å¥½çš„zipæ–‡ä»¶ï¼Œç›´æ¥è§£å‹åˆ° <code>ik</code> ç›®å½•ä¸‹å³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wget -c https:&#x2F;&#x2F;github.com&#x2F;medcl&#x2F;elasticsearch-analysis-ik&#x2F;releases&#x2F;download&#x2F;v1.9.3&#x2F;elasticsearch-analysis-ik-1.9.3.zip</span><br><span class="line"></span><br><span class="line">unzip elasticsearch-analysis-ik-1.9.3.zip</span><br></pre></td></tr></table></figure>

<p>é‡å¯ <code>elasticsearch</code> æœåŠ¡å³å¯ã€‚</p>
<p>å¦‚æœçœ‹åˆ°ç±»ä¼¼äºä¸‹é¢çš„ä¿¡æ¯ï¼Œè¯´æ˜ IK Analysis æ’ä»¶å·²ç»è£…å¥½äº†:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plugins [analysis-ik]</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="å¦‚ä½•ä»¥root-è´¦æˆ·è¿è¡ŒelasticSearch"><a href="#å¦‚ä½•ä»¥root-è´¦æˆ·è¿è¡ŒelasticSearch" class="headerlink" title="å¦‚ä½•ä»¥root è´¦æˆ·è¿è¡ŒelasticSearch"></a>å¦‚ä½•ä»¥<code>root</code> è´¦æˆ·è¿è¡ŒelasticSearch</h4><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒElasticSearchä¸å…è®¸ä»¥<code>root</code>è´¦æˆ·è¿è¡Œï¼Œä¼šæŠ¥ <code>don&#39;t run elasticsearch as root.</code> é”™è¯¯ã€‚<br>ä¸è¿‡æˆ‘ä»¬ä¹Ÿå¯ä»¥å¼ºåˆ¶è®©å…¶ä»¥ <code>root</code> è´¦æˆ·æ¥è¿è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">bin&#x2F;elasticsearch -Des.insecure.allow.root&#x3D;true</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="é…ç½®åŒä¹‰è¯-è¯¥éƒ¨åˆ†å¾…æµ‹è¯•"><a href="#é…ç½®åŒä¹‰è¯-è¯¥éƒ¨åˆ†å¾…æµ‹è¯•" class="headerlink" title="é…ç½®åŒä¹‰è¯  (è¯¥éƒ¨åˆ†å¾…æµ‹è¯•)"></a>é…ç½®åŒä¹‰è¯  (è¯¥éƒ¨åˆ†å¾…æµ‹è¯•)</h4><p>Elasticsearch è‡ªå¸¦ä¸€ä¸ªåä¸º <code>synonym</code> çš„åŒä¹‰è¯ <code>filter</code>ã€‚ä¸ºäº†èƒ½è®© <code>IK</code> å’Œ <code>synonym</code> åŒæ—¶å·¥ä½œï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰æ–°çš„ <code>analyzer</code>ï¼Œç”¨ <code>IK</code> åš <code>tokenizer</code>ï¼Œ<code>synonym</code> åš <code>filter</code>ã€‚å¬ä¸Šå»å¾ˆå¤æ‚ï¼Œå®é™…ä¸Šè¦åšçš„åªæ˜¯åŠ ä¸€æ®µé…ç½®ã€‚</p>
<p>æ‰“å¼€ <code>~/elasticsearch-2.3.3/config/elasticsearch.yml</code> æ–‡ä»¶ï¼ŒåŠ å…¥ä»¥ä¸‹é…ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">index:</span><br><span class="line">  analysis:</span><br><span class="line">    analyzer:</span><br><span class="line">      ik_syno:</span><br><span class="line">          type: custom</span><br><span class="line">          tokenizer: ik_max_word</span><br><span class="line">          filter: [my_synonym_filter]</span><br><span class="line">      ik_syno_smart:</span><br><span class="line">          type: custom</span><br><span class="line">          tokenizer: ik_smart</span><br><span class="line">          filter: [my_synonym_filter]</span><br><span class="line">    filter:</span><br><span class="line">      my_synonym_filter:</span><br><span class="line">          type: synonym</span><br><span class="line">          synonyms_path: analysis&#x2F;synonym.txt</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šé…ç½®å®šä¹‰äº† <code>ik_syno</code> å’Œ <code>ik_syno_smart</code> è¿™ä¸¤ä¸ªæ–°çš„ <code>analyzer</code>ï¼Œåˆ†åˆ«å¯¹åº” <code>IK</code> çš„ <code>ik_max_word</code> å’Œ <code>ik_smart</code> ä¸¤ç§åˆ†è¯ç­–ç•¥ã€‚æ ¹æ® <code>IK</code> çš„æ–‡æ¡£ï¼ŒäºŒè€…åŒºåˆ«å¦‚ä¸‹ï¼š</p>
<ul>
<li>ik_max_wordï¼šä¼šå°†æ–‡æœ¬åšæœ€ç»†ç²’åº¦çš„æ‹†åˆ†ï¼Œä¾‹å¦‚ã€Œä¸­åäººæ°‘å…±å’Œå›½å›½æ­Œã€ä¼šè¢«æ‹†åˆ†ä¸ºã€Œä¸­åäººæ°‘å…±å’Œå›½ã€ä¸­åäººæ°‘ã€ä¸­åã€åäººã€äººæ°‘å…±å’Œå›½ã€äººæ°‘ã€äººã€æ°‘ã€å…±å’Œå›½ã€å…±å’Œã€å’Œã€å›½å›½ã€å›½æ­Œã€ï¼Œä¼šç©·å°½å„ç§å¯èƒ½çš„ç»„åˆï¼›</li>
<li>ik_smartï¼šä¼šå°†æ–‡æœ¬åšæœ€ç²—ç²’åº¦çš„æ‹†åˆ†ï¼Œä¾‹å¦‚ã€Œä¸­åäººæ°‘å…±å’Œå›½å›½æ­Œã€ä¼šè¢«æ‹†åˆ†ä¸ºã€Œä¸­åäººæ°‘å…±å’Œå›½ã€å›½æ­Œã€ï¼›</li>
</ul>
<p>ik_syno å’Œ ik_syno_smart éƒ½ä¼šä½¿ç”¨ synonym filter å®ç°åŒä¹‰è¯è½¬æ¢ã€‚ä¸ºäº†æ–¹ä¾¿åç»­æµ‹è¯•ï¼Œå»ºè®®åˆ›å»º <code>~/elasticsearch-2.3.3/config/analysis/synonym.txt</code> æ–‡ä»¶ï¼Œè¾“å…¥ä¸€äº›åŒä¹‰è¯å¹¶å­˜ä¸º <code>utf-8</code> æ ¼å¼ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ua,user-agent,userAgent</span><br><span class="line">js,javascript</span><br><span class="line">internet explore&#x3D;&gt;ie</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ç”¨Restful-api-æµ‹è¯•æœç´¢"><a href="#ç”¨Restful-api-æµ‹è¯•æœç´¢" class="headerlink" title="ç”¨Restful api æµ‹è¯•æœç´¢"></a>ç”¨Restful api æµ‹è¯•æœç´¢</h4><p>(1) æŸ¥çœ‹é›†ç¾¤å¥åº·ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl -X GET http:&#x2F;&#x2F;localhost:9200&#x2F;_cat&#x2F;health?v</span><br></pre></td></tr></table></figure>

<p>è¿”å›ç»“æœä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">epoch      timestamp cluster       status node.total node.data shards pri relo init unassign pending_tasks max_task_wait_time active_shards_percent </span><br><span class="line">1466352115 00:01:55  elasticsearch green           1         1      0   0    0    0        0             0                  -                100.0%</span><br></pre></td></tr></table></figure>

<p>è¿”å›ç»“æœçš„ä¸»è¦å­—æ®µæ„ä¹‰ï¼š</p>
<ul>
<li>clusterï¼šé›†ç¾¤åï¼Œæ˜¯åœ¨ESçš„é…ç½®æ–‡ä»¶ä¸­é…ç½®çš„cluster.nameçš„å€¼ã€‚</li>
<li>statusï¼šé›†ç¾¤çŠ¶æ€ã€‚é›†ç¾¤å…±æœ‰greenã€yellowæˆ–redä¸­çš„ä¸‰ç§çŠ¶æ€ã€‚greenä»£è¡¨ä¸€åˆ‡æ­£å¸¸ï¼ˆé›†ç¾¤åŠŸèƒ½é½å…¨ï¼‰ï¼Œyellowæ„å‘³ç€æ‰€æœ‰çš„æ•°æ®éƒ½æ˜¯å¯ç”¨çš„ï¼Œä½†æ˜¯æŸäº›å¤åˆ¶æ²¡æœ‰è¢«åˆ†é…ï¼ˆé›†ç¾¤åŠŸèƒ½é½å…¨ï¼‰ï¼Œredåˆ™ä»£è¡¨å› ä¸ºæŸäº›åŸå› ï¼ŒæŸäº›æ•°æ®ä¸å¯ç”¨ã€‚å¦‚æœæ˜¯redçŠ¶æ€ï¼Œåˆ™è¦å¼•èµ·é«˜åº¦æ³¨æ„ï¼Œæ•°æ®å¾ˆæœ‰å¯èƒ½å·²ç»ä¸¢å¤±ã€‚</li>
<li>node.totalï¼šé›†ç¾¤ä¸­çš„èŠ‚ç‚¹æ•°ã€‚</li>
<li>node.dataï¼šé›†ç¾¤ä¸­çš„æ•°æ®èŠ‚ç‚¹æ•°ã€‚</li>
<li>shardsï¼šé›†ç¾¤ä¸­æ€»çš„åˆ†ç‰‡æ•°é‡ã€‚</li>
<li>priï¼šä¸»åˆ†ç‰‡æ•°é‡ï¼Œè‹±æ–‡å…¨ç§°ä¸ºprivateã€‚</li>
<li>reloï¼šå¤åˆ¶åˆ†ç‰‡æ€»æ•°ã€‚</li>
<li>unassignï¼šæœªæŒ‡å®šçš„åˆ†ç‰‡æ•°é‡ï¼Œæ˜¯åº”æœ‰åˆ†ç‰‡æ•°å’Œç°æœ‰çš„åˆ†ç‰‡æ•°çš„å·®å€¼ï¼ˆåŒ…æ‹¬ä¸»åˆ†ç‰‡å’Œå¤åˆ¶åˆ†ç‰‡ï¼‰ã€‚</li>
</ul>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨è¯·æ±‚ä¸­æ·»åŠ helpå‚æ•°æ¥æŸ¥çœ‹æ¯ä¸ªæ“ä½œè¿”å›ç»“æœå­—æ®µçš„æ„ä¹‰ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl -X GET http:&#x2F;&#x2F;localhost:9200&#x2F;_cat&#x2F;health?help</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">epoch                 | t,time                                   | seconds since 1970-01-01 00:00:00  </span><br><span class="line">timestamp             | ts,hms,hhmmss                            | time in HH:MM:SS                   </span><br><span class="line">cluster               | cl                                       | cluster name                      </span><br><span class="line">status                | st                                       | health status                      </span><br><span class="line">node.total            | nt,nodeTotal                             | total number of nodes              </span><br><span class="line">node.data             | nd,nodeData                              | number of nodes that can store data</span><br><span class="line">shards                | t,sh,shards.total,shardsTotal            | total number of shards             </span><br><span class="line">pri                   | p,shards.primary,shardsPrimary           | number of primary shards           </span><br><span class="line">relo                  | r,shards.relocating,shardsRelocating     | number of relocating nodes         </span><br><span class="line">init                  | i,shards.initializing,shardsInitializing | number of initializing nodes       </span><br><span class="line">unassign              | u,shards.unassigned,shardsUnassigned     | number of unassigned shards        </span><br><span class="line">pending_tasks         | pt,pendingTasks                          | number of pending tasks            </span><br><span class="line">max_task_wait_time    | mtwt,maxTaskWaitTime                     | wait time of longest task pending  </span><br><span class="line">active_shards_percent | asp,activeShardsPercent                  | active number of shards in percent</span><br></pre></td></tr></table></figure>

<p>æœ‰äº†è¿™ä¸ªä¸œä¸œï¼Œå°±å¯ä»¥å‡å°‘çœ‹æ–‡æ¡£çš„æ—¶é—´ã€‚ESä¸­è®¸å¤šAPIéƒ½å¯ä»¥æ·»åŠ helpå‚æ•°æ¥æ˜¾ç¤ºå­—æ®µå«ä¹‰ï¼Œå“ªäº›å¯ä»¥è¿™ä¹ˆåšå‘¢ï¼Ÿæ¯ä¸ªAPIéƒ½è¯•è¯•å°±çŸ¥é“äº†ã€‚</p>
<p>å½“ç„¶ï¼Œå¦‚æœä½ è§‰å¾—è¿”å›çš„ä¸œè¥¿å¤ªå¤šï¼Œçœ‹ç€çœ¼çƒ¦ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥äººä¸ºåœ°æŒ‡å®šè¿”å›çš„å­—æ®µã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">elasticsearch green 0</span><br></pre></td></tr></table></figure>

<p>(2) æŸ¥çœ‹é›†ç¾¤ä¸­çš„èŠ‚ç‚¹ä¿¡æ¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tiger@vbox:~$ curl -XGET http:&#x2F;&#x2F;localhost:9200&#x2F;_cat&#x2F;nodes?v</span><br></pre></td></tr></table></figure>

<p>è¿”å›èŠ‚ç‚¹çš„è¯¦ç»†ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">host      ip        heap.percent ram.percent load node.role master name     </span><br><span class="line">10.0.2.15 10.0.2.15            9          90 0.15 d         *      Bullseye </span><br><span class="line">tiger@vbox:~$</span><br></pre></td></tr></table></figure>

<p>(3) æŸ¥çœ‹é›†ç¾¤ä¸­çš„ç´¢å¼•ä¿¡æ¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tiger@vbox:~$ curl -XGET http:&#x2F;&#x2F;localhost:9200&#x2F;_cat&#x2F;indices?v</span><br><span class="line">health status index   pri rep docs.count docs.deleted store.size pri.store.size </span><br><span class="line">yellow open   twitter   5   1          1            0      4.1kb          4.1kb</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="ç´¢å¼•ï¼ˆIndexï¼‰ç›¸å…³API"><a href="#ç´¢å¼•ï¼ˆIndexï¼‰ç›¸å…³API" class="headerlink" title="ç´¢å¼•ï¼ˆIndexï¼‰ç›¸å…³API"></a>ç´¢å¼•ï¼ˆIndexï¼‰ç›¸å…³API</h5><p>éœ€è¦ä¸€ä¸ªç´¢å¼• <code>index</code> å’Œ <code>type</code></p>
<p>(1) åˆ›å»ºä¸€ä¸ªæ–°çš„ç´¢å¼•</p>
<ul>
<li>ä½¿ç”¨è‡ªå®šä¹‰idç´¢å¼•æ–‡æ¡£</li>
</ul>
<p>ä½¿ç”¨<code>PUT</code>è¯·æ±‚åˆ›å»ºä¸€ä¸ªç´¢å¼•ä¸º<code>twitter</code>ç±»å‹ä¸º<code>tweet</code>çš„æ–‡æ¡£ã€‚å…¶æ–‡æ¡£ç¼–å·ä¸º<code>1</code>ï¼Œæ–‡æ¡£å†…å®¹åŒ…å«<code>title</code>å’Œ<code>content</code> :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tiger@tiger-vbox:~$ curl -XPUT &#39;http:&#x2F;&#x2F;localhost:9200&#x2F;twitter&#x2F;tweet&#x2F;1?pretty&#39; -d &#39;&#123;</span><br><span class="line">    &quot;title&quot;:&quot;ä¸‰æ˜Ÿæ— çº¿å……ç”µæŠ€æœ¯ï¼Œå€¼å¾—å›½äº§æ‰‹æœºå»å­¦ä¹ å—&quot;,</span><br><span class="line">    &quot;content&quot;:&quot;ä¸‰æ˜Ÿæ— çº¿å……ç”µå™¨ä¸ºåœ†è¡Œé€ å‹&quot;</span><br><span class="line">&#125;&#39;</span><br></pre></td></tr></table></figure>

<p>è¿”å›ä¿¡æ¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;_index&quot; : &quot;twitter&quot;,</span><br><span class="line">  &quot;_type&quot; : &quot;tweet&quot;,</span><br><span class="line">  &quot;_id&quot; : &quot;1&quot;,</span><br><span class="line">  &quot;_version&quot; : 1,</span><br><span class="line">  &quot;_shards&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 2,</span><br><span class="line">    &quot;successful&quot; : 1,</span><br><span class="line">    &quot;failed&quot; : 0</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;created&quot; : true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å†æ·»åŠ ä¸€ç¯‡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl -XPUT &#39;http:&#x2F;&#x2F;localhost:9200&#x2F;twitter&#x2F;tweet&#x2F;2?pretty&#39; -d &#39;&#123;</span><br><span class="line">    &quot;title&quot;:&quot;èŒƒå†°å†°ç€èŠ±è£™äº®ç›¸é’å²›ï¼Œä¾§é¢œç²¾è‡´&quot;,</span><br><span class="line">    &quot;content&quot;:&quot;6æœˆ19æ—¥ï¼ŒèŒƒå†°å†°ç°èº«é’å²›æŸæ´»åŠ¨ï¼Œä¸€èº«èŠ±è£™ç”œç¾äº®ç›¸ï¼Œç²¾è‡´ä¾§é¢œç§’æ€è²æ—ã€‚&quot;</span><br><span class="line">&#125;&#39;</span><br></pre></td></tr></table></figure>

<p>è¿”å›ç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tiger@vbox:~$ curl -XPUT &#39;http:&#x2F;&#x2F;localhost:9200&#x2F;twitter&#x2F;tweet&#x2F;2?pretty&#39; -d &#39;&#123;&quot;title&quot;:&quot;èŒƒå†°å†°ç€èŠ±è£™äº®ç›¸é’å²›ï¼Œä¾§é¢œç²¾è‡´&quot;,&quot;content&quot;:&quot;6æœˆ19æ—¥ï¼ŒèŒƒå†° å†°ç°èº«é’å²›æŸæ´»åŠ¨ï¼Œä¸€èº«èŠ±è£™ç”œç¾äº®ç›¸ï¼Œç²¾è‡´ä¾§é¢œç§’æ€è²æ—ã€‚&quot;&#125;&#39;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;_index&quot; : &quot;twitter&quot;,</span><br><span class="line">  &quot;_type&quot; : &quot;tweet&quot;,</span><br><span class="line">  &quot;_id&quot; : &quot;2&quot;,</span><br><span class="line">  &quot;_version&quot; : 2,</span><br><span class="line">  &quot;_shards&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 2,</span><br><span class="line">    &quot;successful&quot; : 1,</span><br><span class="line">    &quot;failed&quot; : 0</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;created&quot; : false</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹æ‰€æœ‰æ–‡ç« ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl -XGET &#39;http:&#x2F;&#x2F;localhost:9200&#x2F;twitter&#x2F;tweet&#x2F;_search?pretty&#x3D;true&#39; -d &#39;&#123;&quot;query&quot;:&#123;&quot;match_all&quot;:&#123;&#125;&#125;&#125;&#39;</span><br></pre></td></tr></table></figure>

<p>è¿”å›ç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;took&quot; : 147,</span><br><span class="line">  &quot;timed_out&quot; : false,</span><br><span class="line">  &quot;_shards&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 5,</span><br><span class="line">    &quot;successful&quot; : 5,</span><br><span class="line">    &quot;failed&quot; : 0</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;hits&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 2,</span><br><span class="line">    &quot;max_score&quot; : 1.0,</span><br><span class="line">    &quot;hits&quot; : [ &#123;</span><br><span class="line">      &quot;_index&quot; : &quot;twitter&quot;,</span><br><span class="line">      &quot;_type&quot; : &quot;tweet&quot;,</span><br><span class="line">      &quot;_id&quot; : &quot;2&quot;,</span><br><span class="line">      &quot;_score&quot; : 1.0,</span><br><span class="line">      &quot;_source&quot; : &#123;</span><br><span class="line">        &quot;title&quot; : &quot;èŒƒå†°å†°ç€èŠ±è£™äº®ç›¸é’å²›ï¼Œä¾§é¢œç²¾è‡´&quot;,</span><br><span class="line">        &quot;content&quot; : &quot;6æœˆ19æ—¥ï¼ŒèŒƒå†°å†°ç°èº«é’å²›æŸæ´»åŠ¨ï¼Œä¸€èº«èŠ±è£™ç”œç¾äº®ç›¸ï¼Œç²¾è‡´ä¾§é¢œç§’æ€è²æ—ã€‚&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      &quot;_index&quot; : &quot;twitter&quot;,</span><br><span class="line">      &quot;_type&quot; : &quot;tweet&quot;,</span><br><span class="line">      &quot;_id&quot; : &quot;1&quot;,</span><br><span class="line">      &quot;_score&quot; : 1.0,</span><br><span class="line">      &quot;_source&quot; : &#123;</span><br><span class="line">        &quot;title&quot; : &quot;ä¸‰æ˜Ÿæ— çº¿å……ç”µæŠ€æœ¯ï¼Œå€¼å¾—å›½äº§æ‰‹æœºå»å­¦ä¹ å—&quot;,</span><br><span class="line">        &quot;content&quot; : &quot;ä¸‰æ˜Ÿæ— çº¿å……ç”µå™¨ä¸ºåœ†è¡Œé€ å‹&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ä¼šæŠŠåˆšæ‰æ·»åŠ çš„æ–‡ç« éƒ½åˆ—å‡ºæ¥ã€‚</p>
<p>æœç´¢å…³é”®è¯â€œæ— çº¿â€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tiger@vbox:~$ curl -XGET &quot;http:&#x2F;&#x2F;localhost:9200&#x2F;twitter&#x2F;tweet&#x2F;_search?pretty&#x3D;true&quot; -d &#39;&#123;&quot;query&quot;:&#123;&quot;query_string&quot;:&#123;&quot;query&quot;:&quot;æ— çº¿&quot;&#125;&#125;&#125;&#39;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;took&quot; : 49,</span><br><span class="line">  &quot;timed_out&quot; : false,</span><br><span class="line">  &quot;_shards&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 5,</span><br><span class="line">    &quot;successful&quot; : 5,</span><br><span class="line">    &quot;failed&quot; : 0</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;hits&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 1,</span><br><span class="line">    &quot;max_score&quot; : 0.0958915,</span><br><span class="line">    &quot;hits&quot; : [ &#123;</span><br><span class="line">      &quot;_index&quot; : &quot;twitter&quot;,</span><br><span class="line">      &quot;_type&quot; : &quot;tweet&quot;,</span><br><span class="line">      &quot;_id&quot; : &quot;1&quot;,</span><br><span class="line">      &quot;_score&quot; : 0.0958915,</span><br><span class="line">      &quot;_source&quot; : &#123;</span><br><span class="line">        &quot;title&quot; : &quot;ä¸‰æ˜Ÿæ— çº¿å……ç”µæŠ€æœ¯ï¼Œå€¼å¾—å›½äº§æ‰‹æœºå»å­¦ä¹ å—&quot;,</span><br><span class="line">        &quot;content&quot; : &quot;ä¸‰æ˜Ÿæ— çº¿å……ç”µå™¨ä¸ºåœ†è¡Œé€ å‹&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ£€æŸ¥ikçš„åˆ‡è¯æ•ˆæœï¼Œå¯ä»¥æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tiger@tiger-vbox:~$ curl &#39;http:&#x2F;&#x2F;localhost:9200&#x2F;twitter&#x2F;_analyze?analyzer&#x3D;ik_max_word&amp;pretty&#x3D;true&#39; -d &#39;&#123;&quot;text&quot;:&quot;ä¸­åäººæ°‘å…±å’Œå›½å›½æ­Œ&quot;&#125;&#39;</span><br></pre></td></tr></table></figure>

<p>è¿”å›ç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;tokens&quot; : [ &#123;</span><br><span class="line">    &quot;token&quot; : &quot;ä¸­åäººæ°‘å…±å’Œå›½&quot;,</span><br><span class="line">    &quot;start_offset&quot; : 0,</span><br><span class="line">    &quot;end_offset&quot; : 7,</span><br><span class="line">    &quot;type&quot; : &quot;CN_WORD&quot;,</span><br><span class="line">    &quot;position&quot; : 0</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    &quot;token&quot; : &quot;ä¸­åäººæ°‘&quot;,</span><br><span class="line">    &quot;start_offset&quot; : 0,</span><br><span class="line">    &quot;end_offset&quot; : 4,</span><br><span class="line">    &quot;type&quot; : &quot;CN_WORD&quot;,</span><br><span class="line">    &quot;position&quot; : 1</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    &quot;token&quot; : &quot;ä¸­å&quot;,</span><br><span class="line">    &quot;start_offset&quot; : 0,</span><br><span class="line">    &quot;end_offset&quot; : 2,</span><br><span class="line">    &quot;type&quot; : &quot;CN_WORD&quot;,</span><br><span class="line">    &quot;position&quot; : 2</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    &quot;token&quot; : &quot;åäºº&quot;,</span><br><span class="line">    &quot;start_offset&quot; : 1,</span><br><span class="line">    &quot;end_offset&quot; : 3,</span><br><span class="line">    &quot;type&quot; : &quot;CN_WORD&quot;,</span><br><span class="line">    &quot;position&quot; : 3</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    &quot;token&quot; : &quot;äººæ°‘å…±å’Œå›½&quot;,</span><br><span class="line">    &quot;start_offset&quot; : 2,</span><br><span class="line">    &quot;end_offset&quot; : 7,</span><br><span class="line">    &quot;type&quot; : &quot;CN_WORD&quot;,</span><br><span class="line">    &quot;position&quot; : 4</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    &quot;token&quot; : &quot;äººæ°‘&quot;,</span><br><span class="line">    &quot;start_offset&quot; : 2,</span><br><span class="line">    &quot;end_offset&quot; : 4,</span><br><span class="line">    &quot;type&quot; : &quot;CN_WORD&quot;,</span><br><span class="line">    &quot;position&quot; : 5</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    &quot;token&quot; : &quot;å…±å’Œå›½&quot;,</span><br><span class="line">    &quot;start_offset&quot; : 4,</span><br><span class="line">    &quot;end_offset&quot; : 7,</span><br><span class="line">    &quot;type&quot; : &quot;CN_WORD&quot;,</span><br><span class="line">    &quot;position&quot; : 6</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    &quot;token&quot; : &quot;å…±å’Œ&quot;,</span><br><span class="line">    &quot;start_offset&quot; : 4,</span><br><span class="line">    &quot;end_offset&quot; : 6,</span><br><span class="line">    &quot;type&quot; : &quot;CN_WORD&quot;,</span><br><span class="line">    &quot;position&quot; : 7</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    &quot;token&quot; : &quot;å›½&quot;,</span><br><span class="line">    &quot;start_offset&quot; : 6,</span><br><span class="line">    &quot;end_offset&quot; : 7,</span><br><span class="line">    &quot;type&quot; : &quot;CN_CHAR&quot;,</span><br><span class="line">    &quot;position&quot; : 8</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    &quot;token&quot; : &quot;å›½æ­Œ&quot;,</span><br><span class="line">    &quot;start_offset&quot; : 7,</span><br><span class="line">    &quot;end_offset&quot; : 9,</span><br><span class="line">    &quot;type&quot; : &quot;CN_WORD&quot;,</span><br><span class="line">    &quot;position&quot; : 9</span><br><span class="line">  &#125; ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="è¯´æ˜ä¸€ä¸‹"><a href="#è¯´æ˜ä¸€ä¸‹" class="headerlink" title="è¯´æ˜ä¸€ä¸‹"></a>è¯´æ˜ä¸€ä¸‹</h5><p><code>pretty</code> å‚æ•°å°±æ˜¯è®©è¿”å›çš„jsonæœ‰æ¢è¡Œå’Œç¼©è¿›ï¼Œå®¹æ˜“é˜…è¯»ï¼Œè°ƒè¯•æ—¶å¯ä»¥åŠ ä¸Šï¼Œå¼€å‘åˆ°ç¨‹åºé‡Œå°±å¯ä»¥å»æ‰äº†ã€‚</p>
<hr>
<h4 id="ç›¸å…³é“¾æ¥"><a href="#ç›¸å…³é“¾æ¥" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h4><h5 id="ä¾èµ–åŒ…"><a href="#ä¾èµ–åŒ…" class="headerlink" title="ä¾èµ–åŒ…"></a>ä¾èµ–åŒ…</h5><ul>
<li><a href="https://github.com/medcl/elasticsearch-analysis-ik/" target="_blank" rel="noopener">GitHub - medcl/elasticsearch-analysis-ik: The IK Analysis plugin integrates Lucene IK analyzer into elasticsearch, support customized dictionary.</a></li>
</ul>
<h5 id="Linuxä¸‹å®‰è£…"><a href="#Linuxä¸‹å®‰è£…" class="headerlink" title="Linuxä¸‹å®‰è£…"></a>Linuxä¸‹å®‰è£…</h5><ul>
<li><a href="https://imququ.com/post/elasticsearch.html" target="_blank" rel="noopener">ä½¿ç”¨ Elasticsearch å®ç°åšå®¢ç«™å†…æœç´¢ | JerryQu çš„å°ç«™</a> <strong>â˜†</strong></li>
<li><a href="http://www.shareditor.com/blogshow/?blogId=36" target="_blank" rel="noopener">æ•™ä½ æˆä¸ºå…¨æ ˆå·¥ç¨‹å¸ˆ(Full Stack Developer) äºŒåå››-ES(elasticsearch)æœç´¢å¼•æ“å®‰è£…å’Œä½¿ç”¨ - SharEDITor - å…³æ³¨å¤§æ•°æ®æŠ€æœ¯</a></li>
<li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/setup-service.html" target="_blank" rel="noopener">Running as a Service on Linux        | Elasticsearch Reference [2.3]      | Elastic</a></li>
<li><a href="https://www.elastic.co/downloads" target="_blank" rel="noopener">The Elastic Stack Download Â· Get Started in Minutes  | Elastic</a></li>
</ul>
<h5 id="Windowsä¸‹å®‰è£…-1"><a href="#Windowsä¸‹å®‰è£…-1" class="headerlink" title="Windowsä¸‹å®‰è£…"></a>Windowsä¸‹å®‰è£…</h5><ul>
<li><a href="http://www.fromwww.net/36206.html" target="_blank" rel="noopener">windowsä¸‹å®‰è£…elasticsearch-1.7.1 | æ•™ç¨‹ç½‘</a></li>
<li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/setup-service-win.html" target="_blank" rel="noopener">Running as a Service on Windows        | Elasticsearch Reference [2.3]      | Elastic</a></li>
<li><a href="http://jingyan.baidu.com/article/1709ad808ad49f4634c4f00d.html" target="_blank" rel="noopener">Windowsä¸‹å®‰è£…Mavenå‚è€ƒ</a></li>
</ul>
<h5 id="Restful-Api"><a href="#Restful-Api" class="headerlink" title="Restful Api"></a>Restful Api</h5><ul>
<li><a href="http://www.cnblogs.com/letong/p/4749234.html" target="_blank" rel="noopener">Python Elasticsearch api - letong - åšå®¢å›­</a></li>
<li><a href="http://ju.outofmemory.cn/entry/50617" target="_blank" rel="noopener">ElasticSearchæ•™ç¨‹ï¼ˆ4ï¼‰â€”â€”ElasticSearchåŸºäºRESTçš„CRUD API - ä¸ºç¨‹åºå‘˜æœåŠ¡</a></li>
<li><a href="http://blog.csdn.net/xialei199023/article/details/48085125" target="_blank" rel="noopener">å®æ—¶æœç´¢å¼•æ“Elasticsearchï¼ˆ2ï¼‰â€”â€”Rest APIçš„ä½¿ç”¨ - HinyLoverçš„ä¸“æ         - åšå®¢é¢‘é“ - CSDN.NET</a></li>
<li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/docs.html" target="_blank" rel="noopener">Document APIs        | Elasticsearch Reference [2.3]      | Elastic</a></li>
<li><a href="https://github.com/sxyx2008/elasticsearch/issues/5" target="_blank" rel="noopener">elasticsearch rest api å¿«é€Ÿä¸Šæ‰‹ Â· Issue #5 Â· sxyx2008/elasticsearch Â· GitHub</a></li>
</ul>
<h5 id="æ–‡æ¡£"><a href="#æ–‡æ¡£" class="headerlink" title="æ–‡æ¡£"></a>æ–‡æ¡£</h5><ul>
<li><a href="http://www.cnblogs.com/xing901022/category/642865.html" target="_blank" rel="noopener">Elasticsearch - éšç¬”åˆ†ç±» - xingoo - åšå®¢å›­</a></li>
<li><a href="http://www.justinablog.com/archives/967" target="_blank" rel="noopener">ä½¿ç”¨Pythonè¿›è¡ŒElasticsearchæ•°æ®ç´¢å¼• | Silent River</a></li>
<li><a href="http://www.vpsee.com/2014/05/install-and-play-with-elasticsearch/" target="_blank" rel="noopener">å®‰è£…å’Œä½¿ç”¨ Elasticsearch | vpsee.com</a></li>
<li><a href="http://blog.csdn.net/xialei199023/article/details/47680401" target="_blank" rel="noopener">å®æ—¶æœç´¢å¼•æ“Elasticsearchï¼ˆ1ï¼‰â€”â€”åŸºç¡€æ¦‚å¿µã€å®‰è£…å’Œè¿è¡Œ - HinyLoverçš„ä¸“æ         - åšå®¢é¢‘é“ - CSDN.NET</a> <strong>â˜†</strong></li>
<li><a href="http://es.xiaoleilu.com/" target="_blank" rel="noopener">Introduction | Elasticsearchæƒå¨æŒ‡å—ï¼ˆä¸­æ–‡ç‰ˆï¼‰</a> <strong>â˜†</strong></li>
<li><a href="http://www.ttlsa.com/bigdata/elasticsearch-analysis-ik-chinese/" target="_blank" rel="noopener">AAAAAAA</a></li>
<li><a href="https://github.com/medcl/elasticsearch-analysis-ik" target="_blank" rel="noopener">https://github.com/medcl/elasticsearch-analysis-ik</a></li>
<li><a href="http://blog.csdn.net/xialei199023/article/details/48085125" target="_blank" rel="noopener">http://blog.csdn.net/xialei199023/article/details/48085125</a></li>
<li><a href="http://blog.csdn.net/xialei199023/article/details/48227247" target="_blank" rel="noopener">http://blog.csdn.net/xialei199023/article/details/48227247</a></li>
<li><a href="https://github.com/elastic/elasticsearch" target="_blank" rel="noopener">https://github.com/elastic/elasticsearch</a></li>
<li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/docs.html" target="_blank" rel="noopener">https://www.elastic.co/guide/en/elasticsearch/reference/current/docs.html</a></li>
<li><a href="https://github.com/sxyx2008/elasticsearch/issues/5" target="_blank" rel="noopener">https://github.com/sxyx2008/elasticsearch/issues/5</a></li>
<li><a href="http://www.shareditor.com/blogshow/?blogId=36" target="_blank" rel="noopener">http://www.shareditor.com/blogshow/?blogId=36</a></li>
</ul>
]]></content>
      <categories>
        <category>å¼€å‘ç¬”è®°</category>
      </categories>
      <tags>
        <tag>ElasticSearch</tag>
      </tags>
  </entry>
  <entry>
    <title>Pythonæ“ä½œSQLServeræ•°æ®åº“</title>
    <url>/2016/06/20/python-connect-sqlserver/</url>
    <content><![CDATA[<h4 id="pymssql"><a href="#pymssql" class="headerlink" title="pymssql"></a>pymssql</h4><p>Pythonæ“ä½œSQLServeréœ€è¦ä½¿ç”¨ <code>pymssql</code> æ¨¡å—</p>
<p>Windowsç³»ç»Ÿä¸‹çš„Pythonç±»åº“æ–‡ä»¶ <code>*.whl</code>æ–‡ä»¶ï¼Œéœ€è¦ç”¨ <code>pip install *.whl</code> çš„æ–¹å¼æ¥å®‰è£…ã€‚</p>
<p>ä¸‹è½½pymssql2.7 library ï¼š<a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#pymssql" target="_blank" rel="noopener">pythonlibs</a></p>
<p>ç¬¬ä¸€æ¬¡ä¸‹è½½äº† <code>pymssql-2.1.2-cp27-cp27m-win_amd64.whl</code> æ–‡ä»¶ï¼Œå®‰è£…æ—¶æŠ¥é”™ï¼Œæç¤ºå¦‚ä¸‹é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Î» pip install pymssql-2.1.2-cp27-cp27m-win_amd64.whl</span><br><span class="line">pymssql-2.1.2-cp27-cp27m-win_amd64.whl is not a supported wheel on this platform.</span><br></pre></td></tr></table></figure>

<p>å³ä½¿æˆåŠŸå®‰è£…äº† <code>pymssql</code>ï¼Œä½†æ˜¯ <code>import pymssql</code> è¿˜æ˜¯ä¼šæŠ¥é”™</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import pymssql</span><br><span class="line">ImportError: DLL load failed: æ‰¾ä¸åˆ°æŒ‡å®šçš„æ¨¡å—ã€‚</span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥åˆå†æ¬¡ä¸‹è½½äº† <code>pymssql-1.0.3-cp27-none-win32.whl</code> æ–‡ä»¶ï¼Œå†æ¬¡å®‰è£…æˆåŠŸã€‚<br>å…·ä½“åŸå› å¯èƒ½å’Œæ“ä½œç³»ç»Ÿæˆ–pythonç‰ˆæœ¬æœ‰å…³ï¼Œå…·ä½“å¾…æ·±å…¥ç ”ç©¶ã€‚</p>
<h4 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># coding:utf-8</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">http:&#x2F;&#x2F;www.pymssql.org&#x2F;en&#x2F;stable&#x2F;</span><br><span class="line">http:&#x2F;&#x2F;www.lfd.uci.edu&#x2F;~gohlke&#x2F;pythonlibs&#x2F;#pymssql </span><br><span class="line"></span><br><span class="line">pymssql-1.0.3-cp27-none-win32.whl    # åªæœ‰è¿™ä¸ªæ‰èƒ½åœ¨windowsä¸‹æ‰§è¡Œ</span><br><span class="line">pymssql-2.1.2-cp27-cp27m-win_amd64.whl # è¿™ä¸ªä¸èƒ½æ‰§è¡Œ</span><br><span class="line"></span><br><span class="line">å®‰è£… whlæ–‡ä»¶ æ‰§è¡Œ &#96;pip install *.whl&#96;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å¼‚å¸¸ï¼š</span><br><span class="line">ä¸èƒ½ç”¨ DB-Library (å¦‚ ISQL)æˆ– ODBC 3.7 æˆ–æ›´æ—©ç‰ˆæœ¬å°† ntext æ•°æ®æˆ–ä»…ä½¿ç”¨ Unicode æ’åºè§„åˆ™çš„ Unicode æ•°æ®å‘é€åˆ°å®¢ æˆ·ç«¯ã€‚</span><br><span class="line">è¿™ä¸ªé—®é¢˜æ˜¯æ•°æ®åº“ä¸­å­—æ®µä¸ºntextç±»å‹ï¼Œè¿™ç§ç±»å‹ç›®å‰çš„c-libraryä¸æ”¯æŒï¼Œéœ€è¦è½¬ä¸ºnvcharæˆ–textç±»å‹æ‰å¯ä»¥ã€‚</span><br><span class="line">1. å»ºè®®ï¼šå°†ntextä¿®æ”¹ä¸ºnvarcharæˆ–text.</span><br><span class="line">2. æ—¢ç„¶ä¸æ”¯æŒntextä½†æ”¯æŒtextï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦åœ¨è¾“å‡ºæ—¶å°†ntextè½¬æ¢ä¸ºtextå°±å¥½äº† </span><br><span class="line">&#96;SELECT cast ( field_name AS TEXT ) AS field_name&#96;</span><br><span class="line">&#96;select convert(varchar(50),guid) as guid, convert(text,content) as content from news&#96;</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">import pymssql</span><br><span class="line"></span><br><span class="line">class MSSQL:</span><br><span class="line">    def __init__(self,host,user,pwd,db):</span><br><span class="line">        self.host&#x3D;host</span><br><span class="line">        self.user&#x3D;user</span><br><span class="line">        self.pwd&#x3D;pwd</span><br><span class="line">        self.db&#x3D;db</span><br><span class="line"></span><br><span class="line">    def __GetConnect(self):</span><br><span class="line">        if not self.db:</span><br><span class="line">            raise(NameError,&quot;æ²¡æœ‰è®¾ç½®æ•°æ®åº“ä¿¡æ¯&quot;)</span><br><span class="line"></span><br><span class="line">        self.conn&#x3D;pymssql.connect(host&#x3D;self.host,user&#x3D;self.user,password&#x3D;self.pwd,database&#x3D;self.db,charset&#x3D;&quot;utf-8&quot;)</span><br><span class="line">        cur&#x3D;self.conn.cursor()</span><br><span class="line">        if not cur:</span><br><span class="line">            raise(NameError,&quot;è¿æ¥æ•°æ®åº“å¤±è´¥&quot;)</span><br><span class="line">        else:</span><br><span class="line">            return cur</span><br><span class="line"></span><br><span class="line">    def ExecQuery(self,sql):</span><br><span class="line">        cur&#x3D;self.__GetConnect()</span><br><span class="line">        cur.execute(sql.encode(&quot;utf-8&quot;))</span><br><span class="line">        resList&#x3D;cur.fetchall()</span><br><span class="line">        # æŸ¥è¯¢å®Œæ¯•åå…³é—­è¿æ¥</span><br><span class="line">        self.conn.close()</span><br><span class="line">        return resList</span><br><span class="line"></span><br><span class="line">    def ExecNonQuery(self,sql):</span><br><span class="line">        cur&#x3D;self.__GetConnect()</span><br><span class="line">        cur.execute(sql.encode(&quot;utf-8&quot;))</span><br><span class="line">        self.conn.commit()</span><br><span class="line">        self.conn.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__&#x3D;&#x3D;&quot;__main__&quot;:</span><br><span class="line"></span><br><span class="line">    ms&#x3D;MSSQL(host&#x3D;&quot;Test-FPC\sqlexpress&quot;,user&#x3D;&quot;sa&quot;,pwd&#x3D;&quot;1&quot;,db&#x3D;&quot;its&quot;)</span><br><span class="line">    resList&#x3D;ms.ExecQuery(&quot;select * from [SchemeCategory] where IsShow&#x3D;1&quot;)   </span><br><span class="line">    for i in resList:</span><br><span class="line">        print(i[&quot;Name&quot;])</span><br></pre></td></tr></table></figure>

<h4 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h4><p>åœ¨æ“ä½œæ˜¯æŠ¥å‡ºäº†å¦‚ä¸‹å¼‚å¸¸ä¿¡æ¯ï¼š</p>
<blockquote>
<p>ä¸èƒ½ç”¨ DB-Library (å¦‚ ISQL)æˆ– ODBC 3.7 æˆ–æ›´æ—©ç‰ˆæœ¬å°† ntext æ•°æ®æˆ–ä»…ä½¿ç”¨ Unicode æ’åºè§„åˆ™çš„ Unicode æ•°æ®å‘é€åˆ°å®¢ æˆ·ç«¯ã€‚</p>
</blockquote>
<p>è¿™ä¸ªé—®é¢˜æ˜¯æ•°æ®åº“ä¸­å­—æ®µä¸ºntextç±»å‹ï¼Œè¿™ç§ç±»å‹ç›®å‰çš„ <code>c-library</code> ä¸æ”¯æŒï¼Œéœ€è¦è½¬ä¸º <code>nvchar</code> æˆ– <code>text</code> ç±»å‹æ‰å¯ä»¥ã€‚</p>
<ol>
<li>å»ºè®®ï¼šå°†ntextä¿®æ”¹ä¸ºnvarcharæˆ–text.</li>
<li>æ—¢ç„¶ä¸æ”¯æŒntextä½†æ”¯æŒtextï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦åœ¨è¾“å‡ºæ—¶å°†ntextè½¬æ¢ä¸ºtextå°±å¥½äº† <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT cast ( field_name AS TEXT ) AS field_name</span><br><span class="line">select convert(varchar(50),guid) as guid, convert(text,content) as content from news</span><br></pre></td></tr></table></figure></li>
<li>ä½¿ç”¨å¦ä¸€ä¸ªç±»åº“ <code>pyodbc</code> æ¥æ“ä½œï¼Œæœªé‡åˆ°è¯¥é—®é¢˜ã€‚</li>
</ol>
<hr>
<h4 id="ç›¸å…³é“¾æ¥"><a href="#ç›¸å…³é“¾æ¥" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h4><p><a href="http://lovesoo.org/python-example-sqlserver.html" target="_blank" rel="noopener">Pythonæ“ä½œSQLServerç¤ºä¾‹ | å¤§çˆ±</a><br><a href="http://www.cnblogs.com/qianlifeng/archive/2012/02/08/2343286.html" target="_blank" rel="noopener">åˆ©ç”¨pythonç®€åŒ–sql serveræ•°æ®å¯¼å…¥å¯¼å‡º - qianlifeng - åšå®¢å›­</a></p>
<ul>
<li><a href="http://blog.csdn.net/shanliangliuxing/article/details/8632909" target="_blank" rel="noopener">python ä½¿ç”¨pymssqlè¿æ¥sql serveræ•°æ®åº“ - Hello World!</a></li>
</ul>
<p><a href="http://pymssql.org/en/latest/index.html" target="_blank" rel="noopener">pymssql &mdash; pymssql 2.2.0.dev documentation</a><br><a href="http://pymssql.org/en/latest/freetds.html#windows" target="_blank" rel="noopener">FreeTDS &mdash; pymssql 2.2.0.dev documentation</a><br><a href="https://github.com/pymssql/pymssql" target="_blank" rel="noopener">GitHub - pymssql/pymssql: Official home for the pymssql source code.</a><br><a href="http://www.freetds.org/" target="_blank" rel="noopener">FreeTDS.org</a><br><a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#pymssql" target="_blank" rel="noopener">Python Extension Packages for Windows - Christoph Gohlke</a></p>
<hr>
<h4 id="pyodbc"><a href="#pyodbc" class="headerlink" title="pyodbc"></a>pyodbc</h4><h5 id="SQL-Server-ODBC-drivers"><a href="#SQL-Server-ODBC-drivers" class="headerlink" title="SQL Server ODBC drivers"></a>SQL Server ODBC drivers</h5><ul>
<li><p>{SQL Server} - released with SQL Server 2000</p>
</li>
<li><p>{SQL Native Client} - released with SQL Server 2005 (also known as version 9.0)</p>
</li>
<li><p>{SQL Server Native Client 10.0} - released with SQL Server 2008</p>
</li>
<li><p>{SQL Server Native Client 11.0} - released with SQL Server 2012</p>
<p>[sqlservertests]<br><code>connection-string=DRIVER={SQL Server};SERVER=localhost;UID=uid;PWD=pwd;DATABASE=db</code></p>
</li>
</ul>
<p>The connection string above will use the 2000/2005 driver, even if SQL Server 2008<br>is installed:</p>
<ul>
<li>2000: DRIVER={SQL Server}</li>
<li>2005: DRIVER={SQL Server}</li>
<li>2008: DRIVER={SQL Server Native Client 10.0}</li>
</ul>
<h5 id="connection-strings"><a href="#connection-strings" class="headerlink" title="connection strings"></a>connection strings</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DRIVER&#x3D;&#123;SQL Server Native Client 11.0&#125;;SERVER&#x3D;test;DATABASE&#x3D;test;UID&#x3D;user;PWD&#x3D;password</span><br></pre></td></tr></table></figure>

<p>in Python:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">conn &#x3D; pyodbc.connect(r&#39;DRIVER&#x3D;&#123;SQL Server Native Client 11.0&#125;;SERVER&#x3D;test;DATABASE&#x3D;test;UID&#x3D;user;PWD&#x3D;password&#39;)</span><br></pre></td></tr></table></figure>

<h5 id="è¿æ¥å­—ç¬¦ä¸²çš„ä¸¤ç§å†™æ³•"><a href="#è¿æ¥å­—ç¬¦ä¸²çš„ä¸¤ç§å†™æ³•" class="headerlink" title="è¿æ¥å­—ç¬¦ä¸²çš„ä¸¤ç§å†™æ³•"></a>è¿æ¥å­—ç¬¦ä¸²çš„ä¸¤ç§å†™æ³•</h5><h6 id="å­—ç¬¦ä¸²æ–¹å¼"><a href="#å­—ç¬¦ä¸²æ–¹å¼" class="headerlink" title="å­—ç¬¦ä¸²æ–¹å¼"></a>å­—ç¬¦ä¸²æ–¹å¼</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">connSqlServer &#x3D; pyodbc.connect(&#39;DRIVER&#x3D;&#123;SQL Server Native Client 10.0&#125;;SERVER&#x3D;192.106.0.102\instance1;DATABASE&#x3D;master;UID&#x3D;sql2008;PWD&#x3D;password123&#39;)</span><br><span class="line"></span><br><span class="line">connSqlServer &#x3D; pyodbc.connect(&#39;DRIVER&#x3D;&#123;SQL Server Native Client 10.0&#125;;SERVER&#x3D;192.106.0.102,1443;DATABASE&#x3D;master;UID&#x3D;sql2008;PWD&#x3D;password123&#39;)</span><br></pre></td></tr></table></figure>

<h6 id="å…³é”®å­—æ–¹å¼"><a href="#å…³é”®å­—æ–¹å¼" class="headerlink" title="å…³é”®å­—æ–¹å¼"></a>å…³é”®å­—æ–¹å¼</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">connSqlServer &#x3D; pyodbc.connect(driver&#x3D;&#39;&#123;SQL Server Native Client 10.0&#125;&#39;,</span><br><span class="line">                               server&#x3D;&#39;192.106.0.102\instance1&#39;,</span><br><span class="line">                               database&#x3D;&#39;master&#39;,</span><br><span class="line">                               uid&#x3D;&#39;sql2008&#39;,pwd&#x3D;&#39;password123&#39;)</span><br><span class="line"></span><br><span class="line">connSqlServer &#x3D; pyodbc.connect(driver&#x3D;&#39;&#123;SQL Server Native Client 10.0&#125;&#39;,</span><br><span class="line">                               server&#x3D;&#39;192.106.0.102,1443&#39;,</span><br><span class="line">                               database&#x3D;&#39;master&#39;,</span><br><span class="line">                               uid&#x3D;&#39;sql2008&#39;,pwd&#x3D;&#39;password123&#39;)</span><br></pre></td></tr></table></figure>

<p>è¯¦è§ï¼š<a href="http://stackoverflow.com/questions/25505081/python-pyodbc-how-to-connect-to-a-specific-instance" target="_blank" rel="noopener">sql - python pyodbc : how to connect to a specific instance - Stack Overflow</a></p>
<h5 id="æˆ‘çš„å†™æ³•"><a href="#æˆ‘çš„å†™æ³•" class="headerlink" title="æˆ‘çš„å†™æ³•"></a>æˆ‘çš„å†™æ³•</h5><h6 id="ç¬¬ä¸€ç§æ–¹å¼"><a href="#ç¬¬ä¸€ç§æ–¹å¼" class="headerlink" title="ç¬¬ä¸€ç§æ–¹å¼"></a>ç¬¬ä¸€ç§æ–¹å¼</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def __init__(self,driver,server,db,uid,pwd):</span><br><span class="line">    self.driver&#x3D;&quot;&#123;&#123;&#123;0&#125;&#125;&#125;&quot;.format(driver)  # ä¸¤ä¸ª&#123;è¡¨ç¤ºä¸€ä¸ª</span><br><span class="line">    self.server&#x3D;server</span><br><span class="line">    self.db&#x3D;db</span><br><span class="line">    self.uid&#x3D;uid</span><br><span class="line">    self.pwd&#x3D;pwd</span><br><span class="line"></span><br><span class="line">def __GetConnect(self):</span><br><span class="line">    if not self.db:</span><br><span class="line">        raise(NameError,&quot;æ²¡æœ‰è®¾ç½®æ•°æ®åº“ä¿¡æ¯&quot;)</span><br><span class="line"></span><br><span class="line">    # r&#39;DRIVER&#x3D;&#123;SQL Server Native Client 11.0&#125;;SERVER&#x3D;test;DATABASE&#x3D;test;UID&#x3D;user;PWD&#x3D;password&#39;</span><br><span class="line">    self.conn&#x3D;pyodbc.connect(driver&#x3D;self.driver,server&#x3D;self.server,database&#x3D;self.db,uid&#x3D;self.uid,pwd&#x3D;self.pwd)</span><br><span class="line"></span><br><span class="line">ms&#x3D;MSSQLODBC(driver&#x3D;&quot;SQL Server&quot;,server&#x3D;&quot;Test-FPC\sqlexpress&quot;,db&#x3D;&quot;its&quot;,uid&#x3D;&quot;sa&quot;,pwd&#x3D;&quot;1&quot;)</span><br></pre></td></tr></table></figure>

<h6 id="ç¬¬äºŒç§æ–¹å¼"><a href="#ç¬¬äºŒç§æ–¹å¼" class="headerlink" title="ç¬¬äºŒç§æ–¹å¼"></a>ç¬¬äºŒç§æ–¹å¼</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">self.conn &#x3D; pyodbc.connect(&#39;DRIVER&#x3D;&#123;SQL Server&#125;;SERVER&#x3D;Test-FPC\sqlexpress;PORT&#x3D;1433;DATABASE&#x3D;its;UID&#x3D;sa;PWD&#x3D;1&#39;)</span><br></pre></td></tr></table></figure>

<hr>
<ul>
<li><a href="https://mkleehammer.github.io/pyodbc/" target="_blank" rel="noopener">pyodbc</a></li>
<li><a href="https://github.com/mkleehammer/pyodbc/wiki/Connecting-to-SQL-Server-from-Windows" target="_blank" rel="noopener">Connecting to SQL Server from Windows Â· mkleehammer/pyodbc Wiki Â· GitHub</a></li>
<li><a href="http://stackoverflow.com/questions/25505081/python-pyodbc-how-to-connect-to-a-specific-instance" target="_blank" rel="noopener">sql - python pyodbc : how to connect to a specific instance - Stack Overflow</a></li>
</ul>
<h4 id="Demo-1"><a href="#Demo-1" class="headerlink" title="Demo"></a>Demo</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># coding:utf-8</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">import pyodbc</span><br><span class="line"></span><br><span class="line">class MSSQLODBC:</span><br><span class="line">    def __init__(self,driver,server,db,uid,pwd):</span><br><span class="line">        self.driver&#x3D;&quot;&#123;&#123;&#123;0&#125;&#125;&#125;&quot;.format(driver)  # ä¸¤ä¸ª&#123;è¡¨ç¤ºä¸€ä¸ª</span><br><span class="line">        self.server&#x3D;server</span><br><span class="line">        self.db&#x3D;db</span><br><span class="line">        self.uid&#x3D;uid</span><br><span class="line">        self.pwd&#x3D;pwd</span><br><span class="line"></span><br><span class="line">    def __GetConnect(self):</span><br><span class="line">        if not self.db:</span><br><span class="line">            raise(NameError,&quot;æ²¡æœ‰è®¾ç½®æ•°æ®åº“ä¿¡æ¯&quot;)</span><br><span class="line"></span><br><span class="line">        # r&#39;DRIVER&#x3D;&#123;SQL Server Native Client 11.0&#125;;SERVER&#x3D;test;DATABASE&#x3D;test;UID&#x3D;user;PWD&#x3D;password&#39;</span><br><span class="line">        self.conn&#x3D;pyodbc.connect(driver&#x3D;self.driver,server&#x3D;self.server,database&#x3D;self.db,uid&#x3D;self.uid,pwd&#x3D;self.pwd)</span><br><span class="line">        # self.conn &#x3D; pyodbc.connect(&#39;DRIVER&#x3D;&#123;SQL Server&#125;;SERVER&#x3D;Test-FPC\sqlexpress;PORT&#x3D;1433;DATABASE&#x3D;its;UID&#x3D;sa;PWD&#x3D;1&#39;)</span><br><span class="line">        cur&#x3D;self.conn.cursor()</span><br><span class="line">        if not cur:</span><br><span class="line">            raise(NameError,&quot;è¿æ¥æ•°æ®åº“å¤±è´¥&quot;)</span><br><span class="line">        else:</span><br><span class="line">            return cur</span><br><span class="line"></span><br><span class="line">    def ExecQuery(self,sql):</span><br><span class="line">        cur&#x3D;self.__GetConnect()</span><br><span class="line">        cur.execute(sql.encode(&quot;utf-8&quot;))</span><br><span class="line">        resList&#x3D;cur.fetchall()</span><br><span class="line">        # æŸ¥è¯¢å®Œæ¯•åå…³é—­è¿æ¥</span><br><span class="line">        self.conn.close()</span><br><span class="line">        return resList</span><br><span class="line"></span><br><span class="line">    def ExecNonQuery(self,sql):</span><br><span class="line">        cur&#x3D;self.__GetConnect()</span><br><span class="line">        cur.execute(sql.encode(&quot;utf-8&quot;))</span><br><span class="line">        self.conn.commit()</span><br><span class="line">        self.conn.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__&#x3D;&#x3D;&quot;__main__&quot;:</span><br><span class="line"></span><br><span class="line">    ms&#x3D;MSSQLODBC(driver&#x3D;&quot;SQL Server&quot;,server&#x3D;&quot;Test-FPC\sqlexpress&quot;,db&#x3D;&quot;its&quot;,uid&#x3D;&quot;sa&quot;,pwd&#x3D;&quot;1&quot;)</span><br><span class="line">    resList&#x3D;ms.ExecQuery(&quot;select top 10 * from [MallProductItem]&quot;)</span><br><span class="line">    for m in resList:</span><br><span class="line">        print(m[4])</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>å¼€å‘ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>C#è„±ç¦»IronPythonä¸­æ‰§è¡Œpythonè„šæœ¬</title>
    <url>/2016/06/10/csharp-call-python-without-ironpython-environment/</url>
    <content><![CDATA[<p>ç»™å®¢æˆ·å®‰è£…ç¨‹åºæ—¶é™¤äº†å®‰è£… <code>.net framework</code> è¿˜è¦å®‰è£… <code>IronPython</code> ï¼Œæ˜¯ä¸æ˜¯è§‰å¾—å¾ˆéº»çƒ¦ï¼Ÿ</p>
<p>ä¸Šé¢è¿™ä¸€åˆ‡éƒ½å¼±çˆ†äº†ï¼Œä¸‹é¢æˆ‘æ¥ä»‹ç»ä¸€ç§ä¸å®‰è£… <code>IronPython</code> åªéœ€è¦å¼•å…¥å‡ ä¸ª <code>IronPython</code> çš„ <code>dll</code> å°±å¯ä»¥åœ¨c#ä¸­æ‰§è¡Œ <code>python</code> è„šæœ¬çš„æ–¹æ³•ã€‚</p>
<p>1ï¼šå¼•å…¥IronPythonä¸­çš„å‡ ä¸ªdll</p>
<pre><code>* `IronPython.dll`
* `IronPython.Modules.dll`
* `Microsoft.Dynamic.dll`
* `Microsoft.Scripting.dll`
* `Microsoft.Scripting.Metadata.dll`</code></pre><p>2ï¼šè¿›å…¥IronPythonçš„Libæ–‡ä»¶å¤¹ï¼ŒæŠŠLibä¸­çš„å†…å®¹æ‰“åŒ…æˆzipï¼Œåå­—ä»»æ„æ—¢å¯ã€‚æ‰“åŒ…å¥½åæ”¾åˆ°c#é¡¹ç›®ä¸‹<br>æˆ‘æŠŠå®ƒæ”¾åˆ°äº†å’Œpyæ–‡ä»¶åŒä¸€ä¸ªç›®å½•ä¸­ </p>
<p>3ï¼šå¾ˆå…³é”®çš„ä¸€æ­¥ï¼Œç¨‹åºåˆå§‹åŒ–æ—¶æ‰§è¡Œä¸‹æ®µä»£ç </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ScriptEngine engine &#x3D; Python.CreateEngine(); </span><br><span class="line">ScriptScope scope &#x3D; engine.CreateScope(); </span><br><span class="line">ScriptSource source &#x3D; engine.CreateScriptSourceFromString( </span><br><span class="line">    @&quot;import sys&quot; &quot;\n&quot;  </span><br><span class="line">    @&quot;sys.path.append(&quot;&quot;.\scripts\pythonlib.zip&quot;&quot;)&quot; &quot;\n&quot;</span><br><span class="line">    @&quot;sys.path.append(&quot;&quot;.\scripts&quot;&quot;)&quot; &quot;\n&quot;</span><br><span class="line">); </span><br><span class="line">source.Execute(scope);</span><br></pre></td></tr></table></figure>

<p>å°†zipæ–‡ä»¶åŠ å…¥pythonåº“è·¯å¾„ã€‚è¿™æ ·èƒ½ä¿è¯pyè„šæœ¬å¯ä»¥æ­£ç¡®æœç´¢åˆ°pythonåº“çš„ä½ç½®ã€‚</p>
<p>4ï¼šå°½æƒ…äº«ç”¨è„šæœ¬è¯­è¨€å¸¦æ¥çš„ä¾¿åˆ©å§ã€‚ä¸ºå…¶ä»–äººå®‰è£…ç¨‹åºæ—¶ä¹Ÿä¸ç”¨å®‰è£…è®¨åŒçš„IronPythonç¯å¢ƒäº†ã€‚</p>
<hr>
<p>é“¾æ¥</p>
<ul>
<li><a href="http://my.oschina.net/gsbhz/blog/361140" target="_blank" rel="noopener">C#è„±ç¦»IronPythonä¸­æ‰§è¡Œpythonè„šæœ¬-gsbhzh çš„ä¸ªäººç©ºé—´ - å¼€æºä¸­å›½ç¤¾åŒº</a></li>
</ul>
]]></content>
      <categories>
        <category>å¼€å‘ç¬”è®°</category>
      </categories>
      <tags>
        <tag>ASP.NET</tag>
      </tags>
  </entry>
  <entry>
    <title>O2Oåœ°å›¾åº”ç”¨ä¹‹åˆ¤æ–­ç”¨æˆ·è®¢å•åœ°å€æ˜¯å¦åœ¨æœåŠ¡èŒƒå›´å†…</title>
    <url>/2016/05/18/whether-user-order-address-is-within-service-range/</url>
    <content><![CDATA[<h4 id="éœ€æ±‚åˆ†æ"><a href="#éœ€æ±‚åˆ†æ" class="headerlink" title="éœ€æ±‚åˆ†æ"></a>éœ€æ±‚åˆ†æ</h4><p>åœ¨o2oé¡¹ç›®ä¸­ï¼Œç»å¸¸è¦ç”¨åˆ°åœ¨ç”¨æˆ·ä¸‹å•æ—¶åˆ¤æ–­ç”¨æˆ·æ‰€å¡«åœ°å€çš„åæ ‡ç‚¹æ˜¯å¦åœ¨æœåŠ¡èŒƒå›´å†…çš„æƒ…å†µï¼Œè¿™é‡Œå‚è€ƒç½‘ä¸Šçš„å®ç°æ–¹å¼ï¼Œç”¨C#æ¥å®ç°ï¼Œç»æµ‹è¯•åæœ‰æ•ˆï¼Œç‰¹æ­¤è®°å½•ã€‚</p>
<h4 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public class MapHelper</span><br><span class="line">   &#123;</span><br><span class="line"></span><br><span class="line">       &#x2F;&#x2F;&#x2F; &lt;summary&gt;</span><br><span class="line">       &#x2F;&#x2F;&#x2F; åˆ¤æ–­ä¸€ä¸ªåæ ‡ç‚¹åœ¨å¤šè¾¹å½¢åæ ‡ç‚¹çš„å†…éƒ¨è¿˜æ˜¯å¤–éƒ¨</span><br><span class="line">       &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;</span><br><span class="line">       &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;point&quot;&gt;è¦åˆ¤æ–­çš„åæ ‡ç‚¹&lt;&#x2F;param&gt;</span><br><span class="line">       &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;pts&quot;&gt;å¤šè¾¹å½¢åæ ‡ç‚¹é›†åˆ&lt;&#x2F;param&gt;</span><br><span class="line">       &#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt;</span><br><span class="line">       public static bool IsPointInPolygon(Point point, List&lt;Point&gt; pts)</span><br><span class="line">       &#123;</span><br><span class="line">           int N &#x3D; pts.Count;</span><br><span class="line">           &#x2F;&#x2F;å¦‚æœç‚¹ä½äºå¤šè¾¹å½¢çš„é¡¶ç‚¹æˆ–è¾¹ä¸Šï¼Œä¹Ÿç®—åšç‚¹åœ¨å¤šè¾¹å½¢å†…ï¼Œç›´æ¥è¿”å›true</span><br><span class="line">           bool boundOrVertex &#x3D; true;</span><br><span class="line">           &#x2F;&#x2F;ç»è¿‡ç‚¹çš„æ¬¡æ•°</span><br><span class="line">           int intersectCount &#x3D; 0;</span><br><span class="line">           double precision &#x3D; 2e-10;</span><br><span class="line">           Point p1, p2;</span><br><span class="line">           Point p &#x3D; point;&#x2F;&#x2F;å½“å‰ç‚¹</span><br><span class="line"></span><br><span class="line">           p1 &#x3D; pts[0];</span><br><span class="line"></span><br><span class="line">           for (int i &#x3D; 1; i &lt;&#x3D; N; i++)</span><br><span class="line">           &#123;</span><br><span class="line">               &#x2F;&#x2F;å¦‚æœç‚¹åœ¨å¤šè¾¹å½¢ä¸Š</span><br><span class="line">               if (p.Equals(p1))</span><br><span class="line">               &#123;</span><br><span class="line">                   return boundOrVertex;</span><br><span class="line">               &#125;</span><br><span class="line"></span><br><span class="line">               p2 &#x3D; pts[(i % N)];</span><br><span class="line">               if (p.Lng&lt;Math.Min(p1.Lng,p2.Lng)||p.Lng&gt;Math.Max(p1.Lng,p2.Lng))</span><br><span class="line">               &#123;</span><br><span class="line">                   p1 &#x3D; p2;</span><br><span class="line">                   continue;</span><br><span class="line">               &#125;</span><br><span class="line"></span><br><span class="line">               if (p.Lng&gt;Math.Min(p1.Lng,p2.Lng)&amp;&amp;p.Lng&lt;Math.Max(p1.Lng,p2.Lng))</span><br><span class="line">               &#123;</span><br><span class="line">                   if (p.Lat&lt;&#x3D;Math.Max(p1.Lat,p2.Lat))</span><br><span class="line">                   &#123;</span><br><span class="line">                       if (p1.Lng&#x3D;&#x3D;p2.Lng&amp;&amp;p.Lat&gt;&#x3D;Math.Min(p1.Lat,p2.Lat))</span><br><span class="line">                       &#123;</span><br><span class="line">                           return boundOrVertex;</span><br><span class="line">                       &#125;</span><br><span class="line"></span><br><span class="line">                       if (p1.Lat&#x3D;&#x3D;p2.Lat)</span><br><span class="line">                       &#123;</span><br><span class="line">                           if (p1.Lat&#x3D;&#x3D;p.Lat)</span><br><span class="line">                           &#123;</span><br><span class="line">                               return boundOrVertex;</span><br><span class="line">                           &#125;</span><br><span class="line">                           else</span><br><span class="line">                           &#123;</span><br><span class="line">                               intersectCount++;</span><br><span class="line">                           &#125;</span><br><span class="line">                       &#125;</span><br><span class="line">                       else</span><br><span class="line">                       &#123;</span><br><span class="line">                           double xinters &#x3D; (p.Lng - p1.Lng) * (p2.Lat - p1.Lat) &#x2F; (p2.Lng - p1.Lng) + p1.Lat;</span><br><span class="line">                           if (Math.Abs(p.Lat-xinters)&lt;precision)</span><br><span class="line">                           &#123;</span><br><span class="line">                               return boundOrVertex;</span><br><span class="line">                           &#125;</span><br><span class="line"></span><br><span class="line">                           if (p.Lat&lt;xinters)</span><br><span class="line">                           &#123;</span><br><span class="line">                               intersectCount++;</span><br><span class="line">                           &#125;</span><br><span class="line">                       &#125;</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;</span><br><span class="line">               else</span><br><span class="line">               &#123;</span><br><span class="line">                   if (p.Lng&#x3D;&#x3D;p2.Lng&amp;&amp;p.Lat&lt;&#x3D;p2.Lat)</span><br><span class="line">                   &#123;</span><br><span class="line">                       Point p3 &#x3D; pts[(i+1)%N];</span><br><span class="line">                       if (p.Lng&gt;&#x3D;Math.Min(p1.Lng,p3.Lng)&amp;&amp;p.Lng&lt;&#x3D;Math.Max(p1.Lng,p3.Lng))</span><br><span class="line">                       &#123;</span><br><span class="line">                           intersectCount++;</span><br><span class="line">                       &#125;</span><br><span class="line">                       else</span><br><span class="line">                       &#123;</span><br><span class="line">                           intersectCount +&#x3D; 2;</span><br><span class="line">                       &#125;</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;</span><br><span class="line">               p1 &#x3D; p2;</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line">           if (intersectCount%2&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               &#x2F;&#x2F;å¶æ•°åœ¨å¤šè¾¹å½¢å¤–</span><br><span class="line">               return false;</span><br><span class="line">           &#125;</span><br><span class="line">           else</span><br><span class="line">           &#123;</span><br><span class="line">               &#x2F;&#x2F;å¥‡æ•°åœ¨å¤šè¾¹å½¢å†…</span><br><span class="line">               return true;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   public class Point</span><br><span class="line">   &#123;</span><br><span class="line">       &#x2F;&#x2F;&#x2F; &lt;summary&gt;</span><br><span class="line">       &#x2F;&#x2F;&#x2F; ç»åº¦</span><br><span class="line">       &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;</span><br><span class="line">       public double Lng &#123; get; set; &#125;</span><br><span class="line">       &#x2F;&#x2F;&#x2F; &lt;summary&gt;</span><br><span class="line">       &#x2F;&#x2F;&#x2F; çº¬åº¦</span><br><span class="line">       &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;</span><br><span class="line">       public double Lat &#123; get; set; &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h4 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h4><p>è¿™é‡Œæˆ‘ç”¨é«˜å¾·åœ°å›¾æ ‡å‡ºäº†åŒ—äº¬äº”ç¯èŒƒå›´çš„åæ ‡ç‚¹é›†åˆï¼Œç„¶åéšæ„é€‰æ‹©ä¸€ä¸ªåæ ‡ç‚¹æ¥è¿›è¡Œåˆ¤æ–­ï¼š</p>
<p>åæ ‡ç‚¹å¯ä»¥ç”¨è¿™ä¸ªå·¥å…·æ¥è·å–ï¼š<a href="http://lbs.amap.com/console/show/picker" target="_blank" rel="noopener">é«˜å¾·åœ°å›¾API</a> </p>
<p><strong>äº”ç¯èŒƒå›´ï¼š</strong>  </p>
<ul>
<li>é¦™æ³‰æ¡¥   116.222208,39.992436</li>
<li>ç®­äº­æ¡¥   116.327147,40.02046</li>
<li>ä¸Šæ¸…æ¡¥   116.353948,40.02299</li>
<li>é¡¾å®¶åº„æ¡¥ 116.44128,40.020526</li>
<li>ä¸œåŒ—äº”ç¯ 116.48441,40.013624</li>
<li>å¹³æˆ¿æ¡¥   116.541101,39.942393</li>
<li>ä¸œå—äº”ç¯ 116.549202,39.851595</li>
<li>æ—§å®«æ–°æ¡¥ 116.43082,39.785968</li>
<li>ç‹¼åˆä¸œæ¡¥ 116.296044,39.777442</li>
<li>å®›å¹³æ¡¥   116.225062,39.845517</li>
<li>è¡™é—¨å£æ¡¥ 116.211308,39.894396</li>
<li>è¥¿äº”ç¯   116.212595,39.944705</li>
</ul>
<p><strong>éšæœºåæ ‡ï¼š</strong></p>
<ul>
<li>æ—èƒæ¡¥åœ°é“ç«™  116.37297,40.021857</li>
<li>æœ›äº¬è¥¿å›­å››åŒº  116.47086,39.99648</li>
<li>è§‚éŸ³ç¦…å¯º      116.533811,39.880533</li>
<li>ä¿ç‹å›½é™…      116.299713,39.772619</li>
<li>èŠ³å›­é‡Œå°åŒº    116.416336,39.78394</li>
<li>æ¶¦æ«é”¦å°šå°åŒº  116.429039,39.790535</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Program</span><br><span class="line">&#123;</span><br><span class="line">    static void Main(string[] args)</span><br><span class="line">    &#123;</span><br><span class="line">        var Plist &#x3D; new List&lt;Point&gt; &#123;</span><br><span class="line">            new Point &#123;Lng&#x3D;116.222208,Lat&#x3D; 39.992436&#125;,</span><br><span class="line">            new Point &#123;Lng&#x3D;116.327147,Lat&#x3D; 40.02046&#125;,</span><br><span class="line">            new Point &#123;Lng&#x3D;116.353948,Lat&#x3D; 40.02299&#125;,</span><br><span class="line">            new Point &#123;Lng&#x3D;116.44128,Lat&#x3D; 40.020526&#125;,</span><br><span class="line">            new Point &#123;Lng&#x3D;116.48441,Lat&#x3D;40.013624 &#125;,</span><br><span class="line">            new Point &#123;Lng&#x3D;116.541101,Lat&#x3D; 39.942393&#125;,</span><br><span class="line">            new Point &#123;Lng&#x3D;116.549202,Lat&#x3D; 39.851595&#125;,</span><br><span class="line">            new Point &#123;Lng&#x3D;116.43082,Lat&#x3D;39.785968&#125;,</span><br><span class="line">            new Point &#123;Lng&#x3D;116.296044,Lat&#x3D;39.777442 &#125;,</span><br><span class="line">            new Point &#123;Lng&#x3D;116.225062,Lat&#x3D;39.845517 &#125;,</span><br><span class="line">            new Point &#123;Lng&#x3D;116.211308,Lat&#x3D; 39.894396&#125;,</span><br><span class="line">            new Point &#123;Lng&#x3D;116.212595,Lat&#x3D;39.944705&#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;var p &#x3D; new Point &#123; Lng &#x3D; 116.37297, Lat &#x3D; 40.021857 &#125;;</span><br><span class="line">        &#x2F;&#x2F;æ—èƒæ¡¥åœ°é“ç«™   å†…</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;var p &#x3D; new Point &#123; Lng &#x3D; 116.47086, Lat &#x3D; 39.99648 &#125;;</span><br><span class="line">        &#x2F;&#x2F;æœ›äº¬è¥¿å›­å››åŒº  å†…</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;var p &#x3D; new Point &#123; Lng &#x3D; 116.533811, Lat &#x3D; 39.880533 &#125;;</span><br><span class="line">        &#x2F;&#x2F;è§‚éŸ³ç¦…å¯º å†…</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;var p &#x3D; new Point &#123; Lng &#x3D; 116.299713, Lat &#x3D; 39.772619 &#125;; </span><br><span class="line">        &#x2F;&#x2F;ä¿ç‹å›½é™…  å¤–</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;var p &#x3D; new Point &#123; Lng &#x3D; 116.416336, Lat &#x3D; 39.78394 &#125;;  </span><br><span class="line">        &#x2F;&#x2F;èŠ³å›­é‡Œå°åŒº  å¤–</span><br><span class="line"></span><br><span class="line">        var p &#x3D; new Point &#123; Lng &#x3D; 116.429039, Lat &#x3D; 39.790535 &#125;;</span><br><span class="line">        &#x2F;&#x2F;æ¶¦æ«é”¦å°šå°åŒº  å†…</span><br><span class="line"></span><br><span class="line">        bool isin &#x3D; MapHelper.IsPointInPolygon(p, Plist);</span><br><span class="line">        if (isin)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(&quot;éšæœºç‚¹åœ¨äº”ç¯èŒƒå›´å†…ï¼Œå¯ä»¥æ´¾å•&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        else</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(&quot;éšæœºç‚¹ä¸åœ¨äº”ç¯èŒƒå›´å†…&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        Console.ReadKey();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><ul>
<li>åŒ—äº¬çš„äº”ç¯èŒƒå›´æ¯•ç«Ÿä¸æ˜¯ä¸€ä¸ªè§„åˆ™çš„å¤šè¾¹å½¢ï¼Œå¯ä»¥å°½é‡é€‰æ‹©æœ‰æ ‡å¿—æ€§çš„åæ ‡ç‚¹æ¥è§„èŒƒå¤šè¾¹å½¢</li>
<li>å‚è€ƒè‡ªï¼š<a href="http://www.cnblogs.com/aheizi/p/5162992.html" target="_blank" rel="noopener">ç™¾åº¦åœ°å›¾â€”â€”åˆ¤æ–­ç”¨æˆ·æ˜¯å¦åœ¨é…é€èŒƒå›´å†…è§£å†³æ–¹æ¡ˆ - aheizi - åšå®¢å›­</a></li>
</ul>
]]></content>
      <categories>
        <category>å¼€å‘ç¬”è®°</category>
      </categories>
      <tags>
        <tag>ASP.NET</tag>
      </tags>
  </entry>
  <entry>
    <title>Pythonä¸­æ—¶é—´æ ¼å¼è½¬æ¢</title>
    <url>/2016/05/17/time-format-conversion-in-python/</url>
    <content><![CDATA[<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">YYYY-MM-DDTHH:MM:SS+HH:MM</span><br><span class="line">2016-04-05T13:31:00+08:00</span><br><span class="line"></span><br><span class="line">2014-09-18T10:42:16.126Z</span><br></pre></td></tr></table></figure>


<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ time &#x3D; &#39;2012-03-01T00:05:55+00:00&#39;</span><br><span class="line">$ datetime.strptime(time, &quot;%Y-%m-%dT%H:%M:%S+00:00&quot;)</span><br><span class="line"># &#x3D;&gt; datetime.datetime(2012, 3, 1, 0, 5, 55)</span><br></pre></td></tr></table></figure>

<p><code>strftime()</code> ç”¨äºæ—¶é—´æ ¼å¼è½¬æ¢<br><code>strptime()</code> ç”¨äºå­—ç¬¦ä¸²æ ¼å¼è½¬æ¢</p>
<h4 id="ä»£ç æ®µ"><a href="#ä»£ç æ®µ" class="headerlink" title="ä»£ç æ®µ"></a>ä»£ç æ®µ</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"># å°†UTCæ—¶é—´è½¬æ¢ä¸ºæœ¬åœ°æ—¶é—´</span><br><span class="line"># 2016-04-04T23:58:00+08:00</span><br><span class="line">def _utc_datetime(value):</span><br><span class="line">    # valueä¸ºä¼ å…¥çš„å€¼ä¸ºUTCæ—¶é—´ï¼Œå¦‚ï¼š2016-04-04T23:58:00+08:00</span><br><span class="line">    format&#x3D;&#39;%Y-%m-%d %H:%M:%S&#39;</span><br><span class="line">    utc_format&#x3D;&#39;%Y-%m-%dT%H:%M:%S+08:00&#39;</span><br><span class="line">    local&#x3D; datetime.strptime(value,utc_format)</span><br><span class="line">    dt&#x3D; datetime.strftime(local,format)</span><br><span class="line">    return dt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line">å°†unixæ—¶é—´æˆ³è½¬ä¸ºæ ‡å‡†æ—¶é—´æ ¼å¼</span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line">def _timestamp_datetime(value):</span><br><span class="line">    format &#x3D; &#39;%Y-%m-%d %H:%M:%S&#39;</span><br><span class="line">    # valueä¸ºä¼ å…¥çš„å€¼ä¸ºæ—¶é—´æˆ³(æ•´å½¢)ï¼Œå¦‚ï¼š1332888820</span><br><span class="line">    value &#x3D; time.localtime(value)</span><br><span class="line">    ## ç»è¿‡localtimeè½¬æ¢åå˜æˆ</span><br><span class="line">    ## time.struct_time(tm_year&#x3D;2012, tm_mon&#x3D;3, tm_mday&#x3D;28, tm_hour&#x3D;6, tm_min&#x3D;53, tm_sec&#x3D;40, tm_wday&#x3D;2, tm_yday&#x3D;88, tm_isdst&#x3D;0)</span><br><span class="line">    # æœ€åå†ç»è¿‡strftimeå‡½æ•°è½¬æ¢ä¸ºæ­£å¸¸æ—¥æœŸæ ¼å¼ã€‚</span><br><span class="line">    dt &#x3D; time.strftime(format, value)</span><br><span class="line">    return dt</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ç›¸å…³é“¾æ¥"><a href="#ç›¸å…³é“¾æ¥" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h4><ul>
<li>ç­”æ¡ˆè§è¿™é‡Œï¼š<a href="http://stackoverflow.com/questions/13662789/convert-utc-time-to-python-datetime" target="_blank" rel="noopener">Convert UTC time to python datetime - Stack Overflow</a></li>
<li><a href="http://www.kancloud.cn/thinkphp/python-guide/39410" target="_blank" rel="noopener">datetime - [ Python 3é›¶èµ·ç‚¹æ•™ç¨‹ ] - çœ‹äº‘</a></li>
<li><a href="http://www.open-open.com/lib/view/open1412994489608.html" target="_blank" rel="noopener">Pythonä¸­Timestampã€Datetimeå’ŒUTCæ—¶é—´ç›¸äº’è½¬åŒ–çš„æ–¹æ³• - OPEN å¼€å‘ç»éªŒåº“</a></li>
<li><a href="http://www.cnblogs.com/xmphoenix/archive/2011/05/23/2054022.html" target="_blank" rel="noopener">SQLite æ—¥æœŸç±»å‹(è½¬) - æ·±æµ·çš„å°é±¼å„¿ - åšå®¢å›­</a></li>
<li><a href="http://blog.sina.com.cn/s/blog_4da051a60102v221.html" target="_blank" rel="noopener">pythonæœ¬åœ°æ—¶é—´ä¸UTCæ—¶é—´è½¬æ¢_ä¸¶Source_æ–°æµªåšå®¢</a></li>
<li><a href="http://blog.csdn.net/wuxianglong/article/details/7061568" target="_blank" rel="noopener">Pythonå°†UTCæ—¶é—´è½¬åŒ–ä¸ºLocalæ—¶é—´ - é™é¾        - åšå®¢é¢‘é“ - CSDN.NET</a></li>
<li><a href="http://blog.csdn.net/wirelessqa/article/details/7973121" target="_blank" rel="noopener">pythonæ—¶é—´å¤„ç†ä¹‹datetime - ç å†œè€æ¯•çš„å­¦ä¹ ç¬”è®°        - åšå®¢é¢‘é“ - CSDN.NET</a></li>
<li><a href="http://liyangliang.me/posts/2012/10/python-timestamp-to-timestr/" target="_blank" rel="noopener">Python æ—¶é—´æˆ³å’Œæ—¥æœŸç›¸äº’è½¬æ¢ - ææ—å…‹æ–¯</a> <strong>â˜†</strong></li>
<li><a href="http://www.thinksaas.cn/topics/0/593/593950.html" target="_blank" rel="noopener">Pythonä¸­Timestampã€Datetimeå’ŒUTCæ—¶é—´ç›¸äº’è½¬åŒ–çš„æ–¹æ³•_python_ThinkSAAS</a></li>
</ul>
]]></content>
      <categories>
        <category>å¼€å‘ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Pythonæ—¶é—´å·®</title>
    <url>/2016/05/17/time-difference-in-python/</url>
    <content><![CDATA[<h4 id="datetime-timedelta"><a href="#datetime-timedelta" class="headerlink" title="datetime.timedelta"></a>datetime.timedelta</h4><p><code>datetime.timedelta</code>å¯¹è±¡ä»£è¡¨ä¸¤ä¸ªæ—¶é—´ä¹‹é—´çš„çš„æ—¶é—´å·®ï¼Œä¸¤ä¸ªdateæˆ–datetimeå¯¹è±¡ç›¸å‡æ—¶å¯ä»¥è¿”å›ä¸€ä¸ªtimedeltaå¯¹è±¡ã€‚</p>
<p>æ„é€ å‡½æ•°:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class datetime.timedelta([days[, seconds[, microseconds[, milliseconds[, minutes[, hours[, weeks]]]]]]])</span><br></pre></td></tr></table></figure>

<p>æ‰€æœ‰å‚æ•°å¯é€‰ï¼Œä¸”é»˜è®¤éƒ½æ˜¯0ï¼Œå‚æ•°çš„å€¼å¯ä»¥æ˜¯æ•´æ•°ï¼Œæµ®ç‚¹æ•°ï¼Œæ­£æ•°æˆ–è´Ÿæ•°ã€‚</p>
<p><code>timedelta</code> å¯ä»¥å’Œ <code>dateï¼Œdatetime</code> å¯¹è±¡è¿›è¡ŒåŠ å‡æ“ä½œ</p>
<p><code>timedelta.total_seconds()</code> ç”¨äºè®¡ç®—ç§’æ•°ã€‚</p>
<hr>
<h4 id="å½“å‰çš„æ—¶é—´ä¸ŠåŠ ä¸€å¤©æˆ–ä¸€å¹´å‡ä¸€å¤©ç­‰æ“ä½œ"><a href="#å½“å‰çš„æ—¶é—´ä¸ŠåŠ ä¸€å¤©æˆ–ä¸€å¹´å‡ä¸€å¤©ç­‰æ“ä½œ" class="headerlink" title="å½“å‰çš„æ—¶é—´ä¸ŠåŠ ä¸€å¤©æˆ–ä¸€å¹´å‡ä¸€å¤©ç­‰æ“ä½œ"></a>å½“å‰çš„æ—¶é—´ä¸ŠåŠ ä¸€å¤©æˆ–ä¸€å¹´å‡ä¸€å¤©ç­‰æ“ä½œ</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;env python   </span><br><span class="line"># -*- coding:utf-8 -*-   </span><br><span class="line">  </span><br><span class="line">from datetime import datetime,timedelta   </span><br><span class="line">  </span><br><span class="line">now &#x3D; datetime.now()   </span><br><span class="line">  </span><br><span class="line">yestoday &#x3D; now - timedelta(days&#x3D;1)   </span><br><span class="line">tommorow &#x3D; now + timedelta(days&#x3D;1)   </span><br><span class="line">  </span><br><span class="line">next_year &#x3D; now + timedelta(days &#x3D; 365)</span><br></pre></td></tr></table></figure>

<h4 id="ç›¸å…³é“¾æ¥"><a href="#ç›¸å…³é“¾æ¥" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h4><ul>
<li><a href="http://www.cnblogs.com/goodspeed/archive/2011/11/06/python_timedelta.html" target="_blank" rel="noopener">Pythonä¸­æ—¶é—´çš„å¤„ç†ä¹‹â€”â€”timedeltaç¯‡ - Goodspeed - åšå®¢å›­</a></li>
</ul>
]]></content>
      <categories>
        <category>å¼€å‘ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntuä¸‹é…ç½®Flaskè¿è¡Œç¯å¢ƒ</title>
    <url>/2016/05/09/configuring-flask-running-environment-under-ubuntu/</url>
    <content><![CDATA[<p>Virtualenv + Flask + Gunicorn + Supervisor + Nginx</p>
<h4 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><p>å‡è®¾æˆ‘æ‰€åœ¨çš„å½“å‰è´¦æˆ·åä¸º <code>tiger</code> ã€‚</p>
<h5 id="å‡†å¤‡pythonç¯å¢ƒ"><a href="#å‡†å¤‡pythonç¯å¢ƒ" class="headerlink" title="å‡†å¤‡pythonç¯å¢ƒ"></a>å‡†å¤‡<code>python</code>ç¯å¢ƒ</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get udpate</span><br><span class="line">&#x2F;&#x2F; å®‰è£…python å’Œ pip (å¦‚æœå·²ç»å®‰è£…å¯ä»¥å¿½ç•¥)</span><br><span class="line">$ sudo apt-get install python-dev python-pip -y</span><br></pre></td></tr></table></figure>

<h5 id="åˆ›å»ºvirtualenvè™šæ‹Ÿç¯å¢ƒ"><a href="#åˆ›å»ºvirtualenvè™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="åˆ›å»ºvirtualenvè™šæ‹Ÿç¯å¢ƒ"></a>åˆ›å»ºvirtualenvè™šæ‹Ÿç¯å¢ƒ</h5><p>Virtualenvå¯ä»¥ä¸ºæ¯ä¸ªPythonåº”ç”¨åˆ›å»ºç‹¬ç«‹çš„å¼€å‘ç¯å¢ƒï¼Œä½¿ä»–ä»¬äº’ä¸å½±å“ï¼ŒVirtualenvèƒ½å¤Ÿåšåˆ°ï¼š</p>
<ul>
<li>åœ¨æ²¡æœ‰æƒé™çš„æƒ…å†µä¸‹å®‰è£…æ–°å¥—ä»¶</li>
<li>ä¸åŒåº”ç”¨å¯ä»¥ä½¿ç”¨ä¸åŒçš„å¥—ä»¶ç‰ˆæœ¬</li>
<li>å¥—ä»¶å‡çº§ä¸å½±å“å…¶ä»–åº”ç”¨</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;å®‰è£…æˆ–é€šè¿‡æ‰§è¡Œï¼š</span><br><span class="line">$ sudo pip install virtualenv</span><br></pre></td></tr></table></figure>

<p>æˆ‘é€šå¸¸åˆ›å»ºä¸€ä¸ªåŒ…å« <code>venv</code> æ–‡ä»¶å¤¹çš„é¡¹ç›®æ–‡ä»¶å¤¹:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ mkdir myproject</span><br><span class="line">$ cd myproject</span><br><span class="line">$ virtualenv venv</span><br><span class="line">New python executable in venv&#x2F;bin&#x2F;python2</span><br><span class="line">Also creating executable in venv&#x2F;bin&#x2F;python</span><br><span class="line">Installing setuptools, pip...done.</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ï¼Œæ¯æ¬¡éœ€è¦ä½¿ç”¨é¡¹ç›®æ—¶ï¼Œå¿…é¡»å…ˆæ¿€æ´»ç›¸åº”çš„ç¯å¢ƒã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ls</span><br><span class="line">-- venv</span><br><span class="line">$  . venv&#x2F;bin&#x2F;activate</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;ç»“æœï¼š</span><br><span class="line">(venv)tiger@VirtualBox:~&#x2F;xbox&#x2F;myflask$</span><br></pre></td></tr></table></figure>

<p>ä½ ç°åœ¨è¿›å…¥ä½ çš„ <code>virtualenv</code> ï¼ˆæ³¨æ„æŸ¥çœ‹ä½ çš„ shell æç¤ºç¬¦å·²ç»æ”¹å˜äº†ï¼‰ã€‚</p>
<h5 id="å®‰è£…Flask"><a href="#å®‰è£…Flask" class="headerlink" title="å®‰è£…Flask"></a>å®‰è£…Flask</h5><p>ç°åœ¨å¯ä»¥å¼€å§‹åœ¨ä½ çš„ <code>virtualenv</code> ä¸­å®‰è£… <code>Flask</code> äº†:  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ pip install Flask</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;ç»“æœï¼š</span><br><span class="line">(venv)tiger@VirtualBox:~&#x2F;xbox&#x2F;myflask$ pip install Flask</span><br><span class="line">Downloading&#x2F;unpacking Flask</span><br><span class="line">  Downloading Flask-0.10.1.tar.gz (544kB): 544kB downloaded</span><br><span class="line">    ......</span><br><span class="line">  Successfully installed Flask Werkzeug Jinja2 itsdangerous MarkupSafe</span><br><span class="line">Cleaning up...</span><br></pre></td></tr></table></figure>

<p>å‡ ç§’é’Ÿåå°±å®‰è£…å¥½äº†ã€‚</p>
<h5 id="é€€å‡ºè™šæ‹Ÿç¯å¢ƒ"><a href="#é€€å‡ºè™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="é€€å‡ºè™šæ‹Ÿç¯å¢ƒ"></a>é€€å‡ºè™šæ‹Ÿç¯å¢ƒ</h5><p>å¯é€šè¿‡<code>deactivate</code>é€€å‡ºè™šæ‹Ÿç¯å¢ƒï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(venv)tiger@VirtualBox:~&#x2F;xbox&#x2F;myflask$ deactivate</span><br><span class="line">tiger@VirtualBox:~&#x2F;xbox&#x2F;myflask$</span><br></pre></td></tr></table></figure>

<p>å…·ä½“å¯è¯¦è§ï¼š<a href="http://dormousehole.readthedocs.io/en/latest/installation.html" target="_blank" rel="noopener">Flask-å®‰è£…</a></p>
<h5 id="å¯åŠ¨falsk"><a href="#å¯åŠ¨falsk" class="headerlink" title="å¯åŠ¨falsk"></a>å¯åŠ¨falsk</h5><p>åœ¨å½“å‰ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª <code>hello.py</code> çš„æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(venv) $ vim hello.py</span><br><span class="line">(venv) $ ls</span><br><span class="line">venv hello.py</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºä¸€ä¸ªç®€å•çš„Flaskç¨‹åºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">from flask import Flask</span><br><span class="line">app &#x3D; Flask(__name__)</span><br><span class="line"></span><br><span class="line">@app.route(&#39;&#x2F;&#39;)</span><br><span class="line">def hello_world():</span><br><span class="line">    return &#39;Hello World!&#39;</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">    app.run()</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹<code>hello.py</code> çš„æƒé™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(venv) $ chmod a+x hello.py</span><br></pre></td></tr></table></figure>

<p>å¯åŠ¨ flask:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(venv) $ python hello.py</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ï¼Œç”¨æµè§ˆå™¨è®¿é—® <code>http://127.0.0.1:5000</code> å°±èƒ½çœ‹åˆ°ç½‘é¡µæ˜¾ç¤º <code>hello world</code>ã€‚</p>
<hr>
<h4 id="é…ç½®Gunicorn"><a href="#é…ç½®Gunicorn" class="headerlink" title="é…ç½®Gunicorn"></a>é…ç½®Gunicorn</h4><p>Gunicornæ˜¯ç”¨äºéƒ¨ç½²WSGIåº”ç”¨çš„ï¼Œä»»ä½•æ”¯æŒWSGIçš„éƒ½å¯ä»¥ï¼Œè™½è¯´ç›´æ¥æ‰§è¡Œ <code>python hello.py</code> è¿™æ ·ç½‘ç«™ä¹Ÿèƒ½è·‘èµ·æ¥ï¼Œä½†é‚£æ˜¯æ–¹ä¾¿å¼€å‘è€Œå·²ï¼Œåœ¨çº¿ä¸Šç¯å¢ƒï¼Œè¿˜æ˜¯éœ€è¦æ›´é«˜æ•ˆçš„ç»„ä»¶æ¥åšã€‚</p>
<h5 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(venv)$ pip install gunicorn</span><br></pre></td></tr></table></figure>

<p>ç„¶åå¯ä»¥æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">gunicorn -w 4 -b 127.0.0.1:8000 hello:app</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;ç»“æœï¼š</span><br><span class="line">(venv) $ gunicorn -w 4 -b 127.0.0.1:8000 hello:app</span><br><span class="line">[2016-05-08 16:07:36 +0000] [1337] [INFO] Starting gunicorn 19.4.5</span><br><span class="line">[2016-05-08 16:07:36 +0000] [1337] [INFO] Listening at: http:&#x2F;&#x2F;127.0.0.1:8000 (1337)</span><br><span class="line">[2016-05-08 16:07:36 +0000] [1337] [INFO] Using worker: sync</span><br><span class="line">[2016-05-08 16:07:36 +0000] [1342] [INFO] Booting worker with pid: 1342</span><br><span class="line">[2016-05-08 16:07:36 +0000] [1343] [INFO] Booting worker with pid: 1343</span><br><span class="line">[2016-05-08 16:07:36 +0000] [1344] [INFO] Booting worker with pid: 1344</span><br><span class="line">[2016-05-08 16:07:36 +0000] [1345] [INFO] Booting worker with pid: 1345</span><br></pre></td></tr></table></figure>

<blockquote>
<p>â€œhelloâ€ is the name of the file (without extension). And â€œappâ€ is the name of the Flask object.</p>
</blockquote>
<p>è¿™é‡Œ â€œhelloâ€ æ˜¯pythonæ–‡ä»¶çš„åç§°(ä¸åŒ…å«æ‰©å±•å)ï¼Œå†’å·åé¢çš„â€appâ€ æ˜¯flaskç¨‹åºä¸­<code>app = Flask(__name__)</code>åˆ›å»ºçš„è¿™ä¸ªFlaskå¯¹è±¡çš„åç§°ã€‚</p>
<p>è¿™é‡Œæˆ‘ä»¬ç”¨äº† <code>8000</code> çš„ç«¯å£è¿›è¡Œè®¿é—®ï¼ŒåŸå…ˆçš„ <code>5000</code> å¹¶æ²¡æœ‰å¯ç”¨ã€‚</p>
<p><code>-w</code>è¡¨ç¤ºå¼€å¯å¤šå°‘ä¸ª <code>worker</code>ï¼Œ<code>-b</code> è¡¨ç¤º <code>gunicorn</code> å¼€å‘çš„è®¿é—®åœ°å€  </p>
<p>æƒ³è¦ç»“æŸ <code>gunicorn</code> åªéœ€æ‰§è¡Œ <code>pkill gunicorn</code> : </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(venv)  $ pkill gunicorn</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;ç»“æœï¼š</span><br><span class="line">[2016-05-08 16:09:28 +0000] [1337] [INFO] Handling signal: term</span><br><span class="line">[2016-05-08 16:09:28 +0000] [1344] [INFO] Worker exiting (pid: 1344)</span><br><span class="line">[2016-05-08 16:09:28 +0000] [1342] [INFO] Worker exiting (pid: 1342)</span><br><span class="line">[2016-05-08 16:09:28 +0000] [1343] [INFO] Worker exiting (pid: 1343)</span><br><span class="line">[2016-05-08 16:09:28 +0000] [1345] [INFO] Worker exiting (pid: 1345)</span><br><span class="line">[2016-05-08 16:09:29 +0000] [1337] [INFO] Shutting down: Master</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬è¿˜å¯ä»¥åœ¨ä¸€ä¸ªç‹¬ç«‹çš„é…ç½®æ–‡ä»¶ä¸­æ¥è®¾ç½®ï¼Œæ–°å¢é…ç½®æ–‡ä»¶ <code>gunicorn.conf</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(venv) $ ls</span><br><span class="line">-- hello.py  hello.pyc  venv</span><br><span class="line">(venv) $ vim gunicorn.conf</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;å†™å…¥ä¸‹åˆ—å†…å®¹ï¼š</span><br><span class="line">workers&#x3D;4</span><br><span class="line">bind&#x3D;&#39;127.0.0.1:8000&#39;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä½¿ç”¨<code>pkill gunicorn</code>çš„æ–¹å¼æ¥åœæ­¢è¿›ç¨‹ï¼Œå¤ªè¿‡äºç¹çï¼Œå› æ­¤å‡ºç°äº†å¦å¤–ä¸€ä¸ªç¥å™¨â€”<code>supervisor</code>ï¼Œä¸€ä¸ªä¸“é—¨ç”¨æ¥ç®¡ç†è¿›ç¨‹çš„å·¥å…·ï¼Œè¿˜å¯ä»¥ç®¡ç†ç³»ç»Ÿçš„å·¥å…·è¿›ç¨‹ã€‚</p>
<hr>
<h4 id="Supervisor"><a href="#Supervisor" class="headerlink" title="Supervisor"></a>Supervisor</h4><p>Supervisor æ˜¯ç”¨Pythonå®ç°çš„ä¸€æ¬¾éå¸¸å®ç”¨çš„è¿›ç¨‹ç®¡ç†å·¥å…·ã€‚</p>
<h5 id="å®‰è£…supervisor"><a href="#å®‰è£…supervisor" class="headerlink" title="å®‰è£…supervisor"></a>å®‰è£…supervisor</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(venv) $ pip install supervisor</span><br></pre></td></tr></table></figure>

<h6 id="å¸¸ç”¨æ“ä½œ"><a href="#å¸¸ç”¨æ“ä½œ" class="headerlink" title="å¸¸ç”¨æ“ä½œ"></a>å¸¸ç”¨æ“ä½œ</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">## å¯åŠ¨æœåŠ¡</span><br><span class="line">$ sudo service supervisor start</span><br><span class="line">## åœæ­¢æœåŠ¡</span><br><span class="line">$ sudo service supervisor stop</span><br><span class="line">## ä¹Ÿå¯ä»¥ç›´æ¥ kill pid</span><br><span class="line">$ ps -A | grep supervisor</span><br></pre></td></tr></table></figure>

<h6 id="ç”Ÿæˆsupervisoré»˜è®¤é…ç½®æ–‡ä»¶"><a href="#ç”Ÿæˆsupervisoré»˜è®¤é…ç½®æ–‡ä»¶" class="headerlink" title="ç”Ÿæˆsupervisoré»˜è®¤é…ç½®æ–‡ä»¶"></a>ç”Ÿæˆsupervisoré»˜è®¤é…ç½®æ–‡ä»¶</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(venv) $ echo_supervisord_conf &gt; supervisor.conf</span><br><span class="line"></span><br><span class="line">## æ·»åŠ ä¸€ä¸ª&#96;logs&#96;ç›®å½•ï¼Œç”¨æ¥åé¢å­˜æ”¾æ—¥å¿—ï¼š</span><br><span class="line">(venv) $ mkdir logs</span><br><span class="line">(venv) $ ls</span><br><span class="line">gunicorn.conf  hello.py  hello.pyc  logs  supervisor.conf  venv</span><br></pre></td></tr></table></figure>

<h6 id="ä¿®æ”¹supervisoré…ç½®æ–‡ä»¶ï¼Œæ·»åŠ gunicornè¿›ç¨‹ç®¡ç†"><a href="#ä¿®æ”¹supervisoré…ç½®æ–‡ä»¶ï¼Œæ·»åŠ gunicornè¿›ç¨‹ç®¡ç†" class="headerlink" title="ä¿®æ”¹supervisoré…ç½®æ–‡ä»¶ï¼Œæ·»åŠ gunicornè¿›ç¨‹ç®¡ç†"></a>ä¿®æ”¹supervisoré…ç½®æ–‡ä»¶ï¼Œæ·»åŠ gunicornè¿›ç¨‹ç®¡ç†</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(venv) $ vim supervisor.conf</span><br></pre></td></tr></table></figure>

<p>åœ¨ <code>supervisor.conf</code> é…ç½®æ–‡ä»¶åº•éƒ¨æ·»åŠ ï¼š(å‡è®¾æˆ‘çš„å·¥ä½œç›®å½•ä¸ºï¼š <code>/home/tiger/myflask/myproject/</code> )</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">##æ–‡ä»¶å†…å®¹</span><br><span class="line">[program:hello]  ## æœåŠ¡çš„åç§°ï¼Œåé¢æ“ä½œä¼šç”¨åˆ°</span><br><span class="line">command&#x3D;&#x2F;home&#x2F;tiger&#x2F;myflask&#x2F;myproject&#x2F;venv&#x2F;bin&#x2F;gunicorn hello:app -c &#x2F;home&#x2F;tiger&#x2F;myflask&#x2F;myproject&#x2F;gunicorn.conf      ; supervisorå¯åŠ¨å‘½ä»¤</span><br><span class="line">directory&#x3D;&#x2F;home&#x2F;tiger&#x2F;myflask&#x2F;myproject     ; é¡¹ç›®çš„æ–‡ä»¶å¤¹è·¯å¾„</span><br><span class="line">user&#x3D;tiger</span><br><span class="line">autostart&#x3D;true                           ; æ˜¯å¦è‡ªåŠ¨å¯åŠ¨</span><br><span class="line">autorestart&#x3D;true                         ; æ˜¯å¦è‡ªåŠ¨é‡å¯</span><br><span class="line">##logæ–‡ä»¶çš„ä½ç½®</span><br><span class="line">stdout_logfile&#x3D;&#x2F;home&#x2F;tiger&#x2F;myflask&#x2F;myproject&#x2F;logs&#x2F;gunicorn_supervisor.log     ; log æ—¥å¿—</span><br><span class="line">stderr_logfile&#x3D;&#x2F;home&#x2F;tiger&#x2F;myflask&#x2F;myproject&#x2F;logs&#x2F;gunicorn_supervisor.err     ; é”™è¯¯æ—¥å¿—</span><br></pre></td></tr></table></figure>

<p><code>supervisor</code>çš„åŸºæœ¬ä½¿ç”¨å‘½ä»¤</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">supervisord -c supervisor.conf            é€šè¿‡é…ç½®æ–‡ä»¶å¯åŠ¨supervisor</span><br><span class="line">supervisorctl -c supervisor.conf status   æŸ¥çœ‹supervisorçš„çŠ¶æ€</span><br><span class="line">supervisorctl -c supervisor.conf reload                    é‡æ–°è½½å…¥ é…ç½®æ–‡ä»¶</span><br><span class="line">supervisorctl -c supervisor.conf start [all]|[appname]     å¯åŠ¨æŒ‡å®š&#x2F;æ‰€æœ‰ supervisorç®¡ç†çš„ç¨‹åºè¿›ç¨‹</span><br><span class="line">supervisorctl -c supervisor.conf stop [all]|[appname]      å…³é—­æŒ‡å®š&#x2F;æ‰€æœ‰ supervisorç®¡ç†çš„ç¨‹åºè¿›ç¨‹</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ å®Œä¸Šé¢çš„å†…å®¹åï¼Œä¿å­˜é€€å‡ºã€‚æ‰§è¡Œæ“ä½œï¼š</p>
<p>å½“å‰ç›®å½•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(venv) $ ls</span><br><span class="line">-- gunicorn.conf  hello.py  hello.pyc  logs  supervisor.conf  venv</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡é…ç½®æ–‡ä»¶ å¯åŠ¨ <code>supervisor</code> :      </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(venv) $ supervisord -c supervisor.conf</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹ <code>supervisor</code> çš„çŠ¶æ€ï¼š    </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(venv) $ supervisorctl -c supervisor.conf status</span><br><span class="line">-- hello              RUNNING   pid 1550, uptime 0:04:08</span><br></pre></td></tr></table></figure>

<p>åœæ­¢ è®¾ç½®çš„ æœåŠ¡ <code>hello</code> ï¼š   </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(venv) $ supervisorctl -c supervisor.conf stop hello </span><br><span class="line">-- hello: stopped</span><br></pre></td></tr></table></figure>

<p>å†æ¬¡æŸ¥çœ‹ æœåŠ¡ <code>hello</code> çš„çŠ¶æ€ ï¼š   </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(venv) $ supervisorctl -c supervisor.conf status</span><br><span class="line">-- hello              STOPPED   May 08 05:23 PM</span><br></pre></td></tr></table></figure>

<hr>
<p>è‡ªåŠ¨å¯åŠ¨ï¼š</p>
<p>é‚£ä¹ˆï¼Œå¦‚æœæƒ³å¼€æœºæ—¶è‡ªåŠ¨å¯åŠ¨æ€ä¹ˆåŠå‘¢ï¼Ÿæˆ–è€…è¯´ï¼Œå¦‚æœæœºå™¨é‡å¯äº†ï¼Œé‚£WEBæœåŠ¡å°±æ–­äº†ã€‚<br>å…¶å®å‘¢ï¼Œä¹Ÿå¾ˆç®€å•ï¼Œåªè¦åœ¨ <code>/etc/rc.d/rc.local</code> ä¸­åŠ å…¥ä¸€å¥å°±å¯ä»¥äº†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">supervisord -c &#x2F;home&#x2F;tiger&#x2F;myflask&#x2F;myproject&#x2F;supervisor.conf</span><br></pre></td></tr></table></figure>

<p>æœ‰äº†Gunicornã€Supervisorï¼Œæœ¬åœ°çš„ç¯å¢ƒçš„ç®—æ˜¯æ­å¥½äº†ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦è®©VPSä¸Šçš„ç½‘ç«™ä»å¤–ç½‘å¯ä»¥è®¿é—®ï¼Œè¿™æ—¶å€™éœ€è¦Nginxã€‚</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬åªèƒ½åœ¨æœ¬æœºä¸Šé€šè¿‡<code>http://127.0.0.1:8000</code> çš„æ–¹å¼æ¥è®¿é—®çš„ï¼Œä½†åœ¨å¤–ç½‘ä¸Šæ˜¯æ— æ³•è®¿é—®åˆ°çš„ã€‚</p>
<hr>
<h4 id="é…ç½®Nginx"><a href="#é…ç½®Nginx" class="headerlink" title="é…ç½®Nginx"></a>é…ç½®Nginx</h4><p>åœ¨å®‰è£…Nginxä¹‹å‰ï¼Œè¦å…ˆé€€å‡ºä¸Šé¢æ­¥éª¤ä¸­æ“ä½œæ‰€åœ¨çš„<code>venv</code>ç¯å¢ƒï¼Œæ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(venv) $ deactivate</span><br></pre></td></tr></table></figure>

<h5 id="å®‰è£…nginx"><a href="#å®‰è£…nginx" class="headerlink" title="å®‰è£…nginx"></a>å®‰è£…nginx</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install nginx</span><br></pre></td></tr></table></figure>

<p>å®‰è£…å®Œæˆåè®¿é—®<code>localhost</code>å¯ä»¥çœ‹åˆ° <strong>Welcome to nginx on Ubuntu!</strong> çš„é¡µé¢ã€‚</p>
<p><code>nginx</code> çš„é»˜è®¤ç½‘ç«™ç›®å½• <code>/usr/share/nginx/html</code></p>
<h5 id="å¸¸ç”¨é…ç½®å‘½ä»¤"><a href="#å¸¸ç”¨é…ç½®å‘½ä»¤" class="headerlink" title="å¸¸ç”¨é…ç½®å‘½ä»¤"></a>å¸¸ç”¨é…ç½®å‘½ä»¤</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">##å¯åŠ¨æœåŠ¡</span><br><span class="line">$ sudo service nginx start</span><br><span class="line">##é‡å¯å’Œæš‚åœæœåŠ¡</span><br><span class="line">$ sudo service nginx restart</span><br><span class="line">$ sudo service nginx stop</span><br><span class="line">##æŸ¥çœ‹çŠ¶æ€</span><br><span class="line">$ sudo service nginx status</span><br></pre></td></tr></table></figure>

<p>æˆ–ä¸‹é¢çš„å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo &#x2F;etc&#x2F;init.d&#x2F;nginx start</span><br><span class="line">$ sudo &#x2F;etc&#x2F;init.d&#x2F;nginx stop</span><br><span class="line">$ sudo &#x2F;etc&#x2F;init.d&#x2F;nginx restart</span><br><span class="line">$ sudo &#x2F;etc&#x2F;init.d&#x2F;nginx status</span><br></pre></td></tr></table></figure>

<p>Nginxçš„é…ç½®æ–‡ä»¶å’ŒSupervisorç±»ä¼¼ï¼Œä¸åŒçš„ç¨‹åºå¯ä»¥åˆ†åˆ«é…ç½®ï¼Œç„¶åè¢«æ€»é…ç½®æ–‡ä»¶<code>include</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">## Nginxçš„ä¸»é…ç½®æ–‡ä»¶åœ°å€</span><br><span class="line">&#x2F;etc&#x2F;nginx&#x2F;nginx.conf</span><br><span class="line"></span><br><span class="line">## æ–°å»ºå•ç‹¬çš„é…ç½®æ–‡ä»¶</span><br><span class="line">## åœ¨conf.dç›®å½•ä¸‹</span><br><span class="line">$ sudo vim &#x2F;etc&#x2F;nginx&#x2F;conf.d&#x2F;helloweb.conf</span><br><span class="line"></span><br><span class="line">## ç„¶åå†™å…¥ä¸‹åˆ—å†…å®¹ï¼š</span><br><span class="line">server &#123;</span><br><span class="line">        listen   80;             &#x2F;&#x2F;ç«¯å£</span><br><span class="line">        server_name 192.168.1.144;   &#x2F;&#x2F;è®¿é—®åŸŸå</span><br><span class="line">        root &#x2F;home&#x2F;tiger&#x2F;myflack&#x2F;myproject;</span><br><span class="line">        access_log &#x2F;home&#x2F;tiger&#x2F;myflask&#x2F;myproject&#x2F;logs&#x2F;nginx_access.log;</span><br><span class="line">        error_log &#x2F;home&#x2F;tiger&#x2F;myflask&#x2F;myproject&#x2F;logs&#x2F;nginx_error.log;</span><br><span class="line">        location &#x2F; &#123;</span><br><span class="line">                proxy_set_header X-Forward-For $proxy_add_x_forwarded_for;</span><br><span class="line">                proxy_set_header Host $http_host;</span><br><span class="line">                proxy_redirect off;</span><br><span class="line">                if (!-f $request_filename) &#123;</span><br><span class="line">                        proxy_pass http:&#x2F;&#x2F;127.0.0.1:8000;  &#x2F;&#x2F;è¿™é‡Œæ˜¯flaskçš„gunicornç«¯å£</span><br><span class="line">                        break;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥ç”¨ä¸‹é¢çš„æœ€ç®€é…ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name _; # _è¡¨ç¤º localhost </span><br><span class="line"></span><br><span class="line">    root &#x2F;home&#x2F;tiger&#x2F;myflack&#x2F;myproject; # hello.py æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•</span><br><span class="line"></span><br><span class="line">    location &#x2F; &#123;</span><br><span class="line">        proxy_pass http:&#x2F;&#x2F;127.0.0.1:8000;  &#x2F;&#x2F;è¿™é‡Œæ˜¯flaskçš„gunicornç«¯å£</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é…ç½®å®Œæˆä¹‹åï¼Œ<code>sudo service nginx restart</code> é‡å¯ä¸€ä¸‹æœåŠ¡ã€‚</p>
<p>ç°åœ¨ï¼Œåœ¨æµè§ˆå™¨ä¸­è¾“å…¥ <code>http://127.0.0.1</code> å³å¯æ­£å¸¸è®¿é—®ã€‚</p>
<hr>
<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><ul>
<li>Flaskåº”ç”¨çš„åŸºæœ¬éƒ¨ç½²ä¾èµ–åŒ…æ‹¬ä¸€ä¸ªåº”ç”¨å®¹å™¨ï¼ˆæ¯”å¦‚Gunicornï¼‰å’Œä¸€ä¸ªåå‘ä»£ç†ï¼ˆæ¯”å¦‚Nginxï¼‰ã€‚ </li>
<li>Gunicornåº”è¯¥é€€å±…Nginxå¹•åå¹¶ç›‘å¬127.0.0.1ï¼ˆå†…éƒ¨è¯·æ±‚ï¼‰è€Œé0.0.0.0ï¼ˆå¤–éƒ¨è¯·æ±‚ï¼‰ã€‚</li>
<li>ä»æœ‰ç–‘é—®çš„åœ°æ–¹ï¼šåœ¨è™šæ‹Ÿç¯å¢ƒä¸‹å®‰è£…çš„<code>supervisor</code> å¹¶éæ˜¯å…¨å±€çš„ï¼Œç»æµ‹è¯• <code>kill</code> æ‰ <code>supervisor</code> è¿›ç¨‹åä¹Ÿä¸ä¼šè‡ªåŠ¨é‡å¯ï¼Œæˆ–å¦‚ä½•éšç³»ç»Ÿå¯åŠ¨ï¼Ÿè¯¥é—®é¢˜å¾…è¿›ä¸€æ­¥æµ‹è¯•</li>
</ul>
<hr>
<h4 id="ç›¸å…³é“¾æ¥"><a href="#ç›¸å…³é“¾æ¥" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h4><ul>
<li><a href="http://virtualenv-chinese-docs.readthedocs.io/en/latest/" target="_blank" rel="noopener">virtualenv &mdash; virtualenv 1.7.1.2.post1 documentation</a></li>
<li><a href="https://github.com/defshine/flaskblog" target="_blank" rel="noopener">GitHub - defshine/flaskblog: Learn python and flask,just a tony blog system</a></li>
<li><a href="http://gunicorn.org/" target="_blank" rel="noopener">Gunicorn - Python WSGI HTTP Server for UNIX</a></li>
<li><a href="http://dormousehole.readthedocs.io/en/latest/installation.html" target="_blank" rel="noopener">å®‰è£… Flask 0.10 documentation</a></li>
</ul>
<hr>
<ul>
<li><a href="http://www.cnblogs.com/Ray-liang/p/4837850.html" target="_blank" rel="noopener">Flask + Gunicorn + Nginx éƒ¨ç½² - Ray Liang - åšå®¢å›­</a></li>
<li><a href="http://www.cnblogs.com/herryly/p/4517852.html" target="_blank" rel="noopener">é˜¿é‡Œäº‘ECSä¸Šç¯å¢ƒæ­å»º(virtualenv+flask+gunicorn+supervisor+nginx) - è©ææœ¬æ— æ ‘ - åšå®¢å›­</a></li>
<li><a href="http://www.cnblogs.com/Ray-liang/p/4173923.html" target="_blank" rel="noopener">é˜¿é‡Œäº‘éƒ¨ç½² Flask  + WSGI + Nginx è¯¦è§£ - Ray Liang - åšå®¢å›­</a></li>
<li><a href="http://blog.csdn.net/beerium/article/details/8721906" target="_blank" rel="noopener">Supervisor ç®¡ç†åå°å®ˆæŠ¤è¿›ç¨‹</a></li>
</ul>
<hr>
<ul>
<li><a href="http://www.jianshu.com/p/be9dd421fb8d" target="_blank" rel="noopener">python web éƒ¨ç½²ï¼šnginx + gunicorn + supervisor + flask éƒ¨ç½²ç¬”è®° - ç®€ä¹¦</a></li>
<li><a href="http://beiyuu.com/vps-config-python-vitrualenv-flask-gunicorn-supervisor-nginx/" target="_blank" rel="noopener">VPSç¯å¢ƒæ­å»ºè¯¦è§£ (Virtualenv+Gunicorn+Supervisor+Nginx) | BeiYuu.com</a></li>
<li><a href="http://xhrwang.me/2014/12/13/restful-api-by-flask.html" target="_blank" rel="noopener">åŸºäº Flask å®ç° RESTful API | Rossâ€™s Page</a></li>
<li><a href="http://xhrwang.me/2014/12/17/deploy-flask-app-with-gunicorn-and-nginx.html" target="_blank" rel="noopener">Ubuntu 14.04 ç³»ç»ŸåŸºäº Gunicorn å’Œ Nginx éƒ¨ç½² Flask åº”ç”¨ | Rossâ€™s Page</a></li>
<li><a href="http://codingnow.cn/server/539.html" target="_blank" rel="noopener">Flask+Nginx+Gunicorn+Redis+Mysqlæ­å»ºä¸€ä¸ªå°ç«™ | Alex&#039;s Blog</a></li>
<li><a href="http://www.onurguzel.com/how-to-run-flask-applications-with-nginx-using-gunicorn/" target="_blank" rel="noopener">How to Run Flask Applications with Nginx Using Gunicorn &#8211; Onur GÃ¼zel</a> *</li>
<li><a href="http://codingnow.cn/server/431.html" target="_blank" rel="noopener">dnsmasqé…ç½®åŸŸåé‡å®šå‘å’Œdnsç¼“å­˜ | Alex&#039;s Blog</a></li>
<li><a href="http://www.simpleapples.com/2015/06/configure-nginx-supervisor-gunicorn-flask/" target="_blank" rel="noopener">åœ¨é˜¿é‡Œäº‘CentOS7ä¸­é…ç½®åŸºäºNginx+Supervisor+Gunicornçš„Flaské¡¹ç›® - simpleapples</a></li>
<li><a href="http://news.oneapm.com/flask-nginx-gunicorn-supervisor-python/" target="_blank" rel="noopener">virtualenv ç¯å¢ƒä¸‹ Django + Nginx + Gunicorn+ Supervisor æ­å»º Python Web</a></li>
<li><a href="https://spacewander.github.io/explore-flask-zh/14-deployment.html" target="_blank" rel="noopener">éƒ¨ç½² | Flaskä¹‹æ—…</a></li>
<li><a href="http://dushunfan.com/2013/03/17/deploy-flask-in-centos6-nginx-gunicorn-supervisor/" target="_blank" rel="noopener">CentOS 6 ä¸‹ä½¿ç”¨ Nginxï¼ŒGunicorn ä»¥åŠ Supervisor éƒ¨ç½² Flask åº”ç”¨ - æœé¡ºå¸†çš„ä¸ªäººåšå®¢</a></li>
<li><a href="http://autarch.me/archives/2016/01/%E5%9C%A8-Ubuntu-%E4%B8%AD-Nginx-Gunicorn-%E9%83%A8%E7%BD%B2-Flask.html" target="_blank" rel="noopener">åœ¨ Ubuntu ä¸­ Nginx,Gunicorn éƒ¨ç½² Flask | autarch</a> * </li>
<li><a href="https://zhuanlan.zhihu.com/p/22126999" target="_blank" rel="noopener">é˜¿é‡Œäº‘Python+Flaskç¯å¢ƒæ­å»º</a></li>
</ul>
]]></content>
      <categories>
        <category>å¼€å‘ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Flask</tag>
      </tags>
  </entry>
  <entry>
    <title>Netdata-Linuxä¸‹æ€§èƒ½ç›‘è§†å·¥å…·</title>
    <url>/2016/05/06/linux-performance-monitoring-tool-netdata/</url>
    <content><![CDATA[<h4 id="ç¼–è¯‘ä¾èµ–"><a href="#ç¼–è¯‘ä¾èµ–" class="headerlink" title="ç¼–è¯‘ä¾èµ–"></a>ç¼–è¯‘ä¾èµ–</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Debian&#x2F;Ubuntu</span><br><span class="line">$ sudo apt-get install zlib1g-dev gcc make git autoconf autogen automake pkg-config</span><br></pre></td></tr></table></figure>

<h4 id="Install-netdata"><a href="#Install-netdata" class="headerlink" title="Install netdata"></a>Install netdata</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># download it - the directory &#39;netdata.git&#39; will be created</span><br><span class="line">$ git clone https:&#x2F;&#x2F;github.com&#x2F;firehol&#x2F;netdata.git --depth&#x3D;1</span><br><span class="line">cd netdata</span><br><span class="line"></span><br><span class="line"># build it</span><br><span class="line">.&#x2F;netdata-installer.sh</span><br></pre></td></tr></table></figure>

<p>ä¸€æ—¦ç¼–è¯‘å®‰è£…å®Œæ¯•ï¼Œ<code>netdata</code> å°†æ‰§è¡Œ <code>/usr/sbin/netdata</code> å¯åŠ¨ <code>daemon</code> ç¨‹åºï¼Œå¹¶ç›‘å¬æœ¬æœºçš„ <code>19999</code> ç«¯å£ã€‚</p>
<p>ç›´æ¥è®¿é—®ï¼š<code>127.0.0.1:19999</code> å³å¯æ‰“å¼€ç›‘æ§ç•Œé¢ã€‚</p>
<h4 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h4><ul>
<li>å®˜æ–¹å®‰è£…æ•™ç¨‹ï¼š<a href="https://github.com/firehol/netdata/wiki/Installation" target="_blank" rel="noopener">Installation Â· firehol/netdata Wiki Â· GitHub</a></li>
<li><a href="https://github.com/firehol/netdata" target="_blank" rel="noopener">GitHub - firehol/netdata: Real-time performance monitoring, done right!</a></li>
<li><a href="https://linuxtoy.org/archives/netdata.html" target="_blank" rel="noopener">netdataï¼šå®æ—¶ç›‘è§† Linux ç³»ç»Ÿæ€§èƒ½</a></li>
</ul>
]]></content>
      <categories>
        <category>å¼€å‘ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>cURL-å‘½ä»¤è¡Œä¸‹å·¥ä½œçš„æ–‡ä»¶ä¼ è¾“å·¥å…·</title>
    <url>/2016/05/04/linux-curl/</url>
    <content><![CDATA[<p>cURLæ˜¯ä¸€ç§å‘½ä»¤è¡Œå·¥å…·ï¼Œä½œç”¨æ˜¯å‘å‡ºç½‘ç»œè¯·æ±‚ï¼Œç„¶åå¾—åˆ°å’Œæå–æ•°æ®ï¼Œæ˜¾ç¤ºåœ¨â€æ ‡å‡†è¾“å‡ºâ€ï¼ˆstdoutï¼‰ä¸Šé¢ã€‚</p>
<h4 id="Linuxä¸‹å®‰è£…cURL"><a href="#Linuxä¸‹å®‰è£…cURL" class="headerlink" title="Linuxä¸‹å®‰è£…cURL"></a>Linuxä¸‹å®‰è£…cURL</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install -y curl</span><br></pre></td></tr></table></figure>

<h4 id="Windowsä¸‹å®‰è£…cURL"><a href="#Windowsä¸‹å®‰è£…cURL" class="headerlink" title="Windowsä¸‹å®‰è£…cURL"></a>Windowsä¸‹å®‰è£…cURL</h4><ol>
<li>Windowsä¸‹é»˜è®¤æ²¡æœ‰cURLå‘½ä»¤ï¼Œéœ€è¦å®‰è£…åæ‰èƒ½ä½¿ç”¨</li>
<li>åˆ°ç½‘å€ <a href="https://curl.haxx.se/download/trash/" target="_blank" rel="noopener">curl download</a> ä¸‹è½½curlå®‰è£…åŒ…ï¼Œæˆ‘ä¸‹è½½çš„æ˜¯ <code>curl-7.33.0-win64-ssl-sspi.zip 2013-10-16 04:24 698K</code> ã€‚</li>
<li>è§£å‹å®‰è£…åŒ…ï¼Œåªæœ‰ä¸€ä¸ªcurl.exeæ–‡ä»¶ï¼Œåœ¨ <code>curl.exe</code> æ‰€åœ¨ç›®å½•ä¸‹æ‰“å¼€ <code>cmd</code> å‘½ä»¤è¡Œçª—å£ï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨ <code>curl</code> å‘½ä»¤äº†ã€‚</li>
<li>ä¸ºäº†è®© <code>curl</code> æ”¯æŒè®¿é—® <code>https</code> çš„ç½‘å€ï¼Œéœ€è¦ä¸‹è½½ <code>OpenSSL</code> ,åˆ° <a href="http://slproweb.com/products/Win32OpenSSL.html" target="_blank" rel="noopener">Win32OpenSSL</a> ä¸‹è½½ <code>Win32 OpenSSL v1.0.1t Light</code> æ–‡ä»¶ã€‚</li>
<li>ä¸Šé¢çš„ 2ã€3ã€4 æ­¥ï¼Œå¦‚æœä½ è§‰å¾—å¤ªéº»çƒ¦çš„è¯ï¼Œä¹Ÿå¯ä»¥åˆ° <a href="https://curl.haxx.se/download.html#Win64" target="_blank" rel="noopener">cURL - Download</a> ä¸‹è½½ <code>Win64 x86_64 7zip    7.49.0    binary    SSL  SSH  Viktor SzakÃ¡ts</code> è¿™ä¸€é¡¹ï¼Œä¸‹è½½åå‹ç¼©åŒ…é‡Œçš„binç›®å½•ä¸‹æœ‰ä¸‰ä¸ªæ–‡ä»¶ï¼š<code>curl.exe</code>ï¼Œ<code>curl-ca-bundle.crt</code>ï¼Œ<code>libcurl.dll</code>ï¼Œé‡Œé¢è‡ªå¸¦äº†SSLçš„è¯ä¹¦æ–‡ä»¶ã€‚</li>
</ol>
<hr>
<h4 id="cURLå¸¸ç”¨å‘½ä»¤æ•´ç†"><a href="#cURLå¸¸ç”¨å‘½ä»¤æ•´ç†" class="headerlink" title="cURLå¸¸ç”¨å‘½ä»¤æ•´ç†"></a>cURLå¸¸ç”¨å‘½ä»¤æ•´ç†</h4><p>æ ¼å¼ï¼š <code>curl [å‚æ•°] [URLåœ°å€]</code></p>
<h5 id="å‚æ•°ä»‹ç»"><a href="#å‚æ•°ä»‹ç»" class="headerlink" title="å‚æ•°ä»‹ç»"></a><span id='demo_top'>å‚æ•°ä»‹ç»</span></h5><table>
<thead>
<tr>
<th align="center">ç¼©å†™</th>
<th align="left">å®Œæ•´å‘½ä»¤</th>
<th align="center">ç¤ºä¾‹</th>
<th align="left">é‡Šæ„</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>-A</code></td>
<td align="left"><code>--user-agent &lt;agent string&gt;</code></td>
<td align="center"><a href="#demo_user_agent">demo</a></td>
<td align="left">æŒ‡å®šUser-Agentçš„å€¼</td>
</tr>
<tr>
<td align="center"><code>-b</code></td>
<td align="left"><code>--cookie &lt;name=data/file&gt;</code></td>
<td align="center"><a href="#demo_b">demo</a></td>
<td align="left">cookieå­—ç¬¦ä¸²æˆ–æ–‡ä»¶è¯»å–ä½ç½®ï¼Œä½¿ç”¨optionæ¥æŠŠä¸Šæ¬¡çš„cookieä¿¡æ¯è¿½åŠ åˆ°http requesté‡Œé¢å»</td>
</tr>
<tr>
<td align="center"><code>-c</code></td>
<td align="left"><code>--cookie-jar &lt;file name&gt;</code></td>
<td align="center"><a href="#demo_c">demo</a></td>
<td align="left">æ“ä½œç»“æŸåæŠŠcookieå†™å…¥åˆ°è¿™ä¸ªæ–‡ä»¶ä¸­</td>
</tr>
<tr>
<td align="center"><code>-C</code></td>
<td align="left"><code>--continue-at &lt;offset&gt;</code></td>
<td align="center"><a href="#demo_continue">demo</a></td>
<td align="left">æ–­ç‚¹ç»­ä¼ </td>
</tr>
<tr>
<td align="center"><code>-d</code></td>
<td align="left"><code>--data &lt;data&gt;</code></td>
<td align="center"><a href="#demo_data">demo</a></td>
<td align="left">HTTP POSTæ–¹å¼ä¼ é€æ•°æ® <code>application/x-www-url-encoded</code></td>
</tr>
<tr>
<td align="center"><code>-D</code></td>
<td align="left"><code>--dump-header &lt;file&gt;</code></td>
<td align="center"><a href="#demo_dump">demo</a></td>
<td align="left">å°†è¯·æ±‚è¿”å›çš„å“åº”ä¿¡æ¯ä¿å­˜åˆ°æŒ‡å®šçš„æ–‡ä»¶ä¸­</td>
</tr>
<tr>
<td align="center"><code>-e</code></td>
<td align="left"><code>--referer &lt;URL&gt;</code></td>
<td align="center"><a href="#demo_referer">demo</a></td>
<td align="left">æŒ‡å®šå¼•ç”¨åœ°å€ï¼Œè¡¨ç¤ºä»å“ªé‡Œè·³è½¬è¿‡æ¥çš„</td>
</tr>
<tr>
<td align="center"><code>-E</code></td>
<td align="left"><code>--cert &lt;certificate[:password]&gt;</code></td>
<td align="center"></td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><code>-F</code></td>
<td align="left"><code>--form &lt;name=content&gt;</code></td>
<td align="center"><a href="#demo_form">demo</a></td>
<td align="left">HTTP è¡¨å•æ–¹å¼æäº¤æ•°æ® <code>multipart/form-data</code></td>
</tr>
<tr>
<td align="center"><code>-G</code></td>
<td align="left"><code>--get</code></td>
<td align="center"></td>
<td align="left">ä½¿ç”¨GETæ–¹å¼è¯·æ±‚ï¼Œå¹¶å°†å‚æ•°æ‹¼æ¥åœ¨URLçš„<code>?</code>åé¢</td>
</tr>
<tr>
<td align="center"><code>-H</code></td>
<td align="left"><code>--header &lt;header&gt;</code></td>
<td align="center"><a href="#demo_header">demo</a></td>
<td align="left">æŒ‡å®šè¯·æ±‚å¤´å‚æ•°</td>
</tr>
<tr>
<td align="center"><code>-I</code></td>
<td align="left"><code>--head</code></td>
<td align="center"><a href="#demo_head">demo</a></td>
<td align="left">ä»…è¿”å›å¤´éƒ¨ä¿¡æ¯ï¼Œä½¿ç”¨<code>HEAD</code>è¯·æ±‚</td>
</tr>
<tr>
<td align="center"><code>-L</code></td>
<td align="left"><code>--location</code></td>
<td align="center"><a href="#demo_location">demo</a></td>
<td align="left">æ‰§è¡Œé‡å®šå‘æ“ä½œ <code>3xx</code></td>
</tr>
<tr>
<td align="center"><code></code></td>
<td align="left"><code>--limit-rate &lt;speed&gt;</code></td>
<td align="center"></td>
<td align="left">é™åˆ¶æœ€å¤§ä¼ è¾“ç‡</td>
</tr>
<tr>
<td align="center"><code>-m</code></td>
<td align="left"><code>--max-time &lt;seconds&gt;</code></td>
<td align="center"></td>
<td align="left">æŒ‡å®šå¤„ç†çš„æœ€å¤§æ—¶é•¿</td>
</tr>
<tr>
<td align="center"><code></code></td>
<td align="left"><code>--max-filesize &lt;bytes&gt;</code></td>
<td align="center"></td>
<td align="left">æŒ‡å®šè¦ä¸‹è½½çš„æ–‡ä»¶çš„æœ€å¤§é•¿åº¦ï¼Œå¦‚æœè¶…è¿‡byteså€¼ï¼Œä¸‹è½½å¹¶ä¸å¼€å§‹ã€è¿”å›é€€å‡ºç 63</td>
</tr>
<tr>
<td align="center"><code>-o</code></td>
<td align="left"><code>--output &lt;file&gt;</code></td>
<td align="center"><a href="#demo_output">demo</a></td>
<td align="left">å°†æ–‡ä»¶ä¿å­˜ä¸ºå‘½ä»¤è¡Œä¸­æŒ‡å®šçš„æ–‡ä»¶åçš„æ–‡ä»¶ä¸­</td>
</tr>
<tr>
<td align="center"><code>&gt;</code></td>
<td align="left"><code>&gt;</code></td>
<td align="center"></td>
<td align="left">ç­‰åŒäº<code>-o</code>,å¯¹è¾“å‡ºè¿›è¡Œè½¬å‘è¾“å‡º</td>
</tr>
<tr>
<td align="center"><code>-O</code></td>
<td align="left"><code>--remote-name</code></td>
<td align="center"><a href="#demo_remote">demo</a></td>
<td align="left">ä½¿ç”¨URLä¸­é»˜è®¤çš„æ–‡ä»¶åä¿å­˜æ–‡ä»¶åˆ°æœ¬åœ°</td>
</tr>
<tr>
<td align="center"><code>-r</code></td>
<td align="left"><code>--range &lt;range&gt;</code></td>
<td align="center"><a href="#demo_range">demo</a></td>
<td align="left">æ£€ç´¢æ¥è‡ªHTTP/1.1æˆ–FTPæœåŠ¡å™¨å­—èŠ‚èŒƒå›´;åˆ†å—ä¸‹è½½</td>
</tr>
<tr>
<td align="center"><code>-s</code></td>
<td align="left"><code>--silent</code></td>
<td align="center"><a href="#demo_silent">demo</a></td>
<td align="left">å‡å°‘è¾“å‡ºä¿¡æ¯,æ¯”å¦‚è¿›åº¦æ˜¾ç¤ºæˆ–é”™è¯¯ä¿¡æ¯</td>
</tr>
<tr>
<td align="center"><code></code></td>
<td align="left"><code>--ssl</code></td>
<td align="center"></td>
<td align="left">ä½¿ç”¨SSL/TLSæ–¹å¼åˆ›å»ºè¿æ¥è¯·æ±‚</td>
</tr>
<tr>
<td align="center"><code>-T</code></td>
<td align="left"><code>--upload-file &lt;file&gt;</code></td>
<td align="center"><a href="#demo_upload">demo</a></td>
<td align="left">ä½¿ç”¨PUTæ–¹æ³•ä¸Šä¼ ï¼Œ<code>-T</code>å‚æ•°æŒ‡å®šä¸Šä¼ æ–‡ä»¶</td>
</tr>
<tr>
<td align="center"><code>-u</code></td>
<td align="left"><code>--user &lt;user:password&gt;</code></td>
<td align="center"><a href="#demo_user">demo</a></td>
<td align="left">è®¾ç½®æœåŠ¡å™¨çš„ç”¨æˆ·å’Œå¯†ç </td>
</tr>
<tr>
<td align="center"><code>-v</code></td>
<td align="left"><code>--verbose</code></td>
<td align="center"><a href="#demo_verbose">demo</a></td>
<td align="left">å°å†™çš„vå‚æ•°ï¼Œç”¨äºæ‰“å°æ›´å¤šä¿¡æ¯ï¼ŒåŒ…æ‹¬å‘é€çš„è¯·æ±‚ä¿¡æ¯ï¼Œè¿™åœ¨è°ƒè¯•è„šæœ¬æ˜¯ç‰¹åˆ«æœ‰ç”¨</td>
</tr>
<tr>
<td align="center"><code></code></td>
<td align="left"><code>--trace</code></td>
<td align="center"><a href="#demo_trace">demo</a></td>
<td align="left">æŸ¥çœ‹æ›´è¯¦ç»†çš„é€šä¿¡è¿‡ç¨‹</td>
</tr>
<tr>
<td align="center"><code></code></td>
<td align="left"><code>--trace-ascii</code></td>
<td align="center"><a href="#demo_trace">demo</a></td>
<td align="left">æŸ¥çœ‹æ›´è¯¦ç»†çš„é€šä¿¡è¿‡ç¨‹</td>
</tr>
<tr>
<td align="center"><code>-w</code></td>
<td align="left"><code>--write-out &lt;format&gt;</code></td>
<td align="center"><a href="#demo_write_out">demo</a></td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><code>-x</code></td>
<td align="left"><code>--proxy &lt;[protocol://][user:password@]proxyhost[:port]&gt;</code></td>
<td align="center"><a href="#demo_proxy">demo</a></td>
<td align="left">æŒ‡å®šä»£ç†æœåŠ¡å™¨åœ°å€å’Œç«¯å£ï¼Œç«¯å£é»˜è®¤ä¸º1080</td>
</tr>
<tr>
<td align="center"><code>-X</code></td>
<td align="left"><code>--request &lt;command&gt;</code></td>
<td align="center"><a href="#demo_request">demo</a></td>
<td align="left">æŒ‡å®šGET,HEAD,POST,PUT,DELETEç­‰è¯·æ±‚åè®®</td>
</tr>
<tr>
<td align="center"><code>-h</code></td>
<td align="left"><code>--help</code></td>
<td align="center"></td>
<td align="left">ä½¿ç”¨å¸®åŠ©</td>
</tr>
<tr>
<td align="center"><code>-V</code></td>
<td align="left"><code>--version</code></td>
<td align="center"></td>
<td align="left">ç‰ˆæœ¬ä¿¡æ¯</td>
</tr>
<tr>
<td align="center"><code></code></td>
<td align="left"><code>--retry &lt;num&gt;</code></td>
<td align="center"></td>
<td align="left">æŒ‡å®šé‡è¯•æ¬¡æ•°</td>
</tr>
</tbody></table>
<hr>
<h4 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><p><i id='demo_user_agent'></i>  <code>-A</code> æŒ‡å®šUser-Agentçš„å€¼  <a href="#demo_top">Back To Top</a>   </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl -A &quot;Mozilla&#x2F;4.0 (compatible; MSIE 6.0; Windows NT 5.0)&quot; -o page.html http:&#x2F;&#x2F;www.www.baidu.com</span><br></pre></td></tr></table></figure>

<p><i id='demo_b'></i>  <code>-b</code> ä½¿ç”¨cookieæ–‡ä»¶(å½“å‰ç›®å½•ä¸‹çš„cookie.txtæ–‡ä»¶)  <a href="#demo_top">Back To Top</a> </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; æŒ‡å®š cookieä¿¡æ¯ è®¿é—®</span><br><span class="line">$ curl -b &quot;name&#x3D;data&quot; http:&#x2F;&#x2F;www.baidu.com</span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨ æœ¬åœ°æ–‡ä»¶ä¸­çš„cookieä¿¡æ¯ è®¿é—®</span><br><span class="line">$ curl -b cookie.txt http:&#x2F;&#x2F;www.xxxx.com&#x2F;api</span><br></pre></td></tr></table></figure>

<p><i id='demo_c'></i> <code>-c</code> å°†è¯·æ±‚å¾—åˆ°çš„cookieä¿¡æ¯ä¿å­˜åˆ°æœ¬åœ°çš„ cookie.txtæ–‡ä»¶ä¸­  <a href="#demo_top">Back To Top</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl -c cookie.txt http:&#x2F;&#x2F;www.alibaba.com</span><br></pre></td></tr></table></figure>

<p><i id='demo_continue'></i>  <code>-C</code> é€‰é¡¹å¯å¯¹å¤§æ–‡ä»¶ä½¿ç”¨æ–­ç‚¹ç»­ä¼ åŠŸèƒ½  <a href="#demo_top">Back To Top</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; å½“æ–‡ä»¶åœ¨ä¸‹è½½å®Œæˆä¹‹å‰ç»“æŸè¯¥è¿›ç¨‹</span><br><span class="line">$ curl -O http:&#x2F;&#x2F;www.xxx.com&#x2F;gettext.html</span><br><span class="line">&#x2F;&#x2F; ############# 20.1%</span><br><span class="line">&#x2F;&#x2F; é€šè¿‡æ·»åŠ -Cé€‰é¡¹ç»§ç»­å¯¹è¯¥æ–‡ä»¶è¿›è¡Œä¸‹è½½ï¼Œå·²ç»ä¸‹è½½è¿‡çš„æ–‡ä»¶ä¸ä¼šè¢«é‡æ–°ä¸‹è½½</span><br><span class="line">$ curl -C -O http:&#x2F;&#x2F;www.xxx.com&#x2F;gettext.html</span><br><span class="line">&#x2F;&#x2F; ############# 20.1%</span><br></pre></td></tr></table></figure>

<p><i id='demo_data'></i>  <code>-d</code> é€šè¿‡ <code>application/x-www-url-encoded</code> æ–¹å¼å‘é€POSTè¯·æ±‚ï¼Œ-då‚æ•°ä»¥<code>name=value</code>çš„æ–¹å¼æŒ‡å®šå‚æ•°å†…å®¹  <a href="#demo_top">Back To Top</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;å¤šä¸ªå‚æ•°ç”¨&amp;è¿æ¥</span><br><span class="line">$ curl -d &quot;q&#x3D;hello&amp;param2&#x3D;test&quot; http:&#x2F;&#x2F;www.google.com  </span><br><span class="line">&#x2F;&#x2F;å¤šä¸ªå‚æ•°åˆ†åˆ«æŒ‡å®š    </span><br><span class="line">$ curl -d &quot;action&#x3D;del&quot; -d &quot;id&#x3D;12&quot; http:&#x2F;&#x2F;localhost&#x2F;action.php</span><br></pre></td></tr></table></figure>

<p>*<em>æ³¨æ„ï¼š<code>-d</code> åé¢<code>post</code> çš„å‚æ•°å¿…é¡»ç”¨åŒå¼•å·<code>&quot;</code>è€Œä¸æ˜¯å•å¼•å·<code>&#39;</code>æ‹¬èµ·æ¥ï¼Œå¦åˆ™ä¼šæŠ¥é”™ *</em></p>
<p><i id='demo_dump'></i> <code>-D</code> å°†è¯·æ±‚è¿”å›çš„å“åº”ä¿¡æ¯ä¿å­˜åˆ°æŒ‡å®šçš„æ–‡ä»¶ä¸­  <a href="#demo_top">Back To Top</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl -D cookie.txt http:&#x2F;&#x2F;www.alibaba.com</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š-c ä»…åŒ…å«å“åº”å¤´ä¸­çš„cookieä¿¡æ¯ -D åŒ…å«å“åº”å¤´ä¸­çš„æ‰€æœ‰å“åº”ä¿¡æ¯</strong>  </p>
<p><i id='demo_referer'></i> <code>-e</code> è®¾ç½®<code>Referer</code>å¼•ç”¨åœ°å€  <a href="#demo_top">Back To Top</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl -e http:&#x2F;&#x2F;localhost http:&#x2F;&#x2F;www.XXXX.com&#x2F;wp-login.php</span><br></pre></td></tr></table></figure>

<p><i id='demo_form'></i> <code>-F</code> é€šè¿‡ <code>multipart/form-data</code> æ–¹å¼å‘é€POSTè¯·æ±‚ï¼Œ<code>-F</code>å‚æ•°ä»¥<code>name=value</code>çš„æ–¹å¼æŒ‡å®šå‚æ•°å†…å®¹ï¼›å¦‚æœå€¼æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œä½¿ç”¨<code>name=@file</code>çš„æ–¹å¼æ¥æŒ‡å®š;éœ€è¦æŒ‡å®šä¸Šä¼ æ–‡ä»¶ç±»å‹æ—¶ï¼Œç”¨<code>type=</code>æ¥æŒ‡å®š <a href="#demo_top">Back To Top</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl -F &quot;action&#x3D;upload&quot; -F &quot;filename&#x3D;@file.tar.gz&quot; http:&#x2F;&#x2F;localhost&#x2F;action.php</span><br><span class="line">&#x2F;&#x2F;å¦‚æœé€šè¿‡ä»£ç†ï¼Œä¸Šè¿°å‘½ä»¤å¯èƒ½ä¼šè¢«ä»£ç†æ‹’ç»ï¼Œéœ€è¦æŒ‡å®šä¸Šä¼ æ–‡ä»¶çš„MIMEç±»å‹ï¼š</span><br><span class="line">$ curl -x proxy.com:8080 -F &quot;action&#x3D;upload&quot; -F &quot;filename&#x3D;@file.tar.gz; type&#x3D;application&#x2F;octet-stream&quot; http:&#x2F;&#x2F;localhost&#x2F;action.php</span><br></pre></td></tr></table></figure>

<p><i id='demo_header'></i> <code>-H</code> æŒ‡å®šè¯·æ±‚å¤´å‚æ•°  <a href="#demo_top">Back To Top</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl -H &quot;Content-Type:application&#x2F;json&quot; http:&#x2F;&#x2F;example.com</span><br></pre></td></tr></table></figure>

<p><i id='demo_head'></i> <code>-I</code> ä»…è¿”å›å¤´éƒ¨ä¿¡æ¯ï¼Œä½¿ç”¨<code>HEAD</code>è¯·æ±‚  <a href="#demo_top">Back To Top</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl -I http:&#x2F;&#x2F;www.baidu.com</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼šä½¿ç”¨<code>-I</code>æ—¶ï¼Œæ¥å£éœ€è¦æ”¯æŒ<code>Method=HEAD</code>è¯·æ±‚ï¼Œå¦åˆ™ä¼šè¿”å›<code>405 Method Not Allowed</code></strong></p>
<p><i id='demo_location'></i> <code>-L</code> æ‰§è¡Œé‡å®šå‘æ“ä½œ  <a href="#demo_top">Back To Top</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl -L www.baidu.com</span><br></pre></td></tr></table></figure>

<p><i id='demo_output'></i> <code>-o</code> å°†æ–‡ä»¶ä¿å­˜ä¸ºå‘½ä»¤è¡Œä¸­æŒ‡å®šçš„æ–‡ä»¶åçš„æ–‡ä»¶ä¸­  <a href="#demo_top">Back To Top</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; å°†ç™¾åº¦é¦–é¡µå†…å®¹æŠ“åˆ° home.html ä¸­</span><br><span class="line">$ curl -o home.html http:&#x2F;&#x2F;baidu.com</span><br><span class="line">&#x2F;&#x2F; ç¬¦å·&#96;&gt;&#96;å’Œ&#96;-o&#96;æ•ˆæœç›¸åŒ</span><br><span class="line">$ curl &gt; home.html http:&#x2F;&#x2F;baidu.com</span><br></pre></td></tr></table></figure>

<p><i id='demo_remote'></i> <code>-O</code> ä½¿ç”¨URLä¸­é»˜è®¤çš„æ–‡ä»¶åä¿å­˜æ–‡ä»¶åˆ°æœ¬åœ°  <a href="#demo_top">Back To Top</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;å°†å†…å®¹ä¿å­˜åˆ° gettext.html ä¸­</span><br><span class="line">$ curl -O http:&#x2F;&#x2F;www.xxx.com&#x2F;gettext.html</span><br></pre></td></tr></table></figure>

<p><i id='demo_range'></i> <code>-r</code> åˆ†æ®µä¸‹è½½  <a href="#demo_top">Back To Top</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;è·å–å‰100å­—èŠ‚çš„æ•°æ®</span><br><span class="line">$ curl -r 0-99 http:&#x2F;&#x2F;www.get.this&#x2F;</span><br><span class="line">&#x2F;&#x2F;è·å–æœ€å500å­—èŠ‚çš„æ•°æ®</span><br><span class="line">$ curl -r -500 http:&#x2F;&#x2F;www.get.this&#x2F;</span><br></pre></td></tr></table></figure>

<p><i id='demo_silent'></i> <code>-s</code> å‡å°‘è¾“å‡ºä¿¡æ¯  <a href="#demo_top">Back To Top</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl -s http:&#x2F;&#x2F;www.get.this&#x2F;</span><br></pre></td></tr></table></figure>

<p><i id='demo_upload'></i> <code>-T</code> æŒ‡å®šä¸Šä¼ æ–‡ä»¶è·¯å¾„ï¼›å¯ä»¥ä¸€ä¸ª<code>-T</code>å¯¹åº”ä¸€æ¡Urlæ¥è¡¨ç¤ºå°†ä¸€ä¸ªæ–‡ä»¶ä¸Šä¼ åˆ°æŒ‡å®šçš„Url;æˆ–è€…åŒæ—¶å‘ä¸€æ¡Urlä¸Šä¼ å¤šä¸ªæ–‡ä»¶  <a href="#demo_top">Back To Top</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; ftp ä¸Šä¼ </span><br><span class="line">$ curl -T test.sql ftp:&#x2F;&#x2F;ç”¨æˆ·å:å¯†ç @ip:port&#x2F;demo&#x2F;curtain&#x2F;bbstudy_files&#x2F;</span><br><span class="line">&#x2F;&#x2F;åŒæ—¶ä¸Šä¼ å¤šä¸ªæ–‡ä»¶</span><br><span class="line">$ curl -T &quot;&#123;file1,file2&#125;&quot; http:&#x2F;&#x2F;www.example.com</span><br></pre></td></tr></table></figure>

<p><i id='demo_user'></i> <code>-u</code> è®¾ç½®æœåŠ¡å™¨çš„ç”¨æˆ·å’Œå¯†ç   <a href="#demo_top">Back To Top</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl -u ç”¨æˆ·å:å¯†ç  http:&#x2F;&#x2F;www.example.com</span><br><span class="line">$ curl -u ç”¨æˆ·å:å¯†ç  -O http:&#x2F;&#x2F;www.XXXX.com&#x2F;demo&#x2F;curtain&#x2F;bbstudy_files&#x2F;style.css</span><br></pre></td></tr></table></figure>

<p><i id='demo_verbose'></i> <code>-v</code> ç”¨äºæ‰“å°æ›´å¤šä¿¡æ¯ï¼Œå¯ä»¥æ˜¾ç¤ºä¸€æ¬¡httpé€šä¿¡çš„æ•´ä¸ªè¿‡ç¨‹ï¼ŒåŒ…æ‹¬ç«¯å£è¿æ¥å’Œhttp requestå¤´ä¿¡æ¯  <a href="#demo_top">Back To Top</a>  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl -v www.baidu.com</span><br></pre></td></tr></table></figure>

<p><i id='demo_trace'></i> <code>--trace</code> æŸ¥çœ‹æ›´è¯¦ç»†çš„é€šä¿¡è¿‡ç¨‹  <a href="#demo_top">Back To Top</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl --trace output.txt www.baidu.com</span><br><span class="line">&#x2F;&#x2F;æˆ–</span><br><span class="line">$ curl --trace-ascii output.txt www.baidu.com</span><br></pre></td></tr></table></figure>

<p><i id='demo_write_out'></i> <code>-w</code> è·å–æŒ‡å®šè¾“å‡ºå†…å®¹  <a href="#demo_top">Back To Top</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl -m 10 -w &#39;%&#123;http_code&#125;\n&#39; http:&#x2F;&#x2F;wyh.life&#x2F; -so &#x2F;dev&#x2F;null</span><br></pre></td></tr></table></figure>

<p><i id='demo_referer'></i> <code>-x</code> æŒ‡å®šä»£ç†æœåŠ¡å™¨åœ°å€å’Œç«¯å£  <a href="#demo_top">Back To Top</a>  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl -u &lt;user&gt;:&lt;passwd&gt; -x &lt;proxy&gt;:&lt;port&gt; http:&#x2F;&#x2F;www.get.this&#x2F;</span><br></pre></td></tr></table></figure>

<p><i id='demo_request'></i> <code>-X</code> -Xå‚æ•°å¯ä»¥æ”¯æŒå…¶ä»–åŠ¨è¯  <a href="#demo_top">Back To Top</a>  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl -X POST www.example.com</span><br><span class="line">$ curl -X DELETE www.example.com</span><br></pre></td></tr></table></figure>

<h4 id="ç›¸å…³é“¾æ¥"><a href="#ç›¸å…³é“¾æ¥" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h4><ul>
<li><a href="http://www.ruanyifeng.com/blog/2011/09/curl.html" target="_blank" rel="noopener">curlç½‘ç«™å¼€å‘æŒ‡å— - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—</a></li>
<li><a href="http://www.cnblogs.com/gbyukg/p/3326825.html" target="_blank" rel="noopener">CURLå¸¸ç”¨å‘½ä»¤ - å¼ è´º - åšå®¢å›­</a></li>
<li><a href="http://www.jianshu.com/p/f686e40ad647" target="_blank" rel="noopener">Curlä½¿ç”¨ - ç®€ä¹¦</a></li>
<li><a href="http://www.jianshu.com/p/febb67b699eb" target="_blank" rel="noopener">linux curl - ç®€ä¹¦</a></li>
<li><a href="http://www.jianshu.com/p/9a2a9802487a" target="_blank" rel="noopener">æå‡å¼€å‘æ•ˆç‡å°å·¥å…·ä¹‹-curl - ç®€ä¹¦</a></li>
<li><a href="https://segmentfault.com/a/1190000005177475" target="_blank" rel="noopener">curlå‘½ä»¤å¸¸ç”¨æ“ä½œ - webå¼€å‘ - SegmentFault</a></li>
<li><a href="https://segmentfault.com/a/1190000004899829" target="_blank" rel="noopener">cURLå¤‡å¿˜ - è„¸æ»šé”®ç›˜æ•™â„¢ - SegmentFault</a></li>
<li><a href="https://github.com/dongjun111111/blog/issues/42" target="_blank" rel="noopener">Curlä½¿ç”¨ Â· Issue #42 Â· dongjun111111/blog Â· GitHub</a></li>
<li><a href="http://wiki.zheng-ji.info/Tool/curl.html" target="_blank" rel="noopener">curl - zheng-jiâ€™s Wiki</a></li>
</ul>
<hr>
<h4 id="help"><a href="#help" class="headerlink" title="help"></a><strong>help</strong></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl --help</span><br><span class="line">Usage: curl [options...] &lt;url&gt;</span><br><span class="line">Options: (H) means HTTP&#x2F;HTTPS only, (F) means FTP only</span><br><span class="line">     --anyauth       Pick &quot;any&quot; authentication method (H)</span><br><span class="line"> -a, --append        Append to target file when uploading (F&#x2F;SFTP)</span><br><span class="line">     --basic         Use HTTP Basic Authentication (H)</span><br><span class="line">     --cacert FILE   CA certificate to verify peer against (SSL)</span><br><span class="line">     --capath DIR    CA directory to verify peer against (SSL)</span><br><span class="line"> -E, --cert CERT[:PASSWD]  Client certificate file and password (SSL)</span><br><span class="line">     --cert-status   Verify the status of the server certificate (SSL)</span><br><span class="line">     --cert-type TYPE  Certificate file type (DER&#x2F;PEM&#x2F;ENG) (SSL)</span><br><span class="line">     --ciphers LIST  SSL ciphers to use (SSL)</span><br><span class="line">     --compressed    Request compressed response (using deflate or gzip)</span><br><span class="line"> -K, --config FILE   Read config from FILE</span><br><span class="line">     --connect-timeout SECONDS  Maximum time allowed for connection</span><br><span class="line"> -C, --continue-at OFFSET  Resumed transfer OFFSET</span><br><span class="line"> -b, --cookie STRING&#x2F;FILE  Read cookies from STRING&#x2F;FILE (H)</span><br><span class="line"> -c, --cookie-jar FILE  Write cookies to FILE after operation (H)</span><br><span class="line">     --create-dirs   Create necessary local directory hierarchy</span><br><span class="line">     --crlf          Convert LF to CRLF in upload</span><br><span class="line">     --crlfile FILE  Get a CRL list in PEM format from the given file</span><br><span class="line"> -d, --data DATA     HTTP POST data (H)</span><br><span class="line">     --data-raw DATA  HTTP POST data, &#39;@&#39; allowed (H)</span><br><span class="line">     --data-ascii DATA  HTTP POST ASCII data (H)</span><br><span class="line">     --data-binary DATA  HTTP POST binary data (H)</span><br><span class="line">     --data-urlencode DATA  HTTP POST data url encoded (H)</span><br><span class="line">     --delegation STRING  GSS-API delegation permission</span><br><span class="line">     --digest        Use HTTP Digest Authentication (H)</span><br><span class="line">     --disable-eprt  Inhibit using EPRT or LPRT (F)</span><br><span class="line">     --disable-epsv  Inhibit using EPSV (F)</span><br><span class="line">     --dns-servers   DNS server addrs to use: 1.1.1.1;2.2.2.2</span><br><span class="line">     --dns-interface  Interface to use for DNS requests</span><br><span class="line">     --dns-ipv4-addr  IPv4 address to use for DNS requests, dot notation</span><br><span class="line">     --dns-ipv6-addr  IPv6 address to use for DNS requests, dot notation</span><br><span class="line"> -D, --dump-header FILE  Write the headers to FILE</span><br><span class="line">     --egd-file FILE  EGD socket path for random data (SSL)</span><br><span class="line">     --engine ENGINE  Crypto engine (use &quot;--engine list&quot; for list) (SSL)</span><br><span class="line"> -f, --fail          Fail silently (no output at all) on HTTP errors (H)</span><br><span class="line">     --false-start   Enable TLS False Start.</span><br><span class="line"> -F, --form CONTENT  Specify HTTP multipart POST data (H)</span><br><span class="line">     --form-string STRING  Specify HTTP multipart POST data (H)</span><br><span class="line">     --ftp-account DATA  Account data string (F)</span><br><span class="line">     --ftp-alternative-to-user COMMAND  String to replace &quot;USER [name]&quot; (F)</span><br><span class="line">     --ftp-create-dirs  Create the remote dirs if not present (F)</span><br><span class="line">     --ftp-method [MULTICWD&#x2F;NOCWD&#x2F;SINGLECWD]  Control CWD usage (F)</span><br><span class="line">     --ftp-pasv      Use PASV&#x2F;EPSV instead of PORT (F)</span><br><span class="line"> -P, --ftp-port ADR  Use PORT with given address instead of PASV (F)</span><br><span class="line">     --ftp-skip-pasv-ip  Skip the IP address for PASV (F)</span><br><span class="line">     --ftp-pret      Send PRET before PASV (for drftpd) (F)</span><br><span class="line">     --ftp-ssl-ccc   Send CCC after authenticating (F)</span><br><span class="line">     --ftp-ssl-ccc-mode ACTIVE&#x2F;PASSIVE  Set CCC mode (F)</span><br><span class="line">     --ftp-ssl-control  Require SSL&#x2F;TLS for FTP login, clear for transfer (F)</span><br><span class="line"> -G, --get           Send the -d data with a HTTP GET (H)</span><br><span class="line"> -g, --globoff       Disable URL sequences and ranges using &#123;&#125; and []</span><br><span class="line"> -H, --header LINE   Pass custom header LINE to server (H)</span><br><span class="line"> -I, --head          Show document info only</span><br><span class="line"> -h, --help          This help text</span><br><span class="line">     --hostpubmd5 MD5  Hex-encoded MD5 string of the host public key. (SSH)</span><br><span class="line"> -0, --http1.0       Use HTTP 1.0 (H)</span><br><span class="line">     --http1.1       Use HTTP 1.1 (H)</span><br><span class="line">     --http2         Use HTTP 2 (H)</span><br><span class="line">     --ignore-content-length  Ignore the HTTP Content-Length header</span><br><span class="line"> -i, --include       Include protocol headers in the output (H&#x2F;F)</span><br><span class="line"> -k, --insecure      Allow connections to SSL sites without certs (H)</span><br><span class="line">     --interface INTERFACE  Use network INTERFACE (or address)</span><br><span class="line"> -4, --ipv4          Resolve name to IPv4 address</span><br><span class="line"> -6, --ipv6          Resolve name to IPv6 address</span><br><span class="line"> -j, --junk-session-cookies  Ignore session cookies read from file (H)</span><br><span class="line">     --keepalive-time SECONDS  Wait SECONDS between keepalive probes</span><br><span class="line">     --key KEY       Private key file name (SSL&#x2F;SSH)</span><br><span class="line">     --key-type TYPE  Private key file type (DER&#x2F;PEM&#x2F;ENG) (SSL)</span><br><span class="line">     --krb LEVEL     Enable Kerberos with security LEVEL (F)</span><br><span class="line">     --libcurl FILE  Dump libcurl equivalent code of this command line</span><br><span class="line">     --limit-rate RATE  Limit transfer speed to RATE</span><br><span class="line"> -l, --list-only     List only mode (F&#x2F;POP3)</span><br><span class="line">     --local-port RANGE  Force use of RANGE for local port numbers</span><br><span class="line"> -L, --location      Follow redirects (H)</span><br><span class="line">     --location-trusted  Like &#39;--location&#39;, and send auth to other hosts (H)</span><br><span class="line">     --login-options OPTIONS  Server login options (IMAP, POP3, SMTP)</span><br><span class="line"> -M, --manual        Display the full manual</span><br><span class="line">     --mail-from FROM  Mail from this address (SMTP)</span><br><span class="line">     --mail-rcpt TO  Mail to this&#x2F;these addresses (SMTP)</span><br><span class="line">     --mail-auth AUTH  Originator address of the original email (SMTP)</span><br><span class="line">     --max-filesize BYTES  Maximum file size to download (H&#x2F;F)</span><br><span class="line">     --max-redirs NUM  Maximum number of redirects allowed (H)</span><br><span class="line"> -m, --max-time SECONDS  Maximum time allowed for the transfer</span><br><span class="line">     --metalink      Process given URLs as metalink XML file</span><br><span class="line">     --negotiate     Use HTTP Negotiate (SPNEGO) authentication (H)</span><br><span class="line"> -n, --netrc         Must read .netrc for user name and password</span><br><span class="line">     --netrc-optional  Use either .netrc or URL; overrides -n</span><br><span class="line">     --netrc-file FILE  Specify FILE for netrc</span><br><span class="line"> -:, --next          Allows the following URL to use a separate set of options</span><br><span class="line">     --no-alpn       Disable the ALPN TLS extension (H)</span><br><span class="line"> -N, --no-buffer     Disable buffering of the output stream</span><br><span class="line">     --no-keepalive  Disable keepalive use on the connection</span><br><span class="line">     --no-npn        Disable the NPN TLS extension (H)</span><br><span class="line">     --no-sessionid  Disable SSL session-ID reusing (SSL)</span><br><span class="line">     --noproxy       List of hosts which do not use proxy</span><br><span class="line">     --ntlm          Use HTTP NTLM authentication (H)</span><br><span class="line">     --oauth2-bearer TOKEN  OAuth 2 Bearer Token (IMAP, POP3, SMTP)</span><br><span class="line"> -o, --output FILE   Write to FILE instead of stdout</span><br><span class="line">     --pass PASS     Pass phrase for the private key (SSL&#x2F;SSH)</span><br><span class="line">     --path-as-is    Do not squash .. sequences in URL path</span><br><span class="line">     --pinnedpubkey FILE&#x2F;HASHES Public key to verify peer against (SSL)</span><br><span class="line">     --post301       Do not switch to GET after following a 301 redirect (H)</span><br><span class="line">     --post302       Do not switch to GET after following a 302 redirect (H)</span><br><span class="line">     --post303       Do not switch to GET after following a 303 redirect (H)</span><br><span class="line"> -#, --progress-bar  Display transfer progress as a progress bar</span><br><span class="line">     --proto PROTOCOLS  Enable&#x2F;disable PROTOCOLS</span><br><span class="line">     --proto-default PROTOCOL  Use PROTOCOL for any URL missing a scheme</span><br><span class="line">     --proto-redir PROTOCOLS   Enable&#x2F;disable PROTOCOLS on redirect</span><br><span class="line"> -x, --proxy [PROTOCOL:&#x2F;&#x2F;]HOST[:PORT]  Use proxy on given port</span><br><span class="line">     --proxy-anyauth  Pick &quot;any&quot; proxy authentication method (H)</span><br><span class="line">     --proxy-basic   Use Basic authentication on the proxy (H)</span><br><span class="line">     --proxy-digest  Use Digest authentication on the proxy (H)</span><br><span class="line">     --proxy-negotiate  Use HTTP Negotiate (SPNEGO) authentication on the proxy (H)</span><br><span class="line">     --proxy-ntlm    Use NTLM authentication on the proxy (H)</span><br><span class="line">     --proxy-service-name NAME  SPNEGO proxy service name</span><br><span class="line">     --service-name NAME  SPNEGO service name</span><br><span class="line"> -U, --proxy-user USER[:PASSWORD]  Proxy user and password</span><br><span class="line">     --proxy1.0 HOST[:PORT]  Use HTTP&#x2F;1.0 proxy on given port</span><br><span class="line"> -p, --proxytunnel   Operate through a HTTP proxy tunnel (using CONNECT)</span><br><span class="line">     --pubkey KEY    Public key file name (SSH)</span><br><span class="line"> -Q, --quote CMD     Send command(s) to server before transfer (F&#x2F;SFTP)</span><br><span class="line">     --random-file FILE  File for reading random data from (SSL)</span><br><span class="line"> -r, --range RANGE   Retrieve only the bytes within RANGE</span><br><span class="line">     --raw           Do HTTP &quot;raw&quot;; no transfer decoding (H)</span><br><span class="line"> -e, --referer       Referer URL (H)</span><br><span class="line"> -J, --remote-header-name  Use the header-provided filename (H)</span><br><span class="line"> -O, --remote-name   Write output to a file named as the remote file</span><br><span class="line">     --remote-name-all  Use the remote file name for all URLs</span><br><span class="line"> -R, --remote-time   Set the remote file&#39;s time on the local output</span><br><span class="line"> -X, --request COMMAND  Specify request command to use</span><br><span class="line">     --resolve HOST:PORT:ADDRESS  Force resolve of HOST:PORT to ADDRESS</span><br><span class="line">     --retry NUM   Retry request NUM times if transient problems occur</span><br><span class="line">     --retry-delay SECONDS  Wait SECONDS between retries</span><br><span class="line">     --retry-max-time SECONDS  Retry only within this period</span><br><span class="line">     --sasl-ir       Enable initial response in SASL authentication</span><br><span class="line"> -S, --show-error    Show error. With -s, make curl show errors when they occur</span><br><span class="line"> -s, --silent        Silent mode (don&#39;t output anything)</span><br><span class="line">     --socks4 HOST[:PORT]  SOCKS4 proxy on given host + port</span><br><span class="line">     --socks4a HOST[:PORT]  SOCKS4a proxy on given host + port</span><br><span class="line">     --socks5 HOST[:PORT]  SOCKS5 proxy on given host + port</span><br><span class="line">     --socks5-hostname HOST[:PORT]  SOCKS5 proxy, pass host name to proxy</span><br><span class="line">     --socks5-gssapi-service NAME  SOCKS5 proxy service name for GSS-API</span><br><span class="line">     --socks5-gssapi-nec  Compatibility with NEC SOCKS5 server</span><br><span class="line"> -Y, --speed-limit RATE  Stop transfers below RATE for &#39;speed-time&#39; secs</span><br><span class="line"> -y, --speed-time SECONDS  Trigger &#39;speed-limit&#39; abort after SECONDS (default: 30)</span><br><span class="line">     --ssl           Try SSL&#x2F;TLS (FTP, IMAP, POP3, SMTP)</span><br><span class="line">     --ssl-reqd      Require SSL&#x2F;TLS (FTP, IMAP, POP3, SMTP)</span><br><span class="line"> -2, --sslv2         Use SSLv2 (SSL)</span><br><span class="line"> -3, --sslv3         Use SSLv3 (SSL)</span><br><span class="line">     --ssl-allow-beast  Allow security flaw to improve interop (SSL)</span><br><span class="line">     --ssl-no-revoke    Disable cert revocation checks (WinSSL)</span><br><span class="line">     --stderr FILE   Where to redirect stderr (use &quot;-&quot; for stdout)</span><br><span class="line">     --tcp-nodelay   Use the TCP_NODELAY option</span><br><span class="line"> -t, --telnet-option OPT&#x3D;VAL  Set telnet option</span><br><span class="line">     --tftp-blksize VALUE  Set TFTP BLKSIZE option (must be &gt;512)</span><br><span class="line"> -z, --time-cond TIME  Transfer based on a time condition</span><br><span class="line"> -1, --tlsv1         Use &gt;&#x3D; TLSv1 (SSL)</span><br><span class="line">     --tlsv1.0       Use TLSv1.0 (SSL)</span><br><span class="line">     --tlsv1.1       Use TLSv1.1 (SSL)</span><br><span class="line">     --tlsv1.2       Use TLSv1.2 (SSL)</span><br><span class="line">     --trace FILE    Write a debug trace to FILE</span><br><span class="line">     --trace-ascii FILE  Like --trace, but without hex output</span><br><span class="line">     --trace-time    Add time stamps to trace&#x2F;verbose output</span><br><span class="line">     --tr-encoding   Request compressed transfer encoding (H)</span><br><span class="line"> -T, --upload-file FILE  Transfer FILE to destination</span><br><span class="line">     --url URL       URL to work with</span><br><span class="line"> -B, --use-ascii     Use ASCII&#x2F;text transfer</span><br><span class="line"> -u, --user USER[:PASSWORD]  Server user and password</span><br><span class="line">     --tlsuser USER  TLS username</span><br><span class="line">     --tlspassword STRING  TLS password</span><br><span class="line">     --tlsauthtype STRING  TLS authentication type (default: SRP)</span><br><span class="line">     --unix-socket FILE    Connect through this Unix domain socket</span><br><span class="line"> -A, --user-agent STRING  Send User-Agent STRING to server (H)</span><br><span class="line"> -v, --verbose       Make the operation more talkative</span><br><span class="line"> -V, --version       Show version number and quit</span><br><span class="line"> -w, --write-out FORMAT  Use output FORMAT after completion</span><br><span class="line">     --xattr         Store metadata in extended file attributes</span><br><span class="line"> -q                  Disable .curlrc (must be first parameter)</span><br></pre></td></tr></table></figure>

<hr>
]]></content>
      <categories>
        <category>å¼€å‘ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>MVCå’ŒWebAPIå¦‚ä½•ä»Filterå‘Actionä¸­ä¼ é€’æ•°æ®</title>
    <url>/2016/04/17/transfer-data-from-filter-to-action/</url>
    <content><![CDATA[<p>MVCå’ŒWebAPIå¦‚ä½•ä»Filterå‘Actionä¸­ä¼ é€’æ•°æ®</p>
<h4 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h4><p>æœ€è¿‘åœ¨ç­–åˆ’å®ç°MVCé¡¹ç›®ä¸­ç”¨æˆ·èº«ä»½éªŒè¯çš„åŠŸèƒ½æ—¶ï¼Œè€ƒè™‘ç”¨MVCä¸­çš„<code>Filter</code>è¿‡æ»¤å™¨æ¥å…ˆä»urlé“¾æ¥ä¸­è·å–ä¼ é€’è¿‡æ¥çš„tokenï¼Œåœ¨<code>Filter</code>ä¸­é€šè¿‡tokenè·å–ç”¨æˆ·çš„ä¿¡æ¯åï¼Œå¦‚æœç”¨æˆ·ä¿¡æ¯æ­£ç¡®ï¼Œåˆ™ä¼ é€’åˆ°<code>Controller</code>çš„<code>Action</code>ä¸­è¿›è¡Œç”¨æˆ·æ•°æ®çš„æ“ä½œã€‚</p>
<p>é‚£ä¹ˆï¼Œè¦å¦‚ä½•ä»Filterä¸­å‘Actionä¸­ä¼ é€’æ•°æ®å‘¢ï¼Ÿ  </p>
<p>how to pass data from filter to controller?  </p>
<hr>
<p><strong>æ³¨æ„ï¼šä¸‹é¢æ‰€æåˆ°çš„Filteréƒ½æŒ‡å®ç°<code>ActionFilterAttribute</code>çš„è¿‡æ»¤å™¨</strong></p>
<h4 id="MVCä¸­-ä»Filterè¿‡æ»¤å™¨å‘Actionä¸­ä¼ é€’æ•°æ®"><a href="#MVCä¸­-ä»Filterè¿‡æ»¤å™¨å‘Actionä¸­ä¼ é€’æ•°æ®" class="headerlink" title="MVCä¸­ ä»Filterè¿‡æ»¤å™¨å‘Actionä¸­ä¼ é€’æ•°æ®"></a>MVCä¸­ ä»Filterè¿‡æ»¤å™¨å‘Actionä¸­ä¼ é€’æ•°æ®</h4><h5 id="æ–¹æ³•ä¸€-é€šè¿‡-RouteData-æ¥ä¼ å€¼"><a href="#æ–¹æ³•ä¸€-é€šè¿‡-RouteData-æ¥ä¼ å€¼" class="headerlink" title="æ–¹æ³•ä¸€ é€šè¿‡ RouteData æ¥ä¼ å€¼"></a>æ–¹æ³•ä¸€ é€šè¿‡ <code>RouteData</code> æ¥ä¼ å€¼</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;èµ‹å€¼ï¼š</span><br><span class="line">filterContext.RouteData.Values.Add(&quot;Tname&quot;,UName);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;è·å–ï¼š</span><br><span class="line"> var nm &#x3D; RouteData.Values[&quot;Tname&quot;];</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•é€šè¿‡ã€‚</p>
<p>è¯¦è§ï¼š <a href="http://stackoverflow.com/questions/1809042/asp-net-mvc-pass-object-from-custom-action-filter-to-action" target="_blank" rel="noopener">ASP.NET MVC Pass object from Custom Action Filter to Action - Stack Overflow</a></p>
<hr>
<h5 id="æ–¹æ³•äºŒ-é€šè¿‡-ActionParameters-æ¥ä¼ å€¼"><a href="#æ–¹æ³•äºŒ-é€šè¿‡-ActionParameters-æ¥ä¼ å€¼" class="headerlink" title="æ–¹æ³•äºŒ é€šè¿‡ ActionParameters æ¥ä¼ å€¼"></a>æ–¹æ³•äºŒ é€šè¿‡ <code>ActionParameters</code> æ¥ä¼ å€¼</h5><p>å¦ä¸€ç§æ–¹æ³•æ˜¯é€šè¿‡ <code>ActionParameters</code> æ¥è®¾ç½®ï¼Œä½†åœ¨Actionä¸­æ˜¯é€šè¿‡æ·»åŠ å‚æ•°è·å–å€¼çš„ï¼š  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;èµ‹å€¼ï¼š  </span><br><span class="line">filterContext.ActionParameters.Add(&quot;number&quot;, Id);</span><br><span class="line">&#x2F;&#x2F;è·å–ï¼š  </span><br><span class="line">public ActionResult Index(int number, Person person)</span><br></pre></td></tr></table></figure>

<p>è¯¦è§ï¼š <a href="http://haacked.com/archive/2010/02/21/manipulating-action-method-parameters.aspx/" target="_blank" rel="noopener">Manipulating Action Method Parameters - Youâ€™ve Been Haacked</a></p>
<p>é€šè¿‡æµ‹è¯•ï¼Œå‘ç°è¿™ç§æ–¹æ³•å¯ä»¥éšè—çœŸå®çš„Actionæ–¹æ³•ï¼š</p>
<p>æ¯”å¦‚ï¼š<br>è¯·æ±‚çš„é“¾æ¥æ˜¯ <code>http://localhost:47760/home/show?id=3&amp;name=abc</code><br>è€Œå®é™…çš„Actionä¸ºï¼š  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public ActionResult Show(string aaa)&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆå¯ä»¥é€šè¿‡æ·»åŠ ä¸€ä¸ª <code>ActionFilterAttribute</code> è¿‡æ»¤å™¨ï¼Œå¹¶è®¾ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">this.Uname&#x3D;getquerystring.name;</span><br><span class="line">filterContext.ActionParameters[&quot;aaa&quot;] &#x3D; UName;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·è™½ç„¶urlä¸­è¯·æ±‚çš„å‚æ•°æ—¶idå’Œnameï¼Œè€Œå®é™…è¯·æ±‚å‚æ•°æ˜¯<code>aaa</code>ï¼›  </p>
<p>è€Œå®é™…çš„è¯·æ±‚é“¾æ¥ <code>http://localhost:47760/home/show?aaa=haha</code> ä¹Ÿæ˜¯å¯ä»¥è®¿é—®çš„ã€‚ </p>
<hr>
<h5 id="æ–¹æ³•ä¸‰-é€šè¿‡-HttpContext-Items-æ¥ä¼ å€¼"><a href="#æ–¹æ³•ä¸‰-é€šè¿‡-HttpContext-Items-æ¥ä¼ å€¼" class="headerlink" title="æ–¹æ³•ä¸‰ é€šè¿‡ HttpContext.Items æ¥ä¼ å€¼"></a>æ–¹æ³•ä¸‰ é€šè¿‡ <code>HttpContext.Items</code> æ¥ä¼ å€¼</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;Filterä¸­èµ‹å€¼ï¼š  </span><br><span class="line">filterContext.HttpContext.Items[&quot;tname&quot;] &#x3D; UName+&quot;2324&quot;;</span><br><span class="line">&#x2F;&#x2F;Actionä¸­å–å€¼ï¼š  </span><br><span class="line">var nm&#x3D; HttpContext.Items[&quot;tname&quot;];</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•é€šè¿‡ã€‚</p>
<p>é€šè¿‡æµ‹è¯•å‘ç°å¥½åƒè¿™ç§æ–¹å¼æ¯”è¾ƒåˆé€‚ã€‚å› ä¸ºï¼šå¯çœ‹åˆ°<code>Items</code>çš„è§£é‡Šä¸ºï¼š  </p>
<blockquote>
<p>åœ¨æ´¾ç”Ÿç±»ä¸­é‡å†™æ—¶ï¼Œè·å–ä¸€ä¸ªé”®/å€¼é›†åˆï¼Œè¯¥é›†åˆåœ¨ HTTP è¯·æ±‚è¿‡ç¨‹ä¸­å¯ä»¥ç”¨äºåœ¨æ¨¡å—ä¸å¤„ç†ç¨‹åºä¹‹é—´ç»„ç»‡å’Œå…±äº«æ•°æ®ã€‚</p>
</blockquote>
<p>è¯¦è§ï¼š <a href="http://stackoverflow.com/questions/7039231/accessing-action-filters-data-in-controller-action" target="_blank" rel="noopener">asp.net mvc - Accessing Action Filter&#39;s data in Controller Action - Stack Overflow</a></p>
<hr>
<h4 id="WebAPIä¸­ä»Filterå‘Actionä¸­ä¼ é€’æ•°æ®"><a href="#WebAPIä¸­ä»Filterå‘Actionä¸­ä¼ é€’æ•°æ®" class="headerlink" title="WebAPIä¸­ä»Filterå‘Actionä¸­ä¼ é€’æ•°æ®"></a>WebAPIä¸­ä»Filterå‘Actionä¸­ä¼ é€’æ•°æ®</h4><p>å¦‚ä½•ä»Filterå‘Actionä¸­ä¼ é€’æ•°æ®ï¼Ÿ</p>
<h5 id="æ–¹æ³•ä¸€-é€šè¿‡-Request-Properties-æ¥ä¼ å€¼"><a href="#æ–¹æ³•ä¸€-é€šè¿‡-Request-Properties-æ¥ä¼ å€¼" class="headerlink" title="æ–¹æ³•ä¸€ é€šè¿‡ Request.Properties æ¥ä¼ å€¼"></a>æ–¹æ³•ä¸€ é€šè¿‡ <code>Request.Properties</code> æ¥ä¼ å€¼</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;Filterä¸­èµ‹å€¼ï¼š  </span><br><span class="line">actionContext.Request.Properties[&quot;id&quot;] &#x3D;&quot;134&quot;;</span><br><span class="line">&#x2F;&#x2F;Actionä¸­è·å–ï¼š </span><br><span class="line">var id&#x3D; Request.Properties[&quot;id&quot;];</span><br></pre></td></tr></table></figure>

<p>æˆ–ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;èµ‹å€¼:  </span><br><span class="line">actionContext.Request.Properties.Add(&quot;mykey&quot;, myObject);</span><br><span class="line">&#x2F;&#x2F;è·å–ï¼š  </span><br><span class="line">object myObject;</span><br><span class="line">Request.Properties.TryGetValue(&quot;mykey&quot;, out myObject);</span><br><span class="line">&#x2F;&#x2F;cast to MyType</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•é€šè¿‡ã€‚</p>
<p>è¯¦è§ï¼š </p>
<ul>
<li><a href="http://stackoverflow.com/questions/15059161/webapi-how-to-pass-state-from-filter-to-controller" target="_blank" rel="noopener">asp.net web api - WebApi: how to pass state from filter to controller? - Stack Overflow</a></li>
<li><a href="http://stackoverflow.com/questions/28357141/pass-an-object-from-actionfilter-onactionexecuting-to-an-apicontroller" target="_blank" rel="noopener">asp.net web api - Pass an object from ActionFilter.OnActionExecuting() to an ApiController - Stack Overflow</a></li>
</ul>
<hr>
<h5 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h5><p><code>MVC</code> ç”¨ : </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">filterContext.HttpContext.Items[UnitOfWorkRequestKey] &#x3D; UnitOfWork;</span><br></pre></td></tr></table></figure>

<p><code>Web API</code> ç”¨ :  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">actionContext.Request.Properties[UnitOfWorkRequestKey] &#x3D; UnitOfWork;</span><br></pre></td></tr></table></figure>

<p>è¯¦è§ï¼š <a href="http://stackoverflow.com/questions/14921041/web-api-action-filter-controller-tempdata-equivalent" target="_blank" rel="noopener">c# - Web API Action Filter - Controller.TempData equivalent? - Stack Overflow</a></p>
]]></content>
      <categories>
        <category>å¼€å‘ç¬”è®°</category>
      </categories>
      <tags>
        <tag>ASP.NET</tag>
        <tag>RestfulApi</tag>
      </tags>
  </entry>
  <entry>
    <title>Web APIä¸­è·¯ç”±ä¸­åŠ äº†actionåå…¶ä»–getã€postå¼€å¤´çš„æ–¹æ³•å¦‚ä½•ç›´æ¥è®¿é—®</title>
    <url>/2016/04/17/webapi-action-url-extend/</url>
    <content><![CDATA[<h4 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h4><p>é€šå¸¸æˆ‘ä»¬åœ¨è®¿é—®Web APIæ¥å£æ—¶ï¼Œé»˜è®¤è‡ªå¸¦çš„Actionæ–¹æ³•ä¸ºä»¥ä¸‹è¿™äº›ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public IEnumerable&lt;string&gt; Get()</span><br><span class="line">public string Get(int id)</span><br><span class="line">public void Post([FromBody]string value)</span><br><span class="line">public void Put(int id, [FromBody]string value)</span><br><span class="line">public void Delete(int id)</span><br></pre></td></tr></table></figure>

<p>é»˜è®¤çš„è·¯ç”±è¡¨è§„åˆ™ä¸ºï¼š</p>
<p>WebApiConfig.csæ–‡ä»¶ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">config.Routes.MapHttpRoute(</span><br><span class="line">    name: &quot;DefaultApi&quot;,</span><br><span class="line">    routeTemplate: &quot;api&#x2F;&#123;controller&#125;&#x2F;&#123;id&#125;&quot;,</span><br><span class="line">    defaults: new &#123; id &#x3D; RouteParameter.Optional &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>åŒ¹é…çš„Urlä¸ºï¼š</p>
<table>
<thead>
<tr>
<th>åŠ¨ä½œ</th>
<th>HTTPæ–¹æ³•</th>
<th>ç›¸å¯¹è·¯å¾„</th>
</tr>
</thead>
<tbody><tr>
<td>è·å–å…¨éƒ¨</td>
<td>GET</td>
<td>/api/products</td>
</tr>
<tr>
<td>æŒ‡å®š id è·å–</td>
<td>GET</td>
<td>/api/products/id</td>
</tr>
<tr>
<td>æ·»åŠ </td>
<td>POST</td>
<td>/api/products</td>
</tr>
<tr>
<td>æ›´æ–°</td>
<td>PUT</td>
<td>/api/products/id</td>
</tr>
<tr>
<td>åˆ é™¤</td>
<td>DELETE</td>
<td>/api/products/id</td>
</tr>
</tbody></table>
<hr>
<h4 id="ç‰¹æ®Šéœ€æ±‚"><a href="#ç‰¹æ®Šéœ€æ±‚" class="headerlink" title="ç‰¹æ®Šéœ€æ±‚"></a>ç‰¹æ®Šéœ€æ±‚</h4><p>æˆ‘ä»¬åœ¨åŒä¸€ä¸ª <code>Controller</code> ä¸­ï¼Œæœ‰æ—¶å€™å¯èƒ½éœ€è¦å®šä¹‰å¤šä¸ªç›¸åŒ <code>Method</code> çš„ <code>Action</code> æ–¹æ³•ï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public string Get(int id)</span><br><span class="line">public string GetList(string name)</span><br><span class="line">public string GetPeople(int id)</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆè¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°±è¦å†æ·»åŠ ä¸€ä¸ª <code>Route</code> è·¯ç”±è§„åˆ™ï¼Œæ·»åŠ ä¸€ä¸ª <code>{action}</code> çš„å ä½ç¬¦ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">  config.Routes.MapHttpRoute(</span><br><span class="line">    name: &quot;DefaultApiAction&quot;,</span><br><span class="line">    routeTemplate: &quot;api&#x2F;&#123;controller&#125;&#x2F;&#123;action&#125;&#x2F;&#123;id&#125;&quot;,</span><br><span class="line">    defaults: new &#123; id &#x3D; RouteParameter.Optional &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>ä½†è¿™æ ·æˆ‘ä»¬å°±ä¸èƒ½å†ç”¨ä¹‹å‰çš„é‚£ç§æ–¹å¼æ¥ç›´æ¥è®¿é—®é»˜è®¤çš„<code>Get</code>æˆ–<code>Post</code>ç­‰æ–¹æ³•äº†ï¼Œæ¯ä¸ªUrlé“¾æ¥éƒ½è¦åŠ ä¸Š<code>action</code>åç§°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;api&#x2F;products&#x2F;get</span><br><span class="line">&#x2F;api&#x2F;products&#x2F;getlist</span><br><span class="line">&#x2F;api&#x2F;products&#x2F;post</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·çš„è¯æˆ‘ä»¬å°±è§‰å¾—åè€Œæ›´éº»çƒ¦äº†ã€‚</p>
<hr>
<h4 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h4><p>é‚£æ˜¯ä¸æ˜¯æœ‰ä¸€ç§ä»€ä¹ˆæ ·çš„æ–¹æ³•èƒ½è®©æˆ‘ä»¬åœ¨æ·»åŠ å¤šä¸ªç›¸åŒç±»å‹çš„è¯·æ±‚æ–¹æ³•æ—¶ï¼Œæ—¢èƒ½ç›´æ¥è®¿é—®é»˜è®¤çš„æ–¹æ³•ï¼Œåˆèƒ½é€šè¿‡æ·»åŠ <code>action</code>åç§°æ¥è®¿é—®è‡ªå®šä¹‰æ·»åŠ çš„æ–¹æ³•å‘¢ï¼Ÿ</p>
<p>å…¶å®ï¼Œæˆ‘ä»¬åªè¦ä¿®æ”¹è·¯ç”±è§„åˆ™å¦‚ä¸‹å³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">using System.Net.Http;</span><br><span class="line">using System.Web.Http.Routing;</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F;å¯ç”¨çš„è·¯ç”±è¡¨</span><br><span class="line"></span><br><span class="line">            config.Routes.MapHttpRoute(&quot;DefaultApiWithId&quot;, </span><br><span class="line">                &quot;api&#x2F;&#123;controller&#125;&#x2F;&#123;id&#125;&quot;, </span><br><span class="line">                new &#123; id &#x3D; RouteParameter.Optional &#125;,</span><br><span class="line">                new &#123; id &#x3D; @&quot;\d+&quot; &#125;);</span><br><span class="line">            config.Routes.MapHttpRoute(&quot;DefaultApiWithAction&quot;,</span><br><span class="line">                &quot;api&#x2F;&#123;controller&#125;&#x2F;&#123;action&#125;&quot;);</span><br><span class="line"></span><br><span class="line">            config.Routes.MapHttpRoute(&quot;DefaultApiGet&quot;,</span><br><span class="line">                &quot;Api&#x2F;&#123;controller&#125;&quot;,</span><br><span class="line">                new &#123; action &#x3D; &quot;Get&quot; &#125;, </span><br><span class="line">                new &#123; httpMethod &#x3D; new HttpMethodConstraint(HttpMethod.Get) &#125;);</span><br><span class="line">            config.Routes.MapHttpRoute(&quot;DefaultApiPost&quot;, </span><br><span class="line">                &quot;Api&#x2F;&#123;controller&#125;&quot;,</span><br><span class="line">                new &#123; action &#x3D; &quot;Post&quot; &#125;,</span><br><span class="line">                new &#123; httpMethod &#x3D; new HttpMethodConstraint(HttpMethod.Post) &#125;);</span><br></pre></td></tr></table></figure>

<p>è¯¦ç»†è¯´æ˜è§ï¼š<br><a href="http://stackoverflow.com/questions/9499794/single-controller-with-multiple-get-methods-in-asp-net-web-api" target="_blank" rel="noopener">wcf web api - Single controller with multiple GET methods in ASP.NET Web API - Stack Overflow</a></p>
<hr>
<h4 id="å†å•°å—¦ä¸€å¥"><a href="#å†å•°å—¦ä¸€å¥" class="headerlink" title="å†å•°å—¦ä¸€å¥"></a>å†å•°å—¦ä¸€å¥</h4><p>å¦‚æœåŒä¸€ç§è¯·æ±‚æ–¹å¼ä¸‹ï¼Œæœ‰å¤šä¸ªåŒç±»å‹çš„æ–¹æ³•ï¼Œä¼šè¯·æ±‚é»˜è®¤çŠ¶æ€ä¸‹çš„é‚£ä¸ªï¼š<br>æ¯”å¦‚ getæ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public string Get()</span><br><span class="line">public string GetTop()</span><br></pre></td></tr></table></figure>

<p>å¦‚æœè¯·æ±‚ï¼š<code>http://localhost:47760/api/product</code><br>åˆ™è®¿é—®åˆ°çš„æ˜¯<code>Get()</code>æ–¹æ³•ï¼Œå³ä½¿åœ¨é¡ºåºä¸Š<code>GetTop()</code>æ’åœ¨<code>Get()</code>æ–¹æ³•å‰é¢ã€‚</p>
]]></content>
      <categories>
        <category>å¼€å‘ç¬”è®°</category>
      </categories>
      <tags>
        <tag>ASP.NET</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxä¸‹çš„è®¡åˆ’ä»»åŠ¡-Crontab</title>
    <url>/2016/03/28/the-plan-task-in-linux-cronlib/</url>
    <content><![CDATA[<p>Crontab  ç”¨äºè®¾ç½®å‘¨æœŸæ€§è¢«æ‰§è¡Œçš„ä»»åŠ¡çš„å·¥å…·</p>
<h4 id="æ£€æŸ¥cronæœåŠ¡"><a href="#æ£€æŸ¥cronæœåŠ¡" class="headerlink" title="æ£€æŸ¥cronæœåŠ¡"></a>æ£€æŸ¥cronæœåŠ¡</h4><p>æ£€æŸ¥crontabå·¥å…·æ˜¯å¦å®‰è£…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ crontab -l</span><br></pre></td></tr></table></figure>

<p>æ£€æŸ¥crondæœåŠ¡æ˜¯å¯åŠ¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$service crond status</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„: åœ¨Ubuntuç³»ç»Ÿä¸‹,æŸ¥çœ‹crontabæœåŠ¡æ˜¯: <code>service cron status</code></p>
<h4 id="å®‰è£…cron"><a href="#å®‰è£…cron" class="headerlink" title="å®‰è£…cron"></a>å®‰è£…cron</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install vixie-cron</span><br><span class="line">$ sudo apt-get install crontabs</span><br></pre></td></tr></table></figure>

<p>å¦‚æœåœ¨è¾“å…¥<code>crontab -l</code>ä¹‹å,æç¤ºâ€<code>no crontab for root</code>â€œçš„ä¿¡æ¯,åˆ™è¯´æ˜ç³»ç»Ÿä¸­æ²¡æœ‰è®¾ç½®crontab,éœ€è¦å…ˆè¿›è¡Œè®¾ç½®.</p>
<p>crontabæ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œç”¨æ¥å­˜æ”¾ä½ è¦è¿è¡Œçš„å‘½ä»¤ã€‚</p>
<p>æ‰§è¡Œå‘½ä»¤<code>crontab -e</code>,ä¼šæç¤º:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">no crontab for root - using an empty one</span><br><span class="line"></span><br><span class="line">Select an editor. ....</span><br><span class="line">.....</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·çš„æç¤º,ç„¶åé€‰æ‹©ä¸€ä¸ªç¼–è¾‘å™¨(è¿™é‡Œæˆ‘é€‰ vim:tiny)å³å¯.ç„¶åä¼šè¿›å…¥crontabç¼–è¾‘é¡µé¢,åœ¨ç¼–è¾‘é¡µé¢ä¸­ç›´æ¥è¾“å…¥<code>shift+:</code>,ç„¶åè¾“å…¥<code>wq</code>ä¿å­˜,ä¸€ä¸ªæ–°çš„crontabå°±ç”Ÿæˆäº†.<br>ç„¶åå†æ‰§è¡Œ<code>crontab -l</code> å°±èƒ½çœ‹åˆ°åˆšåˆšç¼–è¾‘è¿‡çš„crontabæ–‡ä»¶äº†.</p>
<p>å‚è€ƒ:<br><a href="http://www.2cto.com/os/201110/109339.html" target="_blank" rel="noopener">Linuxæç¤ºno crontab for rootçš„è§£å†³åŠæ³•</a><br><a href="http://www.cnblogs.com/daxian2012/articles/2589894.html" target="_blank" rel="noopener">Ubuntuä¸‹crontabå‘½ä»¤çš„ç”¨æ³•</a></p>
<hr>
<h4 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h4><p>æ‰§è¡Œ<code>crontab -e</code>æ‰“å¼€crontabæ–‡ä»¶ </p>
<p>å†™å…¥ä»¥ä¸‹å‘½ä»¤:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">*&#x2F;1 * * * * date &gt;&gt; &#x2F;tmp&#x2F;log.txt</span><br></pre></td></tr></table></figure>

<p>è¡¨ç¤º:æ¯åˆ†é’Ÿå°†å½“å‰æ—¶é—´å†™å…¥åˆ°tmpç›®å½•ä¸‹çš„log.txtæ–‡ä»¶ä¸­  </p>
<p>æŸ¥çœ‹log.txtæ–‡ä»¶,æ‰§è¡Œå‘½ä»¤:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ tail -f &#x2F;tmp&#x2F;log.txt</span><br></pre></td></tr></table></figure>

<p>è¡¨ç¤ºæŸ¥çœ‹log.txtæ–‡ä»¶çš„æœ€åå‡ è¡Œ  </p>
<p>æŸ¥çœ‹crontabæœåŠ¡è¿è¡ŒçŠ¶æ€:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ service cron status</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="crontab-é…ç½®æ–‡ä»¶çš„æ ¼å¼"><a href="#crontab-é…ç½®æ–‡ä»¶çš„æ ¼å¼" class="headerlink" title="crontab é…ç½®æ–‡ä»¶çš„æ ¼å¼"></a>crontab é…ç½®æ–‡ä»¶çš„æ ¼å¼</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">* * * * * COMMAND</span><br></pre></td></tr></table></figure>

<ul>
<li>1* åˆ†é’Ÿ 0~59</li>
<li>2* å°æ—¶ 0~23</li>
<li>3* æ—¥æœŸ 1~31</li>
<li>4* æœˆä»½ 1~12</li>
<li>5* æ˜ŸæœŸ 1-7 (0æˆ–è€…7è¡¨ç¤ºæ˜ŸæœŸå¤©)</li>
</ul>
<h5 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h5><ol>
<li><p>æ¯æ™š 21:30é‡å¯apache</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">30 21 * * * service httpd restart</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ¯æœˆ 1 10 22æ—¥çš„4:45é‡å¯apache</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">45 4 1,10,22 * * service httpd restart</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ¯æœˆ1åˆ°10æ—¥çš„4:45é‡å¯apache</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">45 4 1-10 * * service httpd restart</span><br></pre></td></tr></table></figure>
<p>ç”¨<code>-</code>è¡¨ç¤ºé—´éš”</p>
</li>
<li><p>æ¯éš”2åˆ†é’Ÿé‡å¯ApacheæœåŠ¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">*&#x2F;2 * * * * service httpd restart  &#x2F;&#x2F;å¶æ•°åˆ†é’Ÿå†…</span><br><span class="line">1-59&#x2F;2 * * * * service httpd restart  &#x2F;&#x2F;å¥‡æ•°åˆ†é’Ÿå†…</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ™šä¸Š11ç‚¹åˆ°æ—©ä¸Š7ç‚¹ä¹‹é—´,æ¯éš”ä¸€å°æ—¶é‡å¯apache</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">0 23-7&#x2F;1 * * * * service httpd retart</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ¯å¤©18ç‚¹åˆ°23ç‚¹ä¹‹é—´æ¯éš”30åˆ†é’Ÿé‡å¯apache</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">0-59&#x2F;30 18-23 * * * service httpd restart</span><br><span class="line">0,30 18-23 * * * service httpd restart</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h5><ol>
<li><code>*</code> è¡¨ç¤ºä»»ä½•æ—¶é—´éƒ½åŒ¹é…</li>
<li>å¯ä»¥ç”¨ <code>A,B,C</code> è¡¨ç¤ºAæˆ–è€…Bæˆ–è€…Cæ—¶æ‰§è¡Œå‘½ä»¤</li>
<li>å¯ä»¥ç”¨ <code>A-B</code> è¡¨ç¤ºAåˆ°Bä¹‹é—´æ—¶æ‰§è¡Œå‘½ä»¤</li>
<li>å¯ä»¥ç”¨ <code>*/A</code> è¡¨ç¤ºæ¯Aåˆ†é’Ÿ(å°æ—¶ç­‰)æ‰§è¡Œä¸€æ¬¡å‘½ä»¤</li>
</ol>
<h5 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h5><ol>
<li>ç¬¬ä¸‰å’Œç¬¬äº”ä¸ªåŸŸä¹‹é—´æ˜¯â€æˆ–â€çš„å…³ç³»:<br>å››æœˆçš„ç¬¬ä¸€ä¸ªæ˜ŸæœŸå¤©æ—©æ™¨1æ—¶59åˆ†è¿è¡Œa.sh<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">59 1 1-7 4 * test &#96;date + \%w&#96; -eq &amp;&amp; &#x2F;root&#x2F;a.sh</span><br></pre></td></tr></table></figure>

</li>
</ol>
<hr>
<h4 id="Crontabæ ¼å¼"><a href="#Crontabæ ¼å¼" class="headerlink" title="Crontabæ ¼å¼"></a>Crontabæ ¼å¼</h4><p><img data-src="https://cdn.jsdelivr.net/gh/leafney/blog-images@main/blog/20180924223515.png" alt="crontabæ ¼å¼"></p>
<p>minute   hour   day   month   week   command  </p>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li>minuteï¼šè¡¨ç¤ºåˆ†é’Ÿï¼Œå¯ä»¥æ˜¯ä»0åˆ°59ä¹‹é—´çš„ä»»ä½•æ•´æ•°ã€‚  </li>
<li>hourï¼šè¡¨ç¤ºå°æ—¶ï¼Œå¯ä»¥æ˜¯ä»0åˆ°23ä¹‹é—´çš„ä»»ä½•æ•´æ•°ã€‚  </li>
<li>dayï¼šè¡¨ç¤ºæ—¥æœŸï¼Œå¯ä»¥æ˜¯ä»1åˆ°31ä¹‹é—´çš„ä»»ä½•æ•´æ•°ã€‚  </li>
<li>monthï¼šè¡¨ç¤ºæœˆä»½ï¼Œå¯ä»¥æ˜¯ä»1åˆ°12ä¹‹é—´çš„ä»»ä½•æ•´æ•°ã€‚  </li>
<li>weekï¼šè¡¨ç¤ºæ˜ŸæœŸå‡ ï¼Œå¯ä»¥æ˜¯ä»0åˆ°7ä¹‹é—´çš„ä»»ä½•æ•´æ•°ï¼Œè¿™é‡Œçš„0æˆ–7ä»£è¡¨æ˜ŸæœŸæ—¥ã€‚  </li>
<li>commandï¼šè¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œå¯ä»¥æ˜¯ç³»ç»Ÿå‘½ä»¤ï¼Œä¹Ÿå¯ä»¥æ˜¯è‡ªå·±ç¼–å†™çš„è„šæœ¬æ–‡ä»¶ã€‚  </li>
</ul>
<h5 id="åœ¨ä»¥ä¸Šå„ä¸ªå­—æ®µä¸­ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ç‰¹æ®Šå­—ç¬¦ï¼š"><a href="#åœ¨ä»¥ä¸Šå„ä¸ªå­—æ®µä¸­ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ç‰¹æ®Šå­—ç¬¦ï¼š" class="headerlink" title="åœ¨ä»¥ä¸Šå„ä¸ªå­—æ®µä¸­ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ç‰¹æ®Šå­—ç¬¦ï¼š"></a>åœ¨ä»¥ä¸Šå„ä¸ªå­—æ®µä¸­ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ç‰¹æ®Šå­—ç¬¦ï¼š</h5><ul>
<li>æ˜Ÿå·ï¼ˆ*ï¼‰ï¼šä»£è¡¨æ‰€æœ‰å¯èƒ½çš„å€¼ï¼Œä¾‹å¦‚monthå­—æ®µå¦‚æœæ˜¯æ˜Ÿå·ï¼Œåˆ™è¡¨ç¤ºåœ¨æ»¡è¶³å…¶å®ƒå­—æ®µçš„åˆ¶çº¦æ¡ä»¶åæ¯æœˆéƒ½æ‰§è¡Œè¯¥å‘½ä»¤æ“ä½œã€‚</li>
<li>é€—å·ï¼ˆ,ï¼‰ï¼šå¯ä»¥ç”¨é€—å·éš”å¼€çš„å€¼æŒ‡å®šä¸€ä¸ªåˆ—è¡¨èŒƒå›´ï¼Œä¾‹å¦‚ï¼Œâ€œ1,2,5,7,8,9â€</li>
<li>ä¸­æ ï¼ˆ-ï¼‰ï¼šå¯ä»¥ç”¨æ•´æ•°ä¹‹é—´çš„ä¸­æ è¡¨ç¤ºä¸€ä¸ªæ•´æ•°èŒƒå›´ï¼Œä¾‹å¦‚â€œ2-6â€è¡¨ç¤ºâ€œ2,3,4,5,6â€</li>
<li>æ­£æ–œçº¿ï¼ˆ/ï¼‰ï¼šå¯ä»¥ç”¨æ­£æ–œçº¿æŒ‡å®šæ—¶é—´çš„é—´éš”é¢‘ç‡ï¼Œä¾‹å¦‚â€œ0-23/2â€è¡¨ç¤ºæ¯ä¸¤å°æ—¶æ‰§è¡Œä¸€æ¬¡ã€‚åŒæ—¶æ­£æ–œçº¿å¯ä»¥å’Œæ˜Ÿå·ä¸€èµ·ä½¿ç”¨ï¼Œä¾‹å¦‚*/10ï¼Œå¦‚æœç”¨åœ¨minuteå­—æ®µï¼Œè¡¨ç¤ºæ¯ååˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ã€‚</li>
</ul>
<hr>
<h4 id="Crontabå®šæ—¶è°ƒç”¨Pythonè„šæœ¬"><a href="#Crontabå®šæ—¶è°ƒç”¨Pythonè„šæœ¬" class="headerlink" title="Crontabå®šæ—¶è°ƒç”¨Pythonè„šæœ¬"></a>Crontabå®šæ—¶è°ƒç”¨Pythonè„šæœ¬</h4><ul>
<li>æŒ‡å®špythonè„šæœ¬æ–‡ä»¶ä¸­çš„å¤´ä¿¡æ¯  <code>#!/bin/sh</code></li>
</ul>
<hr>
<h4 id="ç›¸å…³é“¾æ¥"><a href="#ç›¸å…³é“¾æ¥" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h4><ul>
<li><a href="http://www.cnblogs.com/peida/archive/2013/01/08/2850483.html" target="_blank" rel="noopener">æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ50ï¼‰ï¼šcrontabå‘½ä»¤ - peida - åšå®¢å›­</a></li>
<li><a href="http://man.linuxde.net/crontab" target="_blank" rel="noopener">crontabå‘½ä»¤_Linux crontab å‘½ä»¤ç”¨æ³•è¯¦è§£ï¼šæäº¤å’Œç®¡ç†ç”¨æˆ·çš„éœ€è¦å‘¨æœŸæ€§æ‰§è¡Œçš„ä»»åŠ¡</a></li>
<li><a href="http://www.acwind.net/blog/archives/1304" target="_blank" rel="noopener">crontab ä¸­ python è„šæœ¬æ‰§è¡Œå¤±è´¥çš„è§£å†³æ–¹æ³• | CoCoçš„å°é»‘å±‹</a></li>
</ul>
]]></content>
      <categories>
        <category>å¼€å‘ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Crontab</tag>
      </tags>
  </entry>
</search>
